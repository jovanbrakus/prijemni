# Prijemni Ispit - Math Problems Archive

Archive of math problems from college entrance exams ("prijemni ispit") in Serbia and Slovenia.

## Language

- Problem statements and solutions are in Serbian (Latin script) or Slovenian.
- Code comments and file/folder names use ASCII-safe naming where practical.

## Structure

- `archive/` — original PDF documents (official test papers, problem sets, etc.). These are source-of-truth reference materials.
- Problems are organized by country, institution, and year.
- Each problem includes: statement, solution, and topic tags.

### Archive filename convention

Files in `archive/` follow the pattern: `{university_slug}_{faculty_slug}_{year}[_suffix].pdf`

- All lowercase, words separated by underscores, ASCII only (no diacritics).
- **university_slug**: e.g. `univerzitet_u_beogradu`, `univerzitet_u_novom_sadu`, `univerzitet_u_nisu`, `univerzitet_u_kragujevcu`, `univerzitet_odbrane`
- **faculty_slug**: e.g. `elektrotehnicki_fakultet`, `fakultet_organizacionih_nauka`, `matematicki_fakultet`
- **year**: 4-digit year of the exam
- **suffix** (optional): `_resenja` (solutions), `_grupa_1` / `_grupa_a` (exam group), `_zbirka` (problem collection), `_informator`, `_skripta`

Examples:
- `univerzitet_u_beogradu_elektrotehnicki_fakultet_2023.pdf`
- `univerzitet_u_beogradu_fizicki_fakultet_2019_grupa_a.pdf`
- `univerzitet_odbrane_vojna_akademija_2024_resenja.pdf`
- `univerzitet_u_novom_sadu_fakultet_tehnickih_nauka_zbirka.pdf`

## Current Scope

For now, we are focusing only on faculties from **Univerzitet u Beogradu**.
List of faculties in focus form "Uniterzitet u Beograd":
 * Elektrotehnicki fakultet
 * Fakultet Organizacionih Nauka
 * Fizicki fakultet
 * Gradjevinski fakultet
 * Rudarsko Geoloski fakultet
 * Saobracajni fakultet
 * Prirodno Matematiski fakultet
 * Masinski fakultet
 * Tehnolosko Metalurski fakultet

Years of interest: **2000 to present**.

## Math Conventions

- Use LaTeX for all mathematical notation.
- Use standard Serbian/Slovenian math terminology where applicable.
- Number formatting: decimal comma (e.g., 3,14), not decimal point.

## Database (`database/`)

### `documents.json`

Each entry represents one PDF in `archive/`. Fields:
- **filename** (string): PDF filename (primary key)
- **university** (string): university slug
- **faculty** (string): faculty slug
- **year** (integer | null): exam year
- **extra** (string | null): suffix after year (e.g. `grupa_a`, `drugi_rok`, `zbirka_2001_2018`)

### `categories.json`

Enum of problem categories. Each entry has:
- **id** (string): machine-readable identifier (e.g. `"quadratic_equations"`)
- **en** (string): English name
- **sr** (string): Serbian name

### `problems.json`

Each entry represents one problem extracted from a document. Fields:
- **document** (string): filename of the parent document from `documents.json`
- **order** (integer): problem number within the document (1-based)
- **solution_path** (string): full path with filename to the HTML file containing the solution
- **category** (string | null): category `id` from `categories.json`
- **difficulty** (float | null): AI-graded difficulty on a 1.0-10.0 scale. Anchored to entrance exam reality: 3.0 = easiest exam problems, 9.0 = hardest. null if not yet graded.

## Solution Generation

Solutions are generated by a Claude Code agent swarm using the prompt defined in `prompt.ts`.

- **Command**: `/solve_document <filename>` — solves all problems from the given PDF
- **Process**: The command reads the PDF, identifies problems, then spawns parallel Task agents (Opus 4.6) to solve each problem concurrently
- **Output**: Each solution is written to `problems/{stem}/{stem}_problem_{N}_solution.html`
- **Database**: After solving, `database/problems.json` is updated with new entries

## Difficulty Grading

- **Command**: `/grade_difficulty <filename>` — grades all solved problems from a document
- **Process**: Reads each HTML solution file, spawns parallel Task agents (Opus 4.6) to grade holistically, then runs a calibration pass for consistency
- **Scale**: 1.0-10.0 float, anchored to entrance exam difficulty (3.0 = easiest, 9.0 = hardest)
- **Database**: Updates `difficulty` field in `database/problems.json`

### ETF problem reference

When extracting problems from ETF (Elektrotehnički fakultet) entrance exams, use `univerzitet_u_beogradu_elektrotehnicki_fakultet_sema_zadataka.xlsx` as a reference. This spreadsheet contains:
- **Top table**: category abbreviations for each problem (1-20) by year
- **Bottom table**: difficulty ratings (1 = easy, 2 = medium, 3 = hard) for each problem by year

Use it to verify the correct number of problems, assign categories, and cross-check problem boundaries when the PDF is ambiguous.

## Content Guidelines

- Preserve original problem wording as closely as possible.
- Solutions should show full step-by-step work.
- Tag problems by topic (algebra, geometry, analysis, combinatorics, etc.).
