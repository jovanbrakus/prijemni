<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kubna jednacina - Vijetove formule</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: The equation x^3 + x^2 + ax + b = 0 (a, b in R) has roots 1 - sqrt(2) and 1 + sqrt(2).
           Find the product of all roots.

  Key insight: This is a cubic equation, so it has exactly 3 roots (counting multiplicity).
  We are given two of them: 1 - sqrt(2) and 1 + sqrt(2), which are conjugate surds.
  Let the third root be x_3.

  Vieta's formulas for x^3 + x^2 + ax + b = 0 (leading coefficient = 1):
    x_1 + x_2 + x_3 = -1       (negative of coefficient of x^2)
    x_1*x_2 + x_1*x_3 + x_2*x_3 = a   (coefficient of x)
    x_1 * x_2 * x_3 = -b        (negative of constant term)

  Step 1: Find x_3 using the sum of roots
    (1 - sqrt(2)) + (1 + sqrt(2)) + x_3 = -1
    2 + x_3 = -1
    x_3 = -3

  Step 2: Find the product of all roots
    x_1 * x_2 * x_3 = (1 - sqrt(2))(1 + sqrt(2))(-3)
    = (1 - 2)(-3)
    = (-1)(-3)
    = 3

  Verification:
    Product = (1 - sqrt(2))(1 + sqrt(2))(-3) = (1^2 - (sqrt(2))^2)(-3) = (1-2)(-3) = (-1)(-3) = 3

  Also verify with Vieta's: product of all roots = -b, so b = -3.
  Let's also check a:
    x_1*x_2 + x_1*x_3 + x_2*x_3
    = (1 - sqrt(2))(1 + sqrt(2)) + (1 - sqrt(2))(-3) + (1 + sqrt(2))(-3)
    = (-1) + (-3 + 3*sqrt(2)) + (-3 - 3*sqrt(2))
    = -1 - 3 + 3*sqrt(2) - 3 - 3*sqrt(2)
    = -7
    So a = -7.

  Full equation: x^3 + x^2 - 7x - 3 = 0
  Check x = 1 - sqrt(2):
    (1 - sqrt(2))^3 + (1 - sqrt(2))^2 - 7(1 - sqrt(2)) - 3
    (1 - sqrt(2))^2 = 1 - 2*sqrt(2) + 2 = 3 - 2*sqrt(2)
    (1 - sqrt(2))^3 = (1 - sqrt(2))(3 - 2*sqrt(2)) = 3 - 2*sqrt(2) - 3*sqrt(2) + 2*2
                     = 3 - 5*sqrt(2) + 4 = 7 - 5*sqrt(2)
    Sum: (7 - 5*sqrt(2)) + (3 - 2*sqrt(2)) + (-7 + 7*sqrt(2)) - 3
       = (7 + 3 - 7 - 3) + (-5 - 2 + 7)*sqrt(2)
       = 0 + 0*sqrt(2) = 0 ‚úì

  Answer: E) 3
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Kubna jednacina i Vijetove formule</h1>
  <p class="subtitle">Polinomi treceg stepena ‚Äî veza izmedju korena i koeficijenata</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Jednacina \( x^3 + x^2 + ax + b = 0 \) (\( a, b \in \mathbb{R} \)) ima resenja \( 1 - \sqrt{2} \) i \( 1 + \sqrt{2} \). Proizvod svih resenja date jednacine je:</p>
      <div class="options-grid">
        <div class="option">A) \( -2 \)</div>
        <div class="option">B) \( -3 \)</div>
        <div class="option">C) \( 2 \)</div>
        <div class="option">D) \( 0 \)</div>
        <div class="option correct">E) \( 3 \)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Kubna jednacina ima tacno tri korena. Dva su nam data: \( 1 - \sqrt{2} \) i \( 1 + \sqrt{2} \). Koristicemo Vijetove formule da iz zbira svih korena odredimo treci koren, a zatim izracunamo proizvod sva tri korena.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Vijetove formule za kubnu jednacinu (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Za jednacinu oblika \( x^3 + px^2 + qx + r = 0 \) sa korenima \( x_1, x_2, x_3 \) vaze sledece veze:</p>
        <div class="step-math">
          \[ x_1 + x_2 + x_3 = -p \]
        </div>
        <div class="step-math">
          \[ x_1 x_2 + x_1 x_3 + x_2 x_3 = q \]
        </div>
        <div class="step-math">
          \[ x_1 \cdot x_2 \cdot x_3 = -r \]
        </div>
        <p style="margin-top: 12px;">Ove formule povezuju korene polinoma sa njegovim koeficijentima, bez potrebe da eksplicitno resavamo jednacinu. Ime su dobile po francuskom matematicaru Fransoa Vijetu (Fran&ccedil;ois Vi&egrave;te, 1540&ndash;1603).</p>
      </div>
    </details>
    <details>
      <summary>Razlika kvadrata (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Za racunanje proizvoda konjugovanih iracionalnih izraza koristicemo:</p>
        <div class="step-math">
          \[ (a - b)(a + b) = a^2 - b^2 \]
        </div>
        <p style="margin-top: 8px;">U nasem slucaju: \( (1 - \sqrt{2})(1 + \sqrt{2}) = 1^2 - (\sqrt{2})^2 = 1 - 2 = -1 \).</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="400"></canvas>
    </div>
    <p class="canvas-caption">Grafik funkcije \( f(x) = x^3 + x^2 - 7x - 3 \) sa oznacenim korenima</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Identifikujmo poznate velicine</div>
        <p>Jednacina je:</p>
        <div class="step-math">
          \[ x^3 + x^2 + ax + b = 0 \]
        </div>
        <p>Ovo je kubna jednacina (stepen 3), pa ima tacno <strong>tri korena</strong> (racunajuci visestrukost). Dva poznata korena su:</p>
        <div class="step-math">
          \[ x_1 = 1 - \sqrt{2}, \qquad x_2 = 1 + \sqrt{2} \]
        </div>
        <p>Oznacimo treci (nepoznati) koren sa \( x_3 \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Primenimo Vijetovu formulu za zbir korena</div>
        <p>Koeficijent uz \( x^2 \) je \( 1 \), pa po Vijetovoj formuli:</p>
        <div class="step-math">
          \[ x_1 + x_2 + x_3 = -1 \]
        </div>
        <p>Izracunajmo zbir prva dva korena:</p>
        <div class="step-math">
          \[ x_1 + x_2 = (1 - \sqrt{2}) + (1 + \sqrt{2}) = 2 \]
        </div>
        <p>Primetimo da se clanovi sa \( \sqrt{2} \) poniste: \( -\sqrt{2} + \sqrt{2} = 0 \). Ostaje samo \( 1 + 1 = 2 \).</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je zbir korena jednak \( -1 \)?</summary>
            <div class="detail-content">
              Za polinom \( x^3 + cx^2 + \ldots = 0 \), zbir svih korena je \( -c \). U nasem slucaju koeficijent uz \( x^2 \) je \( 1 \), pa je zbir korena \( -1 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Odredimo treci koren</div>
        <p>Uvrstimo poznati zbir u Vijetovu formulu:</p>
        <div class="step-math">
          \[ 2 + x_3 = -1 \]
        </div>
        <div class="step-math">
          \[ x_3 = -1 - 2 = -3 \]
        </div>
        <p>Dakle, treci koren jednacine je \( x_3 = -3 \).</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Ima li smisla da je treci koren racionalan broj?</summary>
            <div class="detail-content">
              Da! Koeficijenti jednacine su realni (cak racionalni) brojevi. Iracionalni koreni dolaze u konjugovanim parovima (\( 1 - \sqrt{2} \) i \( 1 + \sqrt{2} \)), a treci koren mora biti takav da svi Vijetovi izrazi daju racionalne vrednosti. To je sasvim konzistentno sa \( x_3 = -3 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo proizvod svih korena</div>
        <p>Sada mozemo da izracunamo trazeni proizvod:</p>
        <div class="step-math">
          \[ x_1 \cdot x_2 \cdot x_3 = (1 - \sqrt{2})(1 + \sqrt{2}) \cdot (-3) \]
        </div>
        <p>Prvo izracunajmo proizvod konjugovanih korena koristeci formulu za razliku kvadrata:</p>
        <div class="step-math">
          \[ (1 - \sqrt{2})(1 + \sqrt{2}) = 1^2 - (\sqrt{2})^2 = 1 - 2 = -1 \]
        </div>
        <p>Sada pomnozimo sa trecim korenom:</p>
        <div class="step-math">
          \[ (-1) \cdot (-3) = 3 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Moze li se ovo proveriti pomocu Vijetove formule za proizvod?</summary>
            <div class="detail-content">
              <p>Naravno! Po Vijetovoj formuli za kubnu jednacinu \( x^3 + x^2 + ax + b = 0 \):</p>
              <p>\( x_1 \cdot x_2 \cdot x_3 = -b \)</p>
              <p>Posto smo dobili da je proizvod jednak \( 3 \), to znaci da je \( -b = 3 \), odnosno \( b = -3 \).</p>
              <p style="margin-top: 8px;">Mozemo i da rekonstruisemo celu jednacinu. Racunamo \( a \):</p>
              <p>\( x_1 x_2 + x_1 x_3 + x_2 x_3 = (-1) + (1-\sqrt{2})(-3) + (1+\sqrt{2})(-3) \)</p>
              <p>\( = -1 + (-3 + 3\sqrt{2}) + (-3 - 3\sqrt{2}) = -1 - 6 = -7 \)</p>
              <p>Dakle, \( a = -7 \) i jednacina je \( x^3 + x^2 - 7x - 3 = 0 \).</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Verifikacija: proverimo da \( x_1 = 1 - \sqrt{2} \) zadovoljava jednacinu</div>
        <p>Jednacina je \( x^3 + x^2 - 7x - 3 = 0 \). Uvrstimo \( x = 1 - \sqrt{2} \):</p>
        <div class="step-math">
          \[ (1 - \sqrt{2})^2 = 3 - 2\sqrt{2} \]
        </div>
        <div class="step-math">
          \[ (1 - \sqrt{2})^3 = (1 - \sqrt{2})(3 - 2\sqrt{2}) = 7 - 5\sqrt{2} \]
        </div>
        <p>Saberimo sve clanove:</p>
        <div class="step-math">
          \[ \underbrace{(7 - 5\sqrt{2})}_{x^3} + \underbrace{(3 - 2\sqrt{2})}_{x^2} + \underbrace{(-7 + 7\sqrt{2})}_{-7x} + \underbrace{(-3)}_{b} \]
        </div>
        <div class="step-math">
          \[ = (7 + 3 - 7 - 3) + (-5 - 2 + 7)\sqrt{2} = 0 + 0 = 0 \; \checkmark \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kada su nam data dva od tri korena kubne jednacine, <strong>Vijetove formule nam omogucavaju da odredimo treci koren bez resavanja jednacine</strong>. Ovde je kljucna cinjenica da je zbir svih korena jednak \( -1 \) (negativni koeficijent uz \( x^2 \)). Konjugovani iracionalni koreni \( 1 \pm \sqrt{2} \) imaju zbir \( 2 \), pa treci koren mora biti \( -3 \). Proizvod se zatim lako racuna koristeci formulu za razliku kvadrata: \( (1-\sqrt{2})(1+\sqrt{2}) = -1 \), pa je ukupan proizvod \( (-1)(-3) = 3 \).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( x_1 \cdot x_2 \cdot x_3 = 3 \)</div>
    <div class="answer-option">Tacan odgovor je E) \( 3 \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaborav na treci koren:</strong> Cesta greska je mnozenje samo dva data korena: \( (1-\sqrt{2})(1+\sqrt{2}) = -1 \), sto bi dalo odgovor A). Ali kubna jednacina ima tri korena, ne dva!</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresan znak u Vijetovoj formuli:</strong> Zbir korena nije \( +1 \) vec \( -1 \). Za jednacinu \( x^3 + px^2 + \ldots = 0 \), zbir korena je \( -p \), ne \( p \). Pogresan znak ovde daje \( x_3 = -1 \) umesto \( x_3 = -3 \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Greska sa proizvodom \( (1 - \sqrt{2})(1 + \sqrt{2}) \):</strong> Neki ucenici pogresno racunaju ovaj proizvod kao \( 1 + 2 = 3 \) umesto \( 1 - 2 = -1 \). Formula je razlika, ne zbir!</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Odredi vrednosti parametara \( a \) i \( b \) u jednacini \( x^3 + x^2 + ax + b = 0 \), a zatim proveri da sva tri korena (\( 1 - \sqrt{2} \), \( 1 + \sqrt{2} \) i \( -3 \)) zaista zadovoljavaju tu jednacinu.</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Iz Vijetovih formula:</p>
        <p>\( a = x_1 x_2 + x_1 x_3 + x_2 x_3 = (-1) + (-3+3\sqrt{2}) + (-3-3\sqrt{2}) = -7 \)</p>
        <p>\( b = -x_1 x_2 x_3 = -3 \)</p>
        <p style="margin-top: 8px;">Jednacina je: \( x^3 + x^2 - 7x - 3 = 0 \).</p>
        <p style="margin-top: 8px;">Provera za \( x_3 = -3 \): \( (-3)^3 + (-3)^2 - 7 \cdot (-3) - 3 = -27 + 9 + 21 - 3 = 0 \; \checkmark \)</p>
        <p style="margin-top: 4px;">Alternativno, mozemo faktorisati: \( (x + 3)(x^2 - 2x - 1) = 0 \), gde \( x^2 - 2x - 1 = 0 \) ima resenja \( x = 1 \pm \sqrt{2} \; \checkmark \)</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Function: f(x) = x^3 + x^2 - 7x - 3
    function f(x) {
      return x * x * x + x * x - 7 * x - 3;
    }

    // Roots
    const r1 = 1 - Math.sqrt(2);  // ~ -0.414
    const r2 = 1 + Math.sqrt(2);  // ~ 2.414
    const r3 = -3;

    // Plot range
    const xMin = -4.5;
    const xMax = 3.5;
    const yMin = -20;
    const yMax = 25;

    // Margins
    const mLeft = 60;
    const mRight = 30;
    const mTop = 30;
    const mBottom = 50;
    const plotW = W - mLeft - mRight;
    const plotH = H - mTop - mBottom;

    function toCanvasX(x) {
      return mLeft + (x - xMin) / (xMax - xMin) * plotW;
    }
    function toCanvasY(y) {
      return mTop + (yMax - y) / (yMax - yMin) * plotH;
    }

    // Grid lines
    ctx.strokeStyle = 'rgba(51, 65, 85, 0.5)';
    ctx.lineWidth = 0.5;
    for (let x = Math.ceil(xMin); x <= Math.floor(xMax); x++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), mTop);
      ctx.lineTo(toCanvasX(x), mTop + plotH);
      ctx.stroke();
    }
    for (let y = Math.ceil(yMin / 5) * 5; y <= yMax; y += 5) {
      ctx.beginPath();
      ctx.moveTo(mLeft, toCanvasY(y));
      ctx.lineTo(mLeft + plotW, toCanvasY(y));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis
    if (yMin < 0 && yMax > 0) {
      ctx.beginPath();
      ctx.moveTo(mLeft, toCanvasY(0));
      ctx.lineTo(mLeft + plotW, toCanvasY(0));
      ctx.stroke();
    }
    // y-axis
    if (xMin < 0 && xMax > 0) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), mTop);
      ctx.lineTo(toCanvasX(0), mTop + plotH);
      ctx.stroke();
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = Math.ceil(xMin); x <= Math.floor(xMax); x++) {
      if (x === 0) continue;
      ctx.fillText(x.toString(), toCanvasX(x), toCanvasY(0) + 18);
    }
    ctx.textAlign = 'right';
    for (let y = Math.ceil(yMin / 5) * 5; y <= yMax; y += 5) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), toCanvasX(0) - 8, toCanvasY(y) + 4);
    }

    // Plot the curve
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    const steps = 500;
    for (let i = 0; i <= steps; i++) {
      const x = xMin + (xMax - xMin) * i / steps;
      const y = f(x);
      const cx = toCanvasX(x);
      const cy = toCanvasY(y);
      if (cy < mTop - 20 || cy > mTop + plotH + 20) {
        if (i > 0) ctx.stroke();
        ctx.beginPath();
        continue;
      }
      if (i === 0) {
        ctx.moveTo(cx, cy);
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();

    // Mark roots
    const roots = [
      { val: r3, label: 'x\u2083 = -3', color: '#f472b6', offsetY: -18, offsetX: 20 },
      { val: r1, label: 'x\u2081 = 1-\u221A2', color: '#34d399', offsetY: -18, offsetX: 5 },
      { val: r2, label: 'x\u2082 = 1+\u221A2', color: '#34d399', offsetY: -18, offsetX: -5 }
    ];

    roots.forEach(function(root) {
      const cx = toCanvasX(root.val);
      const cy = toCanvasY(0);

      // Dot
      ctx.beginPath();
      ctx.arc(cx, cy, 6, 0, 2 * Math.PI);
      ctx.fillStyle = root.color;
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = root.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(root.label, cx + root.offsetX, cy + root.offsetY);
    });

    // Product annotation
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Proizvod korena: (1-\u221A2)(1+\u221A2)(\u22123) = (\u22121)(\u22123) = 3', W / 2, H - 12);

    // Function label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('f(x) = x\u00B3 + x\u00B2 \u2212 7x \u2212 3', mLeft + 10, mTop + 20);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kubna jednacina - Vijetove formule",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kubna jednacina", "Vijetove formule", "koreni polinoma", "razlika kvadrata", "polinomi"]
}
BRAINSPARK_META-->