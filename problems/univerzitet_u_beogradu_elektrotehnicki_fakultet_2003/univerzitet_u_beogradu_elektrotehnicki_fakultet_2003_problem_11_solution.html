<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visina valjka maksimalne zapremine upisanog u loptu</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Cylinder of maximum volume inscribed in a sphere of radius R = sqrt(3). Find height h.

SETUP: Let r = radius of cylinder, h = height of cylinder.
The cylinder is inscribed in a sphere of radius R = sqrt(3).

STEP 1: Geometric constraint.
Consider a cross-section through the axis of the cylinder.
The cylinder's top edge touches the sphere. A point on the top rim has coordinates (r, h/2).
By the sphere equation: r^2 + (h/2)^2 = R^2 = 3.
So: r^2 = 3 - h^2/4.

STEP 2: Volume as a function of h.
V = pi * r^2 * h = pi * (3 - h^2/4) * h = pi * (3h - h^3/4).
Domain: h > 0, and r^2 > 0 => h^2/4 < 3 => h < 2*sqrt(3).

STEP 3: Find maximum.
dV/dh = pi * (3 - 3h^2/4) = 0
3 - 3h^2/4 = 0
h^2 = 4
h = 2 (taking positive root).

STEP 4: Verify it's a maximum.
d^2V/dh^2 = pi * (-6h/4) = pi * (-3h/2).
At h = 2: d^2V/dh^2 = pi * (-3) < 0. Confirmed maximum.

STEP 5: Check endpoint behavior.
V(0) = 0, V(2*sqrt(3)) = 0, V(2) = pi*(6 - 2) = 4*pi > 0. Maximum confirmed.

ANSWER: B) h = 2
</script>

<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  background: #1e293b;
  border: 2px solid #a78bfa;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin-bottom: 1.5rem;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
  font-size: 0.95rem;
  color: #a78bfa;
}

.checkpoint-label {
  font-weight: 700;
  margin-right: 0.25rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 600px) {
  body { padding: 0.5rem; }
  .card, .problem-statement, details .detail-content, .final-answer,
  .insight-box, .challenge-box { padding: 1rem; }
  .options-grid { grid-template-columns: repeat(3, 1fr); }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Visina valjka maksimalne zapremine upisanog u loptu</h1>
  <p class="subtitle">Optimizacija &mdash; primena izvoda</p>

  <!-- PROBLEM STATEMENT -->
  <div class="problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Zadatak</div>
    <p>Visina valjka maksimalne zapremine upisanog u loptu polupre&#269;nika \(\sqrt{3}\) jednaka je:</p>
    <div class="options-grid">
      <div class="option">A) \(1\)</div>
      <div class="option correct">B) \(2\)</div>
      <div class="option">C) \(2\sqrt{2}\)</div>
      <div class="option">D) \(\sqrt{3}\)</div>
      <div class="option">E) \(\dfrac{3}{2}\)</div>
      <div class="option">N) Ne znam</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan re&#353;avanja</div>
    <ol class="plan-list">
      <li>Postaviti vezu izme&#273;u polupre&#269;nika valjka \(r\), visine \(h\) i polupre&#269;nika lopte \(R\)</li>
      <li>Izraziti zapreminu valjka kao funkciju samo jedne promenljive \(h\)</li>
      <li>Na&#263;i prvi izvod, izjedna&#269;iti ga sa nulom i re&#353;iti po \(h\)</li>
      <li>Proveriti da je u pitanju maksimum (drugi izvod ili analiza znaka)</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>Podsetnik iz teorije</summary>
    <div class="detail-content">
      <p><strong>Zapremina valjka:</strong></p>
      \[V = \pi r^2 h\]
      <p style="margin-top:0.75rem"><strong>Jedna&#269;ina sfere</strong> polupre&#269;nika \(R\) sa centrom u koordinatnom po&#269;etku:</p>
      \[x^2 + y^2 + z^2 = R^2\]
      <p style="margin-top:0.75rem"><strong>Uslov za valjak upisan u sferu:</strong> Ako je osa valjka du&#382; \(z\)-ose, gornja kruga ta&#269;ka ima koordinate \((r, h/2)\) u preseku. Pitagorina teorema daje:</p>
      \[r^2 + \left(\frac{h}{2}\right)^2 = R^2\]
      <p style="margin-top:0.75rem"><strong>Potreban uslov za ekstremum:</strong> \(V'(h) = 0\) u unutra&#353;njoj ta&#269;ki domena.</p>
      <p style="margin-top:0.75rem"><strong>Dovoljan uslov:</strong> Ako je \(V''(h_0) < 0\), onda je \(h_0\) ta&#269;ka lokalnog maksimuma.</p>
    </div>
  </details>

  <!-- VISUAL AID: CROSS-SECTION DIAGRAM -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Presek lopte i valjka</div>
    <p class="muted" style="margin-bottom:0.75rem;">Aksijalni presek: krug (lopta) sa upisanim pravougaonikom (valjak). Ozna&#269;eni su polupre&#269;nik lopte \(R\), polupre&#269;nik valjka \(r\) i visina \(h\).</p>
    <div class="canvas-wrap">
      <canvas id="diagram" width="600" height="600"></canvas>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Re&#353;enje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Geometrijska veza</div>
      <p>Posmatrajmo aksijalni presek (presek ravni koja sadr&#382;i osu valjka). Lopta se preseca u krug polupre&#269;nika \(R = \sqrt{3}\), a valjak u pravougaonik &#353;irine \(2r\) i visine \(h\).</p>
      <p>Temena pravougaonika le&#382;e na kru&#382;nici. Za gornje desno teme va&#382;i:</p>
      \[r^2 + \left(\frac{h}{2}\right)^2 = R^2 = 3\]
      <p>Odatle izra&#382;avamo:</p>
      \[r^2 = 3 - \frac{h^2}{4}\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Za \(h = 0\) dobijamo \(r = \sqrt{3}\) (najve&#263;i mogu&#263;i polupre&#269;nik), a za \(h = 2\sqrt{3}\) dobijamo \(r = 0\). Ima smisla!
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Zapremina kao funkcija visine</div>
      <p>Zamenjujemo izraz za \(r^2\) u formulu za zapreminu:</p>
      \[V(h) = \pi r^2 h = \pi \left(3 - \frac{h^2}{4}\right) h = \pi \left(3h - \frac{h^3}{4}\right)\]
      <p>Domen: \(h \in (0,\; 2\sqrt{3})\), jer mora biti \(r^2 > 0\) i \(h > 0\).</p>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Prvi izvod i stacionarne ta&#269;ke</div>
      <p>Diferenciramo po \(h\):</p>
      \[V'(h) = \pi \left(3 - \frac{3h^2}{4}\right)\]
      <p>Izjedna&#269;avamo sa nulom:</p>
      \[3 - \frac{3h^2}{4} = 0\]
      \[\frac{3h^2}{4} = 3\]
      \[h^2 = 4\]
      \[\boxed{h = 2}\]
      <p>(uzimamo pozitivno re&#353;enje jer je \(h > 0\))</p>
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Da li je \(h = 2\) u dozvoljenom domenu? \(0 < 2 < 2\sqrt{3} \approx 3{,}46\). Jeste!
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Potvrda da je maksimum</div>
      <p>Ra&#269;unamo drugi izvod:</p>
      \[V''(h) = \pi \left(-\frac{6h}{4}\right) = -\frac{3\pi h}{2}\]
      <p>Za \(h = 2\):</p>
      \[V''(2) = -\frac{3\pi \cdot 2}{2} = -3\pi < 0\]
      <p>Po&#353;to je drugi izvod negativan, re&#269; je o <strong>lokalnom maksimumu</strong>. Kako je to jedina stacionarna ta&#269;ka na otvorenom intervalu, i po&#353;to je \(V(0^+) = 0\) i \(V((2\sqrt{3})^-) = 0\), ovo je i <strong>globalni maksimum</strong>.</p>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Izra&#269;unavanje maksimalne zapremine</div>
      <p>Za potpunost, izra&#269;unajmo i kolika je ta maksimalna zapremina:</p>
      <p>Pri \(h = 2\): \(r^2 = 3 - \frac{4}{4} = 2\), dakle \(r = \sqrt{2}\).</p>
      \[V_{\max} = \pi \cdot 2 \cdot 2 = 4\pi\]
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Klju&#269;ni uvid</div>
    <p>Klju&#269; problema je eliminacija jedne promenljive kori&#353;&#263;enjem geometrijskog uslova \(r^2 + (h/2)^2 = R^2\). Time se zadatak optimizacije sa dva parametra svodi na optimizaciju funkcije jedne promenljive. Kvadratna veza \(r^2 = R^2 - h^2/4\) direktno ulazi u formulu za zapreminu, daju&#263;i polinom tre&#263;eg stepena po \(h\) &#269;iji se ekstremum lako nalazi.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Kona&#269;an odgovor</div>
    <div class="value">B) \(\;h = 2\)</div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> &#268;este gre&#353;ke</div>
    <div class="pitfall">
      <strong>Me&#353;anje \(R\) i \(r\):</strong> Polupre&#269;nik lopte je \(R = \sqrt{3}\), a polupre&#269;nik valjka je \(r\) &mdash; to su razli&#269;ite veli&#269;ine. Poga&#273;anje da je \(h = \sqrt{3}\) (odgovor D) dolazi od konfuzije sa polupre&#269;nikom lopte.
    </div>
    <div class="pitfall">
      <strong>Pogre&#353;na veza izme&#273;u \(r\), \(h\) i \(R\):</strong> &#268;esta gre&#353;ka je pisanje \(r^2 + h^2 = R^2\) umesto \(r^2 + (h/2)^2 = R^2\). Visina se deli sa 2 jer se od centra lopte do gornje/donje baze meri \(h/2\), ne \(h\).
    </div>
    <div class="pitfall">
      <strong>Zaborav provere da je ekstremum maksimum:</strong> Uvek proveriti znak drugog izvoda ili analizirati pona&#353;anje funkcije na krajevima intervala. U ovom slu&#269;aju, \(V(0) = 0\) i \(V(2\sqrt{3}) = 0\), pa jedina stacionarna ta&#269;ka mora biti maksimum.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Kolika je visina <strong>kupe</strong> maksimalne zapremine upisane u istu loptu polupre&#269;nika \(\sqrt{3}\)?</p>
    <p class="muted" style="margin-top:0.5rem;font-size:0.9rem;">Savet: Zapremina kupe je \(V = \frac{1}{3}\pi r^2 h\). Ako je vrh kupe na sferi, postavi vezu \(r^2 = R^2 - (h - R)^2\) (centar sfere na rastojanju \(R\) od baze kupe). Diferencirati i re&#353;iti.</p>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('diagram');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  // Center of the diagram
  var cx = W / 2;
  var cy = H / 2;

  // Scale: sphere radius R = sqrt(3) maps to 200px
  var R_val = Math.sqrt(3);
  var scale = 200 / R_val; // ~115.47 px per unit

  // Cylinder optimal: h = 2, r = sqrt(2)
  var h_val = 2;
  var r_val = Math.sqrt(2);

  var R_px = R_val * scale;
  var r_px = r_val * scale;
  var halfH_px = (h_val / 2) * scale;

  // Clear
  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // Draw coordinate axes (light, thin)
  ctx.strokeStyle = '#334155';
  ctx.lineWidth = 1;
  ctx.setLineDash([4, 4]);
  // Horizontal axis
  ctx.beginPath();
  ctx.moveTo(cx - R_px - 40, cy);
  ctx.lineTo(cx + R_px + 40, cy);
  ctx.stroke();
  // Vertical axis
  ctx.beginPath();
  ctx.moveTo(cx, cy - R_px - 40);
  ctx.lineTo(cx, cy + R_px + 40);
  ctx.stroke();
  ctx.setLineDash([]);

  // Draw the circle (sphere cross-section)
  ctx.strokeStyle = '#60a5fa';
  ctx.lineWidth = 2.5;
  ctx.beginPath();
  ctx.arc(cx, cy, R_px, 0, 2 * Math.PI);
  ctx.stroke();

  // Draw the rectangle (cylinder cross-section)
  var rectLeft = cx - r_px;
  var rectRight = cx + r_px;
  var rectTop = cy - halfH_px;
  var rectBottom = cy + halfH_px;

  ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
  ctx.fillRect(rectLeft, rectTop, 2 * r_px, 2 * halfH_px);

  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 2.5;
  ctx.strokeRect(rectLeft, rectTop, 2 * r_px, 2 * halfH_px);

  // Mark the four corners on the circle with dots
  var corners = [
    [cx - r_px, cy - halfH_px],
    [cx + r_px, cy - halfH_px],
    [cx + r_px, cy + halfH_px],
    [cx - r_px, cy + halfH_px]
  ];
  corners.forEach(function(pt) {
    ctx.beginPath();
    ctx.arc(pt[0], pt[1], 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();
  });

  // Draw radius R from center to upper-right corner
  ctx.strokeStyle = '#f472b6';
  ctx.lineWidth = 2;
  ctx.setLineDash([6, 3]);
  ctx.beginPath();
  ctx.moveTo(cx, cy);
  ctx.lineTo(cx + r_px, cy - halfH_px);
  ctx.stroke();
  ctx.setLineDash([]);

  // Label R
  ctx.fillStyle = '#f472b6';
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('R = \u221A3', cx + r_px / 2 + 16, cy - halfH_px / 2 - 10);

  // Draw r annotation (horizontal from center to right edge of cylinder at center)
  ctx.strokeStyle = '#a78bfa';
  ctx.lineWidth = 1.5;
  var annoY = cy + halfH_px + 30;
  // Arrow line
  ctx.beginPath();
  ctx.moveTo(cx, annoY);
  ctx.lineTo(cx + r_px, annoY);
  ctx.stroke();
  // Left tick
  ctx.beginPath();
  ctx.moveTo(cx, annoY - 5);
  ctx.lineTo(cx, annoY + 5);
  ctx.stroke();
  // Right tick
  ctx.beginPath();
  ctx.moveTo(cx + r_px, annoY - 5);
  ctx.lineTo(cx + r_px, annoY + 5);
  ctx.stroke();
  // Label
  ctx.fillStyle = '#a78bfa';
  ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('r = \u221A2', cx + r_px / 2, annoY + 20);

  // Draw h annotation (vertical, on the right side)
  var annoX = cx + r_px + 30;
  ctx.strokeStyle = '#34d399';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(annoX, rectTop);
  ctx.lineTo(annoX, rectBottom);
  ctx.stroke();
  // Top tick
  ctx.beginPath();
  ctx.moveTo(annoX - 5, rectTop);
  ctx.lineTo(annoX + 5, rectTop);
  ctx.stroke();
  // Bottom tick
  ctx.beginPath();
  ctx.moveTo(annoX - 5, rectBottom);
  ctx.lineTo(annoX + 5, rectBottom);
  ctx.stroke();
  // Label
  ctx.fillStyle = '#34d399';
  ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('h = 2', annoX + 8, cy + 5);

  // Draw h/2 annotation (from center to top edge, inside)
  ctx.strokeStyle = '#e2e8f0';
  ctx.lineWidth = 1;
  ctx.setLineDash([3, 3]);
  ctx.beginPath();
  ctx.moveTo(cx + 8, cy);
  ctx.lineTo(cx + 8, rectTop);
  ctx.stroke();
  ctx.setLineDash([]);
  ctx.fillStyle = '#e2e8f0';
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('h/2', cx + 14, cy - halfH_px / 2 + 4);

  // Draw the right triangle highlight: center -> (r, 0) -> (r, h/2)
  ctx.strokeStyle = '#f472b6';
  ctx.lineWidth = 1.5;
  ctx.setLineDash([3, 3]);
  // horizontal from center to (r, 0)
  ctx.beginPath();
  ctx.moveTo(cx, cy);
  ctx.lineTo(cx + r_px, cy);
  ctx.stroke();
  // vertical from (r, 0) to (r, -h/2)
  ctx.beginPath();
  ctx.moveTo(cx + r_px, cy);
  ctx.lineTo(cx + r_px, cy - halfH_px);
  ctx.stroke();
  ctx.setLineDash([]);

  // Right angle marker
  var sq = 10;
  ctx.strokeStyle = '#f472b6';
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.moveTo(cx + r_px - sq, cy);
  ctx.lineTo(cx + r_px - sq, cy - sq);
  ctx.lineTo(cx + r_px, cy - sq);
  ctx.stroke();

  // Label r along bottom of triangle
  ctx.fillStyle = '#94a3b8';
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('r', cx + r_px / 2, cy - 8);

  // Label h/2 along right side of triangle
  ctx.textAlign = 'left';
  ctx.fillText('h/2', cx + r_px + 6, cy - halfH_px / 2 + 4);

  // Center dot
  ctx.beginPath();
  ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
  ctx.fillStyle = '#e2e8f0';
  ctx.fill();

  // Center label
  ctx.fillStyle = '#94a3b8';
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'right';
  ctx.fillText('O', cx - 10, cy + 5);

  // Equation label at bottom
  ctx.fillStyle = '#60a5fa';
  ctx.font = '15px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('r\u00B2 + (h/2)\u00B2 = R\u00B2', cx, cy + R_px + 60);

  // Title labels
  ctx.fillStyle = '#60a5fa';
  ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Lopta (presek)', cx - R_px / 2 - 30, cy - R_px - 12);

  ctx.fillStyle = '#4ade80';
  ctx.fillText('Valjak (presek)', cx + R_px / 2 + 30, cy - R_px - 12);

})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Visina valjka maksimalne zapremine upisanog u loptu","subject":"math","unit":"analiza","topic_tags":["optimizacija","izvodi","zapremina valjka","valjak upisan u loptu","primena izvoda"]}
BRAINSPARK_META-->