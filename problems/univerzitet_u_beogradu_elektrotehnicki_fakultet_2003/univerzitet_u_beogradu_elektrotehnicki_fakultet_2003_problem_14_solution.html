<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Upisani krug u jednakokraki trougao - Tetiva DE</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Isosceles triangle ABC with AB = AC = 3, BC = 2.
  Inscribed circle touches AB at D and AC at E.
  Find DE.

  Step 1: Semi-perimeter
    s = (AB + AC + BC) / 2 = (3 + 3 + 2) / 2 = 4

  Step 2: Tangent lengths from each vertex
    From A: s - BC = 4 - 2 = 2   => AD = AE = 2
    From B: s - AC = 4 - 3 = 1   => BD = 1
    From C: s - AB = 4 - 3 = 1   => CE = 1
    Check: AD + DB = 2 + 1 = 3 = AB ‚úì
           AE + EC = 2 + 1 = 3 = AC ‚úì
           BD + CE = 1 + 1 = 2 = BC ‚úì

  Step 3: Find angle A using cosine rule in triangle ABC
    BC^2 = AB^2 + AC^2 - 2*AB*AC*cos(A)
    4 = 9 + 9 - 18*cos(A)
    18*cos(A) = 14
    cos(A) = 7/9

  Step 4: Apply cosine rule in triangle ADE
    AD = AE = 2, angle DAE = angle A (same angle)
    DE^2 = AD^2 + AE^2 - 2*AD*AE*cos(A)
    DE^2 = 4 + 4 - 2*2*2*(7/9)
    DE^2 = 8 - 56/9
    DE^2 = 72/9 - 56/9
    DE^2 = 16/9
    DE = 4/3

  Answer: D) 4/3

  Verification: 4/3 ‚âà 1,333...
  Check options: A) 13/10=1.3, B) 6/5=1.2, C) 135/100=1.35, D) 4/3‚âà1.333, E) 7/5=1.4

  Alternative approach: Triangle ADE is similar to triangle ABC
    (since AD/AB = AE/AC = 2/3, and angle A is common)
    => DE/BC = AD/AB = 2/3
    => DE = BC * 2/3 = 2 * 2/3 = 4/3 ‚úì

  This similarity approach is even cleaner!
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Upisani krug u jednakokraki trougao</h1>
  <p class="subtitle">Geometrija trougla ‚Äî upisani krug, tangentne duzi, slicnost trouglova</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>U jednakokraki trougao \( ABC \) (\( AB = AC = 3 \text{ cm} \), \( BC = 2 \text{ cm} \)) upisan je krug koji dodiruje krake \( AB \) i \( AC \) redom u tackama \( D \) i \( E \). Duzina duzi \( DE \) jednaka je (u cm):</p>
      <div class="options-grid">
        <div class="option">A) \( \dfrac{13}{10} \)</div>
        <div class="option">B) \( \dfrac{6}{5} \)</div>
        <div class="option">C) \( \dfrac{135}{100} \)</div>
        <div class="option correct">D) \( \dfrac{4}{3} \)</div>
        <div class="option">E) \( \dfrac{7}{5} \)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Koristicemo osobine tangentnih duzi iz temena trougla da odredimo duzine \( AD \) i \( AE \). Zatim cemo primetiti da trouglovi \( ADE \) i \( ABC \) dele zajednicki ugao pri temenu \( A \) i da su im odgovarajuce stranice proporcionalne ‚Äî sto znaci da su slicni! Iz koeficijenta slicnosti direktno nalazimo \( DE \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Tangentne duzi iz tacke do kruga (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Ako iz tacke \( P \) povucemo dve tangente na krug, tangentne duzi su jednake duzine. Za upisani krug trougla sa stranicama \( a, b, c \) i poluobimom \( s = \frac{a+b+c}{2} \):</p>
        <div class="step-math">
          \[ \text{tangenta iz } A = s - a, \quad \text{tangenta iz } B = s - b, \quad \text{tangenta iz } C = s - c \]
        </div>
        <p style="margin-top: 12px;">gde je \( a = BC \), \( b = AC \), \( c = AB \).</p>
      </div>
    </details>
    <details>
      <summary>Slicnost trouglova (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Dva trougla su slicna ako imaju dva jednaka ugla (AA kriterijum), ili ako su im dve stranice proporcionalne i ugao izmedju njih jednak (SUS kriterijum).</p>
        <div class="step-math">
          \[ \frac{AD}{AB} = \frac{AE}{AC} \text{ i } \angle A = \angle A \implies \triangle ADE \sim \triangle ABC \]
        </div>
        <p style="margin-top: 12px;">Iz slicnosti sledi da su sve odgovarajuce stranice proporcionalne istim koeficijentom \( k \).</p>
      </div>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="card">
    <div class="card-title"><span class="icon">üìê</span> Dijagram</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="560"></canvas>
    </div>
    <p class="canvas-caption">Jednakokraki trougao \( ABC \) sa upisanim krugom i tetivom \( DE \)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Poluobim trougla</div>
        <p>Izracunajmo poluobim trougla \( ABC \) sa stranicama \( AB = AC = 3 \) i \( BC = 2 \):</p>
        <div class="step-math">
          \[ s = \frac{AB + AC + BC}{2} = \frac{3 + 3 + 2}{2} = 4 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Tangentne duzi iz svakog temena</div>
        <p>Upisani krug dodiruje stranice trougla. Tangentne duzi iz jednog temena do dodirnih tacaka su jednake. Koristimo formule:</p>
        <div class="step-math">
          \[ AD = AE = s - BC = 4 - 2 = 2 \]
        </div>
        <div class="step-math">
          \[ BD = s - AC = 4 - 3 = 1 \]
        </div>
        <div class="step-math">
          \[ CE = s - AB = 4 - 3 = 1 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Provera: Da li se tangentne duzi poklapaju sa stranicama?</summary>
            <div class="detail-content">
              <p>\( AD + DB = 2 + 1 = 3 = AB \) &#10003;</p>
              <p>\( AE + EC = 2 + 1 = 3 = AC \) &#10003;</p>
              <p>\( BD + CE = 1 + 1 = 2 = BC \) &#10003;</p>
              <p>Sve tangentne duzi se ispravno sabiraju u stranice trougla.</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Uocimo slicnost trouglova \( ADE \) i \( ABC \)</div>
        <p>Pogledajmo trougao \( ADE \):</p>
        <ul style="margin: 10px 0 10px 20px;">
          <li>\( AD = 2 \), \( AE = 2 \)</li>
          <li>Ugao \( \angle DAE = \angle BAC \) (isti ugao!)</li>
        </ul>
        <p>A u trouglu \( ABC \): \( AB = 3 \), \( AC = 3 \). Odnos odgovarajucih stranica:</p>
        <div class="step-math">
          \[ \frac{AD}{AB} = \frac{2}{3}, \qquad \frac{AE}{AC} = \frac{2}{3} \]
        </div>
        <p>Posto su dve stranice proporcionalne i ugao izmedju njih jednak (SUS kriterijum slicnosti):</p>
        <div class="step-math">
          \[ \triangle ADE \sim \triangle ABC \quad \text{sa koeficijentom } k = \frac{2}{3} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Zasto je ovo SUS slicnost?</summary>
            <div class="detail-content">
              <p>SUS (stranica-ugao-stranica) kriterijum slicnosti kaze: ako dva trougla imaju po dve stranice proporcionalne i ugao izmedju tih stranica jednak, onda su slicni.</p>
              <p style="margin-top: 8px;">Ovde: \( AD/AB = AE/AC = 2/3 \) i ugao \( \angle A \) je zajednicki. Dakle, trouglovi \( ADE \) i \( ABC \) su slicni.</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo \( DE \) iz slicnosti</div>
        <p>Iz slicnosti trouglova, sve odgovarajuce stranice su proporcionalne istim koeficijentom. Stranica \( DE \) u trouglu \( ADE \) odgovara stranici \( BC \) u trouglu \( ABC \):</p>
        <div class="step-math">
          \[ \frac{DE}{BC} = \frac{AD}{AB} = \frac{2}{3} \]
        </div>
        <p>Odatle:</p>
        <div class="step-math">
          \[ DE = BC \cdot \frac{2}{3} = 2 \cdot \frac{2}{3} = \frac{4}{3} \text{ cm} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Verifikacija kosinusnom teoremom</summary>
            <div class="detail-content">
              <p>Mozemo proveriti direktnim racunom u trouglu \( ADE \) pomocu kosinusne teoreme.</p>
              <p style="margin-top: 8px;">Prvo, odredimo \( \cos A \) iz trougla \( ABC \):</p>
              <p>\( BC^2 = AB^2 + AC^2 - 2 \cdot AB \cdot AC \cdot \cos A \)</p>
              <p>\( 4 = 9 + 9 - 18\cos A \implies \cos A = \frac{14}{18} = \frac{7}{9} \)</p>
              <p style="margin-top: 8px;">Sada u trouglu \( ADE \):</p>
              <p>\( DE^2 = AD^2 + AE^2 - 2 \cdot AD \cdot AE \cdot \cos A \)</p>
              <p>\( DE^2 = 4 + 4 - 8 \cdot \frac{7}{9} = 8 - \frac{56}{9} = \frac{72 - 56}{9} = \frac{16}{9} \)</p>
              <p>\( DE = \frac{4}{3} \) &#10003;</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kljuc ovog zadatka je prepoznati <strong>slicnost trouglova</strong>. Tacke \( D \) i \( E \) leze na kracima \( AB \) i \( AC \), a tangentne duzi iz temena \( A \) daju \( AD/AB = AE/AC = 2/3 \). Sa zajednickim uglom \( A \), trouglovi \( ADE \) i \( ABC \) su slicni, pa se \( DE \) dobija jednim mnozenjem: \( DE = BC \cdot \frac{2}{3} = \frac{4}{3} \). Nema potrebe za kosinusnom teoremom niti za racunanjem poluprecnika upisanog kruga!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( DE = \dfrac{4}{3} \text{ cm} \)</div>
    <div class="answer-option">Tacan odgovor je D) \( \dfrac{4}{3} \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Mesanje tangentnih formula:</strong> Tangenta iz temena \( A \) je \( s - a \) gde je \( a \) naspramna stranica \( BC \), ne stranica \( AB \). Cesta greska je zamena \( s - a \) sa \( s - c \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Nepotrebno komplikovanje:</strong> Mnogi ucenici krenu da racunaju poluprecnik upisanog kruga, koordinate centra, pa koordinate tacaka \( D \) i \( E \). Sve to je nepotrebno ‚Äî slicnost trouglova daje rezultat u jednom koraku!</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Brkanje tetive i tangente:</strong> Duz \( DE \) nije tangenta na krug, vec <strong>tetiva</strong> upisanog kruga (spaja dve dodirne tacke). Ne treba je mesati sa tangentnim duzima \( AD \), \( AE \), \( BD \), \( CE \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Koliki je poluprecnik upisanog kruga u ovom trouglu? Koliko je rastojanje od centra upisanog kruga do duzi \( DE \)?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Povrsina trougla (Heronova formula): \( P = \sqrt{s(s-a)(s-b)(s-c)} = \sqrt{4 \cdot 2 \cdot 1 \cdot 1} = 2\sqrt{2} \)</p>
        <p style="margin-top: 8px;">Poluprecnik: \( r = \frac{P}{s} = \frac{2\sqrt{2}}{4} = \frac{\sqrt{2}}{2} \approx 0{,}707 \text{ cm} \)</p>
        <p style="margin-top: 8px;">Rastojanje od centra \( I \) do duzi \( DE \): Duz \( DE \) je tetiva kruga sa poluprecnikom \( r = \frac{\sqrt{2}}{2} \) i duzinom \( \frac{4}{3} \). Polovina tetive je \( \frac{2}{3} \). Rastojanje: \( d = \sqrt{r^2 - \left(\frac{DE}{2}\right)^2} = \sqrt{\frac{1}{2} - \frac{4}{9}} = \sqrt{\frac{1}{18}} = \frac{1}{3\sqrt{2}} = \frac{\sqrt{2}}{6} \approx 0{,}236 \text{ cm} \)</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Triangle ABC: AB = AC = 3, BC = 2
    // Place B and C symmetrically, A at top
    const scale = 130;
    const cx = W / 2;
    const baseY = 480;

    // B and C
    const halfBase = 1 * scale; // BC/2 = 1
    const Bx = cx - halfBase;
    const By = baseY;
    const Cx = cx + halfBase;
    const Cy = baseY;

    // Height of triangle: h = sqrt(AB^2 - (BC/2)^2) = sqrt(9 - 1) = sqrt(8) = 2*sqrt(2)
    const height = Math.sqrt(8) * scale;
    const Ax = cx;
    const Ay = baseY - height;

    // Incircle
    // r = area/s, s = 4, area = 2*sqrt(2)
    // r = 2*sqrt(2)/4 = sqrt(2)/2
    const r = (Math.sqrt(2) / 2) * scale;
    // Center of incircle: on the axis of symmetry, at distance r from BC
    const Ix = cx;
    const Iy = baseY - r;

    // Tangent points
    // D on AB: AD = 2, so D divides AB such that AD/AB = 2/3
    const Dx = Ax + (2 / 3) * (Bx - Ax);
    const Dy = Ay + (2 / 3) * (By - Ay);

    // E on AC: AE = 2, so E divides AC such that AE/AC = 2/3
    const Ex = Ax + (2 / 3) * (Cx - Ax);
    const Ey = Ay + (2 / 3) * (Cy - Ay);

    // F on BC: BF = 1, so F is at midpoint of BC
    const Fx = cx;
    const Fy = baseY;

    // Draw the triangle
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.stroke();

    // Fill triangle lightly
    ctx.fillStyle = 'rgba(96, 165, 250, 0.04)';
    ctx.fill();

    // Draw the inscribed circle
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(Ix, Iy, r, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.fillStyle = 'rgba(167, 139, 250, 0.06)';
    ctx.fill();

    // Draw chord DE
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(Dx, Dy);
    ctx.lineTo(Ex, Ey);
    ctx.stroke();

    // Draw dashed lines from I to D and I to E (radii to tangent points)
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(Ix, Iy);
    ctx.lineTo(Dx, Dy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(Ix, Iy);
    ctx.lineTo(Ex, Ey);
    ctx.stroke();
    // Dashed line from I to F (tangent point on BC)
    ctx.beginPath();
    ctx.moveTo(Ix, Iy);
    ctx.lineTo(Fx, Fy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw tangent length indicators AD and AE
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.5)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 3]);
    // AD
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Dx, Dy);
    ctx.stroke();
    // AE
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Ex, Ey);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw points
    function drawPoint(x, y, color, label, offsetX, offsetY) {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      ctx.fillStyle = color;
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, x + offsetX, y + offsetY);
    }

    // Vertex labels
    drawPoint(Ax, Ay, '#60a5fa', 'A', 0, -20);
    drawPoint(Bx, By, '#60a5fa', 'B', -20, 18);
    drawPoint(Cx, Cy, '#60a5fa', 'C', 20, 18);

    // Tangent point labels
    drawPoint(Dx, Dy, '#34d399', 'D', -20, -8);
    drawPoint(Ex, Ey, '#34d399', 'E', 20, -8);
    drawPoint(Fx, Fy, '#a78bfa', 'F', 0, 20);

    // Incenter label
    drawPoint(Ix, Iy, '#a78bfa', 'I', 18, -14);

    // Side length labels
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    // AB = 3
    ctx.fillStyle = '#94a3b8';
    const abMidX = (Ax + Bx) / 2 - 24;
    const abMidY = (Ay + By) / 2;
    ctx.fillText('3', abMidX, abMidY);

    // AC = 3
    const acMidX = (Ax + Cx) / 2 + 24;
    const acMidY = (Ay + Cy) / 2;
    ctx.fillText('3', acMidX, acMidY);

    // BC = 2
    const bcMidX = (Bx + Cx) / 2;
    const bcMidY = (By + Cy) / 2 + 22;
    ctx.fillText('2', bcMidX, bcMidY);

    // Tangent length labels
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';

    // AD = 2
    ctx.fillStyle = '#f472b6';
    const adMidX = (Ax + Dx) / 2 - 18;
    const adMidY = (Ay + Dy) / 2 - 6;
    ctx.fillText('2', adMidX, adMidY);

    // AE = 2
    const aeMidX = (Ax + Ex) / 2 + 18;
    const aeMidY = (Ay + Ey) / 2 - 6;
    ctx.fillText('2', aeMidX, aeMidY);

    // BD = 1
    ctx.fillStyle = '#fbbf24';
    const bdMidX = (Bx + Dx) / 2 - 16;
    const bdMidY = (By + Dy) / 2 + 4;
    ctx.fillText('1', bdMidX, bdMidY);

    // CE = 1
    const ceMidX = (Cx + Ex) / 2 + 16;
    const ceMidY = (Cy + Ey) / 2 + 4;
    ctx.fillText('1', ceMidX, ceMidY);

    // DE label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    const deMidX = (Dx + Ex) / 2;
    const deMidY = (Dy + Ey) / 2 - 16;
    ctx.fillText('DE = 4/3', deMidX, deMidY);

    // r label
    ctx.fillStyle = '#a78bfa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    const rLabelX = (Ix + Fx) / 2 + 24;
    const rLabelY = (Iy + Fy) / 2;
    ctx.fillText('r', rLabelX, rLabelY);

    // Draw right angle markers at tangent points
    function drawRightAngle(px, py, dx1, dy1, dx2, dy2, size) {
      ctx.strokeStyle = 'rgba(167, 139, 250, 0.5)';
      ctx.lineWidth = 1.2;
      ctx.beginPath();
      ctx.moveTo(px + dx1 * size, py + dy1 * size);
      ctx.lineTo(px + (dx1 + dx2) * size, py + (dy1 + dy2) * size);
      ctx.lineTo(px + dx2 * size, py + dy2 * size);
      ctx.stroke();
    }

    // Right angle at F (between IF and BC)
    // IF goes up, BC goes left-right
    drawRightAngle(Fx, Fy, 0, -1, 1, 0, 10);

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const legendX = 20;
    const legendY = 24;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legendX, legendY - 5, 18, 3);
    ctx.fillText('Trougao ABC', legendX + 26, legendY);

    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(legendX + 9, legendY + 22, 7, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.fillText('Upisani krug', legendX + 26, legendY + 26);

    ctx.fillStyle = '#34d399';
    ctx.fillRect(legendX, legendY + 43, 18, 3);
    ctx.fillText('Tetiva DE', legendX + 26, legendY + 48);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Upisani krug u jednakokraki trougao - Tetiva DE",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["upisani krug", "tangentne duzi", "slicnost trouglova", "jednakokraki trougao", "kosinusna teorema", "tetiva"]
}
BRAINSPARK_META-->