<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stepenovanje kompleksnih brojeva - De Moavr</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Compute (1 + i*sqrt(3))^9 + (sqrt(3) - i)^9

  Step 1: Convert 1 + i*sqrt(3) to polar form
    |1 + i*sqrt(3)| = sqrt(1 + 3) = sqrt(4) = 2
    arg = arctan(sqrt(3)/1) = pi/3 (60 degrees)
    So 1 + i*sqrt(3) = 2 * cis(pi/3)

  Step 2: Apply De Moivre's theorem
    (1 + i*sqrt(3))^9 = 2^9 * cis(9*pi/3) = 512 * cis(3*pi)
    cis(3*pi) = cos(3*pi) + i*sin(3*pi) = -1 + 0i = -1
    So (1 + i*sqrt(3))^9 = -512

  Step 3: Convert sqrt(3) - i to polar form
    |sqrt(3) - i| = sqrt(3 + 1) = sqrt(4) = 2
    arg = arctan(-1/sqrt(3)) = -pi/6 (-30 degrees) [fourth quadrant-like, actually Q4 but Re>0, Im<0]
    So sqrt(3) - i = 2 * cis(-pi/6)

  Step 4: Apply De Moivre's theorem
    (sqrt(3) - i)^9 = 2^9 * cis(9*(-pi/6)) = 512 * cis(-3*pi/2)
    cis(-3*pi/2) = cos(-3*pi/2) + i*sin(-3*pi/2)
    -3*pi/2 is coterminal with pi/2 (add 2*pi: -3*pi/2 + 2*pi = pi/2)
    cis(pi/2) = cos(pi/2) + i*sin(pi/2) = 0 + i = i
    So (sqrt(3) - i)^9 = 512 * i

  Step 5: Sum
    (1 + i*sqrt(3))^9 + (sqrt(3) - i)^9 = -512 + 512i = 512(-1 + i) = 2^9(-1 + i)

  Answer: B) 2^9(-1 + i)

  Verification:
    2^9 = 512
    -512 + 512i = 512(-1 + i) = 2^9(-1 + i) checkmark
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Stepenovanje kompleksnih brojeva</h1>
  <p class="subtitle">Kompleksni brojevi u trigonometrijskom obliku ‚Äî De Moavrova teorema</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Kompleksan broj \( (1 + i\sqrt{3})^9 + (\sqrt{3} - i)^9 \) \(\;(i = \sqrt{-1})\;\) jednak je:</p>
      <div class="options-grid">
        <div class="option">A) \( 2^9(1+i) \)</div>
        <div class="option correct">B) \( 2^9(-1+i) \)</div>
        <div class="option">C) \( 2^9(1-i) \)</div>
        <div class="option">D) \( 2^9 \)</div>
        <div class="option">E) \( -2^9 i \)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Prevedimo oba kompleksna broja u trigonometrijski (polarni) oblik \( r(\cos\varphi + i\sin\varphi) \), a zatim primenimo De Moavrovu teoremu za stepenovanje. Na kraju saberemo rezultate.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Trigonometrijski oblik i De Moavrova teorema (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Svaki kompleksan broj \( z = a + bi \) moze da se zapise u <strong>trigonometrijskom obliku</strong>:</p>
        <div class="step-math">
          \[ z = r(\cos\varphi + i\sin\varphi) \]
        </div>
        <p style="margin-top: 12px;">gde je \( r = |z| = \sqrt{a^2 + b^2} \) modul, a \( \varphi = \arg(z) \) argument kompleksnog broja.</p>
        <p style="margin-top: 12px;"><strong>De Moavrova teorema</strong> za stepenovanje:</p>
        <div class="step-math">
          \[ z^n = r^n \bigl(\cos(n\varphi) + i\sin(n\varphi)\bigr) \]
        </div>
        <p style="margin-top: 12px;">Koristimo i skraceni zapis \( \operatorname{cis}(\varphi) = \cos\varphi + i\sin\varphi \), pa je:</p>
        <div class="step-math">
          \[ \bigl[r\operatorname{cis}(\varphi)\bigr]^n = r^n \operatorname{cis}(n\varphi) \]
        </div>
      </div>
    </details>
  </div>

  <!-- Canvas: Complex Plane -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Kompleksna ravan</div>
    <div class="canvas-wrapper">
      <canvas id="complexPlane" width="700" height="520"></canvas>
    </div>
    <p class="canvas-caption">Oba kompleksna broja imaju modul 2. Prikazani su i rezultati stepenovanja na jedinicnom krugu (skalirani).</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Polarni oblik broja \( z_1 = 1 + i\sqrt{3} \)</div>
        <p>Izracunajmo modul:</p>
        <div class="step-math">
          \[ |z_1| = \sqrt{1^2 + (\sqrt{3})^2} = \sqrt{1 + 3} = \sqrt{4} = 2 \]
        </div>
        <p>Odredimo argument. Realni deo je \( 1 > 0 \), imaginarni deo je \( \sqrt{3} > 0 \), dakle \( z_1 \) je u prvom kvadrantu:</p>
        <div class="step-math">
          \[ \varphi_1 = \arctan\frac{\sqrt{3}}{1} = \arctan\sqrt{3} = \frac{\pi}{3} \quad (60¬∞) \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ z_1 = 2\left(\cos\frac{\pi}{3} + i\sin\frac{\pi}{3}\right) = 2\operatorname{cis}\!\left(\frac{\pi}{3}\right) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je argument tacno pi/3?</summary>
            <div class="detail-content">
              Zato sto je \( \tan\frac{\pi}{3} = \sqrt{3} \), a nas broj ima realni deo 1 i imaginarni deo \( \sqrt{3} \), pa je \( \tan\varphi = \frac{\sqrt{3}}{1} = \sqrt{3} \). Posto je broj u prvom kvadrantu, argument je \( \frac{\pi}{3} \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Stepenujemo \( z_1^9 \) De Moavrovom teoremom</div>
        <p>Primenimo De Moavrovu teoremu:</p>
        <div class="step-math">
          \[ z_1^9 = 2^9 \operatorname{cis}\!\left(9 \cdot \frac{\pi}{3}\right) = 2^9 \operatorname{cis}(3\pi) \]
        </div>
        <p>Ugao \( 3\pi \) je koterminalan sa \( \pi \) (jer \( 3\pi = \pi + 2\pi \)), pa je:</p>
        <div class="step-math">
          \[ \cos(3\pi) = \cos(\pi) = -1, \qquad \sin(3\pi) = \sin(\pi) = 0 \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ z_1^9 = 2^9 \cdot (-1) = -2^9 = -512 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je cis(3pi) = -1?</summary>
            <div class="detail-content">
              Ugao \( 3\pi \) radijana je tri poluobrta, sto nas dovodi na negativnu realnu osu (isto kao ugao \( \pi \)). Tacka na jedinicnom krugu pri uglu \( \pi \) je \( (-1,\, 0) \), pa je \( \cos(3\pi) + i\sin(3\pi) = -1 + 0i = -1 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Polarni oblik broja \( z_2 = \sqrt{3} - i \)</div>
        <p>Modul:</p>
        <div class="step-math">
          \[ |z_2| = \sqrt{(\sqrt{3})^2 + (-1)^2} = \sqrt{3 + 1} = \sqrt{4} = 2 \]
        </div>
        <p>Argument: Realni deo je \( \sqrt{3} > 0 \), imaginarni deo je \( -1 < 0 \), dakle \( z_2 \) je u cetvrtom kvadrantu:</p>
        <div class="step-math">
          \[ \varphi_2 = \arctan\frac{-1}{\sqrt{3}} = -\frac{\pi}{6} \quad (-30¬∞) \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ z_2 = 2\left(\cos\!\left(-\frac{\pi}{6}\right) + i\sin\!\left(-\frac{\pi}{6}\right)\right) = 2\operatorname{cis}\!\left(-\frac{\pi}{6}\right) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je argument negativan?</summary>
            <div class="detail-content">
              Zato sto se \( z_2 = \sqrt{3} - i \) nalazi ispod realne ose (imaginarni deo je negativan). Ugao se meri od pozitivne realne ose u smeru kazaljke na satu, pa je negativan: \( -\frac{\pi}{6} = -30¬∞ \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Stepenujemo \( z_2^9 \) De Moavrovom teoremom</div>
        <p>Primenimo De Moavrovu teoremu:</p>
        <div class="step-math">
          \[ z_2^9 = 2^9 \operatorname{cis}\!\left(9 \cdot \left(-\frac{\pi}{6}\right)\right) = 2^9 \operatorname{cis}\!\left(-\frac{3\pi}{2}\right) \]
        </div>
        <p>Ugao \( -\frac{3\pi}{2} \) je koterminalan sa \( \frac{\pi}{2} \) (jer \( -\frac{3\pi}{2} + 2\pi = \frac{\pi}{2} \)), pa je:</p>
        <div class="step-math">
          \[ \cos\!\left(-\frac{3\pi}{2}\right) = \cos\frac{\pi}{2} = 0, \qquad \sin\!\left(-\frac{3\pi}{2}\right) = \sin\frac{\pi}{2} = 1 \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ z_2^9 = 2^9 \cdot i = 512i \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Kako -3pi/2 postaje pi/2?</summary>
            <div class="detail-content">
              Uglovi koji se razlikuju za \( 2\pi \) (pun krug) su koterminalni ‚Äî pokazuju na istu tacku na jedinicnom krugu. Racunamo: \( -\frac{3\pi}{2} + 2\pi = -\frac{3\pi}{2} + \frac{4\pi}{2} = \frac{\pi}{2} \). Tacka na jedinicnom krugu pri uglu \( \frac{\pi}{2} \) je \( (0,\, 1) \), sto odgovara broju \( i \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Saberemo rezultate</div>
        <p>Konacno, sabiramo oba stepena:</p>
        <div class="step-math">
          \[ z_1^9 + z_2^9 = -512 + 512i = 512(-1 + i) = 2^9(-1 + i) \]
        </div>
        <p>Izlucili smo zajednicki faktor \( 512 = 2^9 \) i dobili konacni rezultat.</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Kako se izlucuje 2^9?</summary>
            <div class="detail-content">
              Imamo \( -512 + 512i \). Zajednicki faktor je \( 512 = 2^9 \):
              <br>\( -512 + 512i = 512 \cdot (-1) + 512 \cdot i = 512(-1 + i) = 2^9(-1 + i) \).
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Oba kompleksna broja imaju isti modul \( r = 2 \), sto znaci da ce posle stepenovanja na deveti stepen oba imati modul \( 2^9 = 512 \). Razlika je samo u <strong>argumentu</strong> (uglu). Prevoenjem u polarni oblik, stepenovanje kompleksnog broja se svodi na stepenovanje modula i mnozenje argumenta brojem \( n \) ‚Äî zahvaljujuci De Moavrovoj teoremi. Ovo je daleko jednostavnije nego direktno mnozenje!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( (1+i\sqrt{3})^9 + (\sqrt{3}-i)^9 = 2^9(-1+i) \)</div>
    <div class="answer-option">Tacan odgovor je B) \( 2^9(-1+i) \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresan argument:</strong> Cesta greska je odrediti argument u pogresnom kvadrantu. Na primer, za \( \sqrt{3} - i \), argument je \( -\frac{\pi}{6} \), a ne \( \frac{\pi}{6} \) ‚Äî imaginarni deo je negativan, pa je ugao ispod realne ose!</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje svoenja ugla:</strong> Posle mnozenja argumenta sa 9, dobijamo velike uglove poput \( 3\pi \) ili \( -\frac{3\pi}{2} \). Treba ih svesti na interval \( [0, 2\pi) \) ili \( (-\pi, \pi] \) dodavanjem ili oduzimanjem punih krugova \( 2\pi \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pokusaj direktnog mnozenja:</strong> Mnoziti \( (1 + i\sqrt{3}) \) sam sa sobom devet puta je izuzetno naporno i sklono greskama. De Moavrova teorema je daleko efikasniji pristup.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Izracunaj vrednost izraza \( (1 + i)^{20} \). Takodje, pokusaj da nadjes sve kompleksne korene jednacine \( z^3 = 8i \).</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>\( 1 + i = \sqrt{2}\operatorname{cis}\!\left(\frac{\pi}{4}\right) \), pa je:</p>
        <p>\( (1+i)^{20} = (\sqrt{2})^{20} \operatorname{cis}\!\left(20 \cdot \frac{\pi}{4}\right) = 2^{10} \operatorname{cis}(5\pi) = 1024 \cdot (-1) = -1024 \)</p>
        <p style="margin-top: 12px;">Za \( z^3 = 8i = 8\operatorname{cis}\!\left(\frac{\pi}{2}\right) \): koreni su \( z_k = 2\operatorname{cis}\!\left(\frac{\pi/2 + 2k\pi}{3}\right) \) za \( k = 0, 1, 2 \), tj.:</p>
        <p>\( z_0 = 2\operatorname{cis}\!\left(\frac{\pi}{6}\right) = \sqrt{3} + i \)</p>
        <p>\( z_1 = 2\operatorname{cis}\!\left(\frac{5\pi}{6}\right) = -\sqrt{3} + i \)</p>
        <p>\( z_2 = 2\operatorname{cis}\!\left(\frac{3\pi}{2}\right) = -2i \)</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('complexPlane');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Center of the complex plane
    const cx = W / 2;
    const cy = H / 2 + 10;
    const scale = 90; // pixels per unit

    // Draw grid
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.1)';
    ctx.lineWidth = 1;
    for (let i = -3; i <= 3; i++) {
      // Vertical lines
      ctx.beginPath();
      ctx.moveTo(cx + i * scale, 30);
      ctx.lineTo(cx + i * scale, H - 20);
      ctx.stroke();
      // Horizontal lines
      ctx.beginPath();
      ctx.moveTo(40, cy + i * scale);
      ctx.lineTo(W - 40, cy + i * scale);
      ctx.stroke();
    }

    // Draw axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // Real axis
    ctx.beginPath();
    ctx.moveTo(30, cy);
    ctx.lineTo(W - 30, cy);
    ctx.stroke();
    // Imaginary axis
    ctx.beginPath();
    ctx.moveTo(cx, 20);
    ctx.lineTo(cx, H - 10);
    ctx.stroke();

    // Axis arrows
    ctx.fillStyle = '#475569';
    // Real axis arrow
    ctx.beginPath();
    ctx.moveTo(W - 30, cy);
    ctx.lineTo(W - 40, cy - 6);
    ctx.lineTo(W - 40, cy + 6);
    ctx.closePath();
    ctx.fill();
    // Imaginary axis arrow
    ctx.beginPath();
    ctx.moveTo(cx, 20);
    ctx.lineTo(cx - 6, 30);
    ctx.lineTo(cx + 6, 30);
    ctx.closePath();
    ctx.fill();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Re', W - 28, cy - 10);
    ctx.textAlign = 'center';
    ctx.fillText('Im', cx + 18, 28);

    // Tick marks and labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let i = -3; i <= 3; i++) {
      if (i === 0) continue;
      // Real axis ticks
      ctx.beginPath();
      ctx.moveTo(cx + i * scale, cy - 4);
      ctx.lineTo(cx + i * scale, cy + 4);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillText(i.toString(), cx + i * scale, cy + 18);
      // Imaginary axis ticks
      ctx.beginPath();
      ctx.moveTo(cx - 4, cy - i * scale);
      ctx.lineTo(cx + 4, cy - i * scale);
      ctx.stroke();
      ctx.textAlign = 'right';
      ctx.fillText(i + 'i', cx - 10, cy - i * scale + 4);
      ctx.textAlign = 'center';
    }

    // Draw circle of radius 2
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.25)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.arc(cx, cy, 2 * scale, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label the circle
    ctx.fillStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('|z| = 2', cx + 2 * scale + 6, cy - 6);

    // Helper function to draw a complex number point with label
    function drawPoint(re, im, color, label, labelOffX, labelOffY) {
      const px = cx + re * scale;
      const py = cy - im * scale;

      // Line from origin
      ctx.strokeStyle = color;
      ctx.globalAlpha = 0.4;
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(px, py);
      ctx.stroke();
      ctx.globalAlpha = 1.0;

      // Point
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(px, py, 6, 0, 2 * Math.PI);
      ctx.fill();

      // White center
      ctx.fillStyle = '#0f172a';
      ctx.beginPath();
      ctx.arc(px, py, 2.5, 0, 2 * Math.PI);
      ctx.fill();

      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(label, px + labelOffX, py + labelOffY);
    }

    // Helper function to draw angle arc
    function drawAngleArc(angle, radius, color, label, labelR) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.5;
      ctx.globalAlpha = 0.6;
      var startAngle = 0;
      var endAngle = -angle; // Canvas y is flipped
      if (angle >= 0) {
        ctx.beginPath();
        ctx.arc(cx, cy, radius, 0, -angle, true);
        ctx.stroke();
      } else {
        ctx.beginPath();
        ctx.arc(cx, cy, radius, 0, -angle, false);
        ctx.stroke();
      }
      ctx.globalAlpha = 1.0;

      // Angle label
      var midAngle = -angle / 2;
      ctx.fillStyle = color;
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, cx + labelR * Math.cos(midAngle), cy + labelR * Math.sin(midAngle) + 4);
    }

    // z1 = 1 + i*sqrt(3), at (1, sqrt(3)) on the complex plane
    drawPoint(1, Math.sqrt(3), '#60a5fa', 'z\u2081 = 1 + i\u221A3', 8, -10);
    drawAngleArc(Math.PI / 3, 35, '#60a5fa', '\u03C0/3', 50);

    // z2 = sqrt(3) - i, at (sqrt(3), -1) on the complex plane
    drawPoint(Math.sqrt(3), -1, '#f472b6', 'z\u2082 = \u221A3 \u2212 i', 8, 20);
    drawAngleArc(-Math.PI / 6, 50, '#f472b6', '\u2212\u03C0/6', 66);

    // Results (shown as directions on a smaller scale for clarity)
    // z1^9 = -512, direction: angle pi, show at radius ~1.2 for visibility
    var rRes = 1.3;
    // z1^9 direction: angle pi (point at (-1, 0))
    var px1 = cx + (-rRes) * scale;
    var py1 = cy;
    ctx.fillStyle = '#60a5fa';
    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    ctx.arc(px1, py1, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('z\u2081\u2079 = \u2212512', px1 - 8, py1 - 10);
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(ugao 3\u03C0 \u2261 \u03C0)', px1 - 8, py1 + 16);

    // z2^9 direction: angle pi/2 (point at (0, 1))
    var px2 = cx;
    var py2 = cy - rRes * scale;
    ctx.fillStyle = '#f472b6';
    ctx.globalAlpha = 0.7;
    ctx.beginPath();
    ctx.arc(px2, py2, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.globalAlpha = 1.0;
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillStyle = '#f472b6';
    ctx.fillText('z\u2082\u2079 = 512i', px2 + 10, py2 - 6);
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(ugao \u2212\u00B3\u2044\u2082\u03C0 \u2261 \u03C0/2)', px2 + 10, py2 + 10);

    // Sum result: -512 + 512i, direction angle 3pi/4
    var sumAngle = 3 * Math.PI / 4;
    var px3 = cx + rRes * scale * Math.cos(sumAngle);
    var py3 = cy - rRes * scale * Math.sin(sumAngle);
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(px3, py3, 6, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#0f172a';
    ctx.beginPath();
    ctx.arc(px3, py3, 2.5, 0, 2 * Math.PI);
    ctx.fill();

    // Dashed lines from z1^9 and z2^9 to the sum
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.globalAlpha = 0.5;
    ctx.beginPath();
    ctx.moveTo(px1, py1);
    ctx.lineTo(px3, py3);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(px2, py2);
    ctx.lineTo(px3, py3);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.globalAlpha = 1.0;

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('Zbir = 2\u2079(\u22121 + i)', px3 - 8, py3 - 10);

    // Bottom legend
    var legY = H - 18;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(W / 2 - 180, legY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.textAlign = 'left';
    ctx.fillText('z\u2081 = 1 + i\u221A3', W / 2 - 170, legY);

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(W / 2 - 10, legY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('z\u2082 = \u221A3 \u2212 i', W / 2, legY);

    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(W / 2 + 140, legY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('Zbir', W / 2 + 150, legY);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Stepenovanje kompleksnih brojeva - De Moavrova teorema",
  "subject": "math",
  "unit": "kompleksni_brojevi",
  "topic_tags": ["kompleksni brojevi", "trigonometrijski oblik", "De Moavrova teorema", "stepenovanje", "polarni oblik", "argument kompleksnog broja"]
}
BRAINSPARK_META-->