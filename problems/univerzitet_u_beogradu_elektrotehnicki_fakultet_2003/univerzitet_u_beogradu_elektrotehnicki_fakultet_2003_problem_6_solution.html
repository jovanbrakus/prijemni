<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Površina trougla preko uglova i poluprečnika opisanog kruga</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Find the area of a triangle with angles α, β, γ and circumradius R.

Given options:
A) 2R² sin α sin β sin γ
B) (1/2)R² sin α sin β sin γ
C) (1/2)R² cos α cos β cos γ
D) R² sin α cos β cos γ
E) 2R² cos α sin(β+γ)

Approach: Use the sine rule and the standard area formula.

Step 1: Sine Rule
In any triangle with circumradius R:
  a / sin α = b / sin β = c / sin γ = 2R

Therefore:
  a = 2R sin α
  b = 2R sin β
  c = 2R sin γ

Step 2: Area formula
The area of a triangle given two sides and the included angle:
  P = (1/2) · a · b · sin γ

Step 3: Substitute
  P = (1/2) · (2R sin α) · (2R sin β) · sin γ
  P = (1/2) · 4R² sin α sin β sin γ
  P = 2R² sin α sin β sin γ

Verification with other pairs:
  P = (1/2) · b · c · sin α = (1/2)(2R sin β)(2R sin γ) sin α = 2R² sin α sin β sin γ ✓
  P = (1/2) · a · c · sin β = (1/2)(2R sin α)(2R sin γ) sin β = 2R² sin α sin β sin γ ✓

All three give the same result, as expected (the formula is symmetric in α, β, γ).

Numerical check: equilateral triangle, α = β = γ = 60°, R = 1
  Side: a = 2·1·sin60° = √3
  Area by standard: (√3/4)·(√3)² = (√3/4)·3 = 3√3/4 ≈ 1.299
  Formula A: 2·1²·(sin60°)³ = 2·(√3/2)³ = 2·3√3/8 = 3√3/4 ≈ 1.299 ✓

Answer: A) 2R² sin α sin β sin γ
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 860px;
    margin: 0 auto;
  }
  h1 {
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.9rem;
    font-weight: 800;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon {
    font-size: 1.3rem;
  }
  .blue { color: #60a5fa; }
  .purple { color: #a78bfa; }
  .green { color: #34d399; }
  .pink { color: #f472b6; }
  .muted { color: #94a3b8; }
  .problem-statement {
    border-left: 4px solid #60a5fa;
    padding-left: 18px;
    font-size: 1.08rem;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 14px;
    font-size: 0.98rem;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.08);
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 6px 0 6px 36px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 6px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
  }
  details {
    margin-top: 4px;
  }
  details summary {
    cursor: pointer;
    color: #a78bfa;
    font-weight: 600;
    font-size: 1.05rem;
    padding: 8px 0;
    user-select: none;
  }
  details summary:hover { color: #c4b5fd; }
  details[open] summary { margin-bottom: 12px; }
  .theory-content p { margin-bottom: 10px; }
  .step {
    border-left: 3px solid #334155;
    padding-left: 20px;
    margin-bottom: 22px;
    position: relative;
  }
  .step::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 4px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #60a5fa;
    border: 2px solid #1e293b;
  }
  .step-title {
    font-weight: 700;
    font-size: 1.05rem;
    color: #60a5fa;
    margin-bottom: 8px;
  }
  .step p, .step .math-line { margin-bottom: 8px; }
  .checkpoint {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.25);
    border-radius: 10px;
    padding: 10px 16px;
    margin-top: 10px;
    font-size: 0.95rem;
  }
  .checkpoint::before {
    content: '\2713';
    margin-right: 8px;
    color: #34d399;
    font-weight: 700;
  }
  .insight-box {
    background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.1));
    border: 1px solid rgba(167, 139, 250, 0.3);
    border-radius: 14px;
    padding: 20px 24px;
  }
  .final-answer {
    text-align: center;
    padding: 32px 28px;
    border: 2px solid #34d399;
    background: rgba(52, 211, 153, 0.06);
  }
  .final-answer .answer-label {
    color: #34d399;
    font-weight: 800;
    font-size: 1.15rem;
    letter-spacing: 1px;
    margin-bottom: 12px;
    text-transform: uppercase;
  }
  .final-answer .answer-value {
    font-size: 1.6rem;
    font-weight: 700;
    color: #4ade80;
  }
  .pitfall-item {
    display: flex;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid #334155;
  }
  .pitfall-item:last-child { border-bottom: none; }
  .pitfall-icon { color: #f472b6; font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }
  .pitfall-text { font-size: 0.97rem; }
  .challenge-box {
    background: rgba(244, 114, 182, 0.06);
    border: 1px solid rgba(244, 114, 182, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    max-width: 100%;
    border-radius: 10px;
    background: #0f172a;
    border: 1px solid #334155;
  }
  @media (max-width: 600px) {
    body { padding: 14px; }
    h1 { font-size: 1.4rem; }
    .card { padding: 18px 16px; }
    .option-grid { grid-template-columns: 1fr; }
    .final-answer .answer-value { font-size: 1.3rem; }
  }
</style>
</head>
<body>

<h1>Površina trougla preko uglova i poluprečnika opisanog kruga</h1>
<p class="subtitle">Sinusna teorema i formula za površinu trougla</p>

<!-- Problem Statement -->
<div class="card">
  <div class="card-title"><span class="icon blue">&#9998;</span> Postavka zadatka</div>
  <div class="problem-statement">
    <p>Površina trougla, čiji su uglovi \(\alpha\), \(\beta\) i \(\gamma\), a \(R\) poluprečnik opisanog kruga, jednaka je:</p>
    <div class="option-grid">
      <div class="option correct"><strong>A)</strong> \(2R^2 \sin\alpha \sin\beta \sin\gamma\)</div>
      <div class="option"><strong>B)</strong> \(\dfrac{1}{2}R^2 \sin\alpha \sin\beta \sin\gamma\)</div>
      <div class="option"><strong>C)</strong> \(\dfrac{1}{2}R^2 \cos\alpha \cos\beta \cos\gamma\)</div>
      <div class="option"><strong>D)</strong> \(R^2 \sin\alpha \cos\beta \cos\gamma\)</div>
      <div class="option"><strong>E)</strong> \(2R^2 \cos\alpha \sin(\beta+\gamma)\)</div>
      <div class="option"><strong>N)</strong> Ne znam</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon purple">&#9881;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Izraziti stranice trougla preko uglova i poluprečnika opisanog kruga koristeći <strong>sinusnu teoremu</strong></li>
    <li>Primeniti formulu za površinu trougla \(P = \frac{1}{2}ab\sin\gamma\) i zameniti izraze za stranice</li>
    <li>Uprošćavanje i identifikacija tačnog odgovora</li>
    <li>Verifikacija na konkretnom primeru (jednakostranični trougao)</li>
  </ol>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details>
    <summary>Teorijsko podsetnik &mdash; klikni da otvoriš</summary>
    <div class="theory-content">
      <p><strong>Sinusna teorema:</strong> U bilo kom trouglu sa stranicama \(a\), \(b\), \(c\) naspram uglova \(\alpha\), \(\beta\), \(\gamma\) i poluprečnikom opisanog kruga \(R\) važi:</p>
      <p>\[\frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma} = 2R\]</p>
      <p>Iz ovoga direktno sledi:</p>
      <p>\[a = 2R\sin\alpha, \quad b = 2R\sin\beta, \quad c = 2R\sin\gamma\]</p>
      <p><strong>Površina trougla</strong> (preko dve stranice i ugla između njih):</p>
      <p>\[P = \frac{1}{2}\,a\,b\,\sin\gamma = \frac{1}{2}\,b\,c\,\sin\alpha = \frac{1}{2}\,a\,c\,\sin\beta\]</p>
      <p>Ove dve formule su sve što nam treba da dobijemo traženi izraz.</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon green">&#9650;</span> Vizuelni prikaz</div>
  <canvas id="triangleCanvas" width="600" height="460"></canvas>
</div>

<!-- Step-by-Step -->
<div class="card">
  <div class="card-title"><span class="icon blue">&#128218;</span> Rešenje korak po korak</div>

  <div class="step">
    <div class="step-title">Korak 1: Stranice preko sinusne teoreme</div>
    <p>Sinusna teorema nam daje vezu između stranica i uglova trougla:</p>
    <p>\[\frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma} = 2R\]</p>
    <p>Iz ovoga izražavamo svaku stranicu:</p>
    <p>\[a = 2R\sin\alpha, \qquad b = 2R\sin\beta, \qquad c = 2R\sin\gamma\]</p>
    <div class="checkpoint">Imamo sve tri stranice izražene preko uglova i \(R\).</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 2: Primena formule za površinu</div>
    <p>Koristimo formulu za površinu trougla sa stranicama \(a\) i \(b\) i uglom \(\gamma\) između njih:</p>
    <p>\[P = \frac{1}{2}\,a\,b\,\sin\gamma\]</p>
    <p>Zamenjujemo \(a = 2R\sin\alpha\) i \(b = 2R\sin\beta\):</p>
    <p>\[P = \frac{1}{2}\cdot(2R\sin\alpha)\cdot(2R\sin\beta)\cdot\sin\gamma\]</p>
    <div class="checkpoint">Svi elementi su zamenjeni &mdash; ostaje uprošćavanje.</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 3: Uprošćavanje izraza</div>
    <p>Množimo numeričke koeficijente:</p>
    <p>\[P = \frac{1}{2}\cdot 4R^2\cdot\sin\alpha\,\sin\beta\,\sin\gamma\]</p>
    <p>\[\boxed{P = 2R^2\sin\alpha\,\sin\beta\,\sin\gamma}\]</p>
    <div class="checkpoint">Dobijeni izraz se poklapa sa odgovorom <strong>A)</strong>.</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 4: Provera simetrije</div>
    <p>Formula je simetrična po svim uglovima, što je dobra indikacija korektnosti. Proverimo i sa drugim parovima stranica:</p>
    <p>\[P = \frac{1}{2}\,b\,c\,\sin\alpha = \frac{1}{2}\cdot(2R\sin\beta)(2R\sin\gamma)\sin\alpha = 2R^2\sin\alpha\sin\beta\sin\gamma \;\;\checkmark\]</p>
    <p>\[P = \frac{1}{2}\,a\,c\,\sin\beta = \frac{1}{2}\cdot(2R\sin\alpha)(2R\sin\gamma)\sin\beta = 2R^2\sin\alpha\sin\beta\sin\gamma \;\;\checkmark\]</p>
    <p>Sve tri varijante daju isti rezultat &mdash; formula je konzistentna.</p>
  </div>

  <div class="step">
    <div class="step-title">Korak 5: Numerička verifikacija</div>
    <p>Uzmimo <strong>jednakostranični trougao</strong>: \(\alpha = \beta = \gamma = 60°\), \(R = 1\).</p>
    <p><strong>Stranica:</strong> \(a = 2 \cdot 1 \cdot \sin 60° = 2 \cdot \frac{\sqrt{3}}{2} = \sqrt{3}\)</p>
    <p><strong>Standardna formula:</strong> \(P = \frac{\sqrt{3}}{4}\,a^2 = \frac{\sqrt{3}}{4}\cdot 3 = \frac{3\sqrt{3}}{4} \approx 1{,}299\)</p>
    <p><strong>Naša formula:</strong> \(P = 2\cdot 1^2 \cdot \left(\sin 60°\right)^3 = 2\cdot\left(\frac{\sqrt{3}}{2}\right)^3 = 2\cdot\frac{3\sqrt{3}}{8} = \frac{3\sqrt{3}}{4} \approx 1{,}299\) &nbsp;\(\checkmark\)</p>
    <div class="checkpoint">Numerička provera potvrdjuje rezultat.</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 6: Zašto ostali odgovori nisu tačni</div>
    <p><strong>B)</strong> \(\frac{1}{2}R^2\sin\alpha\sin\beta\sin\gamma\) &mdash; Razlikuje se za faktor 4. Za jednakostranični trougao sa \(R=1\), ovo bi dalo \(\approx 0{,}325\), a tačna vrednost je \(\approx 1{,}299\).</p>
    <p><strong>C)</strong> \(\frac{1}{2}R^2\cos\alpha\cos\beta\cos\gamma\) &mdash; Koristi kosinuse umesto sinusa, nema veze sa standardnim izvođenjem.</p>
    <p><strong>D)</strong> \(R^2\sin\alpha\cos\beta\cos\gamma\) &mdash; Nije simetrična po uglovima, a površina ne zavisi od redosleda uglova.</p>
    <p><strong>E)</strong> \(2R^2\cos\alpha\sin(\beta+\gamma)\) &mdash; Kako je \(\beta+\gamma = \pi - \alpha\), ovo postaje \(2R^2\cos\alpha\sin\alpha = R^2\sin 2\alpha\), što zavisi samo od \(\alpha\) &mdash; ne može biti opšta formula za površinu.</p>
  </div>
</div>

<!-- Key Insight -->
<div class="card insight-box">
  <div class="card-title"><span class="icon purple">&#9733;</span> Ključni uvid</div>
  <p>Sinusna teorema omogućava da <strong>svaku stranicu</strong> trougla izrazimo kao \(2R\sin(\text{naspramni ugao})\). Kada ove izraze uvrstimo u bilo koju formulu za površinu, koeficijenti \(\frac{1}{2} \cdot 2R \cdot 2R = 2R^2\) uvek daju isti rezultat. Površina je tako elegantno izražena kao proizvod \(2R^2\) i sinusa sva tri ugla.</p>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <div class="answer-label">Tačan odgovor</div>
  <div class="answer-value">A) &nbsp;\(P = 2R^2 \sin\alpha\,\sin\beta\,\sin\gamma\)</div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#9888;</span> Česte greške</div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Pogrešan koeficijent:</strong> Zaboravljanje da se \(\frac{1}{2} \cdot 2 \cdot 2 = 2\), pa se dobije \(\frac{1}{2}R^2\) ili \(4R^2\) umesto \(2R^2\). Pažljivo pomnožite: \(\frac{1}{2}\cdot 4R^2 = 2R^2\).</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Mešanje sinusne i kosinusne teoreme:</strong> Kosinusna teorema (\(a^2 = b^2 + c^2 - 2bc\cos\alpha\)) ovde nije potrebna. Sinusna teorema je sve što treba.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Brkanje formule \(P = \frac{1}{2}ab\sin C\) sa \(P = \frac{1}{2}ab\cos C\):</strong> U formuli za površinu uvek stoji sinus ugla između stranica, nikada kosinus.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Asimetrični odgovor:</strong> Površina trougla ne zavisi od toga kako imenujemo uglove, pa formula mora biti simetrična po \(\alpha\), \(\beta\), \(\gamma\). Odgovori D) i E) nisu simetrični &mdash; odmah ih možete eliminisati.</span>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#127891;</span> Izazov za razmišljanje</div>
  <div class="challenge-box">
    <p>Koristeći istu tehniku, dokaži da se obim trougla može izraziti kao:</p>
    <p>\[O = 2R(\sin\alpha + \sin\beta + \sin\gamma)\]</p>
    <p>Zatim, za pravougli trougao (\(\gamma = 90°\)), pokaži da površina postaje \(P = 2R^2\sin\alpha\cos\alpha = R^2\sin 2\alpha\). Za koje \(\alpha\) je površina pravouglog trougla sa datim \(R\) maksimalna?</p>
  </div>
</div>

<script>
(function() {
  const canvas = document.getElementById('triangleCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const W = canvas.width;
    const H = canvas.height;
    const dpr = window.devicePixelRatio || 1;
    canvas.style.width = W + 'px';
    canvas.style.height = H + 'px';
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    ctx.clearRect(0, 0, W, H);

    // Circumscribed circle center and radius
    const cx = W / 2;
    const cy = H / 2 + 10;
    const R = 160;

    // Angles for triangle vertices on circle (aesthetic placement)
    const alphaAngle = 50 * Math.PI / 180;
    const betaAngle = 70 * Math.PI / 180;
    const gammaAngle = 60 * Math.PI / 180;

    // Place vertices on circumscribed circle
    // Vertex A at top, B at bottom-right, C at bottom-left
    const thetaA = -Math.PI / 2 - 0.15;
    const thetaB = thetaA + 2 * gammaAngle + 2 * betaAngle; // not exactly but visually good
    const thetaC = thetaA - 2 * alphaAngle - 0.1;

    // Use specific angles for a nice-looking triangle
    const angA = -90 * Math.PI / 180;
    const angB = 35 * Math.PI / 180;
    const angC = 200 * Math.PI / 180;

    const Ax = cx + R * Math.cos(angA);
    const Ay = cy + R * Math.sin(angA);
    const Bx = cx + R * Math.cos(angB);
    const By = cy + R * Math.sin(angB);
    const Cx = cx + R * Math.cos(angC);
    const Cy = cy + R * Math.sin(angC);

    // Draw circumscribed circle
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Fill triangle
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96, 165, 250, 0.07)';
    ctx.fill();

    // Draw triangle sides
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Draw radius line from center to vertex A
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(Ax, Ay);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // R label
    const rmx = (cx + Ax) / 2 + 10;
    const rmy = (cy + Ay) / 2;
    ctx.font = 'italic 18px "Segoe UI", sans-serif';
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('R', rmx, rmy);

    // Center dot
    ctx.beginPath();
    ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();

    // Center label
    ctx.font = '14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('O', cx + 8, cy + 5);

    // Vertex dots and labels
    const vertices = [
      { x: Ax, y: Ay, label: 'A', angle: '\u03b1', lx: -5, ly: -16, alx: 20, aly: 16 },
      { x: Bx, y: By, label: 'B', angle: '\u03b2', lx: 10, ly: 8, alx: -28, aly: -4 },
      { x: Cx, y: Cy, label: 'C', angle: '\u03b3', lx: -22, ly: 8, alx: 20, aly: -4 }
    ];

    vertices.forEach(v => {
      ctx.beginPath();
      ctx.arc(v.x, v.y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();

      ctx.font = 'bold 17px "Segoe UI", sans-serif';
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText(v.label, v.x + v.lx, v.y + v.ly);

      ctx.font = 'italic 16px "Segoe UI", sans-serif';
      ctx.fillStyle = '#34d399';
    });

    // Draw angle arcs
    function drawAngleArc(vx, vy, p1x, p1y, p2x, p2y, label, color) {
      const a1 = Math.atan2(p1y - vy, p1x - vx);
      const a2 = Math.atan2(p2y - vy, p2x - vx);
      let start = a1;
      let end = a2;
      // Ensure we draw the smaller arc (interior angle)
      let diff = end - start;
      if (diff < -Math.PI) diff += 2 * Math.PI;
      if (diff > Math.PI) diff -= 2 * Math.PI;
      if (diff < 0) { start = a2; end = a1; diff = -diff; }

      const arcR = 28;
      ctx.beginPath();
      ctx.arc(vx, vy, arcR, start, start + diff);
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();

      const midAngle = start + diff / 2;
      const lbR = arcR + 16;
      ctx.font = 'italic 15px "Segoe UI", sans-serif';
      ctx.fillStyle = color;
      ctx.fillText(label, vx + lbR * Math.cos(midAngle) - 4, vy + lbR * Math.sin(midAngle) + 4);
    }

    drawAngleArc(Ax, Ay, Bx, By, Cx, Cy, '\u03b1', '#34d399');
    drawAngleArc(Bx, By, Ax, Ay, Cx, Cy, '\u03b2', '#34d399');
    drawAngleArc(Cx, Cy, Ax, Ay, Bx, By, '\u03b3', '#34d399');

    // Side labels
    function sideLabel(x1, y1, x2, y2, label, offsetX, offsetY) {
      const mx = (x1 + x2) / 2 + offsetX;
      const my = (y1 + y2) / 2 + offsetY;
      ctx.font = 'italic 17px "Segoe UI", sans-serif';
      ctx.fillStyle = '#f472b6';
      ctx.fillText(label, mx, my);
    }

    sideLabel(Bx, By, Cx, Cy, 'a', 0, 18);
    sideLabel(Ax, Ay, Cx, Cy, 'b', -20, 2);
    sideLabel(Ax, Ay, Bx, By, 'c', 12, -4);

    // Formula at the bottom
    ctx.font = '15px "Segoe UI", sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'center';
    ctx.fillText('a = 2R sin \u03b1,   b = 2R sin \u03b2,   c = 2R sin \u03b3', W / 2, H - 25);
    ctx.fillText('P = \u00bdab sin \u03b3 = 2R\u00b2 sin \u03b1 sin \u03b2 sin \u03b3', W / 2, H - 5);
    ctx.textAlign = 'left';
  }

  draw();

  // Touch/resize support
  window.addEventListener('resize', function() {
    draw();
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Površina trougla preko uglova i poluprečnika opisanog kruga","subject":"math","unit":"Trigonometrija","topic_tags":["trigonometrija","sinusna teorema","površina trougla","opisani krug","planimetrija"]}
BRAINSPARK_META-->
