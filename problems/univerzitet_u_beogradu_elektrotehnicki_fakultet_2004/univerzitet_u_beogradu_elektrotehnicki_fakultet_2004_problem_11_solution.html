<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nejednačina sa korenom i racionalnim izrazom</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Solve sqrt(1/(x+1)) > 1/(2x-1). Find the solution set.

DOMAIN:
- sqrt(1/(x+1)) defined when 1/(x+1) >= 0, i.e. x+1 > 0, so x > -1.
- 1/(2x-1) defined when 2x-1 != 0, so x != 1/2.
- Overall domain: x in (-1, 1/2) ∪ (1/2, +∞).

CASE 1: 2x - 1 < 0, i.e. x < 1/2 (combined with x > -1 gives x ∈ (-1, 1/2))
- LHS = sqrt(1/(x+1)) ≥ 0 (nonneg)
- RHS = 1/(2x-1) < 0 (negative since 2x-1 < 0)
- So LHS > RHS always. Entire interval (-1, 1/2) is part of solution.

CASE 2: 2x - 1 > 0, i.e. x > 1/2
- Both sides positive. Can square:
  1/(x+1) > 1/(2x-1)^2
  (2x-1)^2 > x+1  (since both denominators positive, flip)
  4x^2 - 4x + 1 > x + 1
  4x^2 - 5x > 0
  x(4x - 5) > 0
  Since x > 1/2 > 0, need 4x - 5 > 0 => x > 5/4.
  So from this case: x ∈ (5/4, +∞).

UNION: (-1, 1/2) ∪ (5/4, +∞)

ANSWER: A) x ∈ (-1, 1/2) ∪ (5/4, +∞)
</script>

<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  background: #1e293b;
  border: 2px solid #a78bfa;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin-bottom: 1.5rem;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
  font-size: 0.95rem;
  color: #a78bfa;
}

.checkpoint-label {
  font-weight: 700;
  margin-right: 0.25rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 600px) {
  body { padding: 0.5rem; }
  .card, .problem-statement, details .detail-content, .final-answer,
  .insight-box, .challenge-box { padding: 1rem; }
  .options-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Nejednačina sa korenom i racionalnim izrazom</h1>
  <p class="subtitle">Iracionalne nejednačine &mdash; analiza po slučajevima</p>

  <!-- PROBLEM STATEMENT -->
  <div class="problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Zadatak</div>
    <p>Nejednačina \(\sqrt{\dfrac{1}{x+1}} > \dfrac{1}{2x-1}\) je tačna ako i samo ako je:</p>
    <div class="options-grid">
      <div class="option correct">A) \(x \in \left(-1,\; \frac{1}{2}\right) \cup \left(\frac{5}{4},\; +\infty\right)\)</div>
      <div class="option">B) \(x \in \left(\frac{5}{4},\; +\infty\right)\)</div>
      <div class="option">C) \(x \in \left(-1,\; \frac{1}{2}\right)\)</div>
      <div class="option">D) \(x \in \left(\frac{4}{5},\; +\infty\right)\)</div>
      <div class="option">E) \(x \in \left(0,\; \frac{4}{5}\right)\)</div>
      <div class="option">N) Ne znam</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
    <ol class="plan-list">
      <li>Odrediti domen (oblast definisanosti) nejednačine</li>
      <li>Razdvojiti na slučajeve prema znaku desne strane \(\dfrac{1}{2x-1}\)</li>
      <li><strong>Slučaj 1:</strong> Kada je desna strana negativna &mdash; leva strana je automatski veća</li>
      <li><strong>Slučaj 2:</strong> Kada su obe strane pozitivne &mdash; kvadrirati i rešiti</li>
      <li>Ujediniti rešenja oba slučaja</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>Podsetnik iz teorije</summary>
    <div class="detail-content">
      <p><strong>Kvadratni koren:</strong> Izraz \(\sqrt{f(x)}\) je definisan kada je \(f(x) \geq 0\), a uvek važi \(\sqrt{f(x)} \geq 0\).</p>
      <p style="margin-top:0.75rem"><strong>Iracionalna nejednačina \(\sqrt{A} > B\):</strong></p>
      <ul style="margin-left:1.2rem;margin-top:0.4rem;">
        <li>Ako je \(B < 0\): nejednačina važi za svako \(x\) iz domena (jer je \(\sqrt{A} \geq 0 > B\)).</li>
        <li>Ako je \(B \geq 0\): možemo kvadrirati obe strane, jer su obe nenegativne. Dobijamo \(A > B^2\).</li>
      </ul>
      <p style="margin-top:0.75rem"><strong>Znak razlomka:</strong> Razlomak \(\dfrac{1}{2x-1}\) je pozitivan kada je \(2x - 1 > 0\), tj. \(x > \dfrac{1}{2}\), a negativan kada je \(x < \dfrac{1}{2}\).</p>
      <p style="margin-top:0.75rem"><strong>Znak proizvoda:</strong> \(x(4x-5) > 0\) važi kada su oba faktora istog znaka (oba pozitivna ili oba negativna).</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Grafički prikaz</div>
    <p class="muted" style="margin-bottom:0.75rem;">Grafici funkcija \(f(x) = \sqrt{\frac{1}{x+1}}\) (plavo) i \(g(x) = \frac{1}{2x-1}\) (ljubičasto). Rešenje nejednačine je tamo gde je plava kriva iznad ljubičaste.</p>
    <div class="canvas-wrap">
      <canvas id="diagram" width="700" height="450"></canvas>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Rešenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Domen nejednačine</div>
      <p>Da bi \(\sqrt{\dfrac{1}{x+1}}\) bilo definisano, potrebno je:</p>
      \[\frac{1}{x+1} \geq 0\]
      <p>Pošto je brojilac \(1 > 0\), razlomak je pozitivan kada je imenilac pozitivan:</p>
      \[x + 1 > 0 \;\;\Longrightarrow\;\; x > -1\]
      <p>Za desnu stranu potrebno je \(2x - 1 \neq 0\), tj. \(x \neq \dfrac{1}{2}\).</p>
      <p>Dakle, <strong>domen</strong> je:</p>
      \[\mathcal{D} = (-1,\; \tfrac{1}{2}) \cup (\tfrac{1}{2},\; +\infty)\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Za \(x = 0\): leva strana \(= \sqrt{1} = 1\), desna strana \(= \frac{1}{-1} = -1\). Važi \(1 > -1\). &#10003;
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Slučaj 1 &mdash; desna strana negativna (\(x \in (-1,\; \frac{1}{2})\))</div>
      <p>Kada je \(x < \dfrac{1}{2}\), imenilac \(2x - 1 < 0\), pa je:</p>
      \[\frac{1}{2x-1} < 0\]
      <p>Sa druge strane, leva strana je kvadratni koren, pa je uvek nenegativna:</p>
      \[\sqrt{\frac{1}{x+1}} \geq 0 > \frac{1}{2x-1}\]
      <p>Nejednačina <strong>automatski važi</strong> za svako \(x \in (-1,\; \tfrac{1}{2})\).</p>
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Za \(x = -\frac{1}{2}\): leva = \(\sqrt{\frac{1}{1/2}} = \sqrt{2} \approx 1{,}41\), desna = \(\frac{1}{-2} = -0{,}5\). Važi \(1{,}41 > -0{,}5\). &#10003;
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Slučaj 2 &mdash; obe strane pozitivne (\(x > \frac{1}{2}\))</div>
      <p>Kada je \(x > \dfrac{1}{2}\), obe strane nejednačine su pozitivne. Smemo da kvadriramo:</p>
      \[\sqrt{\frac{1}{x+1}} > \frac{1}{2x-1} \quad \Bigg|^{2}\]
      \[\frac{1}{x+1} > \frac{1}{(2x-1)^2}\]
      <p>Pošto su \(x + 1 > 0\) i \((2x-1)^2 > 0\), množimo unakrsno (nejednakost se čuva jer su oba imenioca pozitivna):</p>
      \[(2x-1)^2 > x + 1\]
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Rešavanje kvadratne nejednačine</div>
      <p>Razvijamo levu stranu:</p>
      \[4x^2 - 4x + 1 > x + 1\]
      <p>Prebacujemo sve na levu stranu:</p>
      \[4x^2 - 4x + 1 - x - 1 > 0\]
      \[4x^2 - 5x > 0\]
      <p>Izlučujemo \(x\):</p>
      \[x(4x - 5) > 0\]
      <p>Proizvod dva faktora je pozitivan kada su oba istog znaka:</p>
      <ul style="margin-left:1.2rem;margin-top:0.4rem;">
        <li>\(x > 0\) i \(4x - 5 > 0\) \(\Rightarrow\) \(x > \dfrac{5}{4}\)</li>
        <li>\(x < 0\) i \(4x - 5 < 0\) \(\Rightarrow\) \(x < 0\)</li>
      </ul>
      <p>Dakle: \(x \in (-\infty,\; 0) \cup \left(\dfrac{5}{4},\; +\infty\right)\).</p>
      <p>Ali mi smo u slučaju \(x > \dfrac{1}{2}\), pa presecamo:</p>
      \[\left((-\infty, 0) \cup \left(\tfrac{5}{4}, +\infty\right)\right) \cap \left(\tfrac{1}{2}, +\infty\right) = \left(\tfrac{5}{4},\; +\infty\right)\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Za \(x = 2\): leva = \(\sqrt{\frac{1}{3}} \approx 0{,}577\), desna = \(\frac{1}{3} \approx 0{,}333\). Važi \(0{,}577 > 0{,}333\). &#10003; Za \(x = 1\) (između \(\frac{1}{2}\) i \(\frac{5}{4}\)): leva = \(\sqrt{\frac{1}{2}} \approx 0{,}707\), desna = \(\frac{1}{1} = 1\). Ne važi \(0{,}707 > 1\). &#10003;
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Ujedinjenje rešenja</div>
      <p>Spajamo rezultate oba slučaja:</p>
      <ul style="margin-left:1.2rem;margin-top:0.4rem;">
        <li>Slučaj 1: \(x \in \left(-1,\; \dfrac{1}{2}\right)\)</li>
        <li>Slučaj 2: \(x \in \left(\dfrac{5}{4},\; +\infty\right)\)</li>
      </ul>
      \[\boxed{x \in \left(-1,\; \frac{1}{2}\right) \cup \left(\frac{5}{4},\; +\infty\right)}\]
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-title">Korak 6: Provera graničnih tačaka</div>
      <p>Proverimo da granične tačke <strong>ne pripadaju</strong> rešenju:</p>
      <ul style="margin-left:1.2rem;margin-top:0.4rem;">
        <li>\(x = -1\): leva strana nije definisana (deljenje nulom u korenu) &#10007;</li>
        <li>\(x = \frac{1}{2}\): desna strana nije definisana &#10007;</li>
        <li>\(x = \frac{5}{4}\): leva = \(\sqrt{\frac{1}{9/4}} = \sqrt{\frac{4}{9}} = \frac{2}{3}\), desna = \(\frac{1}{3/2} = \frac{2}{3}\). Jednakost, ali ne stroga nejednačina &#10007;</li>
      </ul>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
    <p>Ključ ovog zadatka je razdvajanje na slučajeve prema znaku desne strane. Kada je desna strana negativna, nejednačina važi automatski jer je koren uvek nenegativan. Tek kada su obe strane pozitivne smemo da kvadriramo. Ovaj pristup &bdquo;analiza po slučajevima&ldquo; je standardna tehnika za iracionalne nejednačine i eliminiše mogućnost gubljenja ili dodavanja lažnih rešenja.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konačan odgovor</div>
    <div class="value">A) \(\;x \in \left(-1,\; \dfrac{1}{2}\right) \cup \left(\dfrac{5}{4},\; +\infty\right)\)</div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Česte greške</div>
    <div class="pitfall">
      <strong>Kvadriranje bez provere znaka:</strong> Ako odmah kvadrirate obe strane bez obzira na znak desne strane, gubite ceo interval \(\left(-1, \frac{1}{2}\right)\). Kvadriranje je dozvoljeno samo kada su obe strane nenegativne.
    </div>
    <div class="pitfall">
      <strong>Zaborav na domen:</strong> Ako ne proverite da je podkoreni izraz nenegativan, možete dobiti rešenja izvan domena (npr. \(x < -1\) gde koren nije definisan).
    </div>
    <div class="pitfall">
      <strong>Mešanje \(\frac{5}{4}\) i \(\frac{4}{5}\):</strong> Odgovori D i E sadrže \(\frac{4}{5}\) umesto \(\frac{5}{4}\). Pažljivo rešavajte kvadratnu nejednačinu \(4x^2 - 5x > 0\): nule su \(x = 0\) i \(x = \frac{5}{4}\), ne \(\frac{4}{5}\).
    </div>
    <div class="pitfall">
      <strong>Uključivanje tačke \(x = \frac{5}{4}\):</strong> U toj tački važi jednakost \(\sqrt{\frac{4}{9}} = \frac{2}{3} = \frac{1}{3/2}\), ali nejednačina je stroga (\(>\)), pa se ova tačka ne uključuje.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Rešiti nejednačinu \(\sqrt{\dfrac{1}{x+1}} \geq \dfrac{1}{2x-1}\) (sa znakom \(\geq\) umesto \(>\)).</p>
    <p class="muted" style="margin-top:0.5rem;font-size:0.9rem;">Savet: Razlika je samo u graničnoj tački \(x = \frac{5}{4}\), gde važi jednakost. Da li se ona sada uključuje u rešenje?</p>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('diagram');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  // Coordinate system mapping
  // x range: -1.5 to 4, y range: -3 to 4
  var xMin = -1.5, xMax = 4;
  var yMin = -3, yMax = 4;

  var marginL = 60, marginR = 30, marginT = 30, marginB = 50;
  var plotW = W - marginL - marginR;
  var plotH = H - marginT - marginB;

  function toCanvasX(x) { return marginL + (x - xMin) / (xMax - xMin) * plotW; }
  function toCanvasY(y) { return marginT + (yMax - y) / (yMax - yMin) * plotH; }

  // Clear
  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // Grid lines
  ctx.strokeStyle = '#1e293b';
  ctx.lineWidth = 1;
  for (var gx = Math.ceil(xMin); gx <= xMax; gx++) {
    ctx.beginPath();
    ctx.moveTo(toCanvasX(gx), marginT);
    ctx.lineTo(toCanvasX(gx), H - marginB);
    ctx.stroke();
  }
  for (var gy = Math.ceil(yMin); gy <= yMax; gy++) {
    ctx.beginPath();
    ctx.moveTo(marginL, toCanvasY(gy));
    ctx.lineTo(W - marginR, toCanvasY(gy));
    ctx.stroke();
  }

  // Axes
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 2;
  // x-axis
  ctx.beginPath();
  ctx.moveTo(marginL, toCanvasY(0));
  ctx.lineTo(W - marginR, toCanvasY(0));
  ctx.stroke();
  // y-axis
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0), marginT);
  ctx.lineTo(toCanvasX(0), H - marginB);
  ctx.stroke();

  // Axis labels
  ctx.fillStyle = '#94a3b8';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  for (var lx = Math.ceil(xMin); lx <= xMax; lx++) {
    if (lx === 0) continue;
    ctx.fillText(lx.toString(), toCanvasX(lx), toCanvasY(0) + 18);
  }
  ctx.textAlign = 'right';
  for (var ly = Math.ceil(yMin); ly <= yMax; ly++) {
    if (ly === 0) continue;
    ctx.fillText(ly.toString(), toCanvasX(0) - 8, toCanvasY(ly) + 4);
  }

  // Special x-axis labels
  ctx.fillStyle = '#94a3b8';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('1/2', toCanvasX(0.5), toCanvasY(0) + 18);
  ctx.fillText('5/4', toCanvasX(1.25), toCanvasY(0) + 18);

  // Vertical asymptote at x = -1
  ctx.strokeStyle = '#ef4444';
  ctx.lineWidth = 1;
  ctx.setLineDash([5, 5]);
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-1), marginT);
  ctx.lineTo(toCanvasX(-1), H - marginB);
  ctx.stroke();

  // Vertical asymptote at x = 1/2
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0.5), marginT);
  ctx.lineTo(toCanvasX(0.5), H - marginB);
  ctx.stroke();
  ctx.setLineDash([]);

  // Asymptote labels
  ctx.fillStyle = '#ef4444';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('x = -1', toCanvasX(-1) + 4, marginT + 14);
  ctx.fillText('x = 1/2', toCanvasX(0.5) + 4, marginT + 14);

  // Helper: draw a curve from function, skipping asymptotes
  function drawCurve(fn, xStart, xEnd, color, lineW, skipAt) {
    ctx.strokeStyle = color;
    ctx.lineWidth = lineW;
    ctx.beginPath();
    var started = false;
    var step = (xEnd - xStart) / 1000;
    for (var x = xStart; x <= xEnd; x += step) {
      // Skip near asymptotes
      var skip = false;
      if (skipAt) {
        for (var s = 0; s < skipAt.length; s++) {
          if (Math.abs(x - skipAt[s]) < 0.02) { skip = true; break; }
        }
      }
      if (skip) { started = false; continue; }

      var y = fn(x);
      if (y === null || !isFinite(y) || y < yMin - 1 || y > yMax + 1) {
        started = false;
        continue;
      }

      var cx2 = toCanvasX(x);
      var cy2 = toCanvasY(y);
      if (!started) {
        ctx.moveTo(cx2, cy2);
        started = true;
      } else {
        ctx.lineTo(cx2, cy2);
      }
    }
    ctx.stroke();
  }

  // f(x) = sqrt(1/(x+1)), defined for x > -1
  function f(x) {
    if (x <= -1) return null;
    return Math.sqrt(1 / (x + 1));
  }

  // g(x) = 1/(2x-1), defined for x != 1/2
  function g(x) {
    var denom = 2 * x - 1;
    if (Math.abs(denom) < 0.01) return null;
    return 1 / denom;
  }

  // Draw g(x) in two pieces
  drawCurve(g, xMin, 0.48, '#a78bfa', 2.5, [0.5]);
  drawCurve(g, 0.52, xMax, '#a78bfa', 2.5, [0.5]);

  // Draw f(x)
  drawCurve(f, -0.98, xMax, '#60a5fa', 2.5, [-1]);

  // Shade the solution regions (light green)
  ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';

  // Region 1: x in (-1, 0.5)
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-1), toCanvasY(0));
  var step = 0.005;
  for (var x = -0.98; x <= 0.48; x += step) {
    var yf = f(x);
    if (yf !== null && isFinite(yf)) {
      ctx.lineTo(toCanvasX(x), toCanvasY(Math.min(yf, yMax)));
    }
  }
  ctx.lineTo(toCanvasX(0.48), toCanvasY(0));
  ctx.closePath();
  ctx.fill();

  // Region 2: x in (5/4, xMax) between f and g
  ctx.beginPath();
  var x1 = 1.25;
  for (var x = x1 + 0.01; x <= xMax; x += step) {
    var yf2 = f(x);
    if (yf2 !== null && isFinite(yf2)) {
      ctx.lineTo(toCanvasX(x), toCanvasY(yf2));
    }
  }
  for (var x = xMax; x >= x1 + 0.01; x -= step) {
    var yg2 = g(x);
    if (yg2 !== null && isFinite(yg2)) {
      ctx.lineTo(toCanvasX(x), toCanvasY(yg2));
    }
  }
  ctx.closePath();
  ctx.fill();

  // Mark intersection point at x = 5/4
  var ix = 1.25;
  var iy = f(ix);
  ctx.beginPath();
  ctx.arc(toCanvasX(ix), toCanvasY(iy), 5, 0, 2 * Math.PI);
  ctx.fillStyle = '#4ade80';
  ctx.fill();
  ctx.strokeStyle = '#0f172a';
  ctx.lineWidth = 2;
  ctx.stroke();

  // Label intersection
  ctx.fillStyle = '#4ade80';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('(5/4, 2/3)', toCanvasX(ix) + 8, toCanvasY(iy) - 6);

  // Legend
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';

  ctx.fillStyle = '#60a5fa';
  ctx.textAlign = 'right';
  ctx.fillText('f(x) = \u221A(1/(x+1))', W - marginR - 5, marginT + 20);

  ctx.fillStyle = '#a78bfa';
  ctx.fillText('g(x) = 1/(2x\u22121)', W - marginR - 5, marginT + 40);

  ctx.fillStyle = 'rgba(74, 222, 128, 0.6)';
  ctx.fillText('f(x) > g(x) \u2014 rešenje', W - marginR - 5, marginT + 60);

  // Solution set on x-axis
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 4;
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-1), toCanvasY(0));
  ctx.lineTo(toCanvasX(0.5), toCanvasY(0));
  ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(toCanvasX(1.25), toCanvasY(0));
  ctx.lineTo(toCanvasX(xMax), toCanvasY(0));
  ctx.stroke();

  // Open circles at boundary points
  var openPts = [-1, 0.5, 1.25];
  openPts.forEach(function(px) {
    ctx.beginPath();
    ctx.arc(toCanvasX(px), toCanvasY(0), 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#0f172a';
    ctx.fill();
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();
  });

  // Arrow at right end of solution
  ctx.fillStyle = '#4ade80';
  ctx.beginPath();
  var arX = toCanvasX(xMax);
  var arY = toCanvasY(0);
  ctx.moveTo(arX, arY - 5);
  ctx.lineTo(arX + 8, arY);
  ctx.lineTo(arX, arY + 5);
  ctx.fill();

})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Nejednačina sa korenom i racionalnim izrazom","subject":"math","unit":"nejednačine","topic_tags":["iracionalne nejednačine","analiza po slučajevima","kvadriranje nejednačina","domen funkcije","racionalni izrazi"]}
BRAINSPARK_META-->
