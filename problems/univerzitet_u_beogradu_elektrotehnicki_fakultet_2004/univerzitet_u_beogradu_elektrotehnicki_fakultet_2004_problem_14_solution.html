<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pravougaonik maksimalne povrsine upisan u jednakokraki trougao</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Isosceles triangle with base = 12 cm, corresponding height = 8 cm.
  A rectangle of maximum area is inscribed with one side on the base.
  Find the perimeter of the rectangle.

  Step 1: Setup coordinates
    Place the triangle with base BC on the x-axis, centered at origin.
    B = (-6, 0), C = (6, 0), A = (0, 8)

  Step 2: Express rectangle dimensions
    Let the rectangle have height y (0 < y < 8).
    At height y, the triangle width can be found by similar triangles.
    The small triangle above height y is similar to the original triangle.
    The small triangle has height (8 - y) and base proportional:
      width_at_y = 12 * (8 - y) / 8 = 12 - 3y/2

    So the rectangle has:
      width = 12(1 - y/8) = 12 - 3y/2
      height = y

  Step 3: Area function
    A(y) = y * (12 - 3y/2) = 12y - 3y^2/2

  Step 4: Maximize
    A'(y) = 12 - 3y = 0
    y = 4

  Step 5: Rectangle dimensions at y = 4
    width = 12 - 3*4/2 = 12 - 6 = 6
    height = 4

  Step 6: Perimeter
    P = 2*(6 + 4) = 2*10 = 20 cm

  Answer: A) 20

  Verification:
    A(4) = 4 * 6 = 24 cm^2 (maximum area)
    A''(y) = -3 < 0, so y = 4 is indeed a maximum.

  Alternative approach without calculus:
    A(y) = -3/2 * y^2 + 12y = -3/2 * (y^2 - 8y) = -3/2 * ((y-4)^2 - 16) = -3/2*(y-4)^2 + 24
    Maximum at y = 4, A_max = 24.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Pravougaonik maksimalne povrsine u trouglu</h1>
  <p class="subtitle">Optimizacija — slicnost trouglova, kvadratna funkcija, obim pravougaonika</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4CB;</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>U jednakokraki trougao osnovice duzine \( 12 \text{ cm} \) i odgovarajuce visine duzine \( 8 \text{ cm} \), upisan je pravougaonik maksimalne povrsine tako da mu jedna stranica pripada osnovici trougla. Obim pravougaonika (u cm) je:</p>
      <div class="options-grid">
        <div class="option correct">A) 20</div>
        <div class="option">B) 16</div>
        <div class="option">C) 14</div>
        <div class="option">D) 24</div>
        <div class="option">E) 10</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F3AF;</span> Plan resavanja</div>
    <p class="plan-text">
      Postavicemo koordinatni sistem sa osnovicom na \( x \)-osi. Koristeci slicnost trouglova, izrazicemo sirinu pravougaonika u funkciji njegove visine \( y \). Zatim cemo formirati funkciju povrsine \( P(y) \) i naci njen maksimum — bilo kompletiranjem kvadrata, bilo izvodom. Na kraju izracunavamo obim za optimalne dimenzije.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4DA;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Slicnost trouglova i presek na visini y (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Kada u trouglu povucemo pravu paralelnu sa osnovicom na visini \( y \), dobijamo manji trougao koji je slican polaznom. Ako je visina polaznog trougla \( h \), a osnovica \( a \), onda na visini \( y \) sirina iznosi:</p>
        <div class="step-math">
          \[ w(y) = a \cdot \frac{h - y}{h} = a\left(1 - \frac{y}{h}\right) \]
        </div>
        <p style="margin-top: 12px;">Ovo sledi iz cinjenice da je koeficijent slicnosti jednak \( \frac{h - y}{h} \).</p>
      </div>
    </details>
    <details>
      <summary>Maksimum kvadratne funkcije (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Za kvadratnu funkciju \( f(x) = ax^2 + bx + c \) sa \( a < 0 \), maksimum se dostize u temenu parabole:</p>
        <div class="step-math">
          \[ x_{\max} = -\frac{b}{2a}, \qquad f_{\max} = f\!\left(-\frac{b}{2a}\right) \]
        </div>
        <p style="margin-top: 12px;">Alternativno, ako znamo izvod: \( f'(x) = 0 \) daje isto resenje.</p>
      </div>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4D0;</span> Dijagram</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="560"></canvas>
    </div>
    <p class="canvas-caption">Jednakokraki trougao sa upisanim pravougaonikom maksimalne povrsine</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F522;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Postavljanje koordinatnog sistema</div>
        <p>Postavimo trougao tako da osnovica lezi na \( x \)-osi, centrirana u koordinatnom pocetku:</p>
        <ul style="margin: 10px 0 10px 20px;">
          <li>\( B = (-6,\; 0) \), \( C = (6,\; 0) \) — krajevi osnovice duzine 12</li>
          <li>\( A = (0,\; 8) \) — vrh trougla (visina 8)</li>
        </ul>
        <p>Pravougaonik ima jednu stranicu na osnovici \( BC \), od \( (-x,\; 0) \) do \( (x,\; 0) \), i visinu \( y \). Gornja stranica pravougaonika ide od \( (-x,\; y) \) do \( (x,\; y) \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Veza izmedju sirine i visine pravougaonika</div>
        <p>Gornja stranica pravougaonika mora da dodiruje krakove trougla. Na visini \( y \), trougao ima sirinu odredjenu slicnoscu. Mali trougao iznad visine \( y \) ima visinu \( (8 - y) \) i slican je polaznom trouglu sa koeficijentom \( \frac{8 - y}{8} \):</p>
        <div class="step-math">
          \[ \text{sirina na visini } y = 12 \cdot \frac{8 - y}{8} = 12 - \frac{3y}{2} \]
        </div>
        <p>Dakle, pravougaonik ima:</p>
        <div class="step-math">
          \[ \text{sirina} = 12 - \frac{3y}{2}, \qquad \text{visina} = y \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Provera granicnih slucajeva</summary>
            <div class="detail-content">
              <p>Za \( y = 0 \): sirina \( = 12 \) (cela osnovica) &#10003;</p>
              <p>Za \( y = 8 \): sirina \( = 12 - 12 = 0 \) (vrh trougla) &#10003;</p>
              <p>Formula je korektna.</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Funkcija povrsine</div>
        <p>Povrsina pravougaonika u funkciji visine \( y \):</p>
        <div class="step-math">
          \[ P(y) = y \cdot \left(12 - \frac{3y}{2}\right) = 12y - \frac{3y^2}{2} \]
        </div>
        <p>Ovo je kvadratna funkcija oblika \( P(y) = -\frac{3}{2}y^2 + 12y \), sa negativnim koeficijentom uz \( y^2 \), pa ima maksimum.</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Nalazenje maksimuma</div>
        <p><strong>Nacin 1 — Izvod:</strong></p>
        <div class="step-math">
          \[ P'(y) = 12 - 3y = 0 \implies y = 4 \]
        </div>
        <p><strong>Nacin 2 — Kompletiranje kvadrata:</strong></p>
        <div class="step-math">
          \[ P(y) = -\frac{3}{2}(y^2 - 8y) = -\frac{3}{2}\big((y - 4)^2 - 16\big) = -\frac{3}{2}(y - 4)^2 + 24 \]
        </div>
        <p>Maksimum se dostize za \( y = 4 \), i iznosi \( P_{\max} = 24 \text{ cm}^2 \).</p>

        <div class="checkpoint">
          <details>
            <summary>Potvrda da je maksimum (ne minimum)</summary>
            <div class="detail-content">
              <p>\( P''(y) = -3 < 0 \), sto potvrdjuje da je \( y = 4 \) tacka maksimuma. &#10003;</p>
              <p>Takodje, koeficijent uz \( (y-4)^2 \) je \( -\frac{3}{2} < 0 \), pa je parabola okrenuta nadole. &#10003;</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Dimenzije optimalnog pravougaonika</div>
        <p>Za \( y = 4 \):</p>
        <div class="step-math">
          \[ \text{visina} = 4 \text{ cm} \]
        </div>
        <div class="step-math">
          \[ \text{sirina} = 12 - \frac{3 \cdot 4}{2} = 12 - 6 = 6 \text{ cm} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Obim pravougaonika</div>
        <div class="step-math">
          \[ O = 2 \cdot (\text{sirina} + \text{visina}) = 2 \cdot (6 + 4) = 2 \cdot 10 = 20 \text{ cm} \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#x1F4A1;</span> Kljucni uvid</div>
    <p>Optimalni pravougaonik ima visinu jednaku <strong>tacno polovini visine trougla</strong> (\( y = 4 = \frac{8}{2} \)). Ovo nije slucajnost — za bilo koji trougao sa osnovicom \( a \) i visinom \( h \), pravougaonik maksimalne povrsine upisan uz osnovicu uvek ima visinu \( \frac{h}{2} \) i sirinu \( \frac{a}{2} \). Povrsina tog pravougaonika je tacno <strong>polovina povrsine trougla</strong>: \( P_{\text{max}} = \frac{a \cdot h}{4} = \frac{12 \cdot 8}{4} = 24 \text{ cm}^2 \).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( O = 20 \text{ cm} \)</div>
    <div class="answer-option">Tacan odgovor je A) 20</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Brkanje obima i povrsine:</strong> Zadatak trazi <em>obim</em>, ne povrsinu. Maksimalna povrsina je 24, ali to je odgovor D) koji je zamka! Obim je \( 2 \cdot (6 + 4) = 20 \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Pogresna formula za sirinu:</strong> Sirina na visini \( y \) je \( 12 \cdot \frac{8 - y}{8} \), ne \( 12 \cdot \frac{y}{8} \). Trougao se suzava ka vrhu, pa veca visina znaci manja sirina.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Zaboravljanje faktora 2 u obimu:</strong> Obim pravougaonika je \( 2(a + b) \), ne \( a + b \). Samo \( 6 + 4 = 10 \) bi dalo pogresan odgovor E).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#x1F3C6;</span> Dodatni izazov</div>
    <p>Sta ako pravougaonik ne mora da ima stranicu na osnovici, vec moze biti upisan tako da mu stranice dodiruju sve tri stranice trougla? Koliki bi tada bio maksimalni obim?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Ako pravougaonik ima stranicu na jednom od krakova jednakokrakog trougla (ne na osnovici), situacija je drugacija jer krak nije horizontalan. Medjutim, za klasican slucaj upisivanja uz osnovicu, opsti rezultat glasi:</p>
        <p style="margin-top: 8px;">Za trougao sa osnovicom \( a \) i visinom \( h \), optimalni pravougaonik ima dimenzije \( \frac{a}{2} \times \frac{h}{2} \), obim \( a + h \) i povrsinu \( \frac{ah}{4} \).</p>
        <p style="margin-top: 8px;">Primetimo da je obim optimalnog pravougaonika uvek \( a + h = 12 + 8 = 20 \), nezavisno od konkretnog oblika trougla (vazan je samo odnos osnovice i visine).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Triangle: base = 12, height = 8
    // Scale: 1 cm = 40 px
    const scale = 40;
    const cx = W / 2;
    const baseY = 490;

    // Triangle vertices
    const Bx = cx - 6 * scale;
    const By = baseY;
    const Cx = cx + 6 * scale;
    const Cy = baseY;
    const Ax = cx;
    const Ay = baseY - 8 * scale;

    // Optimal rectangle: width = 6, height = 4
    const rectH = 4 * scale;
    const rectW = 6 * scale;
    const rectY = baseY - rectH;

    // Draw the triangle
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.stroke();

    // Fill triangle lightly
    ctx.fillStyle = 'rgba(96, 165, 250, 0.04)';
    ctx.fill();

    // Draw the optimal rectangle
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.1)';
    ctx.beginPath();
    ctx.rect(cx - rectW / 2, rectY, rectW, rectH);
    ctx.fill();
    ctx.stroke();

    // Draw the height of the triangle (dashed)
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(cx, baseY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw dashed horizontal line at y = 4 extending to triangle edges
    const leftEdgeX = Bx + (Ax - Bx) * (rectH / (8 * scale));
    const rightEdgeX = Cx + (Ax - Cx) * (rectH / (8 * scale));
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(leftEdgeX, rectY);
    ctx.lineTo(cx - rectW / 2, rectY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx + rectW / 2, rectY);
    ctx.lineTo(rightEdgeX, rectY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Dimension arrows / labels

    // Height dimension (right side): y = 4
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    const dimX = cx + rectW / 2 + 30;
    // Arrow for y
    ctx.beginPath();
    ctx.moveTo(dimX, baseY);
    ctx.lineTo(dimX, rectY);
    ctx.stroke();
    // Arrow heads
    drawArrowHead(ctx, dimX, baseY, 'up', '#a78bfa');
    drawArrowHead(ctx, dimX, rectY, 'down', '#a78bfa');
    // Label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('y = 4', dimX + 30, (baseY + rectY) / 2);

    // Full height dimension (far right)
    const dimX2 = cx + rectW / 2 + 90;
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.5)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(dimX2, baseY);
    ctx.lineTo(dimX2, Ay);
    ctx.stroke();
    ctx.setLineDash([]);
    drawArrowHead(ctx, dimX2, baseY, 'up', '#94a3b8');
    drawArrowHead(ctx, dimX2, Ay, 'down', '#94a3b8');
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h = 8', dimX2 + 28, (baseY + Ay) / 2);

    // Width dimension (bottom): 6
    const dimY = baseY + 30;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx - rectW / 2, dimY);
    ctx.lineTo(cx + rectW / 2, dimY);
    ctx.stroke();
    drawArrowHead(ctx, cx - rectW / 2, dimY, 'right', '#34d399');
    drawArrowHead(ctx, cx + rectW / 2, dimY, 'left', '#34d399');
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('6', cx, dimY + 18);

    // Base dimension (bottom): 12
    const dimY2 = baseY + 55;
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.5)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(Bx, dimY2);
    ctx.lineTo(Cx, dimY2);
    ctx.stroke();
    drawArrowHead(ctx, Bx, dimY2, 'right', '#94a3b8');
    drawArrowHead(ctx, Cx, dimY2, 'left', '#94a3b8');
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a = 12', cx, dimY2 + 18);

    // Draw small triangle above rectangle (similar triangle)
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(cx - rectW / 2, rectY);
    ctx.lineTo(Ax, Ay);
    ctx.lineTo(cx + rectW / 2, rectY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for similar triangle
    ctx.fillStyle = '#f472b6';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('slican trougao', cx, Ay + 60);
    ctx.fillText('h - y = 4', cx, Ay + 78);

    // Vertex labels
    function drawPoint(x, y, color, label, offsetX, offsetY) {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      ctx.fillStyle = color;
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, x + offsetX, y + offsetY);
    }

    drawPoint(Ax, Ay, '#60a5fa', 'A', 0, -20);
    drawPoint(Bx, By, '#60a5fa', 'B', -18, 18);
    drawPoint(Cx, Cy, '#60a5fa', 'C', 18, 18);

    // Rectangle corner labels
    ctx.fillStyle = '#34d399';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    // Right angle markers at rectangle corners
    const markSize = 8;
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.5)';
    ctx.lineWidth = 1.2;
    // Bottom-left
    ctx.beginPath();
    ctx.moveTo(cx - rectW / 2 + markSize, By);
    ctx.lineTo(cx - rectW / 2 + markSize, By - markSize);
    ctx.lineTo(cx - rectW / 2, By - markSize);
    ctx.stroke();
    // Bottom-right
    ctx.beginPath();
    ctx.moveTo(cx + rectW / 2 - markSize, By);
    ctx.lineTo(cx + rectW / 2 - markSize, By - markSize);
    ctx.lineTo(cx + rectW / 2, By - markSize);
    ctx.stroke();

    // Area label inside rectangle
    ctx.fillStyle = 'rgba(52, 211, 153, 0.6)';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('P = 6 \u00D7 4 = 24 cm\u00B2', cx, rectY + rectH / 2 - 10);
    ctx.fillText('O = 2(6 + 4) = 20 cm', cx, rectY + rectH / 2 + 14);

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const legendX = 20;
    const legendY = 24;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legendX, legendY - 5, 18, 3);
    ctx.fillText('Jednakokraki trougao', legendX + 26, legendY);

    ctx.fillStyle = '#34d399';
    ctx.fillRect(legendX, legendY + 21, 18, 3);
    ctx.fillText('Pravougaonik maks. povrsine', legendX + 26, legendY + 26);

    ctx.fillStyle = '#f472b6';
    ctx.setLineDash([5, 3]);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY + 47);
    ctx.lineTo(legendX + 18, legendY + 47);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillText('Slican trougao (visina 8 \u2212 y)', legendX + 26, legendY + 50);
  }

  function drawArrowHead(ctx, x, y, direction, color) {
    ctx.fillStyle = color;
    ctx.beginPath();
    const s = 6;
    switch (direction) {
      case 'up':
        ctx.moveTo(x, y);
        ctx.lineTo(x - s, y + s * 1.5);
        ctx.lineTo(x + s, y + s * 1.5);
        break;
      case 'down':
        ctx.moveTo(x, y);
        ctx.lineTo(x - s, y - s * 1.5);
        ctx.lineTo(x + s, y - s * 1.5);
        break;
      case 'left':
        ctx.moveTo(x, y);
        ctx.lineTo(x + s * 1.5, y - s);
        ctx.lineTo(x + s * 1.5, y + s);
        break;
      case 'right':
        ctx.moveTo(x, y);
        ctx.lineTo(x - s * 1.5, y - s);
        ctx.lineTo(x - s * 1.5, y + s);
        break;
    }
    ctx.closePath();
    ctx.fill();
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Pravougaonik maksimalne povrsine upisan u jednakokraki trougao",
  "subject": "math",
  "unit": "optimization",
  "topic_tags": ["optimizacija", "kvadratna funkcija", "slicnost trouglova", "jednakokraki trougao", "obim pravougaonika", "izvod", "maksimum funkcije"]
}
BRAINSPARK_META-->