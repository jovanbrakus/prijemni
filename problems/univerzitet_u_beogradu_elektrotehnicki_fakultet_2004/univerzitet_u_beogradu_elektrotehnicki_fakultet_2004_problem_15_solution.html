<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Poluprecnik kruga kroz dve tacke sa centrom na pravoj</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Naci poluprecnik kruga koji sadrzi tacke (-2, 0) i (1, -3),
  a centar mu pripada pravoj x + y = 0.

  Centar je na pravoj x + y = 0, dakle centar ima oblik (a, -a).

  Rastojanje od centra do tacke (-2, 0):
    d1 = sqrt((a - (-2))^2 + (-a - 0)^2)
       = sqrt((a + 2)^2 + a^2)
       = sqrt(a^2 + 4a + 4 + a^2)
       = sqrt(2a^2 + 4a + 4)

  Rastojanje od centra do tacke (1, -3):
    d2 = sqrt((a - 1)^2 + (-a - (-3))^2)
       = sqrt((a - 1)^2 + (3 - a)^2)
       = sqrt(a^2 - 2a + 1 + 9 - 6a + a^2)
       = sqrt(2a^2 - 8a + 10)

  Posto su oba rastojanja jednaka poluprecniku:
    2a^2 + 4a + 4 = 2a^2 - 8a + 10
    4a + 4 = -8a + 10
    12a = 6
    a = 1/2

  Centar: (1/2, -1/2)

  Poluprecnik:
    r^2 = (1/2 + 2)^2 + (1/2)^2
        = (5/2)^2 + (1/2)^2
        = 25/4 + 1/4
        = 26/4
        = 13/2

    r = sqrt(13/2)

  Verifikacija sa drugom tackom:
    r^2 = (1/2 - 1)^2 + (-1/2 + 3)^2
        = (-1/2)^2 + (5/2)^2
        = 1/4 + 25/4
        = 26/4
        = 13/2  ‚úì

  Odgovor: C) sqrt(13/2)
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Poluprecnik kruga kroz dve tacke sa centrom na pravoj</h1>
  <p class="subtitle">Analiticka geometrija ‚Äî jednacina kruga, rastojanje izmedju tacaka, prava</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Poluprecnik kruga koji sadrzi tacke \((-2,\, 0)\) i \((1,\, -3)\), a centar mu pripada pravoj \(x + y = 0\), jeste:</p>
      <div class="options-grid">
        <div class="option">A) \( \sqrt{13} \)</div>
        <div class="option">B) \( \sqrt{\dfrac{13}{2}} \) </div>
        <div class="option correct">C) \( \sqrt{\dfrac{13}{2}} \)</div>
        <div class="option">D) \( \dfrac{13}{2} \)</div>
        <div class="option">E) \( \sqrt{\dfrac{13}{6}} \)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Centar kruga lezi na pravoj \(x + y = 0\), pa ga mozemo zapisati kao \((a,\, -a)\). Posto krug sadrzi obe zadate tacke, rastojanja od centra do svake od njih moraju biti jednaka (oba su jednaka poluprecniku). Iz tog uslova odredjujemo parametar \(a\), a zatim racunamo poluprecnik.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Jednacina kruga i rastojanje izmedju tacaka (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Jednacina kruga:</strong> Krug sa centrom \(C(p,\, q)\) i poluprecnikom \(r\) ima jednacinu:</p>
        <div class="step-math">
          \[ (x - p)^2 + (y - q)^2 = r^2 \]
        </div>
        <p style="margin-top: 12px;"><strong>Rastojanje izmedju dve tacke:</strong> Rastojanje izmedju tacaka \(A(x_1,\, y_1)\) i \(B(x_2,\, y_2)\) je:</p>
        <div class="step-math">
          \[ d(A,\, B) = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} \]
        </div>
        <p style="margin-top: 12px;"><strong>Tacka na pravoj:</strong> Ako tacka \((x,\, y)\) pripada pravoj \(x + y = 0\), tada vazi \(y = -x\), pa se tacka moze zapisati kao \((a,\, -a)\) za neko \(a \in \mathbb{R}\).</p>
        <p style="margin-top: 8px;"><strong>Kljucni princip:</strong> Ako tacka lezi na krugu, njeno rastojanje od centra jednako je poluprecniku. Ako dve tacke leze na istom krugu, njihova rastojanja od centra su medjusobno jednaka.</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="550"></canvas>
    </div>
    <p class="canvas-caption">Krug prolazi kroz tacke \((-2,\, 0)\) i \((1,\, -3)\), centar lezi na pravoj \(x + y = 0\)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Parametrizacija centra kruga</div>
        <p>Centar kruga pripada pravoj \(x + y = 0\), sto znaci da je \(y = -x\). Dakle, centar mozemo zapisati kao:</p>
        <div class="step-math">
          \[ C = (a,\, -a) \quad \text{za neko } a \in \mathbb{R} \]
        </div>
        <p>Ovim smo sveli problem na pronalazenje jednog nepoznatog parametra \(a\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Postavljanje uslova jednakosti rastojanja</div>
        <p>Posto obe tacke leze na krugu, rastojanje od centra \(C(a,\, -a)\) do svake od njih mora biti jednako poluprecniku \(r\):</p>
        <div class="step-math">
          \[ d\big(C,\, (-2,\, 0)\big) = d\big(C,\, (1,\, -3)\big) = r \]
        </div>
        <p>Racunamo kvadrate rastojanja (da izbegnemo korenovanje):</p>
        <div class="step-math">
          \[ r^2 = (a + 2)^2 + (-a - 0)^2 = (a + 2)^2 + a^2 \]
        </div>
        <div class="step-math">
          \[ r^2 = (a - 1)^2 + (-a + 3)^2 = (a - 1)^2 + (3 - a)^2 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto koristimo kvadrate rastojanja?</summary>
            <div class="detail-content">
              Rad sa kvadratima rastojanja je jednostavniji jer izbegavamo korenovanje. Posto je funkcija \(f(x) = x^2\) strogo rastuca za \(x \geq 0\), jednakost \(d_1 = d_2\) je ekvivalentna sa \(d_1^2 = d_2^2\).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Razvijanje izraza i resavanje po \(a\)</div>
        <p>Razvijamo levu stranu:</p>
        <div class="step-math">
          \[ (a + 2)^2 + a^2 = a^2 + 4a + 4 + a^2 = 2a^2 + 4a + 4 \]
        </div>
        <p>Razvijamo desnu stranu:</p>
        <div class="step-math">
          \[ (a - 1)^2 + (3 - a)^2 = a^2 - 2a + 1 + 9 - 6a + a^2 = 2a^2 - 8a + 10 \]
        </div>
        <p>Izjednacavamo:</p>
        <div class="step-math">
          \[ 2a^2 + 4a + 4 = 2a^2 - 8a + 10 \]
        </div>
        <p>Skracujemo \(2a^2\) sa obe strane:</p>
        <div class="step-math">
          \[ 4a + 4 = -8a + 10 \]
        </div>
        <div class="step-math">
          \[ 12a = 6 \quad \Rightarrow \quad a = \frac{1}{2} \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Odredjivanje centra kruga</div>
        <p>Posto je \(a = \dfrac{1}{2}\), centar kruga je:</p>
        <div class="step-math">
          \[ C = \left(\frac{1}{2},\, -\frac{1}{2}\right) \]
        </div>
        <p>Proverimo da li zaista pripada pravoj \(x + y = 0\):</p>
        <div class="step-math">
          \[ \frac{1}{2} + \left(-\frac{1}{2}\right) = 0 \quad \checkmark \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Racunanje poluprecnika</div>
        <p>Racunamo rastojanje od centra do tacke \((-2,\, 0)\):</p>
        <div class="step-math">
          \[ r^2 = \left(\frac{1}{2} + 2\right)^2 + \left(-\frac{1}{2}\right)^2 = \left(\frac{5}{2}\right)^2 + \left(\frac{1}{2}\right)^2 = \frac{25}{4} + \frac{1}{4} = \frac{26}{4} = \frac{13}{2} \]
        </div>
        <div class="step-math">
          \[ r = \sqrt{\frac{13}{2}} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Verifikacija sa drugom tackom</summary>
            <div class="detail-content">
              <p>Proverimo rastojanje od centra \(\left(\frac{1}{2},\, -\frac{1}{2}\right)\) do tacke \((1,\, -3)\):</p>
              <p style="margin-top: 8px;">\( r^2 = \left(\frac{1}{2} - 1\right)^2 + \left(-\frac{1}{2} + 3\right)^2 = \left(-\frac{1}{2}\right)^2 + \left(\frac{5}{2}\right)^2 = \frac{1}{4} + \frac{25}{4} = \frac{26}{4} = \frac{13}{2} \quad \checkmark \)</p>
              <p style="margin-top: 8px;">Oba rastojanja su jednaka, sto potvrdjuje da je resenje tacno.</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Uslov da centar lezi na pravoj \(x + y = 0\) nam omogucava da centar parametrizujemo jednim parametrom \((a,\, -a)\). Zatim, uslov da krug prolazi kroz dve tacke daje nam jednacinu sa jednom nepoznatom, sto problem cini jednostavnim. Kljucna tehnika je <strong>izjednacavanje kvadrata rastojanja</strong> od centra do obe tacke ‚Äî cime se eliminise kvadratni clan \(2a^2\) i dobija se linearna jednacina.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( r = \sqrt{\dfrac{13}{2}} \)</div>
    <div class="answer-option">Tacan odgovor je C) \( \sqrt{\dfrac{13}{2}} \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Greska u znaku pri razvijanju \((3 - a)^2\):</strong> Cesta greska je da se \((-a + 3)^2\) razvije kao \(a^2 + 6a + 9\) umesto \(a^2 - 6a + 9\). Obratite paznju: \((3 - a)^2 = 9 - 6a + a^2\).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje da se uzme koren:</strong> Izracunavanje daje \(r^2 = \frac{13}{2}\), ali poluprecnik je \(r = \sqrt{\frac{13}{2}}\), a ne \(\frac{13}{2}\). Odgovor D) je upravo ova zamka ‚Äî vrednost \(r^2\) umesto \(r\).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresna parametrizacija centra:</strong> Prava \(x + y = 0\) daje \(y = -x\), dakle centar je \((a,\, -a)\). Greska je pisati centar kao \((a,\, a)\), sto odgovara pravoj \(y = x\), a ne \(x + y = 0\).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Racunska greska u sabiranju razlomaka:</strong> Pri racunanju \(\frac{25}{4} + \frac{1}{4}\), rezultat je \(\frac{26}{4} = \frac{13}{2}\), a ne \(\frac{13}{4}\) ili \(\frac{26}{2}\). Pazljivo skracujte razlomke.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Napisite jednacinu kruga iz ovog zadatka u standardnom obliku \((x - p)^2 + (y - q)^2 = r^2\), a zatim je pretvorite u opsti oblik \(x^2 + y^2 + Dx + Ey + F = 0\). Koji su koeficijenti \(D\), \(E\) i \(F\)?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Standardni oblik sa centrom \(\left(\frac{1}{2},\, -\frac{1}{2}\right)\) i \(r^2 = \frac{13}{2}\):</p>
        <p style="margin-top: 8px;">\( \displaystyle \left(x - \frac{1}{2}\right)^2 + \left(y + \frac{1}{2}\right)^2 = \frac{13}{2} \)</p>
        <p style="margin-top: 12px;">Razvijamo:</p>
        <p style="margin-top: 8px;">\( \displaystyle x^2 - x + \frac{1}{4} + y^2 + y + \frac{1}{4} = \frac{13}{2} \)</p>
        <p style="margin-top: 8px;">\( \displaystyle x^2 + y^2 - x + y + \frac{1}{2} = \frac{13}{2} \)</p>
        <p style="margin-top: 8px;">\( \displaystyle x^2 + y^2 - x + y - 6 = 0 \)</p>
        <p style="margin-top: 12px;">Dakle: \(D = -1\), \(E = 1\), \(F = -6\).</p>
        <p style="margin-top: 8px;">Mozete proveriti uvrstavanjem obe tacke: \((-2)^2 + 0^2 - (-2) + 0 - 6 = 4 + 2 - 6 = 0\) i \(1^2 + (-3)^2 - 1 + (-3) - 6 = 1 + 9 - 1 - 3 - 6 = 0\). Obe zadovoljavaju jednacinu.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system mapping
  // Math range: x from -4.5 to 4.5, y from -5 to 3
  const xMin = -4.5, xMax = 4.5, yMin = -5, yMax = 3;
  const margin = 50;

  function toCanvasX(x) {
    return margin + (x - xMin) / (xMax - xMin) * (W - 2 * margin);
  }

  function toCanvasY(y) {
    return margin + (yMax - y) / (yMax - yMin) * (H - 2 * margin);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = 'rgba(51, 65, 85, 0.4)';
    ctx.lineWidth = 0.5;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(gx), margin);
      ctx.lineTo(toCanvasX(gx), H - margin);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      ctx.beginPath();
      ctx.moveTo(margin, toCanvasY(gy));
      ctx.lineTo(W - margin, toCanvasY(gy));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(margin, toCanvasY(0));
    ctx.lineTo(W - margin, toCanvasY(0));
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), margin);
    ctx.lineTo(toCanvasX(0), H - margin);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
      if (lx === 0) continue;
      ctx.fillText(lx.toString(), toCanvasX(lx), toCanvasY(0) + 16);
    }
    ctx.textAlign = 'right';
    for (var ly = Math.ceil(yMin); ly <= Math.floor(yMax); ly++) {
      if (ly === 0) continue;
      ctx.fillText(ly.toString(), toCanvasX(0) - 8, toCanvasY(ly) + 4);
    }
    ctx.textAlign = 'center';
    ctx.fillText('x', W - margin + 20, toCanvasY(0) + 4);
    ctx.fillText('y', toCanvasX(0), margin - 15);

    // Line x + y = 0 (y = -x)
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([8, 4]);
    ctx.beginPath();
    var lineYAtXMin = -xMin;
    var lineYAtXMax = -xMax;
    // Clamp to visible area
    var lx1 = xMin, ly1 = -xMin;
    var lx2 = xMax, ly2 = -xMax;
    ctx.moveTo(toCanvasX(lx1), toCanvasY(ly1));
    ctx.lineTo(toCanvasX(lx2), toCanvasY(ly2));
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for line
    ctx.fillStyle = '#f472b6';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x + y = 0', toCanvasX(2.8) + 5, toCanvasY(-2.8) - 8);

    // Circle: center (0.5, -0.5), r^2 = 13/2, r = sqrt(6.5) ‚âà 2.5495
    var cx = 0.5, cy = -0.5;
    var r = Math.sqrt(13 / 2);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    // Draw circle using parametric coordinates
    var steps = 200;
    for (var i = 0; i <= steps; i++) {
      var angle = (2 * Math.PI * i) / steps;
      var px = cx + r * Math.cos(angle);
      var py = cy + r * Math.sin(angle);
      if (i === 0) {
        ctx.moveTo(toCanvasX(px), toCanvasY(py));
      } else {
        ctx.lineTo(toCanvasX(px), toCanvasY(py));
      }
    }
    ctx.stroke();

    // Radius line from center to (-2, 0)
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.6)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(toCanvasX(cx), toCanvasY(cy));
    ctx.lineTo(toCanvasX(-2), toCanvasY(0));
    ctx.stroke();

    // Radius line from center to (1, -3)
    ctx.beginPath();
    ctx.moveTo(toCanvasX(cx), toCanvasY(cy));
    ctx.lineTo(toCanvasX(1), toCanvasY(-3));
    ctx.stroke();
    ctx.setLineDash([]);

    // Radius label
    ctx.fillStyle = '#34d399';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('r', toCanvasX(-0.5), toCanvasY(-0.05) - 5);
    ctx.fillText('r', toCanvasX(0.9), toCanvasY(-1.6) - 5);

    // Points
    function drawPoint(x, y, color, label, labelDx, labelDy) {
      var canvX = toCanvasX(x);
      var canvY = toCanvasY(y);
      // Outer glow
      ctx.beginPath();
      ctx.arc(canvX, canvY, 8, 0, 2 * Math.PI);
      ctx.fillStyle = color.replace(')', ', 0.3)').replace('rgb', 'rgba');
      ctx.fill();
      // Inner dot
      ctx.beginPath();
      ctx.arc(canvX, canvY, 5, 0, 2 * Math.PI);
      ctx.fillStyle = color;
      ctx.fill();
      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, canvX + labelDx, canvY + labelDy);
    }

    // Point (-2, 0)
    drawPoint(-2, 0, '#4ade80', '(-2, 0)', -35, -12);

    // Point (1, -3)
    drawPoint(1, -3, '#4ade80', '(1, -3)', 35, 18);

    // Center (0.5, -0.5)
    drawPoint(0.5, -0.5, '#f59e0b', 'C(1/2, -1/2)', 60, -12);

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Krug sa centrom na pravoj x + y = 0 kroz tacke (-2, 0) i (1, -3)', W / 2, 25);

    // Result badge
    var badgeY = H - 25;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.beginPath();
    ctx.moveTo(W / 2 - 110, badgeY - 14);
    ctx.lineTo(W / 2 + 110, badgeY - 14);
    ctx.quadraticCurveTo(W / 2 + 120, badgeY - 14, W / 2 + 120, badgeY - 4);
    ctx.lineTo(W / 2 + 120, badgeY + 6);
    ctx.quadraticCurveTo(W / 2 + 120, badgeY + 16, W / 2 + 110, badgeY + 16);
    ctx.lineTo(W / 2 - 110, badgeY + 16);
    ctx.quadraticCurveTo(W / 2 - 120, badgeY + 16, W / 2 - 120, badgeY + 6);
    ctx.lineTo(W / 2 - 120, badgeY - 4);
    ctx.quadraticCurveTo(W / 2 - 120, badgeY - 14, W / 2 - 110, badgeY - 14);
    ctx.closePath();
    ctx.fill();
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('r = \u221A(13/2) \u2248 2,55', W / 2, badgeY + 5);
  }

  draw();

  var resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Poluprecnik kruga kroz dve tacke sa centrom na pravoj",
  "subject": "math",
  "unit": "analytic_geometry",
  "topic_tags": ["jednacina kruga", "rastojanje izmedju tacaka", "analiticka geometrija", "prava u ravni", "parametrizacija"]
}
BRAINSPARK_META-->