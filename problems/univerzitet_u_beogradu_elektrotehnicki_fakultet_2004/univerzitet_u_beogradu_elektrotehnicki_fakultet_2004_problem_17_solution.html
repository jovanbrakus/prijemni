<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednakost trigonometrijskih izraza</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Uporediti ƒçetiri trigonometrijska izraza E‚ÇÅ, E‚ÇÇ, E‚ÇÉ, E‚ÇÑ.

E‚ÇÅ = sin¬≤((x+y)/2) + cos x cos y
E‚ÇÇ = cos¬≤((x-y)/2) - sin x sin y
E‚ÇÉ = cos¬≤((x+y)/2) + sin x sin y
E‚ÇÑ = sin¬≤((x-y)/2) + cos x cos y

Strategija: Primeniti formule za sin¬≤ i cos¬≤ poluugla, pa uprostiti.

Korak 1: Razvijanje E‚ÇÅ
  sin¬≤((x+y)/2) = (1 - cos(x+y))/2
  E‚ÇÅ = (1 - cos(x+y))/2 + cos x cos y
     = 1/2 - (cos x cos y - sin x sin y)/2 + cos x cos y
     = 1/2 - cos x cos y / 2 + sin x sin y / 2 + cos x cos y
     = 1/2 + cos x cos y / 2 + sin x sin y / 2
     = 1/2 + (cos x cos y + sin x sin y) / 2
     = 1/2 + cos(x - y) / 2

Korak 2: Razvijanje E‚ÇÇ
  cos¬≤((x-y)/2) = (1 + cos(x-y))/2
  E‚ÇÇ = (1 + cos(x-y))/2 - sin x sin y
     = 1/2 + (cos x cos y + sin x sin y)/2 - sin x sin y
     = 1/2 + cos x cos y / 2 + sin x sin y / 2 - sin x sin y
     = 1/2 + cos x cos y / 2 - sin x sin y / 2
     = 1/2 + (cos x cos y - sin x sin y) / 2
     = 1/2 + cos(x + y) / 2

Korak 3: Razvijanje E‚ÇÉ
  cos¬≤((x+y)/2) = (1 + cos(x+y))/2
  E‚ÇÉ = (1 + cos(x+y))/2 + sin x sin y
     = 1/2 + (cos x cos y - sin x sin y)/2 + sin x sin y
     = 1/2 + cos x cos y / 2 - sin x sin y / 2 + sin x sin y
     = 1/2 + cos x cos y / 2 + sin x sin y / 2
     = 1/2 + (cos x cos y + sin x sin y) / 2
     = 1/2 + cos(x - y) / 2

Korak 4: Razvijanje E‚ÇÑ
  sin¬≤((x-y)/2) = (1 - cos(x-y))/2
  E‚ÇÑ = (1 - cos(x-y))/2 + cos x cos y
     = 1/2 - (cos x cos y + sin x sin y)/2 + cos x cos y
     = 1/2 - cos x cos y / 2 - sin x sin y / 2 + cos x cos y
     = 1/2 + cos x cos y / 2 - sin x sin y / 2
     = 1/2 + (cos x cos y - sin x sin y) / 2
     = 1/2 + cos(x + y) / 2

Zakljuƒçak:
  E‚ÇÅ = E‚ÇÉ = 1/2 + cos(x-y)/2
  E‚ÇÇ = E‚ÇÑ = 1/2 + cos(x+y)/2

Odgovor: E) E‚ÇÅ = E‚ÇÉ, E‚ÇÇ = E‚ÇÑ
</script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  h1 {
    font-size: 2rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 6px;
    line-height: 1.3;
  }
  .subtitle { color: #94a3b8; font-size: 1.05rem; margin-bottom: 28px; }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon { font-size: 1.35rem; }
  .problem-statement {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
  }
  .problem-statement p { margin-bottom: 10px; }
  .options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 14px;
  }
  .option {
    background: #253349;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 8px 18px;
    font-size: 0.98rem;
    color: #cbd5e1;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.12);
    color: #34d399;
    font-weight: 700;
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 8px 0 8px 36px;
    position: relative;
    color: #cbd5e1;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 8px;
    width: 26px; height: 26px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    font-weight: 700;
    font-size: 0.82rem;
    display: flex; align-items: center; justify-content: center;
  }
  .collapsible-header {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .collapsible-header .arrow { transition: transform 0.3s; font-size: 1.1rem; color: #94a3b8; }
  .collapsible-header.open .arrow { transform: rotate(90deg); }
  .collapsible-body { display: none; margin-top: 14px; color: #cbd5e1; }
  .collapsible-body.show { display: block; }
  .theory-rule {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-bottom: 10px;
    border-left: 3px solid #a78bfa;
  }
  .theory-rule strong { color: #a78bfa; }
  .step-card {
    border-left: 3px solid #60a5fa;
    padding-left: 20px;
    margin-bottom: 18px;
  }
  .step-card:last-child { margin-bottom: 0; }
  .step-num {
    font-size: 0.82rem;
    font-weight: 700;
    color: #60a5fa;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 6px;
  }
  .step-desc { color: #cbd5e1; }
  .step-math {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-top: 10px;
    overflow-x: auto;
  }
  .insight-card {
    background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(96,165,250,0.1));
    border: 1px solid #a78bfa;
  }
  .final-answer-card {
    background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.08));
    border: 2px solid #34d399;
    text-align: center;
    padding: 28px;
  }
  .final-answer-card .answer-label {
    font-size: 0.9rem;
    color: #34d399;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 8px;
    font-weight: 700;
  }
  .final-answer-card .answer-value {
    font-size: 1.8rem;
    color: #4ade80;
    font-weight: 700;
  }
  .pitfall {
    background: rgba(244,114,182,0.08);
    border-left: 3px solid #f472b6;
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 10px;
    color: #fbb6ce;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(96,165,250,0.08);
    border: 1px dashed #60a5fa;
    border-radius: 10px;
    padding: 18px 22px;
    color: #93c5fd;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    max-width: 100%;
  }
  .expr-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }
  .expr-table th, .expr-table td {
    padding: 10px 14px;
    border: 1px solid #334155;
    text-align: center;
  }
  .expr-table th {
    background: #253349;
    color: #60a5fa;
    font-weight: 700;
  }
  .expr-table td { color: #cbd5e1; }
  .expr-table .match-a { background: rgba(96,165,250,0.08); }
  .expr-table .match-b { background: rgba(167,139,250,0.08); }
  @media (max-width: 700px) {
    h1 { font-size: 1.4rem; }
    .card { padding: 16px 18px; }
    .options-grid { flex-direction: column; }
    body { padding: 12px; }
  }
</style>
</head>
<body>
<div class="container">

  <h1>Jednakost trigonometrijskih izraza</h1>
  <p class="subtitle">Trigonometrijske formule za poluugao i adicione formule</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Dati su izrazi:</p>
      <p>\( E_1 = \sin^2\!\dfrac{x+y}{2} + \cos x \cos y \)</p>
      <p>\( E_2 = \cos^2\!\dfrac{x-y}{2} - \sin x \sin y \)</p>
      <p>\( E_3 = \cos^2\!\dfrac{x+y}{2} + \sin x \sin y \)</p>
      <p>\( E_4 = \sin^2\!\dfrac{x-y}{2} + \cos x \cos y \)</p>
      <p style="margin-top:8px;">Taƒçan je iskaz:</p>
      <div class="options-grid">
        <div class="option">A) \(E_1 \neq E_2,\; E_3 = E_4\)</div>
        <div class="option">B) \(E_1 = E_2,\; E_3 \neq E_4\)</div>
        <div class="option">C) Meƒëu datim izrazima nema meƒëusobno jednakih</div>
        <div class="option">D) \(E_1 = E_2,\; E_3 = E_4\)</div>
        <div class="option correct">E) \(E_1 = E_3,\; E_2 = E_4\)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan re≈°avanja</div>
    <ol class="plan-list">
      <li>Primeniti formule za \(\sin^2\alpha\) i \(\cos^2\alpha\) preko dvostrukog ugla da bismo eliminisali kvadrate</li>
      <li>Razviti \(\cos(x+y)\) i \(\cos(x-y)\) koristeƒái adicione formule</li>
      <li>Uprostiti svaki od ƒçetiri izraza \(E_1, E_2, E_3, E_4\)</li>
      <li>Uporediti upros≈°ƒáene oblike i utvrditi koji su jednaki</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="collapsible-header" id="theoryToggle">
      <div class="card-title" style="margin-bottom:0;"><span class="icon">üìñ</span> Teorijsko podsetnik</div>
      <span class="arrow">‚ñ∂</span>
    </div>
    <div class="collapsible-body" id="theoryBody">
      <div class="theory-rule">
        <strong>Formule za poluugao (preko dvostrukog ugla):</strong>
        \[
        \sin^2\alpha = \frac{1 - \cos 2\alpha}{2}, \qquad \cos^2\alpha = \frac{1 + \cos 2\alpha}{2}
        \]
        <p style="margin-top:6px; color:#94a3b8;">Koristimo ih tako da stavimo \(\alpha = \dfrac{x \pm y}{2}\), pa je \(2\alpha = x \pm y\).</p>
      </div>
      <div class="theory-rule">
        <strong>Adicione formule za kosinus:</strong>
        \[
        \cos(x+y) = \cos x \cos y - \sin x \sin y
        \]
        \[
        \cos(x-y) = \cos x \cos y + \sin x \sin y
        \]
      </div>
      <div class="theory-rule">
        <strong>Korisne posledice:</strong>
        \[
        \cos x \cos y = \frac{\cos(x-y) + \cos(x+y)}{2}
        \]
        \[
        \sin x \sin y = \frac{\cos(x-y) - \cos(x+y)}{2}
        \]
      </div>
    </div>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz ‚Äî struktura izraza</div>
    <canvas id="vizCanvas" width="760" height="440"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">‚úèÔ∏è</span> Re≈°enje korak po korak</div>

    <div class="step-card">
      <div class="step-num">Korak 1 ‚Äî Kljuƒçne formule</div>
      <p class="step-desc">Zapisujemo formule koje ƒáemo primeniti na svaki izraz. Za \(\alpha = \dfrac{x+y}{2}\) imamo \(2\alpha = x+y\), a za \(\alpha = \dfrac{x-y}{2}\) imamo \(2\alpha = x-y\):</p>
      <div class="step-math">
        \[
        \sin^2\!\frac{x+y}{2} = \frac{1 - \cos(x+y)}{2}, \qquad \cos^2\!\frac{x+y}{2} = \frac{1 + \cos(x+y)}{2}
        \]
        \[
        \sin^2\!\frac{x-y}{2} = \frac{1 - \cos(x-y)}{2}, \qquad \cos^2\!\frac{x-y}{2} = \frac{1 + \cos(x-y)}{2}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 2 ‚Äî Uprostimo \(E_1\)</div>
      <p class="step-desc">Zamenjujemo \(\sin^2\!\frac{x+y}{2}\) i razvijamo \(\cos(x+y)\) pomoƒáu adicione formule:</p>
      <div class="step-math">
        \[
        E_1 = \frac{1 - \cos(x+y)}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} - \frac{\cos x \cos y - \sin x \sin y}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} - \frac{\cos x \cos y}{2} + \frac{\sin x \sin y}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} + \frac{\sin x \sin y}{2}
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y + \sin x \sin y}{2} = \boxed{\frac{1 + \cos(x-y)}{2}}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 3 ‚Äî Uprostimo \(E_2\)</div>
      <p class="step-desc">Zamenjujemo \(\cos^2\!\frac{x-y}{2}\) i razvijamo \(\cos(x-y)\):</p>
      <div class="step-math">
        \[
        E_2 = \frac{1 + \cos(x-y)}{2} - \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y + \sin x \sin y}{2} - \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} + \frac{\sin x \sin y}{2} - \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} - \frac{\sin x \sin y}{2}
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y - \sin x \sin y}{2} = \boxed{\frac{1 + \cos(x+y)}{2}}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 4 ‚Äî Uprostimo \(E_3\)</div>
      <p class="step-desc">Zamenjujemo \(\cos^2\!\frac{x+y}{2}\) i razvijamo \(\cos(x+y)\):</p>
      <div class="step-math">
        \[
        E_3 = \frac{1 + \cos(x+y)}{2} + \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y - \sin x \sin y}{2} + \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} - \frac{\sin x \sin y}{2} + \sin x \sin y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} + \frac{\sin x \sin y}{2}
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y + \sin x \sin y}{2} = \boxed{\frac{1 + \cos(x-y)}{2}}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 5 ‚Äî Uprostimo \(E_4\)</div>
      <p class="step-desc">Zamenjujemo \(\sin^2\!\frac{x-y}{2}\) i razvijamo \(\cos(x-y)\):</p>
      <div class="step-math">
        \[
        E_4 = \frac{1 - \cos(x-y)}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} - \frac{\cos x \cos y + \sin x \sin y}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} - \frac{\cos x \cos y}{2} - \frac{\sin x \sin y}{2} + \cos x \cos y
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y}{2} - \frac{\sin x \sin y}{2}
        \]
        \[
        = \frac{1}{2} + \frac{\cos x \cos y - \sin x \sin y}{2} = \boxed{\frac{1 + \cos(x+y)}{2}}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 6 ‚Äî Poreƒëenje rezultata</div>
      <p class="step-desc">Sada uporedimo sve dobijene upro≈°ƒáene oblike:</p>
      <div class="step-math">
        <table class="expr-table">
          <tr>
            <th>Izraz</th>
            <th>Upro≈°ƒáeni oblik</th>
            <th>Grupa</th>
          </tr>
          <tr class="match-a">
            <td>\(E_1\)</td>
            <td>\(\dfrac{1 + \cos(x-y)}{2}\)</td>
            <td style="color:#60a5fa; font-weight:700;">I</td>
          </tr>
          <tr class="match-b">
            <td>\(E_2\)</td>
            <td>\(\dfrac{1 + \cos(x+y)}{2}\)</td>
            <td style="color:#a78bfa; font-weight:700;">II</td>
          </tr>
          <tr class="match-a">
            <td>\(E_3\)</td>
            <td>\(\dfrac{1 + \cos(x-y)}{2}\)</td>
            <td style="color:#60a5fa; font-weight:700;">I</td>
          </tr>
          <tr class="match-b">
            <td>\(E_4\)</td>
            <td>\(\dfrac{1 + \cos(x+y)}{2}\)</td>
            <td style="color:#a78bfa; font-weight:700;">II</td>
          </tr>
        </table>
        <p style="margin-top:14px;">Dakle: \(E_1 = E_3\) i \(E_2 = E_4\).</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <div class="card-title"><span class="icon">üí°</span> Kljuƒçni uvid</div>
    <p>Iznenaƒëujuƒáe, izrazi sa \(\sin^2\) i \(\cos^2\) istog argumenta \(\dfrac{x+y}{2}\), ali razliƒçitim "partnerima" (\(\cos x \cos y\) i \(\sin x \sin y\)), daju isti rezultat! To je zato ≈°to formule \(\sin^2\alpha = \dfrac{1-\cos 2\alpha}{2}\) i \(\cos^2\alpha = \dfrac{1+\cos 2\alpha}{2}\) uvode suprotan znak ispred \(\cos(x+y)\), a adiciona formula za \(\cos(x+y)\) veƒá sadr≈æi \(-\sin x \sin y\) i \(+\cos x \cos y\). Kada se ti ƒçlanovi kombinuju sa "partnerima", razlike se taƒçno kompenzuju.</p>
    <p style="margin-top:10px;">Prepoznavanje da je \(\cos x \cos y + \sin x \sin y = \cos(x-y)\) i \(\cos x \cos y - \sin x \sin y = \cos(x+y)\) je kljuƒç za brzo re≈°avanje ovog zadatka.</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <div class="answer-label">Konaƒçan odgovor</div>
    <div class="answer-value">\(E_1 = E_3, \quad E_2 = E_4\) ‚Äî Taƒçan odgovor je E)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> ƒåeste gre≈°ke</div>
    <div class="pitfall">
      <strong>Me≈°anje adicionih formula:</strong> ƒåesta gre≈°ka je zameniti znakove u formulama \(\cos(x \pm y)\). Zapamtite: \(\cos(x+y) = \cos x \cos y \mathbf{-} \sin x \sin y\), a \(\cos(x-y) = \cos x \cos y \mathbf{+} \sin x \sin y\). Minus je kod zbira, plus je kod razlike!
    </div>
    <div class="pitfall">
      <strong>Pogre≈°na primena formule za poluugao:</strong> Ako stavimo \(\alpha = \frac{x+y}{2}\), onda je \(2\alpha = x+y\), ne \(\frac{x+y}{4}\). Dvostruki ugao poluugla je upravo ceo ugao.
    </div>
    <div class="pitfall">
      <strong>Prenagljeno zakljuƒçivanje:</strong> Mnogi uƒçenici poku≈°aju da "pogode" odgovor na osnovu simetrije izraza, bez razvijanja. Razlike su suptilne ‚Äî uvek proverite raƒçunom.
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <div class="challenge-box">
      <p>Poku≈°aj da doka≈æe≈° sledeƒáe identitete bez kori≈°ƒáenja adicionih formula, samo primenom formule za razliku kvadrata:</p>
      <p style="margin-top:10px;">
        \[\cos^2\!\frac{x+y}{2} + \sin x \sin y = \sin^2\!\frac{x+y}{2} + \cos x \cos y\]
      </p>
      <p style="margin-top:10px; font-size:0.9rem; color:#94a3b8;">Naputak: prebaci sve na jednu stranu i koristi \(\cos^2\alpha - \sin^2\alpha = \cos 2\alpha\) i \(\cos x \cos y - \sin x \sin y = \cos(x+y)\).</p>
    </div>
  </div>

</div>

<script>
(() => {
  // Theory toggle
  const theoryToggle = document.getElementById('theoryToggle');
  const theoryBody = document.getElementById('theoryBody');
  theoryToggle.addEventListener('click', () => {
    theoryToggle.classList.toggle('open');
    theoryBody.classList.toggle('show');
  });

  // Canvas visualization
  const canvas = document.getElementById('vizCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function drawViz() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#172033';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    // Subtle grid
    ctx.strokeStyle = '#1e3050';
    ctx.lineWidth = 1;
    for (let x = 0; x < W; x += 40) {
      ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, H); ctx.stroke();
    }
    for (let y = 0; y < H; y += 40) {
      ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(W, y); ctx.stroke();
    }

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Uporeƒëivanje izraza E\u2081, E\u2082, E\u2083, E\u2084', W / 2, 30);

    // --- Draw the 4 expression boxes ---
    const boxW = 310;
    const boxH = 70;
    const gapX = 30;
    const gapY = 30;
    const startX = (W - 2 * boxW - gapX) / 2;
    const startY = 60;

    const expressions = [
      { label: 'E\u2081', formula: 'sin\u00B2((x+y)/2) + cos x cos y', result: '(1 + cos(x\u2212y))/2', group: 'I', color: '#60a5fa' },
      { label: 'E\u2082', formula: 'cos\u00B2((x\u2212y)/2) \u2212 sin x sin y', result: '(1 + cos(x+y))/2', group: 'II', color: '#a78bfa' },
      { label: 'E\u2083', formula: 'cos\u00B2((x+y)/2) + sin x sin y', result: '(1 + cos(x\u2212y))/2', group: 'I', color: '#60a5fa' },
      { label: 'E\u2084', formula: 'sin\u00B2((x\u2212y)/2) + cos x cos y', result: '(1 + cos(x+y))/2', group: 'II', color: '#a78bfa' }
    ];

    const positions = [
      { x: startX, y: startY },
      { x: startX + boxW + gapX, y: startY },
      { x: startX, y: startY + boxH + gapY },
      { x: startX + boxW + gapX, y: startY + boxH + gapY }
    ];

    expressions.forEach((expr, i) => {
      const pos = positions[i];

      // Box background
      ctx.fillStyle = expr.group === 'I' ? 'rgba(96,165,250,0.08)' : 'rgba(167,139,250,0.08)';
      ctx.strokeStyle = expr.color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.roundRect(pos.x, pos.y, boxW, boxH, 10);
      ctx.fill();
      ctx.stroke();

      // Label
      ctx.fillStyle = expr.color;
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(expr.label, pos.x + 14, pos.y + 26);

      // Formula
      ctx.fillStyle = '#cbd5e1';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(expr.formula, pos.x + 50, pos.y + 26);

      // Result
      ctx.fillStyle = expr.color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('= ' + expr.result, pos.x + 50, pos.y + 52);

      // Group badge
      ctx.fillStyle = expr.color;
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('Grupa ' + expr.group, pos.x + boxW - 12, pos.y + 26);
      ctx.textAlign = 'left';
    });

    // --- Draw arrows showing equality ---
    const arrowY1 = startY + boxH + gapY / 2;
    const arrowY2 = startY + boxH + gapY / 2;

    // E1 = E3 arrow (left side)
    const leftCenterX = startX + boxW / 2;
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(startX + 30, startY + boxH + 4);
    ctx.lineTo(startX + 30, startY + boxH + gapY - 4);
    ctx.stroke();

    // = sign for E1=E3
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('=', startX + 30, arrowY1 + 5);

    // E2 = E4 arrow (right side)
    const rightX = startX + boxW + gapX + 30;
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(rightX, startY + boxH + 4);
    ctx.lineTo(rightX, startY + boxH + gapY - 4);
    ctx.stroke();

    // = sign for E2=E4
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('=', rightX, arrowY2 + 5);

    // ‚â† sign between groups
    const midX = startX + boxW + gapX / 2;
    const midY = startY + boxH / 2;
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(startX + boxW + 4, midY);
    ctx.lineTo(startX + boxW + gapX - 4, midY);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u2260', midX, midY + 5);

    // --- Bottom section: transformation diagram ---
    const bottomY = startY + 2 * boxH + gapY + 40;

    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Transformacija korak po korak', W / 2, bottomY);

    // Transformation flow
    const flowY = bottomY + 24;
    const stepBoxW = 170;
    const stepBoxH = 44;
    const stepGap = 18;
    const totalW = 4 * stepBoxW + 3 * stepGap;
    const flowStartX = (W - totalW) / 2;

    const flowSteps = [
      { text: 'sin\u00B2/cos\u00B2 formula', color: '#60a5fa' },
      { text: 'Razvij cos(x\u00B1y)', color: '#a78bfa' },
      { text: 'Sreƒëivanje', color: '#f472b6' },
      { text: 'Adiciona formula', color: '#34d399' }
    ];

    flowSteps.forEach((step, i) => {
      const fx = flowStartX + i * (stepBoxW + stepGap);
      const fy = flowY;

      ctx.fillStyle = 'rgba(30,41,59,0.9)';
      ctx.strokeStyle = step.color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.roundRect(fx, fy, stepBoxW, stepBoxH, 8);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = step.color;
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(step.text, fx + stepBoxW / 2, fy + stepBoxH / 2 + 4);

      // Arrow
      if (i < 3) {
        const ax = fx + stepBoxW + 2;
        const ay = fy + stepBoxH / 2;
        const ex = ax + stepGap - 4;
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 2;
        ctx.setLineDash([4, 3]);
        ctx.beginPath();
        ctx.moveTo(ax, ay);
        ctx.lineTo(ex, ay);
        ctx.stroke();
        ctx.setLineDash([]);

        ctx.fillStyle = '#475569';
        ctx.beginPath();
        ctx.moveTo(ex, ay - 4);
        ctx.lineTo(ex + 6, ay);
        ctx.lineTo(ex, ay + 4);
        ctx.fill();
      }
    });

    // Example transformation at bottom
    const exY = flowY + stepBoxH + 30;
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Primer: sin\u00B2((x+y)/2) + cos x cos y', W / 2, exY);

    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u2192  (1 \u2212 cos(x+y))/2 + cos x cos y', W / 2, exY + 22);

    ctx.fillStyle = '#a78bfa';
    ctx.fillText('\u2192  1/2 + cos x cos y / 2 + sin x sin y / 2', W / 2, exY + 44);

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u2192  (1 + cos(x\u2212y)) / 2', W / 2, exY + 68);

    // Final result box
    const resY = exY + 90;
    ctx.fillStyle = 'rgba(52,211,153,0.1)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(W / 2 - 200, resY, 400, 36, 8);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Odgovor: E) E\u2081 = E\u2083,  E\u2082 = E\u2084', W / 2, resY + 24);
  }

  drawViz();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Jednakost trigonometrijskih izraza",
  "subject": "math",
  "unit": "trigonometrija",
  "topic_tags": ["trigonometrija", "adicione formule", "poluugaone formule", "trigonometrijski identiteti", "sin kvadrat", "cos kvadrat"]
}
BRAINSPARK_META-->