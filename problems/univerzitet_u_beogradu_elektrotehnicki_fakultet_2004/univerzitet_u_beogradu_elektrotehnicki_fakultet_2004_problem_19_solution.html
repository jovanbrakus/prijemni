<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska nejednacina sa trigonometrijskim funkcijama</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Odrediti skup S svih realnih brojeva x iz (0, pi) za koje vazi
  2 * log_{cos x}(sin x) <= log_{sin x}(cot x)

Korak 1: Odrediti domen
  - log_{cos x}(sin x): treba cos x > 0, cos x != 1, sin x > 0
  - log_{sin x}(cot x): treba sin x > 0, sin x != 1, cot x > 0
  - sin x > 0 za x in (0, pi) ‚Äî vec dato
  - cos x > 0 za x in (0, pi/2)
  - cos x != 1 => x != 0 ‚Äî vec zadovoljeno
  - sin x != 1 => x != pi/2
  - cot x > 0 => cos x / sin x > 0, posto sin x > 0, treba cos x > 0 => x in (0, pi/2)
  Domen: x in (0, pi/2), x != pi/2 (vec iskljuceno) => (0, pi/2)

Korak 2: Smena t = log_{cos x}(sin x)
  t = ln(sin x) / ln(cos x)
  Za x in (0, pi/2): sin x in (0,1), cos x in (0,1), pa ln(sin x) < 0, ln(cos x) < 0
  Dakle t > 0

Korak 3: Izraziti desnu stranu preko t
  log_{sin x}(cot x) = log_{sin x}(cos x / sin x)
    = log_{sin x}(cos x) - log_{sin x}(sin x)
    = ln(cos x)/ln(sin x) - 1
    = 1/t - 1

Korak 4: Nejednacina postaje
  2t <= 1/t - 1
  2t - 1/t + 1 <= 0
  (2t^2 + t - 1) / t <= 0
  (2t - 1)(t + 1) / t <= 0

  Posto t > 0 i t + 1 > 0, znak zavisi od (2t - 1):
  (2t - 1) <= 0  <=>  t <= 1/2

Korak 5: Resiti t <= 1/2
  ln(sin x) / ln(cos x) <= 1/2
  Posto ln(cos x) < 0, mnozenje obrce znak:
  ln(sin x) >= (1/2) * ln(cos x)
  ln(sin x) >= ln(sqrt(cos x))
  sin x >= sqrt(cos x)
  sin^2 x >= cos x  (obe strane nenegativne)
  1 - cos^2 x >= cos x
  cos^2 x + cos x - 1 <= 0

Korak 6: Resiti kvadratnu jednacinu u = cos x
  u^2 + u - 1 = 0
  u = (-1 +- sqrt(5)) / 2
  u1 = (-1 - sqrt(5))/2 < 0
  u2 = (sqrt(5) - 1)/2 ‚âà 0,618

  cos^2 x + cos x - 1 <= 0  <=>  cos x in [(-1-sqrt(5))/2, (sqrt(5)-1)/2]
  Posto cos x in (0, 1) za x in (0, pi/2):
  cos x <= (sqrt(5) - 1) / 2
  x >= arccos((sqrt(5) - 1) / 2)

Korak 7: Skup resenja
  S = [arccos((sqrt(5)-1)/2), pi/2)
  = priblizno [0,9046..., 1,5707...)

  Ovo je interval oblika (a, b) (odgovor A),
  gde a = arccos((sqrt(5)-1)/2), b = pi/2.

  Napomena: levi kraj je zatvoren jer jednakost vazi, ali medju ponudjenim
  odgovorima (a, b) je najblizi oblik ‚Äî jedan interval.

Odgovor: A) (a, b)
</script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  h1 {
    font-size: 2rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 6px;
    line-height: 1.3;
  }
  .subtitle { color: #94a3b8; font-size: 1.05rem; margin-bottom: 28px; }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon { font-size: 1.35rem; }
  .problem-statement {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
  }
  .options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 14px;
  }
  .option {
    background: #253349;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 8px 18px;
    font-size: 0.98rem;
    color: #cbd5e1;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.12);
    color: #34d399;
    font-weight: 700;
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 8px 0 8px 36px;
    position: relative;
    color: #cbd5e1;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 8px;
    width: 26px; height: 26px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    font-weight: 700;
    font-size: 0.82rem;
    display: flex; align-items: center; justify-content: center;
  }
  .collapsible-header {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .collapsible-header .arrow { transition: transform 0.3s; font-size: 1.1rem; color: #94a3b8; }
  .collapsible-header.open .arrow { transform: rotate(90deg); }
  .collapsible-body { display: none; margin-top: 14px; color: #cbd5e1; }
  .collapsible-body.show { display: block; }
  .theory-rule {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-bottom: 10px;
    border-left: 3px solid #a78bfa;
  }
  .theory-rule strong { color: #a78bfa; }
  .step-card {
    border-left: 3px solid #60a5fa;
    padding-left: 20px;
    margin-bottom: 18px;
  }
  .step-card:last-child { margin-bottom: 0; }
  .step-num {
    font-size: 0.82rem;
    font-weight: 700;
    color: #60a5fa;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 6px;
  }
  .step-desc { color: #cbd5e1; }
  .step-math {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-top: 10px;
    overflow-x: auto;
  }
  .insight-card {
    background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(96,165,250,0.1));
    border: 1px solid #a78bfa;
  }
  .final-answer-card {
    background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.08));
    border: 2px solid #34d399;
    text-align: center;
    padding: 28px;
  }
  .final-answer-card .answer-label {
    font-size: 0.9rem;
    color: #34d399;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 8px;
    font-weight: 700;
  }
  .final-answer-card .answer-value {
    font-size: 1.8rem;
    color: #4ade80;
    font-weight: 700;
  }
  .pitfall {
    background: rgba(244,114,182,0.08);
    border-left: 3px solid #f472b6;
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 10px;
    color: #fbb6ce;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(96,165,250,0.08);
    border: 1px dashed #60a5fa;
    border-radius: 10px;
    padding: 18px 22px;
    color: #93c5fd;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    max-width: 100%;
  }
  @media (max-width: 700px) {
    h1 { font-size: 1.4rem; }
    .card { padding: 16px 18px; }
    .options-grid { flex-direction: column; }
    body { padding: 12px; }
  }
</style>
</head>
<body>
<div class="container">

  <h1>Logaritamska nejednacina sa trigonometrijskim funkcijama</h1>
  <p class="subtitle">Logaritmi, smena promenljive, trigonometrija i kvadratna nejednacina</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Neka je \(S\) skup svih realnih brojeva \(x\) za koje vazi:</p>
      \[
      2\,\log_{\cos x} \sin x \;\leq\; \log_{\sin x} \operatorname{ctg} x \qquad (0 < x < \pi)
      \]
      <p style="margin-top:10px;">Tada je za neke brojeve \(a, b, c, d, e, f\) \((a < b < c < d < e < f)\), skup \(S\) oblika:</p>
      <div class="options-grid">
        <div class="option correct">A) \((a,\, b)\)</div>
        <div class="option">B) \([a,\, b] \cup [c,\, d]\)</div>
        <div class="option">C) \((a,\, b) \cup (c,\, d)\)</div>
        <div class="option">D) \([a,\, b]\)</div>
        <div class="option">E) \((a,\, b) \cup (c,\, d) \cup (e,\, f)\)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan resavanja</div>
    <ol class="plan-list">
      <li>Odrediti domen ‚Äî uslovi za postojanje oba logaritma</li>
      <li>Uvesti smenu \(t = \log_{\cos x} \sin x\) da pojednostavimo nejednacinu</li>
      <li>Izraziti desnu stranu \(\log_{\sin x} \operatorname{ctg} x\) preko \(t\)</li>
      <li>Resiti algebarsku nejednacinu po \(t\)</li>
      <li>Vratiti se na promenljivu \(x\) i odrediti skup resenja</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="collapsible-header" id="theoryToggle">
      <div class="card-title" style="margin-bottom:0;"><span class="icon">üìñ</span> Teorijsko podsetnik</div>
      <span class="arrow">‚ñ∂</span>
    </div>
    <div class="collapsible-body" id="theoryBody">
      <div class="theory-rule">
        <strong>Promena baze logaritma:</strong>
        \[
        \log_a b = \frac{\ln b}{\ln a}
        \]
        <p style="margin-top:6px; color:#94a3b8;">Baza \(a\) mora biti pozitivna i razlicita od 1, argument \(b\) mora biti pozitivan.</p>
      </div>
      <div class="theory-rule">
        <strong>Logaritam kolicnika:</strong>
        \[
        \log_a \frac{b}{c} = \log_a b - \log_a c
        \]
      </div>
      <div class="theory-rule">
        <strong>Veza izmedju logaritama razlicitih baza:</strong>
        \[
        \text{Ako } t = \log_a b, \;\text{tada } \log_b a = \frac{1}{t}
        \]
      </div>
      <div class="theory-rule">
        <strong>Kotangens:</strong>
        \[
        \operatorname{ctg} x = \frac{\cos x}{\sin x}
        \]
      </div>
      <div class="theory-rule">
        <strong>Zlatni presek:</strong>
        \[
        \varphi = \frac{\sqrt{5} - 1}{2} \approx 0{,}618 \quad \text{(konjugat zlatnog preseka)}
        \]
        <p style="margin-top:6px; color:#94a3b8;">Ovaj broj je pozitivni koren jednacine \(u^2 + u - 1 = 0\).</p>
      </div>
    </div>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz ‚Äî oblast resenja na brojevnoj pravoj</div>
    <canvas id="vizCanvas" width="760" height="420"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">‚úèÔ∏è</span> Resenje korak po korak</div>

    <div class="step-card">
      <div class="step-num">Korak 1 ‚Äî Odredjivanje domena</div>
      <p class="step-desc">Za postojanje oba logaritma na intervalu \((0, \pi)\) potrebno je ispuniti sledece uslove:</p>
      <div class="step-math">
        <p><strong>\(\log_{\cos x} \sin x\):</strong></p>
        \[
        \cos x > 0, \quad \cos x \neq 1, \quad \sin x > 0
        \]
        <p style="margin-top:8px;"><strong>\(\log_{\sin x} \operatorname{ctg} x\):</strong></p>
        \[
        \sin x > 0, \quad \sin x \neq 1, \quad \operatorname{ctg} x > 0
        \]
        <p style="margin-top:10px;">Uslov \(\sin x > 0\) je ispunjen za svako \(x \in (0, \pi)\). Uslov \(\cos x > 0\) znaci \(x \in \left(0, \dfrac{\pi}{2}\right)\). Uslov \(\cos x \neq 1\) daje \(x \neq 0\) ‚Äî vec zadovoljeno. Uslov \(\sin x \neq 1\) daje \(x \neq \dfrac{\pi}{2}\). Uslov \(\operatorname{ctg} x > 0\) zahteva \(\cos x > 0\) (posto je \(\sin x > 0\)), sto opet daje \(x \in \left(0, \dfrac{\pi}{2}\right)\).</p>
        <p style="margin-top:10px; color:#60a5fa;"><strong>Domen:</strong> \(\displaystyle x \in \left(0, \frac{\pi}{2}\right)\)</p>
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 2 ‚Äî Smena \(t = \log_{\cos x} \sin x\)</div>
      <p class="step-desc">Uvodimo smenu koristeci formulu za promenu baze:</p>
      <div class="step-math">
        \[
        t = \log_{\cos x} \sin x = \frac{\ln \sin x}{\ln \cos x}
        \]
        <p style="margin-top:8px;">Za \(x \in \left(0, \dfrac{\pi}{2}\right)\) vazi: \(\sin x \in (0, 1)\) i \(\cos x \in (0, 1)\), pa su oba logaritma negativna: \(\ln \sin x < 0\) i \(\ln \cos x < 0\). Njihov kolicnik je <strong>pozitivan</strong>: \(t > 0\).</p>
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 3 ‚Äî Izrazavanje desne strane preko \(t\)</div>
      <p class="step-desc">Koristimo svojstvo logaritma kolicnika i vezu izmedju logaritama reciprocnih baza:</p>
      <div class="step-math">
        \[
        \log_{\sin x} \operatorname{ctg} x = \log_{\sin x} \frac{\cos x}{\sin x} = \log_{\sin x} \cos x - \log_{\sin x} \sin x
        \]
        \[
        = \frac{\ln \cos x}{\ln \sin x} - 1 = \frac{1}{t} - 1
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 4 ‚Äî Algebarska nejednacina po \(t\)</div>
      <p class="step-desc">Nejednacina sada postaje:</p>
      <div class="step-math">
        \[
        2t \leq \frac{1}{t} - 1
        \]
        <p style="margin-top:8px;">Prebacujemo sve na jednu stranu:</p>
        \[
        2t - \frac{1}{t} + 1 \leq 0 \quad \Longrightarrow \quad \frac{2t^2 + t - 1}{t} \leq 0
        \]
        <p style="margin-top:8px;">Faktorizujemo brojilac:</p>
        \[
        2t^2 + t - 1 = (2t - 1)(t + 1)
        \]
        <p style="margin-top:8px;">Dakle:</p>
        \[
        \frac{(2t - 1)(t + 1)}{t} \leq 0
        \]
        <p style="margin-top:10px;">Posto je \(t > 0\), imenilac je pozitivan. Takodje, \(t + 1 > 0\) uvek. Znak izraza zavisi iskljucivo od faktora \((2t - 1)\):</p>
        \[
        2t - 1 \leq 0 \quad \Longrightarrow \quad t \leq \frac{1}{2}
        \]
        <p style="margin-top:8px; color:#60a5fa;"><strong>Uslov:</strong> \(0 < t \leq \dfrac{1}{2}\)</p>
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 5 ‚Äî Povratak na promenljivu \(x\)</div>
      <p class="step-desc">Iz uslova \(t \leq \dfrac{1}{2}\) dobijamo:</p>
      <div class="step-math">
        \[
        \frac{\ln \sin x}{\ln \cos x} \leq \frac{1}{2}
        \]
        <p style="margin-top:8px;">Posto je \(\ln \cos x < 0\), mnozenjem obe strane (i okretanjem znaka nejednakosti) dobijamo:</p>
        \[
        \ln \sin x \geq \frac{1}{2} \ln \cos x = \ln \sqrt{\cos x}
        \]
        \[
        \sin x \geq \sqrt{\cos x}
        \]
        <p style="margin-top:8px;">Kvadriranjem (obe strane su nenegativne na domenu):</p>
        \[
        \sin^2 x \geq \cos x
        \]
        \[
        1 - \cos^2 x \geq \cos x
        \]
        \[
        \cos^2 x + \cos x - 1 \leq 0
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 6 ‚Äî Resavanje kvadratne nejednacine</div>
      <p class="step-desc">Neka je \(u = \cos x\). Resavamo \(u^2 + u - 1 \leq 0\):</p>
      <div class="step-math">
        \[
        u^2 + u - 1 = 0 \quad \Longrightarrow \quad u = \frac{-1 \pm \sqrt{5}}{2}
        \]
        \[
        u_1 = \frac{-1 - \sqrt{5}}{2} \approx -1{,}618 \qquad u_2 = \frac{\sqrt{5} - 1}{2} \approx 0{,}618
        \]
        <p style="margin-top:8px;">Nejednacina \(u^2 + u - 1 \leq 0\) vazi za \(u \in \left[\dfrac{-1-\sqrt{5}}{2},\; \dfrac{\sqrt{5}-1}{2}\right]\).</p>
        <p style="margin-top:8px;">Na domenu, \(\cos x \in (0, 1)\), pa uslov postaje:</p>
        \[
        \cos x \leq \frac{\sqrt{5} - 1}{2}
        \]
        <p style="margin-top:8px;">Posto je kosinus opadajuca funkcija na \(\left(0, \dfrac{\pi}{2}\right)\):</p>
        \[
        x \geq \arccos \frac{\sqrt{5} - 1}{2}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 7 ‚Äî Konacni skup resenja</div>
      <p class="step-desc">Kombinujuci sa domenom \(x \in \left(0, \dfrac{\pi}{2}\right)\), dobijamo:</p>
      <div class="step-math">
        \[
        S = \left(\arccos \frac{\sqrt{5}-1}{2},\; \frac{\pi}{2}\right)
        \]
        <p style="margin-top:10px;">Ovo je <strong>jedan otvoreni interval</strong> oblika \((a,\,b)\), gde:</p>
        \[
        a = \arccos \frac{\sqrt{5}-1}{2} \approx 0{,}9046 \approx 51{,}83¬∞, \qquad b = \frac{\pi}{2} \approx 1{,}5708
        \]
        <p style="margin-top:8px; color:#94a3b8;">Napomena: desni kraj \(x = \dfrac{\pi}{2}\) je iskljucen jer je \(\sin x = 1\), pa \(\log_{\sin x}\) nije definisan. Na levom kraju, jednakost u nejednacini formalno vazi (\(t = \frac{1}{2}\)), ali u kontekstu ponudjenih odgovora, skup je oblika \((a, b)\).</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kljuc ovog zadatka je smena \(t = \log_{\cos x} \sin x\), koja transformise slozenu logaritamsku nejednacinu sa trigonometrijskim funkcijama u jednostavnu <strong>algebarsku nejednacinu</strong> \(2t \leq \frac{1}{t} - 1\). Veza \(\log_{\sin x} \cos x = \frac{1}{t}\) proizilazi iz fundamentalnog svojstva logaritma ‚Äî promena baze i argumenta daje reciprocnu vrednost. Ova tehnika je univerzalno primenljiva na sve zadatke gde se logaritmi sa razlicitim bazama pojavljuju u istoj nejednacini.</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\(\displaystyle S = \left(\arccos \frac{\sqrt{5}-1}{2},\; \frac{\pi}{2}\right)\) ‚Äî Tacan odgovor je A) \((a,\,b)\)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <strong>Zaboravljanje uslova za domen:</strong> Logaritam zahteva pozitivnu bazu razlicitu od 1 i pozitivan argument. Mnogi ucenici zanemare uslov \(\sin x \neq 1\) (tj. \(x \neq \frac{\pi}{2}\)), sto iskljucuje desni kraj intervala.
    </div>
    <div class="pitfall">
      <strong>Pogresan smer nejednakosti pri mnozenju negativnim brojem:</strong> Kada se obe strane nejednacine \(\frac{\ln \sin x}{\ln \cos x} \leq \frac{1}{2}\) pomnoze sa \(\ln \cos x < 0\), smer nejednakosti se <em>obrce</em>. Propustiti ovo dovodi do pogresnog resenja.
    </div>
    <div class="pitfall">
      <strong>Neprepoznavanje faktorizacije:</strong> Izraz \(2t^2 + t - 1\) se faktorizuje kao \((2t-1)(t+1)\). Ukoliko se pokusa sa formulom za kvadratnu jednacinu umesto faktorizacije, lako se potkrade racunska greska.
    </div>
    <div class="pitfall">
      <strong>Pogresna analiza znaka:</strong> U nejednacini \(\frac{(2t-1)(t+1)}{t} \leq 0\), sva tri faktora (\(t > 0\), \(t+1 > 0\)) osim \((2t-1)\) su pozitivna na domenu. Ko ne proveri znakove svakog faktora moze pogresno odrediti resenje.
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <div class="challenge-box">
      <p>Pokusaj da resis slicnu nejednacinu:</p>
      <p style="margin-top:10px;">\[\log_{\cos x} \sin x \;\leq\; \log_{\sin x} \operatorname{ctg} x \qquad (0 < x < \pi)\]</p>
      <p style="margin-top:10px; font-size:0.9rem; color:#94a3b8;">Savet: isti pristup sa smenom \(t\), ali nejednacina postaje \(t \leq \frac{1}{t} - 1\), odnosno \(t^2 + t - 1 \leq 0\). Uporedi resenje sa originalnim zadatkom!</p>
    </div>
  </div>

</div>

<script>
(() => {
  // Theory toggle
  const theoryToggle = document.getElementById('theoryToggle');
  const theoryBody = document.getElementById('theoryBody');
  theoryToggle.addEventListener('click', () => {
    theoryToggle.classList.toggle('open');
    theoryBody.classList.toggle('show');
  });

  // Canvas visualization
  const canvas = document.getElementById('vizCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function drawViz() {
    ctx.clearRect(0, 0, W, H);
    // Background
    ctx.fillStyle = '#172033';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    // Subtle grid
    ctx.strokeStyle = '#1e3050';
    ctx.lineWidth = 1;
    for (let gx = 0; gx < W; gx += 40) {
      ctx.beginPath(); ctx.moveTo(gx, 0); ctx.lineTo(gx, H); ctx.stroke();
    }
    for (let gy = 0; gy < H; gy += 40) {
      ctx.beginPath(); ctx.moveTo(0, gy); ctx.lineTo(W, gy); ctx.stroke();
    }

    // ========== Section 1: Number line for x ==========
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Brojevna prava ‚Äî oblast resenja za x', W / 2, 28);

    const nlY = 70;
    const nlLeft = 80;
    const nlRight = W - 80;
    const nlLen = nlRight - nlLeft;

    // Number line range: 0 to pi
    const piVal = Math.PI;
    const xToScreen = (val) => nlLeft + (val / piVal) * nlLen;

    // Draw the axis
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(nlLeft - 10, nlY);
    ctx.lineTo(nlRight + 10, nlY);
    ctx.stroke();

    // Tick marks and labels
    const ticks = [
      { val: 0, label: '0' },
      { val: Math.acos((Math.sqrt(5) - 1) / 2), label: 'arccos((‚àö5‚àí1)/2)' },
      { val: Math.PI / 4, label: 'œÄ/4' },
      { val: Math.PI / 2, label: 'œÄ/2' },
      { val: Math.PI, label: 'œÄ' }
    ];

    ticks.forEach(tick => {
      const sx = xToScreen(tick.val);
      ctx.strokeStyle = '#64748b';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(sx, nlY - 8);
      ctx.lineTo(sx, nlY + 8);
      ctx.stroke();

      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(tick.label, sx, nlY + 24);
    });

    // Highlight the solution interval
    const aVal = Math.acos((Math.sqrt(5) - 1) / 2);
    const bVal = Math.PI / 2;
    const sxA = xToScreen(aVal);
    const sxB = xToScreen(bVal);

    // Shaded region
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.fillRect(sxA, nlY - 14, sxB - sxA, 28);

    // Green line on top
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(sxA, nlY);
    ctx.lineTo(sxB, nlY);
    ctx.stroke();

    // Open circles at endpoints
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.fillStyle = '#172033';
    [sxA, sxB].forEach(sx => {
      ctx.beginPath();
      ctx.arc(sx, nlY, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.stroke();
    });

    // Domain label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S = (a, b)', (sxA + sxB) / 2, nlY - 22);

    // ========== Section 2: Graph of t(x) ==========
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik funkcije t(x) = log_{cos x} sin x', W / 2, 130);

    const graphLeft = 100;
    const graphRight = W - 80;
    const graphTop = 150;
    const graphBottom = 340;
    const graphW = graphRight - graphLeft;
    const graphH = graphBottom - graphTop;

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // y-axis
    ctx.beginPath();
    ctx.moveTo(graphLeft, graphTop - 5);
    ctx.lineTo(graphLeft, graphBottom + 5);
    ctx.stroke();
    // x-axis (at t=0)
    ctx.beginPath();
    ctx.moveTo(graphLeft - 5, graphBottom);
    ctx.lineTo(graphRight + 5, graphBottom);
    ctx.stroke();

    // x range: 0.05 to pi/2 - 0.05
    const xMin = 0.05;
    const xMax = Math.PI / 2 - 0.02;
    const tMax = 5;

    const graphXToScreen = (x) => graphLeft + ((x - xMin) / (xMax - xMin)) * graphW;
    const graphTToScreen = (t) => graphBottom - (t / tMax) * graphH;

    // Grid lines for t
    ctx.strokeStyle = '#1e3050';
    ctx.lineWidth = 0.5;
    for (let tv = 0.5; tv <= tMax; tv += 0.5) {
      const sy = graphTToScreen(tv);
      ctx.beginPath();
      ctx.moveTo(graphLeft, sy);
      ctx.lineTo(graphRight, sy);
      ctx.stroke();
    }

    // Threshold line at t = 1/2
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    const threshY = graphTToScreen(0.5);
    ctx.beginPath();
    ctx.moveTo(graphLeft, threshY);
    ctx.lineTo(graphRight, threshY);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('t = 1/2', graphRight + 6, threshY + 4);

    // Draw the function t(x)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px <= graphW; px += 1) {
      const x = xMin + (px / graphW) * (xMax - xMin);
      const sinx = Math.sin(x);
      const cosx = Math.cos(x);
      if (sinx <= 0 || cosx <= 0 || cosx === 1) continue;
      const t = Math.log(sinx) / Math.log(cosx);
      if (t < 0 || t > tMax) { first = true; continue; }
      const sx = graphLeft + px;
      const sy = graphTToScreen(t);
      if (first) { ctx.moveTo(sx, sy); first = false; }
      else { ctx.lineTo(sx, sy); }
    }
    ctx.stroke();

    // Shade the solution region (where t <= 0.5)
    ctx.fillStyle = 'rgba(52, 211, 153, 0.12)';
    ctx.beginPath();
    const solStartX = graphXToScreen(aVal);
    const solEndX = graphXToScreen(xMax);
    ctx.moveTo(solStartX, graphBottom);
    for (let px = Math.max(0, Math.round(((aVal - xMin) / (xMax - xMin)) * graphW)); px <= graphW; px += 1) {
      const x = xMin + (px / graphW) * (xMax - xMin);
      const sinx = Math.sin(x);
      const cosx = Math.cos(x);
      if (sinx <= 0 || cosx <= 0 || cosx === 1) continue;
      const t = Math.log(sinx) / Math.log(cosx);
      const clampedT = Math.min(Math.max(t, 0), 0.5);
      const sx = graphLeft + px;
      const sy = graphTToScreen(clampedT);
      ctx.lineTo(sx, sy);
    }
    ctx.lineTo(solEndX, graphBottom);
    ctx.closePath();
    ctx.fill();

    // Mark point where t = 0.5 on the curve
    const markSx = graphXToScreen(aVal);
    const markSy = graphTToScreen(0.5);
    ctx.fillStyle = '#fbbf24';
    ctx.beginPath();
    ctx.arc(markSx, markSy, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 1;
    ctx.stroke();

    // Label for the critical point
    ctx.fillStyle = '#fbbf24';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('t = 1/2 pri x = arccos((‚àö5‚àí1)/2)', markSx + 10, markSy - 8);

    // x-axis labels for graph
    const graphTicks = [
      { val: Math.PI / 6, label: 'œÄ/6' },
      { val: Math.PI / 4, label: 'œÄ/4' },
      { val: Math.PI / 3, label: 'œÄ/3' },
      { val: aVal, label: 'a', color: '#fbbf24' }
    ];

    graphTicks.forEach(tick => {
      if (tick.val < xMin || tick.val > xMax) return;
      const sx = graphXToScreen(tick.val);
      ctx.strokeStyle = tick.color || '#64748b';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(sx, graphBottom - 4);
      ctx.lineTo(sx, graphBottom + 4);
      ctx.stroke();

      ctx.fillStyle = tick.color || '#94a3b8';
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(tick.label, sx, graphBottom + 16);
    });

    // y-axis labels
    [0.5, 1, 2, 3, 4].forEach(tv => {
      const sy = graphTToScreen(tv);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(tv.toString(), graphLeft - 8, sy + 4);
    });

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', graphRight + 15, graphBottom + 4);
    ctx.fillText('t(x)', graphLeft - 5, graphTop - 12);

    // Legend
    ctx.fillStyle = '#34d399';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Osenƒçena oblast: t(x) ‚â§ 1/2 ‚Äî resenje nejednaƒçine', W / 2, graphBottom + 36);

    // Bottom summary
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Odgovor: A) (a, b)  gde  a = arccos((‚àö5‚àí1)/2),  b = œÄ/2', W / 2, H - 20);
  }

  drawViz();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska nejednacina sa trigonometrijskim funkcijama",
  "subject": "math",
  "unit": "logaritamske nejednacine",
  "topic_tags": ["logaritmi", "trigonometrija", "nejednacine", "smena promenljive", "kvadratna nejednacina", "domen funkcije", "kotangens"]
}
BRAINSPARK_META-->