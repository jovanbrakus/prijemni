<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AritmetiÄko-geometrijska progresija i stepenovanje</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Ako su a, b i c istovremeno peti, sedamnaesti i trideset sedmi
Älan i aritmetiÄke i geometrijske progresije, tada je
a^(b-c) Â· b^(c-a) Â· c^(a-b) = ?

Analiza:
a, b, c su ISTOVREMENO Älanovi i AP i GP.
Neka su pozicije: n1=5, n2=17, n3=37.

ARITMETIÄŒKA PROGRESIJA:
  a = a1 + 4d
  b = a1 + 16d
  c = a1 + 36d

Razlike:
  b - c = (a1 + 16d) - (a1 + 36d) = -20d
  c - a = (a1 + 36d) - (a1 + 4d) = 32d
  a - b = (a1 + 4d) - (a1 + 16d) = -12d

Provera: (b-c) + (c-a) + (a-b) = -20d + 32d - 12d = 0 âœ“

GEOMETRIJSKA PROGRESIJA:
  a = g1 Â· r^4
  b = g1 Â· r^16
  c = g1 Â· r^36

IZRAÄŒUNAVANJE:
E = a^(b-c) Â· b^(c-a) Â· c^(a-b)

Logaritmujemo:
ln(E) = (b-c)Â·ln(a) + (c-a)Â·ln(b) + (a-b)Â·ln(c)

Zamena AP razlika:
ln(E) = (-20d)Â·ln(a) + (32d)Â·ln(b) + (-12d)Â·ln(c)

Zamena GP izraza za a, b, c:
ln(a) = ln(g1) + 4Â·ln(r)
ln(b) = ln(g1) + 16Â·ln(r)
ln(c) = ln(g1) + 36Â·ln(r)

ln(E) = d Â· [ -20Â·(ln(g1) + 4Â·ln(r)) + 32Â·(ln(g1) + 16Â·ln(r)) + (-12)Â·(ln(g1) + 36Â·ln(r)) ]

Koeficijent uz ln(g1): -20 + 32 - 12 = 0
Koeficijent uz ln(r): -20Â·4 + 32Â·16 - 12Â·36 = -80 + 512 - 432 = 0

Dakle: ln(E) = d Â· (0 + 0) = 0
E = e^0 = 1

Odgovor: B) 1
</script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  h1 {
    font-size: 2rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 6px;
    line-height: 1.3;
  }
  .subtitle { color: #94a3b8; font-size: 1.05rem; margin-bottom: 28px; }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon { font-size: 1.35rem; }
  .problem-statement {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
  }
  .options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 14px;
  }
  .option {
    background: #253349;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 8px 18px;
    font-size: 0.98rem;
    color: #cbd5e1;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.12);
    color: #34d399;
    font-weight: 700;
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 8px 0 8px 36px;
    position: relative;
    color: #cbd5e1;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 8px;
    width: 26px; height: 26px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    font-weight: 700;
    font-size: 0.82rem;
    display: flex; align-items: center; justify-content: center;
  }
  .collapsible-header {
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .collapsible-header .arrow { transition: transform 0.3s; font-size: 1.1rem; color: #94a3b8; }
  .collapsible-header.open .arrow { transform: rotate(90deg); }
  .collapsible-body { display: none; margin-top: 14px; color: #cbd5e1; }
  .collapsible-body.show { display: block; }
  .theory-rule {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-bottom: 10px;
    border-left: 3px solid #a78bfa;
  }
  .theory-rule strong { color: #a78bfa; }
  .step-card {
    border-left: 3px solid #60a5fa;
    padding-left: 20px;
    margin-bottom: 18px;
  }
  .step-card:last-child { margin-bottom: 0; }
  .step-num {
    font-size: 0.82rem;
    font-weight: 700;
    color: #60a5fa;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 6px;
  }
  .step-desc { color: #cbd5e1; }
  .step-math {
    background: #172033;
    border-radius: 8px;
    padding: 14px 18px;
    margin-top: 10px;
    overflow-x: auto;
  }
  .insight-card {
    background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(96,165,250,0.1));
    border: 1px solid #a78bfa;
  }
  .final-answer-card {
    background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.08));
    border: 2px solid #34d399;
    text-align: center;
    padding: 28px;
  }
  .final-answer-card .answer-label {
    font-size: 0.9rem;
    color: #34d399;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 8px;
    font-weight: 700;
  }
  .final-answer-card .answer-value {
    font-size: 1.8rem;
    color: #4ade80;
    font-weight: 700;
  }
  .pitfall {
    background: rgba(244,114,182,0.08);
    border-left: 3px solid #f472b6;
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 10px;
    color: #fbb6ce;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(96,165,250,0.08);
    border: 1px dashed #60a5fa;
    border-radius: 10px;
    padding: 18px 22px;
    color: #93c5fd;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    max-width: 100%;
  }
  @media (max-width: 700px) {
    h1 { font-size: 1.4rem; }
    .card { padding: 16px 18px; }
    .options-grid { flex-direction: column; }
    body { padding: 12px; }
  }
</style>
</head>
<body>
<div class="container">

  <h1>AritmetiÄko-geometrijska progresija i stepenovanje</h1>
  <p class="subtitle">Nizovi, logaritmi i algebarski identiteti</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title"><span class="icon">ğŸ“‹</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Ako su \(a\), \(b\) i \(c\) istovremeno peti, sedamnaesti i trideset sedmi Älan i aritmetiÄke i geometrijske progresije, tada je \(a^{b-c} \cdot b^{c-a} \cdot c^{a-b}\) jednako:</p>
      <div class="options-grid">
        <div class="option">A) \(\dfrac{1}{3}\)</div>
        <div class="option correct">B) 1</div>
        <div class="option">C) \(\dfrac{1}{2}\)</div>
        <div class="option">D) \(\dfrac{1}{4}\)</div>
        <div class="option">E) 2</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">ğŸ—ºï¸</span> Plan reÅ¡avanja</div>
    <ol class="plan-list">
      <li>Zapisati \(a\), \(b\), \(c\) pomoÄ‡u parametara aritmetiÄke progresije (AP)</li>
      <li>Zapisati \(a\), \(b\), \(c\) pomoÄ‡u parametara geometrijske progresije (GP)</li>
      <li>Izraziti eksponente \(b-c\), \(c-a\), \(a-b\) preko razlike AP</li>
      <li>Logaritmovati izraz i zameniti GP oblike</li>
      <li>Pokazati da se koeficijenti poniÅ¡tavaju, pa je rezultat 1</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="collapsible-header" id="theoryToggle">
      <div class="card-title" style="margin-bottom:0;"><span class="icon">ğŸ“–</span> Teorijsko podsetnik</div>
      <span class="arrow">â–¶</span>
    </div>
    <div class="collapsible-body" id="theoryBody">
      <div class="theory-rule">
        <strong>AritmetiÄka progresija (AP):</strong>
        \[ a_n = a_1 + (n-1)\,d \]
        <p style="margin-top:6px; color:#94a3b8;">Svaki Älan se od prethodnog razlikuje za konstantnu razliku \(d\).</p>
      </div>
      <div class="theory-rule">
        <strong>Geometrijska progresija (GP):</strong>
        \[ a_n = a_1 \cdot r^{\,n-1} \]
        <p style="margin-top:6px; color:#94a3b8;">Svaki Älan se od prethodnog razlikuje za konstantan koliÄnik \(r\).</p>
      </div>
      <div class="theory-rule">
        <strong>Logaritam proizvoda stepena:</strong>
        \[ \ln\!\bigl(x^{\alpha} \cdot y^{\beta} \cdot z^{\gamma}\bigr) = \alpha\ln x + \beta\ln y + \gamma\ln z \]
        <p style="margin-top:6px; color:#94a3b8;">Logaritmovanjem se stepenovanje svodi na mnoÅ¾enje, Å¡to olakÅ¡ava analizu.</p>
      </div>
      <div class="theory-rule">
        <strong>KljuÄna osobina eksponenata:</strong>
        \[ (b - c) + (c - a) + (a - b) = 0 \]
        <p style="margin-top:6px; color:#94a3b8;">Zbir eksponenata je uvek nula â€” ovo je teleskopski identitet.</p>
      </div>
    </div>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <div class="card-title"><span class="icon">ğŸ“Š</span> Vizuelni prikaz</div>
    <canvas id="vizCanvas" width="760" height="440"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">âœï¸</span> ReÅ¡enje korak po korak</div>

    <div class="step-card">
      <div class="step-num">Korak 1 â€” Zapisujemo Älanove u aritmetiÄkoj progresiji</div>
      <p class="step-desc">Neka su \(a_1\) i \(d\) prvi Älan i razlika AP. PoÅ¡to su \(a\), \(b\), \(c\) redom 5., 17. i 37. Älan:</p>
      <div class="step-math">
        \[
        a = a_1 + 4d, \qquad b = a_1 + 16d, \qquad c = a_1 + 36d
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 2 â€” RaÄunamo razlike eksponenata</div>
      <p class="step-desc">Iz AP zapisa direktno dobijamo razlike koje se javljaju kao eksponenti:</p>
      <div class="step-math">
        \[
        \begin{aligned}
        b - c &= (a_1 + 16d) - (a_1 + 36d) = -20d \\[6pt]
        c - a &= (a_1 + 36d) - (a_1 + 4d) = 32d \\[6pt]
        a - b &= (a_1 + 4d) - (a_1 + 16d) = -12d
        \end{aligned}
        \]
        <p style="margin-top:10px; color:#94a3b8;">Provera: \((-20d) + 32d + (-12d) = 0\) â€” zbir eksponenata je zaista nula.</p>
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 3 â€” Zapisujemo Älanove u geometrijskoj progresiji</div>
      <p class="step-desc">Neka su \(g_1\) i \(r\) prvi Älan i koliÄnik GP. Tada:</p>
      <div class="step-math">
        \[
        a = g_1 \cdot r^{4}, \qquad b = g_1 \cdot r^{16}, \qquad c = g_1 \cdot r^{36}
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 4 â€” Logaritmujemo traÅ¾eni izraz</div>
      <p class="step-desc">Neka je \(E = a^{b-c} \cdot b^{c-a} \cdot c^{a-b}\). Logaritmujemo:</p>
      <div class="step-math">
        \[
        \ln E = (b-c)\ln a + (c-a)\ln b + (a-b)\ln c
        \]
        <p style="margin-top:8px;">Zamenjujemo AP razlike i GP logaritme:</p>
        \[
        \ln E = (-20d)\,\ln(g_1 r^4) + 32d\,\ln(g_1 r^{16}) + (-12d)\,\ln(g_1 r^{36})
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 5 â€” Razvijamo logaritme</div>
      <p class="step-desc">Primenom pravila \(\ln(g_1 \cdot r^k) = \ln g_1 + k\ln r\), dobijamo:</p>
      <div class="step-math">
        \[
        \ln E = d\Big[\underbrace{(-20 + 32 - 12)}_{\text{koef. uz } \ln g_1} \cdot \ln g_1 + \underbrace{(-20\!\cdot\!4 + 32\!\cdot\!16 - 12\!\cdot\!36)}_{\text{koef. uz } \ln r} \cdot \ln r\Big]
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 6 â€” Pokazujemo da su oba koeficijenta nula</div>
      <p class="step-desc">RaÄunamo svaki koeficijent posebno:</p>
      <div class="step-math">
        \[
        \begin{aligned}
        &\textbf{Koeficijent uz } \ln g_1: \quad -20 + 32 - 12 = 0 \quad \checkmark \\[10pt]
        &\textbf{Koeficijent uz } \ln r: \quad -80 + 512 - 432 = 0 \quad \checkmark
        \end{aligned}
        \]
        <p style="margin-top:10px;">Dakle:</p>
        \[
        \ln E = d \cdot (0 \cdot \ln g_1 + 0 \cdot \ln r) = 0
        \]
      </div>
    </div>

    <div class="step-card">
      <div class="step-num">Korak 7 â€” KonaÄan zakljuÄak</div>
      <p class="step-desc">PoÅ¡to je \(\ln E = 0\), sledi:</p>
      <div class="step-math">
        \[
        E = e^{0} = 1
        \]
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <div class="card-title"><span class="icon">ğŸ’¡</span> KljuÄni uvid</div>
    <p>Ovaj zadatak se zasniva na dubokoj vezi izmeÄ‘u aritmetiÄke i geometrijske progresije. Eksponenti \(b-c\), \(c-a\), \(a-b\) dolaze iz AP (linearne razlike), dok baze \(a\), \(b\), \(c\) dolaze iz GP (eksponencijalne vrednosti). Kada logaritmujemo, GP se "linearizuje", a AP razlike obezbeÄ‘uju da se sve poniÅ¡ti â€” jer je zbir koeficijenata \((-20)+32+(-12)=0\) i ponderisani zbir \((-80)+512-432=0\). Rezultat je <strong>uvek 1</strong>, bez obzira na konkretne vrednosti parametara!</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <div class="answer-label">KonaÄan odgovor</div>
    <div class="answer-value">\( \boxed{1} \) â€” TaÄan odgovor je B)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">âš ï¸</span> ÄŒeste greÅ¡ke</div>
    <div class="pitfall">
      <strong>PokuÅ¡aj sa konkretnim brojevima:</strong> Mnogi uÄenici pokuÅ¡avaju da naÄ‘u konkretne vrednosti \(a\), \(b\), \(c\). To zahteva reÅ¡avanje sistema jednaÄina i nije potrebno â€” logaritmovanje daje elegantniji put.
    </div>
    <div class="pitfall">
      <strong>Zaboravljanje da se koriste OBE progresije:</strong> KljuÄno je da su \(a\), \(b\), \(c\) istovremeno Älanovi i AP i GP. Samo jedna progresija nije dovoljna za reÅ¡enje â€” potrebne su obe informacije zajedno.
    </div>
    <div class="pitfall">
      <strong>GreÅ¡ka u indeksiranju:</strong> Peti Älan ima indeks \(n=5\), pa je eksponent kod GP jednak \(r^{5-1}=r^4\), a u AP je \(a_1 + (5-1)d = a_1 + 4d\). ÄŒesta greÅ¡ka je pisanje \(r^5\) umesto \(r^4\).
    </div>
    <div class="pitfall">
      <strong>AritmetiÄka greÅ¡ka u koeficijentima:</strong> Koeficijent uz \(\ln r\) je \(-20 \cdot 4 + 32 \cdot 16 - 12 \cdot 36\). Lako je pogreÅ¡iti u mnoÅ¾enju â€” preporuÄuje se paÅ¾ljivo raÄunanje: \(-80 + 512 - 432 = 0\).
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">ğŸ†</span> Dodatni izazov</div>
    <div class="challenge-box">
      <p>DokaÅ¾ite opÅ¡tije tvrÄ‘enje: ako su \(a\), \(b\), \(c\) redom \(m\)-ti, \(n\)-ti i \(p\)-ti Älan i aritmetiÄke i geometrijske progresije, tada vaÅ¾i:</p>
      <p style="margin-top:10px;">\[ a^{b-c} \cdot b^{c-a} \cdot c^{a-b} = 1 \]</p>
      <p style="margin-top:10px; font-size:0.9rem; color:#94a3b8;">Uputstvo: koristite isti metod logaritmovanja. Koeficijent uz \(\ln g_1\) biÄ‡e \(-(n-p)d + (p-m)d - (m-n)d\), a koeficijent uz \(\ln r\) biÄ‡e \(-(n-p)(m-1)d + (p-m)(n-1)d - (m-n)(p-1)d\). PokaÅ¾ite da su oba jednaka nuli.</p>
    </div>
  </div>

</div>

<script>
(() => {
  // Theory toggle
  const theoryToggle = document.getElementById('theoryToggle');
  const theoryBody = document.getElementById('theoryBody');
  theoryToggle.addEventListener('click', () => {
    theoryToggle.classList.toggle('open');
    theoryBody.classList.toggle('show');
  });

  // Canvas visualization
  const canvas = document.getElementById('vizCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function drawViz() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#172033';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    // Grid lines
    ctx.strokeStyle = '#1e3050';
    ctx.lineWidth = 1;
    for (let x = 0; x < W; x += 40) {
      ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, H); ctx.stroke();
    }
    for (let y = 0; y < H; y += 40) {
      ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(W, y); ctx.stroke();
    }

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Struktura dokaza', W / 2, 28);

    // === Number line showing AP positions ===
    const nlY = 80;
    const nlLeft = 80;
    const nlRight = 680;

    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(nlLeft, nlY);
    ctx.lineTo(nlRight, nlY);
    ctx.stroke();

    // Positions: 5, 17, 37 mapped onto line
    const posMin = 5;
    const posMax = 37;
    const posScale = (nlRight - nlLeft) / (posMax - posMin);

    const positions = [
      { n: 5, label: 'a (5. clan)', color: '#60a5fa', varName: 'a' },
      { n: 17, label: 'b (17. clan)', color: '#a78bfa', varName: 'b' },
      { n: 37, label: 'c (37. clan)', color: '#f472b6', varName: 'c' }
    ];

    positions.forEach(p => {
      const x = nlLeft + (p.n - posMin) * posScale;
      // Tick mark
      ctx.strokeStyle = p.color;
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(x, nlY - 10);
      ctx.lineTo(x, nlY + 10);
      ctx.stroke();

      // Dot
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(x, nlY, 6, 0, Math.PI * 2);
      ctx.fill();

      // Label above
      ctx.fillStyle = p.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(p.label, x, nlY - 20);
    });

    // Difference arcs
    const arcData = [
      { from: 5, to: 17, label: '12d', color: '#60a5fa', yOff: 30 },
      { from: 17, to: 37, label: '20d', color: '#a78bfa', yOff: 30 },
      { from: 5, to: 37, label: '32d', color: '#f472b6', yOff: 55 }
    ];

    arcData.forEach(arc => {
      const x1 = nlLeft + (arc.from - posMin) * posScale;
      const x2 = nlLeft + (arc.to - posMin) * posScale;
      const midX = (x1 + x2) / 2;
      const arcY = nlY + arc.yOff;

      ctx.strokeStyle = arc.color;
      ctx.lineWidth = 1.5;
      ctx.setLineDash([4, 3]);
      ctx.beginPath();
      ctx.moveTo(x1, nlY + 10);
      ctx.quadraticCurveTo(midX, arcY + 15, x2, nlY + 10);
      ctx.stroke();
      ctx.setLineDash([]);

      ctx.fillStyle = arc.color;
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.globalAlpha = 0.85;
      ctx.fillText(arc.label, midX, arcY + 8);
      ctx.globalAlpha = 1;
    });

    // AP label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Aritmeticka progresija (brojevna prava)', nlLeft, nlY - 45);

    // === Exponent computation table ===
    const tableY = 185;
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Eksponenti iz AP', W / 2, tableY);

    const rows = [
      { exp: 'b - c = -20d', base: 'ln a = ln g\u2081 + 4 ln r', coefG: '-20', coefR: '-80', color: '#60a5fa' },
      { exp: 'c - a = 32d', base: 'ln b = ln g\u2081 + 16 ln r', coefG: '+32', coefR: '+512', color: '#a78bfa' },
      { exp: 'a - b = -12d', base: 'ln c = ln g\u2081 + 36 ln r', coefG: '-12', coefR: '-432', color: '#f472b6' }
    ];

    const rowH = 32;
    const rowStartY = tableY + 16;

    rows.forEach((row, i) => {
      const y = rowStartY + i * rowH;

      // Background
      ctx.fillStyle = 'rgba(30,41,59,0.6)';
      ctx.fillRect(100, y, 560, rowH - 4);

      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';

      // Exponent
      ctx.fillStyle = row.color;
      ctx.fillText(row.exp, 210, y + 20);

      // times sign
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('\u00D7', 320, y + 20);

      // Base (log)
      ctx.fillStyle = '#cbd5e1';
      ctx.fillText(row.base, 460, y + 20);

      // Coefficients
      ctx.fillStyle = '#fbbf24';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(row.coefR, 620, y + 20);
    });

    // Sum line
    const sumY = rowStartY + 3 * rowH + 6;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(100, sumY);
    ctx.lineTo(660, sumY);
    ctx.stroke();

    // Sum result
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Koef. uz ln g\u2081: -20 + 32 - 12 = 0', 280, sumY + 22);
    ctx.fillText('Koef. uz ln r: -80 + 512 - 432 = 0', 280, sumY + 44);

    // Arrow to conclusion
    const arrowStartY = sumY + 58;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(W / 2, arrowStartY);
    ctx.lineTo(W / 2, arrowStartY + 30);
    ctx.stroke();
    ctx.setLineDash([]);

    // Arrow head
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.moveTo(W / 2 - 6, arrowStartY + 25);
    ctx.lineTo(W / 2, arrowStartY + 35);
    ctx.lineTo(W / 2 + 6, arrowStartY + 25);
    ctx.fill();

    // Final result box
    const boxW = 260;
    const boxH2 = 50;
    const boxX = W / 2 - boxW / 2;
    const boxY = arrowStartY + 40;

    ctx.fillStyle = 'rgba(52, 211, 153, 0.1)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH2, 12);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('ln E = 0  \u21D2  E = 1', W / 2, boxY + 32);

    // Coefficient label
    ctx.fillStyle = '#fbbf24';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('koef. uz ln r', 620, rowStartY - 4);
  }

  drawViz();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "AritmetiÄko-geometrijska progresija i stepenovanje",
  "subject": "math",
  "unit": "nizovi",
  "topic_tags": ["aritmetiÄka progresija", "geometrijska progresija", "logaritmi", "stepenovanje", "algebarski identiteti"]
}
BRAINSPARK_META-->
