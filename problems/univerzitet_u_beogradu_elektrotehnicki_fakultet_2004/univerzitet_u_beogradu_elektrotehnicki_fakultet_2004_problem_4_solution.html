<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Odnos zbira i razlike - Kvadratni uslov</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Given a > b > 0 and a^2 + b^2 = 6ab, find (a+b)/(a-b).

  Key insight: Compute (a+b)^2 and (a-b)^2 using the given condition.

  Step 1: Compute (a+b)^2
    (a+b)^2 = a^2 + 2ab + b^2
            = (a^2 + b^2) + 2ab
            = 6ab + 2ab
            = 8ab

  Step 2: Compute (a-b)^2
    (a-b)^2 = a^2 - 2ab + b^2
            = (a^2 + b^2) - 2ab
            = 6ab - 2ab
            = 4ab

  Step 3: Since a > b > 0, we have a+b > 0 and a-b > 0.
    So (a+b)/(a-b) > 0.

  Step 4: Compute the ratio
    [(a+b)/(a-b)]^2 = (a+b)^2 / (a-b)^2 = 8ab / 4ab = 2
    Therefore (a+b)/(a-b) = sqrt(2)   (positive root since both numerator and denominator positive)

  Answer: B) sqrt(2)

  Verification with specific values:
    From a^2 + b^2 = 6ab, divide by b^2: (a/b)^2 - 6(a/b) + 1 = 0
    Let t = a/b: t^2 - 6t + 1 = 0 => t = (6 + sqrt(32))/2 = 3 + 2*sqrt(2)
    Since a > b > 0, t = 3 + 2*sqrt(2)
    Let's pick b = 1, a = 3 + 2*sqrt(2) ‚âà 5.828
    Check: a^2 + b^2 = (3+2sqrt2)^2 + 1 = 9 + 12sqrt2 + 8 + 1 = 18 + 12sqrt2
    6ab = 6(3+2sqrt2) = 18 + 12sqrt2 ‚úì
    (a+b)/(a-b) = (4+2sqrt2)/(2+2sqrt2) = 2(2+sqrt2) / 2(1+sqrt2) = (2+sqrt2)/(1+sqrt2)
    Rationalize: (2+sqrt2)(1-sqrt2)/((1+sqrt2)(1-sqrt2)) = (2-2sqrt2+sqrt2-2)/(1-2) = (-sqrt2)/(-1) = sqrt2 ‚úì
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .options-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <h1>Odnos zbira i razlike uz kvadratni uslov</h1>
  <p class="subtitle">Algebarski identiteti ‚Äî formule skracenog mnozenja i rad sa parametrima</p>

  <!-- Tekst zadatka -->
  <div class="card">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Ako je \( a > b > 0 \) i \( a^2 + b^2 = 6ab \), tada je \( \dfrac{a+b}{a-b} \) jednako:</p>
      <div class="options-grid">
        <div class="option">A) \( -\sqrt{2} \)</div>
        <div class="option correct">B) \( \sqrt{2} \)</div>
        <div class="option">C) \( \sqrt{6} \)</div>
        <div class="option">D) \( 1 \)</div>
        <div class="option">E) \( \dfrac{1}{\sqrt{2}} \)</div>
        <div class="option">N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Kljucna ideja: ne znamo konkretne vrednosti za \( a \) i \( b \), ali mozemo izracunati \( (a+b)^2 \) i \( (a-b)^2 \) koristeci dati uslov \( a^2 + b^2 = 6ab \). Zatim cemo iskoristiti cinjenicu da su \( a+b \) i \( a-b \) oba pozitivni da izracunamo trazeni kolicnik.
    </p>
  </div>

  <!-- Podsetnik iz teorije -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Formule skracenog mnozenja (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Kljucne formule za ovaj zadatak:</p>
        <div class="step-math">
          \[ (a + b)^2 = a^2 + 2ab + b^2 \]
        </div>
        <div class="step-math">
          \[ (a - b)^2 = a^2 - 2ab + b^2 \]
        </div>
        <p style="margin-top: 12px;">Obe formule se mogu prepisati grupisanjem:</p>
        <div class="step-math">
          \[ (a+b)^2 = (a^2 + b^2) + 2ab \qquad (a-b)^2 = (a^2 + b^2) - 2ab \]
        </div>
        <p style="margin-top: 8px;">Ovo je korisno jer nam je poznata vrednost \( a^2 + b^2 \) iz uslova zadatka. Takodje, vazno je zapamtiti da za pozitivne brojeve vazi \( \sqrt{x^2} = x \).</p>
      </div>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">Prikaz odnosa \( (a+b)^2 \), \( (a-b)^2 \) i uslova \( a^2 + b^2 = 6ab \)</p>
  </div>

  <!-- Resenje korak po korak -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo \( (a+b)^2 \)</div>
        <p>Koristimo formulu za kvadrat zbira i zamenjujemo \( a^2 + b^2 = 6ab \):</p>
        <div class="step-math">
          \[ (a+b)^2 = a^2 + 2ab + b^2 = (a^2 + b^2) + 2ab = 6ab + 2ab = 8ab \]
        </div>
        <p>Dakle, \( (a+b)^2 = 8ab \).</p>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo \( (a-b)^2 \)</div>
        <p>Slicno, koristimo formulu za kvadrat razlike:</p>
        <div class="step-math">
          \[ (a-b)^2 = a^2 - 2ab + b^2 = (a^2 + b^2) - 2ab = 6ab - 2ab = 4ab \]
        </div>
        <p>Dakle, \( (a-b)^2 = 4ab \).</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto mozemo ovako grupisati?</summary>
            <div class="detail-content">
              Zato sto i u formuli za \( (a+b)^2 \) i za \( (a-b)^2 \) figurise izraz \( a^2 + b^2 \), koji je prema uslovu zadatka jednak \( 6ab \). Ovim grupisanjem direktno zamenjujemo poznatu vrednost.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Odredimo znak kolicnika</div>
        <p>Posto je \( a > b > 0 \), oba broja su pozitivna, pa vazi:</p>
        <div class="step-math">
          \[ a + b > 0 \quad \text{i} \quad a - b > 0 \]
        </div>
        <p>Prema tome, kolicnik \( \dfrac{a+b}{a-b} \) je <strong>pozitivan</strong>. Ovo nam pomaze da eliminisemo odgovor A) \( -\sqrt{2} \).</p>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo kolicnik</div>
        <p>Kvadriramo trazeni izraz:</p>
        <div class="step-math">
          \[ \left(\frac{a+b}{a-b}\right)^2 = \frac{(a+b)^2}{(a-b)^2} = \frac{8ab}{4ab} = 2 \]
        </div>
        <p>Posto je \( ab > 0 \) (oba su pozitivni brojevi), mozemo skratiti \( ab \) iz brojioca i imenioca. Posto znamo da je kolicnik pozitivan:</p>
        <div class="step-math">
          \[ \frac{a+b}{a-b} = \sqrt{2} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto uzimamo pozitivan koren?</summary>
            <div class="detail-content">
              Iz koraka 3 znamo da su i \( a+b \) i \( a-b \) pozitivni (jer \( a > b > 0 \)). Kolicnik dva pozitivna broja je pozitivan, pa biramo pozitivan koren jednacine \( x^2 = 2 \), tj. \( x = \sqrt{2} \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Korak 5 (Verifikacija) -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Verifikacija konkretnim vrednostima</div>
        <p>Proverimo rezultat. Iz \( a^2 + b^2 = 6ab \) delimo sa \( b^2 \) (posto je \( b > 0 \)):</p>
        <div class="step-math">
          \[ \left(\frac{a}{b}\right)^2 - 6 \cdot \frac{a}{b} + 1 = 0 \]
        </div>
        <p>Neka je \( t = \frac{a}{b} \). Tada \( t^2 - 6t + 1 = 0 \), odakle:</p>
        <div class="step-math">
          \[ t = \frac{6 \pm \sqrt{36 - 4}}{2} = \frac{6 \pm \sqrt{32}}{2} = 3 \pm 2\sqrt{2} \]
        </div>
        <p>Posto \( a > b > 0 \), imamo \( t = \frac{a}{b} > 1 \), pa \( t = 3 + 2\sqrt{2} \approx 5{,}828 \).</p>
        <p>Uzmimo \( b = 1 \), \( a = 3 + 2\sqrt{2} \):</p>
        <div class="step-math">
          \[ \frac{a+b}{a-b} = \frac{4 + 2\sqrt{2}}{2 + 2\sqrt{2}} = \frac{2(2 + \sqrt{2})}{2(1 + \sqrt{2})} = \frac{2 + \sqrt{2}}{1 + \sqrt{2}} \]
        </div>
        <p>Racionalizujemo imenilac mnozenjem sa \( (1 - \sqrt{2}) \):</p>
        <div class="step-math">
          \[ \frac{(2+\sqrt{2})(1-\sqrt{2})}{(1+\sqrt{2})(1-\sqrt{2})} = \frac{2 - 2\sqrt{2} + \sqrt{2} - 2}{1 - 2} = \frac{-\sqrt{2}}{-1} = \sqrt{2} \;\; \checkmark \]
        </div>
      </div>
    </div>
  </div>

  <!-- Kljucni uvid -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kada u zadatku imate uslov oblika \( a^2 + b^2 = kab \) i trazite izraz sa \( a+b \) ili \( a-b \), <strong>nemojte traziti konkretne vrednosti za \( a \) i \( b \)</strong>! Umesto toga, koristite formule za \( (a+b)^2 \) i \( (a-b)^2 \) i zamenjujte poznati izraz \( a^2 + b^2 \). Ovo je elegantna tehnika koja izbegava resavanje kvadratne jednacine i rad sa komplikovanim korenima.</p>
  </div>

  <!-- Konacan odgovor -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( \dfrac{a+b}{a-b} = \sqrt{2} \)</div>
    <div class="answer-option">Tacan odgovor je B) \( \sqrt{2} \)</div>
  </div>

  <!-- Ceste greske -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje analize znaka:</strong> Jednacina \( x^2 = 2 \) ima dva resenja: \( \sqrt{2} \) i \( -\sqrt{2} \). Bez analize da su \( a+b \) i \( a-b \) oba pozitivni, mogli bismo pogresno izabrati negativan koren (odgovor A).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pokusaj nalazenja konkretnih vrednosti:</strong> Mnogi ucenici pokusavaju da rese sistem jednacina da nadju \( a \) i \( b \) pojedinacno. To je nepotrebno i mnogo komplikovanije ‚Äî dovoljno je raditi sa kvadratima zbira i razlike.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zamena formule:</strong> Obratite paznju da je \( (a+b)^2 = a^2 + \mathbf{2}ab + b^2 \) (sa <strong>plus</strong>), a \( (a-b)^2 = a^2 - \mathbf{2}ab + b^2 \) (sa <strong>minus</strong>). Zamena predznaka dovodi do pogresnog rezultata.</p>
    </div>
  </div>

  <!-- Dodatni izazov -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Ako vazi \( a > b > 0 \) i \( a^2 + b^2 = 4ab \), koliko je tada \( \dfrac{a+b}{a-b} \)?  A sta ako je uslov \( a^2 + b^2 = 10ab \)?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Za \( a^2 + b^2 = 4ab \):</p>
        <p>\( (a+b)^2 = 4ab + 2ab = 6ab \), \( (a-b)^2 = 4ab - 2ab = 2ab \)</p>
        <p>\( \left(\frac{a+b}{a-b}\right)^2 = \frac{6ab}{2ab} = 3 \), pa \( \frac{a+b}{a-b} = \sqrt{3} \)</p>
        <p style="margin-top: 12px;">Za \( a^2 + b^2 = 10ab \):</p>
        <p>\( (a+b)^2 = 12ab \), \( (a-b)^2 = 8ab \)</p>
        <p>\( \left(\frac{a+b}{a-b}\right)^2 = \frac{12}{8} = \frac{3}{2} \), pa \( \frac{a+b}{a-b} = \sqrt{\frac{3}{2}} = \frac{\sqrt{6}}{2} \)</p>
        <p style="margin-top: 12px;"><strong>Opsti obrazac:</strong> Ako je \( a^2 + b^2 = kab \), tada \( \frac{a+b}{a-b} = \sqrt{\frac{k+2}{k-2}} \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Pozadina
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Naslov dijagrama
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Vizuelizacija: od uslova do kolicnika', W / 2, 28);

    // Parametri rasporeda
    const boxW = 190;
    const boxH = 70;
    const arrowGap = 30;
    const startY = 60;

    // --- Gornji red: Uslov ---
    const condX = W / 2 - boxW / 2;
    const condY = startY;

    // Okvir uslova
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.fillStyle = 'rgba(96, 165, 250, 0.1)';
    roundRect(ctx, condX, condY, boxW, boxH, 10, true, true);

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Uslov:', W / 2, condY + 25);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a\u00B2 + b\u00B2 = 6ab', W / 2, condY + 50);

    // Strelice nadole (levo i desno)
    const midRow = condY + boxH + arrowGap;
    const leftCenterX = W / 2 - 130;
    const rightCenterX = W / 2 + 130;

    drawArrow(ctx, W / 2 - 40, condY + boxH, leftCenterX, midRow, '#60a5fa');
    drawArrow(ctx, W / 2 + 40, condY + boxH, rightCenterX, midRow, '#60a5fa');

    // Labele na strelicama
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('+2ab', W / 2 - 55, midRow - 12);
    ctx.textAlign = 'left';
    ctx.fillText('\u22122ab', W / 2 + 55, midRow - 12);

    // --- Srednji red: (a+b)^2 i (a-b)^2 ---
    const midBoxW = 170;
    const midBoxH = 70;

    // Levi okvir: (a+b)^2
    ctx.strokeStyle = '#a78bfa';
    ctx.fillStyle = 'rgba(167, 139, 250, 0.1)';
    roundRect(ctx, leftCenterX - midBoxW / 2, midRow, midBoxW, midBoxH, 10, true, true);

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(a + b)\u00B2', leftCenterX, midRow + 25);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 6ab + 2ab = 8ab', leftCenterX, midRow + 50);

    // Desni okvir: (a-b)^2
    ctx.strokeStyle = '#f472b6';
    ctx.fillStyle = 'rgba(244, 114, 182, 0.1)';
    roundRect(ctx, rightCenterX - midBoxW / 2, midRow, midBoxW, midBoxH, 10, true, true);

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(a \u2212 b)\u00B2', rightCenterX, midRow + 25);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 6ab \u2212 2ab = 4ab', rightCenterX, midRow + 50);

    // Strelice prema dole - ka kolicniku
    const ratioRow = midRow + midBoxH + arrowGap + 10;

    drawArrow(ctx, leftCenterX, midRow + midBoxH, W / 2 - 30, ratioRow, '#a78bfa');
    drawArrow(ctx, rightCenterX, midRow + midBoxH, W / 2 + 30, ratioRow, '#f472b6');

    // Labela: delimo
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('delimo', W / 2, ratioRow - 8);

    // --- Donji red: kolicnik ---
    const ratioBoxW = 250;
    const ratioBoxH = 75;

    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2.5;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.1)';
    roundRect(ctx, W / 2 - ratioBoxW / 2, ratioRow, ratioBoxW, ratioBoxH, 10, true, true);

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('[(a+b)/(a\u2212b)]\u00B2', W / 2, ratioRow + 25);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 8ab / 4ab = 2', W / 2, ratioRow + 50);

    // Strelica ka rezultatu
    const resultY = ratioRow + ratioBoxH + arrowGap;
    drawArrow(ctx, W / 2, ratioRow + ratioBoxH, W / 2, resultY, '#34d399');

    // Konacan rezultat
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 22px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(a+b)/(a\u2212b) = \u221A2', W / 2, resultY + 25);

    // Napomena
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(pozitivan koren jer a > b > 0)', W / 2, resultY + 48);
  }

  function roundRect(ctx, x, y, w, h, r, fill, stroke) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
    if (fill) ctx.fill();
    if (stroke) ctx.stroke();
  }

  function drawArrow(ctx, x1, y1, x2, y2, color) {
    const headLen = 8;
    const angle = Math.atan2(y2 - y1, x2 - x1);

    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - Math.PI / 6), y2 - headLen * Math.sin(angle - Math.PI / 6));
    ctx.lineTo(x2 - headLen * Math.cos(angle + Math.PI / 6), y2 - headLen * Math.sin(angle + Math.PI / 6));
    ctx.closePath();
    ctx.fill();
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Odnos zbira i razlike uz kvadratni uslov",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["formule skracenog mnozenja", "kvadrat zbira", "kvadrat razlike", "algebarski identiteti", "parametarski izrazi", "kolicnik"]
}
BRAINSPARK_META-->