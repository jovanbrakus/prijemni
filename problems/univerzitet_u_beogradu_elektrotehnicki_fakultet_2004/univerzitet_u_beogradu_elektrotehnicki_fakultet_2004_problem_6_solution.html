<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ciklična suma a sin(beta - gamma) u trouglu</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Given triangle with angles alpha, beta, gamma and opposite sides a, b, c,
evaluate: a*sin(beta - gamma) + b*sin(gamma - alpha) + c*sin(alpha - beta)

Options: A) 2cos(alpha+beta-gamma), B) cos(alpha-beta-gamma), C) 1, D) 0, E) -1

Approach: Use the sine rule to express sides in terms of angles, then simplify using
product-to-sum identities.

Step 1: Sine Rule
  a = 2R sin alpha,  b = 2R sin beta,  c = 2R sin gamma

Step 2: Substitute
  S = 2R [ sin(alpha) sin(beta - gamma) + sin(beta) sin(gamma - alpha) + sin(gamma) sin(alpha - beta) ]

Step 3: Product-to-sum identity
  sin A sin B = (1/2)[cos(A - B) - cos(A + B)]

Term 1: sin(alpha) sin(beta - gamma)
  = (1/2)[cos(alpha - beta + gamma) - cos(alpha + beta - gamma)]

Term 2: sin(beta) sin(gamma - alpha)
  = (1/2)[cos(beta - gamma + alpha) - cos(beta + gamma - alpha)]

Term 3: sin(gamma) sin(alpha - beta)
  = (1/2)[cos(gamma - alpha + beta) - cos(gamma + alpha - beta)]

Now observe:
  Term 1 = (1/2)[cos(alpha - beta + gamma) - cos(alpha + beta - gamma)]
  Term 2 = (1/2)[cos(alpha + beta - gamma)  - cos(beta + gamma - alpha)]  (rearranged)
  Term 3 = (1/2)[cos(beta + gamma - alpha)  - cos(gamma + alpha - beta)]  (rearranged)

Wait, let me be more careful:
  cos(alpha - beta + gamma) = cos(gamma + alpha - beta)
  cos(beta - gamma + alpha) = cos(alpha + beta - gamma)  ... no, that's different.

Let me redo:
  Term 1: (1/2)[cos(alpha - (beta - gamma)) - cos(alpha + (beta - gamma))]
         = (1/2)[cos(alpha - beta + gamma) - cos(alpha + beta - gamma)]

  Term 2: (1/2)[cos(beta - (gamma - alpha)) - cos(beta + (gamma - alpha))]
         = (1/2)[cos(beta - gamma + alpha) - cos(beta + gamma - alpha)]
         = (1/2)[cos(alpha + beta - gamma) - cos(beta + gamma - alpha)]

  Wait, cos(beta - gamma + alpha) = cos(alpha + beta - gamma). Yes!

  Term 3: (1/2)[cos(gamma - (alpha - beta)) - cos(gamma + (alpha - beta))]
         = (1/2)[cos(gamma - alpha + beta) - cos(gamma + alpha - beta)]
         = (1/2)[cos(beta + gamma - alpha) - cos(alpha + gamma - beta)]

  Now cos(alpha + gamma - beta) = cos(alpha - beta + gamma). So:

Sum = (1/2){
  [cos(alpha - beta + gamma) - cos(alpha + beta - gamma)]
  + [cos(alpha + beta - gamma) - cos(beta + gamma - alpha)]
  + [cos(beta + gamma - alpha) - cos(alpha - beta + gamma)]
}

= (1/2){ cos(alpha - beta + gamma) - cos(alpha + beta - gamma)
       + cos(alpha + beta - gamma) - cos(beta + gamma - alpha)
       + cos(beta + gamma - alpha) - cos(alpha - beta + gamma) }

= (1/2) * 0 = 0

Therefore S = 2R * 0 = 0.

Verification: Right triangle with alpha=90, beta=60, gamma=30.
  R = a/(2 sin alpha) = a/2 (since sin 90 = 1)
  Let a = 2, so R = 1, b = 2 sin 60 = sqrt(3), c = 2 sin 30 = 1.

  S = 2 sin(60-30) + sqrt(3) sin(30-90) + 1 sin(90-60)
    = 2 sin 30 + sqrt(3) sin(-60) + sin 30
    = 2*(1/2) + sqrt(3)*(-sqrt(3)/2) + 1/2
    = 1 - 3/2 + 1/2
    = 1 - 1.5 + 0.5
    = 0 ✓

Answer: D) 0
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 860px;
    margin: 0 auto;
  }
  h1 {
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.9rem;
    font-weight: 800;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon {
    font-size: 1.3rem;
  }
  .blue { color: #60a5fa; }
  .purple { color: #a78bfa; }
  .green { color: #34d399; }
  .pink { color: #f472b6; }
  .muted { color: #94a3b8; }
  .problem-statement {
    border-left: 4px solid #60a5fa;
    padding-left: 18px;
    font-size: 1.08rem;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 14px;
    font-size: 0.98rem;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.08);
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 6px 0 6px 36px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 6px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
  }
  details {
    margin-top: 4px;
  }
  details summary {
    cursor: pointer;
    color: #a78bfa;
    font-weight: 600;
    font-size: 1.05rem;
    padding: 8px 0;
    user-select: none;
  }
  details summary:hover { color: #c4b5fd; }
  details[open] summary { margin-bottom: 12px; }
  .theory-content p { margin-bottom: 10px; }
  .step {
    border-left: 3px solid #334155;
    padding-left: 20px;
    margin-bottom: 22px;
    position: relative;
  }
  .step::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 4px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #60a5fa;
    border: 2px solid #1e293b;
  }
  .step-title {
    font-weight: 700;
    font-size: 1.05rem;
    color: #60a5fa;
    margin-bottom: 8px;
  }
  .step p, .step .math-line { margin-bottom: 8px; }
  .checkpoint {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.25);
    border-radius: 10px;
    padding: 10px 16px;
    margin-top: 10px;
    font-size: 0.95rem;
  }
  .checkpoint::before {
    content: '\2713';
    margin-right: 8px;
    color: #34d399;
    font-weight: 700;
  }
  .insight-box {
    background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.1));
    border: 1px solid rgba(167, 139, 250, 0.3);
    border-radius: 14px;
    padding: 20px 24px;
  }
  .final-answer {
    text-align: center;
    padding: 32px 28px;
    border: 2px solid #34d399;
    background: rgba(52, 211, 153, 0.06);
  }
  .final-answer .answer-label {
    color: #34d399;
    font-weight: 800;
    font-size: 1.15rem;
    letter-spacing: 1px;
    margin-bottom: 12px;
    text-transform: uppercase;
  }
  .final-answer .answer-value {
    font-size: 1.6rem;
    font-weight: 700;
    color: #4ade80;
  }
  .pitfall-item {
    display: flex;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid #334155;
  }
  .pitfall-item:last-child { border-bottom: none; }
  .pitfall-icon { color: #f472b6; font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }
  .pitfall-text { font-size: 0.97rem; }
  .challenge-box {
    background: rgba(244, 114, 182, 0.06);
    border: 1px solid rgba(244, 114, 182, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    max-width: 100%;
    border-radius: 10px;
    background: #0f172a;
    border: 1px solid #334155;
  }
  @media (max-width: 600px) {
    body { padding: 14px; }
    h1 { font-size: 1.4rem; }
    .card { padding: 18px 16px; }
    .option-grid { grid-template-columns: 1fr; }
    .final-answer .answer-value { font-size: 1.3rem; }
  }
</style>
</head>
<body>

<h1>Ciklična suma a sin(&beta; &minus; &gamma;) u trouglu</h1>
<p class="subtitle">Sinusna teorema i identiteti proizvoda trigonometrijskih funkcija</p>

<!-- Problem Statement -->
<div class="card">
  <div class="card-title"><span class="icon blue">&#9998;</span> Postavka zadatka</div>
  <div class="problem-statement">
    <p>Neka su \(\alpha\), \(\beta\) i \(\gamma\) uglovi, a \(a\), \(b\), \(c\) stranice trougla. Tada je \(a\sin(\beta - \gamma) + b\sin(\gamma - \alpha) + c\sin(\alpha - \beta)\) jednako:</p>
    <div class="option-grid">
      <div class="option"><strong>A)</strong> \(2\cos(\alpha + \beta - \gamma)\)</div>
      <div class="option"><strong>B)</strong> \(\cos(\alpha - \beta - \gamma)\)</div>
      <div class="option"><strong>C)</strong> \(1\)</div>
      <div class="option correct"><strong>D)</strong> \(0\)</div>
      <div class="option"><strong>E)</strong> \(-1\)</div>
      <div class="option"><strong>N)</strong> Ne znam</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon purple">&#9881;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Primeniti <strong>sinusnu teoremu</strong> da se stranice izraze preko uglova</li>
    <li>Koristiti identitet <strong>proizvoda sinusa</strong> za transformaciju svakog sabirka</li>
    <li>Pokazati da se svi članovi u sumi <strong>teleskopski</strong> poništavaju</li>
    <li>Verifikacija na <strong>konkretnom primeru</strong> (pravougli trougao)</li>
  </ol>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details>
    <summary>Teorijsko podsetnik &mdash; klikni da otvoriš</summary>
    <div class="theory-content">
      <p><strong>Sinusna teorema:</strong> U trouglu sa stranicama \(a\), \(b\), \(c\) naspram uglova \(\alpha\), \(\beta\), \(\gamma\) i poluprečnikom opisanog kruga \(R\):</p>
      <p>\[\frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma} = 2R\]</p>
      <p>Odatle: \(a = 2R\sin\alpha\), \(b = 2R\sin\beta\), \(c = 2R\sin\gamma\).</p>
      <p><strong>Identitet proizvoda sinusa (product-to-sum):</strong></p>
      <p>\[\sin A \cdot \sin B = \frac{1}{2}\bigl[\cos(A - B) - \cos(A + B)\bigr]\]</p>
      <p>Ovaj identitet nam omogućava da proizvod dva sinusa pretvorimo u razliku kosinusa, što značajno olakšava uprošćavanje.</p>
      <p><strong>Zbir uglova u trouglu:</strong> \(\alpha + \beta + \gamma = \pi\).</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon green">&#9650;</span> Vizuelni prikaz</div>
  <canvas id="triangleCanvas" width="600" height="460"></canvas>
</div>

<!-- Step-by-Step -->
<div class="card">
  <div class="card-title"><span class="icon blue">&#128218;</span> Rešenje korak po korak</div>

  <div class="step">
    <div class="step-title">Korak 1: Primena sinusne teoreme</div>
    <p>Iz sinusne teoreme imamo:</p>
    <p>\[a = 2R\sin\alpha, \quad b = 2R\sin\beta, \quad c = 2R\sin\gamma\]</p>
    <p>Zamenom u dati izraz dobijamo:</p>
    <p>\[S = 2R\bigl[\sin\alpha\sin(\beta - \gamma) + \sin\beta\sin(\gamma - \alpha) + \sin\gamma\sin(\alpha - \beta)\bigr]\]</p>
    <div class="checkpoint">Faktor \(2R\) je izdvojen &mdash; dovoljno je dokazati da je izraz u zagradi jednak nuli.</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 2: Primena identiteta proizvoda sinusa</div>
    <p>Koristimo identitet \(\sin A \cdot \sin B = \frac{1}{2}[\cos(A-B) - \cos(A+B)]\) na svaki sabirak.</p>
    <p><strong>Prvi sabirak:</strong></p>
    <p>\[\sin\alpha\sin(\beta - \gamma) = \frac{1}{2}\bigl[\cos\bigl(\alpha - (\beta - \gamma)\bigr) - \cos\bigl(\alpha + (\beta - \gamma)\bigr)\bigr]\]</p>
    <p>\[= \frac{1}{2}\bigl[\cos(\alpha - \beta + \gamma) - \cos(\alpha + \beta - \gamma)\bigr]\]</p>
    <p><strong>Drugi sabirak:</strong></p>
    <p>\[\sin\beta\sin(\gamma - \alpha) = \frac{1}{2}\bigl[\cos\bigl(\beta - (\gamma - \alpha)\bigr) - \cos\bigl(\beta + (\gamma - \alpha)\bigr)\bigr]\]</p>
    <p>\[= \frac{1}{2}\bigl[\cos(\alpha + \beta - \gamma) - \cos(\beta + \gamma - \alpha)\bigr]\]</p>
    <p><strong>Treći sabirak:</strong></p>
    <p>\[\sin\gamma\sin(\alpha - \beta) = \frac{1}{2}\bigl[\cos\bigl(\gamma - (\alpha - \beta)\bigr) - \cos\bigl(\gamma + (\alpha - \beta)\bigr)\bigr]\]</p>
    <p>\[= \frac{1}{2}\bigl[\cos(\beta + \gamma - \alpha) - \cos(\alpha + \gamma - \beta)\bigr]\]</p>
    <div class="checkpoint">Svaki proizvod sinusa je pretvoren u razliku kosinusa.</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 3: Sabiranje &mdash; teleskopsko poništavanje</div>
    <p>Saberimo sve tri razlike. Označimo za preglednost:</p>
    <p>\[P = \cos(\alpha - \beta + \gamma), \quad Q = \cos(\alpha + \beta - \gamma), \quad R_0 = \cos(\beta + \gamma - \alpha)\]</p>
    <p>Primetimo da je \(\cos(\alpha + \gamma - \beta) = \cos(\alpha - \beta + \gamma) = P\). Sada suma glasi:</p>
    <p>\[\frac{1}{2}\bigl[\underbrace{(P - Q)}_{\text{1. sabirak}} + \underbrace{(Q - R_0)}_{\text{2. sabirak}} + \underbrace{(R_0 - P)}_{\text{3. sabirak}}\bigr]\]</p>
    <p>\[= \frac{1}{2}\bigl[P - Q + Q - R_0 + R_0 - P\bigr] = \frac{1}{2} \cdot 0 = 0\]</p>
    <p>Svi članovi se <strong>teleskopski poništavaju</strong> u parovima: \(P\) sa \(-P\), \(Q\) sa \(-Q\), \(R_0\) sa \(-R_0\).</p>
    <div class="checkpoint">Izraz u zagradi je jednak 0, pa je \(S = 2R \cdot 0 = 0\).</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 4: Numerička verifikacija</div>
    <p>Proverimo na <strong>pravouglom trouglu</strong>: \(\alpha = 90°\), \(\beta = 60°\), \(\gamma = 30°\).</p>
    <p>Neka je \(a = 2\) (hipotenuza), pa je \(R = \frac{a}{2\sin 90°} = 1\).</p>
    <p>\[b = 2\sin 60° = \sqrt{3}, \qquad c = 2\sin 30° = 1\]</p>
    <p>Računamo svaki sabirak:</p>
    <p>\[a\sin(\beta - \gamma) = 2\sin(30°) = 2 \cdot \tfrac{1}{2} = 1\]</p>
    <p>\[b\sin(\gamma - \alpha) = \sqrt{3}\sin(-60°) = \sqrt{3}\cdot\bigl(-\tfrac{\sqrt{3}}{2}\bigr) = -\tfrac{3}{2}\]</p>
    <p>\[c\sin(\alpha - \beta) = 1\cdot\sin(30°) = \tfrac{1}{2}\]</p>
    <p>\[S = 1 - \tfrac{3}{2} + \tfrac{1}{2} = 1 - \tfrac{3}{2} + \tfrac{1}{2} = 0 \;\;\checkmark\]</p>
    <div class="checkpoint">Numerička provera potvrđuje da je rezultat zaista \(0\).</div>
  </div>

  <div class="step">
    <div class="step-title">Korak 5: Zašto ostali odgovori nisu tačni</div>
    <p><strong>A)</strong> \(2\cos(\alpha + \beta - \gamma)\) &mdash; Za naš pravougli trougao: \(2\cos(90° + 60° - 30°) = 2\cos 120° = -1 \neq 0\).</p>
    <p><strong>B)</strong> \(\cos(\alpha - \beta - \gamma)\) &mdash; Za naš primer: \(\cos(90° - 60° - 30°) = \cos 0° = 1 \neq 0\).</p>
    <p><strong>C)</strong> \(1\) &mdash; Direktno protivreči numeričkoj verifikaciji koja daje \(0\).</p>
    <p><strong>E)</strong> \(-1\) &mdash; Takođe protivreči numeričkoj proveri.</p>
  </div>
</div>

<!-- Key Insight -->
<div class="card insight-box">
  <div class="card-title"><span class="icon purple">&#9733;</span> Ključni uvid</div>
  <p>Ova suma se poništava zahvaljujući <strong>cikličnoj simetriji</strong>. Kada sinusnu teoremu primenimo na sve tri stranice, svaki sabirak postaje proizvod sinusa koji se pomoću identiteta transformiše u razliku kosinusa. Ove razlike čine <strong>teleskopsku sumu</strong> oblika \((P - Q) + (Q - R) + (R - P) = 0\), gde se svaki član pojavljuje jednom sa pozitivnim i jednom sa negativnim predznakom. Rezultat ne zavisi od konkretnih uglova trougla &mdash; uvek je nula.</p>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <div class="answer-label">Tačan odgovor</div>
  <div class="answer-value">D) &nbsp;\(0\)</div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#9888;</span> Česte greške</div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Pokušaj bez sinusne teoreme:</strong> Bez zamene \(a = 2R\sin\alpha\), izraz ostaje nehomogen (sadrži i stranice i uglove) i teško se uprošćava. Sinusna teorema je ključni korak koji sve svodi na trigonometrijske funkcije.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Pogrešna primena identiteta:</strong> Česta greška je mešanje \(\sin A \sin B = \frac{1}{2}[\cos(A-B) - \cos(A+B)]\) sa sličnim identitetom za kosinus. Proverite znakove &mdash; ispred \(\cos(A+B)\) stoji minus.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Nepotrebno korišćenje \(\alpha + \beta + \gamma = \pi\):</strong> Mnogi pokušavaju da eliminišu jedan ugao koristeći ovaj uslov, ali teleskopska struktura daje nulu bez toga. Dodatna zamena samo komplikuje račun.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Odgovori koji zavise od uglova:</strong> Ponuđeni odgovori A) i B) zavise od konkretnih vrednosti uglova, ali tačan odgovor mora biti univerzalna konstanta (jer važi za svaki trougao). To odmah sužava izbor na C), D) ili E).</span>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#127891;</span> Izazov za razmišljanje</div>
  <div class="challenge-box">
    <p>Koristeći istu tehniku, dokaži da za proizvoljni trougao važi i:</p>
    <p>\[a^2\sin(\beta - \gamma) + b^2\sin(\gamma - \alpha) + c^2\sin(\alpha - \beta) = 0\]</p>
    <p><em>Savet:</em> Ponovo primeni sinusnu teoremu da dobiješ \(a^2 = 4R^2\sin^2\alpha\), a zatim koristi identitet \(\sin^2 A \cdot \sin B = \frac{1}{2}\sin A[\cos(A-B) - \cos(A+B)]\) i identitet za proizvod sinusa i kosinusa.</p>
  </div>
</div>

<script>
(function() {
  var canvas = document.getElementById('triangleCanvas');
  var ctx = canvas.getContext('2d');

  function draw() {
    var W = 600;
    var H = 460;
    var dpr = window.devicePixelRatio || 1;
    canvas.style.width = W + 'px';
    canvas.style.height = H + 'px';
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    ctx.clearRect(0, 0, W, H);

    // Triangle vertices (a nice scalene triangle)
    var Ax = 300, Ay = 55;
    var Bx = 490, By = 340;
    var Cx = 100, Cy = 340;

    // Fill triangle
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.fill();

    // Draw triangle sides
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Draw angle arcs
    function drawAngleArc(vx, vy, p1x, p1y, p2x, p2y, label, color, arcR) {
      var a1 = Math.atan2(p1y - vy, p1x - vx);
      var a2 = Math.atan2(p2y - vy, p2x - vx);
      var diff = a2 - a1;
      while (diff < -Math.PI) diff += 2 * Math.PI;
      while (diff > Math.PI) diff -= 2 * Math.PI;
      var start, sweep;
      if (diff > 0) {
        start = a1; sweep = diff;
      } else {
        start = a2; sweep = -diff;
      }

      ctx.beginPath();
      ctx.arc(vx, vy, arcR, start, start + sweep);
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();

      var midAngle = start + sweep / 2;
      var lbR = arcR + 16;
      ctx.font = 'italic 16px "Segoe UI", sans-serif';
      ctx.fillStyle = color;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, vx + lbR * Math.cos(midAngle), vy + lbR * Math.sin(midAngle));
    }

    drawAngleArc(Ax, Ay, Bx, By, Cx, Cy, '\u03b1', '#34d399', 32);
    drawAngleArc(Bx, By, Cx, Cy, Ax, Ay, '\u03b2', '#34d399', 32);
    drawAngleArc(Cx, Cy, Ax, Ay, Bx, By, '\u03b3', '#34d399', 32);

    // Vertex dots
    var verts = [
      {x: Ax, y: Ay, label: 'A', dx: -5, dy: -18},
      {x: Bx, y: By, label: 'B', dx: 12, dy: 10},
      {x: Cx, y: Cy, label: 'C', dx: -24, dy: 10}
    ];
    verts.forEach(function(v) {
      ctx.beginPath();
      ctx.arc(v.x, v.y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
      ctx.font = 'bold 17px "Segoe UI", sans-serif';
      ctx.fillStyle = '#e2e8f0';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'alphabetic';
      ctx.fillText(v.label, v.x + v.dx, v.y + v.dy);
    });

    // Side labels
    function sideLabel(x1, y1, x2, y2, label, offX, offY) {
      var mx = (x1 + x2) / 2 + offX;
      var my = (y1 + y2) / 2 + offY;
      ctx.font = 'italic 18px "Segoe UI", sans-serif';
      ctx.fillStyle = '#f472b6';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, mx, my);
    }

    sideLabel(Bx, By, Cx, Cy, 'a', 0, 22);      // BC - opposite alpha
    sideLabel(Ax, Ay, Cx, Cy, 'b', -18, -2);     // AC - opposite beta
    sideLabel(Ax, Ay, Bx, By, 'c', 18, -2);      // AB - opposite gamma

    // Arrows showing sin(beta - gamma) difference annotations
    // Draw small "difference" labels near each side
    ctx.font = '14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'center';

    // Side a label detail
    var midBCx = (Bx + Cx) / 2;
    var midBCy = (By + Cy) / 2;
    ctx.fillText('sin(\u03b2 \u2212 \u03b3)', midBCx, midBCy + 44);

    // Side b label detail
    var midACx = (Ax + Cx) / 2;
    var midACy = (Ay + Cy) / 2;
    ctx.fillText('sin(\u03b3 \u2212 \u03b1)', midACx - 40, midACy + 14);

    // Side c label detail
    var midABx = (Ax + Bx) / 2;
    var midABy = (Ay + By) / 2;
    ctx.fillText('sin(\u03b1 \u2212 \u03b2)', midABx + 42, midABy + 14);

    // Formula at the bottom
    ctx.font = '15px "Segoe UI", sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'center';
    ctx.fillText('a sin(\u03b2 \u2212 \u03b3) + b sin(\u03b3 \u2212 \u03b1) + c sin(\u03b1 \u2212 \u03b2) = 0', W / 2, H - 22);
    ctx.textAlign = 'left';
  }

  draw();
  window.addEventListener('resize', function() { draw(); });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Ciklična suma a sin(beta - gamma) u trouglu","subject":"math","unit":"Trigonometrija","topic_tags":["trigonometrija","sinusna teorema","identiteti","product-to-sum","teleskopska suma","trougao"]}
BRAINSPARK_META-->