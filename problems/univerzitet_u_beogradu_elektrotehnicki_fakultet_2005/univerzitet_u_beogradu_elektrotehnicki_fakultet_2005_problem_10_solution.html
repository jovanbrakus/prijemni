<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KoliÄnik sin(Î±âˆ’Î²)/sin(Î±+Î²) u trouglu</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: In an arbitrary triangle with sides a, b, c and corresponding angles Î±, Î² (opposite to a, b),
find sin(Î± âˆ’ Î²) / sin(Î± + Î²).

SOLUTION:
Since Î± + Î² + Î³ = Ï€, we have Î± + Î² = Ï€ âˆ’ Î³, so sin(Î± + Î²) = sin(Ï€ âˆ’ Î³) = sin Î³.

Now for sin(Î± âˆ’ Î²), we use the sine rule: a/sin Î± = b/sin Î² = c/sin Î³ = 2R.
So sin Î± = a/(2R) and sin Î² = b/(2R).

sin(Î± âˆ’ Î²) = sin Î± cos Î² âˆ’ cos Î± sin Î²

We need cos Î± and cos Î². From the cosine rule:
cos Î± = (bÂ² + cÂ² âˆ’ aÂ²)/(2bc)
cos Î² = (aÂ² + cÂ² âˆ’ bÂ²)/(2ac)

sin(Î± âˆ’ Î²) = sin Î± cos Î² âˆ’ cos Î± sin Î²
= (a/(2R)) Â· ((aÂ² + cÂ² âˆ’ bÂ²)/(2ac)) âˆ’ ((bÂ² + cÂ² âˆ’ aÂ²)/(2bc)) Â· (b/(2R))
= (aÂ² + cÂ² âˆ’ bÂ²)/(4Rc) âˆ’ (bÂ² + cÂ² âˆ’ aÂ²)/(4Rc)
= [(aÂ² + cÂ² âˆ’ bÂ²) âˆ’ (bÂ² + cÂ² âˆ’ aÂ²)] / (4Rc)
= [aÂ² + cÂ² âˆ’ bÂ² âˆ’ bÂ² âˆ’ cÂ² + aÂ²] / (4Rc)
= [2aÂ² âˆ’ 2bÂ²] / (4Rc)
= (aÂ² âˆ’ bÂ²) / (2Rc)

And sin(Î± + Î²) = sin Î³ = c/(2R).

Therefore:
sin(Î± âˆ’ Î²) / sin(Î± + Î²) = [(aÂ² âˆ’ bÂ²)/(2Rc)] / [c/(2R)]
= (aÂ² âˆ’ bÂ²)/(2Rc) Â· (2R/c)
= (aÂ² âˆ’ bÂ²) / cÂ²

Answer: (C) (aÂ² âˆ’ bÂ²) / cÂ²
</script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container { max-width: 1200px; margin: 0 auto; }
h1 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}
.card h2 {
  font-size: 1.35rem;
  margin-bottom: 16px;
  color: #60a5fa;
}
.card h3 {
  font-size: 1.1rem;
  margin: 16px 0 10px;
  color: #a78bfa;
}
.problem-statement {
  background: #1a2744;
  border-left: 4px solid #a78bfa;
  padding: 20px 24px;
  border-radius: 0 12px 12px 0;
  font-size: 1.08rem;
  margin-bottom: 8px;
}
.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 10px;
  margin-top: 16px;
}
.option {
  background: #253349;
  padding: 10px 16px;
  border-radius: 8px;
  border: 1px solid #334155;
  text-align: center;
  transition: all 0.3s;
}
.option.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.12);
}
.plan-list {
  list-style: none;
  counter-reset: plan-counter;
}
.plan-list li {
  counter-increment: plan-counter;
  padding: 8px 0 8px 40px;
  position: relative;
}
.plan-list li::before {
  content: counter(plan-counter);
  position: absolute;
  left: 0;
  top: 8px;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}
.collapsible-header {
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  user-select: none;
  padding: 10px 0;
}
.collapsible-header:hover { color: #60a5fa; }
.collapsible-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
}
.collapsible-content.open { max-height: 2000px; }
.arrow { transition: transform 0.3s; display: inline-block; }
.arrow.open { transform: rotate(90deg); }
.formula-box {
  background: #253349;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 16px 20px;
  margin: 10px 0;
}
.step-card {
  background: #162033;
  border-left: 3px solid #a78bfa;
  border-radius: 0 12px 12px 0;
  padding: 18px 22px;
  margin: 14px 0;
}
.step-card .step-num {
  display: inline-block;
  background: linear-gradient(135deg, #a78bfa, #60a5fa);
  color: #0f172a;
  font-weight: 700;
  padding: 2px 12px;
  border-radius: 20px;
  font-size: 0.85rem;
  margin-bottom: 10px;
}
.checkpoint {
  background: rgba(96, 165, 250, 0.1);
  border: 1px dashed #60a5fa;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 14px 0;
}
.checkpoint summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
}
.checkpoint .answer {
  margin-top: 10px;
  padding: 10px 14px;
  background: #1e293b;
  border-radius: 8px;
}
.final-answer {
  background: rgba(52, 211, 153, 0.1);
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin: 20px 0;
}
.final-answer .label { color: #34d399; font-weight: 700; font-size: 1.1rem; margin-bottom: 8px; }
.final-answer .value { font-size: 1.4rem; color: #4ade80; }
.answer-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 10px;
  margin-top: 16px;
}
.answer-option {
  padding: 10px 14px;
  border-radius: 8px;
  text-align: center;
  border: 2px solid #334155;
  background: #1e293b;
}
.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.12);
  box-shadow: 0 0 12px rgba(74, 222, 128, 0.2);
}
.answer-option.wrong {
  border-color: #475569;
  opacity: 0.6;
}
.insight-box {
  background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.1));
  border: 1px solid #a78bfa;
  border-radius: 12px;
  padding: 20px;
  margin: 14px 0;
}
.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border-left: 3px solid #f472b6;
  padding: 14px 18px;
  border-radius: 0 10px 10px 0;
  margin: 10px 0;
}
.muted { color: #94a3b8; }
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  background: #0f172a;
  cursor: grab;
  touch-action: none;
  max-width: 100%;
}
canvas:active { cursor: grabbing; }
.canvas-controls {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 12px;
  flex-wrap: wrap;
}
.canvas-controls button {
  background: #253349;
  color: #e2e8f0;
  border: 1px solid #334155;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s;
}
.canvas-controls button:hover { background: #334155; border-color: #60a5fa; }
.live-values {
  text-align: center;
  margin-top: 12px;
  font-family: 'Courier New', monospace;
  color: #94a3b8;
  font-size: 0.95rem;
  line-height: 1.8;
}
.live-values .match { color: #4ade80; font-weight: 600; }
.challenge-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.08), rgba(167, 139, 250, 0.08));
  border: 1px dashed #60a5fa;
  border-radius: 12px;
  padding: 20px;
}
@media (max-width: 640px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 18px; }
  .options-grid, .answer-grid { grid-template-columns: 1fr 1fr; }
}
</style>
</head>
<body>
<div class="container">

<h1>KoliÄnik sin(Î± âˆ’ Î²) / sin(Î± + Î²) u trouglu</h1>

<!-- PROBLEM STATEMENT -->
<div class="card">
  <h2>ğŸ“‹ Postavka zadatka</h2>
  <div class="problem-statement">
    U proizvoljnom trouglu Äije su stranice \(a\), \(b\) i \(c\) i odgovarajuÄ‡i uglovi \(\alpha\) i \(\beta\), koliÄnik
    \[\frac{\sin(\alpha - \beta)}{\sin(\alpha + \beta)}\]
    jednak je:
  </div>
  <div class="options-grid">
    <div class="option">(A) \(\dfrac{(a-b)^2}{c^2}\)</div>
    <div class="option">(B) \(\dfrac{c^2}{a^2 - b^2}\)</div>
    <div class="option correct">(C) \(\dfrac{a^2 - b^2}{c^2}\)</div>
    <div class="option">(D) \(\dfrac{c^2}{(a-b)^2}\)</div>
    <div class="option">(E) \(\dfrac{(a-b)^2}{(a+b)^2}\)</div>
    <div class="option">(N) Ne znam</div>
  </div>
</div>

<!-- PLAN -->
<div class="card">
  <h2>ğŸ—ºï¸ Plan reÅ¡avanja</h2>
  <ol class="plan-list">
    <li>Primeniti vezu \(\alpha + \beta = \pi - \gamma\) da se uprosti imenilac</li>
    <li>Rastaviti \(\sin(\alpha - \beta)\) koristeÄ‡i adicioni obrazac</li>
    <li>Uvesti sinusnu i kosinusnu teoremu da se sve izrazi preko stranica</li>
    <li>Pojednostaviti i dobiti konaÄan rezultat</li>
  </ol>
</div>

<!-- THEORY REFRESHER -->
<div class="card">
  <h2 class="collapsible-header" onclick="toggleCollapsible(this)">
    <span class="arrow">â–¶</span> ğŸ“ KljuÄne formule i teoreme
  </h2>
  <div class="collapsible-content">
    <div class="formula-box">
      <h3>Sinusna teorema</h3>
      \[\frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma} = 2R\]
      <p class="muted">gde je \(R\) polupreÄnik opisanog kruga trougla.</p>
    </div>
    <div class="formula-box">
      <h3>Kosinusna teorema</h3>
      \[c^2 = a^2 + b^2 - 2ab\cos\gamma\]
      \[\cos\alpha = \frac{b^2 + c^2 - a^2}{2bc}, \quad \cos\beta = \frac{a^2 + c^2 - b^2}{2ac}\]
    </div>
    <div class="formula-box">
      <h3>Adicioni obrasci</h3>
      \[\sin(\alpha - \beta) = \sin\alpha\cos\beta - \cos\alpha\sin\beta\]
      \[\sin(\alpha + \beta) = \sin(\pi - \gamma) = \sin\gamma\]
    </div>
    <div class="formula-box">
      <h3>Zbir uglova u trouglu</h3>
      \[\alpha + \beta + \gamma = \pi \implies \alpha + \beta = \pi - \gamma\]
    </div>
  </div>
</div>

<!-- VISUAL AID -->
<div class="card">
  <h2>ğŸ¨ Interaktivni dijagram</h2>
  <p class="muted" style="text-align:center; margin-bottom:12px;">PrevlaÄite temena trougla da vidite da identitet vaÅ¾i za svaki trougao!</p>
  <canvas id="triangleCanvas" width="700" height="480"></canvas>
  <div class="canvas-controls">
    <button onclick="resetTriangle()">ğŸ”„ Resetuj</button>
    <button onclick="makeEquilateral()">JednakostraniÄni</button>
    <button onclick="makeRightAngle()">Pravougli</button>
    <button onclick="makeIsosceles()">Jednakokraki</button>
  </div>
  <div class="live-values" id="liveValues"></div>
</div>

<!-- STEP-BY-STEP SOLUTION -->
<div class="card">
  <h2>ğŸ“ ReÅ¡enje korak po korak</h2>

  <div class="step-card">
    <div class="step-num">Korak 1</div>
    <h3>Uprostimo imenilac</h3>
    <p>Iz zbira uglova u trouglu znamo:</p>
    \[\alpha + \beta + \gamma = \pi \implies \alpha + \beta = \pi - \gamma\]
    <p>Zato je:</p>
    \[\sin(\alpha + \beta) = \sin(\pi - \gamma) = \sin\gamma\]
    <p>KoliÄnik koji traÅ¾imo postaje:</p>
    \[\frac{\sin(\alpha - \beta)}{\sin\gamma}\]
  </div>

  <div class="checkpoint">
    <details>
      <summary>ğŸ§  Proveri se: ZaÅ¡to vaÅ¾i \(\sin(\pi - \gamma) = \sin\gamma\)?</summary>
      <div class="answer">
        Ovo je osnovna trigonometrijska veza: sinus suplementnih uglova je jednak. Geometrijski, oba ugla \(\gamma\) i \(\pi - \gamma\) imaju istu visinu na jediniÄnoj kruÅ¾nici, pa im je sinus isti.
      </div>
    </details>
  </div>

  <div class="step-card">
    <div class="step-num">Korak 2</div>
    <h3>Rastavimo \(\sin(\alpha - \beta)\) adicionom formulom</h3>
    <p>Primenjujemo adicioni obrazac za razliku uglova:</p>
    \[\sin(\alpha - \beta) = \sin\alpha\cos\beta - \cos\alpha\sin\beta\]
  </div>

  <div class="step-card">
    <div class="step-num">Korak 3</div>
    <h3>Primenimo sinusnu teoremu</h3>
    <p>Iz sinusne teoreme imamo:</p>
    \[\sin\alpha = \frac{a}{2R}, \quad \sin\beta = \frac{b}{2R}, \quad \sin\gamma = \frac{c}{2R}\]
    <p>A iz kosinusne teoreme:</p>
    \[\cos\alpha = \frac{b^2 + c^2 - a^2}{2bc}, \quad \cos\beta = \frac{a^2 + c^2 - b^2}{2ac}\]
  </div>

  <div class="step-card">
    <div class="step-num">Korak 4</div>
    <h3>Ubacimo u brojilac</h3>
    <p>Zamenjujemo u izraz za \(\sin(\alpha - \beta)\):</p>
    \[\sin\alpha\cos\beta - \cos\alpha\sin\beta = \frac{a}{2R}\cdot\frac{a^2+c^2-b^2}{2ac} - \frac{b^2+c^2-a^2}{2bc}\cdot\frac{b}{2R}\]
    <p>Pojednostavimo svaki sabirak:</p>
    \[= \frac{a^2+c^2-b^2}{4Rc} - \frac{b^2+c^2-a^2}{4Rc}\]
    <p>Imamo zajedniÄki imenilac \(4Rc\), pa oduzimamo brojioce:</p>
    \[= \frac{(a^2+c^2-b^2) - (b^2+c^2-a^2)}{4Rc}\]
  </div>

  <div class="checkpoint">
    <details>
      <summary>ğŸ§  Proveri se: Kako se kraÄ‡e \(c\) u prvom sabirku?</summary>
      <div class="answer">
        U prvom sabirku imamo \(\frac{a}{2R}\cdot\frac{a^2+c^2-b^2}{2ac}\). Kada pomnoÅ¾imo, u imeniocu stoji \(2R \cdot 2ac = 4Rac\), a u brojiocu \(a(a^2+c^2-b^2)\). SkraÄ‡uje se \(a\) iz brojioca i imenioca i dobijamo \(\frac{a^2+c^2-b^2}{4Rc}\).
      </div>
    </details>
  </div>

  <div class="step-card">
    <div class="step-num">Korak 5</div>
    <h3>UproÅ¡Ä‡avanje brojioca</h3>
    <p>Raspisujemo zagradu u brojiocu:</p>
    \[a^2 + c^2 - b^2 - b^2 - c^2 + a^2 = 2a^2 - 2b^2 = 2(a^2 - b^2)\]
    <p>Dakle:</p>
    \[\sin(\alpha - \beta) = \frac{2(a^2 - b^2)}{4Rc} = \frac{a^2 - b^2}{2Rc}\]
  </div>

  <div class="step-card">
    <div class="step-num">Korak 6</div>
    <h3>Formiramo koliÄnik</h3>
    <p>Sada delimo sa \(\sin\gamma = \frac{c}{2R}\):</p>
    \[\frac{\sin(\alpha-\beta)}{\sin(\alpha+\beta)} = \frac{\sin(\alpha-\beta)}{\sin\gamma} = \frac{\dfrac{a^2-b^2}{2Rc}}{\dfrac{c}{2R}}\]
    <p>Delimo razlomke (mnoÅ¾imo prvim i reciproÄnom vrednoÅ¡Ä‡u drugog):</p>
    \[= \frac{a^2-b^2}{2Rc} \cdot \frac{2R}{c} = \frac{a^2-b^2}{c^2}\]
  </div>

  <div class="checkpoint">
    <details>
      <summary>ğŸ§  Proveri se: Å ta se skraÄ‡uje prilikom deljenja?</summary>
      <div class="answer">
        SkraÄ‡uje se \(2R\) iz brojioca i imenioca. Ostaje \(\frac{a^2-b^2}{c\cdot c} = \frac{a^2-b^2}{c^2}\). Primetimo da \(R\) uopÅ¡te ne figuriÅ¡e u konaÄnom rezultatu â€” to i ima smisla jer je izraz Äisto algebarski u stranicama.
      </div>
    </details>
  </div>
</div>

<!-- KEY INSIGHT -->
<div class="card">
  <h2>ğŸ’¡ KljuÄni uvid</h2>
  <div class="insight-box">
    <p>Elegancija ovog zadatka leÅ¾i u tome Å¡to se <strong>imenilac odmah uproÅ¡Ä‡ava</strong> koristeÄ‡i zbir uglova u trouglu: \(\sin(\alpha+\beta) = \sin\gamma\). Potom, kombinacija sinusne i kosinusne teoreme transformiÅ¡e trigonometrijski izraz u Äisto algebarski.</p>
    <p style="margin-top:10px;">Ovaj identitet se moÅ¾e zapisati i kompaktnije koriÅ¡Ä‡enjem formule za proizvode-u-sume:</p>
    \[\sin(\alpha-\beta) = \frac{a^2-b^2}{2Rc}, \quad \sin\gamma = \frac{c}{2R}\]
    <p>Å to direktno daje rezultat bez dugaÄkih izraÄunavanja, jer se \(2R\) skrati.</p>
  </div>
</div>

<!-- FINAL ANSWER -->
<div class="card">
  <h2>âœ… KonaÄan odgovor</h2>
  <div class="final-answer">
    <div class="label">TAÄŒAN ODGOVOR</div>
    <div class="value">\(\displaystyle\frac{\sin(\alpha-\beta)}{\sin(\alpha+\beta)} = \frac{a^2-b^2}{c^2}\)</div>
  </div>
  <div class="answer-grid">
    <div class="answer-option wrong">(A) \(\frac{(a-b)^2}{c^2}\)</div>
    <div class="answer-option wrong">(B) \(\frac{c^2}{a^2-b^2}\)</div>
    <div class="answer-option correct">âœ“ (C) \(\frac{a^2-b^2}{c^2}\)</div>
    <div class="answer-option wrong">(D) \(\frac{c^2}{(a-b)^2}\)</div>
    <div class="answer-option wrong">(E) \(\frac{(a-b)^2}{(a+b)^2}\)</div>
    <div class="answer-option wrong">(N) Ne znam</div>
  </div>
</div>

<!-- COMMON PITFALLS -->
<div class="card">
  <h2>âš ï¸ ÄŒeste greÅ¡ke</h2>
  <div class="pitfall">
    <strong>MeÅ¡anje \((a-b)^2\) i \(a^2-b^2\)</strong><br>
    Odgovor (A) sadrÅ¾i \((a-b)^2 = a^2 - 2ab + b^2\), dok je taÄan rezultat \(a^2 - b^2 = (a-b)(a+b)\). Ova dva izraza su veoma razliÄita! PaÅ¾ljivo raspisujte algebru.
  </div>
  <div class="pitfall">
    <strong>Obrnuti razlomak</strong><br>
    Odgovor (B) je \(\frac{c^2}{a^2-b^2}\), dakle reciproÄna vrednost taÄnog odgovora. Proverite uvek koji izraz je u brojiocu, a koji u imeniocu.
  </div>
  <div class="pitfall">
    <strong>Zaboravljanje \(\sin(\alpha+\beta) = \sin\gamma\)</strong><br>
    Ako ne primenite ovu vezu na samom poÄetku, raÄun postaje mnogo komplikovaniji. Uvek prvo potraÅ¾ite uproÅ¡tenja!
  </div>
</div>

<!-- OPTIONAL CHALLENGE -->
<div class="card">
  <h2>ğŸš€ Dodatni izazov</h2>
  <div class="challenge-box">
    <p><strong>Izazov 1:</strong> DokaÅ¾ite isti identitet koristeÄ‡i formule za transformaciju proizvoda u zbir (engl. <em>product-to-sum</em>):</p>
    \[2\sin\alpha\cos\beta = \sin(\alpha+\beta) + \sin(\alpha-\beta)\]
    <p class="muted" style="margin-top:6px;">Savet: NapiÅ¡ite \(\sin(\alpha-\beta)\) iz ove jednaÄine i podelite sa \(\sin(\alpha+\beta)\), pa primenite sinusnu i kosinusnu teoremu.</p>
    <p style="margin-top:14px;"><strong>Izazov 2:</strong> Å ta je vrednost koliÄnika kada je trougao jednakokraki sa \(a = b\)?</p>
    <p class="muted" style="margin-top:6px;">Savet: Ako je \(a = b\), tada je \(\alpha = \beta\), pa je \(\sin(\alpha-\beta) = \sin 0 = 0\). I zaista, \(\frac{a^2-b^2}{c^2} = 0\). Identitet je konzistentan!</p>
  </div>
</div>

</div>

<script>
(function() {
  // === COLLAPSIBLE ===
  window.toggleCollapsible = function(header) {
    const content = header.nextElementSibling;
    const arrow = header.querySelector('.arrow');
    content.classList.toggle('open');
    arrow.classList.toggle('open');
  };

  // === CANVAS ===
  const canvas = document.getElementById('triangleCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  // Triangle vertices in canvas coords (Y down)
  let vertices = [
    { x: 180, y: 380, label: 'A' },
    { x: 520, y: 380, label: 'B' },
    { x: 300, y: 100, label: 'C' }
  ];

  let dragging = null;
  let offsetX = 0, offsetY = 0;

  function dist(p1, p2) {
    return Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);
  }

  function angleBetween(center, p1, p2) {
    const v1x = p1.x - center.x, v1y = p1.y - center.y;
    const v2x = p2.x - center.x, v2y = p2.y - center.y;
    const dot = v1x * v2x + v1y * v2y;
    const cross = v1x * v2y - v1y * v2x;
    return Math.atan2(Math.abs(cross), dot);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    const [A, B, C] = vertices;

    // Side lengths (in pixels, but we treat as proportional)
    const a = dist(B, C); // side opposite A (= BC)
    const b = dist(A, C); // side opposite B (= AC)
    const c = dist(A, B); // side opposite C (= AB)

    // Angles
    const alpha = angleBetween(A, B, C);
    const beta = angleBetween(B, A, C);
    const gamma = angleBetween(C, A, B);

    // Draw triangle fill
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.fill();

    // Draw triangle edges
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Draw angle arcs
    drawAngleArc(A, B, C, alpha, '#f472b6', 'Î±');
    drawAngleArc(B, A, C, beta, '#a78bfa', 'Î²');
    drawAngleArc(C, A, B, gamma, '#34d399', 'Î³');

    // Side labels
    drawSideLabel(B, C, 'a', '#f472b6');
    drawSideLabel(A, C, 'b', '#a78bfa');
    drawSideLabel(A, B, 'c', '#34d399');

    // Vertices
    vertices.forEach(v => {
      ctx.beginPath();
      ctx.arc(v.x, v.y, 7, 0, Math.PI * 2);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.font = 'bold 16px Segoe UI';
      ctx.fillStyle = '#e2e8f0';
      ctx.textAlign = 'center';
      const labelOffsetX = v.x < W / 2 ? -16 : 16;
      const labelOffsetY = v.y < H / 2 ? -14 : 20;
      ctx.fillText(v.label, v.x + labelOffsetX, v.y + labelOffsetY);
    });

    // Compute values
    const sinAlphaMinusBeta = Math.sin(alpha - beta);
    const sinAlphaPlusBeta = Math.sin(alpha + beta);
    const lhs = sinAlphaMinusBeta / sinAlphaPlusBeta;
    const rhs = (a * a - b * b) / (c * c);

    const alphaDeg = (alpha * 180 / Math.PI).toFixed(1);
    const betaDeg = (beta * 180 / Math.PI).toFixed(1);
    const gammaDeg = (gamma * 180 / Math.PI).toFixed(1);

    const liveEl = document.getElementById('liveValues');
    liveEl.innerHTML =
      `Î± = ${alphaDeg}Â°, Î² = ${betaDeg}Â°, Î³ = ${gammaDeg}Â°<br>` +
      `a = ${a.toFixed(1)}, b = ${b.toFixed(1)}, c = ${c.toFixed(1)}<br>` +
      `sin(Î±âˆ’Î²)/sin(Î±+Î²) = <span class="match">${lhs.toFixed(6)}</span><br>` +
      `(aÂ²âˆ’bÂ²)/cÂ² = <span class="match">${rhs.toFixed(6)}</span><br>` +
      (Math.abs(lhs - rhs) < 0.001
        ? '<span class="match">âœ“ Identitet vaÅ¾i!</span>'
        : '<span style="color:#f472b6">âš  Degenerisan trougao</span>');
  }

  function drawAngleArc(vertex, p1, p2, angle, color, label) {
    const r = 30;
    const a1x = p1.x - vertex.x, a1y = p1.y - vertex.y;
    const a2x = p2.x - vertex.x, a2y = p2.y - vertex.y;
    let startAngle = Math.atan2(a1y, a1x);
    let endAngle = Math.atan2(a2y, a2x);

    // Ensure we draw the smaller arc
    let diff = endAngle - startAngle;
    if (diff > Math.PI) endAngle -= 2 * Math.PI;
    if (diff < -Math.PI) endAngle += 2 * Math.PI;

    ctx.beginPath();
    ctx.arc(vertex.x, vertex.y, r, startAngle, endAngle, startAngle > endAngle);
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.stroke();

    // Label
    const midAngle = (startAngle + endAngle) / 2;
    const lx = vertex.x + (r + 16) * Math.cos(midAngle);
    const ly = vertex.y + (r + 16) * Math.sin(midAngle);
    ctx.font = 'bold 14px Segoe UI';
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(label, lx, ly);
  }

  function drawSideLabel(p1, p2, label, color) {
    const mx = (p1.x + p2.x) / 2;
    const my = (p1.y + p2.y) / 2;
    const dx = p2.x - p1.x, dy = p2.y - p1.y;
    const len = Math.sqrt(dx * dx + dy * dy);
    const nx = -dy / len, ny = dx / len;
    const off = 18;
    ctx.font = 'bold 16px Segoe UI';
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(label, mx + nx * off, my + ny * off);
  }

  function getPos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    if (e.touches) {
      return { x: (e.touches[0].clientX - rect.left) * scaleX, y: (e.touches[0].clientY - rect.top) * scaleY };
    }
    return { x: (e.clientX - rect.left) * scaleX, y: (e.clientY - rect.top) * scaleY };
  }

  function onDown(e) {
    e.preventDefault();
    const pos = getPos(e);
    for (let i = 0; i < vertices.length; i++) {
      if (dist(pos, vertices[i]) < 20) {
        dragging = i;
        return;
      }
    }
  }

  function onMove(e) {
    if (dragging === null) return;
    e.preventDefault();
    const pos = getPos(e);
    vertices[dragging].x = Math.max(10, Math.min(W - 10, pos.x));
    vertices[dragging].y = Math.max(10, Math.min(H - 10, pos.y));
    draw();
  }

  function onUp() { dragging = null; }

  canvas.addEventListener('mousedown', onDown);
  canvas.addEventListener('mousemove', onMove);
  canvas.addEventListener('mouseup', onUp);
  canvas.addEventListener('mouseleave', onUp);
  canvas.addEventListener('touchstart', onDown, { passive: false });
  canvas.addEventListener('touchmove', onMove, { passive: false });
  canvas.addEventListener('touchend', onUp);

  window.resetTriangle = function() {
    vertices = [
      { x: 180, y: 380, label: 'A' },
      { x: 520, y: 380, label: 'B' },
      { x: 300, y: 100, label: 'C' }
    ];
    draw();
  };

  window.makeEquilateral = function() {
    const cx = W / 2, cy = H / 2;
    const r = 160;
    vertices = [
      { x: cx - r, y: cy + r * 0.577, label: 'A' },
      { x: cx + r, y: cy + r * 0.577, label: 'B' },
      { x: cx, y: cy - r * 1.155, label: 'C' }
    ];
    draw();
  };

  window.makeRightAngle = function() {
    vertices = [
      { x: 150, y: 380, label: 'A' },
      { x: 550, y: 380, label: 'B' },
      { x: 150, y: 120, label: 'C' }
    ];
    draw();
  };

  window.makeIsosceles = function() {
    vertices = [
      { x: 180, y: 380, label: 'A' },
      { x: 520, y: 380, label: 'B' },
      { x: 350, y: 100, label: 'C' }
    ];
    draw();
  };

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"KoliÄnik sin(Î±âˆ’Î²)/sin(Î±+Î²) u proizvoljnom trouglu","subject":"math","unit":"trigonometry","topic_tags":["trigonometrija","sinusna teorema","kosinusna teorema","adicioni obrasci","trougao","identiteti"]}
BRAINSPARK_META-->