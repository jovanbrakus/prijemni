<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna jednačina — Rešenje</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Solve 4^(x + √(x²−2)) − 5·2^(x−1+√(x²−2)) = 6 and find p+q where solution is p/q.

STEP 1: Rewrite the equation using substitution.
Let t = 2^(x + √(x²−2)).
Then:
  4^(x + √(x²−2)) = [2²]^(x + √(x²−2)) = [2^(x + √(x²−2))]² = t²
  2^(x−1+√(x²−2)) = 2^(x + √(x²−2) − 1) = 2^(x + √(x²−2)) · 2^(−1) = t/2

STEP 2: Substitute into the equation.
  t² − 5·(t/2) = 6
  t² − 5t/2 − 6 = 0
  Multiply by 2:
  2t² − 5t − 12 = 0

STEP 3: Solve the quadratic.
  t = (5 ± √(25 + 96)) / 4 = (5 ± √121) / 4 = (5 ± 11) / 4
  t₁ = (5 + 11)/4 = 16/4 = 4
  t₂ = (5 − 11)/4 = −6/4 = −3/2

STEP 4: Filter solutions.
  t = 2^(x + √(x²−2)) > 0 always, so t = −3/2 is rejected.
  t = 4 is the only valid solution.

STEP 5: Solve 2^(x + √(x²−2)) = 4 = 2².
  x + √(x²−2) = 2
  √(x²−2) = 2 − x

STEP 6: Conditions for this equation:
  (a) x²−2 ≥ 0, so x ≥ √2 or x ≤ −√2
  (b) 2 − x ≥ 0, so x ≤ 2
  Combined with (a): √2 ≤ x ≤ 2

STEP 7: Square both sides.
  x² − 2 = (2 − x)² = 4 − 4x + x²
  x² − 2 = 4 − 4x + x²
  −2 = 4 − 4x
  4x = 6
  x = 3/2

STEP 8: Verify x = 3/2 is in the domain [√2, 2].
  √2 ≈ 1.414, and 3/2 = 1.5, so √2 < 3/2 < 2. ✓

STEP 9: Verify the original equation.
  x = 3/2, √(x²−2) = √(9/4 − 8/4) = √(1/4) = 1/2
  x + √(x²−2) = 3/2 + 1/2 = 2
  4^2 − 5·2^(2−1) = 16 − 5·2 = 16 − 10 = 6 ✓

STEP 10: Find p + q.
  x = 3/2, so p = 3, q = 2, p + q = 5.

ANSWER: (C) 5
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  h1 {
    text-align: center;
    font-size: 2.2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 32px;
    padding: 20px 0;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 16px;
    padding: 28px 32px;
    margin-bottom: 24px;
  }
  .card h2 {
    font-size: 1.4rem;
    margin-bottom: 16px;
    color: #60a5fa;
  }
  .card h3 {
    font-size: 1.15rem;
    margin: 18px 0 10px;
    color: #a78bfa;
  }
  .muted { color: #94a3b8; }
  .text-green { color: #4ade80; }
  .text-pink { color: #f472b6; }
  .text-blue { color: #60a5fa; }
  .text-purple { color: #a78bfa; }

  .problem-statement {
    background: #162031;
    border-left: 4px solid #a78bfa;
    padding: 20px 24px;
    border-radius: 0 12px 12px 0;
    font-size: 1.08rem;
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 8px 0 8px 40px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    width: 28px; height: 28px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 0.85rem; color: #0f172a;
    text-align: center; line-height: 28px;
  }

  details.theory {
    border: 1px solid #334155;
    border-radius: 12px;
    overflow: hidden;
  }
  details.theory summary {
    padding: 14px 20px;
    cursor: pointer;
    font-weight: 600;
    font-size: 1.1rem;
    background: #162031;
    user-select: none;
  }
  details.theory summary:hover { background: #1a2740; }
  details.theory .theory-body { padding: 20px 24px; }
  details.theory .theory-body .formula-card {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 14px 18px;
    margin-bottom: 12px;
  }
  details.theory .theory-body .formula-card h4 {
    color: #a78bfa;
    margin-bottom: 6px;
    font-size: 0.95rem;
  }

  .step {
    border-left: 3px solid #334155;
    padding: 0 0 0 24px;
    margin: 20px 0;
    position: relative;
  }
  .step::before {
    content: '';
    position: absolute;
    left: -7px; top: 6px;
    width: 12px; height: 12px;
    border-radius: 50%;
    background: #60a5fa;
    border: 2px solid #1e293b;
  }
  .step.step-green::before { background: #4ade80; }
  .step.step-pink::before { background: #f472b6; }
  .step.step-purple::before { background: #a78bfa; }

  details.checkpoint {
    margin: 15px 0;
    background: #162031;
    border: 1px solid #334155;
    border-radius: 10px;
    overflow: hidden;
  }
  details.checkpoint summary {
    padding: 10px 16px;
    cursor: pointer;
    font-weight: 600;
    color: #60a5fa;
    user-select: none;
  }
  details.checkpoint .checkpoint-body {
    padding: 12px 18px;
    border-top: 1px solid #334155;
  }

  .final-answer {
    background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
    border: 2px solid #34d399;
    border-radius: 16px;
    padding: 28px 32px;
    text-align: center;
  }
  .final-answer .answer-value {
    font-size: 2rem;
    font-weight: 800;
    color: #4ade80;
    margin: 12px 0;
  }
  .options-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-top: 16px;
  }
  .option {
    padding: 8px 20px;
    border-radius: 8px;
    border: 2px solid #334155;
    background: #1e293b;
    color: #94a3b8;
    font-weight: 600;
    font-size: 1rem;
  }
  .option.correct {
    border-color: #4ade80;
    color: #4ade80;
    background: rgba(74,222,128,0.12);
  }

  .insight-card {
    background: linear-gradient(135deg, rgba(96,165,250,0.08), rgba(167,139,250,0.08));
    border: 1px solid #60a5fa;
    border-radius: 12px;
    padding: 20px 24px;
  }
  .pitfall-card {
    background: rgba(244,114,182,0.06);
    border: 1px solid rgba(244,114,182,0.3);
    border-radius: 12px;
    padding: 20px 24px;
  }
  .pitfall-card ul { padding-left: 20px; }
  .pitfall-card li { margin: 8px 0; color: #e2e8f0; }

  .challenge-card {
    background: rgba(167,139,250,0.06);
    border: 1px dashed #a78bfa;
    border-radius: 12px;
    padding: 20px 24px;
  }

  canvas#visual-aid {
    display: block;
    margin: 0 auto;
    border-radius: 12px;
    background: #0f172a;
    border: 1px solid #334155;
    max-width: 100%;
    touch-action: none;
  }

  @media (max-width: 640px) {
    body { padding: 10px; }
    h1 { font-size: 1.5rem; }
    .card { padding: 18px 16px; }
    .final-answer { padding: 18px 16px; }
  }
</style>
</head>
<body>
<div class="container">

<h1>Eksponencijalna jednačina — Smena i kvadratna</h1>

<!-- PROBLEM STATEMENT -->
<div class="card">
  <h2>Postavka zadatka</h2>
  <div class="problem-statement">
    Ako je rešenje jednačine
    \[
      4^{\,x + \sqrt{x^2 - 2}} \;-\; 5 \cdot 2^{\,x - 1 + \sqrt{x^2 - 2}} \;=\; 6
    \]
    oblika \(\dfrac{p}{q}\), tada je \(p + q\) jednako:<br><br>
    <span class="muted">(A) \(-3\)&emsp;(B) \(4\)&emsp;(C) \(5\)&emsp;(D) \(-5\)&emsp;(E) \(-4\)&emsp;(N) Ne znam</span>
  </div>
</div>

<!-- PLAN -->
<div class="card">
  <h2>Plan rešavanja</h2>
  <ol class="plan-list">
    <li>Prepisati \(4^{(\cdots)}\) kao \(\bigl(2^{(\cdots)}\bigr)^2\) i uvesti smenu \(t = 2^{x+\sqrt{x^2-2}}\).</li>
    <li>Svesti jednačinu na kvadratnu po \(t\) i rešiti je.</li>
    <li>Odbaciti negativno rešenje (eksponencijalna funkcija je pozitivna).</li>
    <li>Iz \(t = 4\) odrediti \(x\) rešavanjem iracionalne jednačine.</li>
    <li>Proveriti da je rešenje u domenu i verifikovati ga u polaznoj jednačini.</li>
  </ol>
</div>

<!-- THEORY -->
<div class="card">
  <details class="theory">
    <summary>&#128208; Ključne formule i teoreme</summary>
    <div class="theory-body">
      <div class="formula-card">
        <h4>Svojstva eksponencijalne funkcije</h4>
        \[
          a^{m+n} = a^m \cdot a^n, \qquad (a^m)^n = a^{mn}, \qquad a^x > 0 \;\;\forall\, x \in \mathbb{R}
        \]
      </div>
      <div class="formula-card">
        <h4>Kvadratna jednačina</h4>
        \[
          at^2 + bt + c = 0 \;\;\Longrightarrow\;\; t = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
        \]
      </div>
      <div class="formula-card">
        <h4>Iracionalna jednačina</h4>
        Ako je \(\sqrt{f(x)} = g(x)\), tada moramo imati:
        \(f(x) \geq 0\) i \(g(x) \geq 0\), pa kvadriramo: \(f(x) = [g(x)]^2\).
      </div>
    </div>
  </details>
</div>

<!-- VISUAL AID -->
<div class="card">
  <h2>Vizuelni prikaz</h2>
  <p class="muted" style="margin-bottom:12px;">
    Grafici leve i desne strane jednačine. Presek sa \(y = 6\) daje rešenje \(x = \tfrac{3}{2}\).
    Prevucite mišem ili dodirnite za interakciju.
  </p>
  <canvas id="visual-aid" width="720" height="420"></canvas>
</div>

<!-- STEP-BY-STEP SOLUTION -->
<div class="card">
  <h2>Rešenje korak po korak</h2>

  <!-- Step 1 -->
  <div class="step">
    <h3>Korak 1: Prepisivanje jednačine</h3>
    <p>Oznaka: neka je \(u = x + \sqrt{x^2 - 2}\). Tada:</p>
    \[
      4^u = \bigl(2^2\bigr)^u = \bigl(2^u\bigr)^2
    \]
    <p>Za drugi sabirak primetimo da je eksponent \(x - 1 + \sqrt{x^2 - 2} = u - 1\), pa:</p>
    \[
      2^{u-1} = \frac{2^u}{2}
    \]
    <p>Jednačina postaje:</p>
    \[
      \bigl(2^u\bigr)^2 - 5 \cdot \frac{2^u}{2} = 6
    \]
  </div>

  <details class="checkpoint">
    <summary>Proveri se &mdash; Razumeš li smenu?</summary>
    <div class="checkpoint-body">
      Ključna ideja: oba eksponenta u jednačini sadrže izraz \(x + \sqrt{x^2-2}\). Drugi eksponent je za 1 manji.
      Ako stavimo \(t = 2^{x+\sqrt{x^2-2}}\), onda je \(4^{x+\sqrt{x^2-2}} = t^2\) i \(2^{x-1+\sqrt{x^2-2}} = t/2\).
      Upravo to je suština ovog koraka!
    </div>
  </details>

  <!-- Step 2 -->
  <div class="step step-purple">
    <h3>Korak 2: Smena \(t = 2^u\)</h3>
    <p>Uvodimo \(t = 2^u > 0\). Jednačina glasi:</p>
    \[
      t^2 - \frac{5t}{2} = 6
    \]
    <p>Množimo celom jednačinom sa \(2\):</p>
    \[
      2t^2 - 5t = 12
    \]
    \[
      2t^2 - 5t - 12 = 0
    \]
  </div>

  <!-- Step 3 -->
  <div class="step step-green">
    <h3>Korak 3: Rešavanje kvadratne jednačine</h3>
    <p>Primenjujemo formulu za rešenja:</p>
    \[
      t = \frac{5 \pm \sqrt{25 + 96}}{4} = \frac{5 \pm \sqrt{121}}{4} = \frac{5 \pm 11}{4}
    \]
    <p>Odavde:</p>
    \[
      t_1 = \frac{5 + 11}{4} = \frac{16}{4} = 4 \qquad\qquad t_2 = \frac{5 - 11}{4} = \frac{-6}{4} = -\frac{3}{2}
    \]
  </div>

  <details class="checkpoint">
    <summary>Proveri se &mdash; Koje rešenje prihvatamo?</summary>
    <div class="checkpoint-body">
      Pošto je \(t = 2^u\), a eksponencijalna funkcija je <strong>uvek pozitivna</strong>, mora biti \(t > 0\).
      Dakle, \(t_2 = -\tfrac{3}{2} < 0\) odbacujemo. Prihvatamo jedino \(t = 4\).
    </div>
  </details>

  <!-- Step 4 -->
  <div class="step step-pink">
    <h3>Korak 4: Odbacivanje negativnog rešenja</h3>
    <p>Kako je \(t = 2^u > 0\) za svako realno \(u\), rešenje \(t_2 = -\dfrac{3}{2}\) <span class="text-pink">odbacujemo</span>.</p>
    <p>Jedino validno rešenje je:</p>
    \[
      t = 4
    \]
  </div>

  <!-- Step 5 -->
  <div class="step">
    <h3>Korak 5: Određivanje \(x\) iz \(t = 4\)</h3>
    <p>Iz \(2^{x + \sqrt{x^2-2}} = 4 = 2^2\) sledi:</p>
    \[
      x + \sqrt{x^2 - 2} = 2
    \]
    <p>Izolujemo koren:</p>
    \[
      \sqrt{x^2 - 2} = 2 - x
    \]
    <p><strong>Uslovi:</strong></p>
    <ul>
      <li>\(x^2 - 2 \geq 0 \;\Longrightarrow\; x \geq \sqrt{2} \;\text{ ili }\; x \leq -\sqrt{2}\)</li>
      <li>\(2 - x \geq 0 \;\Longrightarrow\; x \leq 2\)</li>
    </ul>
    <p>Kombinovano: \(\sqrt{2} \leq x \leq 2\) (ili \(x \leq -\sqrt{2}\), ali tada bi \(2 - x > 0\), pa ćemo proveriti).</p>
  </div>

  <!-- Step 6 -->
  <div class="step step-green">
    <h3>Korak 6: Kvadriranje i rešavanje</h3>
    <p>Kvadriramo obe strane:</p>
    \[
      x^2 - 2 = (2 - x)^2 = 4 - 4x + x^2
    \]
    <p>Skraćujemo \(x^2\) sa obe strane:</p>
    \[
      -2 = 4 - 4x
    \]
    \[
      4x = 6
    \]
    \[
      \boxed{x = \frac{3}{2}}
    \]
  </div>

  <details class="checkpoint">
    <summary>Proveri se &mdash; Da li je \(x = \tfrac{3}{2}\) u domenu?</summary>
    <div class="checkpoint-body">
      Proveravamo: \(\sqrt{2} \approx 1{,}414\), a \(\dfrac{3}{2} = 1{,}5\). <br>
      Dakle \(\sqrt{2} < \dfrac{3}{2} < 2\) — uslov je ispunjen! ✓
    </div>
  </details>

  <!-- Step 7 -->
  <div class="step step-purple">
    <h3>Korak 7: Verifikacija u polaznoj jednačini</h3>
    <p>Za \(x = \dfrac{3}{2}\) računamo:</p>
    \[
      \sqrt{x^2 - 2} = \sqrt{\frac{9}{4} - \frac{8}{4}} = \sqrt{\frac{1}{4}} = \frac{1}{2}
    \]
    \[
      x + \sqrt{x^2-2} = \frac{3}{2} + \frac{1}{2} = 2
    \]
    <p>Uvrstimo u polaznu jednačinu:</p>
    \[
      4^2 - 5 \cdot 2^{2-1} = 16 - 5 \cdot 2 = 16 - 10 = 6 \;\;\checkmark
    \]
    <p class="text-green"><strong>Rešenje je potvrđeno!</strong></p>
  </div>

  <!-- Step 8 -->
  <div class="step step-green">
    <h3>Korak 8: Određivanje \(p + q\)</h3>
    <p>Rešenje jednačine je \(x = \dfrac{3}{2}\), dakle \(p = 3\) i \(q = 2\):</p>
    \[
      p + q = 3 + 2 = 5
    \]
  </div>
</div>

<!-- KEY INSIGHT -->
<div class="card">
  <div class="insight-card">
    <h2>Ključni uvid</h2>
    <p>
      Suština ovog zadatka je prepoznavanje da oba eksponenta sadrže isti izraz \(x + \sqrt{x^2 - 2}\),
      s tim da je drugi eksponent za \(1\) manji. To omogućava elegantnu smenu \(t = 2^{x+\sqrt{x^2-2}}\),
      koja eksponencijalnu jednačinu svodi na <strong>kvadratnu</strong>. Nakon toga, prirodni uslov
      \(t > 0\) odmah eliminiše jedno rešenje, a preostala iracionalna jednačina daje jedinstven rezultat.
    </p>
  </div>
</div>

<!-- FINAL ANSWER -->
<div class="card">
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <p>Rešenje jednačine je \(x = \dfrac{3}{2}\), pa je:</p>
    <div class="answer-value">\(p + q = 3 + 2 = 5\)</div>
    <div class="options-grid">
      <div class="option">(A) \(-3\)</div>
      <div class="option">(B) \(4\)</div>
      <div class="option correct">(C) \(5\)</div>
      <div class="option">(D) \(-5\)</div>
      <div class="option">(E) \(-4\)</div>
    </div>
    <p style="margin-top:18px;" class="muted">
      <strong>Verifikacija:</strong> \(4^2 - 5 \cdot 2^1 = 16 - 10 = 6\) &check;
    </p>
  </div>
</div>

<!-- COMMON PITFALLS -->
<div class="card">
  <div class="pitfall-card">
    <h2 class="text-pink">Česte greške</h2>
    <ul>
      <li>
        <strong>Zaboravljanje uslova \(t > 0\):</strong> Eksponencijalna funkcija \(2^u\) je uvek pozitivna.
        Negativno rešenje kvadratne jednačine se mora odbaciti.
      </li>
      <li>
        <strong>Neproveravanje domene korena:</strong> Izraz \(\sqrt{x^2-2}\) zahteva \(x^2 \geq 2\),
        tj. \(|x| \geq \sqrt{2}\). Kandidat \(x = \tfrac{3}{2}\) zadovoljava ovaj uslov jer je \(\tfrac{3}{2} > \sqrt{2}\).
      </li>
      <li>
        <strong>Greška pri kvadriranju:</strong> Kada kvadriramo \(\sqrt{x^2-2} = 2-x\), moramo prethodno
        osigurati da je desna strana nenegativna (\(x \leq 2\)). Inače, možemo dobiti lažna rešenja.
      </li>
      <li>
        <strong>Pogrešno tumačenje \(p/q\):</strong> Razlomak \(\tfrac{3}{2}\) je već u nesvodljivom obliku.
        Dakle \(p=3\), \(q=2\), i \(p+q=5\), a ne \(p \cdot q\) ili nešto drugo.
      </li>
    </ul>
  </div>
</div>

<!-- OPTIONAL CHALLENGE -->
<div class="card">
  <div class="challenge-card">
    <h2 class="text-purple">Dodatni izazov</h2>
    <p>
      Pokušaj da rešiš sličnu jednačinu:
    </p>
    \[
      9^{\,x + \sqrt{x^2-3}} \;-\; 4 \cdot 3^{\,x - 1 + \sqrt{x^2-3}} \;=\; 3
    \]
    <p class="muted" style="margin-top:8px;">
      Savet: primeni istu tehniku — uvedi smenu \(t = 3^{x+\sqrt{x^2-3}}\) i svedi na kvadratnu jednačinu!
    </p>
  </div>
</div>

</div><!-- /.container -->

<script>
(function() {
  var canvas = document.getElementById('visual-aid');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width, H = canvas.height;

  // Coordinate system
  var xMin = -0.5, xMax = 3.5, yMin = -5, yMax = 25;
  var offsetX = 0, offsetY = 0;
  var dragging = false, lastX = 0, lastY = 0;

  function toCanvasX(x) { return ((x - xMin - offsetX) / (xMax - xMin)) * W; }
  function toCanvasY(y) { return H - ((y - yMin - offsetY) / (yMax - yMin)) * H; }
  function toMathX(cx) { return (cx / W) * (xMax - xMin) + xMin + offsetX; }

  function f(x) {
    var disc = x * x - 2;
    if (disc < 0) return NaN;
    var s = Math.sqrt(disc);
    var u = x + s;
    return Math.pow(4, u) - 5 * Math.pow(2, u - 1);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gx = Math.ceil(xMin + offsetX); gx <= xMax + offsetX; gx++) {
      var cx = toCanvasX(gx);
      ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, H); ctx.stroke();
    }
    for (var gy = Math.ceil(yMin + offsetY); gy <= yMax + offsetY; gy += 5) {
      var cy = toCanvasY(gy);
      ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(W, cy); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    var ax0 = toCanvasX(0), ay0 = toCanvasY(0);
    ctx.beginPath(); ctx.moveTo(0, ay0); ctx.lineTo(W, ay0); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(ax0, 0); ctx.lineTo(ax0, H); ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px sans-serif';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin + offsetX); lx <= xMax + offsetX; lx++) {
      var clx = toCanvasX(lx);
      if (clx > 30 && clx < W - 10) {
        ctx.fillText(lx.toString(), clx, ay0 + 16);
      }
    }
    ctx.textAlign = 'right';
    for (var ly = Math.ceil(yMin + offsetY); ly <= yMax + offsetY; ly += 5) {
      if (ly === 0) continue;
      var cly = toCanvasY(ly);
      if (cly > 12 && cly < H - 5) {
        ctx.fillText(ly.toString(), ax0 - 6, cly + 4);
      }
    }

    // y = 6 line
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 4]);
    var y6 = toCanvasY(6);
    ctx.beginPath(); ctx.moveTo(0, y6); ctx.lineTo(W, y6); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'left';
    ctx.font = '13px sans-serif';
    ctx.fillText('y = 6', 8, y6 - 6);

    // f(x) curve
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    var started = false;
    for (var px = 0; px < W; px++) {
      var mx = toMathX(px);
      var my = f(mx);
      if (isNaN(my) || my > 300 || my < -50) {
        started = false;
        continue;
      }
      var py = toCanvasY(my);
      if (!started) { ctx.moveTo(px, py); started = true; }
      else { ctx.lineTo(px, py); }
    }
    ctx.stroke();

    // Label for curve
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'left';
    var labelX = toCanvasX(2.2);
    var labelMy = f(2.2);
    if (!isNaN(labelMy)) {
      var labelY = toCanvasY(Math.min(labelMy, yMax + offsetY - 2));
      ctx.fillText('f(x) = 4^(x+√(x²−2)) − 5·2^(x−1+√(x²−2))', labelX + 5, Math.max(labelY - 10, 20));
    }

    // Solution point x = 1.5
    var solX = 1.5;
    var solY = f(solX);
    if (!isNaN(solY)) {
      var scx = toCanvasX(solX);
      var scy = toCanvasY(solY);
      ctx.beginPath();
      ctx.arc(scx, scy, 8, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(74,222,128,0.3)';
      ctx.fill();
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 3;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(scx, scy, 3, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('x = 3/2', scx, scy - 16);
    }

    // Domain markers
    var sqr2 = Math.sqrt(2);
    var dsq = toCanvasX(sqr2);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 4]);
    ctx.beginPath(); ctx.moveTo(dsq, 0); ctx.lineTo(dsq, H); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#f472b6';
    ctx.font = '12px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = √2', dsq, H - 8);
  }

  draw();

  // Touch/mouse interaction for panning
  function startDrag(e) {
    dragging = true;
    var rect = canvas.getBoundingClientRect();
    var t = e.touches ? e.touches[0] : e;
    lastX = t.clientX - rect.left;
    lastY = t.clientY - rect.top;
  }
  function moveDrag(e) {
    if (!dragging) return;
    e.preventDefault();
    var rect = canvas.getBoundingClientRect();
    var t = e.touches ? e.touches[0] : e;
    var cx = t.clientX - rect.left;
    var cy = t.clientY - rect.top;
    var dx = cx - lastX;
    var dy = cy - lastY;
    offsetX -= dx * (xMax - xMin) / W;
    offsetY += dy * (yMax - yMin) / H;
    lastX = cx;
    lastY = cy;
    draw();
  }
  function endDrag() { dragging = false; }

  canvas.addEventListener('mousedown', startDrag);
  canvas.addEventListener('mousemove', moveDrag);
  canvas.addEventListener('mouseup', endDrag);
  canvas.addEventListener('mouseleave', endDrag);
  canvas.addEventListener('touchstart', startDrag, {passive: false});
  canvas.addEventListener('touchmove', moveDrag, {passive: false});
  canvas.addEventListener('touchend', endDrag);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Eksponencijalna jednačina — smena i kvadratna","subject":"math","unit":"exponential-equations","topic_tags":["eksponencijalne jednačine","smena","kvadratna jednačina","iracionalna jednačina","domen"]}
BRAINSPARK_META-->