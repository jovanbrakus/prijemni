<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maksimalna povr≈°ina pravougaonika upisanog u paraboliƒçki odseƒçak</title>

<script type="text/info" id="logic-scratchpad">
Problem: Maksimalna povr≈°ina pravougaonika upisanog u paraboliƒçki odseƒçak
ograniƒçen parabolom y = 1 ‚àí x¬≤ i pravom y = 0, sa jednom stranicom na x-osi.

Setup:
- Parabola: y = 1 ‚àí x¬≤, preseca x-osu u x = ‚àí1 i x = 1
- Pravougaonik je simetriƒçan u odnosu na y-osu (parabola je parna funkcija)
- Donja stranica le≈æi na x-osi od ‚àít do t, gde je t ‚àà (0, 1)
- Visina pravougaonika = y(t) = 1 ‚àí t¬≤
- Povr≈°ina: A(t) = 2t ¬∑ (1 ‚àí t¬≤) = 2t ‚àí 2t¬≥

Optimizacija:
A'(t) = 2 ‚àí 6t¬≤
A'(t) = 0 ‚üπ 2 ‚àí 6t¬≤ = 0 ‚üπ t¬≤ = 1/3 ‚üπ t = 1/‚àö3

Provera drugog izvoda:
A''(t) = ‚àí12t
A''(1/‚àö3) = ‚àí12/‚àö3 < 0 ‚üπ maksimum

Maksimalna povr≈°ina:
A(1/‚àö3) = 2 ¬∑ (1/‚àö3) ¬∑ (1 ‚àí 1/3)
         = 2 ¬∑ (1/‚àö3) ¬∑ (2/3)
         = 4/(3‚àö3)
         = 4/(3‚àö3) ¬∑ (‚àö3/‚àö3)
         = 4‚àö3/9

Odgovor: (B) (4/9)‚àö3
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  font-size: 1.5rem;
  margin-bottom: 16px;
  color: #60a5fa;
}

.card h3 {
  font-size: 1.2rem;
  margin: 18px 0 10px;
  color: #a78bfa;
}

.problem-statement {
  background: #172033;
  border-left: 4px solid #a78bfa;
  padding: 20px 24px;
  border-radius: 0 12px 12px 0;
  font-size: 1.1rem;
  line-height: 1.8;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.option {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 14px;
  text-align: center;
  transition: all 0.3s;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 700;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 10px 0 10px 48px;
  position: relative;
  border-bottom: 1px solid #334155;
}

.plan-list li:last-child { border-bottom: none; }

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 10px;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  line-height: 32px;
  text-align: center;
}

.theory-toggle {
  width: 100%;
  background: #172033;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 16px 20px;
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
  cursor: pointer;
  text-align: left;
  transition: all 0.3s;
}

.theory-toggle:hover { background: #1e293b; border-color: #60a5fa; }

.theory-content {
  overflow: hidden;
  max-height: 0;
  transition: max-height 0.5s ease;
  padding: 0 20px;
}

.theory-content.open {
  max-height: 1500px;
  padding: 20px;
}

.formula-box {
  background: #172033;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 16px;
  margin: 10px 0;
}

.step {
  background: #172033;
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
  border-left: 3px solid #60a5fa;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-num {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 1rem;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 700;
  color: #a78bfa;
}

details.checkpoint {
  margin: 15px 0;
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
}

details.checkpoint summary {
  cursor: pointer;
  font-weight: 600;
  color: #60a5fa;
  font-size: 1rem;
}

details.checkpoint summary:hover { color: #93c5fd; }

details.checkpoint .checkpoint-content {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(96, 165, 250, 0.15);
  color: #cbd5e1;
}

.canvas-wrapper {
  position: relative;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-controls {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-top: 14px;
  flex-wrap: wrap;
  justify-content: center;
}

.canvas-controls label {
  color: #94a3b8;
  font-size: 0.9rem;
}

.slider-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 220px;
  height: 8px;
  border-radius: 4px;
  background: #334155;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(96,165,250,0.4);
}

input[type="range"]::-moz-range-thumb {
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  cursor: pointer;
  border: none;
}

.info-display {
  display: flex;
  gap: 24px;
  justify-content: center;
  margin-top: 12px;
  flex-wrap: wrap;
}

.info-item {
  background: #172033;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  text-align: center;
}

.info-label {
  font-size: 0.8rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.info-value {
  font-size: 1.3rem;
  font-weight: 700;
  color: #60a5fa;
  font-family: 'Courier New', monospace;
}

.info-value.max {
  color: #34d399;
}

.insight-box {
  background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(96,165,250,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
}

.insight-box .icon { font-size: 1.5rem; margin-bottom: 8px; }

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.08));
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
}

.final-answer h2 {
  color: #34d399;
  font-size: 1.6rem;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.verification-box {
  background: #172033;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 16px;
  margin-top: 16px;
  text-align: left;
}

.pitfall {
  background: rgba(244,114,182,0.08);
  border: 1px solid rgba(244,114,182,0.25);
  border-radius: 10px;
  padding: 16px;
  margin: 10px 0;
}

.pitfall-title {
  color: #f472b6;
  font-weight: 700;
  margin-bottom: 6px;
}

.challenge-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.08), rgba(167,139,250,0.08));
  border: 1px dashed rgba(167,139,250,0.4);
  border-radius: 12px;
  padding: 20px;
}

.tab-bar {
  display: flex;
  gap: 4px;
  margin-bottom: 16px;
  border-bottom: 2px solid #334155;
  padding-bottom: 0;
}

.tab-btn {
  background: transparent;
  border: none;
  color: #94a3b8;
  padding: 10px 18px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  border-bottom: 3px solid transparent;
  transition: all 0.3s;
  margin-bottom: -2px;
}

.tab-btn:hover { color: #e2e8f0; }
.tab-btn.active {
  color: #60a5fa;
  border-bottom-color: #60a5fa;
}

.tab-panel { display: none; }
.tab-panel.active { display: block; }

@media (max-width: 768px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .options-grid { grid-template-columns: repeat(2, 1fr); }
  input[type="range"] { width: 160px; }
  .info-display { gap: 12px; }
}
</style>
</head>
<body>
<div class="container">

<h1>Maksimalna povr≈°ina pravougaonika u paraboli</h1>
<p class="subtitle">Optimizacija -- diferencijalni raƒçun i geometrija parabole</p>

<!-- Problem Statement -->
<div class="card">
  <h2>Postavka zadatka</h2>
  <div class="problem-statement">
    <p>Maksimalna povr≈°ina pravougaonika upisanog u paraboliƒçki odseƒçak ograniƒçen parabolom \( y = 1 - x^2 \) i pravom \( y = 0 \), tako da mu jedna stranica pripada \( x \)-osi, jeste:</p>
    <div class="options-grid">
      <div class="option">(A) \(\dfrac{1}{9}\sqrt{3}\)</div>
      <div class="option correct">(B) \(\dfrac{4}{9}\sqrt{3}\)</div>
      <div class="option">(C) \(\dfrac{8}{9}\sqrt{3}\)</div>
      <div class="option">(D) \(\sqrt{3}\)</div>
      <div class="option">(E) \(2\sqrt{3}\)</div>
      <div class="option">(N) Ne znam</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <h2>Plan re≈°avanja</h2>
  <ul class="plan-list">
    <li>Postaviti matematiƒçki model: iskoristiti simetriju parabole i parametrizovati pravougaonik pomoƒáu jednog parametra \( t \)</li>
    <li>Izvesti funkciju povr≈°ine \( A(t) = 2t(1 - t^2) \) i definisati oblast</li>
    <li>Naƒái kritiƒçnu taƒçku pomoƒáu prvog izvoda \( A'(t) = 0 \)</li>
    <li>Potvrditi da je u pitanju maksimum pomoƒáu drugog izvoda</li>
    <li>Izraƒçunati maksimalnu povr≈°inu i izabrati taƒçan odgovor</li>
  </ul>
</div>

<!-- Theory Refresher -->
<div class="card">
  <button class="theory-toggle" onclick="toggleTheory()">üìê Kljuƒçne formule i teoreme</button>
  <div class="theory-content" id="theory-panel">
    <div class="formula-box">
      <h3>Potreban uslov za ekstremum</h3>
      <p>Ako funkcija \( f(t) \) ima lokalni ekstremum u unutra≈°njoj taƒçki \( t_0 \) i ako je diferencijabilna u toj taƒçki, onda je:</p>
      \[ f'(t_0) = 0 \]
    </div>
    <div class="formula-box">
      <h3>Dovoljni uslov -- drugi izvod</h3>
      <p>Ako je \( f'(t_0) = 0 \) i \( f''(t_0) < 0 \), onda funkcija \( f \) ima <strong>lokalni maksimum</strong> u taƒçki \( t_0 \).</p>
    </div>
    <div class="formula-box">
      <h3>Povr≈°ina pravougaonika</h3>
      <p>Pravougaonik sa stranicama du≈æine \( a \) i \( b \) ima povr≈°inu:</p>
      \[ P = a \cdot b \]
      <p>U na≈°em sluƒçaju: ≈°irina \( = 2t \), visina \( = 1 - t^2 \).</p>
    </div>
    <div class="formula-box">
      <h3>Racionalizacija</h3>
      <p>Da se otkloni koren iz imenioca:</p>
      \[ \frac{a}{b\sqrt{c}} = \frac{a}{b\sqrt{c}} \cdot \frac{\sqrt{c}}{\sqrt{c}} = \frac{a\sqrt{c}}{bc} \]
    </div>
  </div>
</div>

<!-- Interactive Visual -->
<div class="card">
  <h2>Interaktivni prikaz</h2>
  <p style="color:#94a3b8; margin-bottom:14px;">Pomeri klizaƒç ili prevuci po grafiku da menja≈° parametar \( t \). Posmatraj kako se menja pravougaonik i njegova povr≈°ina.</p>

  <div class="tab-bar">
    <button class="tab-btn active" data-tab="tab-geo">Geometrija</button>
    <button class="tab-btn" data-tab="tab-area">Grafik povr≈°ine</button>
    <button class="tab-btn" data-tab="tab-both">Oba prikaza</button>
  </div>

  <div class="tab-panel active" id="tab-geo">
    <div class="canvas-wrapper">
      <canvas id="canvas-geo" width="700" height="500"></canvas>
    </div>
  </div>

  <div class="tab-panel" id="tab-area">
    <div class="canvas-wrapper">
      <canvas id="canvas-area" width="700" height="400"></canvas>
    </div>
  </div>

  <div class="tab-panel" id="tab-both">
    <div class="canvas-wrapper" style="display:flex;flex-direction:row;flex-wrap:wrap;gap:10px;justify-content:center;">
      <canvas id="canvas-both-geo" width="440" height="400"></canvas>
      <canvas id="canvas-both-area" width="440" height="400"></canvas>
    </div>
  </div>

  <div class="canvas-controls">
    <div class="slider-group">
      <label for="t-slider">Parametar \( t \):</label>
      <input type="range" id="t-slider" min="0.02" max="0.98" step="0.005" value="0.577">
      <span id="t-display" style="color:#60a5fa;font-weight:700;min-width:50px;">0.577</span>
    </div>
    <button id="btn-optimal" style="background:linear-gradient(135deg,#34d399,#4ade80);color:#0f172a;border:none;border-radius:8px;padding:8px 16px;font-weight:700;cursor:pointer;">Optimalna vrednost</button>
    <button id="btn-animate" style="background:linear-gradient(135deg,#60a5fa,#a78bfa);color:#0f172a;border:none;border-radius:8px;padding:8px 16px;font-weight:700;cursor:pointer;">Animiraj</button>
  </div>

  <div class="info-display">
    <div class="info-item">
      <div class="info-label">t</div>
      <div class="info-value" id="info-t">0.577</div>
    </div>
    <div class="info-item">
      <div class="info-label">≈†irina (2t)</div>
      <div class="info-value" id="info-w">1.155</div>
    </div>
    <div class="info-item">
      <div class="info-label">Visina (1‚àít¬≤)</div>
      <div class="info-value" id="info-h">0.667</div>
    </div>
    <div class="info-item">
      <div class="info-label">Povr≈°ina</div>
      <div class="info-value" id="info-a">0.770</div>
    </div>
    <div class="info-item">
      <div class="info-label">Maks. povr≈°ina</div>
      <div class="info-value max" id="info-max">4‚àö3/9 ‚âà 0.770</div>
    </div>
  </div>
</div>

<!-- Step by Step Solution -->
<div class="card">
  <h2>Re≈°enje korak po korak</h2>

  <!-- Step 1 -->
  <div class="step">
    <div class="step-header">
      <div class="step-num">1</div>
      <div class="step-title">Postavljanje modela</div>
    </div>
    <p>Parabola \( y = 1 - x^2 \) je parna funkcija (simetriƒçna u odnosu na \( y \)-osu). Nule su u \( x = -1 \) i \( x = 1 \), a teme je u \( (0, 1) \).</p>
    <p style="margin-top:10px;">Pravougaonik ima jednu stranicu na \( x \)-osi. Zbog simetrije, optimalan pravougaonik ƒáe biti simetriƒçan u odnosu na \( y \)-osu. Oznaƒçimo sa \( t \in (0, 1) \) polu-≈°irinu pravougaonika.</p>
    <p style="margin-top:10px;">Tada su temena pravougaonika:</p>
    \[ (-t, 0), \quad (t, 0), \quad (t, 1 - t^2), \quad (-t, 1 - t^2) \]
    <p style="margin-top:10px;">Gornja dva temena le≈æe na paraboli, a donja dva na \( x \)-osi.</p>

    <details class="checkpoint">
      <summary>Proveri se: Za≈°to koristimo simetriju?</summary>
      <div class="checkpoint-content">
        <p>Parabola \( y = 1 - x^2 \) je parna funkcija, pa je njen grafik simetriƒçan u odnosu na \( y \)-osu. Ako bi optimalan pravougaonik bio asimetriƒçan, mogao bi se "pomerati" tako da postane simetriƒçan uz istu ili veƒáu povr≈°inu (po nejednakosti aritmetiƒçke i geometrijske sredine). Dakle, mo≈æemo pretpostaviti simetriju bez gubitka op≈°tosti.</p>
      </div>
    </details>
  </div>

  <!-- Step 2 -->
  <div class="step">
    <div class="step-header">
      <div class="step-num">2</div>
      <div class="step-title">Funkcija povr≈°ine</div>
    </div>
    <p>≈†irina pravougaonika je \( 2t \), a visina je \( y(t) = 1 - t^2 \). Povr≈°ina:</p>
    \[ A(t) = 2t \cdot (1 - t^2) = 2t - 2t^3, \quad t \in (0, 1) \]
    <p style="margin-top:10px;">Na krajevima intervala:</p>
    <ul style="margin: 10px 0 0 24px;">
      <li>\( A(0) = 0 \) (degenerisani pravougaonik -- nulta ≈°irina)</li>
      <li>\( A(1) = 0 \) (degenerisani pravougaonik -- nulta visina)</li>
    </ul>
    <p style="margin-top:10px;">Kako je \( A \) neprekidna na \( [0, 1] \) i pozitivna na \( (0, 1) \), po Vajer≈°trasovoj teoremi dosti≈æe maksimum u nekoj unutra≈°njoj taƒçki.</p>

    <details class="checkpoint">
      <summary>Proveri se: Koja je oblast definisanosti?</summary>
      <div class="checkpoint-content">
        <p>Parametar \( t \) mora biti u \( (0, 1) \) jer:</p>
        <ul style="margin-left:20px;">
          <li>\( t > 0 \) -- pravougaonik ima nenultu ≈°irinu</li>
          <li>\( t < 1 \) -- visina \( 1 - t^2 > 0 \), pravougaonik mora biti ispod parabole</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Step 3 -->
  <div class="step">
    <div class="step-header">
      <div class="step-num">3</div>
      <div class="step-title">Nala≈æenje kritiƒçne taƒçke</div>
    </div>
    <p>Diferenciramo \( A(t) = 2t - 2t^3 \):</p>
    \[ A'(t) = 2 - 6t^2 \]
    <p style="margin-top:10px;">Postavljamo \( A'(t) = 0 \):</p>
    \[ 2 - 6t^2 = 0 \]
    \[ 6t^2 = 2 \]
    \[ t^2 = \frac{1}{3} \]
    \[ t = \frac{1}{\sqrt{3}} = \frac{\sqrt{3}}{3} \approx 0{,}577 \]
    <p style="margin-top:10px;">(Uzimamo pozitivno re≈°enje jer je \( t > 0 \).)</p>

    <details class="checkpoint">
      <summary>Proveri se: Alternativno diferenciranje</summary>
      <div class="checkpoint-content">
        <p>Mo≈æemo i ovako: \( A(t) = 2t(1 - t^2) \). Koristimo pravilo proizvoda:</p>
        \[ A'(t) = 2 \cdot (1 - t^2) + 2t \cdot (-2t) = 2 - 2t^2 - 4t^2 = 2 - 6t^2 \]
        <p>Isti rezultat.</p>
      </div>
    </details>
  </div>

  <!-- Step 4 -->
  <div class="step">
    <div class="step-header">
      <div class="step-num">4</div>
      <div class="step-title">Potvrda da je u pitanju maksimum</div>
    </div>
    <p>Raƒçunamo drugi izvod:</p>
    \[ A''(t) = -12t \]
    <p style="margin-top:10px;">U kritiƒçnoj taƒçki:</p>
    \[ A''\!\left(\frac{1}{\sqrt{3}}\right) = -\frac{12}{\sqrt{3}} = -4\sqrt{3} \approx -6{,}93 < 0 \]
    <p style="margin-top:10px;">Kako je \( A'' < 0 \), potvrƒëujemo da je u taƒçki \( t = \frac{1}{\sqrt{3}} \) lokalni (i globalni, jer je jedina kritiƒçna taƒçka) <strong>maksimum</strong>.</p>

    <details class="checkpoint">
      <summary>Proveri se: Za≈°to je lokalni = globalni maksimum?</summary>
      <div class="checkpoint-content">
        <p>Na zatvorenom intervalu \( [0, 1] \), funkcija \( A(t) \) ima vrednost 0 na oba kraja. Kako je \( A \) neprekidna i pozitivna u unutra≈°njosti, a ima samo jednu kritiƒçnu taƒçku gde je \( A'' < 0 \), ta taƒçka je ujedno i globalni maksimum.</p>
      </div>
    </details>
  </div>

  <!-- Step 5 -->
  <div class="step">
    <div class="step-header">
      <div class="step-num">5</div>
      <div class="step-title">Izraƒçunavanje maksimalne povr≈°ine</div>
    </div>
    <p>Uvr≈°tavamo \( t = \dfrac{1}{\sqrt{3}} \):</p>
    \[ A\!\left(\frac{1}{\sqrt{3}}\right) = 2 \cdot \frac{1}{\sqrt{3}} \cdot \left(1 - \frac{1}{3}\right) \]
    <p style="margin-top:10px;">Pojednostavljujemo:</p>
    \[ = 2 \cdot \frac{1}{\sqrt{3}} \cdot \frac{2}{3} = \frac{4}{3\sqrt{3}} \]
    <p style="margin-top:10px;">Racionalizujemo imenilac:</p>
    \[ = \frac{4}{3\sqrt{3}} \cdot \frac{\sqrt{3}}{\sqrt{3}} = \frac{4\sqrt{3}}{3 \cdot 3} = \frac{4\sqrt{3}}{9} \]

    <details class="checkpoint">
      <summary>Proveri se: Numeriƒçka provera</summary>
      <div class="checkpoint-content">
        <p>\( t = \frac{1}{\sqrt{3}} \approx 0{,}5774 \)</p>
        <p>≈†irina: \( 2t \approx 1{,}1547 \)</p>
        <p>Visina: \( 1 - t^2 = 1 - \frac{1}{3} = \frac{2}{3} \approx 0{,}6667 \)</p>
        <p>Povr≈°ina: \( 1{,}1547 \times 0{,}6667 \approx 0{,}7698 \)</p>
        <p>\( \frac{4\sqrt{3}}{9} = \frac{4 \times 1{,}7321}{9} \approx \frac{6{,}9282}{9} \approx 0{,}7698 \) &check;</p>
      </div>
    </details>
  </div>
</div>

<!-- Key Insight -->
<div class="card">
  <div class="insight-box">
    <div class="icon">üí°</div>
    <h3 style="color:#a78bfa;margin-bottom:8px;">Kljuƒçni uvid</h3>
    <p>Optimalan pravougaonik zauzima taƒçno temena u \( x = \pm\frac{1}{\sqrt{3}} \), ≈°to znaƒçi da se ≈°irina i visina "balansiraju" tako da nijedna dimenzija nije ni prevelika ni premala. Interesantno, visina optimalnog pravougaonika je \( \frac{2}{3} \), ≈°to je taƒçno dve treƒáine maksimalne visine parabole. Ovo nije sluƒçajnost -- optimalna taƒçka deli interval proporcije tako da se gubitak u jednoj dimenziji taƒçno kompenzuje dobitkom u drugoj.</p>
    <p style="margin-top:10px;">Generalno, za parabolu \( y = a(1 - x^2/b^2) \), optimalna polu-≈°irina je uvek \( t = \frac{b}{\sqrt{3}} \).</p>
  </div>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <h2>Konaƒçan odgovor</h2>
  <div class="answer-value">\(\displaystyle A_{\max} = \frac{4\sqrt{3}}{9} = \frac{4}{9}\sqrt{3}\)</div>
  <p style="margin-top:8px;font-size:1.2rem;">Taƒçan odgovor je <strong>(B)</strong></p>

  <div class="options-grid" style="margin-top:20px;">
    <div class="option">(A) \(\frac{\sqrt{3}}{9} \approx 0{,}192\)</div>
    <div class="option correct">(B) \(\frac{4\sqrt{3}}{9} \approx 0{,}770\) &#10003;</div>
    <div class="option">(C) \(\frac{8\sqrt{3}}{9} \approx 1{,}540\)</div>
    <div class="option">(D) \(\sqrt{3} \approx 1{,}732\)</div>
    <div class="option">(E) \(2\sqrt{3} \approx 3{,}464\)</div>
  </div>

  <div class="verification-box">
    <h3 style="color:#34d399;margin-bottom:10px;">Verifikacija</h3>
    <p><strong>Gornja granica:</strong> Paraboliƒçki odseƒçak ima povr≈°inu \( \int_{-1}^{1}(1 - x^2)\,dx = \frac{4}{3} \approx 1{,}333 \). Pravougaonik mora stati unutar tog odseƒçka, pa \( A_{\max} < \frac{4}{3} \). Na≈° odgovor \( 0{,}770 < 1{,}333 \) -- ispunjeno.</p>
    <p style="margin-top:8px;"><strong>Donja granica:</strong> Pravougaonik sa \( t = 0{,}5 \) ima \( A = 2 \cdot 0{,}5 \cdot 0{,}75 = 0{,}75 < 0{,}770 \) -- na≈° odgovor je veƒái, kao ≈°to treba za maksimum.</p>
    <p style="margin-top:8px;"><strong>Opcije (C), (D), (E):</strong> Sve su veƒáe od \( \frac{4}{3} \approx 1{,}333 \), tj. veƒáe od celokupne povr≈°ine paraboliƒçkog odseƒçka, pa su nemoguƒáe.</p>
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <h2>ƒåeste gre≈°ke</h2>
  <div class="pitfall">
    <div class="pitfall-title">Zaboravljen faktor 2 u ≈°irini</div>
    <p>Pravougaonik se prostire od \( -t \) do \( t \), pa je ukupna ≈°irina \( 2t \), ne \( t \). Ako se koristi samo \( t \), dobija se duplo manji rezultat.</p>
  </div>
  <div class="pitfall">
    <div class="pitfall-title">Pogre≈°na racionalizacija</div>
    <p>Rezultat \( \frac{4}{3\sqrt{3}} \) treba pravilno racionalizovati: pomno≈æiti sa \( \frac{\sqrt{3}}{\sqrt{3}} \) da se dobije \( \frac{4\sqrt{3}}{9} \), a ne \( \frac{4\sqrt{3}}{3} \).</p>
  </div>
  <div class="pitfall">
    <div class="pitfall-title">Neprovera da li je maksimum</div>
    <p>Samo postavljanje \( A'(t) = 0 \) nije dovoljno -- potrebno je proveriti znak drugog izvoda ili analizirati promenu znaka prvog izvoda da bi se potvrdilo da je u pitanju maksimum, a ne minimum ili pregib.</p>
  </div>
  <div class="pitfall">
    <div class="pitfall-title">Pretpostavka nesimetriƒçnog pravougaonika</div>
    <p>Bez kori≈°ƒáenja simetrije, problem bi imao dva parametra (\( x_1 \) i \( x_2 \)), a visina bi morala biti \( \min(1-x_1^2, 1-x_2^2) \) da pravougaonik stane pod parabolu. Ovo vodi ka istom re≈°enju, ali sa znatno komplikovanijom analizom.</p>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <h2>Dodatni izazov</h2>
  <div class="challenge-box">
    <p><strong>Izazov 1:</strong> Umesto parabole \( y = 1 - x^2 \), razmatraj op≈°tu parabolu \( y = h\!\left(1 - \frac{x^2}{a^2}\right) \) sa polu-≈°irinom \( a \) i visinom \( h \). Poka≈æi da je maksimalna povr≈°ina upisanog pravougaonika uvek \( A_{\max} = \frac{4ah}{3\sqrt{3}} \).</p>
    <p style="margin-top:12px;"><strong>Izazov 2:</strong> Koji je odnos povr≈°ine optimalnog pravougaonika i povr≈°ine paraboliƒçkog odseƒçka? Poka≈æi da je taj odnos uvek \( \frac{2\sqrt{3}}{9} \approx 38{,}49\% \), nezavisno od parametara parabole.</p>
  </div>
</div>

</div><!-- end container -->

<script>
(function() {
  'use strict';

  // --- Theory toggle ---
  window.toggleTheory = function() {
    var panel = document.getElementById('theory-panel');
    panel.classList.toggle('open');
  };

  // --- Tab switching ---
  var tabBtns = document.querySelectorAll('.tab-btn');
  tabBtns.forEach(function(btn) {
    btn.addEventListener('click', function() {
      tabBtns.forEach(function(b) { b.classList.remove('active'); });
      btn.classList.add('active');
      document.querySelectorAll('.tab-panel').forEach(function(p) { p.classList.remove('active'); });
      document.getElementById(btn.getAttribute('data-tab')).classList.add('active');
      drawAll();
    });
  });

  // --- State ---
  var tVal = 1 / Math.sqrt(3);
  var tOptimal = 1 / Math.sqrt(3);
  var animating = false;
  var animDir = 1;
  var animId = null;

  var slider = document.getElementById('t-slider');
  slider.value = tVal;

  function updateDisplays() {
    var w = 2 * tVal;
    var h = 1 - tVal * tVal;
    var a = w * h;
    var maxA = 4 * Math.sqrt(3) / 9;
    document.getElementById('t-display').textContent = tVal.toFixed(3);
    document.getElementById('info-t').textContent = tVal.toFixed(3);
    document.getElementById('info-w').textContent = w.toFixed(3);
    document.getElementById('info-h').textContent = h.toFixed(3);
    document.getElementById('info-a').textContent = a.toFixed(4);
    document.getElementById('info-a').style.color = (Math.abs(a - maxA) < 0.001) ? '#34d399' : '#60a5fa';
    document.getElementById('info-max').textContent = '4\u221A3/9 \u2248 ' + maxA.toFixed(4);
  }

  // --- Drawing helpers ---
  function getPixelRatio(ctx) {
    return window.devicePixelRatio || 1;
  }

  function setupCanvas(canvas, w, h) {
    var dpr = getPixelRatio();
    canvas.width = w * dpr;
    canvas.height = h * dpr;
    canvas.style.width = w + 'px';
    canvas.style.height = h + 'px';
    var ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    return ctx;
  }

  // --- Geometry canvas ---
  function drawGeo(canvasId, cw, ch) {
    var canvas = document.getElementById(canvasId);
    if (!canvas || canvas.offsetParent === null) return;
    var ctx = setupCanvas(canvas, cw, ch);

    // Coordinate system: x in [-1.6, 1.6], y in [-0.3, 1.4]
    var xMin = -1.6, xMax = 1.6, yMin = -0.3, yMax = 1.4;
    function toX(x) { return (x - xMin) / (xMax - xMin) * cw; }
    function toY(y) { return ch - (y - yMin) / (yMax - yMin) * ch; }

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, cw, ch);

    // Grid
    ctx.strokeStyle = 'rgba(51,65,85,0.4)';
    ctx.lineWidth = 0.5;
    for (var gx = -1.5; gx <= 1.5; gx += 0.5) {
      ctx.beginPath(); ctx.moveTo(toX(gx), 0); ctx.lineTo(toX(gx), ch); ctx.stroke();
    }
    for (var gy = 0; gy <= 1.5; gy += 0.5) {
      ctx.beginPath(); ctx.moveTo(0, toY(gy)); ctx.lineTo(cw, toY(gy)); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath(); ctx.moveTo(toX(xMin), toY(0)); ctx.lineTo(toX(xMax), toY(0)); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(toX(0), toY(yMin)); ctx.lineTo(toX(0), toY(yMax)); ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", sans-serif';
    ctx.fillText('x', toX(xMax) - 14, toY(0) - 6);
    ctx.fillText('y', toX(0) + 6, toY(yMax) + 14);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '11px "Segoe UI", sans-serif';
    [-1, -0.5, 0.5, 1].forEach(function(v) {
      ctx.beginPath(); ctx.moveTo(toX(v), toY(0) - 4); ctx.lineTo(toX(v), toY(0) + 4); ctx.stroke();
      ctx.fillText(v.toString(), toX(v) - 10, toY(0) + 18);
    });
    [0.5, 1].forEach(function(v) {
      ctx.beginPath(); ctx.moveTo(toX(0) - 4, toY(v)); ctx.lineTo(toX(0) + 4, toY(v)); ctx.stroke();
      ctx.fillText(v.toString(), toX(0) + 8, toY(v) + 4);
    });

    // Parabolic segment (filled region)
    ctx.beginPath();
    ctx.moveTo(toX(-1), toY(0));
    for (var px = -1; px <= 1; px += 0.01) {
      ctx.lineTo(toX(px), toY(1 - px * px));
    }
    ctx.lineTo(toX(1), toY(0));
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.06)';
    ctx.fill();

    // Parabola curve
    ctx.beginPath();
    for (var px2 = -1.4; px2 <= 1.4; px2 += 0.005) {
      var py = 1 - px2 * px2;
      if (px2 === -1.4) ctx.moveTo(toX(px2), toY(py));
      else ctx.lineTo(toX(px2), toY(py));
    }
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Parabola label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 14px "Segoe UI", sans-serif';
    ctx.fillText('y = 1 ‚àí x¬≤', toX(0.65), toY(1 - 0.65 * 0.65) - 12);

    // Rectangle
    var h = 1 - tVal * tVal;
    if (tVal > 0 && tVal < 1 && h > 0) {
      // Fill
      ctx.fillStyle = 'rgba(167,139,250,0.15)';
      ctx.fillRect(toX(-tVal), toY(h), toX(tVal) - toX(-tVal), toY(0) - toY(h));

      // Border
      ctx.strokeStyle = '#a78bfa';
      ctx.lineWidth = 2;
      ctx.strokeRect(toX(-tVal), toY(h), toX(tVal) - toX(-tVal), toY(0) - toY(h));

      // Corners
      var corners = [[-tVal, 0], [tVal, 0], [tVal, h], [-tVal, h]];
      corners.forEach(function(c) {
        ctx.beginPath();
        ctx.arc(toX(c[0]), toY(c[1]), 5, 0, 2 * Math.PI);
        ctx.fillStyle = '#a78bfa';
        ctx.fill();
      });

      // Dimensions labels
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 13px "Segoe UI", sans-serif';
      // Width label
      ctx.fillText('2t = ' + (2 * tVal).toFixed(3), toX(0) - 35, toY(0) + 34);
      // Height label
      ctx.save();
      ctx.translate(toX(tVal) + 18, toY(h / 2));
      ctx.fillText('1‚àít¬≤ = ' + h.toFixed(3), 0, 4);
      ctx.restore();

      // t markers
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath(); ctx.moveTo(toX(-tVal), toY(-0.15)); ctx.lineTo(toX(-tVal), toY(h + 0.05)); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(toX(tVal), toY(-0.15)); ctx.lineTo(toX(tVal), toY(h + 0.05)); ctx.stroke();
      ctx.setLineDash([]);

      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 12px "Segoe UI", sans-serif';
      ctx.fillText('‚àít', toX(-tVal) - 10, toY(-0.15) - 2);
      ctx.fillText('t', toX(tVal) - 3, toY(-0.15) - 2);

      // Area text
      var area = 2 * tVal * h;
      var maxA = 4 * Math.sqrt(3) / 9;
      var isMax = Math.abs(area - maxA) < 0.005;
      ctx.fillStyle = isMax ? '#34d399' : '#e2e8f0';
      ctx.font = 'bold 15px "Segoe UI", sans-serif';
      ctx.fillText('A = ' + area.toFixed(4), toX(0) - 35, toY(h / 2) + 5);

      // Optimal indicator
      if (isMax) {
        ctx.fillStyle = '#34d399';
        ctx.font = 'bold 13px "Segoe UI", sans-serif';
        ctx.fillText('‚òÖ MAKSIMUM', toX(0) - 42, toY(h / 2) + 22);
      }
    }
  }

  // --- Area function canvas ---
  function drawArea(canvasId, cw, ch) {
    var canvas = document.getElementById(canvasId);
    if (!canvas || canvas.offsetParent === null) return;
    var ctx = setupCanvas(canvas, cw, ch);

    var padL = 60, padR = 30, padT = 30, padB = 50;
    var pw = cw - padL - padR;
    var ph = ch - padT - padB;

    function toX(t) { return padL + t * pw; }
    function toY(a) { return padT + ph - a / 1.0 * ph; }

    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, cw, ch);

    // Grid
    ctx.strokeStyle = 'rgba(51,65,85,0.3)';
    ctx.lineWidth = 0.5;
    for (var i = 0; i <= 10; i++) {
      var gx = i / 10;
      ctx.beginPath(); ctx.moveTo(toX(gx), padT); ctx.lineTo(toX(gx), padT + ph); ctx.stroke();
    }
    for (var j = 0; j <= 10; j++) {
      var gy = j / 10;
      ctx.beginPath(); ctx.moveTo(padL, toY(gy)); ctx.lineTo(padL + pw, toY(gy)); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath(); ctx.moveTo(padL, padT + ph); ctx.lineTo(padL + pw, padT + ph); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(padL, padT + ph); ctx.lineTo(padL, padT); ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", sans-serif';
    ctx.fillText('t', padL + pw + 8, padT + ph + 5);
    ctx.fillText('A(t)', padL - 10, padT - 10);

    // Tick labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px "Segoe UI", sans-serif';
    [0, 0.2, 0.4, 0.6, 0.8, 1.0].forEach(function(v) {
      ctx.fillText(v.toFixed(1), toX(v) - 10, padT + ph + 18);
    });
    [0, 0.2, 0.4, 0.6, 0.8].forEach(function(v) {
      ctx.fillText(v.toFixed(1), padL - 32, toY(v) + 4);
    });

    // A(t) curve
    ctx.beginPath();
    for (var t = 0; t <= 1; t += 0.002) {
      var a = 2 * t * (1 - t * t);
      if (t === 0) ctx.moveTo(toX(t), toY(a));
      else ctx.lineTo(toX(t), toY(a));
    }
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Curve label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 13px "Segoe UI", sans-serif';
    ctx.fillText('A(t) = 2t(1 ‚àí t¬≤)', toX(0.55), toY(2 * 0.55 * (1 - 0.55 * 0.55)) - 14);

    // Optimal point
    var tOpt = 1 / Math.sqrt(3);
    var aOpt = 4 * Math.sqrt(3) / 9;

    // Dashed lines to optimal
    ctx.strokeStyle = 'rgba(52,211,153,0.5)';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath(); ctx.moveTo(toX(tOpt), padT + ph); ctx.lineTo(toX(tOpt), toY(aOpt)); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(padL, toY(aOpt)); ctx.lineTo(toX(tOpt), toY(aOpt)); ctx.stroke();
    ctx.setLineDash([]);

    // Optimal dot
    ctx.beginPath();
    ctx.arc(toX(tOpt), toY(aOpt), 7, 0, 2 * Math.PI);
    ctx.fillStyle = '#34d399';
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Optimal label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px "Segoe UI", sans-serif';
    ctx.fillText('t = 1/‚àö3 ‚âà 0.577', toX(tOpt) + 10, toY(aOpt) - 18);
    ctx.fillText('A = 4‚àö3/9 ‚âà 0.770', toX(tOpt) + 10, toY(aOpt) - 3);

    // Current point
    if (tVal > 0.01 && tVal < 0.99) {
      var aCur = 2 * tVal * (1 - tVal * tVal);
      var isOpt = Math.abs(tVal - tOpt) < 0.01;

      if (!isOpt) {
        // Dashed lines to current
        ctx.strokeStyle = 'rgba(244,114,182,0.5)';
        ctx.lineWidth = 1;
        ctx.setLineDash([3, 3]);
        ctx.beginPath(); ctx.moveTo(toX(tVal), padT + ph); ctx.lineTo(toX(tVal), toY(aCur)); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(padL, toY(aCur)); ctx.lineTo(toX(tVal), toY(aCur)); ctx.stroke();
        ctx.setLineDash([]);

        ctx.beginPath();
        ctx.arc(toX(tVal), toY(aCur), 6, 0, 2 * Math.PI);
        ctx.fillStyle = '#f472b6';
        ctx.fill();
        ctx.strokeStyle = '#0f172a';
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.fillStyle = '#f472b6';
        ctx.font = 'bold 11px "Segoe UI", sans-serif';
        var labelX = toX(tVal) < toX(0.5) ? toX(tVal) + 10 : toX(tVal) - 90;
        ctx.fillText('A = ' + aCur.toFixed(4), labelX, toY(aCur) + 18);
      }
    }

    // A'(t) curve (light, secondary)
    ctx.beginPath();
    for (var t2 = 0; t2 <= 1; t2 += 0.002) {
      var deriv = (2 - 6 * t2 * t2) / 10; // scaled down for visibility
      var plotY = padT + ph / 2 - deriv / 0.5 * (ph / 4);
      if (t2 === 0) ctx.moveTo(toX(t2), plotY);
      else ctx.lineTo(toX(t2), plotY);
    }
    ctx.strokeStyle = 'rgba(167,139,250,0.3)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([3, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = 'rgba(167,139,250,0.5)';
    ctx.font = 'italic 11px "Segoe UI", sans-serif';
    ctx.fillText("A'(t) (skalirano)", toX(0.02), padT + ph / 2 - 40);
  }

  // --- Draw all visible canvases ---
  function drawAll() {
    drawGeo('canvas-geo', 700, 500);
    drawArea('canvas-area', 700, 400);
    drawGeo('canvas-both-geo', 440, 400);
    drawArea('canvas-both-area', 440, 400);
    updateDisplays();
  }

  // --- Slider ---
  slider.addEventListener('input', function() {
    tVal = parseFloat(this.value);
    if (animating) { cancelAnimationFrame(animId); animating = false; }
    drawAll();
  });

  // --- Touch/drag support on geometry canvases ---
  function addDragSupport(canvasId, cw) {
    var canvas = document.getElementById(canvasId);
    if (!canvas) return;

    var xMin = -1.6, xMax = 1.6;
    function canvasToT(clientX) {
      var rect = canvas.getBoundingClientRect();
      var px = clientX - rect.left;
      var xCoord = xMin + (px / rect.width) * (xMax - xMin);
      return Math.max(0.02, Math.min(0.98, Math.abs(xCoord)));
    }

    var dragging = false;

    canvas.addEventListener('mousedown', function(e) {
      dragging = true;
      tVal = canvasToT(e.clientX);
      slider.value = tVal;
      if (animating) { cancelAnimationFrame(animId); animating = false; }
      drawAll();
    });

    canvas.addEventListener('mousemove', function(e) {
      if (!dragging) return;
      tVal = canvasToT(e.clientX);
      slider.value = tVal;
      drawAll();
    });

    window.addEventListener('mouseup', function() { dragging = false; });

    canvas.addEventListener('touchstart', function(e) {
      e.preventDefault();
      dragging = true;
      tVal = canvasToT(e.touches[0].clientX);
      slider.value = tVal;
      if (animating) { cancelAnimationFrame(animId); animating = false; }
      drawAll();
    }, { passive: false });

    canvas.addEventListener('touchmove', function(e) {
      e.preventDefault();
      if (!dragging) return;
      tVal = canvasToT(e.touches[0].clientX);
      slider.value = tVal;
      drawAll();
    }, { passive: false });

    canvas.addEventListener('touchend', function() { dragging = false; });
  }

  addDragSupport('canvas-geo', 700);
  addDragSupport('canvas-both-geo', 440);

  // --- Optimal button ---
  document.getElementById('btn-optimal').addEventListener('click', function() {
    if (animating) { cancelAnimationFrame(animId); animating = false; }
    tVal = tOptimal;
    slider.value = tVal;
    drawAll();
  });

  // --- Animate button ---
  document.getElementById('btn-animate').addEventListener('click', function() {
    if (animating) {
      cancelAnimationFrame(animId);
      animating = false;
      this.textContent = 'Animiraj';
      return;
    }
    animating = true;
    this.textContent = 'Zaustavi';
    tVal = 0.05;
    animDir = 1;

    function step() {
      tVal += animDir * 0.003;
      if (tVal >= 0.98) { animDir = -1; tVal = 0.98; }
      if (tVal <= 0.02) { animDir = 1; tVal = 0.02; }
      slider.value = tVal;
      drawAll();
      if (animating) animId = requestAnimationFrame(step);
    }
    animId = requestAnimationFrame(step);
  });

  // --- Initial draw ---
  drawAll();

  // --- Resize handler ---
  window.addEventListener('resize', function() {
    drawAll();
  });

})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Maksimalna povr≈°ina pravougaonika upisanog u paraboliƒçki odseƒçak","subject":"math","unit":"optimization","topic_tags":["optimizacija","diferencijalni raƒçun","parabola","ekstremne vrednosti funkcije","geometrija"]}
BRAINSPARK_META-->