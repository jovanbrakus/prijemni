<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Izraz sa korenima kvadratne jednačine</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: If x₁ and x₂ are solutions of x² + x − 2005 = 0, find 2x₁² + x₁x₂ + x₂² + x₁ − 2005.

STEP 1: Apply Vieta's formulas for x² + x − 2005 = 0:
  x₁ + x₂ = −1
  x₁ · x₂ = −2005

STEP 2: Since x₁ is a root of x² + x − 2005 = 0:
  x₁² + x₁ − 2005 = 0
  => x₁² = 2005 − x₁

Similarly for x₂:
  x₂² = 2005 − x₂

STEP 3: Rewrite the expression strategically:
  2x₁² + x₁x₂ + x₂² + x₁ − 2005
  = x₁² + (x₁² + x₁x₂) + x₂² + x₁ − 2005
  = x₁² + x₁(x₁ + x₂) + x₂² + x₁ − 2005

STEP 4: Substitute x₁ + x₂ = −1:
  = x₁² + x₁(−1) + x₂² + x₁ − 2005
  = x₁² − x₁ + x₂² + x₁ − 2005
  = x₁² + x₂² − 2005

STEP 5: Compute x₁² + x₂²:
  x₁² + x₂² = (x₁ + x₂)² − 2x₁x₂
             = (−1)² − 2(−2005)
             = 1 + 4010
             = 4011

STEP 6: Final calculation:
  x₁² + x₂² − 2005 = 4011 − 2005 = 2006

ANSWER: (B) 2006
</script>

<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  background: #1e293b;
  border: 2px solid #a78bfa;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin-bottom: 1.5rem;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
  font-size: 0.95rem;
  color: #a78bfa;
}

.checkpoint-label {
  font-weight: 700;
  margin-right: 0.25rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 600px) {
  body { padding: 0.5rem; }
  .card, .problem-statement, details .detail-content, .final-answer,
  .insight-box, .challenge-box { padding: 1rem; }
  .options-grid { grid-template-columns: repeat(3, 1fr); }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Izraz sa korenima kvadratne jednačine</h1>
  <p class="subtitle">Vijetove formule i algebarske transformacije</p>

  <!-- PROBLEM STATEMENT -->
  <div class="problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
    <p>Ako su \(x_1\) i \(x_2\) rešenja jednačine \(x^2 + x - 2005 = 0\), tada je \(2x_1^2 + x_1 x_2 + x_2^2 + x_1 - 2005\) jednako:</p>
    <div class="options-grid">
      <div class="option">A) \(2005\)</div>
      <div class="option correct">B) \(2006\)</div>
      <div class="option">C) \(2007\)</div>
      <div class="option">D) \(2008\)</div>
      <div class="option">E) \(2009\)</div>
      <div class="option">N) Ne znam</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
    <ol class="plan-list">
      <li>Primeniti Vijetove formule za zbir i proizvod korena</li>
      <li>Pregrupisati izraz da se pojave poznate kombinacije \(x_1 + x_2\) i \(x_1 x_2\)</li>
      <li>Izračunati \(x_1^2 + x_2^2\) korišćenjem identiteta</li>
      <li>Uvrstiti numeričke vrednosti i izračunati konačan rezultat</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>&#128208; Ključne formule i teoreme</summary>
    <div class="detail-content">
      <p><strong>Vijetove formule</strong> za kvadratnu jednačinu \(ax^2 + bx + c = 0\) sa korenima \(x_1\) i \(x_2\):</p>
      \[x_1 + x_2 = -\frac{b}{a}, \qquad x_1 \cdot x_2 = \frac{c}{a}\]

      <p style="margin-top:0.75rem;"><strong>Zbir kvadrata korena:</strong></p>
      \[x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2x_1 x_2\]

      <p style="margin-top:0.75rem;"><strong>Svojstvo korena:</strong> Ako je \(x_1\) koren jednačine \(x^2 + x - 2005 = 0\), tada:</p>
      \[x_1^2 + x_1 - 2005 = 0 \;\;\Rightarrow\;\; x_1^2 = 2005 - x_1\]

      <p style="margin-top:0.75rem;" class="muted">Ove formule omogućavaju izračunavanje simetričnih izraza sa korenima bez poznavanja samih korena.</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
    <p class="muted" style="margin-bottom:0.75rem;">Parabola \(y = x^2 + x - 2005\) sa korenima \(x_1\) i \(x_2\). Pomeri miš da vidiš koordinate.</p>
    <div class="canvas-wrap">
      <canvas id="graph" width="700" height="400"></canvas>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Rešenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Vijetove formule</div>
      <p>Za jednačinu \(x^2 + x - 2005 = 0\) (gde je \(a = 1\), \(b = 1\), \(c = -2005\)), primenjujemo Vijetove formule:</p>
      \[x_1 + x_2 = -\frac{b}{a} = -\frac{1}{1} = -1\]
      \[x_1 \cdot x_2 = \frac{c}{a} = \frac{-2005}{1} = -2005\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Zbir korena je \(-1\), a proizvod korena je \(-2005\). Ove dve vrednosti su nam jedini alati.
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Pregrupisanje izraza</div>
      <p>Traženi izraz je:</p>
      \[2x_1^2 + x_1 x_2 + x_2^2 + x_1 - 2005\]
      <p>Razbijemo \(2x_1^2\) na \(x_1^2 + x_1^2\) da bismo bolje grupisali:</p>
      \[= x_1^2 + \underbrace{x_1^2 + x_1 x_2}_{x_1(x_1 + x_2)} + x_2^2 + x_1 - 2005\]
      <p>Iz drugog i trećeg člana izvlačimo \(x_1\):</p>
      \[= x_1^2 + x_1(x_1 + x_2) + x_2^2 + x_1 - 2005\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Pojavio se izraz \(x_1 + x_2\) koji znamo da je jednak \(-1\). To je znak da smo na pravom putu!
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Uvrštavanje zbira korena</div>
      <p>Zamenjujemo \(x_1 + x_2 = -1\):</p>
      \[= x_1^2 + x_1 \cdot (-1) + x_2^2 + x_1 - 2005\]
      \[= x_1^2 - x_1 + x_2^2 + x_1 - 2005\]
      <p>Članovi \(-x_1\) i \(+x_1\) se poništavaju:</p>
      \[= x_1^2 + x_2^2 - 2005\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Proveri se:</span> Ceo izraz se sveo na \(x_1^2 + x_2^2 - 2005\). Preostaje samo da izračunamo \(x_1^2 + x_2^2\).
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Izračunavanje \(x_1^2 + x_2^2\)</div>
      <p>Koristimo poznati identitet:</p>
      \[x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2x_1 x_2\]
      <p>Uvrštavamo poznate vrednosti:</p>
      \[x_1^2 + x_2^2 = (-1)^2 - 2 \cdot (-2005) = 1 + 4010 = 4011\]
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Konačno izračunavanje</div>
      <p>Vraćamo se na uprošćeni izraz:</p>
      \[x_1^2 + x_2^2 - 2005 = 4011 - 2005 = \boxed{2006}\]
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-title">Korak 6: Verifikacija alternativnim postupkom</div>
      <p>Možemo proveriti koristeći svojstvo korena. Pošto je \(x_1\) koren jednačine:</p>
      \[x_1^2 = 2005 - x_1\]
      <p>Uvrštavamo direktno u originalni izraz:</p>
      \[2x_1^2 + x_1 x_2 + x_2^2 + x_1 - 2005\]
      \[= 2(2005 - x_1) + x_1 x_2 + x_2^2 + x_1 - 2005\]
      \[= 4010 - 2x_1 + x_1 x_2 + x_2^2 + x_1 - 2005\]
      \[= 2005 - x_1 + x_1 x_2 + x_2^2\]
      <p>Sada koristimo \(x_2^2 = 2005 - x_2\):</p>
      \[= 2005 - x_1 + x_1 x_2 + 2005 - x_2\]
      \[= 4010 - (x_1 + x_2) + x_1 x_2\]
      \[= 4010 - (-1) + (-2005)\]
      \[= 4010 + 1 - 2005 = 2006 \;\;\checkmark\]
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
    <p>Suština ovog zadatka leži u <strong>veštom pregrupisanju</strong> izraza tako da se pojave kombinacije \(x_1 + x_2\) i \(x_1 \cdot x_2\). Ključna ideja je razbijanje \(2x_1^2\) na \(x_1^2 + x_1 \cdot x_1\), čime se stvara mogućnost da se izvuče faktor \(x_1(x_1 + x_2)\). Alternativno, možemo direktno koristiti činjenicu da koreni zadovoljavaju jednačinu, tj. \(x_i^2 = 2005 - x_i\), što često drastično pojednostavljuje izraze.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konačan odgovor</div>
    <div class="value">B) \(2006\)</div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Česte greške</div>
    <div class="pitfall">
      <strong>Pokušaj nalaženja korena:</strong> Koreni jednačine \(x^2 + x - 2005 = 0\) su iracionalni brojevi. Pokušaj da se eksplicitno izračunaju i uvrste samo komplikuje zadatak i povećava šansu za grešku.
    </div>
    <div class="pitfall">
      <strong>Pogrešno grupisanje:</strong> Ako se izraz ne pregrupiše pravilno, neće se pojaviti kombinacije pogodne za primenu Vijetovih formula. Ključ je prepoznati gde se krije \(x_1 + x_2\).
    </div>
    <div class="pitfall">
      <strong>Greška sa znakom:</strong> Česta greška je pisanje \(x_1 + x_2 = 1\) umesto \(x_1 + x_2 = -1\). Negativan znak u Vijetovoj formuli se lako previdi.
    </div>
    <div class="pitfall">
      <strong>Zbir kvadrata:</strong> Pogrešno je pisati \(x_1^2 + x_2^2 = (x_1 + x_2)^2\). Tačan identitet je \(x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2x_1 x_2\). Zaboravljanje člana \(-2x_1 x_2\) dovodi do pogrešnog rezultata.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Korišćenjem istih korena \(x_1\) i \(x_2\) jednačine \(x^2 + x - 2005 = 0\), izračunaj:</p>
    \[x_1^3 + x_2^3\]
    <p class="muted" style="margin-top:0.5rem;font-size:0.9rem;">Savet: Koristi identitet \(x_1^3 + x_2^3 = (x_1 + x_2)(x_1^2 - x_1 x_2 + x_2^2)\) i već izračunatu vrednost \(x_1^2 + x_2^2 = 4011\). Rezultat: \((-1)(4011 - (-2005)) = (-1)(6016) = -6016\).</p>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('graph');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  // Parabola y = x^2 + x - 2005
  // Roots: x = (-1 +/- sqrt(1 + 8020)) / 2 = (-1 +/- sqrt(8021)) / 2
  // sqrt(8021) ≈ 89.56
  // x1 ≈ (-1 - 89.56) / 2 ≈ -45.28
  // x2 ≈ (-1 + 89.56) / 2 ≈ 44.28
  // Vertex at x = -0.5, y = -2005.25

  var x1root = (-1 - Math.sqrt(8021)) / 2;
  var x2root = (-1 + Math.sqrt(8021)) / 2;
  var vertexX = -0.5;
  var vertexY = -2005.25;

  // Coordinate mapping
  var xMin = x1root - 8;
  var xMax = x2root + 8;
  var yMin = vertexY - 200;
  var yMax = 600;

  var padL = 60;
  var padR = 20;
  var padT = 30;
  var padB = 50;
  var plotW = W - padL - padR;
  var plotH = H - padT - padB;

  function mapX(x) { return padL + (x - xMin) / (xMax - xMin) * plotW; }
  function mapY(y) { return padT + (1 - (y - yMin) / (yMax - yMin)) * plotH; }
  function unmapX(px) { return xMin + (px - padL) / plotW * (xMax - xMin); }

  function f(x) { return x * x + x - 2005; }

  function draw(hoverX) {
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    // Horizontal grid
    var yStep = 500;
    for (var yg = Math.ceil(yMin / yStep) * yStep; yg <= yMax; yg += yStep) {
      var py = mapY(yg);
      if (py < padT || py > H - padB) continue;
      ctx.beginPath();
      ctx.moveTo(padL, py);
      ctx.lineTo(W - padR, py);
      ctx.stroke();
      ctx.fillStyle = '#475569';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.textBaseline = 'middle';
      ctx.fillText(yg.toString(), padL - 8, py);
    }

    // Vertical grid
    var xStep = 10;
    for (var xg = Math.ceil(xMin / xStep) * xStep; xg <= xMax; xg += xStep) {
      var px = mapX(xg);
      if (px < padL || px > W - padR) continue;
      ctx.beginPath();
      ctx.moveTo(px, padT);
      ctx.lineTo(px, H - padB);
      ctx.stroke();
      ctx.fillStyle = '#475569';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText(xg.toString(), px, H - padB + 6);
    }

    // Axes
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 1.5;
    // X-axis
    var y0 = mapY(0);
    if (y0 >= padT && y0 <= H - padB) {
      ctx.beginPath();
      ctx.moveTo(padL, y0);
      ctx.lineTo(W - padR, y0);
      ctx.stroke();
    }
    // Y-axis
    var x0 = mapX(0);
    if (x0 >= padL && x0 <= W - padR) {
      ctx.beginPath();
      ctx.moveTo(x0, padT);
      ctx.lineTo(x0, H - padB);
      ctx.stroke();
    }

    // Parabola
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var started = false;
    for (var px = padL; px <= W - padR; px += 1) {
      var xv = unmapX(px);
      var yv = f(xv);
      var py = mapY(yv);
      if (py < padT - 50 || py > H - padB + 50) {
        started = false;
        continue;
      }
      if (!started) { ctx.moveTo(px, py); started = true; }
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Roots
    var roots = [
      { x: x1root, label: 'x\u2081 \u2248 ' + x1root.toFixed(2) },
      { x: x2root, label: 'x\u2082 \u2248 ' + x2root.toFixed(2) }
    ];
    roots.forEach(function(r) {
      var rx = mapX(r.x);
      var ry = mapY(0);
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(rx, ry, 6, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText(r.label, rx, ry - 10);
    });

    // Vertex
    var vx = mapX(vertexX);
    var vy = mapY(vertexY);
    if (vy >= padT && vy <= H - padB) {
      ctx.fillStyle = '#f472b6';
      ctx.beginPath();
      ctx.arc(vx, vy, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#f472b6';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'top';
      ctx.fillText('teme (-0,5; -2005,25)', vx + 8, vy + 4);
    }

    // Label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('y = x\u00B2 + x \u2212 2005', padL + 10, padT + 6);

    // Hover crosshair
    if (hoverX !== undefined && hoverX >= padL && hoverX <= W - padR) {
      var hx = unmapX(hoverX);
      var hy = f(hx);
      var hpy = mapY(hy);

      if (hpy >= padT && hpy <= H - padB) {
        // Vertical dashed line
        ctx.strokeStyle = 'rgba(148,163,184,0.4)';
        ctx.lineWidth = 1;
        ctx.setLineDash([4, 4]);
        ctx.beginPath();
        ctx.moveTo(hoverX, padT);
        ctx.lineTo(hoverX, H - padB);
        ctx.stroke();
        ctx.setLineDash([]);

        // Point
        ctx.fillStyle = '#a78bfa';
        ctx.beginPath();
        ctx.arc(hoverX, hpy, 5, 0, Math.PI * 2);
        ctx.fill();

        // Tooltip
        var txt = 'x = ' + hx.toFixed(1) + ', y = ' + hy.toFixed(0);
        ctx.fillStyle = 'rgba(30,41,59,0.9)';
        var tw = ctx.measureText(txt).width + 16;
        var tx = hoverX + 12;
        var ty = hpy - 28;
        if (tx + tw > W - padR) tx = hoverX - tw - 12;
        if (ty < padT) ty = hpy + 12;
        ctx.fillRect(tx, ty, tw, 22);
        ctx.strokeStyle = '#a78bfa';
        ctx.lineWidth = 1;
        ctx.strokeRect(tx, ty, tw, 22);
        ctx.fillStyle = '#e2e8f0';
        ctx.font = '12px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'middle';
        ctx.fillText(txt, tx + 8, ty + 11);
      }
    }

    // Vieta info box
    ctx.fillStyle = 'rgba(30,41,59,0.85)';
    var bx = W - padR - 220;
    var by = padT + 6;
    ctx.fillRect(bx, by, 210, 52);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1;
    ctx.strokeRect(bx, by, 210, 52);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('Vijetove formule:', bx + 10, by + 6);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('x\u2081 + x\u2082 = \u22121', bx + 10, by + 22);
    ctx.fillText('x\u2081 \u00B7 x\u2082 = \u22122005', bx + 10, by + 36);
  }

  draw();

  // Mouse interaction
  canvas.addEventListener('mousemove', function(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var mx = (e.clientX - rect.left) * scaleX;
    draw(mx);
  });

  canvas.addEventListener('mouseleave', function() {
    draw();
  });

  // Touch support
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var touch = e.touches[0];
    var mx = (touch.clientX - rect.left) * scaleX;
    draw(mx);
  });

  canvas.addEventListener('touchend', function() {
    draw();
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Izraz sa korenima kvadratne jednačine","subject":"math","unit":"algebra","topic_tags":["kvadratna jednačina","Vijetove formule","algebarski izrazi","zbir kvadrata korena"]}
BRAINSPARK_META-->