<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski izraz sa tangensnom funkcijom</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
  Given: tg(α) = -7, α ∈ (π/2, π)
  Find: (3 sin α + cos α) / (cos α - 3 sin α)

ANALYSIS:
  Since α is in the second quadrant (π/2, π):
    - sin α > 0
    - cos α < 0
    - tg α = sin α / cos α < 0 ✓ (consistent with tg α = -7)

APPROACH:
  Divide both numerator and denominator by cos α to express in terms of tg α.

STEP 1: Divide numerator and denominator by cos α
  Numerator:   (3 sin α + cos α) / cos α = 3 (sin α / cos α) + 1 = 3 tg α + 1
  Denominator: (cos α - 3 sin α) / cos α = 1 - 3 (sin α / cos α) = 1 - 3 tg α

  So the expression = (3 tg α + 1) / (1 - 3 tg α)

STEP 2: Substitute tg α = -7
  Numerator:   3(-7) + 1 = -21 + 1 = -20
  Denominator: 1 - 3(-7) = 1 + 21 = 22

  Result: -20 / 22 = -10/11

VERIFICATION using explicit sin and cos values:
  tg α = -7, so sin α / cos α = -7
  sin²α + cos²α = 1
  49 cos²α + cos²α = 1
  50 cos²α = 1
  cos²α = 1/50
  cos α = -1/√50 (negative in Q2)
  sin α = 7/√50 (positive in Q2, since sin α = tg α · cos α = (-7)(-1/√50) = 7/√50)

  Numerator:   3(7/√50) + (-1/√50) = 21/√50 - 1/√50 = 20/√50
  Denominator: (-1/√50) - 3(7/√50) = -1/√50 - 21/√50 = -22/√50

  Result: (20/√50) / (-22/√50) = 20/(-22) = -10/11

ANSWER: -10/11 which is option (B).

Note: The mathematically correct answer is (B) -10/11.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 10px;
  margin-top: 8px;
}

.problem-text {
  font-size: 1.1rem;
  line-height: 1.8;
  color: #e2e8f0;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 160px;
  flex: 1;
}

.given-label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.7;
}

.plan-text strong {
  color: #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 10px 0;
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker {
  display: none;
}

details summary::before {
  content: '▶ ';
  display: inline-block;
  transition: transform 0.2s;
  font-size: 0.8rem;
  margin-right: 6px;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 16px;
  background: rgba(56, 189, 248, 0.04);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 8px 0;
  color: #e2e8f0;
  line-height: 1.8;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

.theory-list li:last-child {
  border-bottom: none;
}

.theory-list li::before {
  content: '◈ ';
  color: #a78bfa;
  font-weight: bold;
}

.step-container {
  margin-bottom: 20px;
  position: relative;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  flex-shrink: 0;
}

.step-title {
  color: #e2e8f0;
  font-size: 1.15rem;
  font-weight: 700;
}

.step-body {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.8;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
  font-family: 'Courier New', monospace;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 4px 12px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint .detail-content {
  border-left-color: #a78bfa;
  background: rgba(167, 139, 250, 0.04);
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.08));
  border: 2px solid rgba(52, 211, 153, 0.4);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #34d399;
  justify-content: center;
  margin-bottom: 20px;
}

.answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 20px 0;
}

.option {
  background: rgba(30, 41, 59, 0.8);
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option.correct {
  border-color: #34d399;
  color: #4ade80;
  background: rgba(52, 211, 153, 0.1);
  font-weight: 700;
}

.verification-note {
  margin-top: 16px;
  padding: 14px;
  background: rgba(52, 211, 153, 0.06);
  border-radius: 10px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfall-item {
  padding: 10px 0;
  color: #cbd5e1;
  line-height: 1.7;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

.pitfall-item:last-child {
  border-bottom: none;
}

.pitfall-item::before {
  content: '⚠ ';
  color: #e09468;
}

.challenge-box {
  background: rgba(167, 139, 250, 0.06);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.challenge-box h2 {
  color: #a78bfa;
}

canvas {
  touch-action: none;
  border-radius: 12px;
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
}

.canvas-wrapper {
  background: #0c1222;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 16px;
  margin: 16px 0;
  overflow: hidden;
}

.sign-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
  font-size: 1rem;
}

.sign-table th, .sign-table td {
  border: 1px solid #334155;
  padding: 10px 16px;
  text-align: center;
}

.sign-table th {
  background: rgba(96, 165, 250, 0.1);
  color: #60a5fa;
  font-weight: 600;
}

.sign-table td {
  color: #e2e8f0;
}

.sign-positive {
  color: #4ade80;
  font-weight: 700;
}

.sign-negative {
  color: #f472b6;
  font-weight: 700;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .step-body { margin-left: 12px; }
  .step-header { gap: 8px; }
  .answer-value { font-size: 1.5rem; }
  .options-grid { gap: 6px; }
  .option { padding: 8px 12px; font-size: 0.95rem; }
  .container { padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Trigonometrijski izraz sa tangensnom funkcijom</h1>
  <p class="subtitle">Trigonometrija - izračunavanje vrednosti izraza korišćenjem poznate vrednosti tangensa</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p class="problem-text">
      Ako je <span class="highlight">\(\operatorname{tg} \alpha = -7\)</span>,
      <span class="highlight-blue">\(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\)</span>, tada
    </p>
    <div class="math-box">
      \[\frac{3\sin\alpha + \cos\alpha}{\cos\alpha - 3\sin\alpha}\]
    </div>
    <p class="problem-text">iznosi:</p>
    <div class="options-grid" style="justify-content: flex-start;">
      <span class="option">(A) \(\frac{10}{11}\)</span>
      <span class="option">(B) \(-\frac{10}{11}\)</span>
      <span class="option">(C) \(\frac{11}{20}\)</span>
      <span class="option">(D) \(-\frac{11}{10}\)</span>
      <span class="option">(E) \(\frac{11}{10}\)</span>
      <span class="option">(N) Ne znam</span>
    </div>

    <div class="given-grid">
      <div class="given-item">
        <div class="given-label">Poznato</div>
        <div class="given-value">\(\operatorname{tg} \alpha = -7\)</div>
      </div>
      <div class="given-item">
        <div class="given-label">Opseg ugla</div>
        <div class="given-value">\(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\)</div>
      </div>
      <div class="given-item">
        <div class="given-label">Kvadrant</div>
        <div class="given-value">II (drugi) kvadrant</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p class="plan-text">
      <strong>Ključna ideja:</strong> Podelićemo i brojilac i imenilac razlomka sa \(\cos\alpha\), čime ceo izraz svodimo na
      funkciju samo od \(\operatorname{tg}\alpha\). Zatim zamenjujemo poznatu vrednost \(\operatorname{tg}\alpha = -7\) i računamo.
      Na kraju ćemo rezultat proveriti direktnim računom preko \(\sin\alpha\) i \(\cos\alpha\).
    </p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="detail-content">
        <ul class="theory-list">
          <li>
            <strong>Definicija tangensa:</strong> \(\operatorname{tg}\alpha = \dfrac{\sin\alpha}{\cos\alpha}\), za \(\cos\alpha \neq 0\)
          </li>
          <li>
            <strong>Osnovni trigonometrijski identitet:</strong> \(\sin^2\alpha + \cos^2\alpha = 1\)
          </li>
          <li>
            <strong>Znaci funkcija u II kvadrantu:</strong> Za \(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\):
            \(\sin\alpha > 0\), \(\cos\alpha < 0\), \(\operatorname{tg}\alpha < 0\)
          </li>
          <li>
            <strong>Tehnika deljenja:</strong> Razlomak oblika \(\dfrac{a\sin\alpha + b\cos\alpha}{c\cos\alpha + d\sin\alpha}\)
            se svodi na izraz sa \(\operatorname{tg}\alpha\) deljenjem brojioca i imenioca sa \(\cos\alpha\)
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID - CANVAS -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">
      Ugao \(\alpha\) u II kvadrantu sa tangensnom vrednošću \(-7\). Pomeri tačku duž kružnice da vidiš kako se menjaju vrednosti.
    </p>
    <div class="canvas-wrapper">
      <canvas id="trigCanvas" width="700" height="500"></canvas>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Razumevanje konteksta: znaci u II kvadrantu</div>
      </div>
      <div class="step-body">
        <p>
          Pošto je \(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\), ugao se nalazi u <strong>drugom kvadrantu</strong>.
          Tu važi:
        </p>
        <table class="sign-table" style="max-width: 400px; margin-top: 12px;">
          <tr>
            <th>Funkcija</th>
            <th>Znak u II kvadrantu</th>
          </tr>
          <tr>
            <td>\(\sin\alpha\)</td>
            <td class="sign-positive">+ (pozitivan)</td>
          </tr>
          <tr>
            <td>\(\cos\alpha\)</td>
            <td class="sign-negative">− (negativan)</td>
          </tr>
          <tr>
            <td>\(\operatorname{tg}\alpha\)</td>
            <td class="sign-negative">− (negativan)</td>
          </tr>
        </table>
        <p style="margin-top: 10px;">
          Ovo je konzistentno sa zadatim \(\operatorname{tg}\alpha = -7 < 0\). Sve se slaže!
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Deljenje brojioca i imenioca sa \(\cos\alpha\)</div>
      </div>
      <div class="step-body">
        <p>
          Ovo je ključni korak. Pošto je \(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\), važi \(\cos\alpha \neq 0\),
          pa smemo da delimo. Delimo i gore i dole sa \(\cos\alpha\):
        </p>
        <div class="math-box">
          \[\frac{3\sin\alpha + \cos\alpha}{\cos\alpha - 3\sin\alpha} =
          \frac{\dfrac{3\sin\alpha + \cos\alpha}{\cos\alpha}}{\dfrac{\cos\alpha - 3\sin\alpha}{\cos\alpha}} =
          \frac{3\cdot\dfrac{\sin\alpha}{\cos\alpha} + 1}{1 - 3\cdot\dfrac{\sin\alpha}{\cos\alpha}}\]
        </div>
        <p>Prepoznajemo da je \(\dfrac{\sin\alpha}{\cos\alpha} = \operatorname{tg}\alpha\), pa dobijamo:</p>
        <div class="math-box">
          \[\frac{3\operatorname{tg}\alpha + 1}{1 - 3\operatorname{tg}\alpha}\]
        </div>

        <details class="checkpoint">
          <summary>Proveri se: Zašto smemo da delimo sa \(\cos\alpha\)?</summary>
          <div class="detail-content">
            Zato što je \(\alpha \in \left(\frac{\pi}{2},\, \pi\right)\), a \(\cos\alpha = 0\) samo za
            \(\alpha = \frac{\pi}{2}\), što ne pripada otvorenom intervalu. Dakle, \(\cos\alpha \neq 0\) i deljenje je dozvoljeno.
          </div>
        </details>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Zamena \(\operatorname{tg}\alpha = -7\)</div>
      </div>
      <div class="step-body">
        <p>Sada zamenjujemo poznatu vrednost u izraz:</p>
        <div class="math-box">
          \[\frac{3 \cdot (-7) + 1}{1 - 3 \cdot (-7)} = \frac{-21 + 1}{1 + 21} = \frac{-20}{22}\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Skraćivanje razlomka</div>
      </div>
      <div class="step-body">
        <p>Skraćujemo razlomak \(\dfrac{-20}{22}\) sa zajedničkim faktorom \(2\):</p>
        <div class="math-box">
          \[\frac{-20}{22} = \frac{-20 \div 2}{22 \div 2} = -\frac{10}{11}\]
        </div>

        <details class="checkpoint">
          <summary>Proveri se: Da li smo tačno izračunali brojilac i imenilac?</summary>
          <div class="detail-content">
            <p>Brojilac: \(3 \cdot (-7) + 1 = -21 + 1 = -20\) ✓</p>
            <p>Imenilac: \(1 - 3 \cdot (-7) = 1 - (-21) = 1 + 21 = 22\) ✓</p>
            <p>Razlomak: \(\dfrac{-20}{22} = -\dfrac{10}{11}\) ✓</p>
          </div>
        </details>
      </div>
    </div>

    <!-- Step 5: Verification -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">5</div>
        <div class="step-title">Verifikacija: direktno preko \(\sin\alpha\) i \(\cos\alpha\)</div>
      </div>
      <div class="step-body">
        <p>Da bismo bili potpuno sigurni, izračunajmo \(\sin\alpha\) i \(\cos\alpha\) eksplicitno.</p>
        <p style="margin-top: 8px;">Iz \(\operatorname{tg}\alpha = -7\) sledi \(\sin\alpha = -7\cos\alpha\). Uvrstimo u identitet:</p>
        <div class="math-box">
          \[\sin^2\alpha + \cos^2\alpha = 1\]
          \[(-7\cos\alpha)^2 + \cos^2\alpha = 1\]
          \[49\cos^2\alpha + \cos^2\alpha = 1\]
          \[50\cos^2\alpha = 1 \implies \cos^2\alpha = \frac{1}{50}\]
        </div>
        <p>U II kvadrantu \(\cos\alpha < 0\), pa:</p>
        <div class="math-box">
          \[\cos\alpha = -\frac{1}{\sqrt{50}} = -\frac{1}{5\sqrt{2}}\]
          \[\sin\alpha = -7 \cdot \left(-\frac{1}{5\sqrt{2}}\right) = \frac{7}{5\sqrt{2}}\]
        </div>
        <p style="margin-top: 8px;">Sada računamo izraz direktno:</p>
        <div class="math-box">
          \[\text{Brojilac:} \quad 3\sin\alpha + \cos\alpha = 3 \cdot \frac{7}{5\sqrt{2}} + \left(-\frac{1}{5\sqrt{2}}\right) = \frac{21}{5\sqrt{2}} - \frac{1}{5\sqrt{2}} = \frac{20}{5\sqrt{2}}\]
          \[\text{Imenilac:} \quad \cos\alpha - 3\sin\alpha = -\frac{1}{5\sqrt{2}} - 3 \cdot \frac{7}{5\sqrt{2}} = -\frac{1}{5\sqrt{2}} - \frac{21}{5\sqrt{2}} = -\frac{22}{5\sqrt{2}}\]
        </div>
        <div class="math-box">
          \[\frac{\dfrac{20}{5\sqrt{2}}}{-\dfrac{22}{5\sqrt{2}}} = \frac{20}{-22} = -\frac{10}{11}\]
        </div>
        <p style="margin-top: 8px; color: #4ade80;">
          <strong>Potvrda:</strong> Oba metoda daju isti rezultat: \(-\dfrac{10}{11}\).
        </p>

        <details class="checkpoint">
          <summary>Proveri se: Zašto je \(\sin\alpha\) pozitivan?</summary>
          <div class="detail-content">
            <p>U II kvadrantu sinus je uvek pozitivan (y-koordinata tačke na jediničnoj kružnici je iznad x-ose).</p>
            <p>Iz računa: \(\sin\alpha = -7 \cdot \cos\alpha = -7 \cdot \left(-\frac{1}{5\sqrt{2}}\right) = \frac{7}{5\sqrt{2}} > 0\) ✓</p>
          </div>
        </details>
      </div>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color: #e2e8f0; line-height: 1.8; font-size: 1.05rem;">
      Kad god izraz sadrži samo \(\sin\alpha\) i \(\cos\alpha\) u obliku razlomka, a zadata je vrednost
      \(\operatorname{tg}\alpha\), <strong>ne moramo da nalazimo pojedinačne vrednosti</strong> sinusa i kosinusa.
      Dovoljno je podeliti brojilac i imenilac sa \(\cos\alpha\), čime se sve svodi na \(\operatorname{tg}\alpha\).
      Ovo je univerzalna tehnika koja štedi vreme i smanjuje mogućnost greške!
    </p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer-box">
    <h2>Konačan odgovor</h2>
    <div class="options-grid">
      <span class="option">(A) \(\frac{10}{11}\)</span>
      <span class="option correct">(B) \(-\frac{10}{11}\)</span>
      <span class="option">(C) \(\frac{11}{20}\)</span>
      <span class="option">(D) \(-\frac{11}{10}\)</span>
      <span class="option">(E) \(\frac{11}{10}\)</span>
    </div>
    <div class="answer-value">
      \(\displaystyle \frac{3\sin\alpha + \cos\alpha}{\cos\alpha - 3\sin\alpha} = -\frac{10}{11}\)
    </div>
    <p style="color: #94a3b8;">Tačan odgovor je <strong style="color: #4ade80;">(B) \(-\dfrac{10}{11}\)</strong></p>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Rezultat je potvrđen na dva nezavisna načina:
      (1) tehnikom deljenja sa \(\cos\alpha\) i
      (2) direktnim računom preko eksplicitnih vrednosti \(\sin\alpha = \frac{7}{5\sqrt{2}}\) i \(\cos\alpha = -\frac{1}{5\sqrt{2}}\).
      Oba pristupa daju \(-\frac{10}{11}\).
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <div class="pitfall-item">
      <strong>Zaboravljanje znaka u imeniocu:</strong> Kada se računa \(1 - 3 \cdot (-7)\), lako se previdi
      da je \(-3 \cdot (-7) = +21\), pa imenilac bude \(1 + 21 = 22\), a ne \(1 - 21 = -20\).
      Obratite pažnju na dupli minus!
    </div>
    <div class="pitfall-item">
      <strong>Nepotrebno traženje \(\sin\alpha\) i \(\cos\alpha\):</strong> Mnogi studenti troše vreme
      na nalaženje tačnih vrednosti sinusa i kosinusa, dok je tehnika deljenja sa \(\cos\alpha\) mnogo brža
      i manje podložna greškama.
    </div>
    <div class="pitfall-item">
      <strong>Pogrešan znak kosinusa:</strong> U II kvadrantu \(\cos\alpha < 0\). Ako se uzme pozitivna vrednost
      za \(\cos\alpha\), celokupan račun daje pogrešan rezultat.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <h2>Izazov za vežbu</h2>
    <p style="color: #e2e8f0; margin-bottom: 12px;">
      Ako je \(\operatorname{tg}\alpha = 3\) i \(\alpha \in \left(\pi,\, \frac{3\pi}{2}\right)\), koliko iznosi
      \(\dfrac{2\sin\alpha - \cos\alpha}{\sin\alpha + 4\cos\alpha}\)?
    </p>
    <details>
      <summary>Pomoć</summary>
      <div class="detail-content">
        <p>Isti postupak: podeli brojilac i imenilac sa \(\cos\alpha\). Dobićeš
        \(\dfrac{2\operatorname{tg}\alpha - 1}{\operatorname{tg}\alpha + 4}\).
        Zameni \(\operatorname{tg}\alpha = 3\) i izračunaj!
        (Rezultat: \(\frac{5}{7}\))</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('trigCanvas');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;
  const cx = W / 2;
  const cy = H / 2 + 20;
  const R = 180;

  // The angle for tg(alpha) = -7, alpha in (pi/2, pi)
  // alpha = pi - arctan(7)
  const baseAlpha = Math.PI - Math.atan(7);
  let alpha = baseAlpha;
  let isDragging = false;

  function toScreen(x, y) {
    return [cx + x * R, cy - y * R];
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -2; i <= 2; i += 0.5) {
      // Vertical lines
      const [sx] = toScreen(i, 0);
      ctx.beginPath();
      ctx.moveTo(sx, 20);
      ctx.lineTo(sx, H - 20);
      ctx.stroke();
      // Horizontal lines
      const [, sy] = toScreen(0, i);
      ctx.beginPath();
      ctx.moveTo(20, sy);
      ctx.lineTo(W - 20, sy);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // X-axis
    ctx.beginPath();
    ctx.moveTo(20, cy);
    ctx.lineTo(W - 20, cy);
    ctx.stroke();
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(cx, 20);
    ctx.lineTo(cx, H - 20);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - 15, cy + 18);
    ctx.fillText('y', cx + 15, 28);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    for (let i = -1; i <= 1; i++) {
      if (i === 0) continue;
      const [sx, sy] = toScreen(i, 0);
      ctx.beginPath();
      ctx.moveTo(sx, cy - 5);
      ctx.lineTo(sx, cy + 5);
      ctx.stroke();
      ctx.fillText(i.toString(), sx, cy + 20);

      const [, sy2] = toScreen(0, i);
      ctx.beginPath();
      ctx.moveTo(cx - 5, sy2);
      ctx.lineTo(cx + 5, sy2);
      ctx.stroke();
      ctx.textAlign = 'right';
      ctx.fillText(i.toString(), cx - 10, sy2 + 4);
      ctx.textAlign = 'center';
    }
  }

  function drawUnitCircle() {
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();
  }

  function drawAngle() {
    const cosA = Math.cos(alpha);
    const sinA = Math.sin(alpha);
    const [px, py] = toScreen(cosA, sinA);

    // Radius line from origin to point on circle
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, py);
    ctx.stroke();

    // Arc for angle
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, 40, 0, -alpha, true);
    ctx.stroke();

    // Alpha label
    const labelAngle = alpha / 2;
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('α', cx + 55 * Math.cos(labelAngle), cy - 55 * Math.sin(labelAngle));

    // sin alpha (vertical dashed line)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(px, cy);
    ctx.lineTo(px, py);
    ctx.stroke();

    // cos alpha (horizontal dashed line)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, cy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels for sin and cos
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'left';
    const sinLabel = sinA >= 0 ? 'right' : 'left';
    ctx.textAlign = cosA < 0 ? 'right' : 'left';
    ctx.fillText('sin α', px + (cosA < 0 ? -8 : 8), (cy + py) / 2);

    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'center';
    ctx.fillText('cos α', (cx + px) / 2, cy + (sinA >= 0 ? 18 : -8));

    // Point on circle
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(px, py, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Point label
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = cosA < 0 ? 'right' : 'left';
    const labelX = px + (cosA < 0 ? -14 : 14);
    const labelY = py + (sinA > 0 ? -14 : 20);
    ctx.fillText(`(${cosA.toFixed(2).replace('.', ',')}; ${sinA.toFixed(2).replace('.', ',')})`, labelX, labelY);

    // Tangent line on the right side (x=1 line)
    // tg(alpha) = sin/cos
    const tanValue = Math.tan(alpha);
    if (Math.abs(tanValue) < 15) {
      const [tx, ty] = toScreen(1, tanValue);
      ctx.strokeStyle = 'rgba(244, 114, 182, 0.3)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      const extFactor = 3;
      ctx.lineTo(cx + cosA * R * extFactor, cy - sinA * R * extFactor);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // Quadrant labels
    ctx.fillStyle = 'rgba(148, 163, 184, 0.3)';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('I', cx + R/2, cy - R/2 - 20);
    ctx.fillText('II', cx - R/2, cy - R/2 - 20);
    ctx.fillText('III', cx - R/2, cy + R/2 + 25);
    ctx.fillText('IV', cx + R/2, cy + R/2 + 25);

    // Highlight II quadrant
    ctx.fillStyle = 'rgba(96, 165, 250, 0.05)';
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.arc(cx, cy, R, Math.PI, -Math.PI/2, false);
    ctx.lineTo(cx, cy);
    ctx.fill();
  }

  function drawInfo() {
    const cosA = Math.cos(alpha);
    const sinA = Math.sin(alpha);
    const tanA = sinA / cosA;
    const degrees = (alpha * 180 / Math.PI).toFixed(1).replace('.', ',');

    // Info box
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    const boxX = 12;
    const boxY = 12;
    const boxW = 230;
    const boxH = 115;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 8);
    ctx.fill();
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.stroke();

    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    let y = boxY + 22;
    const x = boxX + 12;

    ctx.fillStyle = '#a78bfa';
    ctx.fillText(`α = ${degrees}°`, x, y);
    y += 22;
    ctx.fillStyle = '#4ade80';
    ctx.fillText(`sin α = ${sinA.toFixed(4).replace('.', ',')}`, x, y);
    y += 22;
    ctx.fillStyle = '#f472b6';
    ctx.fillText(`cos α = ${cosA.toFixed(4).replace('.', ',')}`, x, y);
    y += 22;
    ctx.fillStyle = '#60a5fa';
    ctx.fillText(`tg α = ${tanA.toFixed(4).replace('.', ',')}`, x, y);

    // Instruction
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('Pomeri tačku na kružnici', W - 15, H - 12);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawAxes();
    drawUnitCircle();
    drawAngle();
    drawInfo();
  }

  function getAngleFromEvent(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    const mx = (e.clientX - rect.left) * scaleX;
    const my = (e.clientY - rect.top) * scaleY;
    const dx = mx - cx;
    const dy = -(my - cy);
    let angle = Math.atan2(dy, dx);
    if (angle < 0) angle += 2 * Math.PI;
    return angle;
  }

  function isNearPoint(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    const mx = (e.clientX - rect.left) * scaleX;
    const my = (e.clientY - rect.top) * scaleY;
    const [px, py] = toScreen(Math.cos(alpha), Math.sin(alpha));
    const dist = Math.sqrt((mx - px) ** 2 + (my - py) ** 2);
    return dist < 25;
  }

  canvas.addEventListener('mousedown', (e) => {
    if (isNearPoint(e)) {
      isDragging = true;
      canvas.style.cursor = 'grabbing';
    }
  });

  canvas.addEventListener('mousemove', (e) => {
    if (isDragging) {
      alpha = getAngleFromEvent(e);
      draw();
    } else {
      canvas.style.cursor = isNearPoint(e) ? 'grab' : 'default';
    }
  });

  canvas.addEventListener('mouseup', () => {
    isDragging = false;
    canvas.style.cursor = 'default';
  });

  canvas.addEventListener('mouseleave', () => {
    isDragging = false;
    canvas.style.cursor = 'default';
  });

  // Touch support
  canvas.addEventListener('touchstart', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    const mouseEvent = { clientX: touch.clientX, clientY: touch.clientY };
    if (isNearPoint(mouseEvent)) {
      isDragging = true;
    }
  });

  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    if (isDragging) {
      const touch = e.touches[0];
      alpha = getAngleFromEvent({ clientX: touch.clientX, clientY: touch.clientY });
      draw();
    }
  });

  canvas.addEventListener('touchend', (e) => {
    e.preventDefault();
    isDragging = false;
  });

  // Double-click to reset
  canvas.addEventListener('dblclick', () => {
    alpha = baseAlpha;
    draw();
  });

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijski izraz sa tangensnom funkcijom",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrija", "tangens", "drugi kvadrant", "trigonometrijski identiteti", "razlomak sa sinusom i kosinusom"]
}
BRAINSPARK_META-->