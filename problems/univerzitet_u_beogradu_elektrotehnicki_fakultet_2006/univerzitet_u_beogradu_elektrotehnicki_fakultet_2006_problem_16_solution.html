<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geometrijski niz i aritmetička transformacija</title>

<script type="text/info" id="logic-scratchpad">
Problem: Zbir prva tri člana rastućeg geometrijskog niza je 91.
Ako tim članovima dodamo redom 25, 27 i 1, dobijamo tri broja koja obrazuju aritmetički niz.
Sedmi član datog geometrijskog niza je?

Neka su tri člana geometrijskog niza: a, aq, aq².

Uslov 1 (zbir): a + aq + aq² = 91
  => a(1 + q + q²) = 91   ... (*)

Uslov 2 (aritmetički niz): (a+25), (aq+27), (aq²+1) čine aritmetički niz
  => 2(aq + 27) = (a + 25) + (aq² + 1)
  => 2aq + 54 = a + aq² + 26
  => 2aq + 28 = a + aq²
  => a + aq² - 2aq = 28
  => a(1 - 2q + q²) = 28
  => a(q - 1)² = 28   ... (**)

Deljenje (**) sa (*):
  (q - 1)² / (1 + q + q²) = 28 / 91 = 4/13

  13(q² - 2q + 1) = 4(q² + q + 1)
  13q² - 26q + 13 = 4q² + 4q + 4
  9q² - 30q + 9 = 0
  3q² - 10q + 3 = 0

Diskriminanta: D = 100 - 36 = 64
  q = (10 ± 8) / 6

  q₁ = 18/6 = 3
  q₂ = 2/6 = 1/3

Niz je rastući, dakle q = 3.

Iz (**): a(3-1)² = 28 => a · 4 = 28 => a = 7.

Provera: Članovi su 7, 21, 63. Zbir = 91. ✓
Sa dodavanjem: 32, 48, 64. Razlika = 16. ✓ (aritmetički niz)

Sedmi član: a₇ = a · q⁶ = 7 · 3⁶ = 7 · 729 = 5103.

Odgovor: (C) 5103
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 8px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-box {
  background: #0f172a;
  border: 1px solid #60a5fa;
  border-radius: 12px;
  padding: 20px;
  margin-top: 12px;
  font-size: 1.08rem;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 16px;
}

.option {
  background: #334155;
  border: 1px solid #475569;
  border-radius: 8px;
  padding: 8px 18px;
  font-size: 1rem;
  color: #e2e8f0;
  transition: all 0.2s;
}

.option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 700;
}

.plan-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-top: 10px;
}

.plan-step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px;
  background: #0f172a;
  border-radius: 10px;
  border-left: 3px solid #a78bfa;
}

.plan-step-num {
  background: #a78bfa;
  color: #0f172a;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.collapsible-header {
  cursor: pointer;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 20px;
  background: #334155;
  border-radius: 10px;
  transition: background 0.2s;
}

.collapsible-header:hover {
  background: #3e4c63;
}

.collapsible-header .arrow {
  transition: transform 0.3s;
  font-size: 1.1rem;
}

.collapsible-header.open .arrow {
  transform: rotate(90deg);
}

.collapsible-body {
  display: none;
  padding: 16px 20px;
  margin-top: 8px;
  background: #0f172a;
  border-radius: 10px;
  border: 1px solid #334155;
}

.collapsible-body.open {
  display: block;
}

.theory-block {
  margin-bottom: 16px;
}

.theory-block h4 {
  color: #a78bfa;
  margin-bottom: 6px;
}

.theory-block p, .theory-block ul {
  color: #94a3b8;
}

.theory-block ul {
  padding-left: 20px;
}

.theory-block ul li {
  margin-bottom: 4px;
}

.step {
  margin-bottom: 24px;
  padding: 20px;
  background: #0f172a;
  border-radius: 12px;
  border-left: 4px solid #60a5fa;
}

.step-header {
  font-weight: 700;
  color: #60a5fa;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.step p, .step div {
  margin-bottom: 8px;
}

.highlight {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
}

.highlight-green {
  background: rgba(52, 211, 153, 0.1);
  border: 1px solid rgba(52, 211, 153, 0.3);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
}

.highlight-purple {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
}

.checkpoint {
  background: rgba(244, 114, 182, 0.1);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 10px;
  padding: 16px;
  margin: 16px 0;
}

.checkpoint-title {
  color: #f472b6;
  font-weight: 700;
  margin-bottom: 8px;
}

.checkpoint button {
  background: rgba(244, 114, 182, 0.2);
  border: 1px solid #f472b6;
  color: #f472b6;
  padding: 8px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.95rem;
  margin-top: 8px;
  transition: all 0.2s;
}

.checkpoint button:hover {
  background: rgba(244, 114, 182, 0.35);
}

.checkpoint .answer {
  display: none;
  margin-top: 10px;
  padding: 10px 14px;
  background: rgba(244, 114, 182, 0.08);
  border-radius: 8px;
  color: #e2e8f0;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
  margin: 0 auto;
  background: #0f172a;
  border: 1px solid #334155;
}

.canvas-controls {
  display: flex;
  gap: 10px;
  margin-top: 12px;
  flex-wrap: wrap;
  justify-content: center;
}

.canvas-controls button {
  background: #334155;
  border: 1px solid #475569;
  color: #e2e8f0;
  padding: 8px 18px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s;
}

.canvas-controls button:hover {
  background: #475569;
}

.canvas-controls button.active {
  background: rgba(96, 165, 250, 0.2);
  border-color: #60a5fa;
  color: #60a5fa;
}

.final-answer {
  background: rgba(52, 211, 153, 0.1);
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 24px;
  text-align: center;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 12px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1rem;
  border: 2px solid #475569;
  background: #1e293b;
  color: #94a3b8;
  font-weight: 600;
}

.final-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.15);
  color: #4ade80;
  font-weight: 800;
  transform: scale(1.08);
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  padding: 14px;
  background: rgba(251, 146, 60, 0.07);
  border: 1px solid rgba(251, 146, 60, 0.25);
  border-radius: 10px;
  margin-bottom: 10px;
}

.pitfall-icon {
  color: #fb923c;
  font-size: 1.3rem;
  flex-shrink: 0;
}

.insight-box {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 12px;
  padding: 20px;
  text-align: center;
}

.insight-box .insight-label {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.verification-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
}

.verification-table th, .verification-table td {
  padding: 10px 14px;
  text-align: center;
  border: 1px solid #334155;
}

.verification-table th {
  background: #334155;
  color: #60a5fa;
  font-weight: 700;
}

.verification-table td {
  background: #0f172a;
}

.challenge-box {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 12px;
  padding: 20px;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  h1 { font-size: 1.5rem; }
  .card { padding: 18px; }
  .step { padding: 14px; }
  .options-grid { flex-direction: column; }
  .final-options { flex-direction: column; align-items: center; }
  .plan-step { flex-direction: column; gap: 6px; }
  canvas { height: 300px !important; }
}
</style>
</head>
<body>
<div class="container">

<!-- ===== NASLOV ===== -->
<h1>Geometrijski niz i aritmetička transformacija</h1>
<p class="subtitle">ETF Beograd 2006 &mdash; Zadatak 16</p>

<!-- ===== TEKST ZADATKA ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#128221;</span> Tekst zadatka</div>
  <div class="problem-box">
    <p>Zbir prva tri člana rastućeg geometrijskog niza je 91. Ako tim članovima dodamo redom 25, 27 i 1, dobijamo tri broja koja obrazuju aritmetički niz. Sedmi član datog geometrijskog niza je:</p>
    <div class="options-grid">
      <span class="option">(A) 567</span>
      <span class="option">(B) 1701</span>
      <span class="option correct">(C) 5103</span>
      <span class="option">(D) 5706</span>
      <span class="option">(E) 5063</span>
    </div>
  </div>
</div>

<!-- ===== PLAN ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
  <div class="plan-steps">
    <div class="plan-step">
      <div class="plan-step-num">1</div>
      <div>Označiti prva tri člana geometrijskog niza sa \(a,\; aq,\; aq^2\) i postaviti jednačinu za zbir.</div>
    </div>
    <div class="plan-step">
      <div class="plan-step-num">2</div>
      <div>Iskoristiti uslov aritmetičkog niza da se dobije druga jednačina.</div>
    </div>
    <div class="plan-step">
      <div class="plan-step-num">3</div>
      <div>Iz sistema dve jednačine sa dve nepoznate odrediti \(a\) i \(q\).</div>
    </div>
    <div class="plan-step">
      <div class="plan-step-num">4</div>
      <div>Izračunati sedmi član: \(a_7 = a \cdot q^6\).</div>
    </div>
  </div>
</div>

<!-- ===== PODSETNIK TEORIJE ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Podsetnik teorije</div>

  <div class="collapsible-header" onclick="toggleCollapsible(this)">
    <span>Geometrijski niz &mdash; osnovne osobine</span>
    <span class="arrow">&#9654;</span>
  </div>
  <div class="collapsible-body">
    <div class="theory-block">
      <h4>Geometrijski niz</h4>
      <p>Niz u kome je količnik uzastopnih članova konstantan: \(a_n = a_1 \cdot q^{n-1}\).</p>
      <ul>
        <li>Prva tri člana: \(a,\; aq,\; aq^2\)</li>
        <li>Niz je <strong>rastući</strong> ako je \(q > 1\) (za \(a > 0\)), ili \(0 < q < 1\) (za \(a < 0\))</li>
        <li>Opšti član: \(a_n = a \cdot q^{n-1}\)</li>
      </ul>
    </div>
    <div class="theory-block">
      <h4>Aritmetički niz</h4>
      <p>Tri broja \(x,\; y,\; z\) čine aritmetički niz akko važi:</p>
      \[2y = x + z\]
      <p>Ovo je ključni uslov koji ćemo primeniti u zadatku.</p>
    </div>
  </div>

  <div class="collapsible-header" onclick="toggleCollapsible(this)" style="margin-top: 10px;">
    <span>Zašto koristimo količnik sistema jednačina?</span>
    <span class="arrow">&#9654;</span>
  </div>
  <div class="collapsible-body">
    <div class="theory-block">
      <p>Kada imamo dve jednačine oblika \(a \cdot f(q) = c_1\) i \(a \cdot g(q) = c_2\), deljenjem eliminišemo \(a\) i dobijamo jednačinu samo po \(q\). Ovo je standardna tehnika za sisteme gde se jedna nepoznata javlja kao zajednički množilac.</p>
    </div>
  </div>
</div>

<!-- ===== VIZUELIZACIJA ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz</div>
  <canvas id="mainCanvas" width="860" height="420"></canvas>
  <div class="canvas-controls">
    <button class="active" onclick="setView('geo', this)">Geometrijski niz</button>
    <button onclick="setView('transform', this)">Transformacija u AN</button>
    <button onclick="setView('seventh', this)">Sedmi član</button>
  </div>
</div>

<!-- ===== KORAK PO KORAK ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Rešenje korak po korak</div>

  <!-- Korak 1 -->
  <div class="step">
    <div class="step-header">Korak 1: Postavljanje promenljivih</div>
    <p>Neka su prva tri člana rastućeg geometrijskog niza:</p>
    \[a_1 = a, \quad a_2 = aq, \quad a_3 = aq^2\]
    <p>gde je \(a\) prvi član, a \(q\) količnik niza.</p>
    <div class="highlight">
      <strong>Uslov zbira:</strong> \(a + aq + aq^2 = 91\), tj.:
      \[a(1 + q + q^2) = 91 \quad \cdots \; (\text{I})\]
    </div>
  </div>

  <!-- Korak 2 -->
  <div class="step">
    <div class="step-header">Korak 2: Uslov aritmetičkog niza</div>
    <p>Dodavanjem brojeva 25, 27 i 1 redom na članove geometrijskog niza dobijamo:</p>
    \[(a + 25), \quad (aq + 27), \quad (aq^2 + 1)\]
    <p>Ova tri broja čine aritmetički niz, pa važi:</p>
    \[2(aq + 27) = (a + 25) + (aq^2 + 1)\]
    <p>Raspisujemo levu i desnu stranu:</p>
    \[2aq + 54 = a + aq^2 + 26\]
    <p>Prebacujemo sve na jednu stranu:</p>
    \[a + aq^2 - 2aq = 54 - 26 = 28\]
    <div class="highlight-purple">
      <strong>Uslov aritmetičnosti:</strong>
      \[a(q^2 - 2q + 1) = 28 \;\;\Longrightarrow\;\; a(q - 1)^2 = 28 \quad \cdots \; (\text{II})\]
    </div>
  </div>

  <!-- Proveri se 1 -->
  <div class="checkpoint">
    <div class="checkpoint-title">&#9989; Proveri se!</div>
    <p>Zašto važi da je \(q^2 - 2q + 1 = (q-1)^2\)?</p>
    <button onclick="toggleAnswer(this)">Prikaži odgovor</button>
    <div class="answer">
      To je poznati obrazac za kvadrat razlike: \((q-1)^2 = q^2 - 2 \cdot q \cdot 1 + 1^2 = q^2 - 2q + 1\). Ova faktorizacija je ključna jer značajno pojednostavljuje računanje.
    </div>
  </div>

  <!-- Korak 3 -->
  <div class="step">
    <div class="step-header">Korak 3: Eliminacija nepoznate \(a\)</div>
    <p>Delimo jednačinu (II) sa jednačinom (I) da eliminišemo \(a\):</p>
    \[\frac{a(q-1)^2}{a(1 + q + q^2)} = \frac{28}{91}\]
    <p>Skraćujemo \(a\) i uprostimo desnu stranu:</p>
    \[\frac{(q-1)^2}{1 + q + q^2} = \frac{4}{13}\]
    <div class="highlight">
      <strong>Napomena:</strong> \(\dfrac{28}{91} = \dfrac{4 \cdot 7}{13 \cdot 7} = \dfrac{4}{13}\)
    </div>
    <p>Unakrsnim množenjem dobijamo:</p>
    \[13(q-1)^2 = 4(1 + q + q^2)\]
    \[13(q^2 - 2q + 1) = 4(q^2 + q + 1)\]
    \[13q^2 - 26q + 13 = 4q^2 + 4q + 4\]
    \[9q^2 - 30q + 9 = 0\]
    <p>Delimo celom jednačinom sa 3:</p>
    <div class="highlight-green">
      \[3q^2 - 10q + 3 = 0\]
    </div>
  </div>

  <!-- Korak 4 -->
  <div class="step">
    <div class="step-header">Korak 4: Rešavanje kvadratne jednačine</div>
    <p>Primenjujemo formulu za rešenja kvadratne jednačine:</p>
    \[q = \frac{10 \pm \sqrt{100 - 36}}{6} = \frac{10 \pm \sqrt{64}}{6} = \frac{10 \pm 8}{6}\]
    <p>Dva rešenja:</p>
    \[q_1 = \frac{10 + 8}{6} = \frac{18}{6} = 3 \qquad \text{ili} \qquad q_2 = \frac{10 - 8}{6} = \frac{2}{6} = \frac{1}{3}\]
    <div class="highlight-purple">
      <p>Niz je <strong>rastući</strong>, pa mora biti \(q > 1\) (uz \(a > 0\)).</p>
      <p>Dakle, \(\boxed{q = 3}\), a rešenje \(q = \frac{1}{3}\) odbacujemo jer bi davalo opadajući niz.</p>
    </div>
  </div>

  <!-- Proveri se 2 -->
  <div class="checkpoint">
    <div class="checkpoint-title">&#9989; Proveri se!</div>
    <p>Šta bi se desilo da izaberemo \(q = \frac{1}{3}\)? Koji bi bio niz?</p>
    <button onclick="toggleAnswer(this)">Prikaži odgovor</button>
    <div class="answer">
      Za \(q = \frac{1}{3}\): iz \(a(q-1)^2 = 28\) dobijamo \(a \cdot \frac{4}{9} = 28\), dakle \(a = 63\). Niz bi bio: \(63,\; 21,\; 7\) &mdash; opadajući niz! To ne zadovoljava uslov zadatka da je niz rastući.
    </div>
  </div>

  <!-- Korak 5 -->
  <div class="step">
    <div class="step-header">Korak 5: Nalaženje prvog člana \(a\)</div>
    <p>Iz jednačine (II) sa \(q = 3\):</p>
    \[a(3 - 1)^2 = 28 \;\;\Longrightarrow\;\; a \cdot 4 = 28 \;\;\Longrightarrow\;\; \boxed{a = 7}\]
    <p>Prva tri člana geometrijskog niza su:</p>
    \[a_1 = 7, \quad a_2 = 7 \cdot 3 = 21, \quad a_3 = 7 \cdot 9 = 63\]
  </div>

  <!-- Korak 6 -->
  <div class="step">
    <div class="step-header">Korak 6: Verifikacija oba uslova</div>

    <p><strong>Uslov 1 &mdash; Zbir:</strong></p>
    \[7 + 21 + 63 = 91 \;\; \checkmark\]

    <p style="margin-top:12px"><strong>Uslov 2 &mdash; Aritmetički niz:</strong></p>
    <p>Dodajemo 25, 27 i 1:</p>
    \[7 + 25 = 32, \quad 21 + 27 = 48, \quad 63 + 1 = 64\]
    <p>Proveravamo: \(48 - 32 = 16\) i \(64 - 48 = 16\). Razlike su jednake!</p>

    <table class="verification-table">
      <tr><th>Geometrijski niz</th><th>Dodato</th><th>Aritmetički niz</th><th>Razlika</th></tr>
      <tr><td>\(a_1 = 7\)</td><td>\(+\;25\)</td><td>\(32\)</td><td></td></tr>
      <tr><td>\(a_2 = 21\)</td><td>\(+\;27\)</td><td>\(48\)</td><td>\(48 - 32 = 16\)</td></tr>
      <tr><td>\(a_3 = 63\)</td><td>\(+\;1\)</td><td>\(64\)</td><td>\(64 - 48 = 16\)</td></tr>
    </table>

    <div class="highlight-green">
      Oba uslova zadovoljena! &#10004;
    </div>
  </div>

  <!-- Korak 7 -->
  <div class="step">
    <div class="step-header">Korak 7: Sedmi član geometrijskog niza</div>
    <p>Opšti član geometrijskog niza je \(a_n = a \cdot q^{n-1}\), pa za \(n = 7\):</p>
    \[a_7 = 7 \cdot 3^{7-1} = 7 \cdot 3^6\]
    <p>Izračunavamo \(3^6\) postepeno:</p>
    \[3^1 = 3, \quad 3^2 = 9, \quad 3^3 = 27, \quad 3^4 = 81, \quad 3^5 = 243, \quad 3^6 = 729\]
    <div class="highlight-green" style="text-align: center; font-size: 1.2rem;">
      \[a_7 = 7 \cdot 729 = \boxed{5103}\]
    </div>
  </div>
</div>

<!-- ===== KLJUČNI UVID ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
  <div class="insight-box">
    <div class="insight-label">Tehnika eliminacije deljenjem</div>
    <p style="margin-top: 8px;">Kada obe jednačine sistema imaju oblik \(a \cdot f(q) = \text{const}\), deljenjem jedne drugom odmah eliminišemo \(a\) i dobijamo jednačinu samo po \(q\). Ovo je elegantna i česta tehnika kod zadataka sa geometrijskim nizovima.</p>
    <p style="margin-top: 8px; color: #94a3b8;">Dodatni uvid: rešenja \(q = 3\) i \(q = \frac{1}{3}\) su recipročna! To nije slučajnost &mdash; zamena \(q \leftrightarrow \frac{1}{q}\) daje isti geometrijski niz zapisan unazad (63, 21, 7 umesto 7, 21, 63).</p>
  </div>
</div>

<!-- ===== KONAČAN ODGOVOR ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#127942;</span> Konačan odgovor</div>
  <div class="final-answer">
    <p>Sedmi član rastućeg geometrijskog niza je:</p>
    <div class="answer-value">\(a_7 = 5103\)</div>
    <div class="final-options">
      <span class="final-option">(A) 567</span>
      <span class="final-option">(B) 1701</span>
      <span class="final-option correct">(C) 5103</span>
      <span class="final-option">(D) 5706</span>
      <span class="final-option">(E) 5063</span>
    </div>
    <p style="margin-top:16px; color: #4ade80; font-weight: 600;">Tačan odgovor: (C)</p>
  </div>
</div>

<!-- ===== ČESTE GREŠKE ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;&#65039;</span> Česte greške</div>

  <div class="pitfall">
    <div class="pitfall-icon">&#9888;</div>
    <div>
      <strong>Izbor pogrešnog \(q\)</strong><br>
      Kvadratna jednačina daje dva rešenja: \(q = 3\) i \(q = \frac{1}{3}\). Ako ne proverite uslov da je niz <em>rastući</em>, možete izabrati \(q = \frac{1}{3}\) i dobiti pogrešan sedmi član (\(a_7 = 63 \cdot \frac{1}{729} = \frac{63}{729} = \frac{7}{81}\)).
    </div>
  </div>

  <div class="pitfall">
    <div class="pitfall-icon">&#9888;</div>
    <div>
      <strong>Pogrešno postavljanje uslova za AN</strong><br>
      Pažljivo čitajte redosled: brojevima \(a, aq, aq^2\) se dodaju <em>redom</em> 25, 27 i 1. Zamena redosleda (npr. dodavanje 1 prvom članu) dovodi do potpuno drugačijeg sistema.
    </div>
  </div>

  <div class="pitfall">
    <div class="pitfall-icon">&#9888;</div>
    <div>
      <strong>Greška pri stepenovanju</strong><br>
      Za sedmi član treba \(q^6\), ne \(q^7\). Formula je \(a_n = a \cdot q^{n-1}\), dakle \(a_7 = a \cdot q^{6}\). Greška u eksponentu daje odgovor 15309 ili neki drugi koji nije među ponuđenim.
    </div>
  </div>
</div>

<!-- ===== IZAZOV ===== -->
<div class="card">
  <div class="card-title"><span class="icon">&#127775;</span> Dodatni izazov</div>
  <div class="challenge-box">
    <p><strong>Zadatak za razmišljanje:</strong> Zbir prva tri člana rastućeg geometrijskog niza je \(S\). Ako tim članovima dodamo redom \(p,\; r,\; s\) i dobijemo aritmetički niz sa razlikom \(d\), izrazite \(a\) i \(q\) u zavisnosti od \(S,\; p,\; r,\; s\).</p>
    <p style="color:#94a3b8; margin-top: 8px;"><em>Savet: Koristite isti metod &mdash; dva uslova, dve jednačine, eliminacija deljenjem.</em></p>
  </div>
</div>

</div><!-- /container -->

<script>
(function() {
  // ===== Collapsible sections =====
  window.toggleCollapsible = function(header) {
    header.classList.toggle('open');
    var body = header.nextElementSibling;
    body.classList.toggle('open');
  };

  // ===== Checkpoint answers =====
  window.toggleAnswer = function(btn) {
    var ans = btn.nextElementSibling;
    if (ans.style.display === 'block') {
      ans.style.display = 'none';
      btn.textContent = 'Prikaži odgovor';
    } else {
      ans.style.display = 'block';
      btn.textContent = 'Sakrij odgovor';
    }
  };

  // ===== Canvas visualization =====
  var canvas = document.getElementById('mainCanvas');
  var ctx = canvas.getContext('2d');
  var currentView = 'geo';
  var animFrame = 0;
  var animId = null;

  function resizeCanvas() {
    var rect = canvas.parentElement.getBoundingClientRect();
    var w = Math.min(860, rect.width - 58);
    canvas.width = w * 2;
    canvas.height = 420 * 2;
    canvas.style.width = w + 'px';
    canvas.style.height = '420px';
    ctx.setTransform(2, 0, 0, 2, 0, 0);
    draw();
  }

  window.setView = function(view, btn) {
    currentView = view;
    var buttons = document.querySelectorAll('.canvas-controls button');
    buttons.forEach(function(b) { b.classList.remove('active'); });
    btn.classList.add('active');
    animFrame = 0;
    if (animId) cancelAnimationFrame(animId);
    animate();
  };

  function drawRoundedRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  function drawBar(x, y, w, h, color, label, value, progress) {
    var displayH = h * Math.min(progress, 1);
    var displayY = y + h - displayH;

    ctx.fillStyle = color + '33';
    drawRoundedRect(x, displayY, w, displayH, 6);
    ctx.fill();

    ctx.fillStyle = color;
    drawRoundedRect(x, displayY, w, displayH, 6);
    ctx.fill();
    ctx.globalAlpha = 0.3;
    ctx.fill();
    ctx.globalAlpha = 1;

    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    drawRoundedRect(x, displayY, w, displayH, 6);
    ctx.stroke();

    // Value above bar
    ctx.fillStyle = color;
    ctx.font = 'bold 16px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(value, x + w / 2, displayY - 10);

    // Label below bar
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.fillText(label, x + w / 2, y + h + 22);
  }

  function drawGeoView(progress) {
    var cw = canvas.width / 2;
    var ch = canvas.height / 2;

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 18px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Geometrijski niz: a = 7, q = 3', cw / 2, 35);

    var geoValues = [7, 21, 63, 189, 567, 1701, 5103];
    var labels = ['a\u2081', 'a\u2082', 'a\u2083', 'a\u2084', 'a\u2085', 'a\u2086', 'a\u2087'];
    var maxVal = 5103;
    var barW = Math.min(55, (cw - 120) / 7 - 10);
    var barMaxH = 280;
    var startX = (cw - (barW + 15) * 7) / 2 + 10;
    var baseY = 65;

    var colors = ['#60a5fa', '#60a5fa', '#60a5fa', '#a78bfa', '#a78bfa', '#a78bfa', '#4ade80'];

    for (var i = 0; i < geoValues.length; i++) {
      var p = Math.max(0, Math.min(1, (progress - i * 0.08)));
      var h = (geoValues[i] / maxVal) * barMaxH;
      h = Math.max(h, 16);
      drawBar(startX + i * (barW + 15), baseY, barW, barMaxH, colors[i], labels[i], geoValues[i].toString(), p);
    }

    // Ratio indicators
    if (progress > 0.5) {
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      for (var j = 0; j < 6; j++) {
        var mx = startX + j * (barW + 15) + barW + 7.5;
        ctx.fillText('\u00d73', mx, baseY + barMaxH + 42);
      }
    }

    // Sum note
    if (progress > 0.3) {
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Zbir prva tri: 7 + 21 + 63 = 91', cw / 2, baseY + barMaxH + 65);
    }
  }

  function drawTransformView(progress) {
    var cw = canvas.width / 2;

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 18px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Transformacija u aritmetički niz', cw / 2, 35);

    var geo = [7, 21, 63];
    var add = [25, 27, 1];
    var ari = [32, 48, 64];
    var labels = ['a\u2081', 'a\u2082', 'a\u2083'];
    var maxVal = 70;

    var barW = 50;
    var barH = 200;
    var gapGroup = 120;
    var totalW = 3 * (barW * 2 + 20 + gapGroup) - gapGroup;
    var startX = (cw - totalW) / 2 + 10;
    var baseY = 60;

    for (var i = 0; i < 3; i++) {
      var gx = startX + i * (barW * 2 + 20 + gapGroup);

      // Geo bar (left)
      var geoH = (geo[i] / maxVal) * barH;
      var gp = Math.min(1, progress * 2);
      drawBar(gx, baseY, barW, barH, '#60a5fa', labels[i], geo[i].toString(), gp);

      // Plus sign
      if (progress > 0.3) {
        ctx.fillStyle = '#f472b6';
        ctx.font = 'bold 22px "Segoe UI", system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('+' + add[i], gx + barW + 10, baseY + barH / 2 + 6);
      }

      // Ari bar (right)
      if (progress > 0.5) {
        var ap = Math.min(1, (progress - 0.5) * 3);
        drawBar(gx + barW + 20, baseY, barW, barH, '#34d399', '', ari[i].toString(), ap);
      }
    }

    // Show differences
    if (progress > 0.8) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';

      var ax1 = startX + barW + 20 + barW / 2;
      var ax2 = ax1 + barW * 2 + 20 + gapGroup;
      var ax3 = ax2 + barW * 2 + 20 + gapGroup;

      var diffY = baseY + barH + 50;

      // Arrow and d=16 between first and second
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(ax1, diffY);
      ctx.lineTo(ax2, diffY);
      ctx.stroke();
      ctx.fillText('d = 16', (ax1 + ax2) / 2, diffY - 8);

      // Arrow and d=16 between second and third
      ctx.beginPath();
      ctx.moveTo(ax2, diffY);
      ctx.lineTo(ax3, diffY);
      ctx.stroke();
      ctx.fillText('d = 16', (ax2 + ax3) / 2, diffY - 8);

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '14px "Segoe UI", system-ui, sans-serif';
      ctx.fillText('Aritmetički niz: 32, 48, 64 (d = 16)', cw / 2, diffY + 30);
    }
  }

  function drawSeventhView(progress) {
    var cw = canvas.width / 2;

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Put do sedmog člana: a\u2087 = 7 \u00b7 3\u2076 = 5103', cw / 2, 35);

    // Draw chain of multiplications
    var values = [7, 21, 63, 189, 567, 1701, 5103];
    var steps = values.length;
    var startY = 80;
    var rowH = 46;

    for (var i = 0; i < steps; i++) {
      var reveal = Math.min(1, Math.max(0, (progress - i * 0.12) * 4));
      if (reveal <= 0) continue;

      var y = startY + i * rowH;

      // Circle with index
      var cx = 50;
      ctx.globalAlpha = reveal;

      ctx.fillStyle = i === 6 ? '#4ade80' : '#60a5fa';
      ctx.beginPath();
      ctx.arc(cx, y + 14, 16, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#0f172a';
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('a' + (i + 1), cx, y + 19);

      // Value
      ctx.fillStyle = i === 6 ? '#4ade80' : '#e2e8f0';
      ctx.font = (i === 6 ? 'bold ' : '') + '16px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('= ' + values[i], cx + 30, y + 19);

      // Computation detail
      if (i > 0) {
        ctx.fillStyle = '#94a3b8';
        ctx.font = '13px "Segoe UI", system-ui, sans-serif';
        ctx.fillText('= ' + values[i - 1] + ' \u00d7 3', cx + 100, y + 19);
      } else {
        ctx.fillStyle = '#94a3b8';
        ctx.font = '13px "Segoe UI", system-ui, sans-serif';
        ctx.fillText('(prvi član)', cx + 100, y + 19);
      }

      // Progress bar (visual representation of magnitude)
      var barX = 240;
      var barMaxW = cw - barX - 30;
      var bw = (values[i] / 5103) * barMaxW * reveal;
      var barColor = i === 6 ? '#4ade80' : '#60a5fa';

      ctx.fillStyle = barColor + '33';
      drawRoundedRect(barX, y + 2, bw, 24, 5);
      ctx.fill();

      ctx.strokeStyle = barColor;
      ctx.lineWidth = 1.5;
      drawRoundedRect(barX, y + 2, bw, 24, 5);
      ctx.stroke();

      // Arrow between rows
      if (i > 0 && i < steps) {
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(cx, y - rowH + 30);
        ctx.lineTo(cx, y - 2);
        ctx.stroke();

        // Arrow tip
        ctx.fillStyle = '#475569';
        ctx.beginPath();
        ctx.moveTo(cx - 4, y - 6);
        ctx.lineTo(cx + 4, y - 6);
        ctx.lineTo(cx, y - 1);
        ctx.closePath();
        ctx.fill();
      }

      ctx.globalAlpha = 1;
    }

    // Final highlight
    if (progress > 0.9) {
      var fy = startY + 6 * rowH + 40;
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 16px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Odgovor: (C) 5103', cw / 2, fy);
    }
  }

  function draw() {
    var cw = canvas.width / 2;
    var ch = canvas.height / 2;
    ctx.clearRect(0, 0, cw, ch);

    var progress = Math.min(1, animFrame / 60);

    if (currentView === 'geo') {
      drawGeoView(progress);
    } else if (currentView === 'transform') {
      drawTransformView(progress);
    } else if (currentView === 'seventh') {
      drawSeventhView(progress);
    }
  }

  function animate() {
    animFrame++;
    draw();
    if (animFrame < 80) {
      animId = requestAnimationFrame(animate);
    }
  }

  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();
  animate();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Geometrijski niz i aritmetička transformacija","subject":"math","unit":"algebra","topic_tags":["geometrijski niz","aritmetički niz","kvadratna jednačina","nizovi","sistem jednačina"]}
BRAINSPARK_META-->