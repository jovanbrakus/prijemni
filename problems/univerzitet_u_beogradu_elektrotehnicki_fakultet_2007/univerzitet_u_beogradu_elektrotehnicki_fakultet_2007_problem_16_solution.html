<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geometrijska progresija - zbir prvih n clanova</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: U geometrijskoj progresiji je a₁ + a₅ = 51, a₂ + a₆ = 102.
Za koju vrednost n je zbir n prvih clanova te progresije Sₙ = 3069?

Step 1: Find the common ratio q.
  General term: aₖ = a₁ · q^(k-1)
  a₂ + a₆ = a₁·q + a₁·q⁵ = q(a₁ + a₁·q⁴) = q(a₁ + a₅)
  So: (a₂ + a₆) / (a₁ + a₅) = q
  q = 102 / 51 = 2

Step 2: Find a₁.
  a₁ + a₅ = a₁ + a₁·q⁴ = a₁(1 + q⁴) = a₁(1 + 16) = 17·a₁ = 51
  a₁ = 51/17 = 3

Step 3: Find n from Sₙ = 3069.
  Sₙ = a₁·(qⁿ - 1)/(q - 1) = 3·(2ⁿ - 1)/(2 - 1) = 3·(2ⁿ - 1)
  3·(2ⁿ - 1) = 3069
  2ⁿ - 1 = 1023
  2ⁿ = 1024
  n = 10  (since 2¹⁰ = 1024)

Verification:
  a₁ = 3, q = 2
  a₅ = 3·2⁴ = 48 → a₁ + a₅ = 3 + 48 = 51 ✓
  a₂ = 3·2 = 6, a₆ = 3·2⁵ = 96 → a₂ + a₆ = 6 + 96 = 102 ✓
  S₁₀ = 3·(2¹⁰ - 1) = 3·1023 = 3069 ✓

Answer: (D) n = 10
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 140px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.arrow-flow {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin: 10px 0;
  flex-wrap: wrap;
}

.arrow-flow .af-box {
  background: rgba(96,165,250,0.1);
  border: 1px solid rgba(96,165,250,0.2);
  border-radius: 8px;
  padding: 8px 14px;
  color: #60a5fa;
  font-size: 0.95rem;
}

.arrow-flow .af-arrow {
  color: #94a3b8;
  font-size: 1.2rem;
}

.gp-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
}

.gp-table th, .gp-table td {
  padding: 10px 14px;
  text-align: center;
  border: 1px solid #334155;
}

.gp-table th {
  background: rgba(96,165,250,0.1);
  color: #60a5fa;
  font-weight: 700;
  font-size: 0.95rem;
}

.gp-table td {
  background: rgba(30,41,59,0.6);
  color: #e2e8f0;
  font-size: 1rem;
}

.gp-table tr:hover td {
  background: rgba(96,165,250,0.06);
}

.gp-table .highlight-row td {
  background: rgba(52,211,153,0.08);
  color: #4ade80;
  font-weight: 600;
}

.power-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
  gap: 10px;
  margin: 14px 0;
}

.power-item {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 12px 14px;
  text-align: center;
}

.power-item .plabel {
  color: #a78bfa;
  font-size: 0.8rem;
  font-weight: 600;
  margin-bottom: 4px;
}

.power-item .pvalue {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.power-item.active {
  background: rgba(52,211,153,0.12);
  border-color: rgba(52,211,153,0.35);
}

.power-item.active .plabel {
  color: #34d399;
}

.power-item.active .pvalue {
  color: #4ade80;
  font-weight: 700;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
  .power-grid { grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); }
  .gp-table { font-size: 0.85rem; }
  .gp-table th, .gp-table td { padding: 6px 8px; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Geometrijska progresija i zbir prvih n clanova</h1>
  <p class="subtitle">Odredjivanje kolicnika, prvog clana i broja clanova geometrijske progresije iz datih uslova</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>U geometrijskoj progresiji je</p>
    <div class="math-box">
      \[ a_1 + a_5 = 51, \qquad a_2 + a_6 = 102 \]
    </div>
    <p>Za koju vrednost \(n\) je zbir prvih \(n\) clanova te progresije \(S_n = 3069\)?</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">\(n = 4\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">\(n = 6\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">\(n = 8\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">\(n = 10\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">\(n = 12\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (N)</div>
        <div class="value">Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Zadatak resavamo u tri koraka. Najpre nalazimo <span class="highlight">kolicnik \(q\)</span> deljenjem
       dva data uslova. Zatim iz jednog uslova odredjujemo <span class="highlight">prvi clan \(a_1\)</span>.
       Konacno, primenom formule za zbir geometrijske progresije nalazimo \(n\).</p>
    <div class="arrow-flow">
      <div class="af-box">Odrediti \(q\)</div>
      <div class="af-arrow">&rarr;</div>
      <div class="af-box">Odrediti \(a_1\)</div>
      <div class="af-arrow">&rarr;</div>
      <div class="af-box">Primeniti formulu za \(S_n\)</div>
      <div class="af-arrow">&rarr;</div>
      <div class="af-box">Resiti \(2^n = 1024\)</div>
    </div>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Teorijska podloga: Geometrijska progresija</summary>
      <div class="details-content">
        <p><strong>Geometrijska progresija</strong> (GP) je niz brojeva u kome je svaki sledeci clan jednak prethodnom pomnozenom konstantnim brojem \(q\) (kolicnik progresije).</p>
        <ul class="formula-list">
          <li><strong>Opsti clan:</strong> \(a_n = a_1 \cdot q^{n-1}\)</li>
          <li><strong>Zbir prvih \(n\) clanova</strong> (za \(q \neq 1\)):
            \[\displaystyle S_n = a_1 \cdot \frac{q^n - 1}{q - 1}\]</li>
          <li><strong>Veza susednih clanova:</strong> \(a_{n+1} = a_n \cdot q\), odnosno \(\dfrac{a_{n+1}}{a_n} = q\)</li>
        </ul>
        <p style="margin-top: 12px;"><strong>Kljucna osobina:</strong> Ako pomnozimo svaki clan GP sa istom konstantom,
           dobijamo novu GP sa istim kolicnikom. Konkretno, ako je \(a_1, a_2, a_3, \ldots\) GP sa kolicnikom \(q\),
           onda vazi \(\dfrac{a_k + a_m}{a_j + a_l} = q^s\) kad god je razlika indeksa konzistentna (\(k = j + s\) i \(m = l + s\)).</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Grafik clanova geometrijske progresije \(a_n = 3 \cdot 2^{n-1}\) i kumulativnog zbira \(S_n\):</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="480"></canvas>
    </div>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredjivanje kolicnika \(q\)</h3>
        <p>Zapisimo date uslove koristeci opstu formulu \(a_k = a_1 \cdot q^{k-1}\):</p>
        <div class="math-box">
          \[
          a_1 + a_5 = a_1 + a_1 q^4 = a_1(1 + q^4) = 51
          \]
          \[
          a_2 + a_6 = a_1 q + a_1 q^5 = a_1 q(1 + q^4) = 102
          \]
        </div>
        <p>Podelimo drugu jednacinu prvom:</p>
        <div class="math-box">
          \[
          \frac{a_2 + a_6}{a_1 + a_5} = \frac{a_1 q(1 + q^4)}{a_1(1 + q^4)} = q = \frac{102}{51} = \boxed{2}
          \]
        </div>
        <p>Kolicnik geometrijske progresije je \(q = 2\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zasto smemo da podelimo dva izraza?</summary>
      <div class="details-content">
        <p>Oba izraza sadrze zajednicki faktor \(a_1(1 + q^4)\). Posto je \(a_1 + a_5 = 51 \neq 0\),
           deljenje je dozvoljeno. Kljucna ideja je da se \(a_2 + a_6\) razlikuje od \(a_1 + a_5\)
           samo po faktoru \(q\), jer su indeksi u drugom paru za 1 veci:</p>
        <div class="math-box">
          \[ a_2 = a_1 \cdot q, \qquad a_6 = a_5 \cdot q \]
        </div>
        <p>Dakle: \(a_2 + a_6 = q \cdot (a_1 + a_5)\), sto direktno daje \(q = \frac{102}{51} = 2\).</p>
      </div>
    </details>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Odredjivanje prvog clana \(a_1\)</h3>
        <p>Iz prvog uslova \(a_1 + a_5 = 51\) i sa \(q = 2\):</p>
        <div class="math-box">
          \[
          a_1(1 + q^4) = a_1(1 + 2^4) = a_1(1 + 16) = 17a_1 = 51
          \]
        </div>
        <div class="math-box">
          \[
          a_1 = \frac{51}{17} = \boxed{3}
          \]
        </div>
        <p>Geometrijska progresija je potpuno odredjena: \(a_1 = 3\), \(q = 2\).</p>
        <p style="margin-top: 10px;">Prvih nekoliko clanova progresije:</p>
        <div class="power-grid">
          <div class="power-item">
            <div class="plabel">\(a_1\)</div>
            <div class="pvalue">3</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(a_2\)</div>
            <div class="pvalue">6</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(a_3\)</div>
            <div class="pvalue">12</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(a_4\)</div>
            <div class="pvalue">24</div>
          </div>
          <div class="power-item active">
            <div class="plabel">\(a_5\)</div>
            <div class="pvalue">48</div>
          </div>
          <div class="power-item active">
            <div class="plabel">\(a_6\)</div>
            <div class="pvalue">96</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Da li vaze polazni uslovi?</summary>
      <div class="details-content">
        <p>Proverimo oba uslova sa \(a_1 = 3\), \(q = 2\):</p>
        <div class="math-box">
          \[
          a_1 + a_5 = 3 + 3 \cdot 2^4 = 3 + 48 = 51 \;\checkmark
          \]
          \[
          a_2 + a_6 = 3 \cdot 2 + 3 \cdot 2^5 = 6 + 96 = 102 \;\checkmark
          \]
        </div>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Postavljanje jednacine za \(S_n\)</h3>
        <p>Formula za zbir prvih \(n\) clanova geometrijske progresije sa \(q \neq 1\) glasi:</p>
        <div class="math-box">
          \[
          S_n = a_1 \cdot \frac{q^n - 1}{q - 1}
          \]
        </div>
        <p>Uvrstimo \(a_1 = 3\), \(q = 2\):</p>
        <div class="math-box">
          \[
          S_n = 3 \cdot \frac{2^n - 1}{2 - 1} = 3 \cdot \frac{2^n - 1}{1} = 3(2^n - 1)
          \]
        </div>
        <p>Formula se znacajno pojednostavljuje jer je \(q - 1 = 2 - 1 = 1\).</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Resavanje jednacine \(S_n = 3069\)</h3>
        <p>Postavimo jednacinu i resimo po \(n\):</p>
        <div class="math-box">
          \[
          3(2^n - 1) = 3069
          \]
        </div>
        <p>Podelimo obe strane sa 3:</p>
        <div class="math-box">
          \[
          2^n - 1 = \frac{3069}{3} = 1023
          \]
        </div>
        <p>Dodamo 1 na obe strane:</p>
        <div class="math-box">
          \[
          2^n = 1024
          \]
        </div>
        <p>Prepoznajemo da je \(1024 = 2^{10}\), pa je:</p>
        <div class="math-box">
          \[
          n = \boxed{10}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Stepeni dvojke</summary>
      <div class="details-content">
        <p>Korisno je znati stepene dvojke napamet. Evo pregleda:</p>
        <div class="power-grid">
          <div class="power-item">
            <div class="plabel">\(2^1\)</div>
            <div class="pvalue">2</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^2\)</div>
            <div class="pvalue">4</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^3\)</div>
            <div class="pvalue">8</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^4\)</div>
            <div class="pvalue">16</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^5\)</div>
            <div class="pvalue">32</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^6\)</div>
            <div class="pvalue">64</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^7\)</div>
            <div class="pvalue">128</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^8\)</div>
            <div class="pvalue">256</div>
          </div>
          <div class="power-item">
            <div class="plabel">\(2^9\)</div>
            <div class="pvalue">512</div>
          </div>
          <div class="power-item active">
            <div class="plabel">\(2^{10}\)</div>
            <div class="pvalue">1024</div>
          </div>
        </div>
        <p style="margin-top: 10px;">Dakle \(2^{10} = 1024\), sto potvrdjuje da je \(n = 10\).</p>
      </div>
    </details>

    <!-- Step 5: Verification Table -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Verifikacija: tabela zbira</h3>
        <p>Izracunajmo sve clanove i kumulativne zbire do \(n = 10\):</p>
        <div style="overflow-x: auto;">
          <table class="gp-table">
            <thead>
              <tr>
                <th>\(n\)</th>
                <th>\(a_n = 3 \cdot 2^{n-1}\)</th>
                <th>\(S_n = 3(2^n - 1)\)</th>
              </tr>
            </thead>
            <tbody>
              <tr><td>1</td><td>3</td><td>3</td></tr>
              <tr><td>2</td><td>6</td><td>9</td></tr>
              <tr><td>3</td><td>12</td><td>21</td></tr>
              <tr><td>4</td><td>24</td><td>45</td></tr>
              <tr><td>5</td><td>48</td><td>93</td></tr>
              <tr><td>6</td><td>96</td><td>189</td></tr>
              <tr><td>7</td><td>192</td><td>381</td></tr>
              <tr><td>8</td><td>384</td><td>765</td></tr>
              <tr><td>9</td><td>768</td><td>1533</td></tr>
              <tr class="highlight-row"><td>10</td><td>1536</td><td>3069</td></tr>
            </tbody>
          </table>
        </div>
        <p style="margin-top: 10px;">U poslednjem redu vidimo da je \(S_{10} = 3069\), sto potvrdjuje nas rezultat.</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Elegancija ovog zadatka lezi u <strong>nacinu odredjivanja kolicnika</strong>. Kada imamo dva uslova oblika
       \(a_i + a_j\) i \(a_{i+1} + a_{j+1}\), njihov kolicnik je uvek jednak \(q\), jer mnozenje
       svakog clana GP sa \(q\) pomera indeks za 1. To znaci:</p>
    <div class="math-box">
      \[ \frac{a_{i+1} + a_{j+1}}{a_i + a_j} = \frac{q \cdot a_i + q \cdot a_j}{a_i + a_j} = q \]
    </div>
    <p>Takodje, cinjenica da je \(q = 2\) cini formulu za zbir veoma jednostavnom: \(S_n = 3(2^n - 1)\),
       jer imenilac \(q - 1 = 1\) potpuno nestaje. Konacna jednacina \(2^n = 1024\) ima lepo celobrojno
       resenje zahvaljujuci tome sto je \(1024 = 2^{10}\).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konacan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) \(n = 4\)</div>
      <div class="option-chip">(B) \(n = 6\)</div>
      <div class="option-chip">(C) \(n = 8\)</div>
      <div class="option-chip correct">(D) \(n = 10\)</div>
      <div class="option-chip">(E) \(n = 12\)</div>
    </div>
    <div class="answer-value">\(n = 10\)</div>
    <p style="color: #34d399; font-size: 1.1rem; font-weight: 600;">Odgovor je (D)</p>
    <div class="provera-note">
      <strong>Provera:</strong> Geometrijska progresija sa \(a_1 = 3\) i \(q = 2\) daje
      \(S_{10} = 3 + 6 + 12 + 24 + 48 + 96 + 192 + 384 + 768 + 1536 = 3069\). Uslovi su zadovoljeni:
      \(a_1 + a_5 = 3 + 48 = 51\) i \(a_2 + a_6 = 6 + 96 = 102\).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Pogresan eksponent u opstem clanu:</strong> Cesta greska je pisati
        \(a_n = a_1 \cdot q^n\) umesto ispravnog \(a_n = a_1 \cdot q^{n-1}\). Na primer, \(a_5 = a_1 \cdot q^4\)
        (eksponent je 4, ne 5). Pazite na razliku \(n\) i \(n - 1\) u eksponentu!</li>
      <li style="margin-bottom: 10px;"><strong>Zaboraviti da proverite da \(q \neq 1\):</strong> Formula
        \(S_n = a_1 \cdot \frac{q^n - 1}{q - 1}\) vazi samo za \(q \neq 1\). Ovde je \(q = 2\),
        pa formula sigurno vazi, ali je dobra praksa uvek proveriti.</li>
      <li style="margin-bottom: 10px;"><strong>Aritmeticka greska u deljenju:</strong> \(\frac{3069}{3} = 1023\),
        ne 1013 ili 1033. Korisno je proveriti: \(3 \times 1023 = 3 \times 1000 + 3 \times 23 = 3000 + 69 = 3069\).</li>
      <li><strong>Neprepoznavanje stepena dvojke:</strong> Potrebno je znati da je \(2^{10} = 1024\).
        Ako niste sigurni, mozete postupno racunati: \(2^5 = 32\), pa \(2^{10} = (2^5)^2 = 32^2 = 1024\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Za istu geometrijsku progresiju (\(a_1 = 3\), \(q = 2\)), odredite za koju vrednost \(n\) je:</p>
    <div class="math-box">
      \[ a_n > 10\,000 \]
    </div>
    <details>
      <summary>Pogledaj nagovestaj</summary>
      <div class="details-content">
        <p>Trazimo najmanji prirodan broj \(n\) za koji je \(a_n = 3 \cdot 2^{n-1} > 10000\):</p>
        <div class="math-box">
          \[
          2^{n-1} > \frac{10000}{3} \approx 3333{,}3
          \]
        </div>
        <p>Posto je \(2^{11} = 2048\) i \(2^{12} = 4096\), vazi \(2^{n-1} > 3333{,}3\) za \(n - 1 \geq 12\), tj. \(n \geq 13\).</p>
        <p>Proverimo: \(a_{13} = 3 \cdot 2^{12} = 3 \cdot 4096 = 12288 > 10000\) i \(a_{12} = 3 \cdot 2^{11} = 3 \cdot 2048 = 6144 < 10000\).</p>
        <p>Dakle, odgovor je \(n = 13\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 480 * dpr;
    canvas.style.height = '480px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 480;

    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // GP: a_n = 3 * 2^(n-1), S_n = 3*(2^n - 1)
    var terms = [];
    var sums = [];
    var cumSum = 0;
    for (var i = 1; i <= 10; i++) {
      var an = 3 * Math.pow(2, i - 1);
      cumSum += an;
      terms.push(an);
      sums.push(cumSum);
    }
    // terms: [3,6,12,24,48,96,192,384,768,1536]
    // sums:  [3,9,21,45,93,189,381,765,1533,3069]

    var marginL = 75;
    var marginR = 40;
    var marginT = 55;
    var marginB = 65;
    var plotW = W - marginL - marginR;
    var plotH = H - marginT - marginB;

    var maxVal = 3200;

    function toX(n) { return marginL + (n - 0.5) / 10.5 * plotW; }
    function toY(val) { return marginT + plotH - (val / maxVal) * plotH; }

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Clanovi a\u2099 i kumulativni zbir S\u2099 geometrijske progresije', marginL, 28);

    // Grid
    ctx.strokeStyle = 'rgba(96,165,250,0.06)';
    ctx.lineWidth = 1;
    for (var gn = 1; gn <= 10; gn++) {
      var gx = toX(gn);
      ctx.beginPath();
      ctx.moveTo(gx, marginT);
      ctx.lineTo(gx, H - marginB);
      ctx.stroke();
    }
    var yTicks = [0, 500, 1000, 1500, 2000, 2500, 3000];
    for (var ti = 0; ti < yTicks.length; ti++) {
      var gy = toY(yTicks[ti]);
      ctx.beginPath();
      ctx.moveTo(marginL, gy);
      ctx.lineTo(W - marginR, gy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(marginL, H - marginB);
    ctx.lineTo(W - marginR, H - marginB);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(marginL, marginT);
    ctx.lineTo(marginL, H - marginB);
    ctx.stroke();

    // Y-axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    for (var yi = 0; yi < yTicks.length; yi++) {
      ctx.fillText(yTicks[yi].toString(), marginL - 8, toY(yTicks[yi]) + 4);
    }

    // X-axis labels
    ctx.textAlign = 'center';
    for (var xi = 1; xi <= 10; xi++) {
      ctx.fillText('n=' + xi, toX(xi), H - marginB + 18);
    }

    // Draw S_n bars (behind)
    for (var bi = 0; bi < 10; bi++) {
      var bx = toX(bi + 1);
      var bw = plotW / 10.5 * 0.35;
      var by = toY(sums[bi]);
      var bh = toY(0) - by;

      // Bar gradient
      var grad = ctx.createLinearGradient(bx - bw, by, bx - bw, by + bh);
      grad.addColorStop(0, 'rgba(167,139,250,0.6)');
      grad.addColorStop(1, 'rgba(167,139,250,0.15)');
      ctx.fillStyle = grad;

      roundRect(ctx, bx - bw - 2, by, bw, bh, 4);
      ctx.fill();

      // S_n label for key values
      if (bi === 9) {
        ctx.fillStyle = '#a78bfa';
        ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('S\u2081\u2080 = 3069', bx - bw / 2 - 2, by - 8);
      }
    }

    // Draw a_n bars (front)
    for (var ai = 0; ai < 10; ai++) {
      var ax = toX(ai + 1);
      var aw = plotW / 10.5 * 0.35;
      var ay = toY(terms[ai]);
      var ah = toY(0) - ay;

      var grad2 = ctx.createLinearGradient(ax + 2, ay, ax + 2, ay + ah);
      grad2.addColorStop(0, 'rgba(96,165,250,0.8)');
      grad2.addColorStop(1, 'rgba(96,165,250,0.2)');
      ctx.fillStyle = grad2;

      roundRect(ctx, ax + 2, ay, aw, ah, 4);
      ctx.fill();

      // a_n value labels for selected terms
      if (terms[ai] >= 48 || ai < 4) {
        ctx.fillStyle = '#60a5fa';
        ctx.font = '11px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(terms[ai].toString(), ax + 2 + aw / 2, ay - 5);
      }
    }

    // Draw exponential curve for a_n (smooth)
    ctx.strokeStyle = 'rgba(96,165,250,0.4)';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    for (var cn = 1; cn <= 10; cn += 0.1) {
      var cv = 3 * Math.pow(2, cn - 1);
      var ccx = toX(cn);
      var ccy = toY(cv);
      if (cn === 1) ctx.moveTo(ccx, ccy);
      else ctx.lineTo(ccx, ccy);
    }
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw S_n curve (smooth)
    ctx.strokeStyle = 'rgba(167,139,250,0.4)';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    for (var sn = 1; sn <= 10; sn += 0.1) {
      var sv = 3 * (Math.pow(2, sn) - 1);
      var scx = toX(sn);
      var scy = toY(sv);
      if (sn === 1) ctx.moveTo(scx, scy);
      else ctx.lineTo(scx, scy);
    }
    ctx.stroke();
    ctx.setLineDash([]);

    // Highlight n=10 marker
    var hx = toX(10);
    var hy = toY(3069);
    ctx.fillStyle = '#4ade80';
    ctx.shadowColor = '#4ade80';
    ctx.shadowBlur = 15;
    ctx.beginPath();
    ctx.arc(hx, hy, 6, 0, Math.PI * 2);
    ctx.fill();
    ctx.shadowBlur = 0;

    // Dashed horizontal line at S_n = 3069
    ctx.strokeStyle = 'rgba(52,211,153,0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([8, 5]);
    ctx.beginPath();
    ctx.moveTo(marginL, toY(3069));
    ctx.lineTo(hx, toY(3069));
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for dashed line
    ctx.fillStyle = '#34d399';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('S\u2099 = 3069', marginL + 5, toY(3069) - 8);

    // Legend
    var legX = W - marginR - 220;
    var legY = marginT + 10;

    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    ctx.strokeStyle = 'rgba(96,165,250,0.25)';
    ctx.lineWidth = 1;
    roundRect(ctx, legX, legY, 210, 75, 8);
    ctx.fill();
    roundRect(ctx, legX, legY, 210, 75, 8);
    ctx.stroke();

    // Legend: a_n
    ctx.fillStyle = 'rgba(96,165,250,0.7)';
    ctx.fillRect(legX + 12, legY + 16, 18, 12);
    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('a\u2099 = 3 \u00B7 2\u207F\u207B\u00B9', legX + 38, legY + 27);

    // Legend: S_n
    ctx.fillStyle = 'rgba(167,139,250,0.5)';
    ctx.fillRect(legX + 12, legY + 42, 18, 12);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('S\u2099 = 3(2\u207F \u2212 1)', legX + 38, legY + 53);

    // Info box at bottom
    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    ctx.strokeStyle = 'rgba(52,211,153,0.35)';
    ctx.lineWidth = 1;
    var ibX = marginL;
    var ibY = H - marginB + 30;
    var ibW = W - marginL - marginR;
    var ibH = 30;
    roundRect(ctx, ibX, ibY, ibW, ibH, 8);
    ctx.fill();
    roundRect(ctx, ibX, ibY, ibW, ibH, 8);
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('a\u2081 = 3, q = 2  |  S\u2081\u2080 = 3(2\u00B9\u2070 \u2212 1) = 3 \u00B7 1023 = 3069  |  n = 10', W / 2, ibY + 20);
  }

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Geometrijska progresija - zbir prvih n clanova",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["geometrijska progresija", "kolicnik progresije", "zbir clanova progresije", "stepeni dvojke", "eksponencijalni rast"]
}
BRAINSPARK_META-->