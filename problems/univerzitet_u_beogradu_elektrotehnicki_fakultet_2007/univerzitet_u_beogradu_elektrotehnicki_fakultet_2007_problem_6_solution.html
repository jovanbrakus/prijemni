<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska jednacina bez resenja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: log₂(1 − x) = log₂(x − 3)

Step 1: Determine domains of each logarithm
  Left side: log₂(1 − x) requires 1 − x > 0  =>  x < 1
  Right side: log₂(x − 3) requires x − 3 > 0  =>  x > 3

Step 2: Find intersection of domains
  We need BOTH conditions simultaneously:
  x < 1  AND  x > 3
  This is the intersection: (−∞, 1) ∩ (3, +∞) = ∅  (empty set)

Step 3: Since the domain is empty, there is no x for which
  both logarithms are defined. The equation has no solutions.

Step 4: Verify — even if we "naively" solved:
  log₂(1 − x) = log₂(x − 3)
  =>  1 − x = x − 3  (if both sides were valid)
  =>  4 = 2x
  =>  x = 2
  Check x = 2: log₂(1 − 2) = log₂(−1) — UNDEFINED!
  Check x = 2: log₂(2 − 3) = log₂(−1) — UNDEFINED!
  So x = 2 does not work either.

Answer: (A) Nema rešenja
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-red {
  color: #f87171;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 140px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.05rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.domain-tag {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 6px;
  font-size: 0.9rem;
  font-weight: 600;
  margin: 2px 4px;
}

.domain-left {
  background: rgba(96,165,250,0.15);
  color: #60a5fa;
  border: 1px solid rgba(96,165,250,0.3);
}

.domain-right {
  background: rgba(244,114,182,0.15);
  color: #f472b6;
  border: 1px solid rgba(244,114,182,0.3);
}

.domain-empty {
  background: rgba(248,113,113,0.15);
  color: #f87171;
  border: 1px solid rgba(248,113,113,0.3);
}

.warning-box {
  background: rgba(248,113,113,0.08);
  border: 1px solid rgba(248,113,113,0.25);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Logaritamska jednacina bez resenja</h1>
  <p class="subtitle">Analiza domena logaritamske funkcije i nemogucnost ispunjenja uslova</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Jednacina</p>
    <div class="math-box">
      \[ \log_2(1 - x) = \log_2(x - 3) \]
    </div>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">Nema resenja</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">Beskonacno mnogo resenja</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">\(x = 3\) jedino resenje</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">\(x = 1\) jedino resenje</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">Zadovoljena za \(x = 2\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Pre svega, moramo odrediti <span class="highlight">domen</span> jednacine. Logaritam je definisan
       samo za strogo pozitivan argument. Odredimo uslove za levu i desnu stranu, pa proverimo
       da li postoji \(x\) koji ispunjava oba uslova istovremeno.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Teorija: Domen logaritamske funkcije</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Osnovni uslov:</strong> \(\log_a(f(x))\) je definisan ako i samo ako \(f(x) > 0\)</li>
          <li><strong>Jednacina \(\log_a(f) = \log_a(g)\):</strong> Vazi \(f = g\), ali samo uz uslove \(f > 0\) i \(g > 0\)</li>
          <li><strong>Domen jednacine:</strong> Presek svih uslova definisanosti. Ako je presek prazan skup, jednacina nema resenja.</li>
          <li><strong>Vazno:</strong> Ne smemo "preskociti" proveru domena i odmah izjednaciti argumente!</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Domeni leве i desne strane jednacine na brojevnoj pravoj — primetite da se ne preklapaju:</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="440"></canvas>
    </div>
    <p style="color: #94a3b8; font-size: 0.9rem; margin-top: 8px;">
      Interaktivno: Pomerajte mis po kanvasu da vidite vrednosti \(1 - x\) i \(x - 3\) za dato \(x\).
    </p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Uslov za levu stranu: \(\log_2(1 - x)\)</h3>
        <p>Logaritam zahteva strogo pozitivan argument:</p>
        <div class="math-box">
          \[ 1 - x > 0 \quad \Longrightarrow \quad x < 1 \]
        </div>
        <p>Dakle, leva strana je definisana za <span class="domain-tag domain-left">\(x \in (-\infty,\; 1)\)</span></p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Uslov za desnu stranu: \(\log_2(x - 3)\)</h3>
        <p>Analogno, argument mora biti pozitivan:</p>
        <div class="math-box">
          \[ x - 3 > 0 \quad \Longrightarrow \quad x > 3 \]
        </div>
        <p>Dakle, desna strana je definisana za <span class="domain-tag domain-right">\(x \in (3,\; +\infty)\)</span></p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zasto mora strogo vece od nule?</summary>
      <div class="details-content">
        <p>Logaritam \(\log_a(t)\) je definisan samo za \(t > 0\). Vrednost \(t = 0\) nije dozvoljena jer
           \(\log_a(0)\) tezi ka \(-\infty\) (nije realan broj). Negativne vrednosti takodje nisu dozvoljene
           jer ne postoji realan stepen \(a^y\) koji daje negativan rezultat (za \(a > 0\)).</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Presek domena</h3>
        <p>Da bi jednacina imala smisla, <span class="highlight">oba</span> uslova moraju biti ispunjena istovremeno:</p>
        <div class="math-box">
          \[ x < 1 \quad \text{i} \quad x > 3 \]
        </div>
        <p>Ovo je presek intervala:</p>
        <div class="math-box">
          \[ (-\infty,\; 1) \;\cap\; (3,\; +\infty) = \emptyset \]
        </div>
        <div class="warning-box">
          <p><strong class="highlight-red">Prazan skup!</strong> Ne postoji nijedan realan broj \(x\) koji je
             istovremeno manji od 1 i veci od 3. Ovi intervali su potpuno razdvojeni na brojevnoj pravoj
             — izmedju njih postoji "praznina" od \(x = 1\) do \(x = 3\).</p>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Zakljucak</h3>
        <p>Posto je domen jednacine prazan skup, jednacina <span class="highlight">nema resenja</span>.</p>
        <p style="margin-top: 8px;">Ne postoji vrednost \(x\) za koju su obe strane jednacine uopste definisane,
           pa samim tim ne moze da postoji \(x\) za koje su one jednake.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Sta ako "naivno" resimo jednacinu bez provere domena?</summary>
      <div class="details-content">
        <p>Ako bismo ignorisali domen i izjednacili argumente:</p>
        <div class="math-box">
          \[
          \log_2(1 - x) = \log_2(x - 3) \quad \Rightarrow \quad 1 - x = x - 3
          \]
          \[
          1 + 3 = x + x \quad \Rightarrow \quad 4 = 2x \quad \Rightarrow \quad x = 2
          \]
        </div>
        <p>Proverimo \(x = 2\):</p>
        <div class="math-box">
          \[
          \text{Leva strana: } \log_2(1 - 2) = \log_2(-1) \quad \text{— nije definisano!}
          \]
          \[
          \text{Desna strana: } \log_2(2 - 3) = \log_2(-1) \quad \text{— nije definisano!}
          \]
        </div>
        <p>Kao sto vidimo, \(x = 2\) daje negativan argument u oba logaritma. To potvrduje
           da je resenje \(x = 2\) <strong class="highlight-red">lazno resenje</strong> — nastalo je jer smo zanemarili uslove
           definisanosti. Zato je <span class="highlight">odgovor (E) netacan</span>.</p>
      </div>
    </details>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Zasto (C) \(x = 3\) i (D) \(x = 1\) ne zadovoljavaju?</summary>
      <div class="details-content">
        <p><strong>Za \(x = 3\):</strong></p>
        <div class="math-box">
          \[
          \log_2(1 - 3) = \log_2(-2) \quad \text{— nije definisano!}
          \]
          \[
          \log_2(3 - 3) = \log_2(0) \quad \text{— nije definisano!}
          \]
        </div>
        <p><strong>Za \(x = 1\):</strong></p>
        <div class="math-box">
          \[
          \log_2(1 - 1) = \log_2(0) \quad \text{— nije definisano!}
          \]
          \[
          \log_2(1 - 3) = \log_2(-2) \quad \text{— nije definisano!}
          \]
        </div>
        <p>Ni jedna od ovih vrednosti ne pripada domenu jednacine.</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Kod logaritamskih jednacina, <strong>uvek prvo proverimo domen</strong>. U ovom zadatku,
       leva strana zahteva \(x < 1\), a desna \(x > 3\). Posto nijedan realan broj ne moze
       istovremeno biti manji od 1 i veci od 3, jednacina nema resenja — i to mozemo zakljuciti
       <em>bez ikakvog racunanja</em>, samo iz analize domena. Ovo je elegantan primer zadatka
       gde je analiza domena dovoljna za potpun odgovor.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konacan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip correct">(A) Nema resenja</div>
      <div class="option-chip">(B) Beskonacno mnogo resenja</div>
      <div class="option-chip">(C) \(x = 3\) jedino resenje</div>
      <div class="option-chip">(D) \(x = 1\) jedino resenje</div>
      <div class="option-chip">(E) Zadovoljena za \(x = 2\)</div>
    </div>
    <div class="answer-value">Odgovor je (A)</div>
    <div class="provera-note">
      <strong>Obrazlozenje:</strong> Domen leve strane je \((-\infty, 1)\), domen desne strane je \((3, +\infty)\).
      Presek ova dva intervala je prazan skup \(\emptyset\), pa jednacina nema nijednog resenja.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Izjednacavanje argumenata bez provere domena:</strong>
        Mnogi studenti odmah zapisu \(1 - x = x - 3\) i dobiju \(x = 2\), a zatim izaberu odgovor (E).
        Medjutim, \(x = 2\) daje \(\log_2(-1)\) na obe strane — to je nedefinisan izraz! Uvek prvo
        proverite da li argument logaritma moze biti pozitivan.</li>
      <li style="margin-bottom: 10px;"><strong>Provera samo jedne strane:</strong>
        Neki studenti provere samo jedan od dva uslova (\(x < 1\) ili \(x > 3\)) i zakljuce da
        resenje postoji. Za logaritamske jednacine moraju biti ispunjeni uslovi za <em>sve</em>
        logaritme u jednacini.</li>
      <li><strong>Brkanje nejednakosti:</strong>
        Greska tipa \(1 - x > 0 \Rightarrow x > 1\) (umesto \(x < 1\)) moze dovesti do pogresnog
        zakljucka da se domeni preklapaju. Pri resavanju nejednakosti sa promenom strane, uvek
        obratite paznju na predznak.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Koliko resenja ima sledeca jednacina?</p>
    <div class="math-box">
      \[ \log_2(x - 1) = \log_2(3 - x) \]
    </div>
    <details>
      <summary>Pogledaj nagovestaj</summary>
      <div class="details-content">
        <p>Ovde su uslovi \(x > 1\) i \(x < 3\), sto daje neprazan domen \((1, 3)\).
           Sada mozemo izjednaciti argumente: \(x - 1 = 3 - x\), odakle sledi \(x = 2\).
           Posto \(2 \in (1, 3)\), resenje je validno! Za razliku od polaznog zadatka,
           ovde se domeni preklapaju i jednacina ima tacno jedno resenje.</p>
        <p style="margin-top: 8px; color: #94a3b8;">Uporedi ovo sa originalnim zadatkom —
           mala promena u predznacima potpuno menja situaciju!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  let mouseX = -1;
  let mouseY = -1;

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 440 * dpr;
    canvas.style.height = '440px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 440;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Layout parameters
    const marginL = 60;
    const marginR = 60;
    const lineW = W - marginL - marginR;
    const minVal = -2;
    const maxVal = 6;
    const range = maxVal - minVal;

    function xPos(val) {
      return marginL + ((val - minVal) / range) * lineW;
    }

    function valFromX(px) {
      return minVal + ((px - marginL) / lineW) * range;
    }

    // ===== SECTION 1: Number line with domains (y=80) =====
    const lineY1 = 90;

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Domeni na brojevnoj pravoj', marginL, 28);

    // Grid lines
    ctx.strokeStyle = 'rgba(96,165,250,0.06)';
    ctx.lineWidth = 1;
    for (let i = minVal; i <= maxVal; i++) {
      const x = xPos(i);
      ctx.beginPath();
      ctx.moveTo(x, 40);
      ctx.lineTo(x, 170);
      ctx.stroke();
    }

    // Main number line
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(marginL, lineY1);
    ctx.lineTo(W - marginR, lineY1);
    ctx.stroke();

    // Arrow at right end
    ctx.fillStyle = '#475569';
    ctx.beginPath();
    ctx.moveTo(W - marginR, lineY1);
    ctx.lineTo(W - marginR - 10, lineY1 - 5);
    ctx.lineTo(W - marginR - 10, lineY1 + 5);
    ctx.closePath();
    ctx.fill();

    // Arrow at left end
    ctx.beginPath();
    ctx.moveTo(marginL, lineY1);
    ctx.lineTo(marginL + 10, lineY1 - 5);
    ctx.lineTo(marginL + 10, lineY1 + 5);
    ctx.closePath();
    ctx.fill();

    // Tick marks and labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let i = minVal; i <= maxVal; i++) {
      const x = xPos(i);
      ctx.strokeStyle = '#64748b';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(x, lineY1 - 6);
      ctx.lineTo(x, lineY1 + 6);
      ctx.stroke();
      ctx.fillText(i.toString(), x, lineY1 + 22);
    }

    // Domain of left side: x < 1 (blue, above line)
    const x1 = xPos(1);
    const xStart = marginL;

    // Blue region (x < 1)
    ctx.fillStyle = 'rgba(96,165,250,0.12)';
    ctx.fillRect(xStart, lineY1 - 35, x1 - xStart, 28);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(xStart, lineY1 - 21);
    ctx.lineTo(x1, lineY1 - 21);
    ctx.stroke();

    // Open circle at x=1
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(x1, lineY1 - 21, 5, 0, Math.PI * 2);
    ctx.stroke();

    // Arrow at left
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.moveTo(xStart, lineY1 - 21);
    ctx.lineTo(xStart + 8, lineY1 - 25);
    ctx.lineTo(xStart + 8, lineY1 - 17);
    ctx.closePath();
    ctx.fill();

    // Label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x < 1  (leva strana)', (xStart + x1) / 2, lineY1 - 42);

    // Domain of right side: x > 3 (pink, below line)
    const x3 = xPos(3);
    const xEnd = W - marginR;

    // Pink region (x > 3)
    ctx.fillStyle = 'rgba(244,114,182,0.12)';
    ctx.fillRect(x3, lineY1 + 8, xEnd - x3, 28);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(x3, lineY1 + 22);
    ctx.lineTo(xEnd, lineY1 + 22);
    ctx.stroke();

    // Open circle at x=3
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(x3, lineY1 + 22, 5, 0, Math.PI * 2);
    ctx.stroke();

    // Arrow at right
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.moveTo(xEnd, lineY1 + 22);
    ctx.lineTo(xEnd - 8, lineY1 + 18);
    ctx.lineTo(xEnd - 8, lineY1 + 26);
    ctx.closePath();
    ctx.fill();

    // Label
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x > 3  (desna strana)', (x3 + xEnd) / 2, lineY1 + 52);

    // Gap annotation
    const gapCenter = (x1 + x3) / 2;
    ctx.fillStyle = '#f87171';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('PRAZNINA', gapCenter, lineY1 + 52);

    // Red X marks in the gap
    ctx.strokeStyle = 'rgba(248,113,113,0.4)';
    ctx.lineWidth = 2;
    for (let v = 1.3; v < 3; v += 0.4) {
      const gx = xPos(v);
      const s = 5;
      ctx.beginPath();
      ctx.moveTo(gx - s, lineY1 - s);
      ctx.lineTo(gx + s, lineY1 + s);
      ctx.moveTo(gx + s, lineY1 - s);
      ctx.lineTo(gx - s, lineY1 + s);
      ctx.stroke();
    }

    // Intersection annotation
    ctx.fillStyle = '#f87171';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Presek: (-\u221E, 1) \u2229 (3, +\u221E) = \u2205', W / 2, lineY1 + 75);

    // ===== SECTION 2: Graph of log functions (y=200..420) =====
    const graphTop = 200;
    const graphBot = 410;
    const graphH = graphBot - graphTop;
    const graphMid = graphTop + graphH / 2;

    // Title
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Grafici y = log\u2082(1 \u2212 x) i y = log\u2082(x \u2212 3)', marginL, graphTop - 10);

    // Y-axis mapping: log2 range roughly [-3, 3]
    const logMin = -4;
    const logMax = 3;
    const logRange = logMax - logMin;

    function yPos(logVal) {
      // Y-up: higher logVal => lower pixel
      return graphBot - ((logVal - logMin) / logRange) * graphH;
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;

    // Horizontal axis (y=0 line)
    const y0 = yPos(0);
    ctx.beginPath();
    ctx.moveTo(marginL, y0);
    ctx.lineTo(W - marginR, y0);
    ctx.stroke();

    // Vertical gridlines
    ctx.strokeStyle = 'rgba(96,165,250,0.06)';
    ctx.lineWidth = 1;
    for (let i = minVal; i <= maxVal; i++) {
      ctx.beginPath();
      ctx.moveTo(xPos(i), graphTop);
      ctx.lineTo(xPos(i), graphBot);
      ctx.stroke();
    }

    // Horizontal gridlines
    ctx.strokeStyle = 'rgba(96,165,250,0.06)';
    for (let j = logMin; j <= logMax; j++) {
      const gy = yPos(j);
      ctx.beginPath();
      ctx.moveTo(marginL, gy);
      ctx.lineTo(W - marginR, gy);
      ctx.stroke();
    }

    // Y-axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    for (let j = logMin; j <= logMax; j++) {
      ctx.fillText(j.toString(), marginL - 8, yPos(j) + 4);
    }

    // X-axis labels on graph
    ctx.textAlign = 'center';
    for (let i = minVal; i <= maxVal; i++) {
      ctx.fillText(i.toString(), xPos(i), y0 + 14);
    }

    // Vertical asymptote at x=1 (for left function)
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(x1, graphTop);
    ctx.lineTo(x1, graphBot);
    ctx.stroke();
    ctx.setLineDash([]);

    // Vertical asymptote at x=3 (for right function)
    ctx.strokeStyle = 'rgba(244,114,182,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(x3, graphTop);
    ctx.lineTo(x3, graphBot);
    ctx.stroke();
    ctx.setLineDash([]);

    // Plot y = log2(1 - x) for x < 1 (blue)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = marginL; px < x1; px += 1) {
      const xVal = valFromX(px);
      const arg = 1 - xVal;
      if (arg <= 0) continue;
      const logVal = Math.log2(arg);
      if (logVal < logMin || logVal > logMax) continue;
      const py = yPos(logVal);
      if (!started) {
        ctx.moveTo(px, py);
        started = true;
      } else {
        ctx.lineTo(px, py);
      }
    }
    ctx.stroke();

    // Label for left function
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const lblX1 = xPos(-1.5);
    const lblY1 = yPos(Math.log2(1 - (-1.5)));
    ctx.fillText('y = log\u2082(1 \u2212 x)', lblX1 + 5, lblY1 - 10);

    // Plot y = log2(x - 3) for x > 3 (pink)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    started = false;
    for (let px = x3 + 1; px < W - marginR; px += 1) {
      const xVal = valFromX(px);
      const arg = xVal - 3;
      if (arg <= 0) continue;
      const logVal = Math.log2(arg);
      if (logVal < logMin || logVal > logMax) continue;
      const py = yPos(logVal);
      if (!started) {
        ctx.moveTo(px, py);
        started = true;
      } else {
        ctx.lineTo(px, py);
      }
    }
    ctx.stroke();

    // Label for right function
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const lblX2 = xPos(4.3);
    const lblY2 = yPos(Math.log2(4.3 - 3));
    ctx.fillText('y = log\u2082(x \u2212 3)', lblX2 + 5, lblY2 - 10);

    // Shade the "forbidden zone" between x=1 and x=3
    ctx.fillStyle = 'rgba(248,113,113,0.06)';
    ctx.fillRect(x1, graphTop, x3 - x1, graphH);

    // Forbidden zone label
    ctx.fillStyle = 'rgba(248,113,113,0.6)';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Nijedna funkcija', (x1 + x3) / 2, graphMid - 8);
    ctx.fillText('nije definisana', (x1 + x3) / 2, graphMid + 8);

    // Interactive hover
    if (mouseX >= marginL && mouseX <= W - marginR) {
      const hoverVal = valFromX(mouseX);

      // Vertical tracking line
      ctx.strokeStyle = 'rgba(226,232,240,0.2)';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath();
      ctx.moveTo(mouseX, graphTop);
      ctx.lineTo(mouseX, graphBot);
      ctx.stroke();
      ctx.setLineDash([]);

      // Info tooltip
      const arg1 = 1 - hoverVal;
      const arg2 = hoverVal - 3;
      const tooltipY = graphTop + 15;

      ctx.fillStyle = 'rgba(15,23,42,0.9)';
      const tw = 240;
      const th = 58;
      const tx = Math.min(mouseX + 10, W - tw - 10);
      ctx.fillRect(tx, tooltipY, tw, th);
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.strokeRect(tx, tooltipY, tw, th);

      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText('x = ' + hoverVal.toFixed(2).replace('.', ','), tx + 8, tooltipY + 16);

      ctx.fillStyle = arg1 > 0 ? '#60a5fa' : '#f87171';
      ctx.fillText('1 \u2212 x = ' + arg1.toFixed(2).replace('.', ',') + (arg1 > 0 ? ' \u2713' : ' \u2717 (nedefinisano)'), tx + 8, tooltipY + 33);

      ctx.fillStyle = arg2 > 0 ? '#f472b6' : '#f87171';
      ctx.fillText('x \u2212 3 = ' + arg2.toFixed(2).replace('.', ',') + (arg2 > 0 ? ' \u2713' : ' \u2717 (nedefinisano)'), tx + 8, tooltipY + 50);
    }

    // Asymptote labels
    ctx.fillStyle = 'rgba(96,165,250,0.5)';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = 1', x1, graphBot + 14);

    ctx.fillStyle = 'rgba(244,114,182,0.5)';
    ctx.fillText('x = 3', x3, graphBot + 14);
  }

  function handleMove(e) {
    const rect = canvas.getBoundingClientRect();
    if (e.touches) {
      mouseX = e.touches[0].clientX - rect.left;
      mouseY = e.touches[0].clientY - rect.top;
    } else {
      mouseX = e.clientX - rect.left;
      mouseY = e.clientY - rect.top;
    }
    draw();
  }

  function handleLeave() {
    mouseX = -1;
    mouseY = -1;
    draw();
  }

  canvas.addEventListener('mousemove', handleMove);
  canvas.addEventListener('mouseleave', handleLeave);
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    handleMove(e);
  }, { passive: false });
  canvas.addEventListener('touchend', handleLeave);

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska jednacina bez resenja - analiza domena",
  "subject": "math",
  "unit": "logarithms",
  "topic_tags": ["logaritmi", "domen funkcije", "logaritamske jednacine", "analiza domena", "prazan skup"]
}
BRAINSPARK_META-->