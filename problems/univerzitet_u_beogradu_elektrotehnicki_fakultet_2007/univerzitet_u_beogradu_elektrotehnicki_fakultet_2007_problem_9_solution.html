<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski izraz sa stranama i uglovima trougla</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: For a triangle with angles α, β, γ and opposite sides a, b, c, evaluate:
  (b − 2a·cos γ)/(a·sin γ) + (c − 2b·cos α)/(b·sin α) + (a − 2c·cos β)/(c·sin β )

Strategy: Use the projection formulas and sine rule.

Projection formulas:
  b = a·cos γ + c·cos α   =>  b − 2a·cos γ = c·cos α − a·cos γ
  c = a·cos β + b·cos α   =>  c − 2b·cos α = a·cos β − b·cos α
  a = b·cos γ + c·cos β   =>  a − 2c·cos β = b·cos γ − c·cos β

Sine rule: a = 2R·sin α, b = 2R·sin β, c = 2R·sin γ

First term:
  (c·cos α − a·cos γ)/(a·sin γ)
  = (2R·sin γ·cos α − 2R·sin α·cos γ)/(2R·sin α·sin γ)
  = sin(γ − α)/(sin α·sin γ)
  = (sin γ·cos α − cos γ·sin α)/(sin α·sin γ)
  = cos α/sin α − cos γ/sin γ
  = cot α − cot γ

Second term:
  (a·cos β − b·cos α)/(b·sin α)
  = (2R·sin α·cos β − 2R·sin β·cos α)/(2R·sin β·sin α)
  = sin(α − β)/(sin β·sin α)
  = cos β/sin β − cos α/sin α
  = cot β − cot α

Third term:
  (b·cos γ − c·cos β)/(c·sin β)
  = (2R·sin β·cos γ − 2R·sin γ·cos β)/(2R·sin γ·sin β)
  = sin(β − γ)/(sin γ·sin β)
  = cos γ/sin γ − cos β/sin β
  = cot γ − cot β

Sum = (cot α − cot γ) + (cot β − cot α) + (cot γ − cot β) = 0

Answer: (C) 0
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 140px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.telescope-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
}

.telescope-table th,
.telescope-table td {
  padding: 10px 14px;
  border: 1px solid #334155;
  text-align: center;
}

.telescope-table th {
  background: rgba(96,165,250,0.1);
  color: #60a5fa;
  font-weight: 700;
}

.telescope-table td {
  background: rgba(30,41,59,0.6);
}

.cancel {
  color: #94a3b8;
  text-decoration: line-through;
  opacity: 0.5;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Teleskopski zbir kotangenasa u trouglu</h1>
  <p class="subtitle">Trigonometrijski izraz sa stranama i uglovima proizvoljnog trougla koji se svodi na teleskopski zbir</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Neka su \(\alpha\), \(\beta\) i \(\gamma\) uglovi, a \(a\), \(b\) i \(c\) stranice proizvoljnog trougla. Tada je:</p>
    <div class="math-box">
      \[
      \frac{b - 2a\cos\gamma}{a\sin\gamma} + \frac{c - 2b\cos\alpha}{b\sin\alpha} + \frac{a - 2c\cos\beta}{c\sin\beta}
      \]
    </div>
    <p>jednako:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">\(-2\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">\(-1\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">Nijedan</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (N)</div>
        <div class="value">Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Koristićemo dve klasične formule iz trigonometrije trougla: <span class="highlight">formulu projekcije</span>
       i <span class="highlight">sinusnu teoremu</span>. Formulom projekcije transformišemo brojilac svake frakcije,
       a zatim sinusnom teoremom prevodimo stranice u funkcije uglova. Pokazaćemo da se svaki razlomak
       svodi na razliku kotangenasa, a ukupan zbir teleskopski poništava.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Formula projekcije:</strong> U trouglu sa stranama \(a, b, c\) naspram uglova \(\alpha, \beta, \gamma\):
            \[
            a = b\cos\gamma + c\cos\beta, \quad b = a\cos\gamma + c\cos\alpha, \quad c = a\cos\beta + b\cos\alpha
            \]
          </li>
          <li><strong>Sinusna teorema:</strong> \(\dfrac{a}{\sin\alpha} = \dfrac{b}{\sin\beta} = \dfrac{c}{\sin\gamma} = 2R\), gde je \(R\) poluprečnik opisanog kruga.</li>
          <li><strong>Adiciiona formula:</strong> \(\sin(\alpha - \beta) = \sin\alpha\cos\beta - \cos\alpha\sin\beta\)</li>
          <li><strong>Razdvajanje razlomka:</strong> \(\dfrac{\sin(\alpha - \beta)}{\sin\alpha\sin\beta} = \dfrac{\cos\beta}{\sin\beta} - \dfrac{\cos\alpha}{\sin\alpha} = \cot\beta - \cot\alpha\)</li>
          <li><strong>Zbir uglova trougla:</strong> \(\alpha + \beta + \gamma = \pi\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Trougao sa obeleženim stranama, uglovima i projekcijama. Prevucite tačke da vidite kako se trougao menja:</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="500"></canvas>
    </div>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Transformišemo brojilac prvog razlomka formulom projekcije</h3>
        <p>Formula projekcije za stranu \(b\) glasi:</p>
        <div class="math-box">
          \[ b = a\cos\gamma + c\cos\alpha \]
        </div>
        <p>Uvrštavamo u brojilac prvog razlomka:</p>
        <div class="math-box">
          \[
          b - 2a\cos\gamma = (a\cos\gamma + c\cos\alpha) - 2a\cos\gamma = c\cos\alpha - a\cos\gamma
          \]
        </div>
        <p>Dakle, prvi razlomak postaje:</p>
        <div class="math-box">
          \[
          \frac{b - 2a\cos\gamma}{a\sin\gamma} = \frac{c\cos\alpha - a\cos\gamma}{a\sin\gamma}
          \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Primenjujemo sinusnu teoremu</h3>
        <p>Po sinusnoj teoremi važi \(a = 2R\sin\alpha\), \(b = 2R\sin\beta\), \(c = 2R\sin\gamma\). Zamenjujemo u prvi razlomak:</p>
        <div class="math-box">
          \[
          \frac{c\cos\alpha - a\cos\gamma}{a\sin\gamma}
          = \frac{2R\sin\gamma\cos\alpha - 2R\sin\alpha\cos\gamma}{2R\sin\alpha\sin\gamma}
          \]
        </div>
        <p>Skraćujemo \(2R\) i prepoznajemo adiciionu formulu u brojiocu:</p>
        <div class="math-box">
          \[
          = \frac{\sin\gamma\cos\alpha - \sin\alpha\cos\gamma}{\sin\alpha\sin\gamma}
          = \frac{\sin(\gamma - \alpha)}{\sin\alpha\sin\gamma}
          \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Razdvajamo na razliku kotangenasa</h3>
        <p>Razlomak rastavljamo na dva sabirka:</p>
        <div class="math-box">
          \[
          \frac{\sin(\gamma - \alpha)}{\sin\alpha\sin\gamma}
          = \frac{\sin\gamma\cos\alpha - \cos\gamma\sin\alpha}{\sin\alpha\sin\gamma}
          = \frac{\cos\alpha}{\sin\alpha} - \frac{\cos\gamma}{\sin\gamma}
          = \cot\alpha - \cot\gamma
          \]
        </div>
        <p>Dakle, <span class="highlight">prvi razlomak</span> je jednak \(\cot\alpha - \cot\gamma\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zašto važi razdvajanje na kotangenase?</summary>
      <div class="details-content">
        <p>Polazimo od razlomka i jednostavno ga razbijamo:</p>
        <div class="math-box">
          \[
          \frac{\sin\gamma\cos\alpha - \cos\gamma\sin\alpha}{\sin\alpha\sin\gamma}
          = \frac{\sin\gamma\cos\alpha}{\sin\alpha\sin\gamma} - \frac{\cos\gamma\sin\alpha}{\sin\alpha\sin\gamma}
          = \frac{\cos\alpha}{\sin\alpha} - \frac{\cos\gamma}{\sin\gamma}
          \]
        </div>
        <p>A po definiciji, \(\cot x = \cos x / \sin x\), pa dobijamo \(\cot\alpha - \cot\gamma\).</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Analogno transformišemo drugi i treći razlomak</h3>
        <p>Potpuno istom tehnikom za <strong>drugi razlomak</strong> koristimo projekciju \(c = a\cos\beta + b\cos\alpha\):</p>
        <div class="math-box">
          \[
          c - 2b\cos\alpha = a\cos\beta - b\cos\alpha
          \]
        </div>
        <p>Primenom sinusne teoreme:</p>
        <div class="math-box">
          \[
          \frac{a\cos\beta - b\cos\alpha}{b\sin\alpha}
          = \frac{2R\sin\alpha\cos\beta - 2R\sin\beta\cos\alpha}{2R\sin\beta\sin\alpha}
          = \frac{\sin(\alpha - \beta)}{\sin\beta\sin\alpha}
          = \cot\beta - \cot\alpha
          \]
        </div>
        <p>Za <strong>treći razlomak</strong> koristimo projekciju \(a = b\cos\gamma + c\cos\beta\):</p>
        <div class="math-box">
          \[
          a - 2c\cos\beta = b\cos\gamma - c\cos\beta
          \]
        </div>
        <p>Primenom sinusne teoreme:</p>
        <div class="math-box">
          \[
          \frac{b\cos\gamma - c\cos\beta}{c\sin\beta}
          = \frac{2R\sin\beta\cos\gamma - 2R\sin\gamma\cos\beta}{2R\sin\gamma\sin\beta}
          = \frac{\sin(\beta - \gamma)}{\sin\gamma\sin\beta}
          = \cot\gamma - \cot\beta
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Pregled sva tri razlomka</summary>
      <div class="details-content">
        <p>Rezimiramo rezultate transformacija:</p>
        <table class="telescope-table">
          <tr>
            <th>Razlomak</th>
            <th>Jednako</th>
          </tr>
          <tr>
            <td>\(\dfrac{b - 2a\cos\gamma}{a\sin\gamma}\)</td>
            <td>\(\cot\alpha - \cot\gamma\)</td>
          </tr>
          <tr>
            <td>\(\dfrac{c - 2b\cos\alpha}{b\sin\alpha}\)</td>
            <td>\(\cot\beta - \cot\alpha\)</td>
          </tr>
          <tr>
            <td>\(\dfrac{a - 2c\cos\beta}{c\sin\beta}\)</td>
            <td>\(\cot\gamma - \cot\beta\)</td>
          </tr>
        </table>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Sabiramo sve tri frakcije -- teleskopsko poništavanje</h3>
        <p>Saberimo rezultate:</p>
        <div class="math-box">
          \[
          (\cot\alpha - \cot\gamma) + (\cot\beta - \cot\alpha) + (\cot\gamma - \cot\beta)
          \]
        </div>
        <p>Primetimo da se svaki kotangens pojavljuje jednom sa znakom \(+\) i jednom sa znakom \(-\):</p>
        <div class="math-box">
          \[
          = \cancel{\cot\alpha} - \cancel{\cot\gamma} + \cancel{\cot\beta} - \cancel{\cot\alpha} + \cancel{\cot\gamma} - \cancel{\cot\beta} = \mathbf{0}
          \]
        </div>
        <p>Ovo je klasičan <span class="highlight">teleskopski zbir</span> -- lanac razlika gde se susedni članovi uzajamno poništavaju, i ostaje samo nula!</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Numerička verifikacija za jednakostranični trougao</summary>
      <div class="details-content">
        <p>Za jednakostranični trougao važi \(\alpha = \beta = \gamma = 60°\) i \(a = b = c\). Uvrštavamo:</p>
        <div class="math-box">
          \[
          \frac{a - 2a\cos 60°}{a\sin 60°} = \frac{a - 2a \cdot \frac{1}{2}}{a \cdot \frac{\sqrt{3}}{2}} = \frac{a - a}{\frac{a\sqrt{3}}{2}} = \frac{0}{\frac{a\sqrt{3}}{2}} = 0
          \]
        </div>
        <p>Svaki od tri razlomka daje 0, pa je ukupan zbir \(0 + 0 + 0 = 0\). \(\checkmark\)</p>
      </div>
    </details>

    <!-- Checkpoint 4 -->
    <details>
      <summary>Proveri se: Numerička verifikacija za trougao 30-60-90</summary>
      <div class="details-content">
        <p>Neka je \(\alpha = 30°\), \(\beta = 60°\), \(\gamma = 90°\), pa su stranice \(a = 1\), \(b = \sqrt{3}\), \(c = 2\).</p>
        <div class="math-box">
          \[
          \text{I: } \frac{\sqrt{3} - 2 \cdot 1 \cdot \cos 90°}{1 \cdot \sin 90°} = \frac{\sqrt{3} - 0}{1} = \sqrt{3}
          \]
          \[
          \text{II: } \frac{2 - 2\sqrt{3} \cdot \cos 30°}{\sqrt{3} \cdot \sin 30°} = \frac{2 - 2\sqrt{3} \cdot \frac{\sqrt{3}}{2}}{\sqrt{3} \cdot \frac{1}{2}} = \frac{2 - 3}{\frac{\sqrt{3}}{2}} = \frac{-1}{\frac{\sqrt{3}}{2}} = \frac{-2}{\sqrt{3}}
          \]
          \[
          \text{III: } \frac{1 - 2 \cdot 2 \cdot \cos 60°}{2 \cdot \sin 60°} = \frac{1 - 2}{2 \cdot \frac{\sqrt{3}}{2}} = \frac{-1}{\sqrt{3}}
          \]
        </div>
        <p>Zbir:</p>
        <div class="math-box">
          \[
          \sqrt{3} + \frac{-2}{\sqrt{3}} + \frac{-1}{\sqrt{3}} = \sqrt{3} - \frac{3}{\sqrt{3}} = \sqrt{3} - \sqrt{3} = 0 \quad \checkmark
          \]
        </div>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Kombinacija formule projekcije i sinusne teoreme transformiše svaki razlomak u razliku
       dva kotangenasa. Tri takve razlike formiraju <strong>teleskopski (ciklični) zbir</strong>:
       svaki kotangens se pojavljuje jednom sa pozitivnim i jednom sa negativnim predznakom.
       Rezultat je uvek nula, bez obzira na oblik trougla. Ovo je elegantan primer kako
       fundamentalne identitete trougla mogu dovesti do potpunog poništavanja u cikličnim izrazima.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) \(-2\)</div>
      <div class="option-chip">(B) \(-1\)</div>
      <div class="option-chip correct">(C) \(0\)</div>
      <div class="option-chip">(D) \(1\)</div>
      <div class="option-chip">(E) Nijedan</div>
      <div class="option-chip">(N) Ne znam</div>
    </div>
    <div class="answer-value">Odgovor je (C) 0</div>
    <div class="provera-note">
      <strong>Provera:</strong> Verifikovano na jednakostraničnom trouglu (\(\alpha = \beta = \gamma = 60°\))
      i na trouglu 30-60-90, u oba slučaja zbir je tačno 0.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Česte greške</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Nepoznavanje formule projekcije:</strong> Bez ove formule,
        zadatak se čini veoma komplikovanim. Ključ je znati da se stranica trougla može izraziti
        kao zbir projekcija druge dve stranice na nju: \(b = a\cos\gamma + c\cos\alpha\).</li>
      <li style="margin-bottom: 10px;"><strong>Greška u znaku pri adiciinoj formuli:</strong>
        Lako se pogreši sa predznakom u \(\sin(\gamma - \alpha)\) u odnosu na \(\sin(\alpha - \gamma)\).
        Pažljivo pratite koji ugao se oduzima od kog.</li>
      <li style="margin-bottom: 10px;"><strong>Pokušaj direktne primene kosinusne teoreme:</strong>
        Iako kosinusna teorema daje vezu između stranica i uglova, njena primena ovde je mnogo
        komplikovanija nego pristup sa formulom projekcije.</li>
      <li><strong>Propuštanje teleskopskog obrasca:</strong> Čak i ako se korektno izvedu
        razlike kotangenasa, studenti ponekad ne prepoznaju da je u pitanju ciklični teleskopski zbir
        koji se poništava.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Koristeći istu tehniku, pokažite da za proizvoljni trougao važi:</p>
    <div class="math-box">
      \[
      \frac{b - a\cos\gamma}{a\sin\gamma} = \frac{c - b\cos\alpha}{b\sin\alpha} = \frac{a - c\cos\beta}{c\sin\beta}
      \]
    </div>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="details-content">
        <p>Primeni formulu projekcije na svaki brojilac. Na primer, iz \(b = a\cos\gamma + c\cos\alpha\)
           sledi \(b - a\cos\gamma = c\cos\alpha\), pa prvi razlomak postaje
           \(\frac{c\cos\alpha}{a\sin\gamma}\). Sada primeni sinusnu teoremu da pokažeš da su sva
           tri razlomka jednaka. Kolika im je zajednička vrednost?</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  // Triangle vertices (in logical coords, will be mapped to canvas)
  let vertices = [
    { x: 200, y: 400 },  // A (alpha)
    { x: 600, y: 400 },  // B (beta)
    { x: 350, y: 120 }   // C (gamma)
  ];

  let dragging = -1;
  let hovered = -1;

  function dist(p1, p2) {
    return Math.sqrt((p1.x - p2.x) ** 2 + (p1.y - p2.y) ** 2);
  }

  function angle(p, v1, v2) {
    const a1 = Math.atan2(v1.y - p.y, v1.x - p.x);
    const a2 = Math.atan2(v2.y - p.y, v2.x - p.x);
    let d = a1 - a2;
    while (d < -Math.PI) d += 2 * Math.PI;
    while (d > Math.PI) d -= 2 * Math.PI;
    return Math.abs(d);
  }

  function midpoint(p1, p2) {
    return { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };
  }

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 500 * dpr;
    canvas.style.height = '500px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 500;

    // Scale vertices to canvas width
    const scaleX = W / 800;
    const scaleY = H / 500;
    const sv = vertices.map(v => ({ x: v.x * scaleX, y: v.y * scaleY }));

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const [A, B, C] = sv;

    // Compute side lengths
    const a_len = dist(B, C); // side a opposite to A (alpha)
    const b_len = dist(A, C); // side b opposite to B (beta)
    const c_len = dist(A, B); // side c opposite to C (gamma)

    // Compute angles
    const alpha = angle(A, B, C);
    const beta = angle(B, A, C);
    const gamma = angle(C, A, B);

    // Draw filled triangle
    ctx.fillStyle = 'rgba(96,165,250,0.05)';
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.fill();

    // Draw triangle edges
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.stroke();

    // Draw angle arcs
    function drawAngleArc(p, v1, v2, radius, color, label) {
      const a1 = Math.atan2(v1.y - p.y, v1.x - p.x);
      const a2 = Math.atan2(v2.y - p.y, v2.x - p.x);

      let start = a1;
      let end = a2;
      let diff = end - start;
      while (diff < -Math.PI) diff += 2 * Math.PI;
      while (diff > Math.PI) diff -= 2 * Math.PI;
      if (diff < 0) {
        start = a2;
        end = a1;
        diff = -diff;
      }

      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(p.x, p.y, radius, start, start + diff);
      ctx.stroke();

      // Label
      const midAngle = start + diff / 2;
      const lx = p.x + (radius + 16) * Math.cos(midAngle);
      const ly = p.y + (radius + 16) * Math.sin(midAngle);
      ctx.fillStyle = color;
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, lx, ly);
    }

    const arcR = 30 * Math.min(scaleX, scaleY);
    drawAngleArc(A, B, C, arcR, '#f472b6', '\u03B1');
    drawAngleArc(B, A, C, arcR, '#a78bfa', '\u03B2');
    drawAngleArc(C, A, B, arcR, '#34d399', '\u03B3');

    // Side labels
    function drawSideLabel(p1, p2, label, color) {
      const m = midpoint(p1, p2);
      const dx = p2.x - p1.x;
      const dy = p2.y - p1.y;
      const len = Math.sqrt(dx * dx + dy * dy);
      const nx = -dy / len;
      const ny = dx / len;
      const offset = 20;
      const lx = m.x + nx * offset;
      const ly = m.y + ny * offset;

      ctx.fillStyle = color;
      ctx.font = 'bold italic 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, lx, ly);
    }

    drawSideLabel(B, C, 'a', '#f472b6');
    drawSideLabel(A, C, 'b', '#a78bfa');
    drawSideLabel(A, B, 'c', '#34d399');

    // Vertex labels
    function drawVertexLabel(p, other1, other2, label, color) {
      const mx = (other1.x + other2.x) / 2;
      const my = (other1.y + other2.y) / 2;
      const dx = p.x - mx;
      const dy = p.y - my;
      const d = Math.sqrt(dx * dx + dy * dy);
      const offset = 28;
      const lx = p.x + (dx / d) * offset;
      const ly = p.y + (dy / d) * offset;

      ctx.fillStyle = color;
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, lx, ly);
    }

    drawVertexLabel(A, B, C, 'A', '#f472b6');
    drawVertexLabel(B, A, C, 'B', '#a78bfa');
    drawVertexLabel(C, A, B, 'C', '#34d399');

    // Draw vertex dots
    const colors = ['#f472b6', '#a78bfa', '#34d399'];
    sv.forEach((p, i) => {
      ctx.fillStyle = colors[i];
      ctx.beginPath();
      ctx.arc(p.x, p.y, i === hovered ? 10 : 7, 0, Math.PI * 2);
      ctx.fill();

      if (i === hovered) {
        ctx.strokeStyle = colors[i];
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 14, 0, Math.PI * 2);
        ctx.stroke();
      }
    });

    // Info text at the bottom
    const alphaD = (alpha * 180 / Math.PI).toFixed(1).replace('.', ',');
    const betaD = (beta * 180 / Math.PI).toFixed(1).replace('.', ',');
    const gammaD = (gamma * 180 / Math.PI).toFixed(1).replace('.', ',');

    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03B1 = ' + alphaD + '\u00B0   \u03B2 = ' + betaD + '\u00B0   \u03B3 = ' + gammaD + '\u00B0', W / 2, H - 45);

    // Compute the actual expression value
    const aRad = alpha, bRad = beta, gRad = gamma;
    const aS = a_len, bS = b_len, cS = c_len;
    const term1 = (bS - 2 * aS * Math.cos(gRad)) / (aS * Math.sin(gRad));
    const term2 = (cS - 2 * bS * Math.cos(aRad)) / (bS * Math.sin(aRad));
    const term3 = (aS - 2 * cS * Math.cos(bRad)) / (cS * Math.sin(bRad));
    const total = term1 + term2 + term3;
    const totalStr = total.toFixed(6).replace('.', ',');

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Zbir = ' + totalStr + '  (uvek 0 za svaki trougao!)', W / 2, H - 20);

    // Drag instruction
    ctx.fillStyle = '#475569';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Prevucite temena da promenite oblik trougla', 14, 20);
  }

  function getCanvasPos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = rect.width / 800;
    const scaleY = 500 / 500;
    let cx, cy;
    if (e.touches) {
      cx = (e.touches[0].clientX - rect.left) / scaleX;
      cy = (e.touches[0].clientY - rect.top) / scaleY;
    } else {
      cx = (e.clientX - rect.left) / scaleX;
      cy = (e.clientY - rect.top) / scaleY;
    }
    return { x: cx, y: cy };
  }

  function findNearest(pos) {
    let minD = Infinity;
    let idx = -1;
    vertices.forEach((v, i) => {
      const d = dist(pos, v);
      if (d < 30 && d < minD) {
        minD = d;
        idx = i;
      }
    });
    return idx;
  }

  canvas.addEventListener('mousedown', (e) => {
    const pos = getCanvasPos(e);
    dragging = findNearest(pos);
  });

  canvas.addEventListener('mousemove', (e) => {
    const pos = getCanvasPos(e);
    if (dragging >= 0) {
      vertices[dragging].x = Math.max(20, Math.min(780, pos.x));
      vertices[dragging].y = Math.max(20, Math.min(480, pos.y));
      draw();
    } else {
      const newHovered = findNearest(pos);
      if (newHovered !== hovered) {
        hovered = newHovered;
        canvas.style.cursor = hovered >= 0 ? 'grab' : 'default';
        draw();
      }
    }
  });

  canvas.addEventListener('mouseup', () => { dragging = -1; });
  canvas.addEventListener('mouseleave', () => { dragging = -1; hovered = -1; draw(); });

  // Touch support
  canvas.addEventListener('touchstart', (e) => {
    e.preventDefault();
    const pos = getCanvasPos(e);
    dragging = findNearest(pos);
  }, { passive: false });

  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    if (dragging >= 0) {
      const pos = getCanvasPos(e);
      vertices[dragging].x = Math.max(20, Math.min(780, pos.x));
      vertices[dragging].y = Math.max(20, Math.min(480, pos.y));
      draw();
    }
  }, { passive: false });

  canvas.addEventListener('touchend', () => { dragging = -1; });

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Teleskopski zbir kotangenasa u trouglu",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrija trougla", "sinusna teorema", "formula projekcije", "kotangens", "teleskopski zbir", "ciklički zbir"]
}
BRAINSPARK_META-->