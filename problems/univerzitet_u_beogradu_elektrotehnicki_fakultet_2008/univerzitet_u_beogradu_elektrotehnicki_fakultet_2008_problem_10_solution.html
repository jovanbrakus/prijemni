<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ugao između tangenata na parabolu iz spoljašnje tačke</title>

<script type="text/info" id="logic-scratchpad">
Problem: Naći oštar ugao φ koji grade tangente povučene iz tačke (-4, 1) na parabolu y² = 2x.

Parabola y² = 2x ima parametar 2p = 2, dakle p = 1.
Parametarski oblik tačke na paraboli: (t²/2, t).

Jednačina tangente na parabolu y² = 2x u tački (t²/2, t):
  y·t = x + t²/2

Tangenta prolazi kroz tačku (-4, 1):
  1·t = -4 + t²/2
  t = -4 + t²/2
  2t = -8 + t²
  t² - 2t - 8 = 0
  (t - 4)(t + 2) = 0
  t₁ = 4 ili t₂ = -2

Za t₁ = 4:
  y·4 = x + 16/2 → 4y = x + 8 → x - 4y + 8 = 0
  Nagib: m₁ = 1/4

Za t₂ = -2:
  y·(-2) = x + 4/2 → -2y = x + 2 → x + 2y + 2 = 0
  Nagib: m₂ = -1/2

Ugao između tangenata:
  tan φ = |m₁ - m₂| / (1 + m₁·m₂)
        = |1/4 - (-1/2)| / (1 + (1/4)·(-1/2))
        = |1/4 + 1/2| / (1 - 1/8)
        = |3/4| / (7/8)
        = (3/4) · (8/7)
        = 24/28 = 6/7

Dakle φ = arctg(6/7).
Odgovor: (C)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 140px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.0rem;
  font-weight: 600;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 14px;
  margin-bottom: 8px;
  background: rgba(167,139,250,0.08);
  border-left: 3px solid #a78bfa;
  border-radius: 0 8px 8px 0;
}

.step-container {
  position: relative;
  padding-left: 50px;
  margin-bottom: 20px;
}

.step-badge {
  position: absolute;
  left: 0;
  top: 0;
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
}

.step-title {
  color: #a78bfa;
  font-weight: 700;
  font-size: 1.05rem;
  margin-bottom: 6px;
}

.step-text {
  color: #e2e8f0;
  margin-bottom: 6px;
}

.checkpoint {
  background: rgba(52,211,153,0.08);
  border: 1px solid rgba(52,211,153,0.2);
  border-radius: 8px;
  padding: 10px 14px;
  margin: 10px 0;
}

.checkpoint summary {
  color: #34d399;
}

.answer-box {
  text-align: center;
  padding: 30px;
  border: 2px solid #34d399;
  background: rgba(52,211,153,0.06);
}

.answer-box .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 800;
}

.answer-option {
  color: #34d399;
  font-size: 1.2rem;
  font-weight: 700;
  margin-top: 8px;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
}

.insight-card {
  border-left: 4px solid #f472b6;
}

.pitfall-card {
  border-left: 4px solid #e09468;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 8px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.08);
  border-radius: 8px;
  color: #e2e8f0;
}

.pitfall-list li::before {
  content: "\26A0  ";
  color: #e09468;
}

.challenge-card {
  border-left: 4px solid #60a5fa;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .step-container { padding-left: 42px; }
  .given-grid { flex-direction: column; }
  .given-item { min-width: auto; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Ugao između tangenata na parabolu iz spoljašnje tačke</h1>
  <p class="subtitle">Analitička geometrija — parabola, tangente, ugao između pravih</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Ako sa \(\varphi\) označimo oštar ugao koji grade tangente povučene iz tačke \((-4,\, 1)\) na parabolu \(y^2 = 2x\), tada je ugao \(\varphi\) jednak:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{\pi}{4}\)</div>
      </div>
      <div class="given-item">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{\pi}{2}\)</div>
      </div>
      <div class="given-item">
        <div class="label">(C)</div>
        <div class="value">\(\mathrm{arctg}\dfrac{6}{7}\)</div>
      </div>
      <div class="given-item">
        <div class="label">(D)</div>
        <div class="value">\(\mathrm{arctg}\dfrac{5}{9}\)</div>
      </div>
      <div class="given-item">
        <div class="label">(E)</div>
        <div class="value">\(\mathrm{arctg}\dfrac{2}{7}\)</div>
      </div>
      <div class="given-item">
        <div class="label">(N)</div>
        <div class="value">Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Rešavamo u četiri koraka:</p>
    <ol style="margin: 10px 0 0 24px; color: #e2e8f0;">
      <li>Odredimo parametarski oblik tangente na parabolu \(y^2 = 2x\).</li>
      <li>Postavimo uslov prolaska tangente kroz tačku \((-4,\, 1)\) i nađemo parametre dodirnih tačaka.</li>
      <li>Izračunamo nagibe obe tangente.</li>
      <li>Primenimo formulu za ugao između dve prave i dobijemo \(\varphi\).</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details open>
      <summary>Podsetnik: ključne formule i teoreme</summary>
      <ul class="formula-list">
        <li><strong>Parabola \(y^2 = 2px\):</strong> Tačka na paraboli se može parametarski zapisati kao \(\left(\frac{t^2}{2p},\; t\right)\), gde je parametar \(2p\) fokalni parametar.</li>
        <li><strong>Tangenta na parabolu \(y^2 = 2px\) u tački \((t^2/(2p),\, t)\):</strong> \(\; y \cdot t = p \cdot x + \frac{t^2}{2}\), tj. za \(p = 1\): \(\; y \cdot t = x + \frac{t^2}{2}\).</li>
        <li><strong>Ugao između dve prave:</strong> Ako prave imaju nagibe \(m_1\) i \(m_2\), oštar ugao \(\varphi\) između njih zadovoljava:
        \[\tan \varphi = \frac{|m_1 - m_2|}{1 + m_1 \cdot m_2}\]
        pod uslovom da je \(1 + m_1 m_2 \neq 0\).</li>
        <li><strong>Nagib prave \(ax + by + c = 0\):</strong> \(\; m = -\frac{a}{b}\).</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz: parabola i tangente</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">Parabola \(y^2 = 2x\) (plava), tačka \((-4,\, 1)\) (crvena), obe tangente (ljubičasta i zelena) i ugao \(\varphi\) između njih.</p>
    <canvas id="diagram" height="520"></canvas>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-title">Parametarski oblik i jednačina tangente</div>
      <div class="step-text">
        Parabola \(y^2 = 2x\) ima oblik \(y^2 = 2px\) sa \(2p = 2\), dakle \(p = 1\).<br>
        Svaka tačka na paraboli se može zapisati kao:
      </div>
      <div class="math-box">
        \[ T = \left(\frac{t^2}{2},\; t\right) \]
      </div>
      <div class="step-text">
        Jednačina tangente na parabolu \(y^2 = 2x\) u tački \(T\) glasi:
      </div>
      <div class="math-box">
        \[ y \cdot t = x + \frac{t^2}{2} \]
      </div>
      <div class="step-text">
        Ovo se može proveriti implicitnim diferenciranjem: iz \(y^2 = 2x\) sledi \(2y\,y' = 2\), pa je \(y' = \frac{1}{y} = \frac{1}{t}\). Jednačina tangente u tački \(\left(\frac{t^2}{2},\, t\right)\) sa nagibom \(\frac{1}{t}\) jeste upravo gornja formula.
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <div class="checkpoint">
      <details>
        <summary>Provera: Zašto je nagib tangente \(1/t\)?</summary>
        <p>Iz \(y^2 = 2x\) implicitnim diferenciranjem: \(2y \cdot y' = 2\), pa \(y' = \frac{1}{y}\). U tački gde je \(y = t\), nagib je \(\frac{1}{t}\).</p>
      </details>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-title">Uslov prolaska tangente kroz \((-4,\, 1)\)</div>
      <div class="step-text">
        Tangenta \(y \cdot t = x + \frac{t^2}{2}\) prolazi kroz tačku \((-4,\, 1)\) ako važi:
      </div>
      <div class="math-box">
        \[ 1 \cdot t = -4 + \frac{t^2}{2} \]
      </div>
      <div class="step-text">
        Pomnožimo sa 2:
      </div>
      <div class="math-box">
        \[ 2t = -8 + t^2 \implies t^2 - 2t - 8 = 0 \]
      </div>
      <div class="step-text">
        Rešavamo kvadratnu jednačinu:
      </div>
      <div class="math-box">
        \[ t^2 - 2t - 8 = 0 \implies (t - 4)(t + 2) = 0 \]
      </div>
      <div class="math-box">
        \[ t_1 = 4 \qquad \text{ili} \qquad t_2 = -2 \]
      </div>
      <div class="step-text">
        Dobijamo dva parametra, što znači da postoje <span class="highlight">dve tangente</span> iz date tačke na parabolu.
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <div class="checkpoint">
      <details>
        <summary>Provera: Da li su obe tangente validne?</summary>
        <p>Za \(t_1 = 4\): dodirna tačka je \((8,\, 4)\). Proverimo: \(4^2 = 16 = 2 \cdot 8\). Tačno.<br>
        Za \(t_2 = -2\): dodirna tačka je \((2,\, -2)\). Proverimo: \((-2)^2 = 4 = 2 \cdot 2\). Tačno.</p>
      </details>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-title">Jednačine i nagibi tangenata</div>
      <div class="step-text">
        <strong>Tangenta za \(t_1 = 4\):</strong>
      </div>
      <div class="math-box">
        \[ y \cdot 4 = x + \frac{16}{2} \implies 4y = x + 8 \implies x - 4y + 8 = 0 \]
      </div>
      <div class="step-text">
        Nagib: \(m_1 = \frac{1}{4}\)
      </div>
      <div class="step-text" style="margin-top: 14px;">
        <strong>Tangenta za \(t_2 = -2\):</strong>
      </div>
      <div class="math-box">
        \[ y \cdot (-2) = x + \frac{4}{2} \implies -2y = x + 2 \implies x + 2y + 2 = 0 \]
      </div>
      <div class="step-text">
        Nagib: \(m_2 = -\frac{1}{2}\)
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <div class="checkpoint">
      <details>
        <summary>Provera: Da li obe tangente prolaze kroz \((-4,\, 1)\)?</summary>
        <p>Tangenta 1: \(-4 - 4 \cdot 1 + 8 = -4 - 4 + 8 = 0\). Tačno.<br>
        Tangenta 2: \(-4 + 2 \cdot 1 + 2 = -4 + 2 + 2 = 0\). Tačno.</p>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-title">Ugao između tangenata</div>
      <div class="step-text">
        Primenjujemo formulu za ugao između dve prave sa nagibima \(m_1 = \frac{1}{4}\) i \(m_2 = -\frac{1}{2}\):
      </div>
      <div class="math-box">
        \[ \tan \varphi = \frac{|m_1 - m_2|}{1 + m_1 \cdot m_2} \]
      </div>
      <div class="step-text">
        Izračunajmo brojilac:
      </div>
      <div class="math-box">
        \[ |m_1 - m_2| = \left|\frac{1}{4} - \left(-\frac{1}{2}\right)\right| = \left|\frac{1}{4} + \frac{1}{2}\right| = \left|\frac{1}{4} + \frac{2}{4}\right| = \frac{3}{4} \]
      </div>
      <div class="step-text">
        Izračunajmo imenilac:
      </div>
      <div class="math-box">
        \[ 1 + m_1 \cdot m_2 = 1 + \frac{1}{4} \cdot \left(-\frac{1}{2}\right) = 1 - \frac{1}{8} = \frac{7}{8} \]
      </div>
      <div class="step-text">
        Konačno:
      </div>
      <div class="math-box">
        \[ \tan \varphi = \frac{\dfrac{3}{4}}{\dfrac{7}{8}} = \frac{3}{4} \cdot \frac{8}{7} = \frac{24}{28} = \frac{6}{7} \]
      </div>
      <div class="math-box">
        \[ \boxed{\varphi = \mathrm{arctg}\,\frac{6}{7}} \]
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Ključni uvid</h2>
    <p>Parametarski pristup je najelegantniji put do rešenja ovog zadatka. Umesto da tražimo tangente u obliku \(y = kx + n\) i postavljamo uslov tangentnosti (diskriminanta jednaka nuli), koristimo <span class="highlight">parametarsku jednačinu tangente</span>:</p>
    <div class="math-box">
      \[ y \cdot t = x + \frac{t^2}{2} \]
    </div>
    <p>Time se problem svodi na rešavanje <span class="highlight">jedne kvadratne jednačine</span> po parametru \(t\), umesto sistema koji uključuje diskriminantu. Svako rešenje \(t\) direktno daje i dodirnu tačku i nagib tangente \(\left(m = \frac{1}{t}\right)\).</p>
  </div>

  <!-- Final Answer -->
  <div class="card answer-box">
    <div class="answer-label">Konačan odgovor</div>
    <div class="answer-value">\(\varphi = \mathrm{arctg}\,\dfrac{6}{7}\)</div>
    <div class="answer-option">Tačan odgovor: (C)</div>
    <div class="verification">
      Verifikacija: \(\tan\varphi = \frac{|1/4 - (-1/2)|}{1 + (1/4)(-1/2)} = \frac{3/4}{7/8} = \frac{6}{7}\). Pošto je \(0 < \frac{6}{7} < 1\), ugao je oštar (manji od \(\frac{\pi}{4}\)), što odgovara vizuelnom prikazu.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>Pogrešna primena formule za ugao — zaboravljen apsolutni iznos u brojiocu ili pogrešan znak u imeniocu. Zapamti: u formuli stoji \(|m_1 - m_2|\) i \(1 + m_1 m_2\).</li>
      <li>Greška u znaku nagiba: za pravu \(x + 2y + 2 = 0\) nagib je \(m = -\frac{1}{2}\), a ne \(\frac{1}{2}\). Obrati pažnju na predznak.</li>
      <li>Mešanje parametarskog oblika: parametar \(t\) je \(y\)-koordinata dodirne tačke (ne \(x\)-koordinata). Zato nagib tangente direktno iznosi \(\frac{1}{t}\).</li>
      <li>Računska greška pri množenju razlomaka: \(\frac{3/4}{7/8} = \frac{3}{4} \cdot \frac{8}{7} = \frac{6}{7}\), a ne \(\frac{3 \cdot 7}{4 \cdot 8}\).</li>
      <li>Zaboravljanje provere da je \(1 + m_1 m_2 \neq 0\). Da je ovaj izraz bio nula, tangente bi bile međusobno normalne (ugao \(\pi/2\)).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Za koju tačku \(P = (a,\, 0)\) na negativnom delu \(x\)-ose tangente iz \(P\) na parabolu \(y^2 = 2x\) zaklapaju ugao od \(\frac{\pi}{4}\)?</p>
    <details>
      <summary>Prikaži nagoveštaj</summary>
      <p>Tangenta iz \((a, 0)\): uslov prolaska daje \(0 = a + \frac{t^2}{2}\), tj. \(t^2 = -2a\). Nagibi su \(m_{1,2} = \frac{1}{t_{1,2}}\), gde su \(t_1\) i \(t_2\) koreni sa \(t_1 t_2 = -2a\) i \(t_1 + t_2 = 0\). Iz \(\tan\frac{\pi}{4} = 1\) i formule za ugao dobij \(a = -\frac{3}{2}\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 520 * dpr;
    ctx.scale(dpr, dpr);

    const w = rect.width;
    const h = 520;

    // Clear
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, w, h);

    // Margins
    const marginLeft = 60;
    const marginRight = 40;
    const marginTop = 50;
    const marginBottom = 60;
    const plotW = w - marginLeft - marginRight;
    const plotH = h - marginTop - marginBottom;

    // Coordinate ranges
    const xMin = -6;
    const xMax = 12;
    const yMin = -6;
    const yMax = 6;
    const xRange = xMax - xMin;
    const yRange = yMax - yMin;

    // Coordinate transforms (Y-axis UP)
    function toCanvasX(x) { return marginLeft + ((x - xMin) / xRange) * plotW; }
    function toCanvasY(y) { return marginTop + ((yMax - y) / yRange) * plotH; }

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Parabola y\u00B2 = 2x, tangente iz ta\u010Dke (\u22124, 1) i ugao \u03C6', w / 2, 25);

    // Grid
    ctx.strokeStyle = 'rgba(51,65,85,0.4)';
    ctx.lineWidth = 0.5;
    for (let xi = Math.ceil(xMin); xi <= Math.floor(xMax); xi++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(xi), marginTop);
      ctx.lineTo(toCanvasX(xi), marginTop + plotH);
      ctx.stroke();
    }
    for (let yi = Math.ceil(yMin); yi <= Math.floor(yMax); yi++) {
      ctx.beginPath();
      ctx.moveTo(marginLeft, toCanvasY(yi));
      ctx.lineTo(marginLeft + plotW, toCanvasY(yi));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 2;
    // X-axis
    ctx.beginPath();
    ctx.moveTo(marginLeft, toCanvasY(0));
    ctx.lineTo(marginLeft + plotW, toCanvasY(0));
    ctx.stroke();
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), marginTop);
    ctx.lineTo(toCanvasX(0), marginTop + plotH);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let xi = Math.ceil(xMin); xi <= Math.floor(xMax); xi += 2) {
      if (xi === 0) continue;
      ctx.fillText(xi.toString(), toCanvasX(xi), toCanvasY(0) + 16);
    }
    ctx.textAlign = 'right';
    for (let yi = Math.ceil(yMin); yi <= Math.floor(yMax); yi += 2) {
      if (yi === 0) continue;
      ctx.fillText(yi.toString(), toCanvasX(0) - 8, toCanvasY(yi) + 4);
    }

    // Axis titles
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', w - 20, toCanvasY(0) - 6);
    ctx.fillText('y', toCanvasX(0) + 14, marginTop + 10);

    // Draw parabola y² = 2x => x = y²/2
    // Upper branch
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let t = 0; t <= yMax + 1; t += 0.02) {
      const px = t * t / 2;
      const py = t;
      if (px > xMax + 1) break;
      const cx = toCanvasX(px);
      const cy = toCanvasY(py);
      if (first) { ctx.moveTo(cx, cy); first = false; }
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Lower branch
    ctx.beginPath();
    first = true;
    for (let t = 0; t >= yMin - 1; t -= 0.02) {
      const px = t * t / 2;
      const py = t;
      if (px > xMax + 1) break;
      const cx = toCanvasX(px);
      const cy = toCanvasY(py);
      if (first) { ctx.moveTo(cx, cy); first = false; }
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Label the parabola
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y\u00B2 = 2x', toCanvasX(9) + 4, toCanvasY(Math.sqrt(2 * 9)) - 8);

    // Tangent line 1: x - 4y + 8 = 0  =>  y = (x + 8)/4  =>  y = x/4 + 2
    function tangent1Y(x) { return x / 4 + 2; }
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    const t1x1 = xMin;
    const t1x2 = xMax;
    ctx.moveTo(toCanvasX(t1x1), toCanvasY(tangent1Y(t1x1)));
    ctx.lineTo(toCanvasX(t1x2), toCanvasY(tangent1Y(t1x2)));
    ctx.stroke();

    // Tangent line 2: x + 2y + 2 = 0  =>  y = -(x + 2)/2  =>  y = -x/2 - 1
    function tangent2Y(x) { return -x / 2 - 1; }
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(t1x1), toCanvasY(tangent2Y(t1x1)));
    ctx.lineTo(toCanvasX(t1x2), toCanvasY(tangent2Y(t1x2)));
    ctx.stroke();

    // Tangent labels
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x \u2212 4y + 8 = 0', toCanvasX(6) + 4, toCanvasY(tangent1Y(6)) - 8);

    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'left';
    ctx.fillText('x + 2y + 2 = 0', toCanvasX(6) + 4, toCanvasY(tangent2Y(6)) + 18);

    // Touch points on the parabola
    // T1 = (8, 4)
    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(toCanvasX(8), toCanvasY(4), 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('T\u2081(8, 4)', toCanvasX(8) + 8, toCanvasY(4) - 6);

    // T2 = (2, -2)
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(toCanvasX(2), toCanvasY(-2), 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#34d399';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('T\u2082(2, \u22122)', toCanvasX(2) + 8, toCanvasY(-2) + 16);

    // External point P = (-4, 1)
    ctx.fillStyle = '#f87171';
    ctx.beginPath();
    ctx.arc(toCanvasX(-4), toCanvasY(1), 6, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#f87171';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(toCanvasX(-4), toCanvasY(1), 10, 0, Math.PI * 2);
    ctx.stroke();

    ctx.fillStyle = '#f87171';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('P(\u22124, 1)', toCanvasX(-4) - 14, toCanvasY(1) - 6);

    // Draw the angle arc between the two tangent lines at point P = (-4, 1)
    const px = toCanvasX(-4);
    const py = toCanvasY(1);

    // Angles of the tangent directions FROM point P
    // Tangent 1 goes toward (8, 4): direction from (-4,1) to (8,4) is (12, 3)
    const angle1 = Math.atan2(-(4 - 1), (8 - (-4))); // canvas coords: y inverted
    const angle1real = Math.atan2((4 - 1), (8 - (-4))); // real math angle

    // Tangent 2 goes toward (2, -2): direction from (-4,1) to (2,-2) is (6, -3)
    const angle2 = Math.atan2(-(-2 - 1), (2 - (-4)));
    const angle2real = Math.atan2((-2 - 1), (2 - (-4)));

    // Draw arc for the angle (in canvas coordinates)
    const arcRadius = 35;
    // Use canvas angles (y-inverted)
    const startAngle = Math.min(angle1, angle2);
    const endAngle = Math.max(angle1, angle2);

    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(px, py, arcRadius, startAngle, endAngle);
    ctx.stroke();

    // Label the angle
    const midAngle = (startAngle + endAngle) / 2;
    const labelR = arcRadius + 18;
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03C6', px + labelR * Math.cos(midAngle), py + labelR * Math.sin(midAngle) + 4);

    // Focus point F = (1/2, 0)
    ctx.fillStyle = '#fbbf24';
    ctx.beginPath();
    ctx.arc(toCanvasX(0.5), toCanvasY(0), 3, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#fbbf24';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('F(\u00BD, 0)', toCanvasX(0.5), toCanvasY(0) + 16);

    // Legend
    const legendX = w - marginRight - 190;
    const legendY = marginTop + 15;
    const legendItems = [
      { color: '#60a5fa', label: 'Parabola y\u00B2 = 2x' },
      { color: '#a78bfa', label: 'Tangenta 1 (m\u2081 = 1/4)' },
      { color: '#34d399', label: 'Tangenta 2 (m\u2082 = \u22121/2)' },
      { color: '#f87171', label: 'Ta\u010Dka P(\u22124, 1)' },
      { color: '#fbbf24', label: 'Ugao \u03C6 = arctg(6/7)' }
    ];
    const legendSpacing = 22;

    ctx.fillStyle = 'rgba(15,23,42,0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    roundRect(ctx, legendX - 12, legendY - 12, 200, legendItems.length * legendSpacing + 16, 8);
    ctx.fill();
    ctx.stroke();

    legendItems.forEach((item, i) => {
      const y = legendY + i * legendSpacing;
      ctx.fillStyle = item.color;
      ctx.beginPath();
      ctx.arc(legendX + 6, y + 6, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = item.color;
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(item.label, legendX + 18, y + 11);
    });
  }

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Ugao između tangenata na parabolu iz spoljašnje tačke",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["parabola", "tangenta", "ugao između pravih", "analitička geometrija", "konični preseci"]
}
BRAINSPARK_META-->