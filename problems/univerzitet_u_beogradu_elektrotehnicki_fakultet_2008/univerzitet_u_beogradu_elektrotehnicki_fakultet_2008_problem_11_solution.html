<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Težišne duži pravouglog trougla</title>

<script type="text/info" id="logic-scratchpad">
Problem: Pravougli trougao sa katetama a, b i hipotenzuom c.
Težišne duži: t_a (ka stranici a), t_b (ka stranici b), t_c (ka stranici c).
Naći: (t_a² + t_b² + t_c²) / (a² + b²)

Pitagorina teorema: c² = a² + b²

Formula za težišnu duž ka stranici dužine s u trouglu sa stranama p, q, s:
  m_s² = (2p² + 2q² - s²) / 4

Primena na naš trougao sa stranama a, b, c:

Težišna duž ka stranici a (strane trougla su a, b, c):
  t_a² = (2b² + 2c² - a²) / 4

Težišna duž ka stranici b:
  t_b² = (2a² + 2c² - b²) / 4

Težišna duž ka stranici c (hipotenuzi):
  t_c² = (2a² + 2b² - c²) / 4

Zbir:
  t_a² + t_b² + t_c² = [(2b² + 2c² - a²) + (2a² + 2c² - b²) + (2a² + 2b² - c²)] / 4
                      = [2b² + 2c² - a² + 2a² + 2c² - b² + 2a² + 2b² - c²] / 4
                      = [(−a² + 2a² + 2a²) + (2b² − b² + 2b²) + (2c² + 2c² − c²)] / 4
                      = [3a² + 3b² + 3c²] / 4
                      = 3(a² + b² + c²) / 4

Zamena c² = a² + b²:
  = 3(a² + b² + a² + b²) / 4
  = 3 · 2(a² + b²) / 4
  = 6(a² + b²) / 4
  = 3(a² + b²) / 2

Dakle:
  (t_a² + t_b² + t_c²) / (a² + b²) = [3(a² + b²)/2] / (a² + b²) = 3/2

Odgovor: (B) 3/2

Verifikacija numeričkim primerom:
Neka je a = 3, b = 4, onda c = 5.

t_a² = (2·16 + 2·25 - 9)/4 = (32 + 50 - 9)/4 = 73/4
t_b² = (2·9 + 2·25 - 16)/4 = (18 + 50 - 16)/4 = 52/4 = 13
t_c² = (2·9 + 2·16 - 25)/4 = (18 + 32 - 25)/4 = 25/4

Zbir = 73/4 + 52/4 + 25/4 = 150/4 = 75/2

a² + b² = 9 + 16 = 25

Količnik = (75/2) / 25 = 75/50 = 3/2  ✓
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.5rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.2rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 140px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.1rem;
  font-weight: 600;
}

.plan-card {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(167, 139, 250, 0.1));
  border: 1px solid rgba(96, 165, 250, 0.2);
}

details {
  margin: 15px 0;
}

details summary {
  color: #60a5fa;
  cursor: pointer;
  font-weight: 600;
  padding: 10px 16px;
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid rgba(96, 165, 250, 0.15);
  border-radius: 10px;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background 0.2s;
}

details summary:hover {
  background: rgba(96, 165, 250, 0.12);
}

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
  display: inline-block;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .details-content {
  padding: 16px 20px;
  margin-top: 8px;
  background: rgba(96, 165, 250, 0.04);
  border-radius: 10px;
  border: 1px solid rgba(96, 165, 250, 0.08);
}

details .details-content ul {
  list-style: none;
  padding: 0;
}

details .details-content ul li {
  padding: 6px 0;
  padding-left: 20px;
  position: relative;
}

details .details-content ul li::before {
  content: '\2022';
  color: #a78bfa;
  position: absolute;
  left: 4px;
  font-weight: bold;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 28px;
}

.step-badge {
  width: 44px;
  height: 44px;
  min-width: 44px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 1.1rem;
  color: #0f172a;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.checkpoint {
  margin: 18px 0;
}

.checkpoint summary {
  color: #a78bfa;
  background: rgba(167, 139, 250, 0.06);
  border: 1px solid rgba(167, 139, 250, 0.15);
}

.checkpoint summary:hover {
  background: rgba(167, 139, 250, 0.12);
}

.insight-card {
  background: linear-gradient(135deg, rgba(167, 139, 250, 0.15), rgba(96, 165, 250, 0.15));
  border: 1px solid rgba(167, 139, 250, 0.3);
}

.answer-card {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.1));
  border: 1px solid rgba(52, 211, 153, 0.3);
  text-align: center;
}

.answer-value {
  font-size: 2.5rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option {
  padding: 12px 24px;
  border-radius: 12px;
  font-size: 1.1rem;
  font-weight: 600;
  border: 2px solid #334155;
  background: rgba(30, 41, 59, 0.8);
  color: #94a3b8;
  min-width: 100px;
  text-align: center;
}

.option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.15);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74, 222, 128, 0.2);
}

.pitfall-card {
  border-left: 4px solid #e09468;
}

.pitfall-card h2 {
  color: #e09468;
}

.pitfall-card ul {
  list-style: none;
  padding: 0;
}

.pitfall-card ul li {
  padding: 8px 0;
  padding-left: 24px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-card ul li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
  color: #e09468;
}

.challenge-card {
  background: linear-gradient(135deg, rgba(244, 114, 182, 0.08), rgba(167, 139, 250, 0.08));
  border: 1px solid rgba(244, 114, 182, 0.2);
}

.challenge-card h2 {
  color: #f472b6;
}

.canvas-wrapper {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 12px;
  display: flex;
  justify-content: center;
  margin: 16px 0;
}

canvas {
  touch-action: none;
  max-width: 100%;
  border-radius: 8px;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  font-style: italic;
}

.formula-ref {
  display: inline-block;
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 6px;
  padding: 2px 8px;
  font-size: 0.9rem;
  color: #a78bfa;
}

.controls-row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin: 12px 0;
  align-items: center;
}

.slider-group {
  display: flex;
  align-items: center;
  gap: 8px;
}

.slider-group label {
  color: #94a3b8;
  font-size: 0.9rem;
  min-width: 80px;
}

.slider-group input[type="range"] {
  width: 140px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 600;
  min-width: 36px;
  text-align: center;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .step-container { flex-direction: column; }
  .step-badge { width: 36px; height: 36px; min-width: 36px; font-size: 0.95rem; }
  .options-grid { flex-direction: column; align-items: center; }
  .answer-value { font-size: 1.8rem; }
  .controls-row { flex-direction: column; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Težišne duži pravouglog trougla</h1>
  <p class="subtitle">Geometrija trougla -- odnos zbira kvadrata težišnih duži i zbira kvadrata kateta</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>
      Neka su \(a\) i \(b\) dužine <span class="highlight">kateta</span>, a \(t_a\), \(t_b\), \(t_c\)
      dužine <span class="highlight-blue">težišnih duži</span> koje odgovaraju katetama \(a\), \(b\) i
      hipotenuzi \(c\) redom, pravouglog trougla.
    </p>
    <p style="margin-top: 12px;">
      Tada je \(\displaystyle \frac{t_a^2 + t_b^2 + t_c^2}{a^2 + b^2}\) jednako:
    </p>
    <div class="options-grid" style="margin-top: 16px;">
      <div class="option">(A) \(\dfrac{2}{3}\)</div>
      <div class="option correct">(B) \(\dfrac{3}{2}\)</div>
      <div class="option">(C) \(\dfrac{5}{4}\)</div>
      <div class="option">(D) \(\dfrac{9}{4}\)</div>
      <div class="option">(E) \(\dfrac{4}{3}\)</div>
      <div class="option">(N) Ne znam</div>
    </div>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Trougao</div>
        <div class="value">Pravougli</div>
      </div>
      <div class="given-item">
        <div class="label">Katete</div>
        <div class="value">\(a\), \(b\)</div>
      </div>
      <div class="given-item">
        <div class="label">Hipotenuza</div>
        <div class="value">\(c = \sqrt{a^2 + b^2}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Težišne duži</div>
        <div class="value">\(t_a\), \(t_b\), \(t_c\)</div>
      </div>
      <div class="given-item">
        <div class="label">Traži se</div>
        <div class="value">\(\frac{t_a^2 + t_b^2 + t_c^2}{a^2 + b^2}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Primenićemo <span class="highlight-blue">formulu za dužinu težišne duži</span> na svaku od tri
      stranice pravouglog trougla, a zatim iskoristiti <span class="highlight">Pitagorinu teoremu</span>
      \(c^2 = a^2 + b^2\) da pojednostavimo izraz. Na kraju ćemo rezultat proveriti konkretnim
      numeričkim primerom sa trouglom \(3\)-\(4\)-\(5\).
    </p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul>
          <li>
            <strong>Pitagorina teorema:</strong> U pravouglom trouglu sa katetama \(a\), \(b\) i
            hipotenzuom \(c\): \(c^2 = a^2 + b^2\).
          </li>
          <li>
            <strong>Formula za težišnu duž:</strong> Težišna duž ka stranici dužine \(s\) u trouglu
            sa stranama \(p\), \(q\), \(s\) je:
            \[ m_s^2 = \frac{2p^2 + 2q^2 - s^2}{4} \]
            Ova formula se dobija primenom Stjuartove teoreme ili vektorskog računa.
          </li>
          <li>
            <strong>Težište trougla:</strong> Težišne duži se seku u jednoj tački (težištu) koja deli
            svaku težišnu duž u odnosu \(2:1\) od temena.
          </li>
          <li>
            <strong>Alternativna interpretacija:</strong> Težišna duž ka hipotenuzi pravouglog trougla
            jednaka je polovini hipotenuze: \(t_c = \frac{c}{2}\), jer je središte hipotenuze ujedno
            i centar opisanog kruga.
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- INTERACTIVE DIAGRAM -->
  <div class="card">
    <h2>Interaktivni dijagram</h2>
    <p style="color: #94a3b8; margin-bottom: 8px;">
      Pomerajte klizače da menjate dužine kateta i vidite kako se menjaju težišne duži.
      Količnik uvek ostaje \(\frac{3}{2}\)!
    </p>
    <div class="controls-row">
      <div class="slider-group">
        <label>Kateta \(a\):</label>
        <input type="range" id="slider-a" min="1" max="8" step="0.5" value="3">
        <span class="slider-value" id="val-a">3</span>
      </div>
      <div class="slider-group">
        <label>Kateta \(b\):</label>
        <input type="range" id="slider-b" min="1" max="8" step="0.5" value="4">
        <span class="slider-value" id="val-b">4</span>
      </div>
    </div>
    <div class="canvas-wrapper">
      <canvas id="triangle-canvas" width="700" height="500"></canvas>
    </div>
    <div id="stats-display" style="margin-top: 12px; display: flex; flex-wrap: wrap; gap: 12px;"></div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- STEP 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Zapišimo osnovni uslov: Pitagorina teorema</h3>
        <p>
          Pošto je trougao pravougli sa katetama \(a\), \(b\) i hipotenzuom \(c\), važi:
        </p>
        <div class="math-block">
          \[ c^2 = a^2 + b^2 \]
        </div>
        <p>
          Ovo ćemo koristiti kasnije da eliminišemo \(c^2\) iz izraza.
        </p>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Formula za dužinu težišne duži</h3>
        <p>
          Za bilo koji trougao sa stranama \(p\), \(q\), \(s\), dužina težišne duži ka
          stranici \(s\) iznosi:
        </p>
        <div class="math-block">
          \[ m_s^2 = \frac{2p^2 + 2q^2 - s^2}{4} \]
        </div>
        <p>
          Ova formula se može izvesti korišćenjem vektora. Ako su temena trougla \(A\), \(B\), \(C\),
          a \(M\) središte stranice naspram temena \(A\), onda:
        </p>
        <div class="math-block">
          \[ \vec{AM} = \frac{\vec{AB} + \vec{AC}}{2} \]
        </div>
        <p>
          i kvadriranjem se dolazi do navedene formule.
        </p>
      </div>
    </div>

    <!-- CHECKPOINT 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Šta je težišna duž?</summary>
      <div class="details-content">
        <p>
          <strong>Težišna duž</strong> (medijana) je duž koja spaja teme trougla sa
          <span class="highlight-blue">sredinom naspramne stranice</span>.
          Svaki trougao ima tačno tri težišne duži, i one se seku u jednoj tački -- <em>težištu</em>.
        </p>
      </div>
    </details>

    <!-- STEP 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izračunajmo \(t_a^2\), \(t_b^2\) i \(t_c^2\)</h3>
        <p>
          Primenimo formulu na svaku težišnu duž našeg pravouglog trougla sa stranama \(a\), \(b\), \(c\):
        </p>
        <p style="margin-top: 10px;"><span class="highlight">Težišna duž ka kateti \(a\):</span></p>
        <div class="math-block">
          \[ t_a^2 = \frac{2b^2 + 2c^2 - a^2}{4} \]
        </div>

        <p><span class="highlight-blue">Težišna duž ka kateti \(b\):</span></p>
        <div class="math-block">
          \[ t_b^2 = \frac{2a^2 + 2c^2 - b^2}{4} \]
        </div>

        <p><span class="highlight-purple">Težišna duž ka hipotenuzi \(c\):</span></p>
        <div class="math-block">
          \[ t_c^2 = \frac{2a^2 + 2b^2 - c^2}{4} \]
        </div>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Saberimo sve tri težišne duži na kvadrat</h3>
        <p>Saberemo brojioce (imenilac je svuda 4):</p>
        <div class="math-block">
          \[ t_a^2 + t_b^2 + t_c^2 = \frac{(2b^2 + 2c^2 - a^2) + (2a^2 + 2c^2 - b^2) + (2a^2 + 2b^2 - c^2)}{4} \]
        </div>
        <p>Grupisanjem po promenljivim u brojiocu:</p>
        <div class="math-block">
          \[
          \begin{aligned}
          a^2: &\quad -a^2 + 2a^2 + 2a^2 = 3a^2 \\
          b^2: &\quad 2b^2 - b^2 + 2b^2 = 3b^2 \\
          c^2: &\quad 2c^2 + 2c^2 - c^2 = 3c^2
          \end{aligned}
          \]
        </div>
        <p>Dakle:</p>
        <div class="math-block">
          \[ t_a^2 + t_b^2 + t_c^2 = \frac{3a^2 + 3b^2 + 3c^2}{4} = \frac{3(a^2 + b^2 + c^2)}{4} \]
        </div>
      </div>
    </div>

    <!-- CHECKPOINT 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li ova formula važi za svaki trougao?</summary>
      <div class="details-content">
        <p>
          Da! Formula \(t_a^2 + t_b^2 + t_c^2 = \frac{3}{4}(a^2 + b^2 + c^2)\) važi za
          <span class="highlight-green">bilo koji trougao</span>, ne samo za pravougli.
          Ovo je poznata osobina težišnih duži. U sledećem koraku ćemo iskoristiti
          specifičnost pravouglog trougla.
        </p>
      </div>
    </details>

    <!-- STEP 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Primenimo Pitagorinu teoremu</h3>
        <p>
          Sada zamenjujemo \(c^2 = a^2 + b^2\) u dobijeni izraz:
        </p>
        <div class="math-block">
          \[
          t_a^2 + t_b^2 + t_c^2 = \frac{3\bigl(a^2 + b^2 + \underbrace{c^2}_{= a^2 + b^2}\bigr)}{4}
          = \frac{3\bigl(a^2 + b^2 + a^2 + b^2\bigr)}{4}
          \]
        </div>
        <div class="math-block">
          \[
          = \frac{3 \cdot 2(a^2 + b^2)}{4} = \frac{6(a^2 + b^2)}{4} = \frac{3(a^2 + b^2)}{2}
          \]
        </div>
      </div>
    </div>

    <!-- STEP 6 -->
    <div class="step-container">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izračunajmo traženi količnik</h3>
        <p>Delimo sa \(a^2 + b^2\):</p>
        <div class="math-block">
          \[
          \frac{t_a^2 + t_b^2 + t_c^2}{a^2 + b^2}
          = \frac{\dfrac{3(a^2 + b^2)}{2}}{a^2 + b^2}
          = \frac{3}{2}
          \]
        </div>
        <p>
          Izraz \(a^2 + b^2\) se <span class="highlight-green">skraćuje</span>, pa je rezultat
          <strong>konstantan</strong> -- ne zavisi od konkretnih vrednosti \(a\) i \(b\)!
        </p>
      </div>
    </div>

    <!-- CHECKPOINT 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Numerička verifikacija sa trouglom 3-4-5</summary>
      <div class="details-content">
        <p>Uzmimo \(a = 3\), \(b = 4\), pa \(c = 5\):</p>
        <div class="math-block">
          \[
          \begin{aligned}
          t_a^2 &= \frac{2 \cdot 16 + 2 \cdot 25 - 9}{4} = \frac{32 + 50 - 9}{4} = \frac{73}{4} \\[6pt]
          t_b^2 &= \frac{2 \cdot 9 + 2 \cdot 25 - 16}{4} = \frac{18 + 50 - 16}{4} = \frac{52}{4} = 13 \\[6pt]
          t_c^2 &= \frac{2 \cdot 9 + 2 \cdot 16 - 25}{4} = \frac{18 + 32 - 25}{4} = \frac{25}{4}
          \end{aligned}
          \]
        </div>
        <div class="math-block">
          \[
          t_a^2 + t_b^2 + t_c^2 = \frac{73}{4} + \frac{52}{4} + \frac{25}{4} = \frac{150}{4} = \frac{75}{2}
          \]
        </div>
        <div class="math-block">
          \[
          a^2 + b^2 = 9 + 16 = 25
          \]
        </div>
        <div class="math-block">
          \[
          \frac{75/2}{25} = \frac{75}{50} = \frac{3}{2} \quad \checkmark
          \]
        </div>
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="card insight-card">
    <h2>Ključni uvid</h2>
    <p>
      Za <strong>svaki</strong> trougao važi opšta formula
      \(t_a^2 + t_b^2 + t_c^2 = \frac{3}{4}(a^2 + b^2 + c^2)\).
      U pravouglom trouglu imamo dodatnu vezu \(c^2 = a^2 + b^2\), pa se izraz elegantno
      svodi na \(\frac{3}{2}(a^2 + b^2)\). Količnik je <span class="highlight-green">konstantan</span>
      i ne zavisi od dimenzija trougla.
    </p>
    <p style="margin-top: 10px;">
      Posebno interesantno: težišna duž ka hipotenuzi pravouglog trougla iznosi
      \(t_c = \frac{c}{2}\) (jer je središte hipotenuze centar opisanog kruga polupečnika \(\frac{c}{2}\)),
      pa je \(t_c^2 = \frac{c^2}{4} = \frac{a^2 + b^2}{4}\).
    </p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card answer-card">
    <h2 style="color: #4ade80; justify-content: center;">Konačan odgovor</h2>
    <div class="answer-value">
      \(\displaystyle \frac{t_a^2 + t_b^2 + t_c^2}{a^2 + b^2} = \frac{3}{2}\)
    </div>
    <div class="options-grid">
      <div class="option">(A) \(\dfrac{2}{3}\)</div>
      <div class="option correct">(B) \(\dfrac{3}{2}\)</div>
      <div class="option">(C) \(\dfrac{5}{4}\)</div>
      <div class="option">(D) \(\dfrac{9}{4}\)</div>
      <div class="option">(E) \(\dfrac{4}{3}\)</div>
      <div class="option">(N) Ne znam</div>
    </div>
    <p class="verification-note">
      Provera: Za trougao 3-4-5 količnik iznosi \(\frac{75/2}{25} = \frac{3}{2}\). Za trougao 5-12-13
      količnik iznosi \(\frac{507/2}{169} = \frac{507}{338} = \frac{3}{2}\).
      Rezultat je uvek isti!
    </p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card pitfall-card">
    <h2>Česte greške</h2>
    <ul>
      <li>
        <strong>Pogrešna formula za težišnu duž:</strong> Učenici često mešaju formulu za težišnu
        duž sa formulom za visinu ili simetralu. Zapamtite:
        \(m_s^2 = \frac{2p^2 + 2q^2 - s^2}{4}\) -- koeficijenti su \(2\), \(2\), \(-1\).
      </li>
      <li>
        <strong>Zaboravljanje zamene \(c^2 = a^2 + b^2\):</strong> Bez ove zamene, izraz ostaje
        u obliku \(\frac{3(a^2+b^2+c^2)}{4(a^2+b^2)}\), koji izgleda komplikovanije i ne odgovara
        nijednom ponuđenom odgovoru.
      </li>
      <li>
        <strong>Greška u sabiranju:</strong> Pažljivo grupisanje članova u brojiocu je ključno.
        Preporučujemo da posebno saberete koeficijente uz \(a^2\), pa uz \(b^2\), pa uz \(c^2\).
      </li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Koliki je količnik \(\frac{t_a^2 + t_b^2 + t_c^2}{a^2 + b^2 + c^2}\)
      za <em>proizvoljni</em> trougao (ne mora biti pravougli)?
    </p>
    <details>
      <summary>Hint</summary>
      <div class="details-content">
        <p>
          Već smo pokazali da za svaki trougao važi
          \(t_a^2 + t_b^2 + t_c^2 = \frac{3}{4}(a^2 + b^2 + c^2)\).
          Dakle, količnik je \(\frac{3}{4}\) za bilo koji trougao!
        </p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('triangle-canvas');
  const ctx = canvas.getContext('2d');
  const sliderA = document.getElementById('slider-a');
  const sliderB = document.getElementById('slider-b');
  const valA = document.getElementById('val-a');
  const valB = document.getElementById('val-b');
  const statsDisplay = document.getElementById('stats-display');

  function draw() {
    const a = parseFloat(sliderA.value);
    const b = parseFloat(sliderB.value);
    const c = Math.sqrt(a * a + b * b);

    valA.textContent = a.toFixed(1).replace('.', ',');
    valB.textContent = b.toFixed(1).replace('.', ',');

    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const cssW = rect.width || 700;
    const cssH = 500;

    canvas.style.width = cssW + 'px';
    canvas.style.height = cssH + 'px';
    canvas.width = cssW * dpr;
    canvas.height = cssH * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    ctx.clearRect(0, 0, cssW, cssH);

    // Scale factor to fit the triangle nicely
    const maxDim = Math.max(a, b);
    const scale = Math.min((cssW - 160) / maxDim, (cssH - 160) / maxDim, 55);

    // Triangle vertices (right angle at C)
    const margin = 80;
    const Cx = margin + 40;
    const Cy = cssH - margin;
    const Bx = Cx + a * scale;
    const By = Cy;
    const Ax = Cx;
    const Ay = Cy - b * scale;

    // Midpoints
    const Ma = { x: (Bx + Cx) / 2, y: (By + Cy) / 2 }; // midpoint of BC (side a)
    const Mb = { x: (Ax + Cx) / 2, y: (Ay + Cy) / 2 }; // midpoint of AC (side b)
    const Mc = { x: (Ax + Bx) / 2, y: (Ay + By) / 2 }; // midpoint of AB (side c)

    // Medians
    // t_a: from A to midpoint of BC (Ma)
    // t_b: from B to midpoint of AC (Mb)
    // t_c: from C to midpoint of AB (Mc)

    // Background grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let gx = 0; gx < cssW; gx += 30) {
      ctx.beginPath();
      ctx.moveTo(gx, 0);
      ctx.lineTo(gx, cssH);
      ctx.stroke();
    }
    for (let gy = 0; gy < cssH; gy += 30) {
      ctx.beginPath();
      ctx.moveTo(0, gy);
      ctx.lineTo(cssW, gy);
      ctx.stroke();
    }

    // Right angle marker
    const raSize = 14;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(Cx + raSize, Cy);
    ctx.lineTo(Cx + raSize, Cy - raSize);
    ctx.lineTo(Cx, Cy - raSize);
    ctx.stroke();

    // Draw triangle (filled)
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.fill();

    // Triangle edges
    ctx.strokeStyle = '#e2e8f0';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.stroke();

    // Draw medians
    function drawDashed(x1, y1, x2, y2, color, lineW) {
      ctx.strokeStyle = color;
      ctx.lineWidth = lineW;
      ctx.setLineDash([8, 5]);
      ctx.beginPath();
      ctx.moveTo(x1, y1);
      ctx.lineTo(x2, y2);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // t_a (A -> Ma) - pink
    drawDashed(Ax, Ay, Ma.x, Ma.y, '#f472b6', 2.5);
    // t_b (B -> Mb) - blue
    drawDashed(Bx, By, Mb.x, Mb.y, '#60a5fa', 2.5);
    // t_c (C -> Mc) - purple
    drawDashed(Cx, Cy, Mc.x, Mc.y, '#a78bfa', 2.5);

    // Midpoint dots
    function drawDot(x, y, color, radius) {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(x, y, radius, 0, 2 * Math.PI);
      ctx.fill();
    }

    drawDot(Ma.x, Ma.y, '#f472b6', 5);
    drawDot(Mb.x, Mb.y, '#60a5fa', 5);
    drawDot(Mc.x, Mc.y, '#a78bfa', 5);

    // Vertex dots
    drawDot(Ax, Ay, '#e2e8f0', 6);
    drawDot(Bx, By, '#e2e8f0', 6);
    drawDot(Cx, Cy, '#4ade80', 6);

    // Labels
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';

    // Vertex labels
    ctx.fillStyle = '#e2e8f0';
    ctx.textAlign = 'center';
    ctx.fillText('A', Ax - 18, Ay - 8);
    ctx.fillText('B', Bx + 18, By - 8);
    ctx.fillStyle = '#4ade80';
    ctx.fillText('C', Cx - 18, Cy + 20);

    // Side labels
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('a = ' + a.toFixed(1).replace('.', ','), (Bx + Cx) / 2, Cy + 28);
    ctx.textAlign = 'right';
    ctx.fillText('b = ' + b.toFixed(1).replace('.', ','), Cx - 22, (Ay + Cy) / 2);

    // Hypotenuse label
    ctx.textAlign = 'center';
    ctx.fillStyle = '#94a3b8';
    const cLabelX = (Ax + Bx) / 2 + 12;
    const cLabelY = (Ay + By) / 2 - 12;
    ctx.fillText('c = ' + c.toFixed(2).replace('.', ','), cLabelX, cLabelY);

    // Median labels
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#f472b6';
    const taLx = (Ax + Ma.x) / 2 - 30;
    const taLy = (Ay + Ma.y) / 2;
    ctx.fillText('t_a', taLx, taLy);

    ctx.fillStyle = '#60a5fa';
    const tbLx = (Bx + Mb.x) / 2 + 8;
    const tbLy = (By + Mb.y) / 2 - 4;
    ctx.fillText('t_b', tbLx, tbLy);

    ctx.fillStyle = '#a78bfa';
    const tcLx = (Cx + Mc.x) / 2 + 8;
    const tcLy = (Cy + Mc.y) / 2 + 18;
    ctx.fillText('t_c', tcLx, tcLy);

    // Midpoint labels
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.fillText('M_a', Ma.x - 8, Ma.y + 20);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('M_b', Mb.x - 30, Mb.y);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('M_c', Mc.x + 8, Mc.y - 8);

    // Compute median values
    const ta2 = (2 * b * b + 2 * c * c - a * a) / 4;
    const tb2 = (2 * a * a + 2 * c * c - b * b) / 4;
    const tc2 = (2 * a * a + 2 * b * b - c * c) / 4;
    const sum = ta2 + tb2 + tc2;
    const denom = a * a + b * b;
    const ratio = sum / denom;

    // Legend at top-right
    const legX = cssW - 210;
    const legY = 20;
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const legW = 195;
    const legH = 100;
    ctx.beginPath();
    ctx.roundRect(legX, legY, legW, legH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Legenda:', legX + 10, legY + 20);

    ctx.fillStyle = '#f472b6';
    ctx.fillText('--- t_a (ka stranici a)', legX + 10, legY + 42);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('--- t_b (ka stranici b)', legX + 10, legY + 62);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('--- t_c (ka stranici c)', legX + 10, legY + 82);

    // Ratio display on canvas
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    const rBoxX = cssW - 210;
    const rBoxY = legY + legH + 15;
    const rBoxW = 195;
    const rBoxH = 44;
    ctx.beginPath();
    ctx.roundRect(rBoxX, rBoxY, rBoxW, rBoxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillStyle = '#4ade80';
    ctx.fillText('Koliènik = ' + ratio.toFixed(4).replace('.', ','), rBoxX + rBoxW / 2, rBoxY + 28);

    // Stats display below canvas
    const statsItems = [
      { label: 'c', value: c.toFixed(3).replace('.', ','), color: '#94a3b8' },
      { label: 't_a\u00B2', value: ta2.toFixed(3).replace('.', ','), color: '#f472b6' },
      { label: 't_b\u00B2', value: tb2.toFixed(3).replace('.', ','), color: '#60a5fa' },
      { label: 't_c\u00B2', value: tc2.toFixed(3).replace('.', ','), color: '#a78bfa' },
      { label: '\u03A3 t\u00B2', value: sum.toFixed(3).replace('.', ','), color: '#e2e8f0' },
      { label: 'a\u00B2+b\u00B2', value: denom.toFixed(3).replace('.', ','), color: '#e2e8f0' },
      { label: 'Koliènik', value: ratio.toFixed(6).replace('.', ','), color: '#4ade80' },
    ];

    statsDisplay.innerHTML = statsItems.map(function(item) {
      return '<div style="background:rgba(30,41,59,0.8);border:1px solid #334155;border-radius:10px;padding:8px 14px;min-width:90px;">'
        + '<div style="color:#94a3b8;font-size:0.8rem;">' + item.label + '</div>'
        + '<div style="color:' + item.color + ';font-size:1rem;font-weight:700;">' + item.value + '</div>'
        + '</div>';
    }).join('');
  }

  sliderA.addEventListener('input', draw);
  sliderB.addEventListener('input', draw);

  // Touch support
  sliderA.addEventListener('touchstart', function(e) { e.stopPropagation(); }, { passive: true });
  sliderB.addEventListener('touchstart', function(e) { e.stopPropagation(); }, { passive: true });

  window.addEventListener('resize', draw);
  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Težišne duži pravouglog trougla -- odnos zbira kvadrata",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["težišne duži", "medijane trougla", "pravougli trougao", "Pitagorina teorema", "geometrija trougla"]
}
BRAINSPARK_META-->