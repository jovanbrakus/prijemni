<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Broj pravih koje određuje skup tačaka u ravni</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Dat je skup tačaka u ravni, nikoje 3 kolinearne, nikoje 4 kolinearne.
Broj četvorouglova = 8 × broj trouglova.
Naći broj pravih.

Step 1: Postavi jednačinu
  Neka ima n tačaka.
  Trouglovi = C(n,3) = n(n-1)(n-2)/6
  Četvorouglovi = C(n,4) = n(n-1)(n-2)(n-3)/24
  Uslov: C(n,4) = 8·C(n,3)

Step 2: Reši jednačinu
  n(n-1)(n-2)(n-3)/24 = 8·n(n-1)(n-2)/6
  Skratimo n(n-1)(n-2) (n≥4):
  (n-3)/24 = 8/6
  (n-3)/24 = 4/3
  n-3 = 24·4/3 = 32
  n = 35

Step 3: Broj pravih
  Prave = C(35,2) = 35·34/2 = 595

Answer: (E) 595
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.math-box.key {
  background: rgba(167,139,250,0.1);
  border: 1px solid rgba(167,139,250,0.25);
}

.math-box.result {
  background: rgba(52,211,153,0.08);
  border: 1px solid rgba(52,211,153,0.2);
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

.plan-steps {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin-top: 14px;
}

.plan-step {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px;
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.plan-step-num {
  min-width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #a78bfa, #60a5fa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.85rem;
  color: #0f172a;
  flex-shrink: 0;
}

.plan-step p {
  color: #e2e8f0;
  font-size: 0.95rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.concept-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 14px;
  margin-top: 14px;
}

.concept-card {
  background: rgba(96,165,250,0.05);
  border: 1px solid rgba(96,165,250,0.12);
  border-radius: 10px;
  padding: 16px;
}

.concept-card h4 {
  color: #60a5fa;
  font-size: 1rem;
  margin-bottom: 8px;
}

.concept-card p {
  color: #94a3b8;
  font-size: 0.9rem;
}

.arrow-chain {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin: 16px 0;
  padding: 16px;
  background: rgba(167,139,250,0.06);
  border-radius: 10px;
}

.arrow-chain .node {
  background: rgba(96,165,250,0.12);
  border: 1px solid rgba(96,165,250,0.3);
  border-radius: 8px;
  padding: 8px 14px;
  color: #60a5fa;
  font-weight: 600;
  font-size: 0.95rem;
  text-align: center;
}

.arrow-chain .arrow {
  color: #94a3b8;
  font-size: 1.2rem;
}

.table-wrapper {
  overflow-x: auto;
  margin: 12px 0;
}

.combo-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.95rem;
}

.combo-table th {
  background: rgba(96,165,250,0.12);
  color: #60a5fa;
  padding: 10px 14px;
  text-align: center;
  border: 1px solid #334155;
  font-weight: 700;
}

.combo-table td {
  padding: 10px 14px;
  text-align: center;
  border: 1px solid #334155;
  color: #e2e8f0;
}

.combo-table tr:nth-child(even) {
  background: rgba(96,165,250,0.03);
}

.combo-table .highlight-row {
  background: rgba(52,211,153,0.08);
}

.combo-table .highlight-row td {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
  .plan-steps { grid-template-columns: 1fr; }
  .arrow-chain { flex-direction: column; }
  .arrow-chain .arrow { transform: rotate(90deg); }
  .concept-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Kombinatorika tačaka u ravni</h1>
  <p class="subtitle">Koliko pravih određuju tačke ako je broj četvorouglova osam puta veći od broja trouglova?</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Dat je izvestan skup tačaka u ravni od kojih nikoje tri i nikoje četiri nisu kolinearne. Ako je poznato da je broj četvorouglova osam puta veći od broja trouglova koje te tačke određuju, tada je broj pravih koje te tačke određuju jednak:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">132</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">196</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">512</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">514</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">595</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (N)</div>
        <div class="value">Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Ovo je klasičan kombinatorni zadatak. Kada nikoje tri tačke nisu kolinearne, svake tri tačke određuju jedan trougao, svake četiri jedan četvorougao, a svake dve jednu pravu. Naš plan:</p>
    <div class="plan-steps">
      <div class="plan-step">
        <div class="plan-step-num">1</div>
        <p>Izraziti broj trouglova i četvorouglova pomoću binomnih koeficijenata</p>
      </div>
      <div class="plan-step">
        <div class="plan-step-num">2</div>
        <p>Postaviti jednačinu iz uslova zadatka i naći broj tačaka \(n\)</p>
      </div>
      <div class="plan-step">
        <div class="plan-step-num">3</div>
        <p>Izračunati broj pravih kao \(\binom{n}{2}\)</p>
      </div>
    </div>
    <div class="arrow-chain">
      <div class="node">Uslov zadatka</div>
      <div class="arrow">\(\rightarrow\)</div>
      <div class="node">Jednačina po \(n\)</div>
      <div class="arrow">\(\rightarrow\)</div>
      <div class="node">\(n = 35\)</div>
      <div class="arrow">\(\rightarrow\)</div>
      <div class="node">\(\binom{35}{2} = 595\)</div>
    </div>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i pojmovi</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Binomni koeficijent</strong> (kombinacije bez ponavljanja): \(\displaystyle\binom{n}{k} = \frac{n!}{k!\,(n-k)!}\) &mdash; broj načina da od \(n\) objekata odaberemo \(k\)</li>
          <li><strong>Broj trouglova:</strong> Svake 3 nekolinearne tačke određuju tačno jedan trougao, dakle broj trouglova = \(\displaystyle\binom{n}{3} = \frac{n(n-1)(n-2)}{6}\)</li>
          <li><strong>Broj četvorouglova:</strong> Svake 4 tačke (od kojih nikoje 3 nisu kolinearne) određuju tačno jedan četvorougao, pa je broj četvorouglova = \(\displaystyle\binom{n}{4} = \frac{n(n-1)(n-2)(n-3)}{24}\)</li>
          <li><strong>Broj pravih:</strong> Svake 2 tačke određuju tačno jednu pravu, pa je broj pravih = \(\displaystyle\binom{n}{2} = \frac{n(n-1)}{2}\)</li>
          <li><strong>Veza binomnih koeficijenata:</strong> \(\displaystyle\binom{n}{k+1} = \binom{n}{k} \cdot \frac{n-k}{k+1}\), što omogućava lako prelaženje između susednih koeficijenata</li>
        </ul>

        <div class="concept-grid">
          <div class="concept-card">
            <h4>Zašto baš kombinacije?</h4>
            <p>Redosled odabranih tačaka nije bitan &mdash; trougao \(ABC\) je isti kao trougao \(BCA\). Zato koristimo kombinacije, a ne permutacije.</p>
          </div>
          <div class="concept-card">
            <h4>Uslov nekolinearnosti</h4>
            <p>Ako bi neke 3 tačke bile kolinearne, one ne bi formirale trougao (degenerisani slučaj). Uslov iz zadatka garantuje da svaki izbor tačaka daje pravi geometrijski objekat.</p>
          </div>
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Interaktivni dijagram prikazuje odnos između tačaka, trouglova, četvorouglova i pravih. Kliknite na dugmad da vidite različite geometrijske objekte:</p>
    <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 10px;">
      <button id="btn-points" style="padding: 8px 16px; border-radius: 8px; border: 1px solid #60a5fa; background: rgba(96,165,250,0.15); color: #60a5fa; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Tačke</button>
      <button id="btn-lines" style="padding: 8px 16px; border-radius: 8px; border: 1px solid #a78bfa; background: rgba(167,139,250,0.08); color: #a78bfa; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Prave</button>
      <button id="btn-triangles" style="padding: 8px 16px; border-radius: 8px; border: 1px solid #f472b6; background: rgba(244,114,182,0.08); color: #f472b6; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Trouglovi</button>
      <button id="btn-quads" style="padding: 8px 16px; border-radius: 8px; border: 1px solid #34d399; background: rgba(52,211,153,0.08); color: #34d399; cursor: pointer; font-weight: 600; font-size: 0.9rem;">Četvorouglovi</button>
    </div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="420"></canvas>
    </div>
    <p style="color:#94a3b8; font-size:0.85rem; margin-top:8px;">Prikazan je primer sa 7 tačaka radi preglednosti. U zadatku imamo 35 tačaka.</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Izrazimo broj trouglova i četvorouglova</h3>
        <p>Neka u ravni ima \(n\) tačaka, od kojih nikoje tri nisu kolinearne. Tada:</p>
        <div class="math-box">
          \[
          \text{Broj trouglova} = \binom{n}{3} = \frac{n(n-1)(n-2)}{6}
          \]
        </div>
        <p>Za trougao biramo bilo koje 3 tačke od \(n\), i pošto nikoje tri nisu kolinearne, svaki takav izbor daje pravi trougao.</p>
        <div class="math-box">
          \[
          \text{Broj četvorouglova} = \binom{n}{4} = \frac{n(n-1)(n-2)(n-3)}{24}
          \]
        </div>
        <p>Analogno, za četvorougao biramo 4 tačke. Uslov da nikoje tri nisu kolinearne (a samim tim ni četiri) garantuje da svaki izbor od 4 tačke formira pravi (nedegenrisani) četvorougao.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Postavimo jednačinu iz uslova zadatka</h3>
        <p>Prema tekstu zadatka, broj četvorouglova je <span class="highlight">osam puta veći</span> od broja trouglova:</p>
        <div class="math-box key">
          \[
          \binom{n}{4} = 8 \cdot \binom{n}{3}
          \]
        </div>
        <p>Raspišimo obe strane:</p>
        <div class="math-box">
          \[
          \frac{n(n-1)(n-2)(n-3)}{24} = 8 \cdot \frac{n(n-1)(n-2)}{6}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zašto smemo da skratimo \(n(n-1)(n-2)\)?</summary>
      <div class="details-content">
        <p>Pošto nam trebaju bar 4 tačke da bismo uopšte govorili o četvorouglovima, važi \(n \geq 4\). To znači da su svi faktori \(n\), \(n-1\) i \(n-2\) strogo pozitivni (redom \(\geq 4\), \(\geq 3\), \(\geq 2\)), pa možemo slobodno da delimo njima obe strane jednačine.</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Skratimo zajedničke faktore</h3>
        <p>Na obe strane jednačine pojavljuje se izraz \(n(n-1)(n-2)\). Pošto je \(n \geq 4\), ovaj izraz je pozitivan i možemo ga skratiti:</p>
        <div class="math-box">
          \[
          \frac{\cancel{n(n-1)(n-2)} \cdot (n-3)}{24} = 8 \cdot \frac{\cancel{n(n-1)(n-2)}}{6}
          \]
        </div>
        <p>Dobijamo jednostavnu jednačinu:</p>
        <div class="math-box key">
          \[
          \frac{n-3}{24} = \frac{8}{6}
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Rešimo jednačinu po \(n\)</h3>
        <p>Uprostimo desnu stranu:</p>
        <div class="math-box">
          \[
          \frac{8}{6} = \frac{4}{3}
          \]
        </div>
        <p>Sada imamo:</p>
        <div class="math-box">
          \[
          \frac{n-3}{24} = \frac{4}{3}
          \]
        </div>
        <p>Pomnožimo obe strane sa 24:</p>
        <div class="math-box">
          \[
          n - 3 = 24 \cdot \frac{4}{3} = \frac{96}{3} = 32
          \]
        </div>
        <p>Dakle:</p>
        <div class="math-box result">
          \[
          \boxed{n = 35}
          \]
        </div>
        <p>U ravni se nalazi <span class="highlight-green">35 tačaka</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Da li je zaista \(\binom{35}{4} = 8 \cdot \binom{35}{3}\)?</summary>
      <div class="details-content">
        <p>Izračunajmo:</p>
        <div class="math-box">
          \[
          \binom{35}{3} = \frac{35 \cdot 34 \cdot 33}{6} = \frac{39\,270}{6} = 6\,545
          \]
        </div>
        <div class="math-box">
          \[
          \binom{35}{4} = \frac{35 \cdot 34 \cdot 33 \cdot 32}{24} = \frac{1\,256\,640}{24} = 52\,360
          \]
        </div>
        <p>Proverimo odnos:</p>
        <div class="math-box">
          \[
          \frac{52\,360}{6\,545} = 8 \quad \checkmark
          \]
        </div>
        <p>Potvrđeno! Broj četvorouglova je zaista tačno 8 puta veći od broja trouglova.</p>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izračunajmo broj pravih</h3>
        <p>Svake dve tačke određuju tačno jednu pravu (jer nikoje tri nisu kolinearne, svaka prava sadrži tačno dve tačke iz skupa). Broj pravih je:</p>
        <div class="math-box result">
          \[
          \binom{35}{2} = \frac{35 \cdot 34}{2} = \frac{1\,190}{2} = \boxed{595}
          \]
        </div>
        <p>Broj pravih koje tih 35 tačaka određuju je <span class="highlight-green">595</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Alternativni pristup preko odnosa binomnih koeficijenata</summary>
      <div class="details-content">
        <p>Postoji elegantan prečica. Poznata je veza:</p>
        <div class="math-box">
          \[
          \binom{n}{4} = \binom{n}{3} \cdot \frac{n-3}{4}
          \]
        </div>
        <p>Ovo sledi direktno iz definicije: \(\binom{n}{4} = \frac{n!}{4!(n-4)!}\) dok je \(\binom{n}{3} = \frac{n!}{3!(n-3)!}\), pa je:</p>
        <div class="math-box">
          \[
          \frac{\binom{n}{4}}{\binom{n}{3}} = \frac{3!(n-3)!}{4!(n-4)!} = \frac{(n-3)}{4}
          \]
        </div>
        <p>Iz uslova \(\binom{n}{4} = 8 \cdot \binom{n}{3}\) odmah sledi:</p>
        <div class="math-box">
          \[
          \frac{n-3}{4} = 8 \quad \Rightarrow \quad n - 3 = 32 \quad \Rightarrow \quad n = 35
          \]
        </div>
        <p>Ovaj pristup je brži i elegantiji!</p>
      </div>
    </details>
  </div>

  <!-- Summary table -->
  <div class="card">
    <h2>Pregled svih kombinatornih objekata za \(n = 35\)</h2>
    <div class="table-wrapper">
      <table class="combo-table">
        <thead>
          <tr>
            <th>Objekat</th>
            <th>Formula</th>
            <th>Računanje</th>
            <th>Rezultat</th>
          </tr>
        </thead>
        <tbody>
          <tr class="highlight-row">
            <td>Prave</td>
            <td>\(\binom{35}{2}\)</td>
            <td>\(\frac{35 \cdot 34}{2}\)</td>
            <td>595</td>
          </tr>
          <tr>
            <td>Trouglovi</td>
            <td>\(\binom{35}{3}\)</td>
            <td>\(\frac{35 \cdot 34 \cdot 33}{6}\)</td>
            <td>6 545</td>
          </tr>
          <tr>
            <td>Četvorouglovi</td>
            <td>\(\binom{35}{4}\)</td>
            <td>\(\frac{35 \cdot 34 \cdot 33 \cdot 32}{24}\)</td>
            <td>52 360</td>
          </tr>
          <tr>
            <td>Odnos</td>
            <td>\(\frac{\binom{35}{4}}{\binom{35}{3}}\)</td>
            <td>\(\frac{52\,360}{6\,545}\)</td>
            <td>8 \(\checkmark\)</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Suština ovog zadatka leži u prepoznavanju da su trouglovi, četvorouglovi i prave svi izraženi kao binomni koeficijenti od istog broja \(n\). Uslov "<span class="highlight">osam puta veći</span>" daje jednačinu po \(n\), koja se lako rešava zahvaljujući činjenici da se odnos \(\binom{n}{4}\) i \(\binom{n}{3}\) svodi na linearnu funkciju \(\frac{n-3}{4}\). Jednom kad nađemo \(n = 35\), broj pravih trivijalno sledi kao \(\binom{35}{2} = 595\).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) 132</div>
      <div class="option-chip">(B) 196</div>
      <div class="option-chip">(C) 512</div>
      <div class="option-chip">(D) 514</div>
      <div class="option-chip correct">(E) 595</div>
      <div class="option-chip">(N) Ne znam</div>
    </div>
    <div class="answer-value">Odgovor je (E) 595</div>
    <div class="provera-note">
      <strong>Provera:</strong> Za \(n = 35\) tačaka: \(\binom{35}{3} = 6\,545\) trouglova i \(\binom{35}{4} = 52\,360\) četvorouglova. Zaista, \(52\,360 = 8 \times 6\,545\). Broj pravih: \(\binom{35}{2} = 595\).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Česte greške</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Pogrešno tumačenje "četvorougla":</strong> Neko može pomisliti da se broje samo konveksni četvorouglovi. Međutim, svake 4 tačke (od kojih nikoje 3 nisu kolinearne) određuju tačno jedan četvorougao &mdash; to je konveksni omotač tih 4 tačaka. Zadatak upravo računa \(\binom{n}{4}\).</li>
      <li style="margin-bottom: 10px;"><strong>Skraćivanje sa nulom:</strong> Nikada ne sme da se deli sa izrazom koji može biti nula. Ovde smo potvrdili da \(n \geq 4\), pa su svi faktori pozitivni.</li>
      <li style="margin-bottom: 10px;"><strong>Greška u aritmetici:</strong> Pri računanju \(24 \cdot \frac{4}{3}\) lako je pogrešno izračunati. Ispravno: \(\frac{24 \cdot 4}{3} = \frac{96}{3} = 32\).</li>
      <li><strong>Zaboravljen poslednji korak:</strong> Zadatak traži broj <em>pravih</em>, a ne broj tačaka! Posle nalaženja \(n = 35\), mora se još izračunati \(\binom{35}{2} = 595\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Dat je skup od \(n\) tačaka u ravni od kojih nikoje tri nisu kolinearne. Ako je poznato da je broj petouglova koje te tačke određuju jednak <strong>šest puta</strong> broju četvorouglova, koliko ima trouglova?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="details-content">
        <p>Primeni isti metod: broj petouglova je \(\binom{n}{5}\), a broj četvorouglova \(\binom{n}{4}\). Iz uslova:</p>
        <div class="math-box">
          \[
          \binom{n}{5} = 6 \cdot \binom{n}{4}
          \]
        </div>
        <p>Koristi vezu \(\frac{\binom{n}{5}}{\binom{n}{4}} = \frac{n-4}{5}\), pa dobijaš:</p>
        <div class="math-box">
          \[
          \frac{n-4}{5} = 6 \quad \Rightarrow \quad n = 34
          \]
        </div>
        <p>Broj trouglova = \(\binom{34}{3} = \frac{34 \cdot 33 \cdot 32}{6} = 5\,984\). Proveri!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  // 7 points in general position (no 3 collinear)
  const basePoints = [
    { x: 0.15, y: 0.30 },
    { x: 0.35, y: 0.12 },
    { x: 0.60, y: 0.15 },
    { x: 0.82, y: 0.28 },
    { x: 0.75, y: 0.65 },
    { x: 0.45, y: 0.78 },
    { x: 0.18, y: 0.62 }
  ];

  let mode = 'points'; // 'points', 'lines', 'triangles', 'quads'
  let animPhase = 0;
  let selectedCombIdx = 0;
  let animTimer = null;

  // Generate all combinations of k from arr indices
  function combinations(arr, k) {
    const result = [];
    function backtrack(start, combo) {
      if (combo.length === k) {
        result.push([...combo]);
        return;
      }
      for (let i = start; i < arr.length; i++) {
        combo.push(arr[i]);
        backtrack(i + 1, combo);
        combo.pop();
      }
    }
    backtrack(0, []);
    return result;
  }

  const indices = [0, 1, 2, 3, 4, 5, 6];
  const allLines = combinations(indices, 2);
  const allTriangles = combinations(indices, 3);
  const allQuads = combinations(indices, 4);

  // Convex hull for ordering quad vertices
  function convexHullOrder(pts) {
    // Find centroid
    let cx = 0, cy = 0;
    pts.forEach(p => { cx += p.x; cy += p.y; });
    cx /= pts.length;
    cy /= pts.length;
    // Sort by angle from centroid
    const sorted = pts.slice().sort((a, b) => {
      return Math.atan2(a.y - cy, a.x - cx) - Math.atan2(b.y - cy, b.x - cx);
    });
    return sorted;
  }

  // Button handlers
  const btnPoints = document.getElementById('btn-points');
  const btnLines = document.getElementById('btn-lines');
  const btnTriangles = document.getElementById('btn-triangles');
  const btnQuads = document.getElementById('btn-quads');

  function setActiveBtn(btn) {
    [btnPoints, btnLines, btnTriangles, btnQuads].forEach(b => {
      b.style.background = b.style.background.replace(/0\.\d+\)/, '0.08)');
      b.style.fontWeight = '600';
    });
    btn.style.background = btn.style.background.replace(/0\.\d+\)/, '0.25)');
    btn.style.fontWeight = '800';
  }

  function startCycling() {
    if (animTimer) clearInterval(animTimer);
    selectedCombIdx = 0;
    animTimer = setInterval(() => {
      selectedCombIdx++;
      let maxIdx;
      if (mode === 'lines') maxIdx = allLines.length;
      else if (mode === 'triangles') maxIdx = allTriangles.length;
      else if (mode === 'quads') maxIdx = allQuads.length;
      else maxIdx = 1;
      if (selectedCombIdx >= maxIdx) selectedCombIdx = 0;
      draw();
    }, 800);
  }

  btnPoints.addEventListener('click', () => { mode = 'points'; setActiveBtn(btnPoints); if (animTimer) clearInterval(animTimer); draw(); });
  btnLines.addEventListener('click', () => { mode = 'lines'; setActiveBtn(btnLines); startCycling(); draw(); });
  btnTriangles.addEventListener('click', () => { mode = 'triangles'; setActiveBtn(btnTriangles); startCycling(); draw(); });
  btnQuads.addEventListener('click', () => { mode = 'quads'; setActiveBtn(btnQuads); startCycling(); draw(); });

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 420 * dpr;
    canvas.style.height = '420px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 420;

    const pad = 50;
    const drawW = W - 2 * pad;
    const drawH = H - 2 * pad - 50;

    function tx(fx) { return pad + fx * drawW; }
    function ty(fy) { return pad + fy * drawH; }

    const points = basePoints.map(p => ({ x: tx(p.x), y: ty(p.y) }));

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = 'rgba(96,165,250,0.04)';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 10; i++) {
      const gx = pad + (drawW / 10) * i;
      ctx.beginPath(); ctx.moveTo(gx, pad); ctx.lineTo(gx, pad + drawH); ctx.stroke();
      const gy = pad + (drawH / 10) * i;
      ctx.beginPath(); ctx.moveTo(pad, gy); ctx.lineTo(pad + drawW, gy); ctx.stroke();
    }

    // Draw all faded lines when in lines mode
    if (mode === 'lines') {
      allLines.forEach((combo, idx) => {
        const [i, j] = combo;
        const isSelected = idx === selectedCombIdx;
        ctx.strokeStyle = isSelected ? '#a78bfa' : 'rgba(167,139,250,0.1)';
        ctx.lineWidth = isSelected ? 2.5 : 0.8;
        ctx.beginPath();
        ctx.moveTo(points[i].x, points[i].y);
        ctx.lineTo(points[j].x, points[j].y);
        ctx.stroke();
      });
    }

    // Draw triangles
    if (mode === 'triangles') {
      const combo = allTriangles[selectedCombIdx % allTriangles.length];
      // Draw all triangles faded
      allTriangles.forEach((tri, idx) => {
        if (idx === selectedCombIdx) return;
        ctx.strokeStyle = 'rgba(244,114,182,0.06)';
        ctx.lineWidth = 0.5;
        ctx.beginPath();
        ctx.moveTo(points[tri[0]].x, points[tri[0]].y);
        ctx.lineTo(points[tri[1]].x, points[tri[1]].y);
        ctx.lineTo(points[tri[2]].x, points[tri[2]].y);
        ctx.closePath();
        ctx.stroke();
      });
      // Highlighted triangle
      ctx.fillStyle = 'rgba(244,114,182,0.12)';
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.moveTo(points[combo[0]].x, points[combo[0]].y);
      ctx.lineTo(points[combo[1]].x, points[combo[1]].y);
      ctx.lineTo(points[combo[2]].x, points[combo[2]].y);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }

    // Draw quads
    if (mode === 'quads') {
      const combo = allQuads[selectedCombIdx % allQuads.length];
      // Draw all quads faded
      allQuads.forEach((q, idx) => {
        if (idx === selectedCombIdx) return;
        const qPts = q.map(i => points[i]);
        const ordered = convexHullOrder(qPts);
        ctx.strokeStyle = 'rgba(52,211,153,0.05)';
        ctx.lineWidth = 0.5;
        ctx.beginPath();
        ctx.moveTo(ordered[0].x, ordered[0].y);
        for (let k = 1; k < ordered.length; k++) {
          ctx.lineTo(ordered[k].x, ordered[k].y);
        }
        ctx.closePath();
        ctx.stroke();
      });
      // Highlighted quad
      const qPts = combo.map(i => points[i]);
      const ordered = convexHullOrder(qPts);
      ctx.fillStyle = 'rgba(52,211,153,0.12)';
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.moveTo(ordered[0].x, ordered[0].y);
      for (let k = 1; k < ordered.length; k++) {
        ctx.lineTo(ordered[k].x, ordered[k].y);
      }
      ctx.closePath();
      ctx.fill();
      ctx.stroke();
    }

    // Draw points
    const pointColors = ['#60a5fa', '#a78bfa', '#f472b6', '#34d399', '#fbbf24', '#f87171', '#38bdf8'];
    points.forEach((p, i) => {
      // Highlight active points
      let isActive = mode === 'points';
      if (mode === 'lines') {
        const combo = allLines[selectedCombIdx % allLines.length];
        isActive = combo.includes(i);
      } else if (mode === 'triangles') {
        const combo = allTriangles[selectedCombIdx % allTriangles.length];
        isActive = combo.includes(i);
      } else if (mode === 'quads') {
        const combo = allQuads[selectedCombIdx % allQuads.length];
        isActive = combo.includes(i);
      }

      const color = pointColors[i];
      const r = isActive ? 8 : 5;

      // Glow
      if (isActive) {
        ctx.shadowColor = color;
        ctx.shadowBlur = 15;
      }
      ctx.fillStyle = isActive ? color : color + '66';
      ctx.beginPath();
      ctx.arc(p.x, p.y, r, 0, Math.PI * 2);
      ctx.fill();
      ctx.shadowBlur = 0;

      // Label
      ctx.fillStyle = isActive ? '#e2e8f0' : '#94a3b8';
      ctx.font = (isActive ? 'bold ' : '') + '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('T' + (i + 1), p.x, p.y - r - 6);
    });

    // Info text at bottom
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    let infoText = '';
    let countText = '';
    if (mode === 'points') {
      infoText = 'n = 7 ta\u010Daka u op\u0161tem polo\u017Eaju (nikoje 3 kolinearne)';
      countText = '';
    } else if (mode === 'lines') {
      const combo = allLines[selectedCombIdx % allLines.length];
      infoText = 'Prava kroz T' + (combo[0]+1) + ' i T' + (combo[1]+1) + '  (' + (selectedCombIdx + 1) + '/' + allLines.length + ')';
      countText = 'C(7,2) = ' + allLines.length + ' pravih';
    } else if (mode === 'triangles') {
      const combo = allTriangles[selectedCombIdx % allTriangles.length];
      infoText = 'Trougao T' + (combo[0]+1) + 'T' + (combo[1]+1) + 'T' + (combo[2]+1) + '  (' + (selectedCombIdx + 1) + '/' + allTriangles.length + ')';
      countText = 'C(7,3) = ' + allTriangles.length + ' trouglova';
    } else if (mode === 'quads') {
      const combo = allQuads[selectedCombIdx % allQuads.length];
      infoText = '\u010Cetvorougao T' + (combo[0]+1) + 'T' + (combo[1]+1) + 'T' + (combo[2]+1) + 'T' + (combo[3]+1) + '  (' + (selectedCombIdx + 1) + '/' + allQuads.length + ')';
      countText = 'C(7,4) = ' + allQuads.length + ' \u010Detvorouglova';
    }

    ctx.fillText(infoText, W / 2, H - 45);

    if (countText) {
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(countText, W / 2, H - 22);
    }

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const titles = {
      points: 'Skup ta\u010Daka u op\u0161tem polo\u017Eaju',
      lines: 'Prave odre\u0111ene ta\u010Dkama',
      triangles: 'Trouglovi odre\u0111eni ta\u010Dkama',
      quads: '\u010Cetvorouglovi odre\u0111eni ta\u010Dkama'
    };
    ctx.fillText(titles[mode], pad, 28);

    // Comparison text for n=7
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    if (mode !== 'points') {
      ctx.fillText('Za n=7: C(7,2)=21, C(7,3)=35, C(7,4)=35', W - pad, 28);
    }
  }

  draw();
  setActiveBtn(btnPoints);
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Broj pravih koje određuje skup tačaka u ravni (kombinatorika)",
  "subject": "math",
  "unit": "kombinatorika",
  "topic_tags": ["kombinatorika", "binomni koeficijent", "kombinacije", "geometrija u ravni", "trouglovi", "četvorouglovi", "prave"]
}
BRAINSPARK_META-->