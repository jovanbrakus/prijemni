<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tangensna jednacina: tg(alpha - pi/4) = 3/4</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Ako je tg(alpha - pi/4) = 3/4, tada je tg(alpha) jednako?

Step 1: Apply the tangent subtraction formula
  tg(alpha - pi/4) = (tg alpha - tg(pi/4)) / (1 + tg alpha * tg(pi/4))

Step 2: Since tg(pi/4) = 1, substitute
  tg(alpha - pi/4) = (tg alpha - 1) / (1 + tg alpha)

Step 3: Set equal to 3/4
  (tg alpha - 1) / (1 + tg alpha) = 3/4

Step 4: Cross multiply
  4(tg alpha - 1) = 3(1 + tg alpha)
  4 tg alpha - 4 = 3 + 3 tg alpha

Step 5: Solve for tg alpha
  4 tg alpha - 3 tg alpha = 3 + 4
  tg alpha = 7

Verification:
  tg(alpha - pi/4) = (7 - 1)/(1 + 7) = 6/8 = 3/4  ✓

Answer: (A) 7
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Odredjivanje tangensa ugla iz tangensne jednacine</h1>
  <p class="subtitle">Primena adicione formule za tangens razlike dva ugla</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Ako je</p>
    <div class="math-box">
      \[ \operatorname{tg}\!\left(\alpha - \frac{\pi}{4}\right) = \frac{3}{4} \]
    </div>
    <p>tada je \(\operatorname{tg} \alpha\) jednako:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">\(7\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">\(6\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">\(0\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Primenimo adicionu formulu za tangens razlike dva ugla na levu stranu jednakosti.
       Posto je \(\operatorname{tg}\!\left(\frac{\pi}{4}\right) = 1\), formula se znatno pojednostavljuje.
       Zatim resavamo linearnu jednacinu po \(\operatorname{tg} \alpha\).</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Tangens razlike:</strong> \(\operatorname{tg}(\alpha - \beta) = \dfrac{\operatorname{tg}\alpha - \operatorname{tg}\beta}{1 + \operatorname{tg}\alpha \cdot \operatorname{tg}\beta}\)</li>
          <li><strong>Posebna vrednost:</strong> \(\operatorname{tg}\!\left(\dfrac{\pi}{4}\right) = 1\)</li>
          <li><strong>Specijalan slucaj:</strong> \(\operatorname{tg}\!\left(\alpha - \dfrac{\pi}{4}\right) = \dfrac{\operatorname{tg}\alpha - 1}{1 + \operatorname{tg}\alpha}\) (jer \(\operatorname{tg}\frac{\pi}{4} = 1\))</li>
          <li><strong>Linearna jednacina:</strong> Kada jednacinu svedemo na oblik \(ax = b\), resenje je \(x = \frac{b}{a}\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Interaktivni dijagram prikazuje ugao \(\alpha\), ugao \(\alpha - \frac{\pi}{4}\) i odgovarajuce vrednosti tangensa na jedinicnom krugu. Prevlacite klizac da menjate ugao.</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="500"></canvas>
    </div>
    <p style="color:#94a3b8; font-size:0.9rem; margin-top:8px; text-align:center;">Prevlacite horizontalno po dijagramu da menjate ugao \(\alpha\)</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Primenimo adicionu formulu za tangens razlike</h3>
        <p>Opcija formula za tangens razlike dva ugla glasi:</p>
        <div class="math-box">
          \[
          \operatorname{tg}(\alpha - \beta) = \frac{\operatorname{tg}\alpha - \operatorname{tg}\beta}{1 + \operatorname{tg}\alpha \cdot \operatorname{tg}\beta}
          \]
        </div>
        <p>U nasem slucaju \(\beta = \frac{\pi}{4}\), pa uvrstavamo:</p>
        <div class="math-box">
          \[
          \operatorname{tg}\!\left(\alpha - \frac{\pi}{4}\right) = \frac{\operatorname{tg}\alpha - \operatorname{tg}\frac{\pi}{4}}{1 + \operatorname{tg}\alpha \cdot \operatorname{tg}\frac{\pi}{4}}
          \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Uvrstimo poznatu vrednost \(\operatorname{tg}\frac{\pi}{4} = 1\)</h3>
        <p>Posto je \(\operatorname{tg}\frac{\pi}{4} = \operatorname{tg}45° = 1\), formula se pojednostavljuje:</p>
        <div class="math-box">
          \[
          \operatorname{tg}\!\left(\alpha - \frac{\pi}{4}\right) = \frac{\operatorname{tg}\alpha - 1}{1 + \operatorname{tg}\alpha \cdot 1} = \frac{\operatorname{tg}\alpha - 1}{1 + \operatorname{tg}\alpha}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zasto je tg(pi/4) = 1?</summary>
      <div class="details-content">
        <p>Ugao \(\frac{\pi}{4}\) radijana je isto sto i \(45°\). U pravouglom jednakokrakom trouglu (sa uglovima \(45°\)-\(45°\)-\(90°\)), obe katete su jednake duzine, pa je:</p>
        <div class="math-box">
          \[ \operatorname{tg}45° = \frac{\text{naspramna kateta}}{\text{nalegla kateta}} = \frac{a}{a} = 1 \]
        </div>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Postavimo jednacinu koristeci dati uslov</h3>
        <p>Po uslovu zadatka, \(\operatorname{tg}\!\left(\alpha - \frac{\pi}{4}\right) = \frac{3}{4}\). Uvrstavamo:</p>
        <div class="math-box">
          \[
          \frac{\operatorname{tg}\alpha - 1}{1 + \operatorname{tg}\alpha} = \frac{3}{4}
          \]
        </div>
        <p>Radi preglednosti, uvedimo smenu \(t = \operatorname{tg}\alpha\):</p>
        <div class="math-box">
          \[
          \frac{t - 1}{1 + t} = \frac{3}{4}
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Resimo jednacinu unakrsnim mnozenjem</h3>
        <p>Pomnozimo obe strane sa \(4(1 + t)\):</p>
        <div class="math-box">
          \[
          4(t - 1) = 3(1 + t)
          \]
        </div>
        <p>Raspisemo zagrade:</p>
        <div class="math-box">
          \[
          4t - 4 = 3 + 3t
          \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izolujemo nepoznatu \(t\)</h3>
        <p>Prebacimo sve clanove sa \(t\) na levu stranu, a slobodne clanove na desnu:</p>
        <div class="math-box">
          \[
          4t - 3t = 3 + 4
          \]
          \[
          t = 7
          \]
        </div>
        <p>Dakle, \(\operatorname{tg}\alpha = \) <span class="highlight">7</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Verifikacija uvrstavanjem nazad</summary>
      <div class="details-content">
        <p>Proverimo tako sto \(\operatorname{tg}\alpha = 7\) uvrstimo u polaznu formulu:</p>
        <div class="math-box">
          \[
          \operatorname{tg}\!\left(\alpha - \frac{\pi}{4}\right) = \frac{7 - 1}{1 + 7} = \frac{6}{8} = \frac{3}{4} \quad \checkmark
          \]
        </div>
        <p>Dobili smo tacno \(\frac{3}{4}\), sto potvrdjuje da je resenje ispravno!</p>
      </div>
    </details>

  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Kljuc ovog zadatka je prepoznati da se primenom adicione formule za tangens razlike
       dobija <strong>linearna jednacina</strong> po \(\operatorname{tg}\alpha\). Ovo se desava zato sto je
       \(\operatorname{tg}\frac{\pi}{4} = 1\), pa se formula maksimalno pojednostavljuje &mdash;
       umesto da imamo komplikovane trigonometrijske izraze, dobijamo obican razlomak sa \(\operatorname{tg}\alpha\)
       u brojiocu i imeniocu, koji se lako resi unakrsnim mnozenjem.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konacan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip correct">(A) \(7\)</div>
      <div class="option-chip">(B) \(5\)</div>
      <div class="option-chip">(C) \(6\)</div>
      <div class="option-chip">(D) \(2\)</div>
      <div class="option-chip">(E) \(0\)</div>
    </div>
    <div class="answer-value">Odgovor je (A) 7</div>
    <div class="provera-note">
      <strong>Provera:</strong> Uvrstavanjem \(\operatorname{tg}\alpha = 7\) u formulu tangensa razlike dobijamo
      \(\frac{7-1}{1+7} = \frac{6}{8} = \frac{3}{4}\), sto se tacno poklapa sa datim uslovom.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Pogresan znak u formuli:</strong> Cesta greska je pisanje
        \(\operatorname{tg}(\alpha - \beta) = \frac{\operatorname{tg}\alpha - \operatorname{tg}\beta}{1 \mathbf{-} \operatorname{tg}\alpha \cdot \operatorname{tg}\beta}\)
        sa minusom u imeniocu. Zapamtite: kod tangensa razlike, u imeniocu stoji <span class="highlight">plus</span>
        (suprotno od znaka u brojiocu).</li>
      <li style="margin-bottom: 10px;"><strong>Greska pri unakrsnom mnozenju:</strong> Prilikom mnozenja
        \(\frac{t-1}{1+t} = \frac{3}{4}\) treba pomnoziti \(4\) sa celim brojiocem \((t-1)\) i \(3\) sa celim
        imeniocem \((1+t)\). Cesta greska je zaboraviti da se \(3\) mnozi i sa \(t\).</li>
      <li><strong>Zaboravljena smena:</strong> Posle resavanja jednacine treba se vratiti na
        \(\operatorname{tg}\alpha = t = 7\). Neki studenti zavrse sa \(t = 7\) ali zaborave da to zapravo
        znaci \(\operatorname{tg}\alpha = 7\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Ako je \(\operatorname{tg}\!\left(\alpha + \frac{\pi}{4}\right) = 2\), koliko je \(\operatorname{tg}\alpha\)?</p>
    <div class="math-box">
      \[ \operatorname{tg}\!\left(\alpha + \frac{\pi}{4}\right) = \frac{\operatorname{tg}\alpha + 1}{1 - \operatorname{tg}\alpha} = 2 \]
    </div>
    <details>
      <summary>Pogledaj resenje</summary>
      <div class="details-content">
        <p>Primenimo adicionu formulu za tangens zbira (pazite: u imeniocu je sada <strong>minus</strong>!):</p>
        <div class="math-box">
          \[
          \frac{\operatorname{tg}\alpha + 1}{1 - \operatorname{tg}\alpha} = 2
          \]
        </div>
        <p>Unakrsnim mnozenjem:</p>
        <div class="math-box">
          \[
          \operatorname{tg}\alpha + 1 = 2(1 - \operatorname{tg}\alpha) = 2 - 2\operatorname{tg}\alpha
          \]
          \[
          3\operatorname{tg}\alpha = 1 \quad \Rightarrow \quad \operatorname{tg}\alpha = \frac{1}{3}
          \]
        </div>
        <p>Provera: \(\frac{1/3 + 1}{1 - 1/3} = \frac{4/3}{2/3} = 2\) &mdash; tacno!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  // Interactive angle: alpha for which tg(alpha) = 7
  // arctan(7) ~ 1.4289 radians ~ 81.87 degrees
  let alpha = Math.atan(7);
  let isDragging = false;

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 500 * dpr;
    canvas.style.height = '500px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 500;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Unit circle parameters
    const cx = W * 0.35;
    const cy = H * 0.5;
    const R = Math.min(W * 0.25, H * 0.35);

    // Draw coordinate axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx - R - 30, cy);
    ctx.lineTo(cx + R + 30, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy + R + 30);
    ctx.lineTo(cx, cy - R - 30);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', cx + R + 25, cy + 15);
    ctx.fillText('y', cx + 10, cy - R - 20);

    // Unit circle
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.stroke();

    // Tangent line at x = 1 (the vertical line)
    ctx.strokeStyle = 'rgba(148,163,184,0.2)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(cx + R, cy - R - 20);
    ctx.lineTo(cx + R, cy + R + 20);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label "x = 1"
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x = 1', cx + R + 4, cy - R - 10);

    // Angle alpha
    const cosA = Math.cos(alpha);
    const sinA = Math.sin(alpha);

    // Draw angle alpha arc
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 0.2, 0, -alpha, true);
    ctx.stroke();

    // Label alpha
    const labelAngleA = alpha / 2;
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03B1', cx + R * 0.28 * Math.cos(labelAngleA), cy - R * 0.28 * Math.sin(labelAngleA));

    // Draw radius for alpha
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + R * cosA, cy - R * sinA);
    ctx.stroke();

    // Point on unit circle for alpha
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(cx + R * cosA, cy - R * sinA, 5, 0, Math.PI * 2);
    ctx.fill();

    // Angle alpha - pi/4
    const beta = alpha - Math.PI / 4;
    const cosB = Math.cos(beta);
    const sinB = Math.sin(beta);

    // Draw angle (alpha - pi/4) arc
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 0.32, 0, -beta, beta > 0 ? true : false);
    ctx.stroke();

    // Label alpha - pi/4
    const labelAngleB = beta / 2;
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    if (Math.abs(beta) > 0.15) {
      ctx.fillText('\u03B1\u2212\u03C0/4', cx + R * 0.42 * Math.cos(labelAngleB), cy - R * 0.42 * Math.sin(labelAngleB));
    }

    // Draw radius for alpha - pi/4
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + R * cosB, cy - R * sinB);
    ctx.stroke();
    ctx.setLineDash([]);

    // Point on unit circle for beta
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(cx + R * cosB, cy - R * sinB, 5, 0, Math.PI * 2);
    ctx.fill();

    // Draw tangent value for alpha on the vertical tangent line
    const tgA = Math.tan(alpha);
    if (Math.abs(tgA) < 15) {
      const tanYA = cy - R * tgA;
      // Line from origin to tangent point
      ctx.strokeStyle = 'rgba(96,165,250,0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx + R, tanYA);
      ctx.stroke();
      ctx.setLineDash([]);

      // Tangent point
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(cx + R, tanYA, 5, 0, Math.PI * 2);
      ctx.fill();

      // Tangent value bracket
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(cx + R + 8, cy);
      ctx.lineTo(cx + R + 14, cy);
      ctx.lineTo(cx + R + 14, tanYA);
      ctx.lineTo(cx + R + 8, tanYA);
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('tg \u03B1 = ' + tgA.toFixed(2).replace('.', ','), cx + R + 20, (cy + tanYA) / 2 + 5);
    }

    // Draw tangent value for beta on the vertical tangent line
    const tgB = Math.tan(beta);
    if (Math.abs(tgB) < 15) {
      const tanYB = cy - R * tgB;
      // Line from origin to tangent point
      ctx.strokeStyle = 'rgba(244,114,182,0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx + R, tanYB);
      ctx.stroke();
      ctx.setLineDash([]);

      // Tangent point
      ctx.fillStyle = '#f472b6';
      ctx.beginPath();
      ctx.arc(cx + R, tanYB, 4, 0, Math.PI * 2);
      ctx.fill();
    }

    // Info panel on the right
    const panelX = W * 0.65;
    const panelY = 30;
    const panelW = W * 0.32;

    // Panel background
    ctx.fillStyle = 'rgba(30,41,59,0.8)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const panelH = 260;
    ctx.beginPath();
    ctx.roundRect(panelX, panelY, panelW, panelH, 10);
    ctx.fill();
    ctx.stroke();

    // Panel title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Vrednosti', panelX + 16, panelY + 28);

    // Alpha value
    const alphaDeg = (alpha * 180 / Math.PI).toFixed(1).replace('.', ',');
    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u03B1 = ' + alphaDeg + '\u00B0', panelX + 16, panelY + 58);

    // tg alpha
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('tg \u03B1 = ' + tgA.toFixed(4).replace('.', ','), panelX + 16, panelY + 88);

    // Alpha - pi/4
    const betaDeg = (beta * 180 / Math.PI).toFixed(1).replace('.', ',');
    ctx.fillStyle = '#f472b6';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u03B1 \u2212 \u03C0/4 = ' + betaDeg + '\u00B0', panelX + 16, panelY + 122);

    // tg(alpha - pi/4)
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('tg(\u03B1\u2212\u03C0/4) = ' + tgB.toFixed(4).replace('.', ','), panelX + 16, panelY + 152);

    // Expected value
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Zadato: tg(\u03B1\u2212\u03C0/4) = 3/4 = 0,75', panelX + 16, panelY + 186);

    // Match indicator
    const isMatch = Math.abs(tgB - 0.75) < 0.02;
    if (isMatch) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Uslov ispunjen!', panelX + 16, panelY + 218);
    } else {
      ctx.fillStyle = '#e09468';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Pomerajte za tg(\u03B1\u2212\u03C0/4) = 0,75', panelX + 16, panelY + 218);
    }

    // Formula reminder at bottom
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Formula: tg(\u03B1 \u2212 \u03C0/4) = (tg\u03B1 \u2212 1) / (1 + tg\u03B1)', W / 2, H - 50);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Za tg\u03B1 = 7: (7 \u2212 1)/(1 + 7) = 6/8 = 3/4  \u2713', W / 2, H - 25);

    // Draw pi/4 reference angle
    ctx.strokeStyle = 'rgba(167,139,250,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 5]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + R * Math.cos(Math.PI / 4), cy - R * Math.sin(Math.PI / 4));
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = 'rgba(167,139,250,0.5)';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('\u03C0/4', cx + R * 0.55 * Math.cos(Math.PI / 4) + 5, cy - R * 0.55 * Math.sin(Math.PI / 4));
  }

  function getAlphaFromX(clientX) {
    const rect = canvas.getBoundingClientRect();
    const x = (clientX - rect.left) / rect.width;
    // Map x position [0, 1] to alpha [0.1, pi/2 - 0.05]
    return 0.1 + x * (Math.PI / 2 - 0.15);
  }

  canvas.addEventListener('mousedown', (e) => {
    isDragging = true;
    alpha = getAlphaFromX(e.clientX);
    draw();
  });

  canvas.addEventListener('mousemove', (e) => {
    if (isDragging) {
      alpha = getAlphaFromX(e.clientX);
      draw();
    }
  });

  canvas.addEventListener('mouseup', () => { isDragging = false; });
  canvas.addEventListener('mouseleave', () => { isDragging = false; });

  canvas.addEventListener('touchstart', (e) => {
    isDragging = true;
    alpha = getAlphaFromX(e.touches[0].clientX);
    draw();
    e.preventDefault();
  }, { passive: false });

  canvas.addEventListener('touchmove', (e) => {
    if (isDragging) {
      alpha = getAlphaFromX(e.touches[0].clientX);
      draw();
      e.preventDefault();
    }
  }, { passive: false });

  canvas.addEventListener('touchend', () => { isDragging = false; });

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Odredjivanje tangensa ugla iz tangensne jednacine sa razlikom",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrija", "tangens", "adicione formule", "tangens razlike", "trigonometrijske jednacine"]
}
BRAINSPARK_META-->