<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dvostrani ugao bočne strane i osnove pravilnog tetraedra</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Ugao koji obrazuju bočna strana i osnova pravilnog tetraedra.

Regular tetrahedron: all 4 faces are equilateral triangles, all edges equal length a.

Setup: Let the base be triangle ABC with vertices:
  A = (0, 0, 0)
  B = (a, 0, 0)
  C = (a/2, a√3/2, 0)

Centroid of base G = (a/2, a√3/6, 0)

The apex D is directly above G:
  Height h = a√(2/3)
  D = (a/2, a√3/6, a√(2/3))

The dihedral angle between a lateral face (e.g., ABD) and the base (ABC)
is measured along their common edge AB.

To find this dihedral angle:
- Take the midpoint M of AB: M = (a/2, 0, 0)
- In the base, the perpendicular from M to AB pointing toward C: direction (0, 1, 0)
  The foot of altitude from C to AB: C projects to (a/2, 0, 0) = M
  So CM is perpendicular to AB, with CM = a√3/2

- In the lateral face ABD, the perpendicular from D to AB:
  D projects onto AB. The midpoint M of AB is equidistant from A and B.
  Since DA = DB = a (regular tetrahedron), D is equidistant from A and B,
  so the projection of D onto line AB is M.
  DM = distance from D to M:
  D = (a/2, a√3/6, a√(2/3)), M = (a/2, 0, 0)
  DM = √((a√3/6)² + (a√(2/3))²)
     = √(a²·3/36 + a²·2/3)
     = √(a²/12 + 2a²/3)
     = √(a²/12 + 8a²/12)
     = √(9a²/12)
     = √(3a²/4)
     = a√3/2

So DM = a√3/2 (same as CM, which makes sense - both are altitudes of equilateral triangles with side a).

The dihedral angle θ between faces ABD and ABC along edge AB is the angle ∠CMD:
  Vector MC = C - M = (a/2 - a/2, a√3/2 - 0, 0) = (0, a√3/2, 0)
  Vector MD = D - M = (a/2 - a/2, a√3/6 - 0, a√(2/3)) = (0, a√3/6, a√(2/3))

  cos θ = (MC · MD) / (|MC| · |MD|)
  MC · MD = 0 + (a√3/2)(a√3/6) + 0 = a²·3/12 = a²/4
  |MC| = a√3/2
  |MD| = a√3/2

  cos θ = (a²/4) / (a√3/2 · a√3/2) = (a²/4) / (3a²/4) = 1/3

So θ = arccos(1/3).

Now verify: if cos θ = 1/3, then:
  sin θ = √(1 - 1/9) = √(8/9) = 2√2/3
  tan θ = sin θ / cos θ = (2√2/3) / (1/3) = 2√2

Therefore θ = arctan(2√2), which matches answer (D).

Numerical check: arctan(2√2) = arctan(2.8284...) ≈ 70.53°
arccos(1/3) ≈ 70.53° ✓

Check other options:
(A) arctan(2) ≈ 63.43° — incorrect
(B) π/3 = 60° — incorrect
(C) arctan(4) ≈ 75.96° — incorrect
(D) arctan(2√2) ≈ 70.53° — CORRECT ✓
(E) π/4 = 45° — incorrect

Answer: (D) arctg 2√2
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card h2 {
  font-size: 1.4rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  font-size: 1.15rem;
  color: #a78bfa;
  margin-bottom: 10px;
  margin-top: 8px;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
  overflow-x: auto;
}

.highlight-val {
  color: #60a5fa;
  font-weight: 700;
}

.highlight-green {
  color: #4ade80;
  font-weight: 700;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 700;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 700;
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 800;
  font-size: 0.95rem;
  margin-right: 10px;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 700;
  color: #e2e8f0;
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
  margin: 16px 0;
}

.option-card {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  box-shadow: 0 0 16px rgba(74, 222, 128, 0.15);
}

.option-label {
  font-weight: 700;
  margin-right: 6px;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin: 20px 0;
}

.final-answer-box .answer-text {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  margin-bottom: 6px;
}

.final-answer-box .answer-note {
  color: #94a3b8;
  font-size: 0.95rem;
}

.insight-box {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 12px;
  padding: 18px 20px;
  margin: 16px 0;
}

.insight-box .insight-title {
  color: #a78bfa;
  font-weight: 700;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.pitfall-item {
  background: rgba(244, 114, 182, 0.07);
  border-left: 3px solid #f472b6;
  border-radius: 0 10px 10px 0;
  padding: 12px 16px;
  margin: 10px 0;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 8px;
}

.theory-content {
  background: #0f172a;
  border-radius: 10px;
  padding: 16px;
  border: 1px solid #334155;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
  margin: 0 auto;
  background: #0f172a;
}

.canvas-hint {
  text-align: center;
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
  margin: 14px 0;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  font-weight: 700;
  color: #60a5fa;
  font-size: 1.1rem;
}

.challenge-box {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid rgba(96, 165, 250, 0.2);
  border-radius: 12px;
  padding: 18px 20px;
  margin: 12px 0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .options-grid { grid-template-columns: 1fr 1fr; }
  .given-grid { grid-template-columns: 1fr; }
  .final-answer-box .answer-text { font-size: 1.4rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Dvostrani ugao bočne strane i osnove pravilnog tetraedra</h1>
  <p class="subtitle">Stereometrija — dijaedralni ugao u pravilnom tetraedru</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Ugao koji obrazuju <span class="highlight-val">bočna strana</span> i <span class="highlight-val">osnova</span> pravilnog tetraedra iznosi:</p>
    <div class="options-grid">
      <div class="option-card"><span class="option-label">(A)</span> \(\arctg 2\)</div>
      <div class="option-card"><span class="option-label">(B)</span> \(\dfrac{\pi}{3}\)</div>
      <div class="option-card"><span class="option-label">(C)</span> \(\arctg 4\)</div>
      <div class="option-card correct"><span class="option-label">(D)</span> \(\arctg 2\sqrt{2}\)</div>
      <div class="option-card"><span class="option-label">(E)</span> \(\dfrac{\pi}{4}\)</div>
    </div>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Telo</div>
        <div class="value">Pravilan tetraedar</div>
      </div>
      <div class="given-item">
        <div class="label">Sve ivice</div>
        <div class="value">\(a\)</div>
      </div>
      <div class="given-item">
        <div class="label">Tražimo</div>
        <div class="value">Dijaedralni ugao</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p>Postavićemo koordinatni sistem u osnovu pravilnog tetraedra. Dijaedralni ugao između bočne strane i osnove merimo duž njihove zajedničke ivice. Za to ćemo naći <span class="highlight-purple">normalne vektore</span> na obe ravni, ili koristiti <span class="highlight-val">visine trouglova</span> na zajedničku ivicu.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <h2>Teorijsko podsetnik</h2>
    <details>
      <summary>Ključne formule i pojmovi</summary>
      <div class="theory-content">
        <p><strong>Pravilan tetraedar</strong> je tetraedar kod koga su sve četiri strane jednakostranični trouglovi. Sve ivice imaju istu dužinu \(a\).</p>
        <div class="math-box">
          <p>Visina pravilnog tetraedra: \(\displaystyle h = a\sqrt{\frac{2}{3}}\)</p>
        </div>
        <div class="math-box">
          <p>Visina jednakostraničnog trougla sa stranicom \(a\): \(\displaystyle h_{\triangle} = \frac{a\sqrt{3}}{2}\)</p>
        </div>
        <div class="math-box">
          <p><strong>Dijaedralni ugao</strong> — ugao između dve ravni meren duž linije preseka. Određuje se pomoću uglova koje zaklapaju prave u svakoj ravni, normalne na liniju preseka, a koje polaze iz iste tačke na liniji preseka.</p>
        </div>
        <div class="math-box">
          <p>Rastojanje težišta jednakostraničnog trougla od stranice: \(\displaystyle d = \frac{a\sqrt{3}}{6}\)</p>
        </div>
      </div>
    </details>
  </div>

  <!-- Interactive Diagram -->
  <div class="card">
    <h2>Interaktivni dijagram</h2>
    <canvas id="tetraCanvas" width="700" height="520"></canvas>
    <p class="canvas-hint">Prevucite miša da rotirate tetraedar</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div style="margin-bottom: 20px;">
      <div class="step-title"><span class="step-badge">1</span>Postavljanje koordinatnog sistema</div>
      <p>Neka je osnova pravilnog tetraedra trougao \(ABC\) sa stranicom dužine \(a\). Postavimo koordinatni sistem:</p>
      <div class="math-box">
        \[
        A = (0,\, 0,\, 0), \quad B = (a,\, 0,\, 0), \quad C = \left(\frac{a}{2},\, \frac{a\sqrt{3}}{2},\, 0\right)
        \]
      </div>
      <p>Težište osnove je:</p>
      <div class="math-box">
        \[
        G = \left(\frac{a}{2},\, \frac{a\sqrt{3}}{6},\, 0\right)
        \]
      </div>
      <p>Vrh tetraedra \(D\) se nalazi direktno iznad težišta na visini \(h = a\sqrt{\frac{2}{3}}\):</p>
      <div class="math-box">
        \[
        D = \left(\frac{a}{2},\, \frac{a\sqrt{3}}{6},\, a\sqrt{\frac{2}{3}}\right)
        \]
      </div>
    </div>

    <!-- Step 2 -->
    <div style="margin-bottom: 20px;">
      <div class="step-title"><span class="step-badge">2</span>Definisanje dijaedralnog ugla</div>
      <p>Dijaedralni ugao između bočne strane \(ABD\) i osnove \(ABC\) meri se <span class="highlight-val">duž zajedničke ivice \(AB\)</span>.</p>
      <p>Za merenje ovog ugla potrebne su nam dve prave — obe normalne na \(AB\), ali jedna leži u ravni osnove, a druga u bočnoj strani:</p>
      <ul style="margin: 10px 0 10px 20px;">
        <li>Nožište visine iz \(C\) na \(AB\) — označimo ga sa \(M\)</li>
        <li>Nožište visine iz \(D\) na \(AB\) — to je isto tačka \(M\) (jer je \(DA = DB\))</li>
      </ul>
      <p>Pošto je trougao \(ABC\) jednakostranični, tačka \(M\) je <span class="highlight-purple">središte ivice \(AB\)</span>:</p>
      <div class="math-box">
        \[
        M = \left(\frac{a}{2},\, 0,\, 0\right)
        \]
      </div>
      <p>Ugao \(\theta\) koji tražimo je ugao \(\angle CMD\).</p>
    </div>

    <!-- Step 3 -->
    <div style="margin-bottom: 20px;">
      <div class="step-title"><span class="step-badge">3</span>Izračunavanje vektora \(\overrightarrow{MC}\) i \(\overrightarrow{MD}\)</div>
      <div class="math-box">
        \[
        \overrightarrow{MC} = C - M = \left(0,\, \frac{a\sqrt{3}}{2},\, 0\right)
        \]
      </div>
      <div class="math-box">
        \[
        \overrightarrow{MD} = D - M = \left(0,\, \frac{a\sqrt{3}}{6},\, a\sqrt{\frac{2}{3}}\right)
        \]
      </div>
      <p>Dužine ovih vektora:</p>
      <div class="math-box">
        \[
        |\overrightarrow{MC}| = \frac{a\sqrt{3}}{2}
        \]
      </div>
      <div class="math-box">
        \[
        |\overrightarrow{MD}| = \sqrt{\frac{a^2 \cdot 3}{36} + \frac{2a^2}{3}} = \sqrt{\frac{a^2}{12} + \frac{8a^2}{12}} = \sqrt{\frac{9a^2}{12}} = \frac{a\sqrt{3}}{2}
        \]
      </div>
      <p>Oba vektora imaju istu dužinu \(\dfrac{a\sqrt{3}}{2}\), što ima smisla — oba su <span class="highlight-green">visine jednakostraničnog trougla</span> sa stranicom \(a\).</p>

      <details>
        <summary>Proveri sebe: Zašto je \(|MD| = |MC|\)?</summary>
        <div class="theory-content">
          <p>Vektor \(\overrightarrow{MC}\) je visina jednakostraničnog trougla \(ABC\) iz temena \(C\) na stranicu \(AB\). Vektor \(\overrightarrow{MD}\) je visina jednakostraničnog trougla \(ABD\) iz temena \(D\) na stranicu \(AB\). Pošto su svi trouglovi u pravilnom tetraedru jednakostranični sa istom stranicom \(a\), njihove visine su jednake!</p>
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div style="margin-bottom: 20px;">
      <div class="step-title"><span class="step-badge">4</span>Izračunavanje ugla pomoću skalarnog proizvoda</div>
      <p>Skalarni proizvod:</p>
      <div class="math-box">
        \[
        \overrightarrow{MC} \cdot \overrightarrow{MD} = 0 \cdot 0 + \frac{a\sqrt{3}}{2} \cdot \frac{a\sqrt{3}}{6} + 0 \cdot a\sqrt{\frac{2}{3}} = \frac{3a^2}{12} = \frac{a^2}{4}
        \]
      </div>
      <p>Kosinus ugla:</p>
      <div class="math-box">
        \[
        \cos\theta = \frac{\overrightarrow{MC} \cdot \overrightarrow{MD}}{|\overrightarrow{MC}| \cdot |\overrightarrow{MD}|} = \frac{\dfrac{a^2}{4}}{\dfrac{a\sqrt{3}}{2} \cdot \dfrac{a\sqrt{3}}{2}} = \frac{\dfrac{a^2}{4}}{\dfrac{3a^2}{4}} = \frac{1}{3}
        \]
      </div>
      <p>Dakle: \(\cos\theta = \dfrac{1}{3}\).</p>

      <details>
        <summary>Proveri sebe: Koliko je \(\theta\) u stepenima?</summary>
        <div class="theory-content">
          <p>\(\theta = \arccos\!\left(\dfrac{1}{3}\right) \approx 70{,}53°\). Ovaj ugao je veći od \(60°\) ali manji od \(90°\), što intuitivno ima smisla za bočnu stranu tetraedra.</p>
        </div>
      </details>
    </div>

    <!-- Step 5 -->
    <div style="margin-bottom: 20px;">
      <div class="step-title"><span class="step-badge">5</span>Prevođenje u oblik \(\arctg\)</div>
      <p>Odgovori su dati u obliku arkustangensa, pa izračunajmo \(\tg\theta\):</p>
      <div class="math-box">
        \[
        \cos\theta = \frac{1}{3} \implies \sin\theta = \sqrt{1 - \frac{1}{9}} = \sqrt{\frac{8}{9}} = \frac{2\sqrt{2}}{3}
        \]
      </div>
      <div class="math-box">
        \[
        \tg\theta = \frac{\sin\theta}{\cos\theta} = \frac{\dfrac{2\sqrt{2}}{3}}{\dfrac{1}{3}} = 2\sqrt{2}
        \]
      </div>
      <p>Prema tome:</p>
      <div class="math-box">
        \[
        \boxed{\theta = \arctg\left(2\sqrt{2}\right)}
        \]
      </div>

      <details>
        <summary>Proveri sebe: Da li se \(\arctg(2\sqrt{2})\) slaže sa \(\arccos(1/3)\)?</summary>
        <div class="theory-content">
          <p>Da! \(\arctg(2\sqrt{2}) = \arctg(2{,}828\ldots) \approx 70{,}53°\), a \(\arccos(1/3) \approx 70{,}53°\). Vrednosti su identične, čime potvrđujemo ispravnost.</p>
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card">
    <div class="insight-box">
      <div class="insight-title">Ključni uvid</div>
      <p>U pravilnom tetraedru, dijaedralni ugao između bilo koje dve strane je uvek isti i iznosi \(\arccos\!\left(\frac{1}{3}\right) = \arctg\left(2\sqrt{2}\right) \approx 70{,}53°\). Ovo je univerzalna konstanta pravilnog tetraedra — ne zavisi od dužine ivice!</p>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card">
    <h2>Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-card"><span class="option-label">(A)</span> \(\arctg 2 \approx 63{,}43°\)</div>
      <div class="option-card"><span class="option-label">(B)</span> \(\frac{\pi}{3} = 60°\)</div>
      <div class="option-card"><span class="option-label">(C)</span> \(\arctg 4 \approx 75{,}96°\)</div>
      <div class="option-card correct"><span class="option-label">(D)</span> \(\arctg 2\sqrt{2} \approx 70{,}53°\)</div>
      <div class="option-card"><span class="option-label">(E)</span> \(\frac{\pi}{4} = 45°\)</div>
    </div>
    <div class="final-answer-box">
      <div class="answer-text">(D) \(\arctg 2\sqrt{2}\)</div>
      <div class="answer-note">Verifikacija: \(\cos(\arctg 2\sqrt{2}) = \dfrac{1}{3}\), a iz skalarnog proizvoda smo dobili upravo \(\cos\theta = \dfrac{1}{3}\).</div>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <div class="pitfall-item">
      <strong>Mešanje dijaedralnog ugla sa uglom bočne ivice:</strong> Dijaedralni ugao se meri između dve ravni duž zajedničke ivice, ne između ivice tela i ravni osnove. Pogrešno tumačenje može dovesti do odgovora \(\arctg\sqrt{2}\) ili nekog drugog.
    </div>
    <div class="pitfall-item">
      <strong>Zaboravljanje da je \(M\) središte ivice:</strong> U pravilnom tetraedru, projekcija vrha \(D\) na ivicu \(AB\) pada u središte te ivice jer je \(DA = DB\). Pogrešna tačka bi dala pogrešan ugao.
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <div class="challenge-box">
      <p>Koliki je ugao između dve bočne strane pravilnog tetraedra (dijaedralni ugao duž bočne ivice)?</p>
      <details>
        <summary>Nagoveštaj</summary>
        <div class="theory-content">
          <p>U pravilnom tetraedru, svi dijaedralni uglovi su jednaki! Dakle, ugao između bilo koje dve strane (uključujući dve bočne) je takođe \(\arccos\!\left(\frac{1}{3}\right) = \arctg\left(2\sqrt{2}\right) \approx 70{,}53°\). Ovo je zato što je svaka strana u potpuno istom odnosu prema svim ostalim stranama — nema razlike između "osnove" i "bočne strane" u pravilnom tetraedru.</p>
        </div>
      </details>
    </div>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('tetraCanvas');
  var ctx = canvas.getContext('2d');

  var W, H;
  var angleX = -0.45;
  var angleY = 0.6;
  var dragging = false;
  var lastX = 0, lastY = 0;

  function resize() {
    var rect = canvas.getBoundingClientRect();
    var dpr = window.devicePixelRatio || 1;
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    W = rect.width;
    H = rect.height;
  }

  function rotateX(p, a) {
    var c = Math.cos(a), s = Math.sin(a);
    return [p[0], p[1]*c - p[2]*s, p[1]*s + p[2]*c];
  }
  function rotateY(p, a) {
    var c = Math.cos(a), s = Math.sin(a);
    return [p[0]*c + p[2]*s, p[1], -p[0]*s + p[2]*c];
  }

  function project(p) {
    var scale = 200;
    var cx = W / 2;
    var cy = H / 2 + 30;
    var r = rotateY(rotateX(p, angleX), angleY);
    return [cx + r[0] * scale, cy - r[1] * scale, r[2]];
  }

  // Regular tetrahedron vertices (edge = 1)
  var a = 1;
  var sq3 = Math.sqrt(3);
  var sq6 = Math.sqrt(6);

  var A = [-a/2, -sq3/6, -sq6/12];
  var B = [a/2, -sq3/6, -sq6/12];
  var C = [0, sq3/3, -sq6/12];
  var D = [0, 0, sq6/4];

  // Midpoint of AB
  var M = [(A[0]+B[0])/2, (A[1]+B[1])/2, (A[2]+B[2])/2];

  // Centroid of ABC
  var G = [(A[0]+B[0]+C[0])/3, (A[1]+B[1]+C[1])/3, (A[2]+B[2]+C[2])/3];

  function drawLine(p1, p2, color, width, dash) {
    var a2 = project(p1);
    var b2 = project(p2);
    ctx.beginPath();
    ctx.strokeStyle = color;
    ctx.lineWidth = width || 2;
    if (dash) ctx.setLineDash(dash);
    else ctx.setLineDash([]);
    ctx.moveTo(a2[0], a2[1]);
    ctx.lineTo(b2[0], b2[1]);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawPoint(p, color, radius) {
    var pp = project(p);
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.arc(pp[0], pp[1], radius || 5, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawLabel(p, text, color, offsetX, offsetY) {
    var pp = project(p);
    ctx.fillStyle = color || '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText(text, pp[0] + (offsetX || 8), pp[1] + (offsetY || -8));
  }

  function fillTriangle(p1, p2, p3, color) {
    var a2 = project(p1);
    var b2 = project(p2);
    var c2 = project(p3);
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.moveTo(a2[0], a2[1]);
    ctx.lineTo(b2[0], b2[1]);
    ctx.lineTo(c2[0], c2[1]);
    ctx.closePath();
    ctx.fill();
  }

  function drawArc(center, p1, p2, color, radius) {
    var pc = project(center);
    var pp1 = project(p1);
    var pp2 = project(p2);

    var a1 = Math.atan2(pp1[1] - pc[1], pp1[0] - pc[0]);
    var a2 = Math.atan2(pp2[1] - pc[1], pp2[0] - pc[0]);

    // Ensure we draw the smaller arc
    var diff = a2 - a1;
    if (diff > Math.PI) a2 -= 2 * Math.PI;
    if (diff < -Math.PI) a2 += 2 * Math.PI;

    ctx.beginPath();
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.arc(pc[0], pc[1], radius || 30, a1, a2, a2 < a1);
    ctx.stroke();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Fill base triangle
    fillTriangle(A, B, C, 'rgba(96, 165, 250, 0.08)');

    // Fill lateral face ABD
    fillTriangle(A, B, D, 'rgba(167, 139, 250, 0.1)');

    // Draw edges
    // Base edges
    drawLine(A, B, '#60a5fa', 2.5);
    drawLine(B, C, '#60a5fa', 2);
    drawLine(C, A, '#60a5fa', 2);

    // Lateral edges
    drawLine(A, D, '#a78bfa', 2);
    drawLine(B, D, '#a78bfa', 2);
    drawLine(C, D, '#a78bfa', 1.5, [5, 5]);

    // Draw construction lines
    drawLine(M, C, '#34d399', 2, [4, 4]);
    drawLine(M, D, '#f472b6', 2, [4, 4]);

    // Draw the dihedral angle arc
    drawArc(M, C, D, '#fbbf24', 28);

    // Draw points
    drawPoint(A, '#60a5fa', 5);
    drawPoint(B, '#60a5fa', 5);
    drawPoint(C, '#60a5fa', 5);
    drawPoint(D, '#a78bfa', 6);
    drawPoint(M, '#fbbf24', 5);

    // Labels
    drawLabel(A, 'A', '#60a5fa', -20, 16);
    drawLabel(B, 'B', '#60a5fa', 10, 16);
    drawLabel(C, 'C', '#60a5fa', 10, 16);
    drawLabel(D, 'D', '#a78bfa', 8, -12);
    drawLabel(M, 'M', '#fbbf24', -22, 5);

    // Angle label
    var midAnglePt = [(M[0] + C[0] + D[0]) / 3, (M[1] + C[1] + D[1]) / 3, (M[2] + C[2] + D[2]) / 3];
    var mp = project(midAnglePt);
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u03B8', mp[0] - 2, mp[1] + 2);

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    var lx = 16, ly = H - 80;
    ctx.fillStyle = '#34d399';
    ctx.fillRect(lx, ly, 20, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('MC - visina osnove na AB', lx + 28, ly + 5);

    ctx.fillStyle = '#f472b6';
    ctx.fillRect(lx, ly + 22, 20, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('MD - visina bočne strane na AB', lx + 28, ly + 27);

    ctx.fillStyle = '#fbbf24';
    ctx.fillText('\u03B8 = arctg(2\u221A2) \u2248 70,53\u00B0', lx + 28, ly + 49);
    ctx.beginPath();
    ctx.arc(lx + 10, ly + 45, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#fbbf24';
    ctx.fill();
  }

  // Mouse/touch interaction for rotation
  canvas.addEventListener('mousedown', function(e) {
    dragging = true;
    lastX = e.clientX;
    lastY = e.clientY;
  });
  window.addEventListener('mousemove', function(e) {
    if (!dragging) return;
    var dx = e.clientX - lastX;
    var dy = e.clientY - lastY;
    angleY += dx * 0.008;
    angleX += dy * 0.008;
    lastX = e.clientX;
    lastY = e.clientY;
    draw();
  });
  window.addEventListener('mouseup', function() {
    dragging = false;
  });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    dragging = true;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
  }, { passive: false });
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (!dragging) return;
    var dx = e.touches[0].clientX - lastX;
    var dy = e.touches[0].clientY - lastY;
    angleY += dx * 0.008;
    angleX += dy * 0.008;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
    draw();
  }, { passive: false });
  canvas.addEventListener('touchend', function() {
    dragging = false;
  });

  window.addEventListener('resize', function() {
    resize();
    draw();
  });

  resize();
  draw();
})();
</script>
</body>
</html>

<!--BRAINSPARK_META
{
  "title": "Dvostrani ugao bočne strane i osnove pravilnog tetraedra",
  "subject": "math",
  "unit": "solid geometry",
  "topic_tags": ["stereometrija", "pravilan tetraedar", "dijaedralni ugao", "skalarni proizvod", "trigonometrija"]
}
BRAINSPARK_META-->
