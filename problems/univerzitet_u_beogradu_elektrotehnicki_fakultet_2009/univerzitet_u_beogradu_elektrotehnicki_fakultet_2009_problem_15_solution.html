<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednacina kruga sa centrom u preseku pravih</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Jednacina kruga ciji je centar presecna tacka pravih x + 2y - 2 = 0, 3x + y + 4 = 0
i koji dodiruje pravu 5x + 12y - 1 = 0, jeste:
(A) (x-2)^2 + (y+2)^2 = 1
(B) (x+2)^2 + (y-2)^2 = 4
(C) (x+2)^2 + (y-2)^2 = 1
(D) (x-2)^2 + (y+2)^2 = 1/13
(E) x^2 + y^2 - 4x + 4y + 3 = 0
(N) Ne znam

SOLUTION:

Step 1: Find intersection of x + 2y - 2 = 0 and 3x + y + 4 = 0

From first equation: x = 2 - 2y
Substitute into second: 3(2 - 2y) + y + 4 = 0
6 - 6y + y + 4 = 0
10 - 5y = 0
y = 2

x = 2 - 2(2) = 2 - 4 = -2

Center: C(-2, 2)

Step 2: Find distance from C(-2, 2) to line 5x + 12y - 1 = 0

d = |5(-2) + 12(2) - 1| / sqrt(5^2 + 12^2)
d = |-10 + 24 - 1| / sqrt(25 + 144)
d = |13| / sqrt(169)
d = 13 / 13
d = 1

Since the circle is tangent to the line, r = d = 1.

Step 3: Write the equation
(x - (-2))^2 + (y - 2)^2 = 1^2
(x + 2)^2 + (y - 2)^2 = 1

ANSWER: (C) (x+2)^2 + (y-2)^2 = 1

VERIFICATION:
- Center (-2, 2) lies on x + 2y - 2 = 0: -2 + 2(2) - 2 = -2 + 4 - 2 = 0. Correct.
- Center (-2, 2) lies on 3x + y + 4 = 0: 3(-2) + 2 + 4 = -6 + 2 + 4 = 0. Correct.
- Distance from (-2, 2) to 5x + 12y - 1 = 0: |5(-2) + 12(2) - 1| / 13 = |13| / 13 = 1. Correct.
- Radius = 1, so r^2 = 1. Correct.
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.blue-icon { background: rgba(96,165,250,0.15); color: #60a5fa; }
.purple-icon { background: rgba(167,139,250,0.15); color: #a78bfa; }
.green-icon { background: rgba(52,211,153,0.15); color: #34d399; }
.pink-icon { background: rgba(244,114,182,0.15); color: #f472b6; }
.amber-icon { background: rgba(251,191,36,0.15); color: #fbbf24; }
.cyan-icon { background: rgba(34,211,238,0.15); color: #22d3ee; }

.problem-statement {
  background: linear-gradient(135deg, rgba(96,165,250,0.08), rgba(167,139,250,0.08));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 12px;
  padding: 24px;
  font-size: 1.1rem;
  line-height: 1.8;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.option-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: all 0.3s;
}

.option-item.correct {
  border-color: #34d399;
  background: rgba(52,211,153,0.1);
  color: #34d399;
  font-weight: 600;
}

.option-item.wrong {
  border-color: #f87171;
  background: rgba(248,113,113,0.1);
  color: #f87171;
}

.plan-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.plan-step {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 12px 16px;
  background: #0f172a;
  border-radius: 10px;
  border-left: 3px solid #60a5fa;
}

.plan-step-num {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.collapsible-header {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  user-select: none;
}

.collapsible-header:hover {
  opacity: 0.85;
}

.collapsible-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
}

.collapsible-content.open {
  max-height: 3000px;
  padding-top: 16px;
}

.arrow-indicator {
  font-size: 0.9rem;
  transition: transform 0.3s;
  color: #94a3b8;
}

.arrow-indicator.open {
  transform: rotate(180deg);
}

.theory-block {
  background: #0f172a;
  border-radius: 10px;
  padding: 20px;
  margin-top: 8px;
  border-left: 3px solid #a78bfa;
}

.theory-block p, .theory-block li {
  margin-bottom: 8px;
}

.theory-block ul {
  padding-left: 20px;
}

.step-section {
  border-left: 3px solid transparent;
  padding: 20px;
  margin-bottom: 20px;
  background: #0f172a;
  border-radius: 10px;
  position: relative;
}

.step-section.blue-border { border-left-color: #60a5fa; }
.step-section.purple-border { border-left-color: #a78bfa; }
.step-section.green-border { border-left-color: #34d399; }
.step-section.pink-border { border-left-color: #f472b6; }
.step-section.amber-border { border-left-color: #fbbf24; }
.step-section.cyan-border { border-left-color: #22d3ee; }

.step-label {
  font-size: 0.8rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 10px;
}

.step-label.blue { color: #60a5fa; }
.step-label.purple { color: #a78bfa; }
.step-label.green { color: #34d399; }
.step-label.pink { color: #f472b6; }
.step-label.amber { color: #fbbf24; }
.step-label.cyan { color: #22d3ee; }

.checkpoint {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 16px 0;
  font-size: 0.95rem;
}

.checkpoint-label {
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 4px;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.insight-box {
  background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(244,114,182,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 12px;
  padding: 22px;
  margin: 16px 0;
}

.insight-box .insight-title {
  color: #a78bfa;
  font-weight: 700;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.12));
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 28px;
  text-align: center;
}

.final-answer .label {
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #34d399;
  margin-bottom: 10px;
}

.final-answer .value {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  line-height: 1.4;
}

.final-answer .explanation {
  color: #94a3b8;
  margin-top: 10px;
  font-size: 0.95rem;
}

.verification-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
}

.verification-table th,
.verification-table td {
  padding: 10px 14px;
  text-align: center;
  border-bottom: 1px solid #334155;
}

.verification-table th {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.verification-table tr:last-child td {
  border-bottom: none;
}

.badge-yes {
  display: inline-block;
  background: rgba(52,211,153,0.15);
  color: #34d399;
  padding: 2px 10px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.85rem;
}

.badge-no {
  display: inline-block;
  background: rgba(248,113,113,0.15);
  color: #f87171;
  padding: 2px 10px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.85rem;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
  cursor: crosshair;
  touch-action: none;
}

.canvas-wrapper {
  position: relative;
  margin: 16px 0;
}

.canvas-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.canvas-btn {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 8px 16px;
  color: #e2e8f0;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s;
  font-family: inherit;
}

.canvas-btn:hover {
  border-color: #60a5fa;
  color: #60a5fa;
}

.canvas-btn.active {
  background: rgba(96,165,250,0.15);
  border-color: #60a5fa;
  color: #60a5fa;
  font-weight: 600;
}

.canvas-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  margin-top: 10px;
  font-size: 0.85rem;
  color: #94a3b8;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 3px;
  flex-shrink: 0;
}

.pitfall-item {
  padding: 14px 18px;
  background: #0f172a;
  border-radius: 10px;
  border-left: 3px solid #f87171;
  margin-bottom: 10px;
}

.pitfall-item .pitfall-title {
  color: #f87171;
  font-weight: 700;
  margin-bottom: 4px;
  font-size: 0.95rem;
}

.challenge-box {
  background: linear-gradient(135deg, rgba(251,191,36,0.08), rgba(244,114,182,0.08));
  border: 1px solid rgba(251,191,36,0.25);
  border-radius: 12px;
  padding: 22px;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  .container { padding: 10px; }
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .options-grid { grid-template-columns: 1fr; }
  .verification-table { font-size: 0.85rem; }
  .verification-table th, .verification-table td { padding: 6px 8px; }
  .final-answer .value { font-size: 1.4rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Jednacina kruga sa centrom u preseku pravih</h1>
  <p class="subtitle">Analitcka geometrija &mdash; Krug, presek pravih, rastojanje tacke od prave</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title">
      <span class="icon blue-icon">?</span>
      Tekst zadatka
    </div>
    <div class="problem-statement">
      Jednacina kruga ciji je centar presecna tacka pravih \(x + 2y - 2 = 0\) i \(3x + y + 4 = 0\), i koji dodiruje pravu \(5x + 12y - 1 = 0\), jeste:
      <div class="options-grid" id="options-grid">
        <div class="option-item" data-opt="A">(A) \((x-2)^2 + (y+2)^2 = 1\)</div>
        <div class="option-item" data-opt="B">(B) \((x+2)^2 + (y-2)^2 = 4\)</div>
        <div class="option-item correct" data-opt="C">(C) \((x+2)^2 + (y-2)^2 = 1\)</div>
        <div class="option-item" data-opt="D">(D) \((x-2)^2 + (y+2)^2 = \tfrac{1}{13}\)</div>
        <div class="option-item" data-opt="E">(E) \(x^2 + y^2 - 4x + 4y + 3 = 0\)</div>
        <div class="option-item" data-opt="N" style="opacity:0.5">(N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title">
      <span class="icon purple-icon">P</span>
      Plan resavanja
    </div>
    <div class="plan-steps">
      <div class="plan-step">
        <span class="plan-step-num">1</span>
        <span>Naci presecnu tacku pravih \(x + 2y - 2 = 0\) i \(3x + y + 4 = 0\) &mdash; to je centar kruga</span>
      </div>
      <div class="plan-step">
        <span class="plan-step-num">2</span>
        <span>Izracunati rastojanje od centra do prave \(5x + 12y - 1 = 0\) &mdash; to je poluprecnik (jer krug dodiruje pravu)</span>
      </div>
      <div class="plan-step">
        <span class="plan-step-num">3</span>
        <span>Napisati jednacinu kruga i uporediti sa ponudenim odgovorima</span>
      </div>
    </div>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="collapsible-header" onclick="toggleCollapsible(this)">
      <div class="card-title" style="margin-bottom:0">
        <span class="icon amber-icon">T</span>
        Teorijski podsetnik
      </div>
      <span class="arrow-indicator">&#9660;</span>
    </div>
    <div class="collapsible-content">
      <div class="theory-block">
        <p><strong>Jednacina kruga:</strong></p>
        <p>Krug sa centrom \(C(p, q)\) i poluprecnikom \(r\) ima jednacinu:</p>
        \[(x - p)^2 + (y - q)^2 = r^2\]

        <p style="margin-top:14px"><strong>Rastojanje tacke od prave:</strong></p>
        <p>Rastojanje tacke \(M(x_0, y_0)\) od prave \(Ax + By + C = 0\) je:</p>
        \[d = \frac{|Ax_0 + By_0 + C|}{\sqrt{A^2 + B^2}}\]

        <p style="margin-top:14px"><strong>Krug dodiruje pravu:</strong></p>
        <p>Krug <em>dodiruje</em> (tangira) pravu ako i samo ako je rastojanje od centra kruga do te prave jednako poluprecniku:</p>
        \[d(C, p) = r\]
        <p>U tom slucaju prava ima tacno jednu zajednicku tacku sa krugom &mdash; <em>tacku dodira</em>.</p>

        <p style="margin-top:14px"><strong>Presecna tacka dve prave:</strong></p>
        <p>Presecna tacka pravih \(a_1x + b_1y + c_1 = 0\) i \(a_2x + b_2y + c_2 = 0\) se dobija resavanjem sistema od dve linearne jednacine sa dve nepoznate.</p>
      </div>
    </div>
  </div>

  <!-- Visual Aid (Canvas) -->
  <div class="card">
    <div class="card-title">
      <span class="icon cyan-icon">G</span>
      Graficki prikaz
    </div>
    <p style="color:#94a3b8; margin-bottom:8px;">Interaktivni dijagram: pomerajte mis za koordinate. Prikazane su dve prave (ciji je presek centar kruga), krug i tangentna prava.</p>
    <div class="canvas-wrapper">
      <canvas id="mainCanvas" width="800" height="700"></canvas>
    </div>
    <div class="canvas-controls">
      <button class="canvas-btn active" id="btnAll" onclick="toggleLayer('all', this)">Sve</button>
      <button class="canvas-btn" id="btnLines" onclick="toggleLayer('lines', this)">Samo prave</button>
      <button class="canvas-btn" id="btnCircle" onclick="toggleLayer('circle', this)">Samo krug</button>
      <button class="canvas-btn" id="btnDist" onclick="toggleLayer('dist', this)">Rastojanje</button>
    </div>
    <div class="canvas-legend">
      <div class="legend-item"><div class="legend-dot" style="background:#60a5fa;"></div>\(x + 2y - 2 = 0\)</div>
      <div class="legend-item"><div class="legend-dot" style="background:#a78bfa;"></div>\(3x + y + 4 = 0\)</div>
      <div class="legend-item"><div class="legend-dot" style="background:#f472b6;"></div>\(5x + 12y - 1 = 0\) (tangenta)</div>
      <div class="legend-item"><div class="legend-dot" style="background:#34d399; border-radius:50%;"></div>Krug</div>
      <div class="legend-item"><div class="legend-dot" style="background:#fbbf24; border-radius:50%;"></div>Centar \(C(-2{,}\,2)\)</div>
    </div>
  </div>

  <!-- Step-by-Step -->
  <div class="card">
    <div class="card-title">
      <span class="icon green-icon">R</span>
      Resavanje korak po korak
    </div>

    <!-- Step 1 -->
    <div class="step-section blue-border">
      <div class="step-label blue">Korak 1 &mdash; Presecna tacka pravih (centar kruga)</div>
      <p>Resavamo sistem jednacina:</p>
      \[\begin{cases} x + 2y - 2 = 0 \\ 3x + y + 4 = 0 \end{cases}\]

      <p style="margin-top:10px">Iz prve jednacine izrazavamo \(x\):</p>
      \[x = 2 - 2y\]

      <p>Zamenjujemo u drugu jednacinu:</p>
      \[3(2 - 2y) + y + 4 = 0\]
      \[6 - 6y + y + 4 = 0\]
      \[10 - 5y = 0\]
      \[\boxed{y = 2}\]

      <p style="margin-top:8px">Vracamo u izraz za \(x\):</p>
      \[x = 2 - 2 \cdot 2 = 2 - 4 = -2\]
      \[\boxed{x = -2}\]

      <div class="checkpoint">
        <div class="checkpoint-label">Kontrolna tacka</div>
        Centar kruga je \(C(-2{,}\; 2)\). Proveravamo: \(-2 + 2 \cdot 2 - 2 = 0\) i \(3 \cdot (-2) + 2 + 4 = 0\). Oba uslova su zadovoljena.
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-section purple-border">
      <div class="step-label purple">Korak 2 &mdash; Rastojanje od centra do tangentne prave (poluprecnik)</div>
      <p>Krug dodiruje pravu \(5x + 12y - 1 = 0\), sto znaci da je rastojanje od centra do te prave jednako poluprecniku.</p>
      <p style="margin-top:10px">Primenjujemo formulu za rastojanje tacke \(C(-2{,}\; 2)\) od prave \(5x + 12y - 1 = 0\):</p>
      \[r = d = \frac{|5 \cdot (-2) + 12 \cdot 2 - 1|}{\sqrt{5^2 + 12^2}}\]

      <p style="margin-top:8px">Racunamo brojilac:</p>
      \[|5 \cdot (-2) + 12 \cdot 2 - 1| = |-10 + 24 - 1| = |13| = 13\]

      <p style="margin-top:8px">Racunamo imenilac:</p>
      \[\sqrt{5^2 + 12^2} = \sqrt{25 + 144} = \sqrt{169} = 13\]

      <p style="margin-top:8px">Dakle:</p>
      \[r = \frac{13}{13} = \boxed{1}\]

      <div class="checkpoint">
        <div class="checkpoint-label">Kontrolna tacka</div>
        Poluprecnik kruga je \(r = 1\). Primetimo da se \(5{,}\; 12{,}\; 13\) pojavljuje kao Pitagorin trojac, sto cini racun veoma elegantnim.
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-section green-border">
      <div class="step-label green">Korak 3 &mdash; Jednacina kruga</div>
      <p>Imamo centar \(C(-2{,}\; 2)\) i poluprecnik \(r = 1\). Jednacina kruga je:</p>
      \[(x - (-2))^2 + (y - 2)^2 = 1^2\]
      \[\boxed{(x + 2)^2 + (y - 2)^2 = 1}\]

      <p style="margin-top:10px">Ovo odgovara opciji <strong>(C)</strong>.</p>
    </div>

    <!-- Verification Step -->
    <div class="step-section amber-border">
      <div class="step-label amber">Korak 4 &mdash; Verifikacija i analiza ostalih opcija</div>
      <p>Proverimo zasto su ostale opcije netacne:</p>
      <table class="verification-table">
        <thead>
          <tr>
            <th>Opcija</th>
            <th>Centar</th>
            <th>\(r^2\)</th>
            <th>Tacan centar?</th>
            <th>Tacan \(r\)?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>(A)</td>
            <td>\((2{,}\; -2)\)</td>
            <td>\(1\)</td>
            <td><span class="badge-no">Ne</span></td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
          <tr>
            <td>(B)</td>
            <td>\((-2{,}\; 2)\)</td>
            <td>\(4\)</td>
            <td><span class="badge-yes">Da</span></td>
            <td><span class="badge-no">Ne</span></td>
          </tr>
          <tr style="background:rgba(52,211,153,0.06)">
            <td><strong>(C)</strong></td>
            <td>\((-2{,}\; 2)\)</td>
            <td>\(1\)</td>
            <td><span class="badge-yes">Da</span></td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
          <tr>
            <td>(D)</td>
            <td>\((2{,}\; -2)\)</td>
            <td>\(\tfrac{1}{13}\)</td>
            <td><span class="badge-no">Ne</span></td>
            <td><span class="badge-no">Ne</span></td>
          </tr>
          <tr>
            <td>(E)</td>
            <td>\((2{,}\; -2)\)</td>
            <td>\(1\)</td>
            <td><span class="badge-no">Ne</span></td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
        </tbody>
      </table>
      <div class="checkpoint" style="margin-top:14px">
        <div class="checkpoint-label">Objasnjenje opcije (E)</div>
        Opcija (E): \(x^2 + y^2 - 4x + 4y + 3 = 0\). Dopunimo do potpunog kvadrata:<br>
        \((x^2 - 4x + 4) + (y^2 + 4y + 4) + 3 - 4 - 4 = 0\)<br>
        \((x-2)^2 + (y+2)^2 = 5\)<br>
        Centar je \((2{,}\; -2)\), a poluprecnik \(\sqrt{5}\) &mdash; oba su pogresna.
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card">
    <div class="insight-box">
      <div class="insight-title">Kljucni uvid</div>
      <p>Opcije (A), (D) i (E) imaju centar \((2{,}\; -2)\) &mdash; sto je tacka sa <strong>zamenjenim znacima</strong> koordinata u odnosu na tacan centar \((-2{,}\; 2)\). Ovo je klasican trik na prijemnom ispitu: u jednacini kruga \((x - p)^2 + (y - q)^2 = r^2\), znaci su <em>suprotni</em> od koordinata centra. Treba pazljivo odrediti \(p\) i \(q\).</p>
      <p style="margin-top:8px">Takode, \(5^2 + 12^2 = 13^2\) (Pitagorin trojac) cini da imenilac bude ceo broj, sto je cest izbor u zadacima jer daje "lep" rezultat.</p>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card">
    <div class="final-answer">
      <div class="label">Konacan odgovor</div>
      <div class="value">(C) \((x+2)^2 + (y-2)^2 = 1\)</div>
      <div class="explanation">
        Centar kruga je \(C(-2{,}\; 2)\) (presek pravih), a poluprecnik je \(r = 1\) (rastojanje od centra do tangentne prave).
      </div>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title">
      <span class="icon pink-icon">!</span>
      Najcesce greske
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Zamena znakova koordinata centra</div>
      <p>U jednacini \((x - p)^2 + (y - q)^2 = r^2\), centar je \((p{,}\; q)\), a ne \((-p{,}\; -q)\). Ako je centar \((-2{,}\; 2)\), pise se \((x - (-2))^2 = (x + 2)^2\), ne \((x - 2)^2\). Ovo je najcesca greska &mdash; opcije (A), (D), (E) namerno koriste pogresan znak.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Greska u racunanju rastojanja</div>
      <p>Cesta greska je zaboraviti apsolutnu vrednost u brojiocu ili pogresen racun u imeniocu. Uvek proverite: \(\sqrt{5^2 + 12^2} = \sqrt{169} = 13\), a ne \(\sqrt{25 + 144} = \sqrt{169}\) sa brojem 12 umesto nekog drugog koeficijenta.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Brkanje \(r\) i \(r^2\)</div>
      <p>U jednacinu kruga ulazi \(r^2\), ne \(r\). Ovde je \(r = 1\), pa je \(r^2 = 1\) &mdash; jednostavan slucaj. Ali opcija (B) ima \(r^2 = 4\), sto bi znacilo \(r = 2\). To bi vazilo samo da je rastojanje bilo 2, a nije.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title">
      <span class="icon amber-icon">*</span>
      Bonus izazov
    </div>
    <div class="challenge-box">
      <p><strong>Pitanje:</strong> Odredite koordinate tacke dodira kruga i prave \(5x + 12y - 1 = 0\). Zatim proverite da ta tacka pripada i krugu i pravoj.</p>
      <p style="margin-top:10px; color:#94a3b8"><em>Savet: Tacka dodira lezi na normali iz centra na tangentnu pravu. Normala na pravu \(5x + 12y - 1 = 0\) kroz tacku \((-2{,}\; 2)\) ima smer \((5{,}\; 12)\).</em></p>
      <div class="collapsible-header" onclick="toggleCollapsible(this)" style="margin-top:14px">
        <span style="color:#fbbf24; font-weight:600; cursor:pointer;">Prikazi odgovor</span>
        <span class="arrow-indicator">&#9660;</span>
      </div>
      <div class="collapsible-content">
        <div class="theory-block" style="border-left-color:#fbbf24; margin-top:12px">
          <p>Normala iz \(C(-2{,}\; 2)\) na pravu \(5x + 12y - 1 = 0\) ima parametarski oblik:</p>
          \[x = -2 + 5t, \quad y = 2 + 12t\]
          <p>Uvrstavamo u jednacinu tangentne prave:</p>
          \[5(-2 + 5t) + 12(2 + 12t) - 1 = 0\]
          \[-10 + 25t + 24 + 144t - 1 = 0\]
          \[169t + 13 = 0 \quad \Rightarrow \quad t = -\frac{13}{169} = -\frac{1}{13}\]
          <p>Tacka dodira:</p>
          \[x = -2 + 5 \cdot \left(-\frac{1}{13}\right) = -2 - \frac{5}{13} = -\frac{31}{13}\]
          \[y = 2 + 12 \cdot \left(-\frac{1}{13}\right) = 2 - \frac{12}{13} = \frac{14}{13}\]
          <p>Provera &mdash; da li tacka pripada krugu:</p>
          \[\left(-\frac{31}{13} + 2\right)^2 + \left(\frac{14}{13} - 2\right)^2 = \left(-\frac{5}{13}\right)^2 + \left(-\frac{12}{13}\right)^2 = \frac{25 + 144}{169} = 1 \;\checkmark\]
        </div>
      </div>
    </div>
  </div>

</div>

<script>
(function() {
  /* --- Collapsible sections --- */
  window.toggleCollapsible = function(header) {
    var content = header.nextElementSibling;
    while (content && !content.classList.contains('collapsible-content')) {
      content = content.nextElementSibling;
    }
    if (!content) return;
    content.classList.toggle('open');
    var arrow = header.querySelector('.arrow-indicator');
    if (arrow) arrow.classList.toggle('open');
  };

  /* --- Canvas visualization --- */
  var canvas = document.getElementById('mainCanvas');
  var ctx = canvas.getContext('2d');
  var dpr = window.devicePixelRatio || 1;
  var W, H;
  var mouseX = -1, mouseY = -1;
  var activeLayer = 'all';

  /* Coordinate system */
  var xMin = -6, xMax = 6, yMin = -4, yMax = 6;

  /* Key points */
  var cx = -2, cy = 2; /* center of circle */
  var radius = 1;

  /* Tangent point */
  var tx = -31/13, ty = 14/13;

  function resize() {
    var rect = canvas.getBoundingClientRect();
    W = rect.width;
    H = rect.height;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function toScreen(px, py) {
    return [
      (px - xMin) / (xMax - xMin) * W,
      H - (py - yMin) / (yMax - yMin) * H
    ];
  }

  function toWorld(sx, sy) {
    return [
      xMin + sx / W * (xMax - xMin),
      yMin + (H - sy) / H * (yMax - yMin)
    ];
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      var p = toScreen(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p[0], 0);
      ctx.lineTo(p[0], H);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      var p = toScreen(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p[1]);
      ctx.lineTo(W, p[1]);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    /* X axis */
    var o = toScreen(0, 0);
    ctx.beginPath();
    ctx.moveTo(0, o[1]);
    ctx.lineTo(W, o[1]);
    ctx.stroke();
    /* Y axis */
    ctx.beginPath();
    ctx.moveTo(o[0], 0);
    ctx.lineTo(o[0], H);
    ctx.stroke();

    /* Tick labels */
    ctx.fillStyle = '#64748b';
    ctx.font = '11px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      if (gx === 0) continue;
      var p = toScreen(gx, 0);
      ctx.fillText(gx, p[0], o[1] + 4);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      if (gy === 0) continue;
      var p = toScreen(0, gy);
      ctx.fillText(gy, o[0] - 6, p[1]);
    }

    /* Axis labels */
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 13px system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    var xEnd = toScreen(xMax - 0.3, 0);
    ctx.fillText('x', xEnd[0], o[1] - 6);
    var yEnd = toScreen(0, yMax - 0.2);
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('y', o[0] + 8, yEnd[1]);
  }

  /* Draw a line given ax + by + c = 0 */
  function drawLine(a, b, c, color, lw, dashed) {
    ctx.strokeStyle = color;
    ctx.lineWidth = lw || 2;
    if (dashed) ctx.setLineDash([8, 5]);
    else ctx.setLineDash([]);

    var pts = [];
    /* Find intersections with viewport edges */
    if (Math.abs(b) > 1e-10) {
      /* y = -(ax + c) / b */
      var y1 = -(a * xMin + c) / b;
      if (y1 >= yMin && y1 <= yMax) pts.push([xMin, y1]);
      var y2 = -(a * xMax + c) / b;
      if (y2 >= yMin && y2 <= yMax) pts.push([xMax, y2]);
    }
    if (Math.abs(a) > 1e-10) {
      /* x = -(by + c) / a */
      var x1 = -(b * yMin + c) / a;
      if (x1 >= xMin && x1 <= xMax) pts.push([x1, yMin]);
      var x2 = -(b * yMax + c) / a;
      if (x2 >= xMin && x2 <= xMax) pts.push([x2, yMax]);
    }

    if (pts.length >= 2) {
      var p1 = toScreen(pts[0][0], pts[0][1]);
      var p2 = toScreen(pts[1][0], pts[1][1]);
      ctx.beginPath();
      ctx.moveTo(p1[0], p1[1]);
      ctx.lineTo(p2[0], p2[1]);
      ctx.stroke();
    }
    ctx.setLineDash([]);
  }

  function drawLineLabel(a, b, c, label, color, offsetX, offsetY) {
    /* Place label near the top edge of viewport */
    var labelWorldX, labelWorldY;
    if (Math.abs(b) > 1e-10) {
      labelWorldX = xMax - 1.5 + (offsetX || 0);
      labelWorldY = -(a * labelWorldX + c) / b;
      if (labelWorldY > yMax - 0.5 || labelWorldY < yMin + 0.5) {
        labelWorldX = xMin + 1;
        labelWorldY = -(a * labelWorldX + c) / b;
      }
    } else {
      labelWorldX = -c / a;
      labelWorldY = yMax - 1;
    }
    labelWorldY += (offsetY || 0);
    var p = toScreen(labelWorldX, labelWorldY);
    ctx.fillStyle = color;
    ctx.font = 'bold 12px system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText(label, p[0] + 6, p[1] - 4);
  }

  function drawCircle() {
    var cScreen = toScreen(cx, cy);
    /* Calculate screen radius */
    var cScreen2 = toScreen(cx + radius, cy);
    var rScreen = Math.abs(cScreen2[0] - cScreen[0]);

    /* Glow effect */
    ctx.strokeStyle = 'rgba(52,211,153,0.15)';
    ctx.lineWidth = 8;
    ctx.beginPath();
    ctx.arc(cScreen[0], cScreen[1], rScreen, 0, Math.PI * 2);
    ctx.stroke();

    /* Main circle */
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cScreen[0], cScreen[1], rScreen, 0, Math.PI * 2);
    ctx.stroke();

    /* Fill with semi-transparent */
    ctx.fillStyle = 'rgba(52,211,153,0.06)';
    ctx.beginPath();
    ctx.arc(cScreen[0], cScreen[1], rScreen, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawPoint(wx, wy, color, label, labelPos) {
    var p = toScreen(wx, wy);

    /* Glow */
    var grad = ctx.createRadialGradient(p[0], p[1], 0, p[0], p[1], 16);
    grad.addColorStop(0, color.replace(')', ',0.4)').replace('rgb', 'rgba'));
    grad.addColorStop(1, color.replace(')', ',0)').replace('rgb', 'rgba'));
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(p[0], p[1], 16, 0, Math.PI * 2);
    ctx.fill();

    /* Dot */
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(p[0], p[1], 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    /* Label */
    if (label) {
      ctx.fillStyle = color;
      ctx.font = 'bold 13px system-ui, sans-serif';
      var lp = labelPos || 'tr';
      if (lp === 'tr') { ctx.textAlign = 'left'; ctx.textBaseline = 'bottom'; ctx.fillText(label, p[0] + 10, p[1] - 8); }
      else if (lp === 'tl') { ctx.textAlign = 'right'; ctx.textBaseline = 'bottom'; ctx.fillText(label, p[0] - 10, p[1] - 8); }
      else if (lp === 'br') { ctx.textAlign = 'left'; ctx.textBaseline = 'top'; ctx.fillText(label, p[0] + 10, p[1] + 8); }
      else if (lp === 'bl') { ctx.textAlign = 'right'; ctx.textBaseline = 'top'; ctx.fillText(label, p[0] - 10, p[1] + 8); }
    }
  }

  function drawDistanceLine() {
    /* Draw perpendicular from center to tangent line */
    var p1 = toScreen(cx, cy);
    var p2 = toScreen(tx, ty);

    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(p1[0], p1[1]);
    ctx.lineTo(p2[0], p2[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    /* Label the distance */
    var midX = (p1[0] + p2[0]) / 2;
    var midY = (p1[1] + p2[1]) / 2;
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 13px system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('r = 1', midX + 8, midY - 4);

    /* Right angle marker at tangent point */
    var dx = cx - tx, dy = cy - ty;
    var len = Math.sqrt(dx*dx + dy*dy);
    var ux = dx/len, uy = dy/len;
    /* Perpendicular direction (along the tangent line) */
    var vx = -uy, vy = ux;
    var markSize = 0.15;
    var mp1 = toScreen(tx + vx*markSize, ty + vy*markSize);
    var mp2 = toScreen(tx + vx*markSize + ux*markSize, ty + vy*markSize + uy*markSize);
    var mp3 = toScreen(tx + ux*markSize, ty + uy*markSize);

    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(mp1[0], mp1[1]);
    ctx.lineTo(mp2[0], mp2[1]);
    ctx.lineTo(mp3[0], mp3[1]);
    ctx.stroke();
  }

  function drawMouseInfo() {
    if (mouseX < 0 || mouseY < 0) return;
    var w = toWorld(mouseX, mouseY);
    var wx = w[0], wy = w[1];

    /* Crosshair */
    ctx.strokeStyle = 'rgba(148,163,184,0.2)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(mouseX, 0);
    ctx.lineTo(mouseX, H);
    ctx.moveTo(0, mouseY);
    ctx.lineTo(W, mouseY);
    ctx.stroke();
    ctx.setLineDash([]);

    /* Distance from point to circle center */
    var distToCenter = Math.sqrt((wx - cx)*(wx - cx) + (wy - cy)*(wy - cy));
    var onCircle = Math.abs(distToCenter - radius) < 0.15;

    /* Info box */
    var boxW = 180, boxH = 60;
    var bx = mouseX + 15, by = mouseY - 70;
    if (bx + boxW > W) bx = mouseX - boxW - 15;
    if (by < 0) by = mouseY + 15;

    ctx.fillStyle = 'rgba(15,23,42,0.92)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    roundRect(ctx, bx, by, boxW, boxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = '12px Courier New, monospace';
    ctx.fillStyle = '#e2e8f0';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('x = ' + wx.toFixed(2).replace('.', ','), bx + 10, by + 10);
    ctx.fillText('y = ' + wy.toFixed(2).replace('.', ','), bx + 10, by + 26);
    ctx.fillStyle = onCircle ? '#34d399' : '#94a3b8';
    ctx.fillText('d(C) = ' + distToCenter.toFixed(2).replace('.', ','), bx + 10, by + 42);
  }

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawAxes();

    var showLines = (activeLayer === 'all' || activeLayer === 'lines' || activeLayer === 'dist');
    var showCircle = (activeLayer === 'all' || activeLayer === 'circle' || activeLayer === 'dist');
    var showDist = (activeLayer === 'all' || activeLayer === 'dist');

    /* Draw lines */
    if (showLines) {
      /* x + 2y - 2 = 0 */
      drawLine(1, 2, -2, '#60a5fa', 2, false);
      drawLineLabel(1, 2, -2, 'x + 2y - 2 = 0', '#60a5fa', -3, 0.3);

      /* 3x + y + 4 = 0 */
      drawLine(3, 1, 4, '#a78bfa', 2, false);
      drawLineLabel(3, 1, 4, '3x + y + 4 = 0', '#a78bfa', 0, 0.3);

      /* 5x + 12y - 1 = 0 (tangent) */
      drawLine(5, 12, -1, '#f472b6', 2.5, false);
      drawLineLabel(5, 12, -1, '5x + 12y - 1 = 0', '#f472b6', -5, -0.3);
    }

    /* Draw circle */
    if (showCircle) {
      drawCircle();
    }

    /* Draw center point */
    drawPoint(cx, cy, '#fbbf24', 'C(-2; 2)', 'tl');

    /* Draw distance line and tangent point */
    if (showDist) {
      drawDistanceLine();
      drawPoint(tx, ty, '#f472b6', 'T(-31/13; 14/13)', 'bl');
    }

    drawMouseInfo();
  }

  /* --- Layer toggle --- */
  window.toggleLayer = function(layer, btn) {
    activeLayer = layer;
    var btns = document.querySelectorAll('.canvas-controls .canvas-btn');
    btns.forEach(function(b) { b.classList.remove('active'); });
    btn.classList.add('active');
    draw();
  };

  /* --- Mouse tracking --- */
  canvas.addEventListener('mousemove', function(e) {
    var rect = canvas.getBoundingClientRect();
    mouseX = e.clientX - rect.left;
    mouseY = e.clientY - rect.top;
    draw();
  });

  canvas.addEventListener('mouseleave', function() {
    mouseX = -1;
    mouseY = -1;
    draw();
  });

  /* Touch support */
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    var rect = canvas.getBoundingClientRect();
    var touch = e.touches[0];
    mouseX = touch.clientX - rect.left;
    mouseY = touch.clientY - rect.top;
    draw();
  }, { passive: false });

  canvas.addEventListener('touchend', function() {
    mouseX = -1;
    mouseY = -1;
    draw();
  });

  /* --- Init --- */
  function init() {
    resize();
    draw();
  }

  window.addEventListener('resize', function() { resize(); draw(); });
  window.addEventListener('load', init);
  if (document.readyState === 'complete') init();
  else document.addEventListener('DOMContentLoaded', init);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Jednacina kruga sa centrom u preseku pravih","subject":"math","unit":"geometry","topic_tags":["analitička geometrija","krug","presek pravih","rastojanje tačke od prave","tangenta","Pitagorin trojac"]}
BRAINSPARK_META-->