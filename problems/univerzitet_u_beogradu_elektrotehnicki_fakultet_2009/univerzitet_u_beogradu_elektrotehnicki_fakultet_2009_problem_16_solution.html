<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir kvadrata beskonačne geometrijske progresije</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Zbir članova beskonačne geometrijske progresije je 3, a zbir kubova njenih članova je 108/13.
Tada je zbir kvadrata njenih članova jednak:
(A) 9/2    (B) 9/4    (C) 3/4    (D) 3/2    (E) 27/8    (N) Ne znam

SOLUTION:

Let first term = a, common ratio = r, |r| < 1.

1. Sum of GP: S = a/(1-r) = 3  =>  a = 3(1-r)

2. Sum of cubes: cubes form GP with first term a³ and ratio r³
   S₃ = a³/(1-r³) = 108/13

3. Factor 1-r³ = (1-r)(1+r+r²):
   a³ / [(1-r)(1+r+r²)] = 108/13

4. Substitute a = 3(1-r):
   27(1-r)³ / [(1-r)(1+r+r²)] = 108/13
   27(1-r)² / (1+r+r²) = 108/13

5. Simplify:
   (1-r)² / (1+r+r²) = 4/13

6. Cross multiply:
   13(1-r)² = 4(1+r+r²)
   13(1 - 2r + r²) = 4 + 4r + 4r²
   13 - 26r + 13r² = 4 + 4r + 4r²
   9r² - 30r + 9 = 0
   3r² - 10r + 3 = 0

7. Solve quadratic:
   r = (10 ± √(100-36)) / 6 = (10 ± 8) / 6
   r = 3 or r = 1/3

8. Since |r| < 1, we have r = 1/3.
   Then a = 3(1 - 1/3) = 3 · 2/3 = 2.

9. Sum of squares: squares form GP with first term a² = 4 and ratio r² = 1/9
   S₂ = a²/(1-r²) = 4/(1-1/9) = 4/(8/9) = 4 · 9/8 = 36/8 = 9/2

ANSWER: (A) 9/2

VERIFICATION:
- S = a/(1-r) = 2/(1-1/3) = 2/(2/3) = 3 ✓
- S₃ = a³/(1-r³) = 8/(1-1/27) = 8/(26/27) = 8·27/26 = 216/26 = 108/13 ✓
- S₂ = a²/(1-r²) = 4/(1-1/9) = 4/(8/9) = 9/2 ✓
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  flex-shrink: 0;
}

.blue-icon { background: rgba(96,165,250,0.15); color: #60a5fa; }
.purple-icon { background: rgba(167,139,250,0.15); color: #a78bfa; }
.green-icon { background: rgba(52,211,153,0.15); color: #34d399; }
.pink-icon { background: rgba(244,114,182,0.15); color: #f472b6; }
.amber-icon { background: rgba(251,191,36,0.15); color: #fbbf24; }
.cyan-icon { background: rgba(34,211,238,0.15); color: #22d3ee; }

.problem-statement {
  background: linear-gradient(135deg, rgba(96,165,250,0.08), rgba(167,139,250,0.08));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 12px;
  padding: 24px;
  font-size: 1.1rem;
  line-height: 1.8;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.option-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: all 0.3s;
}

.option-item.correct {
  border-color: #34d399;
  background: rgba(52,211,153,0.1);
  color: #34d399;
  font-weight: 600;
}

.option-item.wrong {
  border-color: #475569;
  background: rgba(100,116,139,0.05);
  color: #64748b;
}

.plan-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.plan-step {
  display: flex;
  align-items: flex-start;
  gap: 14px;
  padding: 12px 16px;
  background: #0f172a;
  border-radius: 10px;
  border-left: 3px solid #60a5fa;
}

.plan-step-num {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  flex-shrink: 0;
}

.collapsible-header {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  user-select: none;
}

.collapsible-header:hover {
  opacity: 0.85;
}

.collapsible-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease, padding 0.3s ease;
}

.collapsible-content.open {
  max-height: 3000px;
  padding-top: 16px;
}

.arrow-indicator {
  font-size: 0.9rem;
  transition: transform 0.3s;
  color: #94a3b8;
}

.arrow-indicator.open {
  transform: rotate(180deg);
}

.theory-block {
  background: #0f172a;
  border-radius: 10px;
  padding: 20px;
  margin-top: 8px;
  border-left: 3px solid #a78bfa;
}

.theory-block p, .theory-block li {
  margin-bottom: 8px;
}

.theory-block ul {
  padding-left: 20px;
}

.step-section {
  border-left: 3px solid transparent;
  padding: 20px;
  margin-bottom: 20px;
  background: #0f172a;
  border-radius: 10px;
  position: relative;
}

.step-section.blue-border { border-left-color: #60a5fa; }
.step-section.purple-border { border-left-color: #a78bfa; }
.step-section.green-border { border-left-color: #34d399; }
.step-section.pink-border { border-left-color: #f472b6; }
.step-section.amber-border { border-left-color: #fbbf24; }
.step-section.cyan-border { border-left-color: #22d3ee; }

.step-label {
  font-size: 0.8rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 10px;
}

.step-label.blue { color: #60a5fa; }
.step-label.purple { color: #a78bfa; }
.step-label.green { color: #34d399; }
.step-label.pink { color: #f472b6; }
.step-label.amber { color: #fbbf24; }
.step-label.cyan { color: #22d3ee; }

.checkpoint {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 16px 0;
  font-size: 0.95rem;
}

.checkpoint-label {
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 4px;
  font-size: 0.85rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.insight-box {
  background: linear-gradient(135deg, rgba(167,139,250,0.1), rgba(244,114,182,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 12px;
  padding: 22px;
  margin: 16px 0;
}

.insight-box .insight-title {
  color: #a78bfa;
  font-weight: 700;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.12));
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 28px;
  text-align: center;
}

.final-answer .label {
  font-size: 0.85rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: #34d399;
  margin-bottom: 10px;
}

.final-answer .value {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  line-height: 1.4;
}

.final-answer .explanation {
  color: #94a3b8;
  margin-top: 10px;
  font-size: 0.95rem;
}

.verification-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 12px;
}

.verification-table th,
.verification-table td {
  padding: 10px 14px;
  text-align: center;
  border-bottom: 1px solid #334155;
}

.verification-table th {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.verification-table tr:last-child td {
  border-bottom: none;
}

.badge-yes {
  display: inline-block;
  background: rgba(52,211,153,0.15);
  color: #34d399;
  padding: 2px 10px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.85rem;
}

.badge-no {
  display: inline-block;
  background: rgba(248,113,113,0.15);
  color: #f87171;
  padding: 2px 10px;
  border-radius: 6px;
  font-weight: 600;
  font-size: 0.85rem;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
  cursor: crosshair;
  touch-action: none;
}

.canvas-wrapper {
  position: relative;
  margin: 16px 0;
}

.canvas-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.canvas-btn {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 8px 16px;
  color: #e2e8f0;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s;
  font-family: inherit;
}

.canvas-btn:hover {
  border-color: #60a5fa;
  color: #60a5fa;
}

.canvas-btn.active {
  background: rgba(96,165,250,0.15);
  border-color: #60a5fa;
  color: #60a5fa;
  font-weight: 600;
}

.canvas-legend {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  margin-top: 10px;
  font-size: 0.85rem;
  color: #94a3b8;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
}

.legend-dot {
  width: 12px;
  height: 12px;
  border-radius: 3px;
  flex-shrink: 0;
}

.slider-container {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 10px 0;
}

.slider-container input[type="range"] {
  flex: 1;
  accent-color: #60a5fa;
  height: 6px;
}

.slider-label {
  font-size: 0.9rem;
  color: #94a3b8;
  min-width: 90px;
}

.slider-value {
  font-weight: 600;
  color: #60a5fa;
  min-width: 60px;
  text-align: right;
  font-family: 'Courier New', monospace;
}

.pitfall-item {
  padding: 14px 18px;
  background: #0f172a;
  border-radius: 10px;
  border-left: 3px solid #f87171;
  margin-bottom: 10px;
}

.pitfall-item .pitfall-title {
  color: #f87171;
  font-weight: 700;
  margin-bottom: 4px;
  font-size: 0.95rem;
}

.challenge-box {
  background: linear-gradient(135deg, rgba(251,191,36,0.08), rgba(244,114,182,0.08));
  border: 1px solid rgba(251,191,36,0.25);
  border-radius: 12px;
  padding: 22px;
}

.formula-highlight {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  .container { padding: 10px; }
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .options-grid { grid-template-columns: repeat(3, 1fr); }
  .verification-table { font-size: 0.85rem; }
  .verification-table th, .verification-table td { padding: 6px 8px; }
  .final-answer .value { font-size: 1.4rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Zbir kvadrata beskonačne geometrijske progresije</h1>
  <p class="subtitle">ETF Beograd 2009 &mdash; Zadatak 16 &mdash; Nizovi i redovi</p>

  <!-- Problem Statement -->
  <div class="card">
    <div class="card-title">
      <span class="icon blue-icon">?</span>
      Tekst zadatka
    </div>
    <div class="problem-statement">
      Zbir članova beskonačne geometrijske progresije je \(3\), a zbir kubova njenih članova je \(\dfrac{108}{13}\). Tada je zbir kvadrata njenih članova jednak:
      <div class="options-grid" id="options-grid">
        <div class="option-item correct" data-val="A">(A) \(\dfrac{9}{2}\)</div>
        <div class="option-item wrong" data-val="B">(B) \(\dfrac{9}{4}\)</div>
        <div class="option-item wrong" data-val="C">(C) \(\dfrac{3}{4}\)</div>
        <div class="option-item wrong" data-val="D">(D) \(\dfrac{3}{2}\)</div>
        <div class="option-item wrong" data-val="E">(E) \(\dfrac{27}{8}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title">
      <span class="icon purple-icon">P</span>
      Plan rešavanja
    </div>
    <div class="plan-steps">
      <div class="plan-step">
        <span class="plan-step-num">1</span>
        <span>Postaviti formule za zbir GP, zbir kubova i zbir kvadrata</span>
      </div>
      <div class="plan-step">
        <span class="plan-step-num">2</span>
        <span>Iz zbira GP izraziti prvi član \(a\) preko količnika \(r\)</span>
      </div>
      <div class="plan-step">
        <span class="plan-step-num">3</span>
        <span>Uvrštavanjem u jednačinu zbira kubova odrediti \(r\)</span>
      </div>
      <div class="plan-step">
        <span class="plan-step-num">4</span>
        <span>Izračunati \(a\) i konačno zbir kvadrata</span>
      </div>
    </div>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="collapsible-header" onclick="toggleCollapsible(this)">
      <div class="card-title" style="margin-bottom:0">
        <span class="icon amber-icon">T</span>
        Teorijski podsetnik
      </div>
      <span class="arrow-indicator">&#9660;</span>
    </div>
    <div class="collapsible-content">
      <div class="theory-block">
        <p><strong>Beskonačna geometrijska progresija</strong></p>
        <p>Za geometrijsku progresiju sa prvim članom \(a\) i količnikom \(r\), gde je \(|r| < 1\), zbir beskonačnog reda je:</p>
        \[S = \frac{a}{1 - r}\]

        <p style="margin-top:12px"><strong>Stepen članova GP čini novu GP:</strong></p>
        <ul>
          <li>Članovi: \(a,\; ar,\; ar^2,\; ar^3,\; \ldots\)</li>
          <li><strong>Kvadrati</strong> članova: \(a^2,\; a^2r^2,\; a^2r^4,\; \ldots\) &mdash; GP sa prvim članom \(a^2\) i količnikom \(r^2\)</li>
          <li><strong>Kubovi</strong> članova: \(a^3,\; a^3r^3,\; a^3r^6,\; \ldots\) &mdash; GP sa prvim članom \(a^3\) i količnikom \(r^3\)</li>
        </ul>

        <p style="margin-top:12px"><strong>Zbir kvadrata:</strong></p>
        \[S_2 = \frac{a^2}{1 - r^2}\]

        <p><strong>Zbir kubova:</strong></p>
        \[S_3 = \frac{a^3}{1 - r^3}\]

        <p style="margin-top:12px"><strong>Korisna faktorizacija:</strong></p>
        \[1 - r^2 = (1 - r)(1 + r)\]
        \[1 - r^3 = (1 - r)(1 + r + r^2)\]
      </div>
    </div>
  </div>

  <!-- Visual Aid (Canvas) -->
  <div class="card">
    <div class="card-title">
      <span class="icon cyan-icon">G</span>
      Grafički prikaz &mdash; Članovi GP i njihovi stepeni
    </div>
    <p style="color:#94a3b8; margin-bottom:8px;">Interaktivni dijagram prikazuje članove geometrijske progresije, njihove kvadrate i kubove. Koristite klizač da menjate količnik \(r\).</p>
    <div class="canvas-wrapper">
      <canvas id="mainCanvas" width="800" height="500"></canvas>
    </div>
    <div class="slider-container">
      <span class="slider-label">Količnik \(r\):</span>
      <input type="range" id="rSlider" min="0.05" max="0.95" step="0.01" value="0.333">
      <span class="slider-value" id="rSliderVal">0,33</span>
    </div>
    <div class="canvas-legend">
      <div class="legend-item"><div class="legend-dot" style="background:#60a5fa;"></div>Članovi GP: \(a_n\)</div>
      <div class="legend-item"><div class="legend-dot" style="background:#a78bfa;"></div>Kvadrati: \(a_n^2\)</div>
      <div class="legend-item"><div class="legend-dot" style="background:#f472b6;"></div>Kubovi: \(a_n^3\)</div>
      <div class="legend-item"><div class="legend-dot" style="background:rgba(52,211,153,0.5);"></div>Parcijalni zbirovi</div>
    </div>
  </div>

  <!-- Step-by-Step -->
  <div class="card">
    <div class="card-title">
      <span class="icon green-icon">R</span>
      Rešavanje korak po korak
    </div>

    <!-- Step 1 -->
    <div class="step-section blue-border">
      <div class="step-label blue">Korak 1 &mdash; Postavljanje jednačina</div>
      <p>Neka je \(a\) prvi član, a \(r\) količnik beskonačne geometrijske progresije, gde je \(|r| < 1\).</p>
      <p style="margin-top:8px">Dati su nam:</p>
      <div class="formula-highlight">
        <p><strong>Zbir članova:</strong> \(\displaystyle S = \frac{a}{1-r} = 3\)</p>
      </div>
      <div class="formula-highlight">
        <p><strong>Zbir kubova:</strong> Kubovi članova čine GP sa prvim članom \(a^3\) i količnikom \(r^3\):</p>
        \[S_3 = \frac{a^3}{1-r^3} = \frac{108}{13}\]
      </div>
      <div class="formula-highlight">
        <p><strong>Tražimo zbir kvadrata:</strong> Kvadrati članova čine GP sa prvim članom \(a^2\) i količnikom \(r^2\):</p>
        \[S_2 = \frac{a^2}{1-r^2}\]
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-section purple-border">
      <div class="step-label purple">Korak 2 &mdash; Izražavanje \(a\) preko \(r\)</div>
      <p>Iz prve jednačine izražavamo prvi član:</p>
      \[\frac{a}{1-r} = 3 \;\;\Longrightarrow\;\; a = 3(1-r)\]
      <div class="checkpoint">
        <div class="checkpoint-label">Kontrolna tačka</div>
        Imamo \(a = 3(1 - r)\). Za \(r = \frac{1}{3}\) dobijamo \(a = 3 \cdot \frac{2}{3} = 2\).
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-section green-border">
      <div class="step-label green">Korak 3 &mdash; Uvrštavanje u jednačinu zbira kubova</div>
      <p>Koristimo faktorizaciju \(1 - r^3 = (1-r)(1+r+r^2)\):</p>
      \[\frac{a^3}{1-r^3} = \frac{a^3}{(1-r)(1+r+r^2)} = \frac{108}{13}\]
      <p style="margin-top:10px">Uvrštavamo \(a = 3(1-r)\):</p>
      \[\frac{[3(1-r)]^3}{(1-r)(1+r+r^2)} = \frac{27(1-r)^3}{(1-r)(1+r+r^2)} = \frac{108}{13}\]
      <p style="margin-top:10px">Skraćujemo \((1-r)\) (jer \(r \neq 1\)):</p>
      \[\frac{27(1-r)^2}{1+r+r^2} = \frac{108}{13}\]
      <p style="margin-top:10px">Delimo obe strane sa 27:</p>
      \[\frac{(1-r)^2}{1+r+r^2} = \frac{4}{13}\]
    </div>

    <!-- Step 4 -->
    <div class="step-section pink-border">
      <div class="step-label pink">Korak 4 &mdash; Rešavanje po \(r\)</div>
      <p>Množimo unakrsno:</p>
      \[13(1-r)^2 = 4(1+r+r^2)\]
      <p style="margin-top:8px">Razvijamo levu stranu:</p>
      \[13(1 - 2r + r^2) = 4 + 4r + 4r^2\]
      \[13 - 26r + 13r^2 = 4 + 4r + 4r^2\]
      <p style="margin-top:8px">Prebacujemo sve na jednu stranu:</p>
      \[9r^2 - 30r + 9 = 0\]
      <p style="margin-top:8px">Delimo sa 3:</p>
      \[3r^2 - 10r + 3 = 0\]
      <p style="margin-top:8px">Primena formule za kvadratnu jednačinu:</p>
      \[r = \frac{10 \pm \sqrt{100 - 36}}{6} = \frac{10 \pm \sqrt{64}}{6} = \frac{10 \pm 8}{6}\]
      <p style="margin-top:8px">Dva rešenja:</p>
      \[r_1 = \frac{10 + 8}{6} = \frac{18}{6} = 3 \qquad \text{ili} \qquad r_2 = \frac{10 - 8}{6} = \frac{2}{6} = \frac{1}{3}\]
      <div class="checkpoint">
        <div class="checkpoint-label">Kontrolna tačka</div>
        Pošto mora da važi \(|r| < 1\) da bi red konvergirao, odbacujemo \(r = 3\). Dakle, \(r = \dfrac{1}{3}\).
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-section amber-border">
      <div class="step-label amber">Korak 5 &mdash; Određivanje prvog člana</div>
      <p>Uvrštavamo \(r = \frac{1}{3}\) u izraz za \(a\):</p>
      \[a = 3\left(1 - \frac{1}{3}\right) = 3 \cdot \frac{2}{3} = 2\]
      <div class="checkpoint">
        <div class="checkpoint-label">Kontrolna tačka</div>
        Progresija je: \(2,\;\; \frac{2}{3},\;\; \frac{2}{9},\;\; \frac{2}{27},\;\; \ldots\)
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-section cyan-border">
      <div class="step-label cyan">Korak 6 &mdash; Zbir kvadrata</div>
      <p>Sada računamo traženi zbir kvadrata:</p>
      \[S_2 = \frac{a^2}{1 - r^2} = \frac{2^2}{1 - \left(\frac{1}{3}\right)^2} = \frac{4}{1 - \frac{1}{9}} = \frac{4}{\frac{8}{9}} = 4 \cdot \frac{9}{8} = \frac{36}{8} = \frac{9}{2}\]
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card">
    <div class="insight-box">
      <div class="insight-title">Ključni uvid</div>
      <p>Kada se članovi konvergentne GP stepenuju, nastaje nova GP. Ključ rešenja je prepoznavanje da kubovi i kvadrati članova čine nove geometrijske progresije sa odgovarajućim stepenima prvog člana i količnika. Faktorizacija \(1 - r^3 = (1-r)(1+r+r^2)\) omogućava da se skrati zajednički činilac \((1-r)\) i dobije rešiva jednačina po \(r\).</p>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card">
    <div class="final-answer">
      <div class="label">Konačan odgovor</div>
      <div class="value">(A) \(\dfrac{9}{2}\)</div>
      <div class="explanation">
        Za \(a = 2\) i \(r = \frac{1}{3}\): zbir kvadrata \(= \frac{4}{1 - \frac{1}{9}} = \frac{4}{\frac{8}{9}} = \frac{9}{2}\).
      </div>
    </div>

    <!-- Verification -->
    <div style="margin-top:20px">
      <p style="color:#94a3b8; font-weight:600; margin-bottom:10px; text-transform:uppercase; font-size:0.85rem; letter-spacing:0.05em;">Verifikacija sva tri uslova</p>
      <table class="verification-table">
        <thead>
          <tr>
            <th>Veličina</th>
            <th>Formula</th>
            <th>Izračunato</th>
            <th>Očekivano</th>
            <th>Tačno?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Zbir GP</td>
            <td>\(\frac{a}{1-r}\)</td>
            <td>\(\frac{2}{1 - \frac{1}{3}} = \frac{2}{\frac{2}{3}} = 3\)</td>
            <td>\(3\)</td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
          <tr>
            <td>Zbir kubova</td>
            <td>\(\frac{a^3}{1-r^3}\)</td>
            <td>\(\frac{8}{1 - \frac{1}{27}} = \frac{8}{\frac{26}{27}} = \frac{216}{26} = \frac{108}{13}\)</td>
            <td>\(\frac{108}{13}\)</td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
          <tr>
            <td>Zbir kvadrata</td>
            <td>\(\frac{a^2}{1-r^2}\)</td>
            <td>\(\frac{4}{1 - \frac{1}{9}} = \frac{4}{\frac{8}{9}} = \frac{9}{2}\)</td>
            <td>\(\frac{9}{2}\)</td>
            <td><span class="badge-yes">Da</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title">
      <span class="icon pink-icon">!</span>
      Najčešće greške
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Zaboravljanje uslova konvergencije</div>
      <p>Kvadratna jednačina daje dva rešenja: \(r = 3\) i \(r = \frac{1}{3}\). Ako se ne proveri uslov \(|r| < 1\), može se uzeti pogrešno rešenje.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Pogrešna faktorizacija \(1 - r^3\)</div>
      <p>Česta greška je napisati \(1 - r^3 = (1-r)^3\) umesto ispravnog \(1 - r^3 = (1-r)(1+r+r^2)\). Ovo potpuno menja tok rešavanja.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Mešanje zbira kvadrata i kvadrata zbira</div>
      <p>Zbir kvadrata \(\sum a_n^2 = \frac{a^2}{1-r^2}\) nije isto što i kvadrat zbira \(\left(\sum a_n\right)^2 = S^2 = 9\). Ove dve veličine su različite!</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title">
      <span class="icon amber-icon">*</span>
      Bonus izazov
    </div>
    <div class="challenge-box">
      <p><strong>Pitanje:</strong> Za istu geometrijsku progresiju (\(a = 2\), \(r = \frac{1}{3}\)), odredi zbir četvrtih stepena njenih članova, tj. \(\displaystyle\sum_{n=0}^{\infty} a_n^4\).</p>
      <p style="margin-top:10px; color:#94a3b8"><em>Savet: Četvrti stepeni čine GP sa prvim članom \(a^4\) i količnikom \(r^4\).</em></p>
      <div class="collapsible-header" onclick="toggleCollapsible(this)" style="margin-top:14px">
        <span style="color:#fbbf24; font-weight:600; cursor:pointer;">Prikaži odgovor</span>
        <span class="arrow-indicator">&#9660;</span>
      </div>
      <div class="collapsible-content">
        <div class="theory-block" style="border-left-color:#fbbf24; margin-top:12px">
          <p>Četvrti stepeni članova čine GP sa prvim članom \(a^4 = 16\) i količnikom \(r^4 = \frac{1}{81}\):</p>
          \[S_4 = \frac{a^4}{1 - r^4} = \frac{16}{1 - \frac{1}{81}} = \frac{16}{\frac{80}{81}} = 16 \cdot \frac{81}{80} = \frac{1296}{80} = \frac{81}{5}\]
          <p style="margin-top:8px">Dakle, zbir četvrtih stepena je \(\dfrac{81}{5}\).</p>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
(function() {
  /* --- Collapsible sections --- */
  window.toggleCollapsible = function(header) {
    var content = header.nextElementSibling;
    while (content && !content.classList.contains('collapsible-content')) {
      content = content.nextElementSibling;
    }
    if (!content) return;
    content.classList.toggle('open');
    var arrow = header.querySelector('.arrow-indicator');
    if (arrow) arrow.classList.toggle('open');
  };

  /* --- Canvas visualization --- */
  var canvas = document.getElementById('mainCanvas');
  var ctx = canvas.getContext('2d');
  var dpr = window.devicePixelRatio || 1;
  var W, H;
  var currentR = 1/3;

  function resize() {
    var rect = canvas.getBoundingClientRect();
    W = rect.width;
    H = rect.height;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function roundRect(c, x, y, w, h, r) {
    c.beginPath();
    c.moveTo(x + r, y);
    c.lineTo(x + w - r, y);
    c.quadraticCurveTo(x + w, y, x + w, y + r);
    c.lineTo(x + w, y + h - r);
    c.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    c.lineTo(x + r, y + h);
    c.quadraticCurveTo(x, y + h, x, y + h - r);
    c.lineTo(x, y + r);
    c.quadraticCurveTo(x, y, x + r, y);
    c.closePath();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    var r = currentR;
    var a = 3 * (1 - r);
    var numTerms = 10;

    /* Compute terms, squares, cubes */
    var terms = [], squares = [], cubes = [];
    for (var i = 0; i < numTerms; i++) {
      var t = a * Math.pow(r, i);
      terms.push(t);
      squares.push(t * t);
      cubes.push(t * t * t);
    }

    /* Compute sums */
    var sumTerms = a / (1 - r);
    var sumSquares = (a * a) / (1 - r * r);
    var sumCubes = (a * a * a) / (1 - r * r * r);

    /* Layout */
    var margin = { top: 60, bottom: 80, left: 60, right: 30 };
    var chartW = W - margin.left - margin.right;
    var chartH = H - margin.top - margin.bottom;

    /* Determine max value for y-axis */
    var maxVal = Math.max(a, a * a, a * a * a, sumTerms, sumSquares, sumCubes) * 1.15;
    if (maxVal < 1) maxVal = 1;

    /* Scale functions */
    function xPos(i) {
      return margin.left + (i + 0.5) / (numTerms + 2) * chartW;
    }
    function yPos(val) {
      return margin.top + chartH - (val / maxVal) * chartH;
    }

    /* Grid lines */
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    var gridSteps = 5;
    for (var g = 0; g <= gridSteps; g++) {
      var gv = (maxVal / gridSteps) * g;
      var gy = yPos(gv);
      ctx.beginPath();
      ctx.moveTo(margin.left, gy);
      ctx.lineTo(W - margin.right, gy);
      ctx.stroke();

      ctx.fillStyle = '#64748b';
      ctx.font = '11px system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.textBaseline = 'middle';
      ctx.fillText(gv.toFixed(1).replace('.', ','), margin.left - 8, gy);
    }

    /* X axis */
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    var baseY = yPos(0);
    ctx.beginPath();
    ctx.moveTo(margin.left, baseY);
    ctx.lineTo(W - margin.right, baseY);
    ctx.stroke();

    /* Bar width */
    var barGroupW = chartW / (numTerms + 2);
    var barW = barGroupW * 0.22;
    var gap = barGroupW * 0.04;

    /* Draw bars for each term */
    var colors = ['#60a5fa', '#a78bfa', '#f472b6'];
    var labels = ['a_n', 'a_n^2', 'a_n^3'];
    var datasets = [terms, squares, cubes];

    for (var i = 0; i < numTerms; i++) {
      for (var d = 0; d < 3; d++) {
        var val = datasets[d][i];
        var bx = xPos(i) - barGroupW * 0.36 + d * (barW + gap);
        var by = yPos(val);
        var bh = baseY - by;
        if (bh < 1) bh = 1;

        ctx.fillStyle = colors[d];
        ctx.globalAlpha = 0.8;
        roundRect(ctx, bx, by, barW, bh, 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      }

      /* Term index label */
      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText('n=' + i, xPos(i), baseY + 6);
    }

    /* Draw sum lines (horizontal dashed) */
    var sumData = [
      { val: sumTerms, color: '#60a5fa', label: 'S = ' + sumTerms.toFixed(2).replace('.', ',') },
      { val: sumSquares, color: '#a78bfa', label: 'S\u2082 = ' + sumSquares.toFixed(2).replace('.', ',') },
      { val: sumCubes, color: '#f472b6', label: 'S\u2083 = ' + sumCubes.toFixed(2).replace('.', ',') }
    ];

    for (var s = 0; s < sumData.length; s++) {
      var sy = yPos(sumData[s].val);
      if (sy < margin.top - 10 || sy > baseY + 5) continue;

      ctx.strokeStyle = sumData[s].color;
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.globalAlpha = 0.6;
      ctx.beginPath();
      ctx.moveTo(margin.left, sy);
      ctx.lineTo(W - margin.right, sy);
      ctx.stroke();
      ctx.setLineDash([]);
      ctx.globalAlpha = 1;

      /* Label */
      ctx.fillStyle = sumData[s].color;
      ctx.font = 'bold 12px system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.textBaseline = 'bottom';
      ctx.fillText(sumData[s].label, W - margin.right - 5, sy - 4);
    }

    /* Title */
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Članovi GP i njihovi stepeni (a = ' + a.toFixed(2).replace('.', ',') + ', r = ' + r.toFixed(2).replace('.', ',') + ')', W / 2, 12);

    /* Info box with sums */
    var infoX = W - margin.right - 200;
    var infoY = margin.top + 10;
    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    roundRect(ctx, infoX, infoY, 190, 90, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = '12px system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('Zbir GP:         S = ' + sumTerms.toFixed(3).replace('.', ','), infoX + 10, infoY + 12);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('Zbir kvadrata: S\u2082 = ' + sumSquares.toFixed(3).replace('.', ','), infoX + 10, infoY + 34);
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Zbir kubova:  S\u2083 = ' + sumCubes.toFixed(3).replace('.', ','), infoX + 10, infoY + 56);

    /* Highlight if r = 1/3 */
    if (Math.abs(r - 1/3) < 0.015) {
      ctx.fillStyle = 'rgba(52,211,153,0.1)';
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 2;
      roundRect(ctx, infoX - 4, infoY - 4, 198, 98, 10);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 11px system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('r = 1/3: Rešenje zadatka!', infoX + 95, infoY + 78);
    }
  }

  /* --- Slider --- */
  var slider = document.getElementById('rSlider');
  slider.addEventListener('input', function() {
    currentR = parseFloat(this.value);
    document.getElementById('rSliderVal').textContent = currentR.toFixed(2).replace('.', ',');
    draw();
  });

  /* --- Init --- */
  function init() {
    resize();
    draw();
  }

  window.addEventListener('resize', function() { resize(); draw(); });
  window.addEventListener('load', init);
  if (document.readyState === 'complete') init();
  else document.addEventListener('DOMContentLoaded', init);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Zbir kvadrata beskonačne geometrijske progresije","subject":"math","unit":"algebra","topic_tags":["geometrijska progresija","beskonačni red","zbir kvadrata","zbir kubova","konvergencija reda","kvadratna jednačina"]}
BRAINSPARK_META-->