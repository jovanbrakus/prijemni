<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teme parabole na x-osi</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Teme parabole y = x^2 - 8x + m bice na x osi ako je m jednako:
(A) 16   (B) -4   (C) 4   (D) 6sqrt(3)   (E) 9   (N) Ne znam

ANALYSIS:
The parabola is y = x^2 - 8x + m.

Method 1: Completing the square
y = x^2 - 8x + m
y = (x^2 - 8x + 16) + m - 16
y = (x - 4)^2 + (m - 16)

The vertex is at (4, m - 16).

For the vertex to be on the x-axis, the y-coordinate of the vertex must be 0:
m - 16 = 0
m = 16

Method 2: Using the vertex formula
For y = ax^2 + bx + c, the vertex x-coordinate is x_v = -b/(2a).
Here a = 1, b = -8, c = m.
x_v = -(-8)/(2*1) = 8/2 = 4
y_v = f(4) = 16 - 32 + m = m - 16

For vertex on x-axis: y_v = 0
m - 16 = 0
m = 16

VERIFICATION:
When m = 16: y = x^2 - 8x + 16 = (x - 4)^2
Vertex at (4, 0) which is indeed on the x-axis. ✓
The parabola touches the x-axis at exactly one point (double root).

ANSWER: (A) 16
</script>

<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  background: #1e293b;
  border: 2px solid #a78bfa;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin-bottom: 1.5rem;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
  font-size: 0.95rem;
  color: #a78bfa;
}

.checkpoint-label {
  font-weight: 700;
  margin-right: 0.25rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.slider-wrap {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  background: #0f172a;
  border-radius: 10px;
  border: 1px solid #334155;
}

.slider-wrap label {
  font-weight: 600;
  color: #a78bfa;
  white-space: nowrap;
  min-width: 50px;
}

.slider-wrap input[type="range"] {
  flex: 1;
  accent-color: #a78bfa;
  height: 6px;
  cursor: pointer;
}

.slider-value {
  font-weight: 700;
  color: #4ade80;
  min-width: 60px;
  text-align: right;
  font-size: 1.05rem;
}

.vertex-info {
  text-align: center;
  margin-top: 0.75rem;
  font-size: 1rem;
  color: #e2e8f0;
  padding: 0.5rem;
  background: rgba(30,41,59,0.7);
  border-radius: 8px;
  border: 1px solid #334155;
}

.vertex-info .on-axis {
  color: #4ade80;
  font-weight: 700;
}

.vertex-info .off-axis {
  color: #f472b6;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.final-answer .options-grid {
  margin-top: 1rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 700px) {
  body { padding: 0.5rem; }
  .card, .problem-statement, details .detail-content, .final-answer,
  .insight-box, .challenge-box { padding: 1rem; }
  .options-grid { grid-template-columns: repeat(3, 1fr); }
  .slider-wrap { flex-wrap: wrap; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Teme parabole na x-osi</h1>
  <p class="subtitle">Kompletiranje kvadrata i analiza kvadratne funkcije</p>

  <!-- PROBLEM STATEMENT -->
  <div class="problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
    <p>Teme parabole \(y = x^2 - 8x + m\) bi\(\acute{\text{c}}\)e na \(x\)-osi ako je \(m\) jednako:</p>
    <div class="options-grid">
      <div class="option correct">A) \(16\)</div>
      <div class="option">B) \(-4\)</div>
      <div class="option">C) \(4\)</div>
      <div class="option">D) \(6\sqrt{3}\)</div>
      <div class="option">E) \(9\)</div>
      <div class="option">N) Ne znam</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
    <ol class="plan-list">
      <li>Zapisati kvadratnu funkciju \(y = x^2 - 8x + m\)</li>
      <li>Kompletirati kvadrat da se dobije kanonski oblik \(y = (x - p)^2 + q\)</li>
      <li>Odrediti koordinate temena parabole</li>
      <li>Postaviti uslov da je \(y\)-koordinata temena jednaka nuli</li>
      <li>Izračunati vrednost parametra \(m\)</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>&#128208; Podsetnik: Teme parabole i kanonski oblik</summary>
    <div class="detail-content">
      <p><strong>Kanonski oblik kvadratne funkcije:</strong> Svaka kvadratna funkcija \(y = ax^2 + bx + c\) može se napisati u obliku:</p>
      \[y = a(x - p)^2 + q\]
      <p>gde je \(T(p,\, q)\) teme parabole.</p>

      <p style="margin-top:0.75rem;"><strong>Formule za koordinate temena:</strong></p>
      \[p = -\frac{b}{2a}, \qquad q = c - \frac{b^2}{4a}\]

      <p style="margin-top:0.75rem;"><strong>Kompletiranje kvadrata:</strong> Za izraz \(x^2 + bx\) dodajemo i oduzimamo \(\left(\frac{b}{2}\right)^2\):</p>
      \[x^2 + bx = \left(x + \frac{b}{2}\right)^2 - \frac{b^2}{4}\]

      <p style="margin-top:0.75rem;"><strong>Teme na \(x\)-osi:</strong> Teme je na \(x\)-osi kada je \(q = 0\), tj. kada je \(y\)-koordinata temena jednaka nuli. U tom slučaju parabola <em>dodiruje</em> \(x\)-osu (ima dupli koren).</p>

      <p style="margin-top:0.75rem;"><strong>Veza sa diskriminantom:</strong> Kada je teme na \(x\)-osi, diskriminanta jednačine \(ax^2 + bx + c = 0\) je jednaka nuli (\(D = 0\)), jer parabola dodiruje osu u tačno jednoj tački.</p>

      <p style="margin-top:0.75rem;" class="muted">Ovo je fundamentalna veza između geometrijskog svojstva parabole (položaj temena) i algebarskog uslova (diskriminanta).</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Interaktivni dijagram</div>
    <p class="muted" style="margin-bottom:0.75rem;">Pomeri klizač da menjaš vrednost parametra \(m\) i posmatraj kako se teme parabole \(y = x^2 - 8x + m\) pomera. Kada je \(m = 16\), teme se nalazi tačno na \(x\)-osi!</p>
    <div class="canvas-wrap">
      <canvas id="graph" width="700" height="450"></canvas>
    </div>
    <div class="slider-wrap">
      <label for="mSlider">\(m =\)</label>
      <input type="range" id="mSlider" min="-5" max="30" step="0.5" value="16">
      <span class="slider-value" id="mValue">16</span>
    </div>
    <div class="vertex-info" id="vertexInfo">
      Teme: \(T(4;\; 0)\) — <span class="on-axis">tačno na x-osi!</span>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Rešenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Polazna funkcija</div>
      <p>Data nam je kvadratna funkcija:</p>
      \[y = x^2 - 8x + m\]
      <p>Potrebno je odrediti vrednost parametra \(m\) tako da se teme parabole nalazi na \(x\)-osi, tj. da \(y\)-koordinata temena bude jednaka nuli.</p>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Kompletiranje kvadrata</div>
      <p>Kompletiramo kvadrat za izraz \(x^2 - 8x\). Koeficijent uz \(x\) je \(-8\), pa dodajemo i oduzimamo \(\left(\frac{-8}{2}\right)^2 = (-4)^2 = 16\):</p>
      \[y = x^2 - 8x + \underbrace{16 - 16}_{\text{dodato i oduzeto}} + m\]
      \[y = \underbrace{(x^2 - 8x + 16)}_{(x-4)^2} + m - 16\]
      \[\boxed{y = (x - 4)^2 + (m - 16)}\]
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Provera:</span> Kanonski oblik je \(y = (x-4)^2 + (m - 16)\). Razvijmo: \((x-4)^2 + (m-16) = x^2 - 8x + 16 + m - 16 = x^2 - 8x + m\). Tačno!
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Očitavanje koordinata temena</div>
      <p>Iz kanonskog oblika \(y = (x - 4)^2 + (m - 16)\) direktno čitamo koordinate temena:</p>
      \[T\big(4,\; m - 16\big)\]
      <p>Dakle:</p>
      <ul style="margin-left:1.2rem; margin-top:0.3rem;">
        <li>\(x\)-koordinata temena: \(p = 4\)</li>
        <li>\(y\)-koordinata temena: \(q = m - 16\)</li>
      </ul>
    </div>

    <div class="checkpoint">
      <span class="checkpoint-label">Alternativno:</span> Formulom: \(p = -\frac{b}{2a} = -\frac{-8}{2 \cdot 1} = \frac{8}{2} = 4\) i \(q = f(4) = 16 - 32 + m = m - 16\). Isti rezultat!
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Uslov - teme na \(x\)-osi</div>
      <p>Teme se nalazi na \(x\)-osi ako i samo ako je njegova \(y\)-koordinata jednaka nuli:</p>
      \[q = 0\]
      \[m - 16 = 0\]
      \[\boxed{m = 16}\]
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Verifikacija</div>
      <p>Za \(m = 16\), parabola postaje:</p>
      \[y = x^2 - 8x + 16 = (x - 4)^2\]
      <p>Teme je u tački \(T(4,\, 0)\), koja zaista leži na \(x\)-osi. &#10003;</p>
      <p style="margin-top:0.5rem;">Dodatna provera: jednačina \((x-4)^2 = 0\) ima dupli koren \(x = 4\), što znači da parabola dodiruje \(x\)-osu u tačno jednoj tački. To potvrđuje da je diskriminanta:</p>
      \[D = (-8)^2 - 4 \cdot 1 \cdot 16 = 64 - 64 = 0 \;\;\checkmark\]
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
    <p>Kada je teme parabole na \(x\)-osi, parabola <strong>dodiruje</strong> osu (ne seče je) -- ima tačno jednu zajedničku tačku sa \(x\)-osom. Algebarski, to odgovara uslovu da je <strong>diskriminanta jednaka nuli</strong> (\(D = 0\)), što je ekvivalentno uslovu \(q = 0\) za \(y\)-koordinatu temena. Kompletiranje kvadrata je najelegantniji put do rešenja jer direktno daje kanonski oblik sa temenom.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konačan odgovor</div>
    <div class="value">A) \(m = 16\)</div>
    <div class="options-grid">
      <div class="option correct">A) \(16\)</div>
      <div class="option">B) \(-4\)</div>
      <div class="option">C) \(4\)</div>
      <div class="option">D) \(6\sqrt{3}\)</div>
      <div class="option">E) \(9\)</div>
      <div class="option">N) Ne znam</div>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Česte greške</div>
    <div class="pitfall">
      <strong>Zamena „teme na \(x\)-osi" sa „presek sa \(y\)-osom":</strong> Teme na \(x\)-osi znači da je \(y\)-koordinata temena jednaka nuli, a ne da tražimo presek grafika sa \(y\)-osom (koji je \(y(0) = m\)). To su sasvim različiti uslovi!
    </div>
    <div class="pitfall">
      <strong>Pogrešan predznak pri kompletiranju kvadrata:</strong> Za \(x^2 - 8x\), dodajemo \(+16\) (a ne \(-16\)). Česta greška je računanje \(\left(\frac{-8}{2}\right)^2 = -16\), ali kvadrat je uvek pozitivan: \((-4)^2 = 16\).
    </div>
    <div class="pitfall">
      <strong>Zaboravljanje na oduzimanje dodate vrednosti:</strong> Kada dodamo \(16\) unutar zagrade, moramo oduzeti \(16\) izvan zagrade da ne promenimo funkciju. Dakle: \(x^2 - 8x + m = (x^2 - 8x + 16) + m - 16\).
    </div>
    <div class="pitfall">
      <strong>Mešanje \(x\)-koordinate i \(y\)-koordinate temena:</strong> Uslov „na \(x\)-osi" odnosi se na \(y\)-koordinatu temena (\(q = 0\)), a ne na \(x\)-koordinatu. \(x\)-koordinata temena (\(p = 4\)) ne zavisi od \(m\) i nije relevantna za ovaj uslov.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Za koje vrednosti parametra \(k\) parabola \(y = 2x^2 + 12x + k\) ima teme:</p>
    <p style="margin-top:0.3rem;">(a) na \(x\)-osi?</p>
    <p>(b) ispod \(x\)-ose?</p>
    <p>(c) iznad \(x\)-ose?</p>
    <p class="muted" style="margin-top:0.5rem;font-size:0.9rem;">Savet: Kompletirati kvadrat za \(2x^2 + 12x + k\) ili koristiti formulu za teme. Kanonski oblik je \(y = 2(x+3)^2 + (k - 18)\). Odgovori: (a) \(k = 18\), (b) \(k < 18\), (c) \(k > 18\).</p>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('graph');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  var slider = document.getElementById('mSlider');
  var mValueEl = document.getElementById('mValue');
  var vertexInfoEl = document.getElementById('vertexInfo');

  var padL = 60;
  var padR = 30;
  var padT = 30;
  var padB = 50;
  var plotW = W - padL - padR;
  var plotH = H - padT - padB;

  // Coordinate range
  var xMin = -2;
  var xMax = 10;
  var yMin = -10;
  var yMax = 20;

  function mapX(x) { return padL + (x - xMin) / (xMax - xMin) * plotW; }
  function mapY(y) { return padT + (1 - (y - yMin) / (yMax - yMin)) * plotH; }
  function unmapX(px) { return xMin + (px - padL) / plotW * (xMax - xMin); }
  function unmapY(py) { return yMin + (1 - (py - padT) / plotH) * (yMax - yMin); }

  function parabola(x, m) {
    return x * x - 8 * x + m;
  }

  function draw(m, hoverPx) {
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    for (var yg = Math.ceil(yMin); yg <= yMax; yg += 2) {
      var py = mapY(yg);
      if (py < padT || py > H - padB) continue;
      ctx.beginPath();
      ctx.moveTo(padL, py);
      ctx.lineTo(W - padR, py);
      ctx.stroke();
      if (yg % 4 === 0) {
        ctx.fillStyle = '#475569';
        ctx.font = '11px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'right';
        ctx.textBaseline = 'middle';
        ctx.fillText(yg.toString(), padL - 8, py);
      }
    }

    for (var xg = Math.ceil(xMin); xg <= xMax; xg += 1) {
      var px = mapX(xg);
      if (px < padL || px > W - padR) continue;
      ctx.beginPath();
      ctx.moveTo(px, padT);
      ctx.lineTo(px, H - padB);
      ctx.stroke();
      ctx.fillStyle = '#475569';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText(xg.toString(), px, H - padB + 6);
    }

    // Axes
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 1.5;

    var y0 = mapY(0);
    if (y0 >= padT && y0 <= H - padB) {
      ctx.beginPath();
      ctx.moveTo(padL, y0);
      ctx.lineTo(W - padR, y0);
      ctx.stroke();
    }

    var x0 = mapX(0);
    if (x0 >= padL && x0 <= W - padR) {
      ctx.beginPath();
      ctx.moveTo(x0, padT);
      ctx.lineTo(x0, H - padB);
      ctx.stroke();
    }

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('x', W - padR + 10, y0 - 6);
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillText('y', x0 - 8, padT - 2);

    // Ghost parabola for m=16 (the answer)
    if (Math.abs(m - 16) > 0.5) {
      ctx.strokeStyle = 'rgba(74, 222, 128, 0.15)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.beginPath();
      var started16 = false;
      for (var px16 = padL; px16 <= W - padR; px16 += 1) {
        var xv16 = unmapX(px16);
        var yv16 = parabola(xv16, 16);
        var pyv16 = mapY(yv16);
        if (pyv16 < padT - 10 || pyv16 > H - padB + 10) {
          started16 = false;
          continue;
        }
        if (!started16) { ctx.moveTo(px16, pyv16); started16 = true; }
        else ctx.lineTo(px16, pyv16);
      }
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // Main parabola
    var isCorrect = Math.abs(m - 16) < 0.3;
    ctx.strokeStyle = isCorrect ? '#4ade80' : '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    var started = false;
    for (var pxp = padL; pxp <= W - padR; pxp += 1) {
      var xv = unmapX(pxp);
      var yv = parabola(xv, m);
      var pyv = mapY(yv);
      if (pyv < padT - 10 || pyv > H - padB + 10) {
        started = false;
        continue;
      }
      if (!started) { ctx.moveTo(pxp, pyv); started = true; }
      else ctx.lineTo(pxp, pyv);
    }
    ctx.stroke();

    // Vertex
    var vx = 4;
    var vy = m - 16;
    var vpx = mapX(vx);
    var vpy = mapY(vy);

    if (vpy >= padT - 5 && vpy <= H - padB + 5) {
      // Dashed lines from vertex to axes
      ctx.strokeStyle = 'rgba(167, 139, 250, 0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);

      // Horizontal to y-axis
      ctx.beginPath();
      ctx.moveTo(vpx, vpy);
      ctx.lineTo(x0 >= padL ? x0 : padL, vpy);
      ctx.stroke();

      // Vertical to x-axis
      ctx.beginPath();
      ctx.moveTo(vpx, vpy);
      ctx.lineTo(vpx, y0);
      ctx.stroke();
      ctx.setLineDash([]);

      // Vertex dot
      var dotColor = isCorrect ? '#4ade80' : '#a78bfa';
      // Outer glow
      ctx.fillStyle = isCorrect ? 'rgba(74, 222, 128, 0.25)' : 'rgba(167, 139, 250, 0.25)';
      ctx.beginPath();
      ctx.arc(vpx, vpy, 14, 0, Math.PI * 2);
      ctx.fill();

      // Dot
      ctx.fillStyle = dotColor;
      ctx.beginPath();
      ctx.arc(vpx, vpy, 7, 0, Math.PI * 2);
      ctx.fill();

      // Vertex label
      ctx.fillStyle = dotColor;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'bottom';
      var vyRound = Math.round(vy * 10) / 10;
      var vertLabel = 'T(4; ' + vyRound.toString().replace('.', ',') + ')';
      var labelX = vpx + 16;
      var labelY = vpy - 6;
      if (labelX + 100 > W - padR) labelX = vpx - 110;
      if (labelY < padT + 15) labelY = vpy + 22;
      ctx.fillText(vertLabel, labelX, labelY);

      if (isCorrect) {
        ctx.fillStyle = '#4ade80';
        ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
        ctx.fillText('Na x-osi!', labelX, labelY + 16);
      }
    }

    // Legend
    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    var legendX = padL + 10;
    var legendY = padT + 8;
    var legendW = 210;
    var legendH = isCorrect ? 42 : 58;
    ctx.fillRect(legendX, legendY, legendW, legendH);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(legendX, legendY, legendW, legendH);

    // Current parabola
    ctx.strokeStyle = isCorrect ? '#4ade80' : '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legendX + 10, legendY + 16);
    ctx.lineTo(legendX + 40, legendY + 16);
    ctx.stroke();
    ctx.fillStyle = isCorrect ? '#4ade80' : '#60a5fa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    var mShow = Math.round(m * 10) / 10;
    ctx.fillText('y = x\u00B2 \u2212 8x + ' + mShow.toString().replace('.', ','), legendX + 46, legendY + 16);

    // Ghost parabola legend (only if not at m=16)
    if (Math.abs(m - 16) > 0.5) {
      ctx.strokeStyle = 'rgba(74, 222, 128, 0.4)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.beginPath();
      ctx.moveTo(legendX + 10, legendY + 38);
      ctx.lineTo(legendX + 40, legendY + 38);
      ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle = 'rgba(74, 222, 128, 0.6)';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText('y = x\u00B2 \u2212 8x + 16 (cilj)', legendX + 46, legendY + 38);
    }

    // Hover crosshair
    if (hoverPx !== undefined && hoverPx >= padL && hoverPx <= W - padR) {
      var hx = unmapX(hoverPx);
      var hy = parabola(hx, m);
      var hyPx = mapY(hy);

      ctx.strokeStyle = 'rgba(148,163,184,0.3)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(hoverPx, padT);
      ctx.lineTo(hoverPx, H - padB);
      ctx.stroke();
      ctx.setLineDash([]);

      if (hyPx >= padT && hyPx <= H - padB) {
        ctx.fillStyle = isCorrect ? '#4ade80' : '#60a5fa';
        ctx.beginPath();
        ctx.arc(hoverPx, hyPx, 5, 0, Math.PI * 2);
        ctx.fill();

        // Tooltip
        var txt1 = 'x = ' + hx.toFixed(1).replace('.', ',');
        var txt2 = 'y = ' + hy.toFixed(2).replace('.', ',');
        ctx.font = '11px Segoe UI, system-ui, sans-serif';
        var tw1 = ctx.measureText(txt1).width;
        var tw2 = ctx.measureText(txt2).width;
        var boxW = Math.max(tw1, tw2) + 16;
        var boxH = 38;
        var tx = hoverPx + 14;
        var ty = hyPx - 40;
        if (tx + boxW > W - padR) tx = hoverPx - boxW - 14;
        if (ty < padT) ty = hyPx + 10;
        ctx.fillStyle = 'rgba(30,41,59,0.92)';
        ctx.fillRect(tx, ty, boxW, boxH);
        ctx.strokeStyle = '#a78bfa';
        ctx.lineWidth = 1;
        ctx.strokeRect(tx, ty, boxW, boxH);
        ctx.fillStyle = '#e2e8f0';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'top';
        ctx.fillText(txt1, tx + 8, ty + 4);
        ctx.fillText(txt2, tx + 8, ty + 19);
      }
    }
  }

  function updateVertexInfo(m) {
    var vy = m - 16;
    var vyRound = Math.round(vy * 100) / 100;
    var vyStr = vyRound.toString().replace('.', ',');
    var isOnAxis = Math.abs(vy) < 0.3;
    var html = 'Teme: T(4; ' + vyStr + ')';
    if (isOnAxis) {
      html += ' \u2014 <span class="on-axis">tačno na x-osi!</span>';
    } else if (vy > 0) {
      html += ' \u2014 <span class="off-axis">iznad x-ose (y > 0)</span>';
    } else {
      html += ' \u2014 <span class="off-axis">ispod x-ose (y < 0)</span>';
    }
    vertexInfoEl.innerHTML = html;
  }

  var currentM = 16;
  var lastHover = undefined;

  function render() {
    draw(currentM, lastHover);
  }

  render();
  updateVertexInfo(currentM);

  slider.addEventListener('input', function() {
    currentM = parseFloat(slider.value);
    var display = Math.round(currentM * 10) / 10;
    mValueEl.textContent = display.toString().replace('.', ',');
    updateVertexInfo(currentM);
    render();
  });

  canvas.addEventListener('mousemove', function(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    lastHover = (e.clientX - rect.left) * scaleX;
    render();
  });

  canvas.addEventListener('mouseleave', function() {
    lastHover = undefined;
    render();
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var touch = e.touches[0];
    lastHover = (touch.clientX - rect.left) * scaleX;
    render();
  });

  canvas.addEventListener('touchend', function() {
    lastHover = undefined;
    render();
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Teme parabole na x-osi","subject":"math","unit":"algebra","topic_tags":["kvadratna funkcija","parabola","teme parabole","kompletiranje kvadrata","kanonski oblik","parametar"]}
BRAINSPARK_META-->