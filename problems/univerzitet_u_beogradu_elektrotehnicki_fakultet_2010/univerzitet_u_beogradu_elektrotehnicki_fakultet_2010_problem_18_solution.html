<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trocifreni brojevi sa razlicitim ciframa</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Koliko ima trocifrenih brojeva u cijem zapisu su sve tri cifre razlicite?

A three-digit number has the form d1 d2 d3 where:
  d1 = stotine (hundreds digit)
  d2 = desetice (tens digit)
  d3 = jedinice (units digit)

Constraints:
  - d1 in {1,2,...,9} (cannot be 0, otherwise it's not a three-digit number)
  - d2 in {0,1,...,9} but d2 != d1
  - d3 in {0,1,...,9} but d3 != d1 and d3 != d2
  - All three digits must be different

Counting using the multiplication principle:
  d1: 9 choices (1 through 9)
  d2: 9 choices (0 through 9, except d1 -- so 10-1 = 9)
  d3: 8 choices (0 through 9, except d1 and d2 -- so 10-2 = 8)

Total = 9 * 9 * 8 = 648

Answer: (D) 648

Alternative approach (complement):
  Total three-digit numbers with all digits from {0,...,9}: from 100 to 999 = 900
  Subtract those with at least two equal digits.
  But the direct approach above is simpler.

Alternative approach (permutations):
  Choose 3 digits from {0,...,9} and arrange them: P(10,3) = 10*9*8 = 720
  But this counts numbers starting with 0 (which are not three-digit).
  Numbers starting with 0: fix d1=0, then d2 from remaining 9, d3 from remaining 8 = 9*8 = 72
  Total = 720 - 72 = 648
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 120px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.digit-slot {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 56px;
  height: 56px;
  border: 2px solid #60a5fa;
  border-radius: 10px;
  font-size: 1.3rem;
  font-weight: 700;
  margin: 0 4px;
  background: rgba(96,165,250,0.08);
  color: #60a5fa;
  vertical-align: middle;
}

.digit-slot.highlight-slot {
  border-color: #4ade80;
  color: #4ade80;
  background: rgba(52,211,153,0.1);
}

.slot-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin: 16px 0;
  flex-wrap: wrap;
}

.slot-label {
  text-align: center;
  font-size: 0.85rem;
  color: #94a3b8;
  margin-top: 4px;
}

.multiply-sign {
  font-size: 1.6rem;
  color: #a78bfa;
  font-weight: 700;
}

.equals-sign {
  font-size: 1.6rem;
  color: #f472b6;
  font-weight: 700;
}

.result-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 80px;
  height: 56px;
  border: 2px solid #4ade80;
  border-radius: 10px;
  font-size: 1.5rem;
  font-weight: 800;
  background: rgba(52,211,153,0.12);
  color: #4ade80;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
  .digit-slot { width: 44px; height: 44px; font-size: 1.1rem; }
  .result-badge { height: 44px; font-size: 1.2rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Trocifreni brojevi sa razlicitim ciframa</h1>
  <p class="subtitle">Prebrojavanje primenom pravila proizvoda (principa mnozenja)</p>

  <!-- Problem Statement -->
  <div class="card">
    <h2>Postavka zadatka</h2>
    <p>Trocifrenih brojeva, u cijem zapisu su sve tri cifre razlicite, ima:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Odgovor (A)</div>
        <div class="value">728</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (B)</div>
        <div class="value">720</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (C)</div>
        <div class="value">642</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (D)</div>
        <div class="value">648</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (E)</div>
        <div class="value">450</div>
      </div>
      <div class="given-item">
        <div class="label">Odgovor (N)</div>
        <div class="value">Ne znam</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Resavamo primenom principa mnozenja (pravila proizvoda) u tri koraka:</p>
    <ol style="padding-left: 20px; margin-top: 10px;">
      <li style="margin-bottom: 6px;">Identifikujemo pozicije cifara u trocifrenom broju i ogranicenja za svaku.</li>
      <li style="margin-bottom: 6px;">Za svaku poziciju odredimo broj raspolozivih izbora, uz uslov da se cifre ne ponavljaju.</li>
      <li style="margin-bottom: 6px;">Primenimo pravilo proizvoda: ukupan broj = proizvod broja izbora za svaku poziciju.</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Teorija: Princip mnozenja i varijacije bez ponavljanja</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Princip mnozenja (pravilo proizvoda):</strong> Ako prvi izbor mozemo napraviti na \(n_1\) nacina, drugi na \(n_2\) nacina, ..., \(k\)-ti na \(n_k\) nacina, onda ukupan broj nacina iznosi \(n_1 \cdot n_2 \cdot \ldots \cdot n_k\).</li>
          <li><strong>Varijacije bez ponavljanja:</strong> Broj nacina da iz skupa od \(n\) elemenata izaberemo i poredamo \(k\) razlicitih elemenata: \(\displaystyle V(n, k) = \frac{n!}{(n-k)!} = n \cdot (n-1) \cdot \ldots \cdot (n-k+1)\)</li>
          <li><strong>Trocifreni brojevi:</strong> Trocifreni brojevi su prirodni brojevi od 100 do 999. Cifra stotina ne moze biti 0.</li>
          <li><strong>Komplementarno prebrojavanje:</strong> Umesto da direktno prebrojimo zeljene objekte, mozemo racunati: \(\text{trazeno} = \text{ukupno} - \text{ono sto ne zelimo}\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Interaktivni dijagram prikazuje princip mnozenja za izbor cifara na svakoj poziciji trocifrenog broja. Kliknite na dugme "Pokreni animaciju" da vidite kako se izbori smanjuju.</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="900" height="540"></canvas>
    </div>
    <div style="text-align: center; margin-top: 12px;">
      <button id="animBtn" style="background: linear-gradient(135deg, #60a5fa, #a78bfa); border: none; color: #0f172a; padding: 10px 28px; border-radius: 8px; font-size: 1rem; font-weight: 700; cursor: pointer;">Pokreni animaciju</button>
      <button id="resetBtn" style="background: rgba(96,165,250,0.15); border: 1px solid #60a5fa; color: #60a5fa; padding: 10px 28px; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; margin-left: 10px;">Resetuj</button>
    </div>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikujemo strukturu trocifrenog broja</h3>
        <p>Svaki trocifreni broj ima oblik \(\overline{d_1 d_2 d_3}\), gde je:</p>
        <ul style="padding-left: 20px; margin: 10px 0;">
          <li>\(d_1\) -- cifra stotina (prva cifra)</li>
          <li>\(d_2\) -- cifra desetica (druga cifra)</li>
          <li>\(d_3\) -- cifra jedinica (treca cifra)</li>
        </ul>
        <p>Uslov: <span class="highlight">sve tri cifre moraju biti medjusobno razlicite</span>, tj. \(d_1 \neq d_2\), \(d_1 \neq d_3\), \(d_2 \neq d_3\).</p>
        <p>Vrednost broja je \(d_1 \cdot 100 + d_2 \cdot 10 + d_3\), gde trocifreni brojevi idu od 100 do 999.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Prebrojimo izbore za cifru stotina \(d_1\)</h3>
        <p>Cifra stotina odredjuje da je broj trocifreni, pa <span class="highlight">ne moze biti 0</span>. Dakle:</p>
        <div class="math-box">
          \[ d_1 \in \{1, 2, 3, 4, 5, 6, 7, 8, 9\} \]
        </div>
        <p>Imamo <span class="highlight">9 mogucih izbora</span> za prvu cifru.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Zasto \(d_1\) ne moze biti 0?</summary>
      <div class="details-content">
        <p>Ako bi cifra stotina bila 0, dobili bismo broj oblika \(\overline{0 d_2 d_3}\), sto je zapravo dvocifreni broj \(\overline{d_2 d_3}\) (ili jednocifreni, ili nula). Na primer, 057 = 57, sto je dvocifreni broj, ne trocifreni. Zato vodeca cifra mora biti barem 1.</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Prebrojimo izbore za cifru desetica \(d_2\)</h3>
        <p>Cifra desetica moze biti bilo koja cifra od 0 do 9, ali <span class="highlight">ne sme biti jednaka cifri \(d_1\)</span> (jer cifre moraju biti razlicite).</p>
        <div class="math-box">
          \[ d_2 \in \{0, 1, 2, \ldots, 9\} \setminus \{d_1\} \]
        </div>
        <p>Od ukupno 10 cifara, iskljucujemo jednu (onu koja je vec zauzeta za \(d_1\)), pa imamo:</p>
        <div class="math-box">
          \[ 10 - 1 = \mathbf{9 \text{ mogucih izbora}} \]
        </div>
        <p>Obratite paznju: cifra 0 <em>je</em> dozvoljena na poziciji desetica! Jedino ogranicenje je da \(d_2 \neq d_1\).</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Prebrojimo izbore za cifru jedinica \(d_3\)</h3>
        <p>Cifra jedinica moze biti bilo koja cifra od 0 do 9, ali <span class="highlight">ne sme biti jednaka ni \(d_1\) ni \(d_2\)</span>.</p>
        <div class="math-box">
          \[ d_3 \in \{0, 1, 2, \ldots, 9\} \setminus \{d_1, d_2\} \]
        </div>
        <p>Od ukupno 10 cifara, iskljucujemo dve (vec zauzete za \(d_1\) i \(d_2\)), pa imamo:</p>
        <div class="math-box">
          \[ 10 - 2 = \mathbf{8 \text{ mogucih izbora}} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Primenimo pravilo proizvoda</h3>
        <p>Prema principu mnozenja, ukupan broj trocifrenih brojeva sa svim razlicitim ciframa je:</p>
        <div class="math-box">
          \[
          \underbrace{9}_{\text{izbor za } d_1} \times \underbrace{9}_{\text{izbor za } d_2} \times \underbrace{8}_{\text{izbor za } d_3} = \mathbf{648}
          \]
        </div>

        <div class="slot-row">
          <div style="text-align: center;">
            <div class="digit-slot">9</div>
            <div class="slot-label">\(d_1\): stotine</div>
          </div>
          <div class="multiply-sign">&times;</div>
          <div style="text-align: center;">
            <div class="digit-slot">9</div>
            <div class="slot-label">\(d_2\): desetice</div>
          </div>
          <div class="multiply-sign">&times;</div>
          <div style="text-align: center;">
            <div class="digit-slot">8</div>
            <div class="slot-label">\(d_3\): jedinice</div>
          </div>
          <div class="equals-sign">=</div>
          <div style="text-align: center;">
            <div class="result-badge">648</div>
            <div class="slot-label">ukupno</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Alternativni pristup preko varijacija</summary>
      <div class="details-content">
        <p>Mozemo resiti i drugacije. Koliko ima nacina da iz 10 cifara \(\{0,1,\ldots,9\}\) izaberemo i rasporedimo 3 razlicite? To su varijacije bez ponavljanja:</p>
        <div class="math-box">
          \[
          V(10, 3) = 10 \cdot 9 \cdot 8 = 720
          \]
        </div>
        <p>Ali ovo racuna i "brojeve" koji pocinju nulom (npr. 012, 035 itd.), a to nisu trocifreni brojevi. Koliko ih ima? Ako fiksiramo \(d_1 = 0\), preostaje:</p>
        <div class="math-box">
          \[
          1 \cdot 9 \cdot 8 = 72 \text{ takvih rasporeda}
          \]
        </div>
        <p>Oduzmemo ih od ukupnog broja:</p>
        <div class="math-box">
          \[
          720 - 72 = 648 \quad \checkmark
          \]
        </div>
        <p>Dobijamo isti rezultat, sto potvrdjuje tacnost naseg odgovora.</p>
      </div>
    </details>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Zasto nije 720 (odgovor B)?</summary>
      <div class="details-content">
        <p>Odgovor (B) = 720 je "zamka". Vrednost \(720 = 10 \cdot 9 \cdot 8\) je broj varijacija bez ponavljanja od 10 cifara, klase 3. Ali taj racun pretpostavlja da bilo koja od 10 cifara moze doci na prvu poziciju.</p>
        <p>Problem nastaje jer cifra 0 <strong>ne moze</strong> biti na poziciji stotina -- inace broj nije trocifreni. Zato moramo ili:</p>
        <ul style="padding-left: 20px; margin: 8px 0;">
          <li>odmah ograniciti \(d_1\) na \(\{1,\ldots,9\}\), sto daje \(9 \times 9 \times 8 = 648\), ili</li>
          <li>od 720 oduzeti 72 (slucajeva kad \(d_1 = 0\)), sto opet daje 648.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Cifra stotina i cifra desetica imaju <strong>isti broj izbora (po 9)</strong>, ali iz razlicitih razloga!
       Cifra stotina ima 9 izbora jer je iskljucena nula (vodeca cifra ne sme biti 0).
       Cifra desetica takodje ima 9 izbora jer, iako je nula dozvoljena, iskljucena je vec izabrana cifra stotina.
       Zato imamo \(9 \times 9 \times 8\), a ne \(9 \times 10 \times 8\) ili \(10 \times 9 \times 8\).
       Ova simetrija \(9 = 9\) je cest izvor konfuzije na ispitima!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konacan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) 728</div>
      <div class="option-chip">(B) 720</div>
      <div class="option-chip">(C) 642</div>
      <div class="option-chip correct">(D) 648</div>
      <div class="option-chip">(E) 450</div>
      <div class="option-chip">(N) Ne znam</div>
    </div>
    <div class="answer-value">\(9 \times 9 \times 8 = 648\)</div>
    <div class="provera-note">
      <strong>Provera:</strong> Alternativnim pristupom: \(V(10,3) - V(9,2) = 720 - 72 = 648\). Potvrdjeno!
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Zaboraviti ogranicenje za prvu cifru:</strong> Ako se stavi \(10 \times 9 \times 8 = 720\),
        ukljuceni su i "brojevi" koji pocinju nulom. To nisu trocifreni brojevi! Tacno je \(9 \times 9 \times 8 = 648\).</li>
      <li style="margin-bottom: 10px;"><strong>Pogresno smanjivanje izbora:</strong> Nekima izgleda logicno da za drugu cifru imamo 10 izbora
        (od 0 do 9), a da tek za trecu smanjujemo. Ali uslov "razlicite cifre" vazi vec od drugog izbora, pa je \(d_2\) ograniceno na \(10 - 1 = 9\) izbora.</li>
      <li style="margin-bottom: 10px;"><strong>Mesanje sa permutacijama:</strong> \(P(10,3) = 10! / 7! = 720\) broji rasporede 3 razlicite cifre od 10 mogucih, ali ne vodi racuna o ogranicenju vodece cifre. Mora se od 720 oduzeti 72.</li>
      <li><strong>Odgovor 728 ili 642:</strong> Ovi odgovori su "mamci" -- ne odgovaraju nikakvom logicnom racunu. Ako dobijete nesto slicno, proverite svaki korak ponovo.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Pokusajte da odgovorite na sledeca pitanja:</p>
    <ol style="padding-left: 20px; margin-top: 10px;">
      <li style="margin-bottom: 6px;">Koliko ima <em>cetvorocifrenih</em> brojeva u cijem zapisu su sve cetiri cifre razlicite?</li>
      <li style="margin-bottom: 6px;">Koliko ima trocifrenih brojeva cije su sve cifre razlicite <em>i neparne</em>?</li>
      <li style="margin-bottom: 6px;">Koliko trocifrenih brojeva sa razlicitim ciframa je deljivo sa 5?</li>
    </ol>
    <details>
      <summary>Pogledaj resenja</summary>
      <div class="details-content">
        <p><strong>1.</strong> Cetvorocifreni brojevi sa svim razlicitim ciframa:</p>
        <div class="math-box">
          \[ d_1: 9 \text{ izbora} \times d_2: 9 \text{ izbora} \times d_3: 8 \text{ izbora} \times d_4: 7 \text{ izbora} = 9 \times 9 \times 8 \times 7 = 4536 \]
        </div>
        <p><strong>2.</strong> Trocifreni sa svim razlicitim i neparnim ciframa. Neparne cifre su \(\{1, 3, 5, 7, 9\}\) -- ima ih 5. Posto nijedna nije 0, nema ogranicenja za prvu poziciju osim "razlicite":</p>
        <div class="math-box">
          \[ 5 \times 4 \times 3 = 60 \]
        </div>
        <p><strong>3.</strong> Deljivi sa 5 znaci \(d_3 \in \{0, 5\}\). Razmatramo dva slucaja:</p>
        <div class="math-box">
          \[
          \text{Ako } d_3 = 0: \quad d_1 \in \{1,\ldots,9\} \Rightarrow 9 \text{ izbora}, \quad d_2 \in \{0,\ldots,9\}\setminus\{d_1, 0\} \Rightarrow 8 \text{ izbora} \Rightarrow 9 \times 8 = 72
          \]
          \[
          \text{Ako } d_3 = 5: \quad d_1 \in \{1,\ldots,9\}\setminus\{5\} \Rightarrow 8 \text{ izbora}, \quad d_2 \in \{0,\ldots,9\}\setminus\{d_1, 5\} \Rightarrow 8 \text{ izbora} \Rightarrow 8 \times 8 = 64
          \]
          \[
          \text{Ukupno: } 72 + 64 = 136
          \]
        </div>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  let animPhase = 0; // 0 = static, 1-3 = animating digits, 4 = done
  let animProgress = 0;
  let animFrame = null;

  const digits = ['0','1','2','3','4','5','6','7','8','9'];

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 540 * dpr;
    canvas.style.height = '540px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 540;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Princip mnozenja: biranje cifara za trocifreni broj', W / 2, 30);

    // Three columns for d1, d2, d3
    var colW = Math.min(220, (W - 80) / 3);
    var colGap = (W - 3 * colW) / 4;
    var colX = [colGap + colW/2, 2*colGap + 1.5*colW, 3*colGap + 2.5*colW];
    var topY = 60;

    // Column headers
    var headers = ['d\u2081: Stotine', 'd\u2082: Desetice', 'd\u2083: Jedinice'];
    var subheaders = ['(prva cifra)', '(druga cifra)', '(treca cifra)'];
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    for (var c = 0; c < 3; c++) {
      ctx.fillStyle = c === 0 ? '#60a5fa' : c === 1 ? '#a78bfa' : '#f472b6';
      ctx.fillText(headers[c], colX[c], topY);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText(subheaders[c], colX[c], topY + 18);
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    }

    // Digit grid for each column
    var gridTop = topY + 40;
    var cellSize = 38;
    var cellGap = 4;
    var gridCols = 5; // 5 digits per row, 2 rows
    var gridRows = 2;

    // Phase determines which digits are shown/highlighted
    // d1: available = {1..9}, excluded = {0}
    // d2: available = {0..9}\{d1}, excluded = {d1} -- we illustrate with d1=3
    // d3: available = {0..9}\{d1,d2}, excluded = {d1,d2} -- we illustrate with d1=3, d2=7
    var exampleD1 = 3;
    var exampleD2 = 7;

    for (var col = 0; col < 3; col++) {
      var gx0 = colX[col] - (gridCols * (cellSize + cellGap) - cellGap) / 2;
      var gy0 = gridTop;
      var showPhase = (animPhase > col) || (animPhase === col + 1 && animProgress >= 1) || animPhase > col + 1 || animPhase >= 4;
      var transitioning = (animPhase === col + 1 && animProgress < 1);

      for (var i = 0; i < 10; i++) {
        var row = Math.floor(i / gridCols);
        var colIdx = i % gridCols;
        var cx = gx0 + colIdx * (cellSize + cellGap) + cellSize / 2;
        var cy = gy0 + row * (cellSize + cellGap) + cellSize / 2;

        var digit = i;
        var isExcluded = false;
        var isAvailable = false;

        if (col === 0) {
          isExcluded = (digit === 0);
          isAvailable = (digit >= 1 && digit <= 9);
        } else if (col === 1) {
          isExcluded = (digit === exampleD1);
          isAvailable = (digit !== exampleD1);
        } else {
          isExcluded = (digit === exampleD1 || digit === exampleD2);
          isAvailable = (digit !== exampleD1 && digit !== exampleD2);
        }

        var alpha = 1;
        if (transitioning && isExcluded) {
          alpha = 1 - animProgress;
        }

        // Draw cell
        var rx = cx - cellSize/2;
        var ry = cy - cellSize/2;

        if (showPhase || transitioning) {
          if (isExcluded && showPhase) {
            // Crossed out
            ctx.globalAlpha = 0.3;
            ctx.fillStyle = '#334155';
            ctx.beginPath();
            ctx.roundRect(rx, ry, cellSize, cellSize, 6);
            ctx.fill();
            ctx.strokeStyle = '#ef4444';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(rx + 6, ry + 6);
            ctx.lineTo(rx + cellSize - 6, ry + cellSize - 6);
            ctx.moveTo(rx + cellSize - 6, ry + 6);
            ctx.lineTo(rx + 6, ry + cellSize - 6);
            ctx.stroke();
            ctx.fillStyle = '#94a3b8';
            ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(digit.toString(), cx, cy);
            ctx.globalAlpha = 1;
          } else if (isExcluded && transitioning) {
            ctx.globalAlpha = alpha;
            ctx.fillStyle = 'rgba(239,68,68,0.15)';
            ctx.beginPath();
            ctx.roundRect(rx, ry, cellSize, cellSize, 6);
            ctx.fill();
            ctx.strokeStyle = '#ef4444';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.roundRect(rx, ry, cellSize, cellSize, 6);
            ctx.stroke();
            ctx.fillStyle = '#ef4444';
            ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(digit.toString(), cx, cy);
            ctx.globalAlpha = 1;
          } else {
            // Available
            var colColor = col === 0 ? '#60a5fa' : col === 1 ? '#a78bfa' : '#f472b6';
            var bgColor = col === 0 ? 'rgba(96,165,250,0.12)' : col === 1 ? 'rgba(167,139,250,0.12)' : 'rgba(244,114,182,0.12)';
            ctx.fillStyle = bgColor;
            ctx.beginPath();
            ctx.roundRect(rx, ry, cellSize, cellSize, 6);
            ctx.fill();
            ctx.strokeStyle = colColor;
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.roundRect(rx, ry, cellSize, cellSize, 6);
            ctx.stroke();
            ctx.fillStyle = '#e2e8f0';
            ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(digit.toString(), cx, cy);
          }
        } else {
          // Not yet animated -- show all as neutral
          ctx.fillStyle = 'rgba(51,65,85,0.4)';
          ctx.beginPath();
          ctx.roundRect(rx, ry, cellSize, cellSize, 6);
          ctx.fill();
          ctx.strokeStyle = '#334155';
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.roundRect(rx, ry, cellSize, cellSize, 6);
          ctx.stroke();
          ctx.fillStyle = '#64748b';
          ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText(digit.toString(), cx, cy);
        }
      }

      // Count label below grid
      var countY = gy0 + gridRows * (cellSize + cellGap) + 20;
      var counts = [9, 9, 8];
      var explanations = [
        'Cifre 1-9 (bez nule)',
        'Sve osim d\u2081 (npr. osim 3)',
        'Sve osim d\u2081 i d\u2082 (npr. osim 3 i 7)'
      ];

      if (showPhase || animPhase >= col + 1) {
        var colColor2 = col === 0 ? '#60a5fa' : col === 1 ? '#a78bfa' : '#f472b6';
        ctx.fillStyle = colColor2;
        ctx.font = 'bold 28px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText(counts[col].toString() + ' izbora', colX[col], countY);

        ctx.fillStyle = '#94a3b8';
        ctx.font = '11px Segoe UI, system-ui, sans-serif';
        ctx.fillText(explanations[col], colX[col], countY + 32);
      }
    }

    // Bottom multiplication formula
    var formulaY = gridTop + gridRows * (cellSize + cellGap) + 100;

    ctx.textBaseline = 'middle';

    // Draw the big multiplication
    var formulaParts = ['9', '\u00D7', '9', '\u00D7', '8', '=', '648'];
    var formulaColors = ['#60a5fa', '#94a3b8', '#a78bfa', '#94a3b8', '#f472b6', '#94a3b8', '#4ade80'];
    var formulaSizes = [36, 28, 36, 28, 36, 28, 42];
    var formulaBolds = [true, false, true, false, true, false, true];

    // Determine which parts to show based on animation
    var showCount = 0;
    if (animPhase >= 1) showCount = 1;
    if (animPhase >= 2) showCount = 3;
    if (animPhase >= 3) showCount = 5;
    if (animPhase >= 4) showCount = 7;

    // Measure total width
    var totalFormulaW = 0;
    var partWidths = [];
    for (var p = 0; p < formulaParts.length; p++) {
      ctx.font = (formulaBolds[p] ? 'bold ' : '') + formulaSizes[p] + 'px Segoe UI, system-ui, sans-serif';
      var w = ctx.measureText(formulaParts[p]).width + 14;
      partWidths.push(w);
      if (p < showCount) totalFormulaW += w;
    }

    var fx = W / 2 - totalFormulaW / 2;
    for (var p = 0; p < showCount; p++) {
      ctx.fillStyle = formulaColors[p];
      ctx.font = (formulaBolds[p] ? 'bold ' : '') + formulaSizes[p] + 'px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(formulaParts[p], fx, formulaY);
      fx += partWidths[p];
    }

    // Draw explanation boxes below formula
    var boxY = formulaY + 45;
    if (animPhase >= 4) {
      // Highlight box around 648
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      ctx.shadowColor = '#4ade80';
      ctx.shadowBlur = 15;
      ctx.beginPath();
      ctx.roundRect(W/2 - 80, formulaY - 28, 160, 56, 12);
      ctx.stroke();
      ctx.shadowBlur = 0;

      // Move the number position
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 42px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';

      // Label
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Odgovor: (D) 648', W/2, boxY + 12);
    }

    // Draw arrow annotations showing how the multiplier is reduced
    if (animPhase >= 2) {
      drawArrowNote(ctx, colX[0], gridTop + gridRows*(cellSize+cellGap) + 78, colX[1], gridTop + gridRows*(cellSize+cellGap) + 78, 'iskljuci d\u2081', '#94a3b8');
    }
    if (animPhase >= 3) {
      drawArrowNote(ctx, colX[1], gridTop + gridRows*(cellSize+cellGap) + 78, colX[2], gridTop + gridRows*(cellSize+cellGap) + 78, 'iskljuci d\u2081 i d\u2082', '#94a3b8');
    }

    ctx.textBaseline = 'alphabetic';
  }

  function drawArrowNote(ctx, x1, y1, x2, y2, text, color) {
    ctx.strokeStyle = color;
    ctx.fillStyle = color;
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    ctx.setLineDash([]);

    // Arrowhead
    var angle = Math.atan2(y2 - y1, x2 - x1);
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - 8 * Math.cos(angle - 0.4), y2 - 8 * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - 8 * Math.cos(angle + 0.4), y2 - 8 * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fill();

    // Text above line
    ctx.font = '10px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    ctx.fillText(text, (x1 + x2) / 2, Math.min(y1, y2) - 4);
    ctx.textBaseline = 'alphabetic';
  }

  function animate() {
    if (animPhase >= 4) {
      draw();
      return;
    }

    animPhase++;
    animProgress = 0;
    var startTime = performance.now();
    var duration = 600;

    function step(ts) {
      animProgress = Math.min(1, (ts - startTime) / duration);
      draw();
      if (animProgress < 1) {
        animFrame = requestAnimationFrame(step);
      } else {
        animProgress = 1;
        draw();
        // Auto-advance after a pause
        if (animPhase < 4) {
          setTimeout(animate, 400);
        }
      }
    }

    animFrame = requestAnimationFrame(step);
  }

  document.getElementById('animBtn').addEventListener('click', function() {
    if (animPhase > 0 && animPhase < 4) return; // already running
    if (animPhase >= 4) {
      // reset first
      animPhase = 0;
      animProgress = 0;
      draw();
      setTimeout(animate, 300);
    } else {
      animate();
    }
  });

  document.getElementById('resetBtn').addEventListener('click', function() {
    if (animFrame) cancelAnimationFrame(animFrame);
    animPhase = 0;
    animProgress = 0;
    draw();
  });

  // roundRect polyfill for older browsers
  if (!ctx.roundRect) {
    CanvasRenderingContext2D.prototype.roundRect = function(x, y, w, h, r) {
      if (typeof r === 'number') r = [r, r, r, r];
      var tl = r[0] || 0, tr = r[1] || r[0] || 0, br = r[2] || r[0] || 0, bl = r[3] || r[1] || r[0] || 0;
      this.moveTo(x + tl, y);
      this.lineTo(x + w - tr, y);
      this.quadraticCurveTo(x + w, y, x + w, y + tr);
      this.lineTo(x + w, y + h - br);
      this.quadraticCurveTo(x + w, y + h, x + w - br, y + h);
      this.lineTo(x + bl, y + h);
      this.quadraticCurveTo(x, y + h, x, y + h - bl);
      this.lineTo(x, y + tl);
      this.quadraticCurveTo(x, y, x + tl, y);
      this.closePath();
    };
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trocifreni brojevi sa razlicitim ciframa",
  "subject": "math",
  "unit": "kombinatorika",
  "topic_tags": ["kombinatorika", "princip mnozenja", "pravilo proizvoda", "varijacije bez ponavljanja", "prebrojavanje", "trocifreni brojevi"]
}
BRAINSPARK_META-->