<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompleksni brojevi - stepenovanje (1+i) i (1-i)</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Ako je i = sqrt(-1), izraƒçunati (1+i)^2010 / (1-i)^2011 - (1-i)^2012 / (1+i)^2013

Key identities:
  (1+i)/(1-i) = (1+i)^2 / ((1-i)(1+i)) = (1 + 2i - 1) / 2 = 2i/2 = i
  (1-i)/(1+i) = (1-i)^2 / ((1+i)(1-i)) = (1 - 2i - 1) / 2 = -2i/2 = -i
  (1+i)(1-i) = 1 - i^2 = 1 - (-1) = 2

Powers of i cycle with period 4:
  i^0 = 1, i^1 = i, i^2 = -1, i^3 = -i, i^4 = 1, ...

First fraction: (1+i)^2010 / (1-i)^2011
  = (1+i)^2010 / ((1-i)^2010 * (1-i))
  = ((1+i)/(1-i))^2010 * 1/(1-i)
  = i^2010 * 1/(1-i)

  i^2010 = i^(4*502 + 2) = i^2 = -1

  First fraction = -1/(1-i)
  Rationalize: -1/(1-i) * (1+i)/(1+i) = -(1+i)/((1-i)(1+i)) = -(1+i)/2

Second fraction: (1-i)^2012 / (1+i)^2013
  = (1-i)^2012 / ((1+i)^2012 * (1+i))
  = ((1-i)/(1+i))^2012 * 1/(1+i)
  = (-i)^2012 * 1/(1+i)

  (-i)^2012 = (-1)^2012 * i^2012 = 1 * i^(4*503) = 1 * 1 = 1

  Second fraction = 1/(1+i)
  Rationalize: 1/(1+i) * (1-i)/(1-i) = (1-i)/((1+i)(1-i)) = (1-i)/2

Result: -(1+i)/2 - (1-i)/2 = (-(1+i) - (1-i)) / 2 = (-1 - i - 1 + i) / 2 = -2/2 = -1

Answer: (C) -1
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin: 16px 0 10px;
}

.problem-statement {
  background: #172033;
  border-left: 4px solid #a78bfa;
  padding: 20px;
  border-radius: 0 10px 10px 0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 14px;
}

.option {
  background: #1e293b;
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.option.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.1);
  color: #34d399;
  font-weight: 700;
}

.plan-list {
  list-style: none;
  padding: 0;
}

.plan-list li {
  padding: 8px 0 8px 28px;
  position: relative;
  border-bottom: 1px solid #334155;
}

.plan-list li:last-child { border-bottom: none; }

.plan-list li::before {
  content: attr(data-step);
  position: absolute;
  left: 0;
  color: #a78bfa;
  font-weight: 700;
}

.theory-toggle {
  background: #334155;
  color: #e2e8f0;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  width: 100%;
  text-align: left;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.2s;
}

.theory-toggle:hover { background: #475569; }

.theory-content {
  display: none;
  padding: 16px 0 0;
}

.theory-content.open { display: block; }

.theory-box {
  background: #172033;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 16px;
  margin: 10px 0;
}

.step-card {
  background: #172033;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 16px;
  border-left: 4px solid #60a5fa;
}

.step-card.highlight {
  border-left-color: #a78bfa;
}

.step-card.final-step {
  border-left-color: #34d399;
}

.step-number {
  display: inline-block;
  background: #60a5fa;
  color: #0f172a;
  width: 28px;
  height: 28px;
  line-height: 28px;
  text-align: center;
  border-radius: 50%;
  font-weight: 700;
  font-size: 0.9rem;
  margin-right: 10px;
}

.step-card.highlight .step-number { background: #a78bfa; }
.step-card.final-step .step-number { background: #34d399; }

.checkpoint {
  background: rgba(244, 114, 182, 0.1);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 14px 0;
  cursor: pointer;
  transition: all 0.3s;
}

.checkpoint:hover { background: rgba(244, 114, 182, 0.18); }

.checkpoint-answer {
  display: none;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid #f472b6;
  color: #4ade80;
}

.checkpoint-answer.open { display: block; }

.insight-box {
  background: linear-gradient(135deg, rgba(167, 139, 250, 0.12), rgba(96, 165, 250, 0.12));
  border: 1px solid #a78bfa;
  border-radius: 12px;
  padding: 20px;
  margin: 10px 0;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.15), rgba(74, 222, 128, 0.1));
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin: 10px 0;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 10px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 14px;
}

.final-option {
  padding: 8px 20px;
  border-radius: 8px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
}

.final-option.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.15);
  color: #4ade80;
  font-weight: 700;
}

.pitfall-item {
  background: rgba(251, 146, 60, 0.1);
  border-left: 3px solid #fb923c;
  padding: 12px 16px;
  border-radius: 0 8px 8px 0;
  margin: 10px 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px dashed #f472b6;
  border-radius: 12px;
  padding: 20px;
}

canvas {
  width: 100%;
  border-radius: 12px;
  background: #0f172a;
  display: block;
  cursor: crosshair;
}

.canvas-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.canvas-btn {
  background: #334155;
  color: #e2e8f0;
  border: 1px solid #475569;
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s;
}

.canvas-btn:hover { background: #475569; }

.canvas-btn.active {
  background: #60a5fa;
  color: #0f172a;
  border-color: #60a5fa;
}

.table-wrap {
  overflow-x: auto;
  margin: 10px 0;
}

.power-table {
  border-collapse: collapse;
  width: 100%;
}

.power-table th, .power-table td {
  border: 1px solid #334155;
  padding: 8px 14px;
  text-align: center;
}

.power-table th {
  background: #334155;
  color: #60a5fa;
  font-weight: 700;
}

.power-table td { background: #172033; }

.power-table tr:hover td { background: #1e293b; }

@media (max-width: 700px) {
  body { padding: 10px; }
  .container { padding: 10px; }
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .options-grid { grid-template-columns: repeat(3, 1fr); }
  .final-options { gap: 6px; }
  .final-option { padding: 6px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Stepenovanje kompleksnih brojeva \((1+i)\) i \((1-i)\)</h1>
  <p class="subtitle">ETF Beograd 2010 &mdash; Zadatak 6 &mdash; Kompleksni brojevi</p>

  <!-- ===== ZADATAK ===== -->
  <div class="card">
    <h2>Zadatak</h2>
    <div class="problem-statement">
      <p>Ako je \(i = \sqrt{-1}\), tada vrednost izraza</p>
      \[
        \frac{(1+i)^{2010}}{(1-i)^{2011}} \;-\; \frac{(1-i)^{2012}}{(1+i)^{2013}}
      \]
      <p>iznosi:</p>
    </div>
    <div class="options-grid">
      <div class="option">(A) \(i\)</div>
      <div class="option">(B) \(1\)</div>
      <div class="option correct">(C) \(-1\)</div>
      <div class="option">(D) \(-i\)</div>
      <div class="option">(E) \(0\)</div>
      <div class="option">(N) Ne znam</div>
    </div>
  </div>

  <!-- ===== PLAN ===== -->
  <div class="card">
    <h2>Plan resavanja</h2>
    <ul class="plan-list">
      <li data-step="1.">Izracunati kljucne kolicnike: \(\frac{1+i}{1-i}\) i \(\frac{1-i}{1+i}\)</li>
      <li data-step="2.">Svesti svaki razlomak na stepen od \(i\) ili \(-i\)</li>
      <li data-step="3.">Iskoristiti ciklicnost stepena imaginarne jedinice (period 4)</li>
      <li data-step="4.">Racionalizovati preostale razlomke i izracunati rezultat</li>
    </ul>
  </div>

  <!-- ===== TEORIJA ===== -->
  <div class="card">
    <h2>Teorija</h2>
    <button class="theory-toggle" onclick="toggleTheory()">
      <span>Kompleksni brojevi &mdash; kljucni pojmovi</span>
      <span id="theory-arrow">&#9654;</span>
    </button>
    <div class="theory-content" id="theory-content">

      <div class="theory-box">
        <h3>Imaginarna jedinica</h3>
        <p>Imaginarna jedinica \(i\) je definisana kao \(i = \sqrt{-1}\), sto znaci da vazi \(i^2 = -1\).</p>
      </div>

      <div class="theory-box">
        <h3>Ciklicnost stepena od \(i\)</h3>
        <p>Stepeni imaginarne jedinice se ponavljaju sa periodom 4:</p>
        \[
          i^0 = 1,\quad i^1 = i,\quad i^2 = -1,\quad i^3 = -i,\quad i^4 = 1,\quad \ldots
        \]
        <p>Opste: \(i^n = i^{n \bmod 4}\). Dakle, dovoljno je naci ostatak pri deljenju eksponenta sa 4.</p>
      </div>

      <div class="theory-box">
        <h3>Konjugovani kompleksni broj</h3>
        <p>Za \(z = a + bi\), konjugovani broj je \(\bar{z} = a - bi\). Vazi:</p>
        \[ z \cdot \bar{z} = a^2 + b^2 \]
        <p>Posebno: \((1+i)(1-i) = 1^2 + 1^2 = 2\).</p>
      </div>

      <div class="theory-box">
        <h3>Kljucni kolicnici</h3>
        <p>Racionalizacijom (mnozenjem brojioca i imenioca konjugovanim imeniocem):</p>
        \[
          \frac{1+i}{1-i} = \frac{(1+i)^2}{(1-i)(1+i)} = \frac{1 + 2i - 1}{2} = \frac{2i}{2} = i
        \]
        \[
          \frac{1-i}{1+i} = \frac{(1-i)^2}{(1+i)(1-i)} = \frac{1 - 2i - 1}{2} = \frac{-2i}{2} = -i
        \]
      </div>
    </div>
  </div>

  <!-- ===== VIZUALIZACIJA ===== -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:12px;">
      Kompleksna ravan sa brojevima \(1+i\), \(1-i\) i ciklusom stepena od \(i\). Klikni na dugmad ispod za razlicite prikaze.
    </p>
    <canvas id="complexCanvas" width="700" height="520"></canvas>
    <div class="canvas-controls">
      <button class="canvas-btn active" id="btn-basic" onclick="setView('basic')">Osnovni prikaz</button>
      <button class="canvas-btn" id="btn-powers" onclick="setView('powers')">Stepeni od i</button>
      <button class="canvas-btn" id="btn-rotation" onclick="setView('rotation')">Rotacija</button>
    </div>
  </div>

  <!-- ===== KORAK PO KORAK ===== -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- KORAK 1 -->
    <div class="step-card">
      <h3><span class="step-number">1</span> Kljucni kolicnici</h3>
      <p>Pre svega, izracunavamo dva kljucna kolicnika racionalizacijom:</p>
      \[
        \frac{1+i}{1-i} = \frac{(1+i)(1+i)}{(1-i)(1+i)} = \frac{(1+i)^2}{2} = \frac{1 + 2i + i^2}{2} = \frac{1 + 2i - 1}{2} = \frac{2i}{2} = i
      \]
      \[
        \frac{1-i}{1+i} = \frac{(1-i)(1-i)}{(1+i)(1-i)} = \frac{(1-i)^2}{2} = \frac{1 - 2i + i^2}{2} = \frac{1 - 2i - 1}{2} = \frac{-2i}{2} = -i
      \]
      <p>Takodje, koristicemo cinjenicu da je \((1+i)(1-i) = 2\).</p>
    </div>

    <!-- Proveri se 1 -->
    <div class="checkpoint" onclick="toggleCheckpoint(this)">
      <strong style="color:#f472b6;">Proveri se:</strong> Koliko je \(\left(\frac{1+i}{1-i}\right)^4\)?
      <div class="checkpoint-answer">
        Posto je \(\frac{1+i}{1-i} = i\), sledi \(\left(\frac{1+i}{1-i}\right)^4 = i^4 = 1\). Ciklus se ponavlja svakih 4 koraka!
      </div>
    </div>

    <!-- KORAK 2 -->
    <div class="step-card highlight">
      <h3><span class="step-number">2</span> Obrada prvog razlomka</h3>
      <p>Razlomak \(\dfrac{(1+i)^{2010}}{(1-i)^{2011}}\) prepisujemo razdvajanjem imeniocarovog eksponenta:</p>
      \[
        \frac{(1+i)^{2010}}{(1-i)^{2011}} = \frac{(1+i)^{2010}}{(1-i)^{2010} \cdot (1-i)} = \left(\frac{1+i}{1-i}\right)^{2010} \cdot \frac{1}{1-i}
      \]
      <p>Zamenom \(\frac{1+i}{1-i} = i\):</p>
      \[
        = i^{2010} \cdot \frac{1}{1-i}
      \]
      <p>Odredjujemo \(i^{2010}\). Delimo eksponent sa 4:</p>
      \[
        2010 = 4 \cdot 502 + 2 \quad\Rightarrow\quad i^{2010} = i^2 = -1
      \]
      <p>Dakle:</p>
      \[
        \frac{(1+i)^{2010}}{(1-i)^{2011}} = \frac{-1}{1-i}
      \]
    </div>

    <!-- KORAK 3 -->
    <div class="step-card highlight">
      <h3><span class="step-number">3</span> Obrada drugog razlomka</h3>
      <p>Analogno, za \(\dfrac{(1-i)^{2012}}{(1+i)^{2013}}\):</p>
      \[
        \frac{(1-i)^{2012}}{(1+i)^{2013}} = \frac{(1-i)^{2012}}{(1+i)^{2012} \cdot (1+i)} = \left(\frac{1-i}{1+i}\right)^{2012} \cdot \frac{1}{1+i}
      \]
      <p>Zamenom \(\frac{1-i}{1+i} = -i\):</p>
      \[
        = (-i)^{2012} \cdot \frac{1}{1+i}
      \]
      <p>Odredjujemo \((-i)^{2012}\):</p>
      \[
        (-i)^{2012} = (-1)^{2012} \cdot i^{2012} = 1 \cdot i^{2012}
      \]
      \[
        2012 = 4 \cdot 503 + 0 \quad\Rightarrow\quad i^{2012} = i^0 = 1
      \]
      <p>Dakle:</p>
      \[
        \frac{(1-i)^{2012}}{(1+i)^{2013}} = \frac{1}{1+i}
      \]
    </div>

    <!-- Proveri se 2 -->
    <div class="checkpoint" onclick="toggleCheckpoint(this)">
      <strong style="color:#f472b6;">Proveri se:</strong> Koliko je \((-i)^{100}\)?
      <div class="checkpoint-answer">
        \((-i)^{100} = (-1)^{100} \cdot i^{100} = 1 \cdot i^{100}\). Posto je \(100 = 4 \cdot 25\), sledi \(i^{100} = 1\). Dakle, \((-i)^{100} = 1\).
      </div>
    </div>

    <!-- KORAK 4 -->
    <div class="step-card">
      <h3><span class="step-number">4</span> Racionalizacija oba razlomka</h3>
      <p>Sada racionalizujemo svaki razlomak:</p>
      <h3 style="color:#60a5fa;">Prvi razlomak:</h3>
      \[
        \frac{-1}{1-i} = \frac{-1}{1-i} \cdot \frac{1+i}{1+i} = \frac{-(1+i)}{(1-i)(1+i)} = \frac{-(1+i)}{2}
      \]
      <h3 style="color:#60a5fa;">Drugi razlomak:</h3>
      \[
        \frac{1}{1+i} = \frac{1}{1+i} \cdot \frac{1-i}{1-i} = \frac{1-i}{(1+i)(1-i)} = \frac{1-i}{2}
      \]
    </div>

    <!-- KORAK 5 -->
    <div class="step-card final-step">
      <h3><span class="step-number">5</span> Konacno izracunavanje</h3>
      <p>Uvrstavamo u polazni izraz (razlika dva razlomka):</p>
      \[
        \frac{-(1+i)}{2} - \frac{1-i}{2} = \frac{-(1+i) - (1-i)}{2}
      \]
      <p>Raspisujemo brojilac:</p>
      \[
        = \frac{-1 - i - 1 + i}{2} = \frac{-2}{2} = -1
      \]
      <p>Primetimo da se clanovi sa \(i\) ponistavaju (\(-i + i = 0\)), a ostaje \(-1 - 1 = -2\) u brojiocu.</p>
    </div>
  </div>

  <!-- ===== TABELA STEPENA ===== -->
  <div class="card">
    <h2>Tabela stepena od \(i\)</h2>
    <p style="color:#94a3b8; margin-bottom:12px;">Ova tabela pokazuje ciklicnost stepena imaginarne jedinice, sto je kljuc za resavanje ovog zadatka.</p>
    <div class="table-wrap">
      <table class="power-table">
        <thead>
          <tr><th>Eksponent \(n\)</th><th>\(n \bmod 4\)</th><th>\(i^n\)</th></tr>
        </thead>
        <tbody>
          <tr><td>0, 4, 8, ...</td><td>0</td><td>\(1\)</td></tr>
          <tr><td>1, 5, 9, ...</td><td>1</td><td>\(i\)</td></tr>
          <tr><td>2, 6, 10, ...</td><td>2</td><td>\(-1\)</td></tr>
          <tr><td>3, 7, 11, ...</td><td>3</td><td>\(-i\)</td></tr>
          <tr style="background: rgba(96,165,250,0.1);"><td><strong>2010</strong></td><td><strong>2</strong></td><td><strong>\(-1\)</strong></td></tr>
          <tr style="background: rgba(167,139,250,0.1);"><td><strong>2012</strong></td><td><strong>0</strong></td><td><strong>\(1\)</strong></td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ===== KLJUCNI UVID ===== -->
  <div class="card">
    <h2>Kljucni uvid</h2>
    <div class="insight-box">
      <p>Ceo zadatak se svodi na dve bitne ideje:</p>
      <ol style="margin: 10px 0 0 20px;">
        <li style="margin-bottom: 8px;"><strong>Kolicnik konjugovanih kompleksnih brojeva:</strong> \(\frac{1+i}{1-i} = i\) i \(\frac{1-i}{1+i} = -i\). Ovo omogucava da se ogromni stepeni prevedu u stepene od \(i\).</li>
        <li style="margin-bottom: 8px;"><strong>Ciklicnost stepena od \(i\):</strong> Period je 4, pa za bilo koji eksponent dovoljno je izracunati ostatak pri deljenju sa 4.</li>
        <li><strong>Ponistavanja:</strong> Na kraju se imaginarne komponente medjusobno poniste, a realne se sabiraju u \(-1\).</li>
      </ol>
    </div>
  </div>

  <!-- ===== KONACAN ODGOVOR ===== -->
  <div class="card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer">
      <p style="color:#94a3b8; font-size: 1.05rem;">Vrednost izraza iznosi:</p>
      <div class="answer-value">\(-1\)</div>
      <div class="final-options">
        <div class="final-option">(A) \(i\)</div>
        <div class="final-option">(B) \(1\)</div>
        <div class="final-option correct">(C) \(-1\)</div>
        <div class="final-option">(D) \(-i\)</div>
        <div class="final-option">(E) \(0\)</div>
        <div class="final-option">(N) Ne znam</div>
      </div>
    </div>
  </div>

  <!-- ===== CESTE GRESKE ===== -->
  <div class="card">
    <h2>Ceste greske</h2>
    <div class="pitfall-item">
      <strong>Pogresan znak pri racionalizaciji.</strong> Mnogi zaborave da je \(i^2 = -1\) pa pogresno izracunaju \((1+i)^2 = 1 + 2i + 1 = 2 + 2i\) umesto ispravnog \(1 + 2i - 1 = 2i\).
    </div>
    <div class="pitfall-item">
      <strong>Greska u odredjivanju ostatka.</strong> Eksponenti su veliki (2010, 2012), pa se lako pogresi u deljenju sa 4. Uvek proverite: \(2010 \div 4 = 502\) ostatak \(2\); \(2012 \div 4 = 503\) ostatak \(0\).
    </div>
    <div class="pitfall-item">
      <strong>Zaboravljen faktor \((-1)^n\).</strong> Kod \((-i)^{2012}\), treba paziti na oba faktora: \((-1)^{2012}\) i \(i^{2012}\). Srecom, oba su jednaka \(1\), ali nije uvek tako.
    </div>
    <div class="pitfall-item">
      <strong>Znak u konacnoj razlici.</strong> Izraz je <em>razlika</em> dva razlomka. Cesta greska je zaboraviti minus ispred drugog razlomka.
    </div>
  </div>

  <!-- ===== DODATNI IZAZOV ===== -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <div class="challenge-box">
      <p>Pokusaj da resis slican zadatak:</p>
      <p style="margin-top:10px;">Izracunaj vrednost izraza:</p>
      \[
        \frac{(1+i)^{100}}{(1-i)^{98}} + \frac{(1-i)^{100}}{(1+i)^{98}}
      \]
      <p style="color:#94a3b8; margin-top:10px;"><em>Savet: koristi iste tehnike &mdash; kolicnik konjugovanih i ciklicnost stepena od \(i\).</em></p>
    </div>
  </div>

</div>

<script>
(function() {
  // === Theory toggle ===
  window.toggleTheory = function() {
    var content = document.getElementById('theory-content');
    var arrow = document.getElementById('theory-arrow');
    content.classList.toggle('open');
    arrow.textContent = content.classList.contains('open') ? '\u25BC' : '\u25B6';
  };

  // === Checkpoint toggle ===
  window.toggleCheckpoint = function(el) {
    var ans = el.querySelector('.checkpoint-answer');
    if (ans) ans.classList.toggle('open');
  };

  // === Canvas ===
  var canvas = document.getElementById('complexCanvas');
  var ctx = canvas.getContext('2d');
  var currentView = 'basic';
  var dpr = window.devicePixelRatio || 1;
  var animFrame = null;
  var animAngle = 0;

  function resizeCanvas() {
    var rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    draw();
  }

  var W, H, cx, cy, unit;

  function setupCoords() {
    var rect = canvas.getBoundingClientRect();
    W = rect.width;
    H = rect.height;
    cx = W / 2;
    cy = H / 2;
    unit = Math.min(W, H) / 5.5;
  }

  function drawGrid() {
    setupCoords();
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var i = -4; i <= 4; i++) {
      // vertical
      ctx.beginPath();
      ctx.moveTo(cx + i * unit, 0);
      ctx.lineTo(cx + i * unit, H);
      ctx.stroke();
      // horizontal
      ctx.beginPath();
      ctx.moveTo(0, cy + i * unit);
      ctx.lineTo(W, cy + i * unit);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(0, cy);
    ctx.lineTo(W, cy);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(cx, 0);
    ctx.lineTo(cx, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Re', W - 30, cy - 10);
    ctx.textAlign = 'center';
    ctx.fillText('Im', cx + 16, 20);

    // Tick marks and numbers
    ctx.fillStyle = '#64748b';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    for (var j = -3; j <= 3; j++) {
      if (j === 0) continue;
      // x-axis ticks
      ctx.textAlign = 'center';
      ctx.fillText(j.toString(), cx + j * unit, cy + 20);
      // y-axis ticks
      ctx.textAlign = 'right';
      ctx.fillText(j + 'i', cx - 8, cy - j * unit + 5);
    }
    ctx.textAlign = 'center';
    ctx.fillText('0', cx - 10, cy + 20);
  }

  function drawPoint(re, im, color, label, labelOffset) {
    var x = cx + re * unit;
    var y = cy - im * unit;
    var oX = (labelOffset && labelOffset[0]) || 10;
    var oY = (labelOffset && labelOffset[1]) || -10;

    // Glow
    ctx.shadowColor = color;
    ctx.shadowBlur = 12;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.shadowBlur = 0;

    // Outline
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Label
    if (label) {
      ctx.fillStyle = color;
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(label, x + oX, y + oY);
    }
  }

  function drawArrow(x1, y1, x2, y2, color, width) {
    ctx.strokeStyle = color;
    ctx.lineWidth = width || 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    // Arrowhead
    var angle = Math.atan2(y2 - y1, x2 - x1);
    var hs = 10;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - hs * Math.cos(angle - 0.4), y2 - hs * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - hs * Math.cos(angle + 0.4), y2 - hs * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fill();
  }

  function drawBasic() {
    drawGrid();

    // Unit circle
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.2)';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.arc(cx, cy, unit, 0, 2 * Math.PI);
    ctx.stroke();

    // sqrt(2) circle
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.25)';
    ctx.beginPath();
    ctx.arc(cx, cy, Math.SQRT2 * unit, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for sqrt(2) circle
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('|z| = \u221A2', cx + Math.SQRT2 * unit + 5, cy - 5);

    // Vectors from origin
    ctx.setLineDash([]);
    drawArrow(cx, cy, cx + 1 * unit, cy - 1 * unit, 'rgba(96, 165, 250, 0.6)', 2);
    drawArrow(cx, cy, cx + 1 * unit, cy + 1 * unit, 'rgba(244, 114, 182, 0.6)', 2);

    // Points
    drawPoint(1, 1, '#60a5fa', '1 + i', [10, -12]);
    drawPoint(1, -1, '#f472b6', '1 - i', [10, 20]);
    drawPoint(-1, 0, '#34d399', '-1 (odgovor)', [-90, -12]);
    drawPoint(0, 1, '#a78bfa', 'i', [-25, -10]);
    drawPoint(0, -1, '#fb923c', '-i', [-30, 18]);
    drawPoint(1, 0, '#e2e8f0', '1', [10, 18]);

    // Annotation
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('1+i i 1-i su konjugovani; leze simetricno u odnosu na Re osu', cx, H - 20);
  }

  function drawPowers() {
    drawGrid();

    // Unit circle
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(cx, cy, unit, 0, 2 * Math.PI);
    ctx.stroke();

    var powers = [
      { re: 1, im: 0, label: 'i\u2070 = 1', color: '#4ade80' },
      { re: 0, im: 1, label: 'i\u00B9 = i', color: '#60a5fa' },
      { re: -1, im: 0, label: 'i\u00B2 = -1', color: '#f472b6' },
      { re: 0, im: -1, label: 'i\u00B3 = -i', color: '#fb923c' }
    ];

    // Connecting arrows
    for (var k = 0; k < 4; k++) {
      var next = (k + 1) % 4;
      var a1 = k * Math.PI / 2;
      var a2 = next * Math.PI / 2;
      var r = unit;

      ctx.strokeStyle = 'rgba(167, 139, 250, 0.4)';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(cx, cy, r * 0.85, -a1, -a2, true);
      ctx.stroke();

      // Small arrowhead on arc
      var midA = -(a1 + a2) / 2;
      var ax = cx + r * 0.85 * Math.cos(midA);
      var ay = cy + r * 0.85 * Math.sin(midA);
      ctx.fillStyle = '#a78bfa';
      ctx.beginPath();
      ctx.arc(ax, ay, 4, 0, 2 * Math.PI);
      ctx.fill();
    }

    // Rotation label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u00D7i = rotacija za 90\u00B0', cx, cy - unit - 25);

    // Points
    var offsets = [[12, 16], [-35, -12], [-90, 16], [12, 22]];
    for (var p = 0; p < powers.length; p++) {
      drawPoint(powers[p].re, powers[p].im, powers[p].color, powers[p].label, offsets[p]);
    }

    // Highlight i^2010 = i^2 = -1
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.arc(cx - unit, cy, 16, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('i\u00B2\u2070\u00B9\u2070 = i\u00B2 = -1', cx - unit, cy + 32);

    // Annotation
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Mnozenje sa i = rotacija za 90\u00B0 u smeru suprotnom od kazaljke', cx, H - 20);
  }

  function drawRotation() {
    drawGrid();

    // sqrt(2) circle
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(cx, cy, Math.SQRT2 * unit, 0, 2 * Math.PI);
    ctx.stroke();

    // Show how multiplying (1+i)/(1-i) = i rotates by 90 degrees
    // Starting point: 1-i (angle -45 degrees)
    var r = Math.SQRT2 * unit;

    // 1 - i is at angle -pi/4
    // (1+i)/(1-i) = i means: multiply 1-i by i to get... let's show the rotation concept

    // Demonstrate: z * i rotates z by 90 degrees
    var angles = [-Math.PI / 4, Math.PI / 4, 3 * Math.PI / 4, -3 * Math.PI / 4];
    var labels = ['1 - i', '1 + i', '-1 + i', '-1 - i'];
    var colors = ['#f472b6', '#60a5fa', '#4ade80', '#fb923c'];

    // Draw rotation arcs
    for (var a = 0; a < 4; a++) {
      var nextA = (a + 1) % 4;
      ctx.strokeStyle = colors[a] + '60';
      ctx.lineWidth = 2;
      ctx.setLineDash([4, 3]);
      ctx.beginPath();
      ctx.arc(cx, cy, r * 0.7, -angles[a], -angles[nextA], angles[nextA] > angles[a]);
      ctx.stroke();
    }
    ctx.setLineDash([]);

    // Draw vectors and points
    for (var b = 0; b < 4; b++) {
      var px = Math.cos(angles[b]);
      var py = Math.sin(angles[b]);
      drawArrow(cx, cy, cx + px * r, cy - py * r, colors[b] + '80', 2);
      drawPoint(px * Math.SQRT2, py * Math.SQRT2, colors[b], labels[b],
        b === 0 ? [10, 18] : b === 1 ? [10, -12] : b === 2 ? [-80, -12] : [-80, 18]);
    }

    // Central label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u00D7i', cx, cy - 15);
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('90\u00B0', cx, cy + 5);

    // Animated rotation indicator
    animAngle += 0.02;
    var indicatorR = r * 0.45;
    var ix = cx + indicatorR * Math.cos(-animAngle);
    var iy = cy + indicatorR * Math.sin(-animAngle);
    ctx.fillStyle = '#a78bfa';
    ctx.globalAlpha = 0.6;
    ctx.beginPath();
    ctx.arc(ix, iy, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.globalAlpha = 1.0;

    // Annotation
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(1+i)/(1-i) = i: deljenje konjugovanim = rotacija za 90\u00B0', cx, H - 20);

    animFrame = requestAnimationFrame(function() { drawRotation(); });
  }

  function draw() {
    if (animFrame) { cancelAnimationFrame(animFrame); animFrame = null; }
    if (currentView === 'basic') drawBasic();
    else if (currentView === 'powers') drawPowers();
    else if (currentView === 'rotation') drawRotation();
  }

  window.setView = function(view) {
    currentView = view;
    document.querySelectorAll('.canvas-btn').forEach(function(btn) { btn.classList.remove('active'); });
    document.getElementById('btn-' + view).classList.add('active');
    draw();
  };

  // Initial draw
  window.addEventListener('load', function() {
    resizeCanvas();
  });

  window.addEventListener('resize', function() {
    resizeCanvas();
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Stepenovanje kompleksnih brojeva (1+i) i (1-i)","subject":"math","unit":"algebra","topic_tags":["kompleksni brojevi","imaginarna jedinica","stepenovanje","ciklicnost stepena","racionalizacija"]}
BRAINSPARK_META-->