<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ugao između dve prave koje se seku u centru kruga</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Lines -ax + y - 3 = 0 and x - by + 2 = 0 intersect at the center of the circle
x^2 + y^2 - 2x + 4y - 10 = 0. Find the angle between the two lines.

Step 1: Find the center of the circle.
  x^2 + y^2 - 2x + 4y - 10 = 0
  (x^2 - 2x + 1) + (y^2 + 4y + 4) = 10 + 1 + 4
  (x - 1)^2 + (y + 2)^2 = 15
  Center: C(1, -2), radius: sqrt(15)

Step 2: Find parameter a from Line 1.
  Line 1: -ax + y - 3 = 0
  Substitute (1, -2): -a(1) + (-2) - 3 = 0
  -a - 5 = 0
  a = -5
  So Line 1: -(-5)x + y - 3 = 0 → 5x + y - 3 = 0
  Slope of Line 1: from 5x + y - 3 = 0 → y = -5x + 3, slope m1 = -5

Step 3: Find parameter b from Line 2.
  Line 2: x - by + 2 = 0
  Substitute (1, -2): 1 - b(-2) + 2 = 0
  1 + 2b + 2 = 0
  3 + 2b = 0
  b = -3/2
  So Line 2: x - (-3/2)y + 2 = 0 → x + (3/2)y + 2 = 0
  Multiply by 2: 2x + 3y + 4 = 0
  Slope of Line 2: from 2x + 3y + 4 = 0 → y = (-2/3)x - 4/3, slope m2 = -2/3

Step 4: Find the angle between the two lines.
  Formula: tan(θ) = |( m1 - m2 ) / ( 1 + m1 * m2 )|
  tan(θ) = |( -5 - (-2/3) ) / ( 1 + (-5)(-2/3) )|
         = |( -5 + 2/3 ) / ( 1 + 10/3 )|
         = |( -15/3 + 2/3 ) / ( 3/3 + 10/3 )|
         = |( -13/3 ) / ( 13/3 )|
         = |-1|
         = 1

  θ = arctan(1) = 45°

Step 5: Verify - answer matches option (D) 45°. ✓

Verification:
- Both lines pass through (1, -2):
  Line 1: 5(1) + (-2) - 3 = 5 - 2 - 3 = 0 ✓
  Line 2: 2(1) + 3(-2) + 4 = 2 - 6 + 4 = 0 ✓
- The slopes are -5 and -2/3
- tan(θ) = |(-5+2/3)/(1+10/3)| = |(-13/3)/(13/3)| = 1
- θ = 45° ✓

Note: It's a nice problem because the numerator and denominator of the tangent formula
are both 13/3 (one negative, one positive), giving exactly 1.
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.2s;
  cursor: pointer;
}

.step-container:hover {
  background: rgba(96,165,250,0.04);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(52,211,153,0.06);
  border-left-color: #4ade80;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 6px;
  font-style: italic;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Ugao između dve prave u centru kruga</h1>
  <p class="subtitle">Analitička geometrija: određivanje parametara pravih iz uslova preseka i izračunavanje ugla</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Prave</p>
    <div class="math-box">
      \[ -ax + y - 3 = 0 \quad \text{i} \quad x - by + 2 = 0 \]
    </div>
    <p>seku se u <span class="highlight">centru kruga</span></p>
    <div class="math-box">
      \[ x^2 + y^2 - 2x + 4y - 10 = 0 \]
    </div>
    <p>Ugao između ovih pravih je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(60°\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(30°\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(90°\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(45°\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(75°\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Najpre ćemo odrediti centar kruga dopunjavanjem do punog kvadrata. Zatim, pošto se obe prave seku u tom centru,
       zamenom koordinata centra u jednačine pravih odredićemo parametre \(a\) i \(b\). Na kraju, izračunaćemo nagibe
       obeju pravih i primeniti formulu za ugao između dve prave.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Opšta jednačina kruga:</strong> \(x^2 + y^2 + Dx + Ey + F = 0\) ima centar \(C\!\left(-\dfrac{D}{2}, -\dfrac{E}{2}\right)\) i poluprečnik \(r = \sqrt{\dfrac{D^2}{4} + \dfrac{E^2}{4} - F}\)</li>
          <li><strong>Dopunjavanje do punog kvadrata:</strong> \(x^2 + 2px = (x+p)^2 - p^2\)</li>
          <li><strong>Nagib prave:</strong> Iz jednačine \(Ax + By + C = 0\) sledi \(m = -\dfrac{A}{B}\) (za \(B \neq 0\))</li>
          <li><strong>Ugao između dve prave:</strong> \(\tan\theta = \left|\dfrac{m_1 - m_2}{1 + m_1 \cdot m_2}\right|\), gde su \(m_1\) i \(m_2\) nagibi pravih</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid / Interactive Diagram -->
  <div class="card">
    <h2>Interaktivni dijagram</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Krug, njegov centar i dve prave koje se seku pod uglom od 45°. Prevucite mišem za pomeranje pogleda.</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="560"></canvas>
    </div>
    <p class="drag-hint">Prevucite mišem ili prstom za pomeranje koordinatnog sistema</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo centar kruga</h3>
        <p>Jednačinu kruga \(x^2 + y^2 - 2x + 4y - 10 = 0\) dopunjavamo do punog kvadrata, grupisanjem po \(x\) i po \(y\):</p>
        <div class="math-box">
          \[
          \begin{aligned}
          x^2 - 2x + y^2 + 4y &= 10 \\[6pt]
          (x^2 - 2x + 1) + (y^2 + 4y + 4) &= 10 + 1 + 4 \\[6pt]
          (x - 1)^2 + (y + 2)^2 &= 15
          \end{aligned}
          \]
        </div>
        <p>Ovo je krug sa <span class="highlight">centrom \(C(1,\, -2)\)</span> i poluprečnikom \(r = \sqrt{15}\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Odredimo parametar \(a\) iz prve prave</h3>
        <p>Prva prava je \(-ax + y - 3 = 0\). Pošto prolazi kroz centar \(C(1,\, -2)\), zamenjujemo \(x = 1\) i \(y = -2\):</p>
        <div class="math-box">
          \[
          -a \cdot 1 + (-2) - 3 = 0
          \]
        </div>
        <div class="math-box">
          \[
          -a - 5 = 0 \implies a = -5
          \]
        </div>
        <p>Zamenom \(a = -5\) u jednačinu prave dobijamo:</p>
        <div class="math-box">
          \[
          -(-5)x + y - 3 = 0 \implies 5x + y - 3 = 0
          \]
        </div>
        <p>Nagib prve prave: \(m_1 = -\dfrac{5}{1} = -5\)</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Odredimo parametar \(b\) iz druge prave</h3>
        <p>Druga prava je \(x - by + 2 = 0\). Zamenjujemo centar \(C(1,\, -2)\):</p>
        <div class="math-box">
          \[
          1 - b \cdot (-2) + 2 = 0
          \]
        </div>
        <div class="math-box">
          \[
          1 + 2b + 2 = 0 \implies 3 + 2b = 0 \implies b = -\frac{3}{2}
          \]
        </div>
        <p>Zamenom \(b = -\frac{3}{2}\) u jednačinu prave dobijamo:</p>
        <div class="math-box">
          \[
          x - \left(-\frac{3}{2}\right)y + 2 = 0 \implies x + \frac{3}{2}y + 2 = 0
          \]
        </div>
        <p>Pomnožimo celom jednačinom sa 2 radi preglednosti:</p>
        <div class="math-box">
          \[
          2x + 3y + 4 = 0
          \]
        </div>
        <p>Nagib druge prave: \(m_2 = -\dfrac{2}{3}\)</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Da li obe prave zaista prolaze kroz \(C(1, -2)\)?</summary>
      <div class="details-content">
        <p>Proverimo zamenom centra u obe jednačine:</p>
        <div class="math-box">
          \[
          \begin{aligned}
          \text{Prava 1: } &5 \cdot 1 + (-2) - 3 = 5 - 2 - 3 = 0 \quad \checkmark \\[6pt]
          \text{Prava 2: } &2 \cdot 1 + 3 \cdot (-2) + 4 = 2 - 6 + 4 = 0 \quad \checkmark
          \end{aligned}
          \]
        </div>
        <p>Obe prave zaista prolaze kroz centar kruga.</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Izračunajmo ugao između pravih</h3>
        <p>Koristimo formulu za ugao između dve prave sa nagibima \(m_1\) i \(m_2\):</p>
        <div class="math-box">
          \[
          \tan\theta = \left|\frac{m_1 - m_2}{1 + m_1 \cdot m_2}\right|
          \]
        </div>
        <p>Zamenjujemo \(m_1 = -5\) i \(m_2 = -\dfrac{2}{3}\):</p>
        <div class="math-box">
          \[
          \tan\theta = \left|\frac{-5 - \left(-\dfrac{2}{3}\right)}{1 + (-5) \cdot \left(-\dfrac{2}{3}\right)}\right|
          \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Sredimo brojilac</h3>
        <p>Računamo razliku nagiba u brojiocu:</p>
        <div class="math-box">
          \[
          m_1 - m_2 = -5 - \left(-\frac{2}{3}\right) = -5 + \frac{2}{3} = -\frac{15}{3} + \frac{2}{3} = -\frac{13}{3}
          \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Sredimo imenilac</h3>
        <p>Računamo izraz u imeniocu:</p>
        <div class="math-box">
          \[
          1 + m_1 \cdot m_2 = 1 + (-5) \cdot \left(-\frac{2}{3}\right) = 1 + \frac{10}{3} = \frac{3}{3} + \frac{10}{3} = \frac{13}{3}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Koliko je \(\tan\theta\) kada je brojilac \(-\frac{13}{3}\) a imenilac \(\frac{13}{3}\)?</summary>
      <div class="details-content">
        <div class="math-box">
          \[
          \tan\theta = \left|\frac{-\frac{13}{3}}{\frac{13}{3}}\right| = \left|-1\right| = 1
          \]
        </div>
        <p>Razlomci \(\frac{13}{3}\) se pokrate, pa ostaje apsolutna vrednost od \(-1\), što je \(1\).</p>
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step-container">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Izračunamo tangens ugla</h3>
        <p>Uvrštavamo u formulu:</p>
        <div class="math-box">
          \[
          \tan\theta = \left|\frac{-\dfrac{13}{3}}{\dfrac{13}{3}}\right| = \left| -1 \right| = 1
          \]
        </div>
        <p>Lepo zapažanje: brojilac i imenilac imaju istu apsolutnu vrednost \(\dfrac{13}{3}\), pa se pri deljenju pokrate!</p>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step-container">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Odredimo ugao</h3>
        <p>Pošto je \(\tan\theta = 1\), tražimo ugao za koji je tangens jednak 1:</p>
        <div class="math-box">
          \[
          \theta = \arctan(1) = 45°
          \]
        </div>
        <p>Ovo je poznata vrednost iz tablice trigonometrijskih funkcija: \(\tan 45° = 1\).</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Može li ugao biti \(90°\)?</summary>
      <div class="details-content">
        <p>Dve prave su međusobno normalne (grade ugao od \(90°\)) ako i samo ako važi:</p>
        <div class="math-box">
          \[ m_1 \cdot m_2 = -1 \]
        </div>
        <p>U našem slučaju:</p>
        <div class="math-box">
          \[ m_1 \cdot m_2 = (-5) \cdot \left(-\frac{2}{3}\right) = \frac{10}{3} \neq -1 \]
        </div>
        <p>Dakle, prave <strong>nisu</strong> međusobno normalne, pa ugao nije \(90°\). Tačan odgovor je \(45°\).</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Elegancija ovog zadatka leži u tome što se oba razlomka u formuli za tangens ugla svedu na isti broj \(\dfrac{13}{3}\) (sa različitim znacima).
       Kada se podele, dobija se tačno \(1\), što daje ugao od \(45°\). Ovakva „savršena" podudarnost je siguran znak
       da ste na pravom putu!</p>
    <div class="math-box" style="text-align: center;">
      \[
      \tan\theta = \left|\frac{-\frac{13}{3}}{\phantom{-}\frac{13}{3}}\right| = 1 \implies \theta = 45°
      \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) \(60°\)</div>
      <div class="option-chip">(B) \(30°\)</div>
      <div class="option-chip">(C) \(90°\)</div>
      <div class="option-chip correct">(D) \(45°\)</div>
      <div class="option-chip">(E) \(75°\)</div>
    </div>
    <div class="answer-value">\(\theta = 45°\)</div>
    <div class="provera-note">
      <strong>Provera:</strong> Centar kruga je \(C(1,\, -2)\). Obe prave prolaze kroz njega (zamena potvrđuje da su jednačine zadovoljene).
      Nagibi su \(m_1 = -5\) i \(m_2 = -\frac{2}{3}\). Formula za tangens ugla daje \(\tan\theta = 1\), dakle \(\theta = 45°\).
      Rezultat je razuman — obe prave su opadajuće (negativni nagibi), ali sa veoma različitim strminama, pa ugao od \(45°\) deluje prirodno.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Česte greške</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Pogrešan znak pri određivanju \(a\) i \(b\):</strong> Obratite pažnju na znake
        u jednačinama pravih. U prvoj pravi stoji \(-ax\), pa zamena \(x = 1\) daje \(-a\), ne \(a\).
        Slično, u drugoj pravi stoji \(-by\), pa zamena \(y = -2\) daje \(-b \cdot (-2) = 2b\), ne \(-2b\).
        Pogrešan predznak dovodi do potpuno drugačijih nagiba.</li>
      <li style="margin-bottom: 10px;"><strong>Zaboravljanje apsolutne vrednosti u formuli za ugao:</strong>
        Formula \(\tan\theta = \left|\frac{m_1 - m_2}{1 + m_1 m_2}\right|\) zahteva apsolutnu vrednost.
        Bez nje biste dobili \(\tan\theta = -1\), što bi moglo navesti na pogrešan zaključak.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Za iste prave \(5x + y - 3 = 0\) i \(2x + 3y + 4 = 0\), odredite površinu trougla koji one grade sa \(x\)-osom.</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="details-content">
        <p>Prvo nađite gde svaka prava seče \(x\)-osu (stavite \(y = 0\) u svaku jednačinu).
           Zatim nađite presek dve prave (koji je \(C(1, -2)\) — ali pažnja, ta tačka je ispod \(x\)-ose!).
           Na kraju primenite formulu za površinu trougla sa datim temenima:</p>
        <div class="math-box">
          \[ P = \frac{1}{2} |x_1(y_2 - y_3) + x_2(y_3 - y_1) + x_3(y_1 - y_2)| \]
        </div>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  // Pan state
  let panX = 0, panY = 0;
  let isDragging = false;
  let dragStartX = 0, dragStartY = 0;
  let panStartX = 0, panStartY = 0;

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 560 * dpr;
    canvas.style.height = '560px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 560;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Coordinate transformation: math -> canvas
    // Center the view on approximately (1, -2) which is the circle center
    const scale = Math.min(W, H) / 16;
    const originX = W / 2 - 1 * scale + panX;
    const originY = H / 2 + 2 * scale + panY; // +2 because center is at y=-2

    function toCanvas(x, y) {
      return { x: originX + x * scale, y: originY - y * scale };
    }

    function fromCanvas(cx, cy) {
      return { x: (cx - originX) / scale, y: (originY - cy) / scale };
    }

    // Visible range in math coordinates
    const topLeft = fromCanvas(0, 0);
    const bottomRight = fromCanvas(W, H);
    const xMin = topLeft.x;
    const xMax = bottomRight.x;
    const yMin = bottomRight.y;
    const yMax = topLeft.y;

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    const gridStep = 1;
    const gridXStart = Math.floor(xMin);
    const gridXEnd = Math.ceil(xMax);
    const gridYStart = Math.floor(yMin);
    const gridYEnd = Math.ceil(yMax);

    for (let gx = gridXStart; gx <= gridXEnd; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let gy = gridYStart; gy <= gridYEnd; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    const axisOrigin = toCanvas(0, 0);

    // X-axis
    ctx.beginPath();
    ctx.moveTo(0, axisOrigin.y);
    ctx.lineTo(W, axisOrigin.y);
    ctx.stroke();

    // Y-axis
    ctx.beginPath();
    ctx.moveTo(axisOrigin.x, 0);
    ctx.lineTo(axisOrigin.x, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = gridXStart; gx <= gridXEnd; gx++) {
      if (gx === 0) continue;
      const p = toCanvas(gx, 0);
      if (p.x > 15 && p.x < W - 15) {
        ctx.fillText(String(gx), p.x, axisOrigin.y + 18);
      }
    }
    ctx.textAlign = 'right';
    for (let gy = gridYStart; gy <= gridYEnd; gy++) {
      if (gy === 0) continue;
      const p = toCanvas(0, gy);
      if (p.y > 15 && p.y < H - 15) {
        ctx.fillText(String(gy), axisOrigin.x - 8, p.y + 4);
      }
    }

    // Axis arrow labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', W - 18, axisOrigin.y - 8);
    ctx.textAlign = 'center';
    ctx.fillText('y', axisOrigin.x + 14, 18);

    // Draw the circle: center (1, -2), radius sqrt(15) ≈ 3.873
    const cCenter = toCanvas(1, -2);
    const r = Math.sqrt(15) * scale;

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(cCenter.x, cCenter.y, r, 0, 2 * Math.PI);
    ctx.stroke();

    // Circle glow
    ctx.strokeStyle = 'rgba(96,165,250,0.15)';
    ctx.lineWidth = 8;
    ctx.beginPath();
    ctx.arc(cCenter.x, cCenter.y, r, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.lineWidth = 1;

    // Draw radius dashed line
    ctx.strokeStyle = 'rgba(96,165,250,0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    const rPoint = toCanvas(1 + Math.sqrt(15), -2);
    ctx.beginPath();
    ctx.moveTo(cCenter.x, cCenter.y);
    ctx.lineTo(rPoint.x, rPoint.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Radius label
    ctx.fillStyle = '#60a5fa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const rMid = toCanvas(1 + Math.sqrt(15) / 2, -2);
    ctx.fillText('r = \u221A15', rMid.x, rMid.y - 10);

    // Line 1: 5x + y - 3 = 0 => y = -5x + 3 (slope = -5)
    // Line 2: 2x + 3y + 4 = 0 => y = (-2x - 4)/3 (slope = -2/3)
    function drawLine(A, B, C, color, label) {
      // Ax + By + C = 0
      // Find two points at edges of visible area
      let x1, y1, x2, y2;
      if (Math.abs(B) > 0.001) {
        // y = -(Ax + C)/B
        x1 = xMin - 2;
        y1 = -(A * x1 + C) / B;
        x2 = xMax + 2;
        y2 = -(A * x2 + C) / B;
      } else {
        // x = -C/A (vertical)
        x1 = -C / A;
        y1 = yMin - 2;
        x2 = -C / A;
        y2 = yMax + 2;
      }
      const p1 = toCanvas(x1, y1);
      const p2 = toCanvas(x2, y2);

      ctx.strokeStyle = color;
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();

      // Label the line
      // Place label at a nice position
      const labelX = 1 + 2.5;
      const labelY = -(A * labelX + C) / B;
      const lp = toCanvas(labelX, labelY);
      ctx.fillStyle = color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      if (lp.x > 10 && lp.x < W - 60 && lp.y > 15 && lp.y < H - 15) {
        ctx.fillText(label, lp.x + 8, lp.y - 8);
      }
    }

    drawLine(5, 1, -3, '#f472b6', '5x + y - 3 = 0');
    drawLine(2, 3, 4, '#a78bfa', '2x + 3y + 4 = 0');

    // Draw angle arc at the intersection point (1, -2)
    // Angle between the two lines
    // Direction vectors: Line 1 has direction (1, -5), Line 2 has direction (1, -2/3)
    // We need angles from positive x-axis
    const angle1 = Math.atan2(-5, 1); // direction of line 1
    const angle2 = Math.atan2(-2 / 3, 1); // direction of line 2

    // We want to draw the angle between the two lines at the intersection
    // Use the acute angle between them
    let startAngle = angle2; // -2/3 slope => ~-33.69°
    let endAngle = angle1;   // -5 slope => ~-78.69°

    // Make sure we draw the smaller angle (45°)
    // angle2 ≈ -0.588 rad, angle1 ≈ -1.373 rad
    // So from angle1 to angle2 is the 45° arc (counterclockwise in math)
    // In canvas (y flipped), we need to adjust
    // Canvas angles: negate and swap
    const canvasAngle1 = -angle1; // ≈ 1.373
    const canvasAngle2 = -angle2; // ≈ 0.588

    // Draw the arc from the smaller canvas angle to the larger
    const arcRadius = 35;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cCenter.x, cCenter.y, arcRadius, canvasAngle2, canvasAngle1, false);
    ctx.stroke();

    // Label the angle
    const midAngle = (canvasAngle1 + canvasAngle2) / 2;
    const labelR = arcRadius + 18;
    const angleLabelX = cCenter.x + labelR * Math.cos(midAngle);
    const angleLabelY = cCenter.y + labelR * Math.sin(midAngle);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('45\u00B0', angleLabelX, angleLabelY + 5);

    // Center point
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(cCenter.x, cCenter.y, 6, 0, 2 * Math.PI);
    ctx.fill();

    // Center glow
    ctx.fillStyle = 'rgba(74,222,128,0.2)';
    ctx.beginPath();
    ctx.arc(cCenter.x, cCenter.y, 12, 0, 2 * Math.PI);
    ctx.fill();

    // Center label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('C(1, -2)', cCenter.x + 14, cCenter.y - 10);

    // Legend
    const legendX = 16;
    const legendY = H - 80;
    ctx.fillStyle = 'rgba(15,23,42,0.85)';
    ctx.fillRect(legendX - 4, legendY - 16, 230, 75);

    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    // Circle legend
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY);
    ctx.lineTo(legendX + 24, legendY);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('Krug: (x-1)\u00B2 + (y+2)\u00B2 = 15', legendX + 30, legendY + 4);

    // Line 1 legend
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY + 20);
    ctx.lineTo(legendX + 24, legendY + 20);
    ctx.stroke();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Prava 1: 5x + y - 3 = 0', legendX + 30, legendY + 24);

    // Line 2 legend
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY + 40);
    ctx.lineTo(legendX + 24, legendY + 40);
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('Prava 2: 2x + 3y + 4 = 0', legendX + 30, legendY + 44);
  }

  // Mouse/touch pan interaction
  function getPointer(e) {
    const rect = canvas.getBoundingClientRect();
    if (e.touches) {
      return { x: e.touches[0].clientX - rect.left, y: e.touches[0].clientY - rect.top };
    }
    return { x: e.clientX - rect.left, y: e.clientY - rect.top };
  }

  function onPointerDown(e) {
    isDragging = true;
    const p = getPointer(e);
    dragStartX = p.x;
    dragStartY = p.y;
    panStartX = panX;
    panStartY = panY;
    canvas.style.cursor = 'grabbing';
  }

  function onPointerMove(e) {
    if (!isDragging) return;
    e.preventDefault();
    const p = getPointer(e);
    panX = panStartX + (p.x - dragStartX);
    panY = panStartY + (p.y - dragStartY);
    draw();
  }

  function onPointerUp() {
    isDragging = false;
    canvas.style.cursor = 'grab';
  }

  canvas.addEventListener('mousedown', onPointerDown);
  canvas.addEventListener('mousemove', onPointerMove);
  canvas.addEventListener('mouseup', onPointerUp);
  canvas.addEventListener('mouseleave', onPointerUp);
  canvas.addEventListener('touchstart', onPointerDown, { passive: false });
  canvas.addEventListener('touchmove', onPointerMove, { passive: false });
  canvas.addEventListener('touchend', onPointerUp);
  canvas.style.cursor = 'grab';

  // Step click highlighting
  document.querySelectorAll('.step-container').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Ugao između dve prave u centru kruga",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["analitička geometrija", "ugao između pravih", "jednačina kruga", "centar kruga", "nagib prave", "dopunjavanje do punog kvadrata"]
}
BRAINSPARK_META-->