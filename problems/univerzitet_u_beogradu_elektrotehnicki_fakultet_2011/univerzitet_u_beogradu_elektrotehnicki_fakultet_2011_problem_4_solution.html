<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednačina sa apsolutnom vrednošću i korenom kvadrata</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Find total number of real solutions of:
  sqrt((x+1)^2) / (x+1) = |x+1|

Step 1: Simplify the left side.
  sqrt((x+1)^2) = |x+1| (by definition of square root of a square)

  So the left side becomes: |x+1| / (x+1)

  This is the sign function of (x+1):
    - If x+1 > 0 (i.e., x > -1): |x+1|/(x+1) = (x+1)/(x+1) = 1
    - If x+1 < 0 (i.e., x < -1): |x+1|/(x+1) = -(x+1)/(x+1) = -1
    - If x+1 = 0 (i.e., x = -1): UNDEFINED (division by zero)

Step 2: The right side is |x+1|, which is:
    - If x > -1: |x+1| = x+1
    - If x < -1: |x+1| = -(x+1) = -x-1
    - If x = -1: |x+1| = 0

Step 3: Solve by cases.

  Case 1: x > -1
    LHS = 1, RHS = x+1
    Equation: 1 = x+1
    Solution: x = 0
    Check: x = 0 > -1 ✓ (satisfies domain condition)
    Verify: LHS = sqrt((0+1)^2)/(0+1) = sqrt(1)/1 = 1
            RHS = |0+1| = 1
            1 = 1 ✓

  Case 2: x < -1
    LHS = -1, RHS = -(x+1) = -x-1
    Equation: -1 = -x-1
    Solution: -1 = -x - 1 => 0 = -x => x = 0
    But x = 0 does NOT satisfy x < -1. CONTRADICTION.
    No solution in this case.

  Case 3: x = -1
    LHS is undefined (division by zero in denominator x+1 = 0).
    x = -1 is NOT in the domain.
    No solution.

Total number of solutions: 1 (only x = 0)

Answer: (B) 1

Verification with expected answer: (B) 1. ✓
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  cursor: pointer;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.2s;
}

.step-container:hover {
  background: rgba(96,165,250,0.04);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(52,211,153,0.06);
  border-left-color: #4ade80;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.case-card {
  background: rgba(96,165,250,0.05);
  border: 1px solid rgba(96,165,250,0.12);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
}

.case-card.success {
  background: rgba(52,211,153,0.06);
  border-color: rgba(52,211,153,0.2);
}

.case-card.fail {
  background: rgba(244,114,182,0.05);
  border-color: rgba(244,114,182,0.15);
}

.case-title {
  font-weight: 700;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.case-title.success { color: #4ade80; }
.case-title.fail { color: #f472b6; }

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
  font-style: italic;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Jednačina sa apsolutnom vrednošću i korenom kvadrata</h1>
  <p class="subtitle">Analiza jednačine koja kombinuje koren kvadrata izraza, deljenje i apsolutnu vrednost -- koliko rešenja ima?</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ukupan broj realnih rešenja jednačine:</p>
    <div class="math-box">
      \[ \frac{\sqrt{(x+1)^2}}{x+1} = |x+1| \]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(3\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(4\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Pojednostavićemo levu stranu koristeći identitet \(\sqrt{a^2} = |a|\), zatim ćemo razmotriti tri slučaja za vrednost \(x+1\) (pozitivno, negativno, nula). Za svaki slučaj rešićemo dobijenu jednačinu i proveriti da li rešenje pripada odgovarajućem domenu.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Koren kvadrata izraza:</strong> \(\sqrt{a^2} = |a|\) za svako realno \(a\). Ovo je fundamentalni identitet -- kvadratni koren kvadrata daje apsolutnu vrednost, ne sam izraz.</li>
          <li><strong>Definicija apsolutne vrednosti:</strong>
            \[ |a| = \begin{cases} a, & \text{ako } a \geq 0 \\ -a, & \text{ako } a < 0 \end{cases} \]
          </li>
          <li><strong>Znak količnika:</strong> \(\dfrac{|a|}{a} = \text{sgn}(a) = \begin{cases} 1, & a > 0 \\ -1, & a < 0 \end{cases}\) (za \(a \neq 0\))</li>
          <li><strong>Domen:</strong> Izraz \(\dfrac{f(x)}{g(x)}\) nije definisan kad je \(g(x) = 0\). Moramo isključiti takve vrednosti iz skupa rešenja.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 10px;">Grafici leve i desne strane jednačine. Presečna tačka grafika predstavlja rešenje.</p>
    <div class="canvas-wrapper">
      <canvas id="graphCanvas" width="800" height="500"></canvas>
    </div>
    <p class="drag-hint">Prevucite mišem za pomeranje pogleda. Koristite dugmad ispod za kontrolu.</p>
    <div style="display: flex; gap: 10px; justify-content: center; margin-top: 12px; flex-wrap: wrap;">
      <button id="btnReset" style="background: rgba(96,165,250,0.15); color: #60a5fa; border: 1px solid rgba(96,165,250,0.3); border-radius: 8px; padding: 8px 16px; cursor: pointer; font-size: 0.9rem;">Resetuj pogled</button>
      <button id="btnZoomIn" style="background: rgba(96,165,250,0.15); color: #60a5fa; border: 1px solid rgba(96,165,250,0.3); border-radius: 8px; padding: 8px 16px; cursor: pointer; font-size: 0.9rem;">Uvećaj +</button>
      <button id="btnZoomOut" style="background: rgba(96,165,250,0.15); color: #60a5fa; border: 1px solid rgba(96,165,250,0.3); border-radius: 8px; padding: 8px 16px; cursor: pointer; font-size: 0.9rem;">Umanji -</button>
    </div>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo domen jednačine</h3>
        <p>Na levoj strani imamo razlomak sa imeniocem \(x + 1\). Razlomak nije definisan kada je imenilac jednak nuli:</p>
        <div class="math-box">
          \[ x + 1 = 0 \quad \Longrightarrow \quad x = -1 \]
        </div>
        <p>Dakle, <span class="highlight">\(x = -1\) nije u domenu</span> jednačine. Domen je \(\mathbb{R} \setminus \{-1\}\), odnosno svi realni brojevi osim \(-1\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Pojednostavimo levu stranu</h3>
        <p>Ključni identitet koji nam treba je:</p>
        <div class="math-box">
          \[ \sqrt{a^2} = |a| \quad \text{za svako realno } a \]
        </div>
        <p>Primenimo ga na naš izraz. Neka je \(a = x + 1\):</p>
        <div class="math-box">
          \[ \sqrt{(x+1)^2} = |x+1| \]
        </div>
        <p>Sada leva strana jednačine postaje:</p>
        <div class="math-box">
          \[ \frac{\sqrt{(x+1)^2}}{x+1} = \frac{|x+1|}{x+1} \]
        </div>
        <p>Ovaj količnik je zapravo <span class="highlight">funkcija znaka (signum)</span> od \(x+1\).</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Analizirajmo količnik \(\frac{|x+1|}{x+1}\)</h3>
        <p>Razlikujemo dva slučaja (podsetimo se, \(x \neq -1\)):</p>
        <div class="case-card">
          <div class="case-title" style="color: #60a5fa;">Slučaj 1: \(x + 1 > 0\), tj. \(x > -1\)</div>
          <p>Kad je \(x+1\) pozitivno, važi \(|x+1| = x+1\), pa:</p>
          <div class="math-box">
            \[ \frac{|x+1|}{x+1} = \frac{x+1}{x+1} = 1 \]
          </div>
        </div>
        <div class="case-card">
          <div class="case-title" style="color: #a78bfa;">Slučaj 2: \(x + 1 < 0\), tj. \(x < -1\)</div>
          <p>Kad je \(x+1\) negativno, važi \(|x+1| = -(x+1)\), pa:</p>
          <div class="math-box">
            \[ \frac{|x+1|}{x+1} = \frac{-(x+1)}{x+1} = -1 \]
          </div>
        </div>
        <p>Dakle, leva strana jednačine jednaka je \(+1\) ili \(-1\) -- ništa drugo.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Koliko iznosi \(\frac{|x+1|}{x+1}\) za \(x = 2\)? A za \(x = -5\)?</summary>
      <div class="details-content">
        <p>Za \(x = 2\): \(x + 1 = 3 > 0\), pa \(\frac{|3|}{3} = \frac{3}{3} = 1\). &#10003;</p>
        <p>Za \(x = -5\): \(x + 1 = -4 < 0\), pa \(\frac{|-4|}{-4} = \frac{4}{-4} = -1\). &#10003;</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Zapišimo jednačinu po slučajevima</h3>
        <p>Jednačina \(\frac{|x+1|}{x+1} = |x+1|\) postaje:</p>
        <div class="math-box">
          \[ \begin{cases} 1 = |x+1|, & \text{ako } x > -1 \\ -1 = |x+1|, & \text{ako } x < -1 \end{cases} \]
        </div>
        <p>Razrešimo svaki slučaj posebno.</p>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Slučaj 1: \(x > -1\) -- rešavamo \(1 = |x+1|\)</h3>
        <p>Pošto je \(x > -1\), važi \(x + 1 > 0\), pa \(|x+1| = x + 1\). Jednačina postaje:</p>
        <div class="math-box">
          \[ 1 = x + 1 \]
        </div>
        <p>Oduzimamo 1 sa obe strane:</p>
        <div class="math-box">
          \[ x = 0 \]
        </div>
        <div class="case-card success">
          <div class="case-title success">Provera pripadnosti domenu</div>
          <p>Da li \(x = 0\) zadovoljava uslov \(x > -1\)?</p>
          <p>\(0 > -1\) &#10003; -- <strong>DA, ovo je validno rešenje!</strong></p>
        </div>
        <p>Proverimo uvrštavanjem u polaznu jednačinu:</p>
        <div class="math-box">
          \[ \text{Leva strana: } \frac{\sqrt{(0+1)^2}}{0+1} = \frac{\sqrt{1}}{1} = \frac{1}{1} = 1 \]
        </div>
        <div class="math-box">
          \[ \text{Desna strana: } |0+1| = |1| = 1 \]
        </div>
        <p style="color: #4ade80; font-weight: 600;">Leva strana = Desna strana = 1. Potvrđeno!</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Da li jednačina \(|x+1| = 1\) ima još neko rešenje osim \(x = 0\)?</summary>
      <div class="details-content">
        <p>Generalno, \(|x+1| = 1\) daje \(x + 1 = 1\) ili \(x + 1 = -1\), tj. \(x = 0\) ili \(x = -2\).</p>
        <p>Ali mi rešavamo pod uslovom \(x > -1\), a \(x = -2\) ne zadovoljava taj uslov (\(-2 < -1\)).</p>
        <p>Dakle, u okviru slučaja 1, jedino rešenje je \(x = 0\).</p>
      </div>
    </details>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Slučaj 2: \(x < -1\) -- rešavamo \(-1 = |x+1|\)</h3>
        <p>Ovde treba da važi \(-1 = |x+1|\).</p>
        <p>Podsetimo se fundamentalnog svojstva apsolutne vrednosti:</p>
        <div class="math-box">
          \[ |a| \geq 0 \quad \text{za svako realno } a \]
        </div>
        <p>Apsolutna vrednost je <span class="highlight">uvek nenegativna</span> -- nikad ne može biti negativna.</p>
        <p>Desna strana jednačine je \(|x+1| \geq 0\), ali leva strana je \(-1 < 0\).</p>
        <div class="case-card fail">
          <div class="case-title fail">Nema rešenja u ovom slučaju</div>
          <p>Jednačina \(-1 = |x+1|\) nema rešenja jer apsolutna vrednost ne može biti negativna. Ovo je <strong>kontradikcija</strong>.</p>
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" data-step="7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Slučaj 3: \(x = -1\) -- provera domena</h3>
        <p>Za \(x = -1\) imamo \(x + 1 = 0\), pa je leva strana jednačine:</p>
        <div class="math-box">
          \[ \frac{\sqrt{(x+1)^2}}{x+1} = \frac{\sqrt{0}}{0} = \frac{0}{0} \]
        </div>
        <div class="case-card fail">
          <div class="case-title fail">Izraz nije definisan</div>
          <p>Deljenje nulom nije dozvoljeno. Tačka \(x = -1\) nije u domenu jednačine.</p>
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Koliko ukupno rešenja smo našli?</summary>
      <div class="details-content">
        <p>Pregled po slučajevima:</p>
        <ul style="list-style: disc; padding-left: 20px;">
          <li>Slučaj 1 (\(x > -1\)): jedno rešenje \(x = 0\) &#10003;</li>
          <li>Slučaj 2 (\(x < -1\)): nema rešenja &#10007;</li>
          <li>Slučaj 3 (\(x = -1\)): van domena &#10007;</li>
        </ul>
        <p style="color: #4ade80; font-weight: 600;">Ukupno: <strong>1</strong> rešenje.</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Suština ovog zadatka leži u prepoznavanju da je \(\sqrt{(x+1)^2} = |x+1|\), a ne \(x+1\)! Mnogi učenici greše upravo ovde. Kada to primenimo, leva strana \(\frac{|x+1|}{x+1}\) postaje funkcija znaka -- ona može biti samo \(+1\) ili \(-1\). Pošto apsolutna vrednost na desnoj strani ne može biti \(-1\), čitav problem na intervalu \(x < -1\) automatski otpada. Ostaje jedino rešenje:</p>
    <div style="text-align: center; margin-top: 14px;">
      <span style="font-size: 1.8rem; font-weight: 800; color: #4ade80;">\(x = 0\)</span>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip">(A) \(0\)</div>
      <div class="option-chip correct">(B) \(1\)</div>
      <div class="option-chip">(C) \(2\)</div>
      <div class="option-chip">(D) \(3\)</div>
      <div class="option-chip">(E) \(4\)</div>
    </div>
    <div class="answer-value">Ukupan broj rešenja: \(1\)</div>
    <p style="color: #94a3b8; font-size: 1.05rem;">Jedino rešenje je \(x = 0\).</p>
    <div class="provera-note">
      <strong>Provera ispravnosti:</strong> Uvrštavanje \(x = 0\): leva strana daje \(\frac{\sqrt{1}}{1} = 1\), desna strana daje \(|1| = 1\). Jednakost važi. Nijedan drugi broj ne zadovoljava jednačinu jer za \(x > -1\) jedino \(x = 0\) daje \(|x+1| = 1\), a za \(x < -1\) jednačina zahteva da apsolutna vrednost bude negativna, što je nemoguće.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Česte greške</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Pogrešno pojednostavljivanje korena:</strong> Najčešća greška je pisanje \(\sqrt{(x+1)^2} = x+1\) umesto \(\sqrt{(x+1)^2} = |x+1|\). Koren kvadrata uvek daje nenegativan rezultat! Na primer, \(\sqrt{(-3)^2} = \sqrt{9} = 3 = |-3|\), a ne \(-3\).</li>
      <li style="margin-bottom: 10px;"><strong>Zaboravljanje provere domena:</strong> Čak i ako se nađe kandidat za rešenje, obavezno proveriti da pripada domenu (ovde: \(x \neq -1\)) i da zadovoljava uslov pod kojim je izvedeno.</li>
      <li><strong>Ignorisanje slučaja \(x = -1\):</strong> Neki učenici zaborave da provere \(x = -1\) i pogrešno ga uračunaju kao rešenje (jer je \(|x+1| = 0\) na desnoj strani). Ali leva strana tada nije definisana -- deljenje nulom!</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Koliko realnih rešenja ima slična jednačina:</p>
    <div class="math-box">
      \[ \frac{\sqrt{(x+1)^2}}{x+1} = (x+1)^2 \]
    </div>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="details-content">
        <p>Leva strana je ista kao u originalnom zadatku: \(\frac{|x+1|}{x+1}\) jednako \(\pm 1\).</p>
        <p>Za \(x > -1\): rešavamo \(1 = (x+1)^2\), što daje \(x+1 = \pm 1\), tj. \(x = 0\) ili \(x = -2\). Ali samo \(x = 0\) zadovoljava \(x > -1\).</p>
        <p>Za \(x < -1\): rešavamo \(-1 = (x+1)^2\). Da li kvadrat može biti negativan?</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Graph canvas: plot LHS and RHS
  const canvas = document.getElementById('graphCanvas');
  const ctx = canvas.getContext('2d');

  let offsetX = 0;
  let offsetY = 0;
  let scale = 60;
  let dragging = false;
  let lastMouse = { x: 0, y: 0 };

  function getDefaultView() {
    return { offsetX: 0, offsetY: 0, scale: 60 };
  }

  function toCanvas(mathX, mathY, W, H) {
    const cx = W / 2 + offsetX + mathX * scale;
    const cy = H / 2 + offsetY - mathY * scale;
    return { x: cx, y: cy };
  }

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const W = rect.width;
    const H = 500;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const originX = W / 2 + offsetX;
    const originY = H / 2 + offsetY;

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    const gridStep = scale;
    const startGx = Math.floor((-originX) / gridStep) * gridStep;
    const endGx = Math.ceil((W - originX) / gridStep) * gridStep;
    const startGy = Math.floor((-originY) / gridStep) * gridStep;
    const endGy = Math.ceil((H - originY) / gridStep) * gridStep;

    for (let gx = startGx; gx <= endGx; gx += gridStep) {
      const px = originX + gx;
      ctx.beginPath();
      ctx.moveTo(px, 0);
      ctx.lineTo(px, H);
      ctx.stroke();
    }
    for (let gy = startGy; gy <= endGy; gy += gridStep) {
      const py = originY + gy;
      ctx.beginPath();
      ctx.moveTo(0, py);
      ctx.lineTo(W, py);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // X axis
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    // Y axis
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (let gx = startGx; gx <= endGx; gx += gridStep) {
      const val = Math.round(gx / scale);
      if (val === 0) continue;
      ctx.fillText(String(val), originX + gx, originY + 5);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let gy = startGy; gy <= endGy; gy += gridStep) {
      const val = Math.round(-gy / scale);
      if (val === 0) continue;
      ctx.fillText(String(val), originX - 8, originY + gy);
    }

    // Origin label
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'top';
    ctx.fillText('0', originX - 6, originY + 4);

    // Vertical asymptote at x = -1 (dashed)
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1;
    var asymp = toCanvas(-1, 0, W, H);
    ctx.beginPath();
    ctx.moveTo(asymp.x, 0);
    ctx.lineTo(asymp.x, H);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for asymptote
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('x = -1', asymp.x + 5, 12);

    // Plot RHS: y = |x+1| (the V-shape)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var first = true;
    var xMinMath = (-originX) / scale;
    var xMaxMath = (W - originX) / scale;
    for (var px = 0; px < W; px += 1) {
      var mx = (px - originX) / scale;
      var my = Math.abs(mx + 1);
      var cy = originY - my * scale;
      if (cy < -50 || cy > H + 50) { first = true; continue; }
      if (first) { ctx.moveTo(px, cy); first = false; }
      else { ctx.lineTo(px, cy); }
    }
    ctx.stroke();

    // Plot LHS: y = |x+1|/(x+1) which is 1 for x > -1, -1 for x < -1
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;

    // Left part: y = -1 for x < -1
    var leftEnd = toCanvas(-1, -1, W, H);
    var leftStart = toCanvas(xMinMath, -1, W, H);
    ctx.beginPath();
    ctx.moveTo(Math.max(0, leftStart.x), leftEnd.y);
    ctx.lineTo(leftEnd.x - 2, leftEnd.y);
    ctx.stroke();

    // Open circle at (-1, -1)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.fillStyle = '#0c1222';
    ctx.beginPath();
    ctx.arc(leftEnd.x, leftEnd.y, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.stroke();

    // Right part: y = 1 for x > -1
    var rightStart = toCanvas(-1, 1, W, H);
    var rightEnd = toCanvas(xMaxMath, 1, W, H);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(rightStart.x + 2, rightStart.y);
    ctx.lineTo(Math.min(W, rightEnd.x), rightEnd.y);
    ctx.stroke();

    // Open circle at (-1, 1)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.fillStyle = '#0c1222';
    ctx.beginPath();
    ctx.arc(rightStart.x, rightStart.y, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.stroke();

    // Intersection point at x=0: LHS=1, RHS=|0+1|=1
    var intPt = toCanvas(0, 1, W, H);
    ctx.fillStyle = '#4ade80';
    ctx.shadowColor = '#4ade80';
    ctx.shadowBlur = 12;
    ctx.beginPath();
    ctx.arc(intPt.x, intPt.y, 7, 0, Math.PI * 2);
    ctx.fill();
    ctx.shadowBlur = 0;

    // Label intersection
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('(0, 1) -- rešenje!', intPt.x + 12, intPt.y - 6);

    // Legend
    var legX = 16;
    var legY = H - 70;

    ctx.fillStyle = 'rgba(15,23,42,0.85)';
    ctx.fillRect(legX - 4, legY - 6, 260, 62);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(legX - 4, legY - 6, 260, 62);

    // LHS legend
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legX, legY + 10);
    ctx.lineTo(legX + 30, legY + 10);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillText('Leva strana: |x+1|/(x+1)', legX + 36, legY + 10);

    // RHS legend
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legX, legY + 34);
    ctx.lineTo(legX + 30, legY + 34);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Desna strana: |x+1|', legX + 36, legY + 34);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Grafici leve i desne strane jednačine', W / 2, 12);
  }

  function getPointerPos(e) {
    var rect = canvas.getBoundingClientRect();
    if (e.touches && e.touches.length > 0) {
      return { x: e.touches[0].clientX - rect.left, y: e.touches[0].clientY - rect.top };
    }
    return { x: e.clientX - rect.left, y: e.clientY - rect.top };
  }

  canvas.addEventListener('mousedown', function(e) {
    dragging = true;
    lastMouse = getPointerPos(e);
  });
  canvas.addEventListener('mousemove', function(e) {
    if (!dragging) return;
    var pos = getPointerPos(e);
    offsetX += pos.x - lastMouse.x;
    offsetY += pos.y - lastMouse.y;
    lastMouse = pos;
    draw();
  });
  canvas.addEventListener('mouseup', function() { dragging = false; });
  canvas.addEventListener('mouseleave', function() { dragging = false; });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    dragging = true;
    lastMouse = getPointerPos(e);
  });
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (!dragging) return;
    var pos = getPointerPos(e);
    offsetX += pos.x - lastMouse.x;
    offsetY += pos.y - lastMouse.y;
    lastMouse = pos;
    draw();
  });
  canvas.addEventListener('touchend', function() { dragging = false; });

  // Button controls
  document.getElementById('btnReset').addEventListener('click', function() {
    var def = getDefaultView();
    offsetX = def.offsetX;
    offsetY = def.offsetY;
    scale = def.scale;
    draw();
  });
  document.getElementById('btnZoomIn').addEventListener('click', function() {
    scale = Math.min(200, scale * 1.3);
    draw();
  });
  document.getElementById('btnZoomOut').addEventListener('click', function() {
    scale = Math.max(15, scale / 1.3);
    draw();
  });

  draw();
  window.addEventListener('resize', draw);

  // Step click highlighting
  document.querySelectorAll('.step-container').forEach(function(el) {
    el.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(function(s) {
        s.classList.remove('active');
      });
      el.classList.toggle('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Jednačina sa apsolutnom vrednošću i korenom kvadrata",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "koren kvadrata", "jednačine", "analiza slučajeva", "domen funkcije", "funkcija znaka"]
}
BRAINSPARK_META-->