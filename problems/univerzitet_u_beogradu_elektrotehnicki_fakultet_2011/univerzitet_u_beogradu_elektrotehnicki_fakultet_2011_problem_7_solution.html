<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir recipročnih odnosa korena kvadratne jednačine</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<script type="text/info" id="logic-scratchpad">
Problem:
  Dato je: 1/(x-1) + 1/(x-2) = 1
  x1 i x2 su koreni. Naći x1/x2 + x2/x1.

  Opcije: (A) 1/3  (B) 2/3  (C) 2  (D) 3  (E) 5
  Tačan odgovor iz PDF-a: (D) 3

Rešenje:
  Korak 1: Odrediti oblast definisanosti
    x ≠ 1 i x ≠ 2

  Korak 2: Transformisati u standardnu kvadratnu jednačinu
    Pomnožiti obe strane sa (x-1)(x-2):
    (x-2) + (x-1) = (x-1)(x-2)
    2x - 3 = x² - 3x + 2
    0 = x² - 3x + 2 - 2x + 3
    0 = x² - 5x + 5

  Korak 3: Primeniti Vijetove formule
    Za x² - 5x + 5 = 0:
    x1 + x2 = 5  (zbir korena = -b/a = 5)
    x1 * x2 = 5  (proizvod korena = c/a = 5)

  Korak 4: Izračunati traženi izraz
    x1/x2 + x2/x1 = (x1² + x2²) / (x1 * x2)

    Znamo da: x1² + x2² = (x1 + x2)² - 2*x1*x2
    = 5² - 2*5 = 25 - 10 = 15

    Dakle: (x1² + x2²) / (x1*x2) = 15/5 = 3

  Korak 5: Provera da koreni nisu x=1 ili x=2
    Diskriminanta: D = 25 - 20 = 5 > 0, dva realna korena
    x1,2 = (5 ± √5)/2
    x1 ≈ (5 + 2.236)/2 ≈ 3.618
    x2 ≈ (5 - 2.236)/2 ≈ 1.382
    Nijedan koren nije 1 ni 2, tako da su oba u oblasti definisanosti.

  Odgovor: (D) 3 ✓
</script>

<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container { max-width: 1200px; margin: 0 auto; }
h1 {
  text-align: center;
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
}
.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 28px 32px;
  margin-bottom: 24px;
}
.card-title {
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 14px;
  color: #60a5fa;
}
.card-title.purple { color: #a78bfa; }
.card-title.green { color: #4ade80; }
.card-title.pink { color: #f472b6; }

.problem-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.10), rgba(167,139,250,0.10));
  border: 1.5px solid #60a5fa;
  border-radius: 12px;
  padding: 24px 28px;
  font-size: 1.1rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
  justify-content: center;
}
.given-item {
  background: rgba(148,163,184,0.08);
  border: 1px solid #475569;
  border-radius: 10px;
  padding: 12px 20px;
  text-align: center;
  min-width: 80px;
}
.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  font-weight: 600;
  margin-bottom: 4px;
}
.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan-counter;
}
.plan-list li {
  counter-increment: plan-counter;
  padding: 8px 0 8px 42px;
  position: relative;
}
.plan-list li::before {
  content: counter(plan-counter);
  position: absolute;
  left: 0;
  top: 8px;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

details {
  margin: 15px 0;
}
details summary {
  cursor: pointer;
  padding: 14px 20px;
  background: rgba(167,139,250,0.12);
  border: 1px solid rgba(167,139,250,0.27);
  border-radius: 10px;
  color: #a78bfa;
  font-size: 1.05rem;
  font-weight: 600;
  transition: background 0.2s;
  list-style: none;
}
details summary::-webkit-details-marker { display: none; }
details summary::before {
  content: '\25B6';
  display: inline-block;
  margin-right: 10px;
  font-size: 0.75rem;
  transition: transform 0.2s;
}
details[open] summary::before {
  transform: rotate(90deg);
}
details summary:hover { background: rgba(167,139,250,0.2); }
details .details-content {
  padding: 18px 20px 8px;
  border-left: 3px solid rgba(167,139,250,0.27);
  margin-top: 10px;
  margin-left: 10px;
}

.step {
  border-left: 3px solid #334155;
  padding: 16px 0 16px 24px;
  margin-left: 14px;
  position: relative;
  cursor: pointer;
  transition: border-color 0.2s;
}
.step:hover, .step.active {
  border-left-color: #4ade80;
}
.step::before {
  content: '';
  position: absolute;
  left: -8px;
  top: 20px;
  width: 13px;
  height: 13px;
  border-radius: 50%;
  background: #60a5fa;
  border: 2px solid #1e293b;
}
.step-num {
  font-weight: 700;
  color: #60a5fa;
  font-size: 1rem;
  margin-bottom: 6px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.checkpoint details {
  margin: 15px 0;
}
.checkpoint details summary {
  background: rgba(167,139,250,0.15);
  border: 1.5px solid #a78bfa;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  padding: 9px 20px;
  border-radius: 8px;
}
.checkpoint details summary:hover {
  background: rgba(167,139,250,0.28);
}
.checkpoint .checkpoint-answer {
  margin-top: 8px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.08);
  border-left: 3px solid #34d399;
  border-radius: 4px;
  color: #34d399;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(74,222,128,0.12), rgba(52,211,153,0.08));
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 24px 28px;
  text-align: center;
}
.final-answer-box .answer-label {
  font-size: 1rem;
  color: #94a3b8;
  margin-bottom: 10px;
}
.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 16px 0;
}
.option-pill {
  padding: 10px 22px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 1rem;
  background: rgba(148,163,184,0.1);
  border: 1.5px solid #475569;
  color: #94a3b8;
}
.option-pill.correct {
  background: rgba(74,222,128,0.18);
  border-color: #4ade80;
  color: #4ade80;
  box-shadow: 0 0 18px rgba(74,222,128,0.15);
  font-size: 1.15rem;
}
.verification-note {
  margin-top: 12px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.10), rgba(167,139,250,0.10));
  border-left: 4px solid #60a5fa;
  border-radius: 0 12px 12px 0;
  padding: 20px 24px;
}

.pitfall {
  padding: 10px 0 10px 20px;
  border-left: 3px solid #f472b6;
  margin: 10px 0;
  color: #fca5a5;
}
.pitfall strong { color: #f472b6; }

.challenge-box {
  background: rgba(96,165,250,0.06);
  border: 1.5px dashed #60a5fa;
  border-radius: 12px;
  padding: 20px 24px;
}
.challenge-box .card-title { color: #a78bfa; }
.challenge-details summary {
  border-color: rgba(96,165,250,0.4);
  background: rgba(96,165,250,0.1);
  color: #60a5fa;
}
.challenge-details summary:hover {
  background: rgba(96,165,250,0.2);
}
.challenge-details .details-content {
  border-left-color: rgba(96,165,250,0.4);
  color: #94a3b8;
}

.highlight { color: #4ade80; font-weight: 700; }
.blue { color: #60a5fa; }
.purple { color: #a78bfa; }
.muted { color: #94a3b8; }

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}
.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  .card { padding: 18px 16px; }
  h1 { font-size: 1.45rem; }
  .problem-box { padding: 16px 14px; font-size: 1rem; }
  .options-row { gap: 6px; }
  .option-pill { padding: 8px 14px; font-size: 0.9rem; }
  .given-grid { gap: 8px; }
  .given-item { padding: 10px 14px; min-width: 60px; }
}
</style>
</head>
<body>

<div class="container">

  <h1>Odnos korena kvadratne jednačine</h1>
  <p class="subtitle">Vijetove formule i transformacija racionalne jednačine u kvadratnu</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title">Postavka zadatka</div>
    <div class="problem-box">
      <p>Ako su \(x_1\) i \(x_2\) koreni kvadratne jednačine:</p>
      \[
        \frac{1}{x - 1} + \frac{1}{x - 2} = 1
      \]
      <p>tada je izraz \(\dfrac{x_1}{x_2} + \dfrac{x_2}{x_1}\) jednak:</p>

      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\(\dfrac{1}{3}\)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\(\dfrac{2}{3}\)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\(2\)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\(3\)</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\(5\)</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title purple">Plan rešavanja</div>
    <p>Transformisaćemo datu racionalnu jednačinu u standardnu kvadratnu jednačinu, a zatim pomoću Vijetovih formula izračunati traženi izraz \(\frac{x_1}{x_2} + \frac{x_2}{x_1}\) bez eksplicitnog nalaženja korena.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <p><strong>Vijetove formule</strong> za kvadratnu jednačinu \(ax^2 + bx + c = 0\):</p>
        \[
          x_1 + x_2 = -\frac{b}{a}, \qquad x_1 \cdot x_2 = \frac{c}{a}
        \]
        <p style="margin-top: 12px;"><strong>Zbir kvadrata korena</strong> preko zbira i proizvoda:</p>
        \[
          x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2 \, x_1 \, x_2
        \]
        <p style="margin-top: 12px;"><strong>Ključna transformacija</strong> za traženi izraz:</p>
        \[
          \frac{x_1}{x_2} + \frac{x_2}{x_1} = \frac{x_1^2 + x_2^2}{x_1 \cdot x_2}
        \]
        <p style="margin-top: 12px;"><strong>Množenje racionalnih jednačina:</strong> Da bismo uklonili razlomke, množimo obe strane jednačine zajedničkim imeniocem. Pritom moramo proveriti da dobijena rešenja ne poništavaju imenioce.</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title">Grafički prikaz — parabola i koreni</div>
    <canvas id="parabolaCanvas" width="760" height="480"></canvas>
    <p class="canvas-hint">Parabola \(y = x^2 - 5x + 5\) sa korenima \(x_1\) i \(x_2\)</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <div class="card-title green">Rešenje — korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-num">Korak 1: Odrediti oblast definisanosti</div>
      <p>Polazna jednačina sadrži razlomke, pa moramo odrediti za koje vrednosti \(x\) imenioci nisu nula:</p>
      <div class="math-block">
        \[
          x - 1 \neq 0 \quad \Rightarrow \quad x \neq 1
        \]
        \[
          x - 2 \neq 0 \quad \Rightarrow \quad x \neq 2
        \]
      </div>
      <p class="muted">Oblast definisanosti: \(x \in \mathbb{R} \setminus \{1, 2\}\). Ovo ćemo proveriti na kraju.</p>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-num">Korak 2: Pomnožiti obe strane zajedničkim imeniocem</div>
      <p>Zajednički imenilac je \((x-1)(x-2)\). Množimo obe strane:</p>
      <div class="math-block">
        \[
          \frac{1}{x-1} \cdot (x-1)(x-2) + \frac{1}{x-2} \cdot (x-1)(x-2) = 1 \cdot (x-1)(x-2)
        \]
      </div>
      <p>Skraćujemo odgovarajuće faktore:</p>
      <div class="math-block">
        \[
          (x - 2) + (x - 1) = (x - 1)(x - 2)
        \]
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-num">Korak 3: Pojednostaviti obe strane</div>
      <p><span class="blue">Leva strana:</span></p>
      <div class="math-block">
        \[
          (x - 2) + (x - 1) = 2x - 3
        \]
      </div>
      <p><span class="blue">Desna strana:</span> razvijamo proizvod</p>
      <div class="math-block">
        \[
          (x - 1)(x - 2) = x^2 - 2x - x + 2 = x^2 - 3x + 2
        \]
      </div>
      <p>Dobijamo jednačinu:</p>
      <div class="math-block">
        \[
          2x - 3 = x^2 - 3x + 2
        \]
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Koliko je \((x-1)(x-2)\) za \(x = 3\)?</summary>
        <div class="checkpoint-answer">
          \((3-1)(3-2) = 2 \cdot 1 = 2\). Proverom: \(\frac{1}{3-1} + \frac{1}{3-2} = \frac{1}{2} + 1 = \frac{3}{2} \neq 1\), dakle \(x = 3\) nije rešenje.
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-num">Korak 4: Svesti na standardni oblik</div>
      <p>Prebacimo sve na desnu stranu:</p>
      <div class="math-block">
        \[
          0 = x^2 - 3x + 2 - 2x + 3
        \]
      </div>
      <p>Sredimo:</p>
      <div class="math-block">
        \[
          x^2 - 5x + 5 = 0
        \]
      </div>
      <p class="muted">Ovo je naša kvadratna jednačina sa koeficijentima \(a = 1\), \(b = -5\), \(c = 5\).</p>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-num">Korak 5: Primeniti Vijetove formule</div>
      <p>Za jednačinu \(x^2 - 5x + 5 = 0\) Vijetove formule daju:</p>
      <div class="math-block">
        \[
          x_1 + x_2 = -\frac{b}{a} = -\frac{-5}{1} = \color{#60a5fa}{5}
        \]
      </div>
      <div class="math-block">
        \[
          x_1 \cdot x_2 = \frac{c}{a} = \frac{5}{1} = \color{#a78bfa}{5}
        \]
      </div>
      <p class="muted">Zanimljivo: zbir i proizvod korena su jednaki!</p>
    </div>

    <!-- Checkpoint 2 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Koliko je \(x_1^2 + x_2^2\)?</summary>
        <div class="checkpoint-answer">
          Koristimo identitet: \(x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2 \cdot x_1 \cdot x_2 = 5^2 - 2 \cdot 5 = 25 - 10 = \mathbf{15}\).
        </div>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-num">Korak 6: Transformisati traženi izraz</div>
      <p>Svedimo \(\frac{x_1}{x_2} + \frac{x_2}{x_1}\) na zajednički imenilac:</p>
      <div class="math-block">
        \[
          \frac{x_1}{x_2} + \frac{x_2}{x_1} = \frac{x_1^2 + x_2^2}{x_1 \cdot x_2}
        \]
      </div>
      <p>Sad u brojilac uvrštavamo identitet za zbir kvadrata:</p>
      <div class="math-block">
        \[
          = \frac{(x_1 + x_2)^2 - 2 \, x_1 \, x_2}{x_1 \cdot x_2}
        \]
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" id="step7">
      <div class="step-num">Korak 7: Uvrstiti poznate vrednosti</div>
      <p>Uvrštavamo \(x_1 + x_2 = 5\) i \(x_1 \cdot x_2 = 5\):</p>
      <div class="math-block">
        \[
          \frac{(x_1 + x_2)^2 - 2 \, x_1 \, x_2}{x_1 \cdot x_2} = \frac{5^2 - 2 \cdot 5}{5} = \frac{25 - 10}{5} = \frac{15}{5} = \color{#4ade80}{3}
        \]
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Da li su koreni u oblasti definisanosti?</summary>
        <div class="checkpoint-answer">
          Koreni su \(x_{1,2} = \frac{5 \pm \sqrt{5}}{2}\), tj. \(x_1 \approx 3{,}618\) i \(x_2 \approx 1{,}382\). Nijedan nije jednak 1 ni 2, pa su oba u oblasti definisanosti.
        </div>
      </details>
    </div>

    <!-- Step 8 -->
    <div class="step" id="step8">
      <div class="step-num">Korak 8: Verifikacija oblasti definisanosti</div>
      <p>Diskriminanta jednačine \(x^2 - 5x + 5 = 0\):</p>
      <div class="math-block">
        \[
          D = (-5)^2 - 4 \cdot 1 \cdot 5 = 25 - 20 = 5 > 0
        \]
      </div>
      <p>Koreni su:</p>
      <div class="math-block">
        \[
          x_{1,2} = \frac{5 \pm \sqrt{5}}{2}
        \]
      </div>
      <p>Pošto \(\sqrt{5} \approx 2{,}236\), dobijamo \(x_1 \approx 3{,}618\) i \(x_2 \approx 1{,}382\). Nijedan koren nije jednak 1 ni 2, pa su oba u oblasti definisanosti polazne jednačine.</p>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card">
    <div class="card-title blue">Ključni uvid</div>
    <div class="insight-box">
      <p>
        Suština ovog zadatka je u tome da <strong>ne moramo nalaziti same korene</strong>. Vijetove formule nam daju zbir i proizvod korena direktno iz koeficijenata jednačine. Traženi izraz \(\frac{x_1}{x_2} + \frac{x_2}{x_1}\) se svodi na zajednički imenilac i izražava preko \(x_1 + x_2\) i \(x_1 \cdot x_2\) pomoću identiteta za zbir kvadrata.
      </p>
      <p style="margin-top: 12px; text-align: center; font-size: 1.15rem;">
        \[
          \frac{x_1}{x_2} + \frac{x_2}{x_1} = \frac{(x_1+x_2)^2 - 2\,x_1 x_2}{x_1 \cdot x_2} = \frac{25 - 10}{5} = \color{#4ade80}{3}
        \]
      </p>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card">
    <div class="final-answer-box">
      <div class="answer-label">Konačan odgovor</div>
      <div class="options-row">
        <span class="option-pill">(A) \(\frac{1}{3}\)</span>
        <span class="option-pill">(B) \(\frac{2}{3}\)</span>
        <span class="option-pill">(C) \(2\)</span>
        <span class="option-pill correct">(D) \(3\)</span>
        <span class="option-pill">(E) \(5\)</span>
      </div>
      <div class="verification-note">
        <strong>Provera:</strong> Numerička verifikacija sa \(x_1 \approx 3{,}618\) i \(x_2 \approx 1{,}382\):<br>
        \(\frac{x_1}{x_2} + \frac{x_2}{x_1} \approx \frac{3{,}618}{1{,}382} + \frac{1{,}382}{3{,}618} \approx 2{,}618 + 0{,}382 = 3{,}0\) &nbsp;\(\checkmark\)
      </div>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title pink">Česte greške</div>
    <div class="pitfall">
      <strong>Zaboraviti proveru oblasti definisanosti:</strong>
      Prilikom množenja sa \((x-1)(x-2)\) možemo uvesti lažna rešenja. Uvek treba proveriti da dobijena rešenja ne poništavaju imenioca (\(x \neq 1\), \(x \neq 2\)).
    </div>
    <div class="pitfall">
      <strong>Mešanje \(x_1^2 + x_2^2\) sa \((x_1 + x_2)^2\):</strong>
      Čest propust je staviti \(x_1^2 + x_2^2 = 25\) umesto pravilno \(x_1^2 + x_2^2 = (x_1 + x_2)^2 - 2x_1x_2 = 25 - 10 = 15\). Sa pogrešnom vrednošću dobili bismo \(\frac{25}{5} = 5\), što je opcija (E).
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="challenge-box">
      <div class="card-title">Dodatni izazov</div>
      <p>Ako su \(x_1\) i \(x_2\) koreni iste jednačine \(x^2 - 5x + 5 = 0\), izračunaj vrednost izraza \(x_1^3 + x_2^3\).</p>
      <details class="challenge-details">
        <summary>Prikaži nagoveštaj</summary>
        <div class="details-content">
          Koristi identitet: \(x_1^3 + x_2^3 = (x_1 + x_2)^3 - 3\,x_1\,x_2\,(x_1 + x_2)\). Uvrsti poznate vrednosti \(x_1 + x_2 = 5\) i \(x_1 \cdot x_2 = 5\) da dobiješ: \(125 - 75 = 50\).
        </div>
      </details>
    </div>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas: Parabola y = x^2 - 5x + 5
  function drawParabola() {
    const c = document.getElementById('parabolaCanvas');
    if (!c) return;
    const dpr = window.devicePixelRatio || 1;
    const W = 760, H = 480;
    c.width = W * dpr;
    c.height = H * dpr;
    c.style.width = W + 'px';
    c.style.height = H + 'px';
    const ctx = c.getContext('2d');
    ctx.scale(dpr, dpr);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Coordinate system setup
    // We want to show x from about -0.5 to 6, y from about -3 to 7
    const originX = 80;
    const originY = 350;
    const scaleX = 105;
    const scaleY = 45;

    const toCanvasX = (x) => originX + x * scaleX;
    const toCanvasY = (y) => originY - y * scaleY;

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = -1; x <= 6; x++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), 20);
      ctx.lineTo(toCanvasX(x), H - 20);
      ctx.stroke();
    }
    for (let y = -3; y <= 7; y++) {
      ctx.beginPath();
      ctx.moveTo(30, toCanvasY(y));
      ctx.lineTo(W - 20, toCanvasY(y));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(30, toCanvasY(0));
    ctx.lineTo(W - 20, toCanvasY(0));
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), 20);
    ctx.lineTo(toCanvasX(0), H - 20);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = -1; x <= 6; x++) {
      if (x === 0) continue;
      ctx.fillText(x.toString(), toCanvasX(x), toCanvasY(0) + 18);
    }
    ctx.textAlign = 'right';
    for (let y = -3; y <= 7; y++) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), toCanvasX(0) - 8, toCanvasY(y) + 4);
    }
    ctx.textAlign = 'center';
    ctx.fillText('0', toCanvasX(0) - 10, toCanvasY(0) + 18);

    // Axis arrow labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', W - 18, toCanvasY(0) - 8);
    ctx.textAlign = 'center';
    ctx.fillText('y', toCanvasX(0) + 14, 30);

    // Parabola: y = x^2 - 5x + 5
    const f = (x) => x * x - 5 * x + 5;

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = 30; px <= W - 20; px++) {
      const x = (px - originX) / scaleX;
      const y = f(x);
      const cy = toCanvasY(y);
      if (cy < 10 || cy > H - 10) {
        started = false;
        continue;
      }
      if (!started) {
        ctx.moveTo(px, cy);
        started = true;
      } else {
        ctx.lineTo(px, cy);
      }
    }
    ctx.stroke();

    // y = 0 line (x-axis) — already drawn

    // Roots: x = (5 ± sqrt(5)) / 2
    const sqrt5 = Math.sqrt(5);
    const r1 = (5 - sqrt5) / 2; // ~1.382
    const r2 = (5 + sqrt5) / 2; // ~3.618

    // Root points
    const drawRoot = (rx, label, labelY) => {
      const cx = toCanvasX(rx);
      const cy = toCanvasY(0);

      // Glow
      const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 20);
      grad.addColorStop(0, 'rgba(74,222,128,0.3)');
      grad.addColorStop(1, 'rgba(74,222,128,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, cy, 20, 0, Math.PI * 2);
      ctx.fill();

      // Point
      ctx.beginPath();
      ctx.arc(cx, cy, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, cx, cy + labelY);
    };

    drawRoot(r1, 'x\u2082 \u2248 1,382', 28);
    drawRoot(r2, 'x\u2081 \u2248 3,618', 28);

    // Vertex: x = 5/2 = 2.5, y = f(2.5) = 6.25 - 12.5 + 5 = -1.25
    const vx = 2.5, vy = f(2.5);
    const vcx = toCanvasX(vx);
    const vcy = toCanvasY(vy);

    // Dashed line from vertex to x-axis
    ctx.setLineDash([5, 4]);
    ctx.strokeStyle = '#a78bfa55';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(vcx, vcy);
    ctx.lineTo(vcx, toCanvasY(0));
    ctx.stroke();
    ctx.setLineDash([]);

    // Vertex point
    ctx.beginPath();
    ctx.arc(vcx, vcy, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();

    // Vertex label
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Teme (2,5; -1,25)', vcx + 10, vcy + 4);

    // Mark x=1 and x=2 (excluded from domain of original equation)
    const drawExcluded = (xVal, label) => {
      const ex = toCanvasX(xVal);
      const ey = toCanvasY(0);
      ctx.strokeStyle = '#f4728655';
      ctx.lineWidth = 1.5;
      // Small X mark
      const s = 6;
      ctx.beginPath();
      ctx.moveTo(ex - s, ey - s);
      ctx.lineTo(ex + s, ey + s);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(ex + s, ey - s);
      ctx.lineTo(ex - s, ey + s);
      ctx.stroke();

      ctx.fillStyle = '#f472b6';
      ctx.font = '11px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, ex, ey - 14);
    };

    drawExcluded(1, 'x \u2260 1');
    drawExcluded(2, 'x \u2260 2');

    // Sum and product labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';

    // Info box
    const bx = 460, by = 38, bw = 280, bh = 90;
    roundRect(ctx, bx, by, bw, bh, 10, 'rgba(30,41,59,0.9)', '#334155');

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = x\u00B2 \u2212 5x + 5', bx + 14, by + 22);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('x\u2081 + x\u2082 = 5', bx + 14, by + 44);
    ctx.fillText('x\u2081 \u00B7 x\u2082 = 5', bx + 14, by + 64);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('x\u2081/x\u2082 + x\u2082/x\u2081 = 3', bx + 14, by + 84);

    // Parabola equation near curve
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('y = x\u00B2 \u2212 5x + 5', toCanvasX(4.8), toCanvasY(f(4.8)) - 12);
  }

  function roundRect(ctx, x, y, rw, rh, r, fill, stroke) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + rw - r, y);
    ctx.quadraticCurveTo(x + rw, y, x + rw, y + r);
    ctx.lineTo(x + rw, y + rh - r);
    ctx.quadraticCurveTo(x + rw, y + rh, x + rw - r, y + rh);
    ctx.lineTo(x + r, y + rh);
    ctx.quadraticCurveTo(x, y + rh, x, y + rh - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
    if (fill) { ctx.fillStyle = fill; ctx.fill(); }
    if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = 1.5; ctx.stroke(); }
  }

  drawParabola();
  window.addEventListener('resize', drawParabola);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Odnos korena kvadratne jednačine — Vijetove formule","subject":"math","unit":"algebra","topic_tags":["kvadratna jednačina","Vijetove formule","racionalna jednačina","koreni jednačine","zbir i proizvod korena"]}
BRAINSPARK_META-->