<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Izraz sa stranicama trougla i opisanim krugom</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: U proizvoljnom trouglu sa uglovima alpha, beta, gamma, stranicama a, b, c
naspram tih uglova i poluprecnikom opisanog kruga R, naci vrednost izraza:
  (a^2 + b^2 + c^2) / (3 - cos^2(alpha) - cos^2(beta) - cos^2(gamma))

Resenje:
1. Sinusna teorema: a = 2R sin(alpha), b = 2R sin(beta), c = 2R sin(gamma)

2. Brojilac:
   a^2 + b^2 + c^2
   = (2R sin alpha)^2 + (2R sin beta)^2 + (2R sin gamma)^2
   = 4R^2 sin^2(alpha) + 4R^2 sin^2(beta) + 4R^2 sin^2(gamma)
   = 4R^2 (sin^2(alpha) + sin^2(beta) + sin^2(gamma))

3. Imenilac:
   3 - cos^2(alpha) - cos^2(beta) - cos^2(gamma)
   = 3 - (1 - sin^2(alpha)) - (1 - sin^2(beta)) - (1 - sin^2(gamma))
   = 3 - 1 + sin^2(alpha) - 1 + sin^2(beta) - 1 + sin^2(gamma)
   = sin^2(alpha) + sin^2(beta) + sin^2(gamma)

4. Rezultat:
   Izraz = 4R^2 (sin^2 alpha + sin^2 beta + sin^2 gamma) / (sin^2 alpha + sin^2 beta + sin^2 gamma)
         = 4R^2

   Posto je trougao proizvoljan (alpha, beta, gamma > 0 i alpha + beta + gamma = pi),
   bar jedan od sinusa je razlicit od nule, pa je zbir sin^2 alpha + sin^2 beta + sin^2 gamma > 0,
   te je skracivanje dozvoljeno.

Verifikacija: Tacan odgovor je (D) 4R^2. CHECK!

Dodatna verifikacija sa jednakostranicnim trouglom:
  alpha = beta = gamma = pi/3
  a = b = c = 2R sin(pi/3) = 2R * sqrt(3)/2 = R*sqrt(3)
  Brojilac: 3 * 3R^2 = 9R^2
  Imenilac: 3 - 3*cos^2(60°) = 3 - 3*(1/2)^2 = 3 - 3/4 = 9/4
  Rezultat: 9R^2 / (9/4) = 9R^2 * 4/9 = 4R^2. CHECK!

Verifikacija sa pravouglim trouglom (gamma = 90°):
  sin(90°) = 1, cos(90°) = 0
  c = 2R (precnik opisanog kruga je hipotenuza)
  alpha + beta = 90°, tako da beta = 90° - alpha
  a = 2R sin alpha, b = 2R cos alpha
  Brojilac: 4R^2(sin^2 alpha + cos^2 alpha + 1) = 4R^2(1+1) = 8R^2
  Imenilac: 3 - cos^2 alpha - sin^2 alpha - 0 = 3 - 1 = 2
  Rezultat: 8R^2 / 2 = 4R^2. CHECK!
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-top: 16px;
  margin-bottom: 8px;
}

.problem-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1.5px solid #60a5fa;
  border-radius: 12px;
  padding: 20px;
  font-size: 1.15rem;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: rgba(15,23,42,0.5);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 10px;
  text-align: center;
  transition: all 0.2s;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option:hover {
  border-color: #60a5fa;
  background: rgba(96,165,250,0.08);
}

.plan-box {
  background: rgba(167,139,250,0.08);
  border-left: 4px solid #a78bfa;
  border-radius: 0 10px 10px 0;
  padding: 16px 20px;
}

.plan-box p {
  color: #cbd5e1;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 12px 16px;
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  list-style: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: background 0.2s;
}

details summary:hover {
  background: rgba(96,165,250,0.15);
}

details summary::-webkit-details-marker { display: none; }

details summary::after {
  content: '\25BC';
  font-size: 0.8rem;
  transition: transform 0.3s;
}

details[open] summary::after {
  transform: rotate(180deg);
}

details[open] summary {
  border-radius: 10px 10px 0 0;
  border-bottom: none;
}

.theory-body {
  padding: 16px 20px;
  background: rgba(96,165,250,0.04);
  border: 1px solid #334155;
  border-top: none;
  border-radius: 0 0 10px 10px;
  color: #cbd5e1;
}

.theory-body ul {
  padding-left: 22px;
  margin: 10px 0;
}

.theory-body li {
  margin-bottom: 8px;
}

.step {
  position: relative;
  padding: 20px 20px 20px 28px;
  border-left: 3px solid #334155;
  margin-left: 16px;
  margin-bottom: 4px;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step:last-child {
  border-left-color: transparent;
}

.step:last-child:hover, .step:last-child.active {
  border-left-color: #4ade80;
}

.step::before {
  content: attr(data-step);
  position: absolute;
  left: -16px;
  top: 18px;
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #0f172a;
}

.step p, .step div {
  color: #cbd5e1;
}

.step .math-block {
  background: rgba(15,23,42,0.5);
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  overflow-x: auto;
}

.checkpoint {
  background: rgba(96,165,250,0.08);
  border: 1px dashed #60a5fa;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
  font-size: 0.95rem;
  color: #94a3b8;
}

.checkpoint summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  list-style: none;
  padding: 0;
  background: none;
  border: none;
  font-size: 0.95rem;
}

.checkpoint summary::-webkit-details-marker { display: none; }

.checkpoint summary::after {
  content: ' \25B6';
  font-size: 0.7rem;
}

.checkpoint[open] summary::after {
  content: ' \25BC';
}

.checkpoint .answer {
  margin-top: 8px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(167,139,250,0.12), rgba(244,114,182,0.10));
  border: 1.5px solid #a78bfa;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
}

.insight-box p {
  color: #cbd5e1;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.5rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.12));
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 24px;
  text-align: center;
}

.final-answer .label {
  color: #34d399;
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.final-answer .value {
  font-size: 1.7rem;
  font-weight: 800;
  color: #4ade80;
}

.option-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  gap: 8px;
  margin-top: 16px;
}

.option {
  padding: 8px 12px;
  border-radius: 8px;
  text-align: center;
  font-weight: 600;
  border: 1px solid #334155;
  background: rgba(15,23,42,0.4);
  color: #94a3b8;
  transition: all 0.2s;
}

.option.correct {
  border-color: #34d399;
  background: rgba(52,211,153,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 16px;
  margin-bottom: 8px;
  background: rgba(244,114,182,0.06);
  border-left: 3px solid #f472b6;
  border-radius: 0 8px 8px 0;
  color: #cbd5e1;
}

.pitfall-list li strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 12px;
  padding: 20px;
}

.challenge-box p {
  color: #cbd5e1;
}

.challenge-box strong {
  color: #a78bfa;
}

.verification-note {
  margin-top: 14px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.2);
  border-radius: 8px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.verification-note strong {
  color: #34d399;
}

canvas {
  display: block;
  margin: 0 auto;
  max-width: 100%;
  border-radius: 10px;
  touch-action: none;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.slider-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  margin-top: 14px;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.9rem;
  font-weight: 600;
}

.slider-container input[type="range"] {
  width: 180px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 0.95rem;
  min-width: 50px;
  text-align: center;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  .container { padding: 10px; }
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step { padding: 14px 14px 14px 22px; margin-left: 12px; }
  .final-answer .value { font-size: 1.3rem; }
  .given-grid { grid-template-columns: repeat(3, 1fr); }
  .option-grid { grid-template-columns: repeat(3, 1fr); }
  .slider-container input[type="range"] { width: 120px; }
}
</style>
</head>
<body>
<div class="container">

<h1>Izraz sa stranicama trougla i opisanim krugom</h1>
<p class="subtitle">Trigonometrija i sinusna teorema &mdash; osobine proizvoljnog trougla</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <h2>Tekst zadatka</h2>
  <div class="problem-box">
    <p>Neka su u proizvoljnom trouglu \(\alpha\), \(\beta\) i \(\gamma\) uglovi, \(a\), \(b\) i \(c\) dužine stranica naspram datih uglova i \(R\) poluprečnik opisanog kruga, tada je:</p>
    <div class="math-block" style="text-align:center; margin: 16px 0;">
      \[
        \frac{a^2 + b^2 + c^2}{3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma}
      \]
    </div>
    <p>jednako:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(R^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2R^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(3R^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(4R^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(5R^2\)</div>
      </div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <h2>Plan rešavanja</h2>
  <div class="plan-box">
    <p>Primenom <strong>sinusne teoreme</strong> izrazićemo stranice \(a\), \(b\), \(c\) preko uglova i poluprečnika \(R\), a zatim ćemo transformisati imenilac koristeći osnovni trigonometrijski identitet \(\sin^2 x + \cos^2 x = 1\). Na kraju ćemo skratiti zajedničke faktore.</p>
  </div>
</div>

<!-- Theory Refresher -->
<div class="card">
  <h2>Teorijska osnova</h2>
  <details>
    <summary>Sinusna teorema i trigonometrijski identiteti</summary>
    <div class="theory-body">
      <ul>
        <li><strong>Sinusna teorema:</strong> U svakom trouglu važi:
          \[
            \frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma} = 2R
          \]
          odakle sledi \(a = 2R\sin\alpha\), \(b = 2R\sin\beta\), \(c = 2R\sin\gamma\).
        </li>
        <li><strong>Osnovni trigonometrijski identitet:</strong>
          \[
            \sin^2 x + \cos^2 x = 1 \quad \Longrightarrow \quad \cos^2 x = 1 - \sin^2 x
          \]
        </li>
        <li><strong>Opisani krug (cirkumkrug):</strong> Svaki trougao ima jedinstven opisani krug čiji je poluprečnik \(R\). Centar tog kruga je jednako udaljen od sva tri temena trougla.</li>
      </ul>
      <canvas id="theoryCanvas" width="300" height="250" style="margin: 10px auto; display: block;"></canvas>
      <p style="text-align:center; font-size:0.85rem; color:#64748b; margin-top:4px;">Sinusna teorema: svaka stranica jednaka je prečniku puta sinus naspramnog ugla</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <h2>Vizuelni prikaz</h2>
  <canvas id="mainCanvas" width="700" height="520"></canvas>
  <div class="slider-container">
    <label for="alphaSlider">\(\alpha\):</label>
    <input type="range" id="alphaSlider" min="20" max="100" value="50">
    <span class="slider-value" id="alphaValue">50°</span>
    <label for="betaSlider" style="margin-left:16px;">\(\beta\):</label>
    <input type="range" id="betaSlider" min="20" max="100" value="65">
    <span class="slider-value" id="betaValue">65°</span>
  </div>
  <p class="canvas-hint">Pomerajte klizače da menjate uglove trougla i posmatrate kako izraz uvek daje \(4R^2\)</p>
</div>

<!-- Step-by-Step -->
<div class="card">
  <h2>Rešenje korak po korak</h2>

  <div class="step" data-step="1">
    <h3>Primena sinusne teoreme na brojilac</h3>
    <p>Prema sinusnoj teoremi, stranice proizvoljnog trougla se mogu izraziti kao:</p>
    <div class="math-block">
      \[
        a = 2R\sin\alpha, \quad b = 2R\sin\beta, \quad c = 2R\sin\gamma
      \]
    </div>
    <p>Kvadriramo svaku stranu i sabiramo:</p>
    <div class="math-block">
      \[
        a^2 + b^2 + c^2 = (2R\sin\alpha)^2 + (2R\sin\beta)^2 + (2R\sin\gamma)^2
      \]
    </div>
  </div>

  <div class="step" data-step="2">
    <h3>Izlučivanje zajedničkog faktora</h3>
    <p>Svaki sabirak sadrži faktor \(4R^2\), pa ga izlučujemo:</p>
    <div class="math-block">
      \[
        a^2 + b^2 + c^2 = 4R^2\sin^2\alpha + 4R^2\sin^2\beta + 4R^2\sin^2\gamma
      \]
    </div>
    <div class="math-block">
      \[
        a^2 + b^2 + c^2 = 4R^2\left(\sin^2\alpha + \sin^2\beta + \sin^2\gamma\right)
      \]
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri se: Koliko je \(a^2 + b^2 + c^2\) za jednakostraničan trougao sa \(R = 1\)?</summary>
    <div class="answer">
      Za jednakostraničan trougao: \(\alpha = \beta = \gamma = 60°\), pa \(\sin 60° = \frac{\sqrt{3}}{2}\).<br>
      \(a^2 + b^2 + c^2 = 4 \cdot 1 \cdot 3 \cdot \frac{3}{4} = 9\). Svaka stranica je \(a = \sqrt{3}\), što daje \(3 \cdot 3 = 9\).
    </div>
  </details>

  <div class="step" data-step="3">
    <h3>Transformacija imenioca</h3>
    <p>Sada posmatramo imenilac. Koristimo identitet \(\cos^2 x = 1 - \sin^2 x\):</p>
    <div class="math-block">
      \[
        3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma
      \]
    </div>
    <p>Zamenjujemo svaki \(\cos^2\) sa \(1 - \sin^2\):</p>
    <div class="math-block">
      \[
        = 3 - (1 - \sin^2\alpha) - (1 - \sin^2\beta) - (1 - \sin^2\gamma)
      \]
    </div>
  </div>

  <div class="step" data-step="4">
    <h3>Sređivanje imenioca</h3>
    <p>Rasklonimo zagrade i grupišemo:</p>
    <div class="math-block">
      \[
        = 3 - 1 + \sin^2\alpha - 1 + \sin^2\beta - 1 + \sin^2\gamma
      \]
    </div>
    <p>Brojevi \(3 - 1 - 1 - 1 = 0\) se poništavaju, pa ostaje:</p>
    <div class="math-block">
      \[
        = \sin^2\alpha + \sin^2\beta + \sin^2\gamma
      \]
    </div>
    <p style="color: #f472b6; font-weight: 600;">Imenilac je identičan zbiru kvadrata sinusa uglova!</p>
  </div>

  <details class="checkpoint">
    <summary>Proveri se: Koliko je imenilac za pravougli trougao sa \(\gamma = 90°\)?</summary>
    <div class="answer">
      \(\cos 90° = 0\), \(\alpha + \beta = 90°\), pa \(\sin^2\alpha + \sin^2\beta = \sin^2\alpha + \cos^2\alpha = 1\).<br>
      Imenilac: \(\sin^2\alpha + \cos^2\alpha + \sin^2 90° = 1 + 1 = 2\).
    </div>
  </details>

  <div class="step" data-step="5">
    <h3>Skraćivanje razlomka</h3>
    <p>Sada sastavljamo ceo izraz &mdash; i brojilac i imenilac sadrže isti faktor:</p>
    <div class="math-block">
      \[
        \frac{a^2 + b^2 + c^2}{3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma} = \frac{4R^2\left(\sin^2\alpha + \sin^2\beta + \sin^2\gamma\right)}{\sin^2\alpha + \sin^2\beta + \sin^2\gamma}
      \]
    </div>
    <p>Pošto je trougao proizvoljan, svi uglovi su strogo između \(0\) i \(\pi\), pa je \(\sin\alpha > 0\), \(\sin\beta > 0\) i \(\sin\gamma > 0\). Stoga je zbir \(\sin^2\alpha + \sin^2\beta + \sin^2\gamma > 0\) i smemo da skratimo:</p>
    <div class="math-block">
      \[
        = 4R^2
      \]
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri se: Provera sa pravouglim trouglom (\(\gamma = 90°\), \(R = 5\))</summary>
    <div class="answer">
      Neka je \(\alpha = 30°\), \(\beta = 60°\), \(\gamma = 90°\), \(R = 5\).<br>
      \(a = 10\sin 30° = 5\), \(b = 10\sin 60° = 5\sqrt{3}\), \(c = 10\sin 90° = 10\).<br>
      Brojilac: \(25 + 75 + 100 = 200\). Imenilac: \(3 - \frac{3}{4} - \frac{1}{4} - 0 = 2\).<br>
      Rezultat: \(\frac{200}{2} = 100 = 4 \cdot 25 = 4R^2\).
    </div>
  </details>
</div>

<!-- Key Insight -->
<div class="card">
  <h2>Ključni uvid</h2>
  <div class="insight-box">
    <p>Trik u ovom zadatku je prepoznavanje da se imenilac \(3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma\) svodi na \(\sin^2\alpha + \sin^2\beta + \sin^2\gamma\) pomoću identiteta \(\cos^2 x = 1 - \sin^2 x\). Taj isti zbir pojavljuje se i u brojiocu nakon primene sinusne teoreme, pa se razlomak elegantno skraćuje.</p>
    <div class="insight-formula">
      \[
        \frac{4R^2\cancel{\left(\sin^2\alpha + \sin^2\beta + \sin^2\gamma\right)}}{\cancel{\sin^2\alpha + \sin^2\beta + \sin^2\gamma}} = 4R^2
      \]
    </div>
    <p>Rezultat ne zavisi od konkretnog oblika trougla &mdash; važi za svaki trougao!</p>
  </div>
</div>

<!-- Final Answer -->
<div class="card">
  <div class="final-answer">
    <div class="label">Konačan odgovor</div>
    <div class="value">\(\displaystyle \frac{a^2 + b^2 + c^2}{3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma} = 4R^2\)</div>
    <p style="margin-top: 14px; color: #34d399; font-weight: 600; font-size: 1.15rem;">Tačan odgovor je (D) \(4R^2\)</p>
    <div class="option-grid" style="max-width: 500px; margin: 16px auto 0;">
      <div class="option">(A) \(R^2\)</div>
      <div class="option">(B) \(2R^2\)</div>
      <div class="option">(C) \(3R^2\)</div>
      <div class="option correct">(D) \(4R^2\)</div>
      <div class="option">(E) \(5R^2\)</div>
    </div>
  </div>
  <div class="verification-note">
    <strong>Provera:</strong> Za jednakostraničan trougao (\(\alpha = \beta = \gamma = 60°\), \(R = 1\)):
    brojilac je \(9\), imenilac je \(\frac{9}{4}\), količnik je \(4 = 4 \cdot 1^2 = 4R^2\).
    Za pravougli trougao (\(30°\)-\(60°\)-\(90°\), \(R = 5\)):
    brojilac je \(200\), imenilac je \(2\), količnik je \(100 = 4 \cdot 25 = 4R^2\). Sve se slaže.
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <h2>Česte greške</h2>
  <ul class="pitfall-list">
    <li><strong>Zaboravljen korak sa sinusnom teoremom:</strong> Mnogi studenti pokušavaju da direktno rade sa stranicama \(a\), \(b\), \(c\) bez veze sa \(R\). Ključ je upravo u tome da se stranice izraze preko \(R\) i uglova, jer tako dobijamo istu strukturu u brojiocu i imeniocu.</li>
    <li><strong>Pogrešna transformacija imenioca:</strong> Česta greška je pisanje \(3 - \cos^2\alpha - \cos^2\beta - \cos^2\gamma = 3(1 - \cos^2\alpha)\). Ovo je netačno jer se \(\cos^2\) od različitih uglova ne mogu izlučiti na taj način. Mora se svaki član zasebno transformisati.</li>
  </ul>
</div>

<!-- Optional Challenge -->
<div class="card">
  <h2>Dodatni izazov</h2>
  <div class="challenge-box">
    <p><strong>Za razmišljanje:</strong> Pokažite da za proizvoljan trougao važi:</p>
    \[
      \sin^2\alpha + \sin^2\beta + \sin^2\gamma = 2\left(1 + \cos\alpha\cos\beta\cos\gamma\right)
    \]
    <details style="margin-top: 12px;">
      <summary style="color: #a78bfa; background: rgba(167,139,250,0.08); border-color: rgba(167,139,250,0.3);">Pokazati nagovještaj</summary>
      <div style="padding: 12px 16px; color: #cbd5e1; background: rgba(167,139,250,0.04); border: 1px solid rgba(167,139,250,0.2); border-top: none; border-radius: 0 0 10px 10px;">
        <p>Koristite \(\gamma = \pi - \alpha - \beta\), pa \(\sin\gamma = \sin(\alpha + \beta)\) i \(\cos\gamma = -\cos(\alpha + \beta)\). Zatim raščlanite \(\sin^2(\alpha+\beta)\) koristeći adicione formule i uporedite sa desnom stranom.</p>
      </div>
    </details>
  </div>
</div>

</div>

<script>
(() => {
  // Step click highlighting
  document.querySelectorAll('.step').forEach(step => {
    step.addEventListener('click', () => {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Theory canvas - small illustration of sine rule
  const thCanvas = document.getElementById('theoryCanvas');
  if (thCanvas) {
    const thCtx = thCanvas.getContext('2d');
    const dpr = window.devicePixelRatio || 1;

    function setupTheoryCanvas() {
      const rect = thCanvas.getBoundingClientRect();
      const w = Math.min(rect.width || 300, 300);
      thCanvas.width = w * dpr;
      thCanvas.height = (w * 250 / 300) * dpr;
      thCanvas.style.width = w + 'px';
      thCanvas.style.height = (w * 250 / 300) + 'px';
      thCtx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    function drawTheory() {
      const w = thCanvas.width / dpr;
      const h = thCanvas.height / dpr;
      thCtx.clearRect(0, 0, w, h);
      thCtx.fillStyle = '#0f172a';
      thCtx.fillRect(0, 0, w, h);

      const cx = w / 2;
      const cy = h / 2 + 10;
      const R = Math.min(w, h) * 0.35;

      // Draw circumscribed circle
      thCtx.beginPath();
      thCtx.arc(cx, cy, R, 0, 2 * Math.PI);
      thCtx.strokeStyle = '#334155';
      thCtx.lineWidth = 1.5;
      thCtx.setLineDash([5, 4]);
      thCtx.stroke();
      thCtx.setLineDash([]);

      // Triangle vertices on circle
      const angles = [-Math.PI / 2 - 0.3, -Math.PI / 2 + 1.8, -Math.PI / 2 + 3.5];
      const pts = angles.map(a => [cx + R * Math.cos(a), cy + R * Math.sin(a)]);

      // Fill triangle
      thCtx.beginPath();
      thCtx.moveTo(pts[0][0], pts[0][1]);
      thCtx.lineTo(pts[1][0], pts[1][1]);
      thCtx.lineTo(pts[2][0], pts[2][1]);
      thCtx.closePath();
      thCtx.fillStyle = 'rgba(96,165,250,0.08)';
      thCtx.fill();
      thCtx.strokeStyle = '#60a5fa';
      thCtx.lineWidth = 2;
      thCtx.stroke();

      // Radius line
      thCtx.beginPath();
      thCtx.moveTo(cx, cy);
      thCtx.lineTo(pts[0][0], pts[0][1]);
      thCtx.strokeStyle = '#a78bfa';
      thCtx.lineWidth = 1.5;
      thCtx.setLineDash([4, 3]);
      thCtx.stroke();
      thCtx.setLineDash([]);

      // Labels
      thCtx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
      thCtx.textAlign = 'center';
      thCtx.textBaseline = 'middle';
      thCtx.fillStyle = '#a78bfa';
      const rmx = (cx + pts[0][0]) / 2;
      const rmy = (cy + pts[0][1]) / 2;
      thCtx.fillText('R', rmx - 10, rmy + 2);

      // Center dot
      thCtx.beginPath();
      thCtx.arc(cx, cy, 3, 0, 2 * Math.PI);
      thCtx.fillStyle = '#a78bfa';
      thCtx.fill();
      thCtx.fillText('O', cx + 12, cy + 2);

      // Side label: a = 2R sin alpha
      const mx = (pts[1][0] + pts[2][0]) / 2;
      const my = (pts[1][1] + pts[2][1]) / 2;
      thCtx.fillStyle = '#4ade80';
      thCtx.font = '11px "Segoe UI", system-ui, sans-serif';
      thCtx.fillText('a = 2R sin \u03B1', mx + 10, my + 14);
    }

    setupTheoryCanvas();
    drawTheory();
  }

  // Main interactive canvas
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  const alphaSlider = document.getElementById('alphaSlider');
  const betaSlider = document.getElementById('betaSlider');
  const alphaValueEl = document.getElementById('alphaValue');
  const betaValueEl = document.getElementById('betaValue');

  function setupCanvas() {
    const rect = canvas.getBoundingClientRect();
    const w = rect.width || 700;
    canvas.width = w * dpr;
    canvas.height = (w * 520 / 700) * dpr;
    canvas.style.width = w + 'px';
    canvas.style.height = (w * 520 / 700) + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function draw() {
    const w = canvas.width / dpr;
    const h = canvas.height / dpr;
    ctx.clearRect(0, 0, w, h);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, w, h);

    const alphaDeg = parseInt(alphaSlider.value);
    const betaDeg = parseInt(betaSlider.value);
    const gammaDeg = 180 - alphaDeg - betaDeg;

    alphaValueEl.textContent = alphaDeg + '\u00B0';
    betaValueEl.textContent = betaDeg + '\u00B0';

    if (gammaDeg <= 0) {
      ctx.fillStyle = '#f472b6';
      ctx.font = '16px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Zbir uglova \u03B1 + \u03B2 mora biti manji od 180\u00B0', w / 2, h / 2);
      return;
    }

    const alpha = alphaDeg * Math.PI / 180;
    const beta = betaDeg * Math.PI / 180;
    const gamma = gammaDeg * Math.PI / 180;

    // Set R for display
    const R = Math.min(w, h) * 0.28;

    // Triangle sides from sine rule (with R as display radius)
    const a = 2 * R * Math.sin(alpha);
    const b = 2 * R * Math.sin(beta);
    const c = 2 * R * Math.sin(gamma);

    // Place triangle: inscribed in circle at center of canvas
    const centerX = w / 2;
    const centerY = h / 2 - 20;

    // Vertices on circumscribed circle
    // Place vertex C at top, A at bottom-left, B at bottom-right
    // Angle subtended by side a (opposite alpha) at center = 2*alpha
    // We'll place vertices using central angles
    // Place A at angle (-PI/2 - gamma), B at angle (-PI/2 + gamma), then C follows
    // Actually, let's use the inscribed angle theorem properly:
    // Central angle = 2 * inscribed angle
    // Arc BC = 2*alpha, Arc AC = 2*beta, Arc AB = 2*gamma

    // Start with A at some base angle, go counter-clockwise
    const startAngle = Math.PI / 2 + gamma; // A at bottom-left-ish
    const angleA = startAngle;
    const angleB = startAngle - 2 * gamma; // Arc AB = 2*gamma going clockwise
    const angleC = startAngle + 2 * beta;  // Arc CA = 2*beta going counter-clockwise

    const Ax = centerX + R * Math.cos(angleA);
    const Ay = centerY - R * Math.sin(angleA);
    const Bx = centerX + R * Math.cos(angleB);
    const By = centerY - R * Math.sin(angleB);
    const Cx = centerX + R * Math.cos(angleC);
    const Cy = centerY - R * Math.sin(angleC);

    // Draw circumscribed circle
    ctx.beginPath();
    ctx.arc(centerX, centerY, R, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(167,139,250,0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Center dot and R line
    ctx.beginPath();
    ctx.arc(centerX, centerY, 3.5, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();

    // R label - draw radius to vertex A
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(Ax, Ay);
    ctx.strokeStyle = 'rgba(167,139,250,0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    const rmx = (centerX + Ax) / 2;
    const rmy = (centerY + Ay) / 2;
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillStyle = '#a78bfa';
    // Offset label perpendicular to radius
    const rdx = Ax - centerX;
    const rdy = Ay - centerY;
    const rlen = Math.sqrt(rdx * rdx + rdy * rdy);
    const rnx = -rdy / rlen;
    const rny = rdx / rlen;
    ctx.fillText('R', rmx + rnx * 14, rmy + rny * 14);

    // Fill triangle
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.07)';
    ctx.fill();

    // Draw triangle edges
    ctx.beginPath();
    ctx.moveTo(Ax, Ay);
    ctx.lineTo(Bx, By);
    ctx.lineTo(Cx, Cy);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Side labels
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';

    // Side a (opposite alpha, between B and C)
    const ma_x = (Bx + Cx) / 2;
    const ma_y = (By + Cy) / 2;
    const adx = Cx - Bx;
    const ady = Cy - By;
    const alen = Math.sqrt(adx * adx + ady * ady);
    const anx = -ady / alen;
    const any = adx / alen;
    // Choose offset direction away from center
    const toCenter_ax = centerX - ma_x;
    const toCenter_ay = centerY - ma_y;
    const dot_a = toCenter_ax * anx + toCenter_ay * any;
    const asign = dot_a > 0 ? -1 : 1;
    ctx.fillStyle = '#4ade80';
    ctx.fillText('a', ma_x + anx * 18 * asign, ma_y + any * 18 * asign);

    // Side b (opposite beta, between A and C)
    const mb_x = (Ax + Cx) / 2;
    const mb_y = (Ay + Cy) / 2;
    const bdx = Cx - Ax;
    const bdy = Cy - Ay;
    const blen = Math.sqrt(bdx * bdx + bdy * bdy);
    const bnx = -bdy / blen;
    const bny = bdx / blen;
    const toCenter_bx = centerX - mb_x;
    const toCenter_by = centerY - mb_y;
    const dot_b = toCenter_bx * bnx + toCenter_by * bny;
    const bsign = dot_b > 0 ? -1 : 1;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('b', mb_x + bnx * 18 * bsign, mb_y + bny * 18 * bsign);

    // Side c (opposite gamma, between A and B)
    const mc_x = (Ax + Bx) / 2;
    const mc_y = (Ay + By) / 2;
    const cdx = Bx - Ax;
    const cdy = By - Ay;
    const clen = Math.sqrt(cdx * cdx + cdy * cdy);
    const cnx = -cdy / clen;
    const cny = cdx / clen;
    const toCenter_cx = centerX - mc_x;
    const toCenter_cy = centerY - mc_y;
    const dot_c = toCenter_cx * cnx + toCenter_cy * cny;
    const csign = dot_c > 0 ? -1 : 1;
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('c', mc_x + cnx * 18 * csign, mc_y + cny * 18 * csign);

    // Angle arcs
    function drawAngleArc(vx, vy, p1x, p1y, p2x, p2y, label, color, arcR) {
      const a1 = Math.atan2(-(p1y - vy), p1x - vx);
      const a2 = Math.atan2(-(p2y - vy), p2x - vx);

      // Determine sweep direction (shortest arc)
      let start = a1;
      let end = a2;
      let diff = end - start;
      while (diff < -Math.PI) diff += 2 * Math.PI;
      while (diff > Math.PI) diff -= 2 * Math.PI;

      ctx.beginPath();
      if (diff > 0) {
        ctx.arc(vx, vy, arcR, -a1, -a2, true);
      } else {
        ctx.arc(vx, vy, arcR, -a1, -a2, false);
      }
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label at midpoint of arc
      const midA = a1 + diff / 2;
      const lx = vx + (arcR + 14) * Math.cos(midA);
      const ly = vy - (arcR + 14) * Math.sin(midA);
      ctx.fillStyle = color;
      ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, lx, ly);
    }

    const arcRadius = 22;
    drawAngleArc(Ax, Ay, Bx, By, Cx, Cy, '\u03B1', '#4ade80', arcRadius);
    drawAngleArc(Bx, By, Ax, Ay, Cx, Cy, '\u03B2', '#f472b6', arcRadius);
    drawAngleArc(Cx, Cy, Ax, Ay, Bx, By, '\u03B3', '#60a5fa', arcRadius);

    // Vertex dots and labels
    function drawVertex(x, y, label, offX, offY) {
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#e2e8f0';
      ctx.fill();
      ctx.font = 'bold 16px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText(label, x + offX, y + offY);
    }

    // Compute label offsets (away from center)
    function labelOffset(vx, vy) {
      const dx = vx - centerX;
      const dy = vy - centerY;
      const len = Math.sqrt(dx * dx + dy * dy);
      return [dx / len * 22, dy / len * 22];
    }

    const [aoX, aoY] = labelOffset(Ax, Ay);
    const [boX, boY] = labelOffset(Bx, By);
    const [coX, coY] = labelOffset(Cx, Cy);

    drawVertex(Ax, Ay, 'A', aoX, aoY);
    drawVertex(Bx, By, 'B', boX, boY);
    drawVertex(Cx, Cy, 'C', coX, coY);

    // Center label
    ctx.fillStyle = '#a78bfa';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('O', centerX + 10, centerY - 10);

    // Computation display
    const sin2a = Math.sin(alpha) * Math.sin(alpha);
    const sin2b = Math.sin(beta) * Math.sin(beta);
    const sin2g = Math.sin(gamma) * Math.sin(gamma);
    const cos2a = Math.cos(alpha) * Math.cos(alpha);
    const cos2b = Math.cos(beta) * Math.cos(beta);
    const cos2g = Math.cos(gamma) * Math.cos(gamma);

    const numerator = sin2a + sin2b + sin2g;
    const denominator = 3 - cos2a - cos2b - cos2g;
    const ratio = numerator > 0.0001 ? (4 * numerator) / denominator : 4;

    // Info panel at bottom
    const panelY = h - 85;
    ctx.fillStyle = 'rgba(30,41,59,0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const panelX = 20;
    const panelW = w - 40;
    const panelH = 72;
    const pR = 10;
    ctx.beginPath();
    ctx.moveTo(panelX + pR, panelY);
    ctx.lineTo(panelX + panelW - pR, panelY);
    ctx.quadraticCurveTo(panelX + panelW, panelY, panelX + panelW, panelY + pR);
    ctx.lineTo(panelX + panelW, panelY + panelH - pR);
    ctx.quadraticCurveTo(panelX + panelW, panelY + panelH, panelX + panelW - pR, panelY + panelH);
    ctx.lineTo(panelX + pR, panelY + panelH);
    ctx.quadraticCurveTo(panelX, panelY + panelH, panelX, panelY + panelH - pR);
    ctx.lineTo(panelX, panelY + pR);
    ctx.quadraticCurveTo(panelX, panelY, panelX + pR, panelY);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    const col1 = panelX + 16;
    const col2 = panelX + panelW / 2 + 10;

    ctx.fillStyle = '#94a3b8';
    ctx.fillText('\u03B1 = ' + alphaDeg + '\u00B0,  \u03B2 = ' + betaDeg + '\u00B0,  \u03B3 = ' + gammaDeg + '\u00B0', col1, panelY + 20);

    ctx.fillStyle = '#60a5fa';
    ctx.fillText('sin\u00B2\u03B1 + sin\u00B2\u03B2 + sin\u00B2\u03B3 = ' + numerator.toFixed(4).replace('.', ','), col1, panelY + 40);

    ctx.fillStyle = '#a78bfa';
    ctx.fillText('3 \u2212 cos\u00B2\u03B1 \u2212 cos\u00B2\u03B2 \u2212 cos\u00B2\u03B3 = ' + denominator.toFixed(4).replace('.', ','), col1, panelY + 60);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('Rezultat = ' + ratio.toFixed(4).replace('.', ',') + ' \u00B7 R\u00B2 = 4R\u00B2', panelX + panelW - 16, panelY + 40);

    ctx.fillStyle = '#34d399';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('(uvek 4R\u00B2, bez obzira na oblik trougla)', panelX + panelW - 16, panelY + 60);
  }

  function onSliderChange() {
    const a = parseInt(alphaSlider.value);
    const b = parseInt(betaSlider.value);
    // Clamp beta so gamma > 0
    if (a + b >= 179) {
      betaSlider.value = 179 - a;
    }
    draw();
  }

  alphaSlider.addEventListener('input', onSliderChange);
  betaSlider.addEventListener('input', onSliderChange);

  setupCanvas();
  draw();

  window.addEventListener('resize', () => {
    setupCanvas();
    draw();
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Izraz sa stranicama trougla i poluprečnikom opisanog kruga","subject":"math","unit":"trigonometry","topic_tags":["trigonometrija","sinusna teorema","opisani krug","trougao","trigonometrijski identiteti","poluprečnik opisanog kruga"]}
BRAINSPARK_META-->