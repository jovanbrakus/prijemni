<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritam sa promenom baze</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Given log‚ÇÇ3 = a and log‚ÇÖ2 = b, find log‚ÇÇ‚ÇÑ50.

Options:
(A) (b + 2) / (b(a + 3))
(B) (b + 1) / (b(a + 4))
(C) (b ‚àí 2) / (b(a ‚àí 4))
(D) (b + 1) / (b(a + 3))
(E) (b ‚àí 2) / ((b + 1)(a + 3))

SOLUTION:

Step 1: Extract useful information from given data.
log‚ÇÇ3 = a
log‚ÇÖ2 = b  ‚üπ  log‚ÇÇ5 = 1/b  (reciprocal by change of base)

Step 2: Express log‚ÇÇ‚ÇÑ50 using change of base formula.
log‚ÇÇ‚ÇÑ50 = log‚ÇÇ50 / log‚ÇÇ24

Step 3: Compute log‚ÇÇ50.
50 = 2 ¬∑ 5¬≤ = 2 ¬∑ 25
log‚ÇÇ50 = log‚ÇÇ(2 ¬∑ 5¬≤) = log‚ÇÇ2 + 2¬∑log‚ÇÇ5 = 1 + 2¬∑(1/b) = 1 + 2/b = (b + 2)/b

Step 4: Compute log‚ÇÇ24.
24 = 2¬≥ ¬∑ 3 = 8 ¬∑ 3
log‚ÇÇ24 = log‚ÇÇ(2¬≥ ¬∑ 3) = 3¬∑log‚ÇÇ2 + log‚ÇÇ3 = 3 + a

Step 5: Combine.
log‚ÇÇ‚ÇÑ50 = log‚ÇÇ50 / log‚ÇÇ24 = [(b + 2)/b] / (3 + a) = (b + 2) / (b(a + 3))

ANSWER: (A) (b + 2) / (b(a + 3))

VERIFICATION:
Let a = log‚ÇÇ3 ‚âà 1.585
Let b = log‚ÇÖ2 ‚âà 0.431

Numerically: log‚ÇÇ‚ÇÑ50 = ln(50)/ln(24) = 3.912/3.178 ‚âà 1.231

Check option (A): (b + 2)/(b(a + 3)) = (0.431 + 2)/(0.431 ¬∑ (1.585 + 3))
= 2.431 / (0.431 ¬∑ 4.585)
= 2.431 / 1.976
‚âà 1.230 ‚úì

This matches! Answer confirmed: (A).
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 600px;
  touch-action: none;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Logaritam sa promenom baze</h1>
  <p class="subtitle">Logaritamske transformacije, promena baze logaritma, izra≈æavanje preko datih veliƒçina</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Ako je \(\log_2 3 = a\) i \(\log_5 2 = b\), tada je \(\log_{24} 50\) jednako:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{b+2}{b(a+3)}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{b+1}{b(a+4)}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{b-2}{b(a-4)}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{b+1}{b(a+3)}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{b-2}{(b+1)(a+3)}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Koristiƒáemo formulu za promenu baze logaritma da izrazimo \(\log_{24}50\) preko \(\log_2\). Zatim ƒáemo razlo≈æiti brojeve \(50\) i \(24\) na proste ƒçinioce i sve izraziti pomoƒáu datih veliƒçina \(a = \log_2 3\) i \(b = \log_5 2\).</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Promena baze logaritma:</strong> \(\log_c d = \dfrac{\log_k d}{\log_k c}\) za proizvoljnu bazu \(k > 0,\, k \neq 1\)</li>
          <li><strong>Logaritam proizvoda:</strong> \(\log_k(m \cdot n) = \log_k m + \log_k n\)</li>
          <li><strong>Logaritam stepena:</strong> \(\log_k(m^n) = n \cdot \log_k m\)</li>
          <li><strong>Reciproƒçna veza:</strong> \(\log_a b = \dfrac{1}{\log_b a}\) ‚Äî poseban sluƒçaj promene baze koji je ovde kljuƒçan</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Dijagram prikazuje kako se \(\log_{24}50\) rastavlja na komponente izra≈æene preko \(a\) i \(b\). Koristite klizaƒçe da menjate vrednosti \(a\) i \(b\) i posmatrate kako se menja rezultat.</p>
    <canvas id="diagram" width="600" height="400"></canvas>
    <div style="margin-top: 14px; display: flex; align-items: center; justify-content: center; gap: 16px; flex-wrap: wrap;">
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="a-slider" style="color: #60a5fa; font-size: 0.95rem; font-weight:600;">\(a\):</label>
        <input type="range" id="a-slider" min="100" max="250" value="158" style="width: 100px; accent-color: #60a5fa;">
        <span id="a-display" style="color: #60a5fa; font-weight: 600; min-width: 60px;">1,58</span>
      </div>
      <div style="display:flex;align-items:center;gap:8px;">
        <label for="b-slider" style="color: #4ade80; font-size: 0.95rem; font-weight:600;">\(b\):</label>
        <input type="range" id="b-slider" min="10" max="90" value="43" style="width: 100px; accent-color: #4ade80;">
        <span id="b-display" style="color: #4ade80; font-weight: 600; min-width: 60px;">0,43</span>
      </div>
    </div>
    <p class="drag-hint">Prava vrednost: \(a = \log_2 3 \approx 1{,}585\), \(b = \log_5 2 \approx 0{,}431\)</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Priprema: ≈°ta znamo iz datih podataka</div>
      <div class="step-text">
        <p>Dato nam je:</p>
        <div class="math-box">
          \[ \log_2 3 = a \qquad \text{i} \qquad \log_5 2 = b \]
        </div>
        <p>Iz drugog podatka mo≈æemo odmah izvesti korisnu vezu. Koristeƒái reciproƒçnu osobinu logaritma:</p>
        <div class="math-box">
          \[ \log_5 2 = b \quad \Longrightarrow \quad \log_2 5 = \frac{1}{b} \]
        </div>
        <p style="color:#94a3b8;">Ovo je zato ≈°to va≈æi \(\log_a b = \frac{1}{\log_b a}\). Sada imamo i \(\log_2 3\) i \(\log_2 5\) izra≈æene preko \(a\) i \(b\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Promena baze ‚Äî svoƒëenje na \(\log_2\)</div>
      <div class="step-text">
        <p>Primenjujemo formulu za promenu baze logaritma, birajuƒái bazu 2:</p>
        <div class="math-box">
          \[ \log_{24} 50 = \frac{\log_2 50}{\log_2 24} \]
        </div>
        <p>Sada treba odvojeno izraƒçunati \(\log_2 50\) i \(\log_2 24\).</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Rastavljanje broja 50 na proste ƒçinioce</div>
      <div class="step-text">
        <p>Rastavimo broj \(50\) na proste faktore:</p>
        <div class="math-box">
          \[ 50 = 2 \cdot 25 = 2 \cdot 5^2 \]
        </div>
        <p>Primenom pravila za logaritam proizvoda i stepena:</p>
        <div class="math-box">
          \[ \log_2 50 = \log_2(2 \cdot 5^2) = \log_2 2 + 2 \cdot \log_2 5 \]
        </div>
        <p>Uvr≈°tavamo poznate vrednosti: \(\log_2 2 = 1\) i \(\log_2 5 = \frac{1}{b}\):</p>
        <div class="math-box">
          \[ \log_2 50 = 1 + \frac{2}{b} = \frac{b + 2}{b} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Koliko je \(\log_2 50\) ako je \(b = \log_5 2 = 0{,}5\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Ako je \(b = 0{,}5\), tada \(\log_2 5 = \frac{1}{0{,}5} = 2\), pa \(\log_2 50 = 1 + 2 \cdot 2 = 5\). Provera: \(2^5 = 32 \neq 50\), tako da \(b = 0{,}5\) ne odgovara pravoj vrednosti ‚Äî to je samo ve≈æba uvr≈°tavanja.
      </p>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Rastavljanje broja 24 na proste ƒçinioce</div>
      <div class="step-text">
        <p>Rastavimo broj \(24\):</p>
        <div class="math-box">
          \[ 24 = 8 \cdot 3 = 2^3 \cdot 3 \]
        </div>
        <p>Primenom pravila za logaritam:</p>
        <div class="math-box">
          \[ \log_2 24 = \log_2(2^3 \cdot 3) = 3 \cdot \log_2 2 + \log_2 3 \]
        </div>
        <p>Uvr≈°tavamo: \(\log_2 2 = 1\) i \(\log_2 3 = a\):</p>
        <div class="math-box">
          \[ \log_2 24 = 3 + a \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Za koliko se razlikuju \(\log_2 24\) i \(\log_2 3\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Razlika je \(\log_2 24 - \log_2 3 = \log_2 \frac{24}{3} = \log_2 8 = 3\). Upravo toliko iznosi \(3 \cdot \log_2 2 = 3\), ≈°to se sla≈æe sa na≈°im rezultatom \(\log_2 24 = 3 + a\).
      </p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Spajanje brojioca i imenioca</div>
      <div class="step-text">
        <p>Sada imamo sve delove. Vraƒáamo se u formulu iz Koraka 2:</p>
        <div class="math-box">
          \[ \log_{24} 50 = \frac{\log_2 50}{\log_2 24} = \frac{\dfrac{b+2}{b}}{3 + a} \]
        </div>
        <p>Sredimo razlomak tako ≈°to pomno≈æimo brojilac i imenilac:</p>
        <div class="math-box">
          \[ \log_{24} 50 = \frac{b+2}{b \cdot (a + 3)} = \frac{b+2}{b(a+3)} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Identifikacija taƒçnog odgovora</div>
      <div class="step-text">
        <p>Uporedimo dobijeni izraz sa ponuƒëenim odgovorima:</p>
        <div class="math-box">
          \[ \log_{24} 50 = \frac{b+2}{b(a+3)} \]
        </div>
        <p>Ovo se poklapa sa odgovorom <span class="highlight">(A)</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Numeriƒçka verifikacija</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Prave vrednosti su \(a = \log_2 3 \approx 1{,}585\) i \(b = \log_5 2 \approx 0{,}431\).
        <br>Direktno: \(\log_{24}50 = \frac{\ln 50}{\ln 24} \approx \frac{3{,}912}{3{,}178} \approx 1{,}231\).
        <br>Formula: \(\frac{b+2}{b(a+3)} = \frac{0{,}431+2}{0{,}431 \cdot (1{,}585+3)} = \frac{2{,}431}{0{,}431 \cdot 4{,}585} \approx \frac{2{,}431}{1{,}976} \approx 1{,}230\). Poklapa se!
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljuƒçni uvid</h3>
    <p>Ceo problem se svodi na dva jednostavna koraka:</p>
    <div class="math-box" style="text-align: center; font-size: 1.05rem;">
      \[ \log_{24} 50 = \frac{\log_2 50}{\log_2 24} = \frac{1 + \frac{2}{b}}{3 + a} = \frac{b + 2}{b(a + 3)} \]
    </div>
    <p>Kljuƒçna ideja je prepoznati da su \(50 = 2 \cdot 5^2\) i \(24 = 2^3 \cdot 3\) sastavljeni upravo od prostih brojeva \(2\), \(3\) i \(5\) ‚Äî a mi znamo \(\log_2 3\) i \(\log_2 5\) (iz \(\log_5 2\)). Zato biramo bazu 2 za promenu baze.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konaƒçan odgovor</h2>
    <p class="answer-label">\(\log_{24} 50\) je jednako:</p>
    <div class="answer-value">(A) \(\dfrac{b+2}{b(a+3)}\)</div>
    <div class="options-row">
      <div class="option-box correct">(A) \(\dfrac{b+2}{b(a+3)}\)</div>
      <div class="option-box">(B) \(\dfrac{b+1}{b(a+4)}\)</div>
      <div class="option-box">(C) \(\dfrac{b-2}{b(a-4)}\)</div>
      <div class="option-box">(D) \(\dfrac{b+1}{b(a+3)}\)</div>
      <div class="option-box">(E) \(\dfrac{b-2}{(b+1)(a+3)}\)</div>
    </div>
    <p class="verification-note">Provera: Za \(a \approx 1{,}585\) i \(b \approx 0{,}431\), formula daje \(\frac{2{,}431}{0{,}431 \cdot 4{,}585} \approx 1{,}230\), a direktni raƒçun \(\log_{24}50 \approx 1{,}231\). Rezultati se poklapaju.</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>ƒåeste gre≈°ke</h2>
    <ul class="pitfall-list">
      <li>Zaboraviti reciproƒçnu vezu: iz \(\log_5 2 = b\) sledi \(\log_2 5 = \frac{1}{b}\), a ne \(\log_2 5 = b\). Mnogi studenti direktno koriste \(b\) umesto \(\frac{1}{b}\), ≈°to vodi na pogre≈°an odgovor.</li>
      <li>Pogre≈°no rastavljanje: \(50 = 2 \cdot 5^2\) (ne \(5 \cdot 10\) ili sliƒçno) i \(24 = 2^3 \cdot 3\) (ne \(4 \cdot 6\)). Uvek rastavljati na proste ƒçinioce ƒçiji su logaritmi poznati.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Ako je \(\log_2 3 = a\) i \(\log_5 2 = b\), koliko je \(\log_{15} 40\)?</p>
    <details>
      <summary>Pomoƒá</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Rastavite: \(40 = 2^3 \cdot 5\) i \(15 = 3 \cdot 5\). Preƒëite na bazu 2:
        \(\log_{15}40 = \frac{\log_2 40}{\log_2 15} = \frac{3 + \frac{1}{b}}{a + \frac{1}{b}} = \frac{3b + 1}{ab + 1}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Interactive canvas diagram
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const sliderA = document.getElementById('a-slider');
  const sliderB = document.getElementById('b-slider');
  const aDisplay = document.getElementById('a-display');
  const bDisplay = document.getElementById('b-display');

  function fmt(n) {
    return n.toFixed(2).replace('.', ',');
  }

  function fmtShort(n) {
    return n.toFixed(3).replace('.', ',');
  }

  function drawDiagram() {
    const a = sliderA.value / 100;
    const b = sliderB.value / 100;

    aDisplay.textContent = fmt(a);
    bDisplay.textContent = fmt(b);

    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const padL = 30;
    const padR = 30;
    const padT = 30;
    const padB = 30;

    const cW = W - padL - padR;
    const cH = H - padT - padB;

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Razlaganje log\u2082\u2084 50 na komponente', W / 2, 20);

    // Compute values
    const log2_5 = (b > 0.001) ? 1 / b : 999;
    const log2_50 = 1 + 2 * log2_5;
    const log2_24 = 3 + a;
    const result = (log2_24 > 0.001) ? log2_50 / log2_24 : 999;
    const formulaResult = (b > 0.001 && (a + 3) > 0.001) ? (b + 2) / (b * (a + 3)) : 999;

    // Draw a tree/flow diagram showing the decomposition
    const centerX = W / 2;
    const topY = padT + 30;

    // Level 0: log_{24} 50
    drawBox(centerX, topY, 'log\u2082\u2084 50', '#f472b6', result < 100 ? '= ' + fmt(result) : '?');

    // Arrow down splitting into two
    drawArrow(centerX - 60, topY + 28, centerX - 130, topY + 90);
    drawArrow(centerX + 60, topY + 28, centerX + 130, topY + 90);

    // Level 1: log_2 50 and log_2 24
    const lvl1Y = topY + 95;
    drawBox(centerX - 130, lvl1Y, 'log\u2082 50', '#60a5fa', log2_50 < 100 ? '= ' + fmt(log2_50) : '?');
    drawBox(centerX + 130, lvl1Y, 'log\u2082 24', '#60a5fa', '= ' + fmt(log2_24));

    // Division sign between them
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 20px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('\u00F7', centerX, lvl1Y);

    // Level 2 arrows from log_2 50
    const lvl2Y = lvl1Y + 90;
    drawArrow(centerX - 170, lvl1Y + 28, centerX - 210, lvl2Y - 8);
    drawArrow(centerX - 90, lvl1Y + 28, centerX - 50, lvl2Y - 8);

    // Level 2 arrows from log_2 24
    drawArrow(centerX + 90, lvl1Y + 28, centerX + 50, lvl2Y - 8);
    drawArrow(centerX + 170, lvl1Y + 28, centerX + 210, lvl2Y - 8);

    // Level 2: components of 50 = 2 * 5^2
    drawBox(centerX - 210, lvl2Y, 'log\u2082 2', '#4ade80', '= 1');
    drawBox(centerX - 50, lvl2Y, '2 \u00B7 log\u2082 5', '#4ade80', '= 2/b = ' + fmt(2 * log2_5));

    // Level 2: components of 24 = 2^3 * 3
    drawBox(centerX + 50, lvl2Y, '3 \u00B7 log\u2082 2', '#4ade80', '= 3');
    drawBox(centerX + 210, lvl2Y, 'log\u2082 3', '#4ade80', '= a = ' + fmt(a));

    // Sum signs
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 18px Segoe UI, sans-serif';
    ctx.fillText('+', centerX - 130, lvl2Y);
    ctx.fillText('+', centerX + 130, lvl2Y);

    // Bottom row: formulas
    const bottomY = lvl2Y + 80;

    // Numerator summary
    drawFormulaBox(centerX - 130, bottomY, 'Brojilac:', '(b + 2) / b = ' + fmt(log2_50), '#60a5fa');

    // Denominator summary
    drawFormulaBox(centerX + 130, bottomY, 'Imenilac:', 'a + 3 = ' + fmt(log2_24), '#60a5fa');

    // Final result
    const resultY = bottomY + 65;
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(centerX - 160, resultY - 18, 320, 42);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(centerX - 160, resultY - 18, 320, 42, 10);
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    if (result < 100) {
      ctx.fillText('Rezultat: (b+2) / (b(a+3)) = ' + fmtShort(formulaResult), centerX, resultY + 3);
    } else {
      ctx.fillText('Rezultat: nedefinisan za date parametre', centerX, resultY + 3);
    }
  }

  function drawBox(x, y, label, color, value) {
    const bw = 120;
    const bh = 48;
    ctx.fillStyle = 'rgba(30,41,59,0.9)';
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.roundRect(x - bw/2, y - bh/2, bw, bh, 8);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(label, x, y - 9);

    ctx.fillStyle = color;
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.fillText(value, x, y + 10);
  }

  function drawFormulaBox(x, y, label, value, color) {
    const bw = 180;
    const bh = 40;
    ctx.fillStyle = 'rgba(30,41,59,0.7)';
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(x - bw/2, y - bh/2, bw, bh, 6);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(label, x, y - 9);

    ctx.fillStyle = color;
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.fillText(value, x, y + 9);
  }

  function drawArrow(x1, y1, x2, y2) {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    // Arrowhead
    const angle = Math.atan2(y2 - y1, x2 - x1);
    const headLen = 8;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  sliderA.addEventListener('input', drawDiagram);
  sliderB.addEventListener('input', drawDiagram);

  // Touch support
  sliderA.addEventListener('touchstart', function(e) { e.stopPropagation(); }, { passive: true });
  sliderB.addEventListener('touchstart', function(e) { e.stopPropagation(); }, { passive: true });

  drawDiagram();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritam sa promenom baze",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritmi", "promena baze", "logaritamske transformacije", "rastavljanje na proste ƒçinioce"]
}
BRAINSPARK_META-->