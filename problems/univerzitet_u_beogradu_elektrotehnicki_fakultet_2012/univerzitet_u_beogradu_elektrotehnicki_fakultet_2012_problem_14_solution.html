<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir polupreƒçnika upisanog i opisanog kruga trougla</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Stranice trougla su a = 21 i b = 9‚àö2, a njima zahvaƒáeni ugao je Œ≥ = 45¬∞.
Naƒái zbir polupreƒçnika upisanog (r) i opisanog (R) kruga tog trougla: r + R.

STEP 1: Naƒái treƒáu stranicu koristeƒái kosinusnu teoremu.
c¬≤ = a¬≤ + b¬≤ ‚àí 2ab¬∑cos(Œ≥)
c¬≤ = 21¬≤ + (9‚àö2)¬≤ ‚àí 2¬∑21¬∑9‚àö2¬∑cos(45¬∞)
c¬≤ = 441 + 162 ‚àí 2¬∑21¬∑9‚àö2¬∑(‚àö2/2)
c¬≤ = 441 + 162 ‚àí 2¬∑21¬∑9¬∑1
c¬≤ = 441 + 162 ‚àí 378
c¬≤ = 225
c = 15

STEP 2: Naƒái povr≈°inu trougla.
S = (1/2)¬∑a¬∑b¬∑sin(Œ≥)
S = (1/2)¬∑21¬∑9‚àö2¬∑sin(45¬∞)
S = (1/2)¬∑21¬∑9‚àö2¬∑(‚àö2/2)
S = (1/2)¬∑21¬∑9¬∑1
S = (1/2)¬∑189
S = 189/2

STEP 3: Poluobim.
s = (a + b + c)/2 = (21 + 9‚àö2 + 15)/2 = (36 + 9‚àö2)/2 = 9(4 + ‚àö2)/2

STEP 4: Polupreƒçnik upisanog kruga.
r = S/s = (189/2) / (9(4 + ‚àö2)/2) = 189 / (9(4 + ‚àö2)) = 21/(4 + ‚àö2)
Racionalizujemo: 21/(4 + ‚àö2) ¬∑ (4 ‚àí ‚àö2)/(4 ‚àí ‚àö2) = 21(4 ‚àí ‚àö2)/(16 ‚àí 2) = 21(4 ‚àí ‚àö2)/14 = 3(4 ‚àí ‚àö2)/2 = (12 ‚àí 3‚àö2)/2

STEP 5: Polupreƒçnik opisanog kruga.
R = abc/(4S) = (21 ¬∑ 9‚àö2 ¬∑ 15) / (4 ¬∑ 189/2)
R = (21 ¬∑ 135‚àö2) / (378)
R = 2835‚àö2 / 378
Simplify: 2835/378 = 7.5 = 15/2
R = 15‚àö2/2

Alternative: By sine rule, c/sin(Œ≥) = 2R => 15/sin(45¬∞) = 2R => 15/(‚àö2/2) = 2R => 30/‚àö2 = 2R => 15‚àö2 = 2R => R = 15‚àö2/2. ‚úì

STEP 6: Zbir r + R.
r + R = (12 ‚àí 3‚àö2)/2 + 15‚àö2/2 = (12 ‚àí 3‚àö2 + 15‚àö2)/2 = (12 + 12‚àö2)/2 = 6 + 6‚àö2 = 6(1 + ‚àö2) = 6(‚àö2 + 1)

ANSWER: (C) 6(‚àö2 + 1)

VERIFICATION:
r = (12 ‚àí 3‚àö2)/2 ‚âà (12 ‚àí 4.243)/2 ‚âà 7.757/2 ‚âà 3.879
R = 15‚àö2/2 ‚âà 15¬∑1.4142/2 ‚âà 21.213/2 ‚âà 10.607
r + R ‚âà 3.879 + 10.607 ‚âà 14.486
6(‚àö2 + 1) = 6¬∑2.4142 ‚âà 14.485 ‚úì
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 650px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Polupreƒçnici upisanog i opisanog kruga trougla</h1>
  <p class="subtitle">Trigonometrija i geometrija trougla ‚Äî kosinusna teorema, upisani i opisani krug</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Stranice trougla su <span class="highlight">\(21\)</span> i <span class="highlight">\(9\sqrt{2}\)</span>, a njima zahvaƒáeni ugao je <span class="highlight">\(45¬∞\)</span>. Zbir polupreƒçnika upisanog i opisanog kruga tog trougla je:</p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">Stranica \(a\)</div>
        <div class="value">\(21\)</div>
      </div>
      <div class="given-item">
        <div class="label">Stranica \(b\)</div>
        <div class="value">\(9\sqrt{2}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Ugao \(\gamma\)</div>
        <div class="value">\(45¬∞\)</div>
      </div>
      <div class="given-item">
        <div class="label">Tra≈æi se</div>
        <div class="value">\(r + R\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(3(2 - \sqrt{3})\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(6(\sqrt{2} - 1)\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(6(\sqrt{2} + 1)\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(6(2 + \sqrt{3})\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(6(\sqrt{3} - \sqrt{2})\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Kosinusnom teoremom ƒáemo naƒái treƒáu stranicu trougla, zatim izraƒçunati povr≈°inu i poluobim. Na osnovu toga ƒáemo odrediti polupreƒçnike upisanog kruga (\(r = S/s\)) i opisanog kruga (\(R = \frac{abc}{4S}\)), pa sabrati.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Kosinusna teorema:</strong> \( c^2 = a^2 + b^2 - 2ab\cos\gamma \), gde je \(\gamma\) ugao izmeƒëu stranica \(a\) i \(b\).</li>
          <li><strong>Povr≈°ina trougla:</strong> \( S = \dfrac{1}{2}\,a\,b\,\sin\gamma \)</li>
          <li><strong>Polupreƒçnik upisanog kruga:</strong> \( r = \dfrac{S}{s} \), gde je \( s = \dfrac{a + b + c}{2} \) poluobim trougla.</li>
          <li><strong>Polupreƒçnik opisanog kruga (sinusna teorema):</strong> \( \dfrac{c}{\sin\gamma} = 2R \), tj. \( R = \dfrac{c}{2\sin\gamma} \). Ekvivalentno: \( R = \dfrac{abc}{4S} \).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Dijagram trougla</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Trougao sa stranicama \(a = 21\), \(b = 9\sqrt{2}\), \(c = 15\) i uglom \(\gamma = 45¬∞\), sa upisanim i opisanim krugom.</p>
    <canvas id="triangleCanvas" width="650" height="550"></canvas>
    <p class="drag-hint">Statiƒçki prikaz trougla sa upisanim i opisanim krugom</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Nala≈æenje treƒáe stranice (kosinusna teorema)</div>
      <div class="step-text">
        <p>Poznate su nam dve stranice \(a = 21\) i \(b = 9\sqrt{2}\) i ugao \(\gamma = 45¬∞\) izmeƒëu njih. Kosinusnom teoremom nalazimo treƒáu stranicu \(c\):</p>
        <div class="math-box">
          \[
          c^2 = a^2 + b^2 - 2ab\cos\gamma
          \]
        </div>
        <p>Uvrstimo poznate vrednosti. Podsetimo se da je \(\cos 45¬∞ = \dfrac{\sqrt{2}}{2}\):</p>
        <div class="math-box">
          \[
          c^2 = 21^2 + (9\sqrt{2})^2 - 2 \cdot 21 \cdot 9\sqrt{2} \cdot \frac{\sqrt{2}}{2}
          \]
        </div>
        <p>Izraƒçunajmo svaki sabirak posebno:</p>
        <div class="math-box">
          \[
          21^2 = 441
          \]
        </div>
        <div class="math-box">
          \[
          (9\sqrt{2})^2 = 81 \cdot 2 = 162
          \]
        </div>
        <div class="math-box">
          \[
          2 \cdot 21 \cdot 9\sqrt{2} \cdot \frac{\sqrt{2}}{2} = 21 \cdot 9\sqrt{2} \cdot \sqrt{2} = 21 \cdot 9 \cdot 2 = 378
          \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[
          c^2 = 441 + 162 - 378 = 225
          \]
        </div>
        <div class="math-box">
          \[
          c = \sqrt{225} = 15
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Da li je trougao sa stranicama 21, 9&radic;2, 15 validan?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Nejednakost trougla: \(21 < 9\sqrt{2} + 15 \approx 12{,}73 + 15 = 27{,}73\) ‚Äî va≈æi.
        Takoƒëe: \(9\sqrt{2} < 21 + 15 = 36\) i \(15 < 21 + 9\sqrt{2} \approx 33{,}73\). Sve tri nejednakosti su zadovoljene.
      </p>
    </details>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Raƒçunanje povr≈°ine trougla</div>
      <div class="step-text">
        <p>Koristimo formulu za povr≈°inu trougla sa dve stranice i uglom izmeƒëu njih. Podsetimo se da je \(\sin 45¬∞ = \dfrac{\sqrt{2}}{2}\):</p>
        <div class="math-box">
          \[
          S = \frac{1}{2}\,a\,b\,\sin\gamma = \frac{1}{2} \cdot 21 \cdot 9\sqrt{2} \cdot \sin 45¬∞
          \]
        </div>
        <div class="math-box">
          \[
          S = \frac{1}{2} \cdot 21 \cdot 9\sqrt{2} \cdot \frac{\sqrt{2}}{2} = \frac{1}{2} \cdot 21 \cdot 9 \cdot \frac{2}{2}
          \]
        </div>
        <p>Po≈°to je \(9\sqrt{2} \cdot \dfrac{\sqrt{2}}{2} = \dfrac{9 \cdot 2}{2} = 9\), dobijamo:</p>
        <div class="math-box">
          \[
          S = \frac{1}{2} \cdot 21 \cdot 9 = \frac{189}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Raƒçunanje poluobima</div>
      <div class="step-text">
        <p>Poluobim trougla je:</p>
        <div class="math-box">
          \[
          s = \frac{a + b + c}{2} = \frac{21 + 9\sqrt{2} + 15}{2} = \frac{36 + 9\sqrt{2}}{2}
          \]
        </div>
        <p>Izluƒçujemo zajedniƒçki faktor:</p>
        <div class="math-box">
          \[
          s = \frac{9(4 + \sqrt{2})}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Polupreƒçnik upisanog kruga \(r\)</div>
      <div class="step-text">
        <p>Polupreƒçnik upisanog kruga raƒçunamo po formuli \(r = \dfrac{S}{s}\):</p>
        <div class="math-box">
          \[
          r = \frac{S}{s} = \frac{\;\dfrac{189}{2}\;}{\;\dfrac{9(4 + \sqrt{2})}{2}\;} = \frac{189}{9(4 + \sqrt{2})} = \frac{21}{4 + \sqrt{2}}
          \]
        </div>
        <p>Racionalizujemo imenilac mno≈æenjem sa \(\dfrac{4 - \sqrt{2}}{4 - \sqrt{2}}\):</p>
        <div class="math-box">
          \[
          r = \frac{21(4 - \sqrt{2})}{(4 + \sqrt{2})(4 - \sqrt{2})} = \frac{21(4 - \sqrt{2})}{16 - 2} = \frac{21(4 - \sqrt{2})}{14}
          \]
        </div>
        <p>Skraƒáujemo \(\dfrac{21}{14} = \dfrac{3}{2}\):</p>
        <div class="math-box">
          \[
          r = \frac{3(4 - \sqrt{2})}{2} = \frac{12 - 3\sqrt{2}}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Koliko pribli≈æno iznosi \(r\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        \(r = \frac{12 - 3\sqrt{2}}{2} \approx \frac{12 - 4{,}243}{2} \approx \frac{7{,}757}{2} \approx 3{,}88\). Za trougao sa stranicama 21, 12,73 i 15, ovo je razuman polupreƒçnik upisanog kruga.
      </p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Polupreƒçnik opisanog kruga \(R\)</div>
      <div class="step-text">
        <p>Koristimo sinusnu teoremu. Stranica \(c = 15\) le≈æi naspram ugla \(\gamma = 45¬∞\):</p>
        <div class="math-box">
          \[
          2R = \frac{c}{\sin\gamma} = \frac{15}{\sin 45¬∞} = \frac{15}{\;\dfrac{\sqrt{2}}{2}\;} = \frac{15 \cdot 2}{\sqrt{2}} = \frac{30}{\sqrt{2}}
          \]
        </div>
        <p>Racionalizujemo:</p>
        <div class="math-box">
          \[
          2R = \frac{30}{\sqrt{2}} \cdot \frac{\sqrt{2}}{\sqrt{2}} = \frac{30\sqrt{2}}{2} = 15\sqrt{2}
          \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[
          R = \frac{15\sqrt{2}}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Zbir \(r + R\)</div>
      <div class="step-text">
        <p>Saberimo dobijene vrednosti:</p>
        <div class="math-box">
          \[
          r + R = \frac{12 - 3\sqrt{2}}{2} + \frac{15\sqrt{2}}{2}
          \]
        </div>
        <p>Po≈°to imaju isti imenilac, sabiramo brojioce:</p>
        <div class="math-box">
          \[
          r + R = \frac{12 - 3\sqrt{2} + 15\sqrt{2}}{2} = \frac{12 + 12\sqrt{2}}{2}
          \]
        </div>
        <p>Izluƒçujemo zajedniƒçki faktor iz brojioca:</p>
        <div class="math-box">
          \[
          r + R = \frac{12(1 + \sqrt{2})}{2} = 6(1 + \sqrt{2}) = 6(\sqrt{2} + 1)
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Da li se numeriƒçki poklapa?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        \(r \approx 3{,}88\), \(R \approx 10{,}61\), pa \(r + R \approx 14{,}49\).<br>
        \(6(\sqrt{2} + 1) = 6 \cdot 2{,}414 \approx 14{,}49\). Poklapa se!
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljuƒçni uvid</h3>
    <p>Kada se razlomci za \(r\) i \(R\) svedu na zajedniƒçki imenilac, ƒçlanovi sa \(\sqrt{2}\) se ne poni≈°tavaju veƒá se sabiraju na elegantan naƒçin:</p>
    <div class="math-box" style="text-align:center; font-size:1.15rem;">
      \[
      r + R = \frac{12 - 3\sqrt{2} + 15\sqrt{2}}{2} = \frac{12 + 12\sqrt{2}}{2} = 6(\sqrt{2} + 1)
      \]
    </div>
    <p>Ovo je ujedno i dobar primer koliko je racionalizacija imenilaca korisna ‚Äî bez nje bi sabiranje razlomaka bilo znatno komplikovanije.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konaƒçan odgovor</h2>
    <p class="answer-label">Zbir polupreƒçnika upisanog i opisanog kruga je:</p>
    <div class="answer-value">\(\text{(C)}\;\; 6(\sqrt{2} + 1)\)</div>
    <div class="options-row">
      <div class="option-box">(A) \(3(2 - \sqrt{3})\)</div>
      <div class="option-box">(B) \(6(\sqrt{2} - 1)\)</div>
      <div class="option-box correct">(C) \(6(\sqrt{2} + 1)\)</div>
      <div class="option-box">(D) \(6(2 + \sqrt{3})\)</div>
      <div class="option-box">(E) \(6(\sqrt{3} - \sqrt{2})\)</div>
    </div>
    <p class="verification-note">Provera: \(r = \frac{12 - 3\sqrt{2}}{2} \approx 3{,}88\), \(R = \frac{15\sqrt{2}}{2} \approx 10{,}61\). Zbir \(r + R \approx 14{,}49 = 6 \cdot 2{,}414 = 6(\sqrt{2} + 1)\). Rezultat je taƒçan.</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>ƒåeste gre≈°ke</h2>
    <ul class="pitfall-list">
      <li>Zaboraviti da racionalizujete imenilac kod \(r = \frac{21}{4 + \sqrt{2}}\). Bez racionalizacije, sabiranje sa \(R\) postaje nepotrebno komplikovano i lako je pogre≈°iti pri sreƒëivanju.</li>
      <li>Pome≈°ati formule: koristiti \(R = \frac{S}{s}\) umesto \(r = \frac{S}{s}\). Zapamtite: malo \(r\) je za upisani krug (formula sa poluobimom), a veliko \(R\) za opisani krug (sinusna teorema).</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Za isti trougao (\(a = 21\), \(b = 9\sqrt{2}\), \(c = 15\)), izraƒçunajte razliku \(R - r\). Koji od ponuƒëenih odgovora bi to mogao biti?</p>
    <details>
      <summary>Pomoƒá</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Veƒá znamo: \(R = \frac{15\sqrt{2}}{2}\), \(r = \frac{12 - 3\sqrt{2}}{2}\). Dakle \(R - r = \frac{15\sqrt{2} - 12 + 3\sqrt{2}}{2} = \frac{18\sqrt{2} - 12}{2} = 9\sqrt{2} - 6 = 3(3\sqrt{2} - 2)\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Triangle diagram with inscribed and circumscribed circles
  const canvas = document.getElementById('triangleCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Triangle sides
  const a_side = 21;
  const b_side = 9 * Math.SQRT2; // ~12.7279
  const c_side = 15;
  const gammaRad = Math.PI / 4; // 45 degrees

  // Place the triangle: C at origin of our coordinate system (angle gamma is at C)
  // Side a (=21) is opposite vertex A, side b (=9‚àö2) is opposite vertex B, side c (=15) is opposite vertex C
  // gamma is the angle between sides a and b at vertex C
  // Actually, the problem says sides 21 and 9‚àö2 with included angle 45¬∞.
  // Let's label: side1 = 21 = a, side2 = 9‚àö2 = b, included angle gamma = 45¬∞, opposite side c = 15.
  // The included angle gamma is at vertex C, between sides CA (=b=9‚àö2) and CB (=a=21).
  // Wait, let me re-clarify:
  // In standard notation: side a is opposite vertex A, side b opposite B, side c opposite C.
  // The problem: two sides are 21 and 9‚àö2 with included angle 45¬∞. The third side (from cosine rule) is 15.
  // Let's say: The vertex with the 45¬∞ angle, call it C.
  // The two sides emanating from C are: CB = 21 and CA = 9‚àö2 (or vice versa).
  // Then AB = c = 15 (opposite C).
  // This makes: a = BC = 21 is opposite A, b = AC = 9‚àö2 is opposite B, c = AB = 15 is opposite C.

  // Place C at a convenient position, with CB along the horizontal.
  // C is at origin, B along positive x-axis at distance 21.
  // A is at angle 45¬∞ from CB direction, distance 9‚àö2 from C.

  const scale = 16; // pixels per unit
  const cx_offset = W / 2 - 100;
  const cy_offset = H / 2 + 80;

  // Vertices in math coords (y up)
  const Cx = 0, Cy = 0;
  const Bx = 21, By = 0;
  const Ax = 9 * Math.SQRT2 * Math.cos(gammaRad), Ay = 9 * Math.SQRT2 * Math.sin(gammaRad);
  // Ax = 9‚àö2 ¬∑ cos45¬∞ = 9‚àö2 ¬∑ ‚àö2/2 = 9, Ay = 9‚àö2 ¬∑ sin45¬∞ = 9

  // Transform to canvas coords
  function toCanvas(x, y) {
    return {
      x: cx_offset + x * scale,
      y: cy_offset - y * scale
    };
  }

  // Compute incircle (center = incenter, radius = r)
  // Incenter: weighted average by side lengths opposite each vertex
  // I = (a¬∑A + b¬∑B + c¬∑C) / (a + b + c)
  // where a = BC = 21 (opposite A), b = AC = 9‚àö2 (opposite B), c = AB = 15 (opposite C)
  const perimeter = a_side + b_side + c_side;
  const Ix = (a_side * Ax + b_side * Bx + c_side * Cx) / perimeter;
  const Iy = (a_side * Ay + b_side * By + c_side * Cy) / perimeter;
  const r_val = (189 / 2) / ((36 + 9 * Math.SQRT2) / 2); // S/s

  // Compute circumcircle (center = circumcenter, radius = R)
  // Circumcenter: intersection of perpendicular bisectors
  // Using formula: for triangle with vertices (x1,y1), (x2,y2), (x3,y3)
  const R_val = 15 * Math.SQRT2 / 2;

  // Circumcenter via perpendicular bisector intersection
  // Midpoint of AB: M1 = ((Ax+Bx)/2, (Ay+By)/2), direction perpendicular to AB
  // Midpoint of BC: M2 = ((Bx+Cx)/2, (By+Cy)/2), direction perpendicular to BC
  const M1x = (Ax + Bx) / 2, M1y = (Ay + By) / 2;
  const ABx = Bx - Ax, ABy = By - Ay;
  // Perp direction to AB: (-ABy, ABx)

  const M2x = (Bx + Cx) / 2, M2y = (By + Cy) / 2;
  const BCx = Cx - Bx, BCy = Cy - By;
  // Perp direction to BC: (-BCy, BCx)

  // Parametric: P1 = M1 + t*(-ABy, ABx), P2 = M2 + u*(-BCy, BCx)
  // M1x - ABy*t = M2x - BCy*u
  // M1y + ABx*t = M2y + BCx*u
  // Solve for t:
  const det = (-ABy) * BCx - ABx * (-BCy);
  const t_val = ((M2x - M1x) * BCx - (M2y - M1y) * (-BCy)) / det;
  const Ox = M1x + (-ABy) * t_val;
  const Oy = M1y + ABx * t_val;

  function drawTriangleDiagram() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const pA = toCanvas(Ax, Ay);
    const pB = toCanvas(Bx, By);
    const pC = toCanvas(Cx, Cy);
    const pI = toCanvas(Ix, Iy);
    const pO = toCanvas(Ox, Oy);

    // Draw circumscribed circle
    ctx.beginPath();
    ctx.arc(pO.x, pO.y, R_val * scale, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Fill circumscribed circle area (very subtle)
    ctx.beginPath();
    ctx.arc(pO.x, pO.y, R_val * scale, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(96, 165, 250, 0.04)';
    ctx.fill();

    // Draw inscribed circle
    ctx.beginPath();
    ctx.arc(pI.x, pI.y, r_val * scale, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.7)';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Fill inscribed circle area (subtle)
    ctx.beginPath();
    ctx.arc(pI.x, pI.y, r_val * scale, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(167, 139, 250, 0.06)';
    ctx.fill();

    // Draw triangle sides
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pB.x, pB.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.closePath();
    ctx.strokeStyle = '#e2e8f0';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Fill triangle (subtle)
    ctx.fillStyle = 'rgba(226, 232, 240, 0.04)';
    ctx.fill();

    // Draw angle arc at C for 45¬∞
    const angleRadius = 35;
    const startAngle = Math.atan2(-(By - Cy), Bx - Cx); // canvas coords, y inverted
    const endAngle = Math.atan2(-(Ay - Cy), Ax - Cx);
    ctx.beginPath();
    ctx.arc(pC.x, pC.y, angleRadius, startAngle, endAngle, true);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Angle label
    const angleMid = (startAngle + endAngle) / 2;
    // Since startAngle ~ 0 (or -PI) and endAngle ~ -PI/4, need care
    const angLabelR = angleRadius + 16;
    const midAngle = -Math.PI / 8; // midpoint of 0 and -PI/4
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('45\u00B0', pC.x + angLabelR * Math.cos(midAngle), pC.y + angLabelR * Math.sin(midAngle));

    // Draw radii: from incenter to nearest side, from circumcenter to vertex
    // Incircle radius line (perpendicular to base CB)
    ctx.beginPath();
    ctx.moveTo(pI.x, pI.y);
    ctx.lineTo(pI.x, pC.y); // perpendicular down to CB (which is along x-axis)
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.6)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Circumcircle radius line (from center to vertex A)
    ctx.beginPath();
    ctx.moveTo(pO.x, pO.y);
    ctx.lineTo(pA.x, pA.y);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Vertex dots and labels
    const vertices = [
      { p: pA, label: 'A', color: '#60a5fa', ox: -14, oy: -12 },
      { p: pB, label: 'B', color: '#60a5fa', ox: 12, oy: 16 },
      { p: pC, label: 'C', color: '#60a5fa', ox: -16, oy: 16 }
    ];
    vertices.forEach(v => {
      ctx.beginPath();
      ctx.arc(v.p.x, v.p.y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = v.color;
      ctx.fill();
      ctx.fillStyle = v.color;
      ctx.font = 'bold 16px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(v.label, v.p.x + v.ox, v.p.y + v.oy);
    });

    // Center dots
    // Incenter
    ctx.beginPath();
    ctx.arc(pI.x, pI.y, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('I (centar upisanog)', pI.x + 8, pI.y - 10);

    // Circumcenter
    ctx.beginPath();
    ctx.arc(pO.x, pO.y, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#60a5fa';
    ctx.fill();
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('O (centar opisanog)', pO.x + 8, pO.y + 16);

    // Side labels
    ctx.font = 'italic bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    // Side AB (=c=15) - midpoint
    const midABx = (pA.x + pB.x) / 2;
    const midABy = (pA.y + pB.y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('c = 15', midABx + 12, midABy - 14);

    // Side BC (=a=21) - midpoint
    const midBCx = (pB.x + pC.x) / 2;
    const midBCy = (pB.y + pC.y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('a = 21', midBCx, midBCy + 22);

    // Side CA (=b=9‚àö2) - midpoint
    const midCAx = (pC.x + pA.x) / 2;
    const midCAy = (pC.y + pA.y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('b = 9\u221A2', midCAx - 40, midCAy - 4);

    // Radius labels
    ctx.font = 'italic 13px Segoe UI, sans-serif';

    // r label (near the perpendicular from I to CB)
    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'right';
    ctx.fillText('r', pI.x - 8, (pI.y + pC.y) / 2);

    // R label (near the line from O to A)
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'left';
    const midOAx = (pO.x + pA.x) / 2;
    const midOAy = (pO.y + pA.y) / 2;
    ctx.fillText('R', midOAx + 8, midOAy);

    // Legend
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    let lx = 14, ly = 14;

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(lx, ly, 14, 3);
    ctx.fillText('Upisani krug (r \u2248 3,88)', lx + 20, ly - 4);
    ly += 20;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(lx, ly, 14, 3);
    ctx.fillText('Opisani krug (R \u2248 10,61)', lx + 20, ly - 4);
    ly += 20;

    ctx.fillStyle = '#4ade80';
    ctx.fillRect(lx, ly, 14, 3);
    ctx.fillText('Ugao \u03B3 = 45\u00B0', lx + 20, ly - 4);
  }

  drawTriangleDiagram();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir polupreƒçnika upisanog i opisanog kruga trougla",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trougao", "kosinusna teorema", "sinusna teorema", "upisani krug", "opisani krug", "polupreƒçnik"]
}
BRAINSPARK_META-->