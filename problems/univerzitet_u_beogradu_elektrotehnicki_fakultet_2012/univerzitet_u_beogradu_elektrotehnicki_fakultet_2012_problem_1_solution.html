<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vrednost razlomačkog izraza sa stepenima</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem:
( (-0,4)^3 / (-0,8)^3  -  (-0,8)^3 / (-0,4)^3 ) : ( 3/4 - 3 )

Step 1: Simplify (-0,4)^3 / (-0,8)^3
Using the property (a/b)^n = a^n / b^n:
(-0,4)^3 / (-0,8)^3 = (-0,4 / -0,8)^3 = (0,4/0,8)^3 = (1/2)^3 = 1/8

Step 2: Simplify (-0,8)^3 / (-0,4)^3
Similarly: (-0,8 / -0,4)^3 = (0,8/0,4)^3 = 2^3 = 8

Step 3: Compute the numerator (expression in parentheses):
1/8 - 8 = 1/8 - 64/8 = -63/8

Step 4: Compute the divisor:
3/4 - 3 = 3/4 - 12/4 = -9/4

Step 5: Compute the final division:
(-63/8) : (-9/4) = (-63/8) * (-4/9) = (63 * 4) / (8 * 9) = 252 / 72

Simplify 252/72:
252 / 72 = 63 / 18 = 7 / 2

Answer: 7/2, which is option (A).

Verification:
- 7/2 = 3,5
- Let me double-check: (-63/8) * (-4/9) = (63*4)/(8*9) = 252/72
- GCD(252, 72) = 36. 252/36 = 7, 72/36 = 2. So 7/2. Confirmed.
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 14px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #60a5fa;
  font-size: 1.15rem;
  font-weight: 700;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.06);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.12);
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B8 ';
  display: inline;
}

details[open] summary::before {
  content: '\25BE ';
}

details .details-content {
  padding: 14px 18px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.08);
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  cursor: pointer;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.2s;
}

.step-container:hover {
  background: rgba(96,165,250,0.04);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(52,211,153,0.06);
  border-left-color: #4ade80;
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  color: #0f172a;
  margin-top: 2px;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
  min-width: 0;
}

.step-content h3 {
  margin-bottom: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.insight-box h2 { color: #a78bfa; }

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-value {
  font-size: 2.4rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-chip {
  background: rgba(96,165,250,0.08);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 22px;
  font-size: 1.05rem;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-chip.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 { color: #e09468; }

.challenge-box {
  border-left: 4px solid #a78bfa;
}

.challenge-box h2 { color: #a78bfa; }

.canvas-wrapper {
  background: #0c1222;
  border-radius: 12px;
  border: 1px solid #334155;
  overflow: hidden;
  margin: 14px 0;
}

canvas {
  width: 100%;
  display: block;
  touch-action: none;
}

.provera-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  border: 1px solid rgba(52,211,153,0.12);
}

.formula-list {
  list-style: none;
  padding: 0;
}

.formula-list li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.formula-list li:last-child { border-bottom: none; }

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 6px;
  font-style: italic;
}

.step-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 6px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
  .options-grid { flex-direction: column; align-items: center; }
  .final-answer-box .answer-value { font-size: 1.8rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Vrednost razlomačkog izraza sa stepenima</h1>
  <p class="subtitle">Računanje sa negativnim decimalnim brojevima, razlomcima i stepenima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Vrednost izraza:</p>
    <div class="math-box" style="text-align: center;">
      \[
      \left(\frac{(-0{,}4)^3}{(-0{,}8)^3} - \frac{(-0{,}8)^3}{(-0{,}4)^3}\right) : \left(\frac{3}{4} - 3\right)
      \]
    </div>
    <p>jednaka je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{7}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{63}{8}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{4}{9}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{5}{9}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{7}{9}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Iskoristićemo osobinu stepena \(\left(\frac{a}{b}\right)^n = \frac{a^n}{b^n}\) da pojednostavimo razlomke kubova. Zatim ćemo izračunati razliku u zagradi, vrednost delitelja, i na kraju izvršiti deljenje dva razlomka.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul class="formula-list">
          <li><strong>Količnik stepena istog eksponenta:</strong> \(\dfrac{a^n}{b^n} = \left(\dfrac{a}{b}\right)^n\) — razlomak stepena jednakoga je stepenu razlomka</li>
          <li><strong>Neparni stepen negativnog broja:</strong> \((-a)^{2k+1} = -a^{2k+1}\) — negativan predznak se čuva pri neparnom stepenivanju</li>
          <li><strong>Razlomak negativnih brojeva:</strong> \(\dfrac{-a}{-b} = \dfrac{a}{b}\) — negativni predznaci se skraćuju</li>
          <li><strong>Deljenje razlomaka:</strong> \(\dfrac{a}{b} : \dfrac{c}{d} = \dfrac{a}{b} \cdot \dfrac{d}{c}\) — deljenje se svodi na množenje recipročnom vrednošću</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz strukture izraza</h2>
    <p style="color: #94a3b8; margin-bottom: 8px;">Dijagram prikazuje razlaganje složenog izraza na delove i tok izračunavanja.</p>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="900" height="480"></canvas>
    </div>
    <p class="drag-hint">Dijagram prikazuje tok pojednostavljivanja izraza korak po korak</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Pojednostavimo prvi razlomak</h3>
        <p>Primenimo osobinu \(\frac{a^n}{b^n} = \left(\frac{a}{b}\right)^n\) na prvi sabirak:</p>
        <div class="math-box">
          \[
          \frac{(-0{,}4)^3}{(-0{,}8)^3} = \left(\frac{-0{,}4}{-0{,}8}\right)^3
          \]
        </div>
        <p>Negativni predznaci se skrate:</p>
        <div class="math-box">
          \[
          \left(\frac{0{,}4}{0{,}8}\right)^3 = \left(\frac{1}{2}\right)^3 = \frac{1}{8}
          \]
        </div>
        <p class="step-note">Ključ je prepoznati da je \(0{,}4 / 0{,}8 = 1/2\), jer je \(0{,}4\) tačno polovina od \(0{,}8\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Pojednostavimo drugi razlomak</h3>
        <p>Na isti način, za drugi sabirak:</p>
        <div class="math-box">
          \[
          \frac{(-0{,}8)^3}{(-0{,}4)^3} = \left(\frac{-0{,}8}{-0{,}4}\right)^3 = \left(\frac{0{,}8}{0{,}4}\right)^3 = 2^3 = 8
          \]
        </div>
        <p class="step-note">Obratite pažnju: drugi razlomak je <span class="highlight">recipročna vrednost</span> prvog, pa ako je prvi \(\frac{1}{8}\), drugi mora biti \(8\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Koliko je \(\left(\frac{1}{2}\right)^3\)?</summary>
      <div class="details-content">
        <p>\(\left(\frac{1}{2}\right)^3 = \frac{1^3}{2^3} = \frac{1}{8}\). Tačno!</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izračunajmo razliku u zagradi</h3>
        <p>Sada oduzimamo drugi sabirak od prvog. Svedimo na zajednički imenilac \(8\):</p>
        <div class="math-box">
          \[
          \frac{1}{8} - 8 = \frac{1}{8} - \frac{64}{8} = \frac{1 - 64}{8} = -\frac{63}{8}
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Izračunajmo delilac</h3>
        <p>Svedimo razliku \(\frac{3}{4} - 3\) na zajednički imenilac \(4\):</p>
        <div class="math-box">
          \[
          \frac{3}{4} - 3 = \frac{3}{4} - \frac{12}{4} = \frac{3 - 12}{4} = -\frac{9}{4}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Koji su predznaci brojilac i delilac?</summary>
      <div class="details-content">
        <p>Brojilac (izraz u zagradi) = \(-\frac{63}{8}\) — negativan.</p>
        <p>Delilac = \(-\frac{9}{4}\) — negativan.</p>
        <p>Količnik dva negativna broja je <strong>pozitivan</strong>, pa očekujemo pozitivan rezultat.</p>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izvršimo deljenje</h3>
        <p>Deljenje razlomaka pretvaramo u množenje recipročnom vrednošću:</p>
        <div class="math-box">
          \[
          \left(-\frac{63}{8}\right) : \left(-\frac{9}{4}\right) = \left(-\frac{63}{8}\right) \cdot \left(-\frac{4}{9}\right)
          \]
        </div>
        <p>Minus puta minus je plus:</p>
        <div class="math-box">
          \[
          = \frac{63 \cdot 4}{8 \cdot 9} = \frac{252}{72}
          \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Skratimo razlomak</h3>
        <p>Razložimo brojilac i imenilac na proste činioce da skratimo:</p>
        <div class="math-box">
          \[
          \frac{252}{72} = \frac{63 \cdot 4}{8 \cdot 9}
          \]
        </div>
        <p>Skratimo \(4\) sa \(8\) (ostaje \(2\) u imeniocu), i \(63\) sa \(9\) (jer je \(63 = 7 \cdot 9\)):</p>
        <div class="math-box">
          \[
          \frac{63 \cdot 4}{8 \cdot 9} = \frac{\cancel{9} \cdot 7 \cdot \cancel{4}}{\cancel{4} \cdot 2 \cdot \cancel{9}} = \frac{7}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Koliko je \(252 \div 72\) decimalno?</summary>
      <div class="details-content">
        <p>\(252 \div 72 = 3{,}5 = \frac{7}{2}\). Potvrđeno!</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Prepoznavanje da je \(\frac{-0{,}4}{-0{,}8} = \frac{1}{2}\) odmah transformiše složen izraz sa decimalnim brojevima u jednostavan račun sa razlomcima. Negativni predznaci u kubovima se u potpunosti skrate jer se svaki javlja i u brojiocu i u imeniocu.</p>
    <div class="math-box" style="text-align: center; font-size: 1.15rem;">
      \[
      \frac{1}{8} - 8 = -\frac{63}{8} \quad\text{i}\quad \frac{3}{4} - 3 = -\frac{9}{4} \quad\Rightarrow\quad -\frac{63}{8} : \left(-\frac{9}{4}\right) = \frac{7}{2}
      \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2 style="color: #34d399; margin-bottom: 10px;">Konačan odgovor</h2>
    <div class="options-grid">
      <div class="option-chip correct">(A) \(\dfrac{7}{2}\)</div>
      <div class="option-chip">(B) \(\dfrac{63}{8}\)</div>
      <div class="option-chip">(C) \(\dfrac{4}{9}\)</div>
      <div class="option-chip">(D) \(\dfrac{5}{9}\)</div>
      <div class="option-chip">(E) \(\dfrac{7}{9}\)</div>
    </div>
    <div class="answer-value">Odgovor je (A) \(\dfrac{7}{2}\)</div>
    <p style="color: #94a3b8; margin-top: 8px;">Vrednost datog izraza jednaka je \(\dfrac{7}{2} = 3{,}5\).</p>
    <div class="provera-note">
      <strong>Provera:</strong> Rezultat je pozitivan jer delimo dva negativna broja. Numerički: \(-\frac{63}{8} \approx -7{,}875\) i \(-\frac{9}{4} = -2{,}25\). Kada podelimo: \(-7{,}875 \div (-2{,}25) = 3{,}5 = \frac{7}{2}\). Rezultat se poklapa sa opcijom (A).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Česte greške</h2>
    <ul style="list-style: disc; padding-left: 20px; color: #e2e8f0;">
      <li style="margin-bottom: 10px;"><strong>Zaboraviti na delilac:</strong>
        Ako se izračuna samo razlika \(\frac{1}{8} - 8 = -\frac{63}{8}\) a preskoči deljenje sa \(-\frac{9}{4}\), dobija se \(\frac{63}{8}\) (opcija B). Ovo je najčešća zamka u zadatku!</li>
      <li style="margin-bottom: 10px;"><strong>Pogrešan predznak:</strong>
        Negativni kubovi mogu zbuniti. Ključno je zapamtiti da \((-a)^3 / (-b)^3 = (a/b)^3\) jer se oba negativna predznaka skrate. Neko ko ne skrati predznake može dobiti pogrešan rezultat.</li>
      <li><strong>Greška pri deljenju razlomaka:</strong>
        Umesto da pomnoži recipročnom vrednošću, učenik može greškom pomnožiti oba razlomka direktno, što daje potpuno pogrešan rezultat.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Bonus izazov</h2>
    <p>Šta bi se desilo ako bi umesto kubova imali kvadrate u izrazu? Izračunajte:</p>
    <div class="math-box" style="text-align: center;">
      \[
      \left(\frac{(-0{,}4)^2}{(-0{,}8)^2} - \frac{(-0{,}8)^2}{(-0{,}4)^2}\right) : \left(\frac{3}{4} - 3\right)
      \]
    </div>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="details-content">
        <p>Sa kvadratima: \(\frac{(-0{,}4)^2}{(-0{,}8)^2} = \left(\frac{1}{2}\right)^2 = \frac{1}{4}\) i \(\frac{(-0{,}8)^2}{(-0{,}4)^2} = 4\).</p>
        <p>Razlika: \(\frac{1}{4} - 4 = -\frac{15}{4}\). Delilac: \(-\frac{9}{4}\). Količnik: \(\frac{15}{4} \cdot \frac{4}{9} = \frac{15}{9} = \frac{5}{3}\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 480 * dpr;
    canvas.style.height = '480px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    const W = rect.width;
    const H = 480;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const centerX = W / 2;

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok pojednostavljivanja izraza', centerX, 30);

    // --- Row 1: Original expression ---
    drawBox(ctx, centerX - 200, 50, 400, 44, '#334155', '#1e293b',
      '(-0,4)\u00B3/(-0,8)\u00B3 \u2212 (-0,8)\u00B3/(-0,4)\u00B3) : (3/4 \u2212 3)', '#e2e8f0', 13);

    // Arrow down
    drawArrow(ctx, centerX - 80, 94, centerX - 80, 118, '#60a5fa');
    drawArrow(ctx, centerX + 80, 94, centerX + 80, 118, '#60a5fa');

    // --- Row 2: Split into two parts ---
    // Left: numerator part
    drawBox(ctx, centerX - 240, 120, 200, 40, 'rgba(96,165,250,0.25)', 'rgba(96,165,250,0.06)',
      '(1/2)\u00B3 \u2212 2\u00B3', '#60a5fa', 14);
    // Right: divisor
    drawBox(ctx, centerX + 40, 120, 200, 40, 'rgba(167,139,250,0.25)', 'rgba(167,139,250,0.06)',
      '3/4 \u2212 3', '#a78bfa', 14);

    // Labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('izraz u zagradi', centerX - 140, 175);
    ctx.fillText('delilac', centerX + 140, 175);

    // Arrows down
    drawArrow(ctx, centerX - 140, 160, centerX - 140, 192, '#60a5fa');
    drawArrow(ctx, centerX + 140, 160, centerX + 140, 192, '#a78bfa');

    // --- Row 3: Computed values ---
    drawBox(ctx, centerX - 240, 194, 200, 40, 'rgba(96,165,250,0.25)', 'rgba(96,165,250,0.06)',
      '1/8 \u2212 8', '#60a5fa', 15);
    drawBox(ctx, centerX + 40, 194, 200, 40, 'rgba(167,139,250,0.25)', 'rgba(167,139,250,0.06)',
      '3/4 \u2212 12/4', '#a78bfa', 15);

    // Arrows down
    drawArrow(ctx, centerX - 140, 234, centerX - 140, 260, '#60a5fa');
    drawArrow(ctx, centerX + 140, 234, centerX + 140, 260, '#a78bfa');

    // --- Row 4: Results ---
    drawBox(ctx, centerX - 210, 262, 140, 44, 'rgba(96,165,250,0.3)', 'rgba(96,165,250,0.08)',
      '\u221263/8', '#60a5fa', 18);
    drawBox(ctx, centerX + 70, 262, 140, 44, 'rgba(167,139,250,0.3)', 'rgba(167,139,250,0.08)',
      '\u22129/4', '#a78bfa', 18);

    // Arrows converging down
    drawArrow(ctx, centerX - 140, 306, centerX - 40, 340, '#60a5fa');
    drawArrow(ctx, centerX + 140, 306, centerX + 40, 340, '#a78bfa');

    // Division label
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('deljenje', centerX, 330);

    // --- Row 5: Division step ---
    drawBox(ctx, centerX - 160, 342, 320, 44, 'rgba(244,114,182,0.25)', 'rgba(244,114,182,0.06)',
      '(\u221263/8) \u00D7 (\u22124/9)', '#f472b6', 15);

    // Arrow down
    drawArrow(ctx, centerX, 386, centerX, 410, '#4ade80');

    // --- Row 6: Final result ---
    drawBox(ctx, centerX - 100, 412, 200, 50, 'rgba(52,211,153,0.35)', 'rgba(52,211,153,0.1)',
      '7/2 = 3,5', '#4ade80', 22);

    // Glow effect on final answer
    const gradient = ctx.createRadialGradient(centerX, 437, 10, centerX, 437, 80);
    gradient.addColorStop(0, 'rgba(52,211,153,0.15)');
    gradient.addColorStop(1, 'rgba(52,211,153,0)');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(centerX, 437, 80, 0, Math.PI * 2);
    ctx.fill();
  }

  function drawBox(ctx, x, y, w, h, borderColor, bgColor, text, textColor, fontSize) {
    ctx.fillStyle = bgColor;
    ctx.beginPath();
    ctx.roundRect(x, y, w, h, 10);
    ctx.fill();
    ctx.strokeStyle = borderColor;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.roundRect(x, y, w, h, 10);
    ctx.stroke();

    ctx.fillStyle = textColor;
    ctx.font = 'bold ' + fontSize + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, x + w / 2, y + h / 2);
    ctx.textBaseline = 'alphabetic';
  }

  function drawArrow(ctx, x1, y1, x2, y2, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    // Arrowhead
    const angle = Math.atan2(y2 - y1, x2 - x1);
    const headLen = 8;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - Math.PI / 6), y2 - headLen * Math.sin(angle - Math.PI / 6));
    ctx.lineTo(x2 - headLen * Math.cos(angle + Math.PI / 6), y2 - headLen * Math.sin(angle + Math.PI / 6));
    ctx.closePath();
    ctx.fill();
  }

  // Step click highlighting
  document.querySelectorAll('.step-container').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Vrednost razlomačkog izraza sa stepenima decimalnih brojeva",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["razlomci", "stepenovanje", "negativni decimalni brojevi", "deljenje razlomaka", "aritmetika"]
}
BRAINSPARK_META-->