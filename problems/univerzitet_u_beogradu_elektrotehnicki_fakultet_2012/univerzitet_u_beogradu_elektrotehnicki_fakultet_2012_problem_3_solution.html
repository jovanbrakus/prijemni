<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompozicija funkcija f(g(x))</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Given f(x) = x¬≥ ‚àí 3x and g(x) = sin(œÄ/12 ¬∑ x), find f(g(2)).

SOLUTION:

Step 1: Compute g(2).
  g(2) = sin(œÄ/12 ¬∑ 2) = sin(2œÄ/12) = sin(œÄ/6)
  sin(œÄ/6) = 1/2
  So g(2) = 1/2.

Step 2: Compute f(g(2)) = f(1/2).
  f(1/2) = (1/2)¬≥ ‚àí 3¬∑(1/2)
         = 1/8 ‚àí 3/2
         = 1/8 ‚àí 12/8
         = ‚àí11/8

Step 3: Check answer options.
  (A) 0       ‚Äî NO
  (B) ‚àí11/2   ‚Äî NO
  (C) 11/2    ‚Äî NO
  (D) ‚àí11/8   ‚Äî YES ‚úì
  (E) 11/8    ‚Äî NO

Answer: (D) ‚àí11/8

Verification:
  (1/2)¬≥ = 1/8 = 0,125
  3¬∑(1/2) = 3/2 = 1,5
  0,125 ‚àí 1,5 = ‚àí1,375 = ‚àí11/8 ‚úì

Also: ‚àí11/8 = ‚àí1,375 which is between ‚àí2 and ‚àí1, makes sense since
we are evaluating a cubic at x=0,5 which is in the interval where
x¬≥ grows slowly but 3x dominates.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

.func-label {
  display: inline-block;
  background: rgba(96,165,250,0.12);
  border: 1px solid rgba(96,165,250,0.2);
  border-radius: 6px;
  padding: 2px 8px;
  margin: 2px 0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Kompozicija funkcija</h1>
  <p class="subtitle">Izraƒçunavanje vrednosti kompozicije polinomske i trigonometrijske funkcije</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Ako je <span class="func-label">\(f(x) = x^3 - 3x\)</span> i <span class="func-label">\(g(x) = \sin\!\left(\dfrac{\pi}{12}\cdot x\right)\)</span>, tada je \(f(g(2))\) jednako:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(-\dfrac{11}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{11}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-\dfrac{11}{8}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{11}{8}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Raƒçunamo "iznutra ka spolja": najpre izraƒçunamo \(g(2)\), a zatim tu vrednost uvrstimo u funkciju \(f\). Za \(g(2)\) treba poznata vrednost sinusa za ugao \(\frac{\pi}{6}\), a za \(f\) treba pa≈æljivo izraƒçunati kubirani razlomak.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Kompozicija funkcija:</strong> \( (f \circ g)(x) = f(g(x)) \) ‚Äî najpre primenimo unutra≈°nju funkciju \(g\), pa rezultat uvrstimo u \(f\).</li>
          <li><strong>Poznata vrednost sinusa:</strong> \(\sin\!\left(\dfrac{\pi}{6}\right) = \dfrac{1}{2}\), jer je \(\frac{\pi}{6} = 30¬∞\).</li>
          <li><strong>Stepenovanje razlomka:</strong> \(\left(\dfrac{a}{b}\right)^3 = \dfrac{a^3}{b^3}\), posebno \(\left(\dfrac{1}{2}\right)^3 = \dfrac{1}{8}\).</li>
          <li><strong>Sabiranje razlomaka:</strong> \(\dfrac{a}{m} + \dfrac{b}{n} = \dfrac{a \cdot n + b \cdot m}{m \cdot n}\), svesti na zajedniƒçki imenilac.</li>
        </ul>
        <canvas id="unit-circle-theory" width="400" height="300"></canvas>
        <p style="color:#64748b; font-size:0.85rem; margin-top:6px;">Jediniƒçni krug sa oznaƒçenim uglom \(\pi/6\) i vredno≈°ƒáu \(\sin(\pi/6) = 1/2\)</p>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Grafiƒçki prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Grafik funkcije \(f(x) = x^3 - 3x\) sa oznaƒçenom taƒçkom \(x = \frac{1}{2}\). Pomerate klizaƒç da vidite kako se \(f\) menja.</p>
    <canvas id="diagram" width="700" height="500"></canvas>
    <div style="margin-top:14px;">
      <label for="xSlider" style="color:#94a3b8; font-size:0.9rem;">Vrednost \(x\): </label>
      <input type="range" id="xSlider" min="-250" max="250" value="50" style="width:260px; vertical-align:middle;">
      <span id="xValueDisplay" style="color:#60a5fa; font-weight:600; margin-left:8px;">0,5</span>
    </div>
    <p class="drag-hint">Pomerate klizaƒç da istra≈æite vrednosti funkcije \(f(x) = x^3 - 3x\)</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Razumevanje kompozicije \(f(g(2))\)</div>
      <div class="step-text">
        <p>Kada imamo kompoziciju \(f(g(2))\), to znaƒçi:</p>
        <ol style="padding-left:20px; margin:8px 0;">
          <li>Najpre izraƒçunamo <strong>unutra≈°nju</strong> funkciju: \(g(2)\)</li>
          <li>Zatim rezultat uvrstimo u <strong>spolja≈°nju</strong> funkciju: \(f(\text{rezultat})\)</li>
        </ol>
        <p>Dakle, radimo "iznutra ka spolja".</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Izraƒçunavanje \(g(2)\)</div>
      <div class="step-text">
        <p>Funkcija \(g\) je definisana kao \(g(x) = \sin\!\left(\dfrac{\pi}{12}\cdot x\right)\). Uvrstimo \(x = 2\):</p>
        <div class="math-box">
          \[ g(2) = \sin\!\left(\frac{\pi}{12} \cdot 2\right) = \sin\!\left(\frac{2\pi}{12}\right) = \sin\!\left(\frac{\pi}{6}\right) \]
        </div>
        <p>Ugao \(\frac{\pi}{6}\) radijana odgovara uglu od \(30¬∞\). To je jedan od <span class="highlight">tabelarnih uglova</span> ƒçije vrednosti trigonometrijskih funkcija moramo znati napamet:</p>
        <div class="math-box">
          \[ \sin\!\left(\frac{\pi}{6}\right) = \frac{1}{2} \]
        </div>
        <p>Dakle: \(\boxed{g(2) = \dfrac{1}{2}}\)</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Koliko je \(\sin(\pi/4)\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">\(\sin(\pi/4) = \sin(45¬∞) = \dfrac{\sqrt{2}}{2} \approx 0{,}707\). To je drugaƒçije od \(\sin(\pi/6) = \frac{1}{2}\). Ne me≈°ajte tabelarne vrednosti!</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Uvrstiti \(g(2) = \frac{1}{2}\) u funkciju \(f\)</div>
      <div class="step-text">
        <p>Sada treba da izraƒçunamo \(f\!\left(\frac{1}{2}\right)\), gde je \(f(x) = x^3 - 3x\):</p>
        <div class="math-box">
          \[ f\!\left(\frac{1}{2}\right) = \left(\frac{1}{2}\right)^{\!3} - 3 \cdot \frac{1}{2} \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Izraƒçunavanje \(\left(\frac{1}{2}\right)^3\)</div>
      <div class="step-text">
        <p>Stepenujemo razlomak ‚Äî stepenujemo i brojilac i imenilac:</p>
        <div class="math-box">
          \[ \left(\frac{1}{2}\right)^{\!3} = \frac{1^3}{2^3} = \frac{1}{8} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Izraƒçunavanje \(3 \cdot \frac{1}{2}\)</div>
      <div class="step-text">
        <p>Drugi sabirak je jednostavan:</p>
        <div class="math-box">
          \[ 3 \cdot \frac{1}{2} = \frac{3}{2} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Koliki je zajedniƒçki imenilac za \(\frac{1}{8}\) i \(\frac{3}{2}\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">Zajedniƒçki imenilac je \(8\), jer je \(8 = \text{NZS}(8, 2)\). Dakle, \(\frac{3}{2} = \frac{12}{8}\).</p>
    </details>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Oduzimanje razlomaka</div>
      <div class="step-text">
        <p>Sada oduzimamo. Svodimo na zajedniƒçki imenilac \(8\):</p>
        <div class="math-box">
          \[ f\!\left(\frac{1}{2}\right) = \frac{1}{8} - \frac{3}{2} = \frac{1}{8} - \frac{12}{8} = \frac{1 - 12}{8} = -\frac{11}{8} \]
        </div>
        <p>Dakle: \(\boxed{f(g(2)) = -\dfrac{11}{8}}\)</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üß† Proveri se: Da li je rezultat negativan i za≈°to?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">Da! Za \(x = \frac{1}{2}\), ƒçlan \(x^3 = \frac{1}{8}\) je mali pozitivan broj, dok je \(3x = \frac{3}{2}\) mnogo veƒái. Kada od malog broja oduzmemo veliki, dobijamo negativan rezultat. Geometrijski, za \(x \in (0, \sqrt{3})\) linearna komponenta \(-3x\) dominira nad kubnom \(x^3\).</p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljuƒçni uvid</h3>
    <p>Ovaj zadatak je, u su≈°tini, ve≈æba iz <strong>pa≈æljivog raƒçunanja sa razlomcima</strong> u kombinaciji sa poznavanjem <strong>tabelarnih vrednosti trigonometrijskih funkcija</strong>. Kljuƒç je prepoznati da argument sinusa daje tabelarni ugao:</p>
    <div class="math-box" style="text-align:center; font-size:1.15rem;">
      \[ \frac{\pi}{12} \cdot 2 = \frac{\pi}{6} = 30¬∞ \quad\longrightarrow\quad \sin(30¬∞) = \frac{1}{2} \]
    </div>
    <p>Ostatak je ƒçista aritmetika sa razlomcima. Mnoge gre≈°ke nastaju kod stepenovanja \(\left(\frac{1}{2}\right)^3\) ili kod svoƒëenja na zajedniƒçki imenilac.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konaƒçan odgovor</h2>
    <p class="answer-label">Vrednost \(f(g(2))\) je:</p>
    <div class="answer-value">\(\displaystyle (D)\;\; -\frac{11}{8}\)</div>
    <div class="options-row">
      <div class="option-box">(A) \(0\)</div>
      <div class="option-box">(B) \(-\frac{11}{2}\)</div>
      <div class="option-box">(C) \(\frac{11}{2}\)</div>
      <div class="option-box correct">(D) \(-\frac{11}{8}\)</div>
      <div class="option-box">(E) \(\frac{11}{8}\)</div>
    </div>
    <p class="verification-note">Provera: \(g(2) = \sin(\pi/6) = 0{,}5\). Zatim \(f(0{,}5) = 0{,}125 - 1{,}5 = -1{,}375 = -\frac{11}{8}\). Rezultat se poklapa sa opcijom (D).</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>ƒåeste gre≈°ke</h2>
    <ul class="pitfall-list">
      <li>Pogre≈°no pojednostavljivanje argumenta sinusa: \(\frac{\pi}{12} \cdot 2 = \frac{\pi}{6}\), a ne \(\frac{\pi}{12}\) ili \(\frac{\pi}{24}\). Treba pa≈æljivo skratiti razlomak.</li>
      <li>Zaboravljanje da se stepenuje ceo razlomak: \(\left(\frac{1}{2}\right)^3 = \frac{1}{8}\), a ne \(\frac{1}{2}\). ƒåesta gre≈°ka je pisanje \(\frac{1}{2^3}\) samo u imeniocu.</li>
      <li>Gre≈°ka u znaku: \(\frac{1}{8} - \frac{12}{8} = -\frac{11}{8}\), ne \(+\frac{11}{8}\). Uvek proverite da li oduzimate ispravno.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Koliko je \(f(g(3))\) za iste funkcije \(f(x) = x^3 - 3x\) i \(g(x) = \sin\!\left(\frac{\pi}{12}\cdot x\right)\)?</p>
    <details>
      <summary>Pomoƒá</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Izraƒçunajte \(g(3) = \sin\!\left(\frac{3\pi}{12}\right) = \sin\!\left(\frac{\pi}{4}\right) = \frac{\sqrt{2}}{2}\). Zatim uvrstite u \(f\): \(f\!\left(\frac{\sqrt{2}}{2}\right) = \left(\frac{\sqrt{2}}{2}\right)^3 - 3\cdot\frac{\sqrt{2}}{2}\). Poku≈°ajte da pojednostavite!
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // ==========================================
  // Theory canvas: Unit circle with pi/6 angle
  // ==========================================
  const ucCanvas = document.getElementById('unit-circle-theory');
  if (ucCanvas) {
    const uctx = ucCanvas.getContext('2d');
    const ucW = ucCanvas.width;
    const ucH = ucCanvas.height;
    const ucCx = 160;
    const ucCy = 160;
    const ucR = 120;

    // Background
    uctx.fillStyle = '#0c1222';
    uctx.fillRect(0, 0, ucW, ucH);

    // Grid
    uctx.strokeStyle = '#1a2438';
    uctx.lineWidth = 1;
    for (let i = 0; i <= ucW; i += 30) {
      uctx.beginPath(); uctx.moveTo(i, 0); uctx.lineTo(i, ucH); uctx.stroke();
    }
    for (let i = 0; i <= ucH; i += 30) {
      uctx.beginPath(); uctx.moveTo(0, i); uctx.lineTo(ucW, i); uctx.stroke();
    }

    // Axes
    uctx.strokeStyle = '#475569';
    uctx.lineWidth = 1.5;
    uctx.beginPath(); uctx.moveTo(0, ucCy); uctx.lineTo(ucW, ucCy); uctx.stroke();
    uctx.beginPath(); uctx.moveTo(ucCx, 0); uctx.lineTo(ucCx, ucH); uctx.stroke();

    // Unit circle
    uctx.strokeStyle = '#60a5fa';
    uctx.lineWidth = 2;
    uctx.beginPath();
    uctx.arc(ucCx, ucCy, ucR, 0, 2 * Math.PI);
    uctx.stroke();

    // Angle arc for pi/6
    const angle = Math.PI / 6;
    uctx.strokeStyle = '#a78bfa';
    uctx.lineWidth = 2;
    uctx.beginPath();
    uctx.arc(ucCx, ucCy, 35, 0, -angle, true);
    uctx.stroke();

    // Angle label
    uctx.fillStyle = '#a78bfa';
    uctx.font = '13px Segoe UI, sans-serif';
    uctx.textAlign = 'left';
    uctx.fillText('\u03C0/6', ucCx + 40, ucCy - 10);

    // Radius line to point
    const px = ucCx + ucR * Math.cos(angle);
    const py = ucCy - ucR * Math.sin(angle);
    uctx.strokeStyle = '#e2e8f0';
    uctx.lineWidth = 1.5;
    uctx.beginPath();
    uctx.moveTo(ucCx, ucCy);
    uctx.lineTo(px, py);
    uctx.stroke();

    // Vertical dashed line (sin component)
    uctx.strokeStyle = '#4ade80';
    uctx.lineWidth = 2;
    uctx.setLineDash([5, 4]);
    uctx.beginPath();
    uctx.moveTo(px, py);
    uctx.lineTo(px, ucCy);
    uctx.stroke();
    uctx.setLineDash([]);

    // Horizontal dashed line (cos component)
    uctx.strokeStyle = '#60a5fa';
    uctx.lineWidth = 1.5;
    uctx.setLineDash([5, 4]);
    uctx.beginPath();
    uctx.moveTo(ucCx, ucCy);
    uctx.lineTo(px, ucCy);
    uctx.stroke();
    uctx.setLineDash([]);

    // Point on circle
    uctx.beginPath();
    uctx.arc(px, py, 5, 0, 2 * Math.PI);
    uctx.fillStyle = '#4ade80';
    uctx.fill();

    // Labels
    uctx.fillStyle = '#4ade80';
    uctx.font = 'bold 13px Segoe UI, sans-serif';
    uctx.textAlign = 'left';
    uctx.fillText('sin(\u03C0/6) = 1/2', px + 10, py - 4);

    uctx.fillStyle = '#60a5fa';
    uctx.font = '12px Segoe UI, sans-serif';
    uctx.textAlign = 'center';
    uctx.fillText('cos(\u03C0/6) = \u221A3/2', (ucCx + px) / 2, ucCy + 18);

    // Right angle marker
    const markerSize = 8;
    uctx.strokeStyle = '#4ade80';
    uctx.lineWidth = 1.5;
    uctx.beginPath();
    uctx.moveTo(px - markerSize, ucCy);
    uctx.lineTo(px - markerSize, ucCy - markerSize);
    uctx.lineTo(px, ucCy - markerSize);
    uctx.stroke();

    // Table of common values on the right
    uctx.fillStyle = '#94a3b8';
    uctx.font = '12px Segoe UI, sans-serif';
    uctx.textAlign = 'left';
    const tableX = 300;
    let tableY = 30;
    uctx.fillStyle = '#60a5fa';
    uctx.font = 'bold 13px Segoe UI, sans-serif';
    uctx.fillText('Tabelarne vrednosti:', tableX, tableY);
    tableY += 28;

    const tableData = [
      ['\u03C0/6 = 30\u00B0', 'sin = 1/2'],
      ['\u03C0/4 = 45\u00B0', 'sin = \u221A2/2'],
      ['\u03C0/3 = 60\u00B0', 'sin = \u221A3/2'],
      ['\u03C0/2 = 90\u00B0', 'sin = 1'],
    ];

    uctx.font = '12px Segoe UI, sans-serif';
    tableData.forEach((row, i) => {
      uctx.fillStyle = i === 0 ? '#4ade80' : '#94a3b8';
      uctx.fillText(row[0], tableX, tableY);
      uctx.fillText(row[1], tableX + 5, tableY + 16);
      tableY += 42;
    });

    // Highlight marker for pi/6 row
    uctx.strokeStyle = '#4ade80';
    uctx.lineWidth = 1;
    uctx.setLineDash([3, 2]);
    uctx.strokeRect(tableX - 5, 48, 100, 36);
    uctx.setLineDash([]);
  }

  // ==========================================
  // Main canvas: Graph of f(x) = x^3 - 3x with interactive slider
  // ==========================================
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const originX = W / 2;
  const originY = H / 2;
  const scaleX = 80;
  const scaleY = 55;

  function toCanvas(mx, my) {
    return [originX + mx * scaleX, originY - my * scaleY];
  }

  function f(x) {
    return x * x * x - 3 * x;
  }

  let currentX = 0.5;

  function drawGraph() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1a2438';
    ctx.lineWidth = 1;
    for (let i = -4; i <= 4; i++) {
      const [gx] = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(gx, 0);
      ctx.lineTo(gx, H);
      ctx.stroke();
    }
    for (let i = -4; i <= 4; i++) {
      const [, gy] = toCanvas(0, i);
      ctx.beginPath();
      ctx.moveTo(0, gy);
      ctx.lineTo(W, gy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', W - 20, originY - 8);
    ctx.textAlign = 'center';
    ctx.fillText('y', originX + 16, 18);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    for (let i = -3; i <= 3; i++) {
      if (i === 0) continue;
      const [tx, ty] = toCanvas(i, 0);
      ctx.fillText(String(i), tx, ty + 16);
    }
    ctx.textAlign = 'right';
    for (let i = -3; i <= 3; i++) {
      if (i === 0) continue;
      const [tx2, ty2] = toCanvas(0, i);
      ctx.fillText(String(i), tx2 - 8, ty2 + 4);
    }

    // Plot f(x) = x^3 - 3x
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = 0; px < W; px++) {
      const mx = (px - originX) / scaleX;
      const my = f(mx);
      const cy = originY - my * scaleY;
      if (cy < -50 || cy > H + 50) {
        started = false;
        continue;
      }
      if (!started) {
        ctx.moveTo(px, cy);
        started = true;
      } else {
        ctx.lineTo(px, cy);
      }
    }
    ctx.stroke();

    // Function label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    const [labelX, labelY] = toCanvas(1.8, f(1.8));
    ctx.fillText('f(x) = x\u00B3 \u2212 3x', labelX + 10, labelY - 10);

    // Mark current point
    const fVal = f(currentX);
    const [ptX, ptY] = toCanvas(currentX, fVal);

    // Dashed lines to axes
    ctx.strokeStyle = 'rgba(244,114,182,0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 4]);
    // Vertical to x-axis
    ctx.beginPath();
    ctx.moveTo(ptX, ptY);
    ctx.lineTo(ptX, originY);
    ctx.stroke();
    // Horizontal to y-axis
    ctx.beginPath();
    ctx.moveTo(ptX, ptY);
    ctx.lineTo(originX, ptY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Glow effect
    const gradient = ctx.createRadialGradient(ptX, ptY, 0, ptX, ptY, 18);
    gradient.addColorStop(0, 'rgba(74,222,128,0.4)');
    gradient.addColorStop(1, 'rgba(74,222,128,0)');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(ptX, ptY, 18, 0, 2 * Math.PI);
    ctx.fill();

    // Point
    ctx.beginPath();
    ctx.arc(ptX, ptY, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#166534';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Label on point
    const xStr = currentX === 0.5 ? '1/2' : currentX.toFixed(2).replace('.', ',');
    const fStr = fVal.toFixed(3).replace('.', ',');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    const labelOffX = ptX + 12;
    const labelOffY = ptY < 100 ? ptY + 22 : ptY - 12;
    ctx.fillText('(' + xStr + ' ; ' + fStr + ')', labelOffX, labelOffY);

    // If we are at x=0.5, draw special marker for g(2)=1/2
    if (Math.abs(currentX - 0.5) < 0.01) {
      ctx.fillStyle = '#f472b6';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('g(2) = 1/2', ptX, originY + 32);

      ctx.fillStyle = '#4ade80';
      ctx.textAlign = 'center';
      ctx.fillText('f(g(2)) = \u221211/8', originX - 50, ptY - 4);
    }

    // Mark zeros and critical points
    const specialPoints = [
      { x: 0, label: '0', col: '#94a3b8' },
      { x: Math.sqrt(3), label: '\u221A3', col: '#94a3b8' },
      { x: -Math.sqrt(3), label: '\u2212\u221A3', col: '#94a3b8' },
    ];
    specialPoints.forEach(sp => {
      const [sx, sy] = toCanvas(sp.x, 0);
      ctx.beginPath();
      ctx.arc(sx, sy, 3, 0, 2 * Math.PI);
      ctx.fillStyle = sp.col;
      ctx.fill();
    });

    // Legend
    ctx.textAlign = 'left';
    ctx.font = '12px Segoe UI, sans-serif';
    let ly = 22;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(14, ly - 6, 16, 3);
    ctx.fillText('f(x) = x\u00B3 \u2212 3x', 36, ly);
    ly += 22;

    ctx.beginPath();
    ctx.arc(22, ly - 4, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillText('Trenutna ta\u010Dka', 36, ly);
  }

  drawGraph();

  // Slider interaction
  const slider = document.getElementById('xSlider');
  const xDisplay = document.getElementById('xValueDisplay');

  slider.addEventListener('input', () => {
    currentX = parseInt(slider.value, 10) / 100;
    const displayVal = currentX.toFixed(2).replace('.', ',');
    xDisplay.textContent = displayVal;
    drawGraph();
  });

})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kompozicija polinomske i trigonometrijske funkcije",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kompozicija funkcija", "trigonometrija", "tabelarne vrednosti sinusa", "stepenovanje razlomaka", "aritmetika razlomaka"]
}
BRAINSPARK_META-->