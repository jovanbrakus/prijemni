<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deljivost polinoma i zbir kvadrata koeficijenata</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Polinom p(x) = x³ + ax² + bx − 4 (a, b ∈ R) je deljiv polinomom x² − 1.
Naći a² + b².

SOLUTION:

Step 1: If x² − 1 divides p(x), then x² − 1 = (x − 1)(x + 1), so both x = 1 and x = −1
are roots of p(x).

Step 2: Evaluate p(1) = 0.
  p(1) = 1 + a + b − 4 = 0
  a + b − 3 = 0
  a + b = 3  ... (I)

Step 3: Evaluate p(−1) = 0.
  p(−1) = (−1)³ + a(−1)² + b(−1) − 4
         = −1 + a − b − 4
         = a − b − 5 = 0
  a − b = 5  ... (II)

Step 4: Solve the system of equations (I) and (II).
  Adding: 2a = 8 → a = 4
  Subtracting: 2b = −2 → b = −1

Step 5: Compute a² + b².
  a² + b² = 16 + 1 = 17

Step 6: Verification.
  p(x) = x³ + 4x² − x − 4
  p(1) = 1 + 4 − 1 − 4 = 0 ✓
  p(−1) = −1 + 4 + 1 − 4 = 0 ✓

  Polynomial division: x³ + 4x² − x − 4 = (x² − 1)(x + 4)
  Indeed: (x² − 1)(x + 4) = x³ + 4x² − x − 4 ✓

ANSWER: (B) 17
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 650px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.insight-formula {
  text-align: center;
  font-size: 1.3rem;
  margin: 14px 0;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

.slider-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  margin: 14px 0 6px 0;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.slider-container input[type="range"] {
  accent-color: #60a5fa;
  width: 200px;
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1rem;
  min-width: 40px;
  text-align: center;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
  .slider-container { flex-direction: column; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Deljivost polinoma i zbir kvadrata koeficijenata</h1>
  <p class="subtitle">Polinomi, koreni, deljivost polinoma, sistemi linearnih jednacina</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Ako se zna da je polinom \( x^3 + ax^2 + bx - 4 \) (gde su \(a, b \in \mathbb{R}\)) deljiv polinomom \( x^2 - 1 \), tada zbir \( a^2 + b^2 \) iznosi:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(17\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(3\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(14\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Posto je \( x^2 - 1 = (x-1)(x+1) \), oba broja \( x = 1 \) i \( x = -1 \) moraju biti koreni polinoma \( p(x) = x^3 + ax^2 + bx - 4 \). Uvrstivsi ove vrednosti dobijamo sistem od dve jednacine sa dve nepoznate \(a\) i \(b\), iz kojeg racunamo \(a^2 + b^2\).</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Teorema o deljivosti polinoma:</strong> Ako polinom \( q(x) \) deli polinom \( p(x) \), onda je svaki koren od \( q(x) \) ujedno i koren od \( p(x) \).</li>
          <li><strong>Razlika kvadrata:</strong> \( x^2 - 1 = (x-1)(x+1) \), pa su koreni \( x = 1 \) i \( x = -1 \).</li>
          <li><strong>Nula polinoma:</strong> Ako je \( c \) koren polinoma \( p(x) \), onda vazi \( p(c) = 0 \).</li>
          <li><strong>Sistem linearnih jednacina:</strong> Sistem \( \begin{cases} a + b = s \\ a - b = d \end{cases} \) ima resenje \( a = \frac{s+d}{2},\; b = \frac{s-d}{2} \).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Graficki prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Polinom \( p(x) = x^3 + 4x^2 - x - 4 \) sa oznacenim korenima. Pomerajte klizac da vidite kako se graf menja sa parametrom \(a\).</p>
    <div class="slider-container">
      <label for="sliderA">Parametar \(a\):</label>
      <input type="range" id="sliderA" min="-2" max="8" step="0.5" value="4">
      <span class="slider-value" id="sliderAVal">4</span>
    </div>
    <canvas id="diagram" width="650" height="450"></canvas>
    <p class="drag-hint">Pomerajte klizac da vidite kako koeficijent \(a\) utice na oblik polinoma</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Faktorizacija delioca</div>
      <div class="step-text">
        <p>Zapisimo polinom-delilac u faktorizovanom obliku:</p>
        <div class="math-box">
          \[ x^2 - 1 = (x - 1)(x + 1) \]
        </div>
        <p>Koreni delioca su \( x = 1 \) i \( x = -1 \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Kljucni zakljucak o korenima</div>
      <div class="step-text">
        <p>Ako je polinom \( p(x) = x^3 + ax^2 + bx - 4 \) <span class="highlight">deljiv</span> polinomom \( x^2 - 1 \), to znaci da postoji polinom \( q(x) \) takav da:</p>
        <div class="math-box">
          \[ p(x) = (x^2 - 1) \cdot q(x) \]
        </div>
        <p>Iz ovoga sledi da svaki koren od \( x^2 - 1 \) mora biti i koren od \( p(x) \). Dakle:</p>
        <div class="math-box">
          \[ p(1) = 0 \quad \text{i} \quad p(-1) = 0 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Zasto svaki koren delioca mora biti koren dividenda?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Ako je \( p(x) = (x^2 - 1) \cdot q(x) \), onda za \( x = 1 \): \( p(1) = (1 - 1) \cdot q(1) = 0 \cdot q(1) = 0 \). Isto vazi i za \( x = -1 \). Faktor \( x^2 - 1 \) se ponistava u korenima, pa se i ceo proizvod ponistava.
      </p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Prva jednacina: \( p(1) = 0 \)</div>
      <div class="step-text">
        <p>Uvrstimo \( x = 1 \) u polinom \( p(x) \):</p>
        <div class="math-box">
          \[ p(1) = 1^3 + a \cdot 1^2 + b \cdot 1 - 4 = 0 \]
        </div>
        <p>Sredimo:</p>
        <div class="math-box">
          \[ 1 + a + b - 4 = 0 \]
          \[ a + b - 3 = 0 \]
          \[ \boxed{a + b = 3} \quad \ldots (I) \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Druga jednacina: \( p(-1) = 0 \)</div>
      <div class="step-text">
        <p>Uvrstimo \( x = -1 \) u polinom \( p(x) \):</p>
        <div class="math-box">
          \[ p(-1) = (-1)^3 + a \cdot (-1)^2 + b \cdot (-1) - 4 = 0 \]
        </div>
        <p>Izracunajmo svaki clan:</p>
        <div class="math-box">
          \[ (-1)^3 = -1\,,\quad a \cdot (-1)^2 = a\,,\quad b \cdot (-1) = -b \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ -1 + a - b - 4 = 0 \]
          \[ a - b - 5 = 0 \]
          \[ \boxed{a - b = 5} \quad \ldots (II) \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko iznosi \( (-1)^3 \)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        \( (-1)^3 = (-1) \cdot (-1) \cdot (-1) = 1 \cdot (-1) = -1 \). Neparni stepen negativnog broja daje negativan rezultat.
      </p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Resavanje sistema jednacina</div>
      <div class="step-text">
        <p>Imamo sistem:</p>
        <div class="math-box">
          \[ \begin{cases} a + b = 3 \\ a - b = 5 \end{cases} \]
        </div>
        <p><strong>Sabiranjem</strong> obe jednacine eliminisemo \(b\):</p>
        <div class="math-box">
          \[ (a + b) + (a - b) = 3 + 5 \]
          \[ 2a = 8 \]
          \[ \boxed{a = 4} \]
        </div>
        <p><strong>Oduzimanjem</strong> druge od prve nalazimo \(b\):</p>
        <div class="math-box">
          \[ (a + b) - (a - b) = 3 - 5 \]
          \[ 2b = -2 \]
          \[ \boxed{b = -1} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Racunanje trazenog zbira</div>
      <div class="step-text">
        <p>Sada izracunajmo \( a^2 + b^2 \):</p>
        <div class="math-box">
          \[ a^2 + b^2 = 4^2 + (-1)^2 = 16 + 1 = \boxed{17} \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <span class="step-badge">Korak 7</span>
      <div class="step-title">Provera: da li deljivost zaista vazi?</div>
      <div class="step-text">
        <p>Sa \( a = 4 \) i \( b = -1 \) polinom postaje:</p>
        <div class="math-box">
          \[ p(x) = x^3 + 4x^2 - x - 4 \]
        </div>
        <p>Izvrsimo deljenje polinoma (ili grupne faktorizacije):</p>
        <div class="math-box">
          \[ x^3 + 4x^2 - x - 4 = x^2(x + 4) - 1(x + 4) = (x^2 - 1)(x + 4) \]
        </div>
        <p>Zaista, polinom \( p(x) \) je proizvod \( (x^2 - 1) \) i \( (x+4) \), sto potvrdjuje deljivost.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Koji su svi koreni polinoma \( p(x) = x^3 + 4x^2 - x - 4 \)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Iz faktorizacije \( p(x) = (x-1)(x+1)(x+4) \) citamo korene: \( x_1 = 1 \), \( x_2 = -1 \), \( x_3 = -4 \). Tri realna korena, sto je ocekivano za kubni polinom sa tri razlicita realna korena.
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljucni uvid</h3>
    <p>Deljivost polinomom \( x^2 - 1 \) je ekvivalentna uslovu da su \( x = 1 \) i \( x = -1 \) koreni dividenda. Ovaj princip pretvara problem deljivosti u jednostavan sistem linearnih jednacina. Grupna faktorizacija na kraju daje elegantnu potvrdu:</p>
    <div class="insight-formula">
      \[ x^3 + 4x^2 - x - 4 = (x^2 - 1)(x + 4) \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <p class="answer-label">Zbir \( a^2 + b^2 \) iznosi:</p>
    <div class="answer-value">(B) 17</div>
    <div class="options-row">
      <div class="option-box">(A) 1</div>
      <div class="option-box correct">(B) 17</div>
      <div class="option-box">(C) 5</div>
      <div class="option-box">(D) 3</div>
      <div class="option-box">(E) 14</div>
    </div>
    <p class="verification-note">Provera: Za \( a = 4 \) i \( b = -1 \) polinom \( x^3 + 4x^2 - x - 4 \) se faktorizuje kao \( (x^2 - 1)(x + 4) \), sto direktno potvrdjuje deljivost. Zbir \( 4^2 + (-1)^2 = 16 + 1 = 17 \).</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>Pogresno racunanje \( (-1)^3 \): cest propust je da se napise \( (-1)^3 = 1 \) umesto \( -1 \). Neparan stepen negativnog broja uvek daje negativan rezultat.</li>
      <li>Zamena znakova pri resavanju sistema: dodavanjem i oduzimanjem jednacina lako se pogresi u predznaku. Uvek proverite sabiranjem da li dobijeni \(a\) i \(b\) zadovoljavaju obe polazne jednacine.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Ako je polinom \( x^4 + ax^3 + bx^2 + cx + d \) deljiv polinomom \( x^2 - 4 \) i pritom \( p(0) = 12 \), da li mozete naci neku vezu medju koeficijentima?</p>
    <details>
      <summary>Pomoc</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Polinom \( x^2 - 4 = (x-2)(x+2) \), pa su \( x = 2 \) i \( x = -2 \) koreni. Uvrstite obe vrednosti u polinom cetvrtog stepena da dobijete dve jednacine. Uslov \( p(0) = d = 12 \) daje trecu informaciju. Ovog puta imate tri jednacine za cetiri nepoznate, pa necete moci sve jednoznacno odrediti, ali mozete pronaci veze medju njima.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;
  const slider = document.getElementById('sliderA');
  const sliderVal = document.getElementById('sliderAVal');

  // Coordinate transformation: math (x, y) -> canvas (px, py)
  const scaleX = 45;
  const scaleY = 22;
  const originX = W * 0.55;
  const originY = H * 0.55;

  function toCanvas(mx, my) {
    return [originX + mx * scaleX, originY - my * scaleY];
  }

  function evalPoly(x, a) {
    // p(x) = x^3 + a*x^2 + b*x - 4
    // where b is determined by a + b = 3, so b = 3 - a
    const b = 3 - a;
    return x * x * x + a * x * x + b * x - 4;
  }

  function drawDiagram(aParam) {
    const bParam = 3 - aParam;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -8; i <= 8; i++) {
      const [gx1, gy1] = toCanvas(i, -12);
      const [gx2, gy2] = toCanvas(i, 12);
      ctx.beginPath();
      ctx.moveTo(gx1, gy1);
      ctx.lineTo(gx2, gy2);
      ctx.stroke();
    }
    for (let j = -12; j <= 12; j++) {
      const [hx1, hy1] = toCanvas(-8, j);
      const [hx2, hy2] = toCanvas(8, j);
      ctx.beginPath();
      ctx.moveTo(hx1, hy1);
      ctx.lineTo(hx2, hy2);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', W - 20, originY - 8);
    ctx.textAlign = 'center';
    ctx.fillText('y', originX + 14, 18);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    for (let i = -7; i <= 7; i++) {
      if (i === 0) continue;
      const [tx, ty] = toCanvas(i, 0);
      if (tx > 10 && tx < W - 10) {
        ctx.fillText(String(i), tx, ty + 16);
      }
    }
    ctx.textAlign = 'right';
    for (let j = -10; j <= 10; j += 2) {
      if (j === 0) continue;
      const [tx2, ty2] = toCanvas(0, j);
      if (ty2 > 15 && ty2 < H - 10) {
        ctx.fillText(String(j), tx2 - 6, ty2 + 4);
      }
    }

    // Draw polynomial curve
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = 0; px < W; px++) {
      const mx = (px - originX) / scaleX;
      const my = evalPoly(mx, aParam);
      const [, cy] = toCanvas(0, my);
      if (cy > -50 && cy < H + 50) {
        if (!started) {
          ctx.moveTo(px, cy);
          started = true;
        } else {
          ctx.lineTo(px, cy);
        }
      } else {
        started = false;
      }
    }
    ctx.stroke();

    // Label for polynomial
    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    const labelBStr = bParam >= 0 ? '+ ' + bParam.toFixed(1) : '- ' + Math.abs(bParam).toFixed(1);
    const polyLabel = 'p(x) = x\u00B3 + ' + aParam.toFixed(1) + 'x\u00B2 ' + labelBStr + 'x - 4';
    ctx.fillText(polyLabel, 14, 22);

    // Roots: find where p(x) = 0
    // For general a with constraint a+b=3: b = 3-a
    // p(x) = x^3 + ax^2 + (3-a)x - 4
    // We know p(1) = 1 + a + 3-a - 4 = 0 always!
    // p(-1) = -1 + a - (3-a) - 4 = -1 + a - 3 + a - 4 = 2a - 8
    // p(-1) = 0 when 2a - 8 = 0, i.e., a = 4
    // So x=1 is always a root, x=-1 is a root only when a=4.

    // Mark x=1 root (always a root given a+b=3)
    const y1 = evalPoly(1, aParam);
    const [r1x, r1y] = toCanvas(1, y1);

    // Glow
    ctx.beginPath();
    ctx.arc(r1x, r1y, 10, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(74,222,128,0.25)';
    ctx.fill();

    // Point
    ctx.beginPath();
    ctx.arc(r1x, r1y, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#166534';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = 1', r1x, r1y - 14);

    // Mark x=-1
    const yM1 = evalPoly(-1, aParam);
    const [rM1x, rM1y] = toCanvas(-1, yM1);

    if (Math.abs(yM1) < 0.5) {
      // Root (or close to root)
      ctx.beginPath();
      ctx.arc(rM1x, rM1y, 10, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(74,222,128,0.25)';
      ctx.fill();
      ctx.beginPath();
      ctx.arc(rM1x, rM1y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#166534';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('x = -1', rM1x, rM1y - 14);
    } else {
      // Not a root: show with different color
      ctx.beginPath();
      ctx.arc(rM1x, rM1y, 10, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(244,114,182,0.2)';
      ctx.fill();
      ctx.beginPath();
      ctx.arc(rM1x, rM1y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#f472b6';
      ctx.fill();
      ctx.strokeStyle = '#9d174d';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.fillStyle = '#f472b6';
      ctx.font = '11px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('p(-1) = ' + yM1.toFixed(1), rM1x, rM1y - 14);
    }

    // Draw x-axis zero line emphasis
    // Dashed line at y=0 for clarity (already the axis, but let's highlight)

    // If a=4 exactly, show the third root x=-4
    if (Math.abs(aParam - 4) < 0.01) {
      const yM4 = evalPoly(-4, aParam);
      const [rM4x, rM4y] = toCanvas(-4, yM4);
      ctx.beginPath();
      ctx.arc(rM4x, rM4y, 10, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(74,222,128,0.25)';
      ctx.fill();
      ctx.beginPath();
      ctx.arc(rM4x, rM4y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#166534';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('x = -4', rM4x, rM4y - 14);

      // Show factorization
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 13px Segoe UI, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('p(x) = (x\u00B2 - 1)(x + 4)  \u2714', 14, 44);
      ctx.fillText('p(1) = 0, p(-1) = 0  \u2192  deljiv sa x\u00B2 - 1', 14, 64);
    } else {
      // Show that divisibility doesn't hold
      ctx.fillStyle = '#e09468';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('p(-1) = ' + yM1.toFixed(1) + ' \u2260 0  \u2192  nije deljiv sa x\u00B2 - 1', 14, 44);
    }

    // Legend
    const legendX = W - 180;
    let legendY = 22;
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX, legendY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('Koren (nula polinoma)', legendX + 10, legendY + 1);
    legendY += 20;

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(legendX, legendY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('Nije koren', legendX + 10, legendY + 1);
  }

  function update() {
    const aVal = parseFloat(slider.value);
    sliderVal.textContent = aVal.toFixed(1).replace('.', ',');
    drawDiagram(aVal);
  }

  slider.addEventListener('input', update);
  update();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Deljivost polinoma i zbir kvadrata koeficijenata",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["polinomi", "deljivost polinoma", "koreni polinoma", "sistemi linearnih jednacina", "razlika kvadrata"]
}
BRAINSPARK_META-->