<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ugao preseka ravni i baze pravilne Äetvorostrane prizme</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Pravilna Äetvorostrana prizma preseÄena je ravni koja sadrÅ¾i jednu osnovnu ivicu.
PovrÅ¡ina preseka = 2 Ã— povrÅ¡ina baze.
NaÄ‡i ugao izmeÄ‘u ravni preseka i baze prizme.

SETUP:
- Baza: kvadrat ABCD sa stranicom a. PovrÅ¡ina baze = aÂ².
- Visina prizme: h (nepoznata, ali se skraÄ‡uje iz raÄunice).
- Gornja baza: A'B'C'D'.
- Koordinate: A=(0,0,0), B=(a,0,0), C=(a,a,0), D=(0,a,0).
  A'=(0,0,h), B'=(a,0,h), C'=(a,a,h), D'=(0,a,h).

CUTTING PLANE:
- Ravan sadrÅ¾i ivicu AB (na osi y=0, z=0).
- Ravan se naginje ka gore pod uglom Î± u odnosu na bazu.
- JednaÄina ravni: z = y Â· tan(Î±).

CASE ANALYSIS:
Na suprotnoj strani od AB, tj. na y = a, ravan dostiÅ¾e visinu z = aÂ·tan(Î±).

SluÄaj 1: aÂ·tan(Î±) â‰¤ h (ravan seÄe zadnju boÄnu stranu prizme pre nego Å¡to stigne do gornje baze)
- Presek je paralelogram ABEF gde je:
  E = (a, a, aÂ·tan(Î±)), F = (0, a, aÂ·tan(Î±))
- Vektori: AB = (a,0,0), AF = (0, a, aÂ·tan(Î±))
- PovrÅ¡ina = |AB Ã— AF| = |(0, -aÂ²Â·tan(Î±), aÂ²)| = aÂ² Â· âˆš(1 + tanÂ²(Î±)) = aÂ²/cos(Î±)

Postavljamo jednaÄinu:
  aÂ²/cos(Î±) = 2aÂ²
  1/cos(Î±) = 2
  cos(Î±) = 1/2
  Î± = 60Â°

Provera uslova: aÂ·tan(60Â°) = aâˆš3. Treba h â‰¥ aâˆš3.
PoÅ¡to prizma moÅ¾e imati proizvoljnu visinu (dovoljno visoku), ovo vaÅ¾i.

ANSWER: (D) 60Â°

VERIFICATION:
- Ako je Î± = 60Â°, cos(60Â°) = 1/2.
- PovrÅ¡ina preseka = aÂ²/cos(60Â°) = aÂ²/(1/2) = 2aÂ². âœ“
- To je taÄno 2 puta veÄ‡a od povrÅ¡ine baze aÂ². âœ“

ZaÅ¡to je presek paralelogram?
- AB i EF su paralelni (oba su duÅ¾ x-ose, na istoj y koordinati ali razliÄitim z).
  Zapravo: AB ide od (0,0,0) do (a,0,0), a EF ide od (0,a,aÂ·tan Î±) do (a,a,aÂ·tan Î±).
  AB i EF su iste duÅ¾ine a i paralelni su (oba u pravcu x-ose).
- AF i BE su paralelni i jednake duÅ¾ine.
- Dakle ABEF je paralelogram.
- AB = a (osnovna ivica), a visina paralelograma (rastojanje od AB do EF) = a/cos(Î±).
  Jer AF ima duÅ¾inu âˆš(aÂ² + aÂ²Â·tanÂ²Î±) = a/cos(Î±), i AF âŠ¥ AB,
  pa je povrÅ¡ina = a Â· (a/cos Î±) = aÂ²/cos Î±.

Actually, AF is NOT perpendicular to AB. Let me reconsider.
AB = (a,0,0), AF = (0, a, aÂ·tan Î±).
AB Â· AF = 0. YES, they ARE perpendicular! So the parallelogram is actually a rectangle.
Area = |AB| Â· |AF| = a Â· a/cos(Î±) = aÂ²/cos(Î±). âœ“
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 650px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Presek ravni i pravilne Äetvorostrane prizme</h1>
  <p class="subtitle">Stereometrija, preseci tela ravnima, ugao izmeÄ‘u ravni</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Pravilna Äetvorostrana prizma preseÄena je sa ravni koja sadrÅ¾i <span class="highlight">osnovnu ivicu</span> prizme. Ako je povrÅ¡ina preseka ravni i prizme <span class="highlight">dva puta veÄ‡a</span> od povrÅ¡ine baze, tada je ugao izmeÄ‘u te ravni i baze prizme jednak:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(15Â°\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(30Â°\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(45Â°\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(60Â°\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(75Â°\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan reÅ¡avanja</h2>
    <p>PostaviÄ‡emo koordinatni sistem sa jednim temenom baze u koordinatnom poÄetku. Ravan koja sadrÅ¾i jednu osnovnu ivicu naginje se pod uglom \(\alpha\) u odnosu na bazu. OdrediÄ‡emo oblik i povrÅ¡inu preseka u zavisnosti od \(\alpha\), a zatim izjednaÄiti sa \(2a^2\) (dvostrukom povrÅ¡inom baze).</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>ğŸ“ KljuÄne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Pravilna Äetvorostrana prizma:</strong> prava prizma Äija je baza kvadrat stranice \(a\). BoÄne ivice su normalne na bazu.</li>
          <li><strong>Ugao izmeÄ‘u dve ravni (diedarski ugao):</strong> ugao izmeÄ‘u pravih u kojima se preseÄna ravan seÄe sa svakom od dve ravni, gde su te prave normalne na zajedniÄku ivicu (preseÄnicu) u istoj taÄki.</li>
          <li><strong>PovrÅ¡ina paralelograma:</strong> \( S = |\vec{AB} \times \vec{AF}| \), gde su \(\vec{AB}\) i \(\vec{AF}\) vektori dve susedne stranice.</li>
          <li><strong>Vektorski proizvod:</strong> \(|\vec{u} \times \vec{v}| = |\vec{u}| \cdot |\vec{v}| \cdot \sin\theta\), gde je \(\theta\) ugao izmeÄ‘u vektora. Ako su vektori normalni (\(\theta = 90Â°\)), tada je \(|\vec{u} \times \vec{v}| = |\vec{u}| \cdot |\vec{v}|\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID - 3D PRISM -->
  <div class="card canvas-card">
    <h2>3D prikaz prizme i preseka</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Prizma sa kvadratnom bazom \(ABCD\), gornjom bazom \(A'B'C'D'\), i ravan preseka \(ABEF\) (ljubiÄasta).</p>
    <canvas id="prism3d" width="650" height="550"></canvas>
    <p class="drag-hint">Prevucite levo/desno da rotirate prikaz</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>ReÅ¡enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Postavljanje koordinatnog sistema</div>
      <div class="step-text">
        <p>Neka je baza prizme kvadrat \(ABCD\) sa stranicom \(a\), a visina prizme \(h\). Postavimo koordinatni sistem:</p>
        <div class="math-box">
          \[
          A = (0,\,0,\,0), \quad B = (a,\,0,\,0), \quad C = (a,\,a,\,0), \quad D = (0,\,a,\,0)
          \]
        </div>
        <p>Gornja baza je na visini \(h\):</p>
        <div class="math-box">
          \[
          A' = (0,\,0,\,h), \quad B' = (a,\,0,\,h), \quad C' = (a,\,a,\,h), \quad D' = (0,\,a,\,h)
          \]
        </div>
        <p>PovrÅ¡ina baze je \(S_{\text{baze}} = a^2\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">JednaÄina ravni preseka</div>
      <div class="step-text">
        <p>Ravan preseka sadrÅ¾i ivicu \(AB\), koja leÅ¾i duÅ¾ \(x\)-ose (gde je \(y = 0\) i \(z = 0\)). Ravan se naginje ka gore pod uglom \(\alpha\) u odnosu na baznu ravan.</p>
        <p>JednaÄina ravni preseka je:</p>
        <div class="math-box">
          \[ z = y \cdot \tan\alpha \]
        </div>
        <p>Na rastojanju \(y\) od ivice \(AB\), visina ravni je \(y\tan\alpha\). Na suprotnoj strani baze (gde je \(y = a\)), ravan dostiÅ¾e visinu \(z = a\tan\alpha\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>ğŸ§  Proveri se: ZaÅ¡to je jednaÄina ravni baÅ¡ \(z = y\tan\alpha\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Ravan prolazi kroz celu ivicu \(AB\) (gde je \(y = 0\), \(z = 0\)) i naginje se pod uglom \(\alpha\) od bazne ravni. U preseku sa ravni \(x = \text{const}\), ravan pravi pravu liniju koja polazi iz taÄke na \(AB\) (gde je \(z=0\)) i raste pod uglom \(\alpha\). Zato je \(z = y\tan\alpha\), nezavisno od \(x\) koordinate.
      </p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">OdreÄ‘ivanje oblika preseka</div>
      <div class="step-text">
        <p>Pretpostavljamo da je prizma dovoljno visoka tako da ravan seÄe boÄnu stranu nasuprot \(AB\) (stranu kroz \(CD\)) pre nego Å¡to dostigne gornju bazu. To znaÄi \(a\tan\alpha \leq h\).</p>
        <p>Ravan \(z = y\tan\alpha\) seÄe boÄnu stranu \(DCC'D'\) (gde je \(y = a\)) u taÄkama:</p>
        <div class="math-box">
          \[
          E = (a,\; a,\; a\tan\alpha), \qquad F = (0,\; a,\; a\tan\alpha)
          \]
        </div>
        <p>Dakle, presek ravni i prizme je Äetvorougao \(ABEF\) â€” sa temenima:</p>
        <div class="math-box">
          \[
          A = (0,0,0), \quad B = (a,0,0), \quad E = (a,a,a\tan\alpha), \quad F = (0,a,a\tan\alpha)
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Oblik preseka: pravougaonik!</div>
      <div class="step-text">
        <p>Proverimo da li je \(ABEF\) pravougaonik. Formiramo vektore dve susedne stranice:</p>
        <div class="math-box">
          \[
          \vec{AB} = (a,\; 0,\; 0), \qquad \vec{AF} = (0,\; a,\; a\tan\alpha)
          \]
        </div>
        <p>Skalarni proizvod:</p>
        <div class="math-box">
          \[
          \vec{AB} \cdot \vec{AF} = a \cdot 0 + 0 \cdot a + 0 \cdot a\tan\alpha = 0
          \]
        </div>
        <p>PoÅ¡to je \(\vec{AB} \cdot \vec{AF} = 0\), stranice \(AB\) i \(AF\) su <span class="highlight">meÄ‘usobno normalne</span>. Uz Äinjenicu da su \(AB \parallel EF\) i \(AF \parallel BE\), presek \(ABEF\) je pravougaonik.</p>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">RaÄunanje povrÅ¡ine preseka</div>
      <div class="step-text">
        <p>PoÅ¡to je \(ABEF\) pravougaonik, njegova povrÅ¡ina je proizvod duÅ¾ina dve susedne stranice:</p>
        <div class="math-box">
          \[
          |AB| = a
          \]
        </div>
        <div class="math-box">
          \[
          |AF| = \sqrt{0^2 + a^2 + (a\tan\alpha)^2} = a\sqrt{1 + \tan^2\alpha}
          \]
        </div>
        <p>Primenjujemo poznati trigonometrijski identitet \(1 + \tan^2\alpha = \dfrac{1}{\cos^2\alpha}\):</p>
        <div class="math-box">
          \[
          |AF| = a \cdot \sqrt{\frac{1}{\cos^2\alpha}} = \frac{a}{\cos\alpha}
          \]
        </div>
        <p>PovrÅ¡ina preseka je:</p>
        <div class="math-box">
          \[
          S_{\text{preseka}} = |AB| \cdot |AF| = a \cdot \frac{a}{\cos\alpha} = \frac{a^2}{\cos\alpha}
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>ğŸ§  Proveri se: Za \(\alpha = 0Â°\), kolika bi bila povrÅ¡ina preseka?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Za \(\alpha = 0Â°\), ravan preseka se poklapa sa baznom ravni, pa je \(S = \frac{a^2}{\cos 0Â°} = \frac{a^2}{1} = a^2\), Å¡to je taÄno povrÅ¡ina baze. LogiÄno!
      </p>
    </details>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Postavljanje uslova iz zadatka</div>
      <div class="step-text">
        <p>Prema zadatku, povrÅ¡ina preseka je dva puta veÄ‡a od povrÅ¡ine baze:</p>
        <div class="math-box">
          \[
          S_{\text{preseka}} = 2 \cdot S_{\text{baze}}
          \]
        </div>
        <div class="math-box">
          \[
          \frac{a^2}{\cos\alpha} = 2a^2
          \]
        </div>
        <p>Delimo obe strane sa \(a^2\) (poÅ¡to je \(a > 0\)):</p>
        <div class="math-box">
          \[
          \frac{1}{\cos\alpha} = 2 \quad \Longrightarrow \quad \cos\alpha = \frac{1}{2}
          \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <span class="step-badge">Korak 7</span>
      <div class="step-title">NalaÅ¾enje ugla</div>
      <div class="step-text">
        <p>JednaÄina \(\cos\alpha = \dfrac{1}{2}\) ima poznato reÅ¡enje:</p>
        <div class="math-box">
          \[
          \alpha = \arccos\frac{1}{2} = 60Â°
          \]
        </div>
        <p>Ugao izmeÄ‘u ravni preseka i baze prizme iznosi <span class="highlight">\(60Â°\)</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>ğŸ§  Proveri se: Da li je uslov \(a\tan 60Â° \leq h\) moguÄ‡?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Za \(\alpha = 60Â°\) imamo \(a\tan 60Â° = a\sqrt{3}\). Ovo znaÄi da visina prizme mora biti bar \(a\sqrt{3} \approx 1{,}73a\). PoÅ¡to zadatak kaÅ¾e â€pravilna Äetvorostrana prizma" â€” a to je prava prizma sa kvadratnom bazom (visina nije nuÅ¾no jednaka stranici baze) â€” dovoljno je da prizma bude visoka bar \(a\sqrt{3}\), Å¡to je potpuno moguÄ‡e. Rezultat vaÅ¾i jer je ugao \(\alpha\) nezavisan od konkretne visine \(h\) (pod uslovom da je dovoljno velika).
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>KljuÄni uvid</h3>
    <p>Presek ravni koja sadrÅ¾i jednu osnovnu ivicu prizme i naginje se pod uglom \(\alpha\) jeste <strong>pravougaonik</strong> Äija je jedna stranica osnovna ivica \(a\), a druga stranica je â€kosa dijagonala" duÅ¾ine \(\frac{a}{\cos\alpha}\). Zato je:</p>
    <div class="math-box" style="text-align:center; font-size:1.15rem;">
      \[
      S_{\text{preseka}} = \frac{a^2}{\cos\alpha}
      \]
    </div>
    <p>Ova formula pokazuje da Å¡to je ugao veÄ‡i, to je presek veÄ‡i â€” Å¡to ima geometrijski smisao jer se ravan â€viÅ¡e naginje" i seÄe veÄ‡u povrÅ¡inu unutar prizme.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>KonaÄan odgovor</h2>
    <p class="answer-label">Ugao izmeÄ‘u ravni preseka i baze prizme je:</p>
    <div class="answer-value">(D) 60Â°</div>
    <div class="options-row">
      <div class="option-box">(A) 15Â°</div>
      <div class="option-box">(B) 30Â°</div>
      <div class="option-box">(C) 45Â°</div>
      <div class="option-box correct">(D) 60Â°</div>
      <div class="option-box">(E) 75Â°</div>
    </div>
    <p class="verification-note">Provera: \(\cos 60Â° = \frac{1}{2}\), dakle \(S_{\text{preseka}} = \frac{a^2}{1/2} = 2a^2 = 2 \cdot S_{\text{baze}}\). Uslov iz zadatka je zadovoljen.</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>ÄŒeste greÅ¡ke</h2>
    <ul class="pitfall-list">
      <li>PogreÅ¡no pretpostaviti da je presek trougao umesto pravougaonika. Ravan sadrÅ¾i celu ivicu \(AB\) i seÄe suprotnu boÄnu stranu â€” presek ima 4 temena, ne 3.</li>
      <li>Koristiti \(\sin\alpha\) umesto \(\frac{1}{\cos\alpha}\) za odnos povrÅ¡ina. PovrÅ¡ina preseka je \(a^2 / \cos\alpha\), a ne \(a^2 \cdot \sin\alpha\) â€” ovo su razliÄiti izrazi (osim za \(\alpha = 90Â°\), Å¡to nema geometrijskog smisla u prizmi).</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Pod kojim uglom treba presecati istu prizmu (ravan opet sadrÅ¾i jednu osnovnu ivicu) da bi povrÅ¡ina preseka bila \(\sqrt{2}\) puta veÄ‡a od povrÅ¡ine baze?</p>
    <details>
      <summary>PomoÄ‡</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Iz formule \(\frac{a^2}{\cos\alpha} = \sqrt{2}\, a^2\), dobijamo \(\cos\alpha = \frac{1}{\sqrt{2}} = \frac{\sqrt{2}}{2}\), Å¡to daje \(\alpha = 45Â°\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // 3D Prism Canvas
  const canvas = document.getElementById('prism3d');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let rotY = -0.45;
  let dragging = false;
  let lastX = 0;

  // 3D projection: simple oblique / isometric-like
  const a = 160; // base edge in pixels
  const h = 280; // prism height in pixels (h > a*sqrt(3) ~ 277 to allow Î±=60Â°)
  const alpha = Math.PI / 3; // 60 degrees

  // 3D vertices of the prism (centered at origin)
  const halfA = a / 2;
  function getVertices() {
    return {
      A: [-halfA, -halfA, 0],
      B: [halfA, -halfA, 0],
      C: [halfA, halfA, 0],
      D: [-halfA, halfA, 0],
      Ap: [-halfA, -halfA, h],
      Bp: [halfA, -halfA, h],
      Cp: [halfA, halfA, h],
      Dp: [-halfA, halfA, h],
      // Cross-section points E and F on the face y = halfA at z = a*tan(alpha)
      E: [halfA, halfA, a * Math.tan(alpha)],
      F: [-halfA, halfA, a * Math.tan(alpha)]
    };
  }

  // Rotate point around Y axis (vertical in 3D)
  function rotateY(p, angle) {
    const c = Math.cos(angle);
    const s = Math.sin(angle);
    return [
      p[0] * c + p[2] * s,
      p[1],
      -p[0] * s + p[2] * c
    ];
  }

  // Project 3D to 2D with perspective-like foreshortening
  function project(p) {
    // Rotate around vertical axis (z in our math = up on screen)
    const rotated = rotateY(p, rotY);
    // Swap: x -> screen x, z -> screen up (negate for canvas y), y -> depth
    const fov = 600;
    const dist = fov + rotated[1]; // depth
    const scale = fov / dist;
    const sx = W / 2 + rotated[0] * scale;
    const sy = H / 2 + 100 - rotated[2] * scale; // +100 to shift down, z up => -z for canvas
    return [sx, sy, rotated[1]]; // return depth for sorting
  }

  function drawLine(p1, p2, color, width, dash) {
    ctx.strokeStyle = color;
    ctx.lineWidth = width;
    ctx.setLineDash(dash || []);
    ctx.beginPath();
    ctx.moveTo(p1[0], p1[1]);
    ctx.lineTo(p2[0], p2[1]);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawFilledQuad(pts, fillColor) {
    ctx.fillStyle = fillColor;
    ctx.beginPath();
    ctx.moveTo(pts[0][0], pts[0][1]);
    for (let i = 1; i < pts.length; i++) {
      ctx.lineTo(pts[i][0], pts[i][1]);
    }
    ctx.closePath();
    ctx.fill();
  }

  function drawLabel(text, p, color, offsetX, offsetY) {
    ctx.fillStyle = color;
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(text, p[0] + (offsetX || 0), p[1] + (offsetY || 0));
  }

  function drawAngleArc(vertex, p1, p2, radius, color) {
    // Draw arc from direction vertex->p1 to vertex->p2
    const a1 = Math.atan2(p1[1] - vertex[1], p1[0] - vertex[0]);
    const a2 = Math.atan2(p2[1] - vertex[1], p2[0] - vertex[0]);
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(vertex[0], vertex[1], radius, a1, a2, a2 < a1);
    ctx.stroke();
  }

  function draw() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const v = getVertices();
    // Project all vertices
    const pv = {};
    for (const key in v) {
      pv[key] = project(v[key]);
    }

    // Determine which faces are front-facing for depth ordering
    // We'll draw back edges dashed, front edges solid

    // Base face (always at bottom)
    drawFilledQuad(
      [pv.A, pv.B, pv.C, pv.D],
      'rgba(96, 165, 250, 0.06)'
    );

    // Cross-section fill (the cut plane ABEF)
    drawFilledQuad(
      [pv.A, pv.B, pv.E, pv.F],
      'rgba(167, 139, 250, 0.18)'
    );

    // Determine back/front edges based on depth
    // Simple approach: draw all prism edges, some dashed for hidden

    // Helper: is vertex behind the center roughly?
    const frontThreshold = 0;

    // Bottom face edges
    const bottomEdges = [
      ['A', 'B'], ['B', 'C'], ['C', 'D'], ['D', 'A']
    ];
    bottomEdges.forEach(([from, to]) => {
      const avgDepth = (pv[from][2] + pv[to][2]) / 2;
      const isBack = avgDepth > frontThreshold;
      drawLine(pv[from], pv[to], isBack ? '#3b5a8a' : '#60a5fa', isBack ? 1.2 : 2, isBack ? [5, 5] : []);
    });

    // Top face edges
    const topEdges = [
      ['Ap', 'Bp'], ['Bp', 'Cp'], ['Cp', 'Dp'], ['Dp', 'Ap']
    ];
    topEdges.forEach(([from, to]) => {
      const avgDepth = (pv[from][2] + pv[to][2]) / 2;
      const isBack = avgDepth > frontThreshold;
      drawLine(pv[from], pv[to], isBack ? '#3b5a8a' : '#60a5fa', isBack ? 1.2 : 2, isBack ? [5, 5] : []);
    });

    // Vertical edges
    const vertEdges = [
      ['A', 'Ap'], ['B', 'Bp'], ['C', 'Cp'], ['D', 'Dp']
    ];
    vertEdges.forEach(([from, to]) => {
      const avgDepth = (pv[from][2] + pv[to][2]) / 2;
      const isBack = avgDepth > frontThreshold;
      drawLine(pv[from], pv[to], isBack ? '#3b5a8a' : '#60a5fa', isBack ? 1.2 : 2, isBack ? [5, 5] : []);
    });

    // Cross-section edges (purple, prominent)
    drawLine(pv.A, pv.B, '#a78bfa', 2.5);
    drawLine(pv.B, pv.E, '#a78bfa', 2.5);
    drawLine(pv.E, pv.F, '#a78bfa', 2.5);
    drawLine(pv.F, pv.A, '#a78bfa', 2.5);

    // Height indicator: dashed line from midpoint of EF down to midpoint of CD
    const midEF = [(pv.E[0] + pv.F[0]) / 2, (pv.E[1] + pv.F[1]) / 2];
    const midCD = [(pv.C[0] + pv.D[0]) / 2, (pv.C[1] + pv.D[1]) / 2];

    // Draw the angle arc at point A (or D) between base and the cut plane
    // The angle is between AF direction and AD direction (both in the plane containing A)
    // AD is along base, AF goes up to F
    drawAngleArc(pv.A, pv.D, pv.F, 30, '#4ade80');
    // Label the angle
    const angleLabelX = pv.A[0] + (pv.D[0] - pv.A[0]) * 0.25 + (pv.F[0] - pv.A[0]) * 0.12;
    const angleLabelY = pv.A[1] + (pv.D[1] - pv.A[1]) * 0.25 + (pv.F[1] - pv.A[1]) * 0.12;
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03B1 = 60\u00B0', angleLabelX + 10, angleLabelY - 2);

    // Labels for vertices
    const labelConfig = {
      A: [0, 16], B: [0, 16], C: [0, 16], D: [0, 16],
      Ap: [0, -10], Bp: [0, -10], Cp: [0, -10], Dp: [0, -10],
      E: [14, -6], F: [-14, -6]
    };

    const vertexLabels = {
      A: 'A', B: 'B', C: 'C', D: 'D',
      Ap: "A'", Bp: "B'", Cp: "C'", Dp: "D'",
      E: 'E', F: 'F'
    };

    for (const key in vertexLabels) {
      const pt = pv[key];
      const off = labelConfig[key] || [0, 0];
      const isSection = key === 'E' || key === 'F';
      const isBase = !key.includes('p') && key !== 'E' && key !== 'F';

      // Dot
      ctx.beginPath();
      ctx.arc(pt[0], pt[1], isSection ? 5 : 4, 0, 2 * Math.PI);
      ctx.fillStyle = isSection ? '#a78bfa' : (isBase ? '#60a5fa' : '#94a3b8');
      ctx.fill();

      drawLabel(vertexLabels[key], pt, isSection ? '#a78bfa' : (isBase ? '#60a5fa' : '#cbd5e1'), off[0], off[1]);
    }

    // Side labels
    // Label "a" on base edge AB
    const midAB = [(pv.A[0] + pv.B[0]) / 2, (pv.A[1] + pv.B[1]) / 2];
    ctx.fillStyle = '#f472b6';
    ctx.font = 'italic bold 16px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('a', midAB[0], midAB[1] + 20);

    // Label "a" on base edge AD
    const midAD = [(pv.A[0] + pv.D[0]) / 2, (pv.A[1] + pv.D[1]) / 2];
    ctx.fillText('a', midAD[0] - 14, midAD[1] + 6);

    // Label "a/cos Î±" on side AF of the cross-section
    const midAF = [(pv.A[0] + pv.F[0]) / 2, (pv.A[1] + pv.F[1]) / 2];
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'italic 13px Segoe UI, sans-serif';
    ctx.fillText('a/cos\u03B1', midAF[0] - 30, midAF[1]);

    // Legend
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    let lx = 14, ly = 22;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(lx, ly - 8, 14, 3);
    ctx.fillText('Ivice prizme', lx + 20, ly);
    ly += 20;

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(lx, ly - 8, 14, 3);
    ctx.fillText('Presek ABEF (ravan)', lx + 20, ly);
    ly += 20;

    ctx.fillStyle = '#4ade80';
    ctx.fillRect(lx, ly - 8, 14, 3);
    ctx.fillText('Ugao \u03B1 = 60\u00B0', lx + 20, ly);
  }

  draw();

  // Drag to rotate
  function getPointerX(e) {
    if (e.touches && e.touches.length > 0) return e.touches[0].clientX;
    return e.clientX;
  }

  canvas.addEventListener('mousedown', (e) => {
    dragging = true;
    lastX = e.clientX;
  });
  canvas.addEventListener('touchstart', (e) => {
    dragging = true;
    lastX = getPointerX(e);
  });

  function onMove(e) {
    if (!dragging) return;
    const x = getPointerX(e);
    const dx = x - lastX;
    rotY += dx * 0.008;
    lastX = x;
    draw();
  }

  canvas.addEventListener('mousemove', onMove);
  canvas.addEventListener('touchmove', onMove);

  function onEnd() {
    dragging = false;
  }

  canvas.addEventListener('mouseup', onEnd);
  canvas.addEventListener('mouseleave', onEnd);
  canvas.addEventListener('touchend', onEnd);
  canvas.addEventListener('touchcancel', onEnd);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Ugao preseka ravni i baze pravilne Äetvorostrane prizme",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "pravilna prizma", "presek tela ravni", "diedarski ugao", "povrÅ¡ina preseka"]
}
BRAINSPARK_META-->