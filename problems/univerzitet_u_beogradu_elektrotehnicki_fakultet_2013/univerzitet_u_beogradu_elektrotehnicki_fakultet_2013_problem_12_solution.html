<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binomni razvoj - Clan bez x</title>
<script type="text/info" id="logic-scratchpad">
Problem: U razvoju binoma (x - 1/⁵√x)^12, x ∈ R\{0}, naći član koji ne sadrži x.

Korak 1: Prepišimo binom u eksponencijalnom obliku.
  x - 1/⁵√x = x - x^(-1/5)

Dakle razvijamo: (x - x^(-1/5))^12

Korak 2: Opšti član binomnog razvoja (x + y)^n je T_{k+1} = C(n,k) · x^(n-k) · y^k

Ovde: a = x, b = -x^(-1/5), n = 12

T_{k+1} = C(12,k) · x^(12-k) · (-x^(-1/5))^k
        = C(12,k) · x^(12-k) · (-1)^k · x^(-k/5)
        = C(12,k) · (-1)^k · x^(12 - k - k/5)
        = C(12,k) · (-1)^k · x^(12 - 6k/5)

Korak 3: Za član bez x, eksponent od x mora biti 0:
  12 - 6k/5 = 0
  12 = 6k/5
  60 = 6k
  k = 10

Korak 4: Za k = 10:
T_{11} = C(12,10) · (-1)^10 · x^0
       = C(12,10) · 1 · 1
       = C(12,2)  (jer C(12,10) = C(12,2))
       = (12 · 11) / (2 · 1)
       = 132 / 2
       = 66

Odgovor: 66, tj. opcija (B).

Verifikacija: (-1)^10 = 1 (paran eksponent, pozitivno).
C(12,2) = 66. ✓
Eksponent: 12 - 6·10/5 = 12 - 12 = 0. ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 90px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Binomni razvoj - Clan bez promenljive</h1>
  <p class="subtitle">Primena binomne teoreme i nalazenje clana razvoja koji ne sadrzi x</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>U razvoju binoma \(\left(x - \dfrac{1}{\sqrt[5]{x}}\right)^{12}\), gde je \(x \in \mathbb{R} \setminus \{0\}\), clan koji ne sadrzi \(x\) jednak je:</p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">Binom</div>
        <div class="value">\(\left(x - x^{-1/5}\right)^{12}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Eksponent</div>
        <div class="value">\(n = 12\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-132\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(66\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(11\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-12\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(1\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Napisacemo opsti clan binomnog razvoja koristeci Njutnovu binomnu formulu, izraziti eksponent od \(x\) u zavisnosti od \(k\), pa naci onu vrednost \(k\) za koju je eksponent jednak nuli. Zatim izracunati odgovarajuci binomni koeficijent.</p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <ul>
      <li><strong>Binomna teorema:</strong> \(\displaystyle (a+b)^n = \sum_{k=0}^{n} \binom{n}{k}\, a^{n-k}\, b^k\)</li>
      <li><strong>Opsti clan:</strong> \(T_{k+1} = \binom{n}{k}\, a^{n-k}\, b^k\), gde \(k = 0, 1, 2, \ldots, n\)</li>
      <li><strong>Binomni koeficijent:</strong> \(\binom{n}{k} = \dfrac{n!}{k!(n-k)!}\), takodje vazi \(\binom{n}{k} = \binom{n}{n-k}\)</li>
      <li><strong>Korenovanje kao stepenovanje:</strong> \(\dfrac{1}{\sqrt[5]{x}} = x^{-1/5}\)</li>
    </ul>
  </details>

  <!-- Canvas Visualization -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Prikaz clanova binomnog razvoja \(\left(x - x^{-1/5}\right)^{12}\) sa eksponentima od \(x\)</p>
    <canvas id="binom-canvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Pomerajte klizac da vidite eksponent od x za svako k</p>
    <div style="margin-top: 12px;">
      <label for="k-slider" style="color: #94a3b8; font-size: 0.95rem;">Vrednost k: </label>
      <input type="range" id="k-slider" min="0" max="12" value="10" style="width: 200px; vertical-align: middle;">
      <span id="k-display" style="color: #60a5fa; font-weight: 700; font-size: 1.1rem; margin-left: 8px;">10</span>
    </div>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Prepisimo binom u eksponencijalnom obliku</h3>
        <p>Izraz \(\dfrac{1}{\sqrt[5]{x}}\) zapisujemo kao stepen od \(x\):</p>
        <div class="math-box">
          \[ \frac{1}{\sqrt[5]{x}} = \frac{1}{x^{1/5}} = x^{-1/5} \]
        </div>
        <p>Dakle, binom ima oblik:</p>
        <div class="math-box">
          \[ \left(x - x^{-1/5}\right)^{12} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Napisimo opsti clan razvoja</h3>
        <p>Prema binomnoj teoremi, opsti (\(k+1\)-vi) clan je:</p>
        <div class="math-box">
          \[ T_{k+1} = \binom{12}{k} \cdot x^{12-k} \cdot \left(-x^{-1/5}\right)^k \]
        </div>
      </div>
    </div>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Sredimo izraz za opsti clan</h3>
        <p>Razdvojimo \(\left(-x^{-1/5}\right)^k\) na dva dela:</p>
        <div class="math-box">
          \[ \left(-x^{-1/5}\right)^k = (-1)^k \cdot x^{-k/5} \]
        </div>
        <p>Sada spojimo stepene od \(x\):</p>
        <div class="math-box">
          \[ T_{k+1} = \binom{12}{k} \cdot (-1)^k \cdot x^{12-k} \cdot x^{-k/5} = \binom{12}{k} \cdot (-1)^k \cdot x^{12 - k - \frac{k}{5}} \]
        </div>
        <p>Svedimo eksponent na zajednicki imenilac:</p>
        <div class="math-box">
          \[ 12 - k - \frac{k}{5} = 12 - \frac{5k + k}{5} = 12 - \frac{6k}{5} \]
        </div>
        <p>Konacno:</p>
        <div class="math-box">
          \[ T_{k+1} = \binom{12}{k} \cdot (-1)^k \cdot x^{12 - \frac{6k}{5}} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Za \(k = 0\), koliki je eksponent od \(x\)?</summary>
      <p>\(12 - \dfrac{6 \cdot 0}{5} = 12\). To je prvi clan \(T_1 = x^{12}\), sto je ispravno jer je \((x + \ldots)^{12}\) i prvi clan je \(x^{12}\).</p>
    </details>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Postavimo uslov: eksponent od \(x\) jednak nuli</h3>
        <p>Clan koji <span class="highlight">ne sadrzi \(x\)</span> ima eksponent \(x^0 = 1\). Dakle:</p>
        <div class="math-box">
          \[ 12 - \frac{6k}{5} = 0 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Resimo jednacinu po \(k\)</h3>
        <p>Pomnozimo obe strane sa \(5\):</p>
        <div class="math-box">
          \[ 60 - 6k = 0 \]
        </div>
        <p>Odatle:</p>
        <div class="math-box">
          \[ 6k = 60 \quad \Rightarrow \quad k = 10 \]
        </div>
        <p>Posto je \(k = 10\) ceo broj i \(0 \leq 10 \leq 12\), ovaj clan zaista postoji u razvoju.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Da li je k = 10 validan indeks?</summary>
      <p>Da! Za binom stepena \(n = 12\), indeks \(k\) ide od \(0\) do \(12\). Vrednost \(k = 10\) je u tom opsegu, pa je 11-ti clan (\(T_{11}\)) trazeni.</p>
    </details>

    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izracunajmo clan \(T_{11}\)</h3>
        <p>Za \(k = 10\):</p>
        <div class="math-box">
          \[ T_{11} = \binom{12}{10} \cdot (-1)^{10} \cdot x^{0} \]
        </div>
        <p>Razmotrimo svaki faktor:</p>
        <div class="math-box">
          \[ (-1)^{10} = 1 \quad \text{(paran eksponent, rezultat pozitivan)} \]
        </div>
        <div class="math-box">
          \[ \binom{12}{10} = \binom{12}{2} = \frac{12 \cdot 11}{2 \cdot 1} = \frac{132}{2} = 66 \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ T_{11} = 66 \cdot 1 \cdot 1 = 66 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Zasto je \(\binom{12}{10} = \binom{12}{2}\)?</summary>
      <p>Po osobini binomnog koeficijenta: \(\binom{n}{k} = \binom{n}{n-k}\). Za \(n = 12\) i \(k = 10\): \(\binom{12}{10} = \binom{12}{12-10} = \binom{12}{2}\). Ovo pojednostavljuje racun jer je lakse izracunati \(\binom{12}{2}\) nego \(\binom{12}{10}\).</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Ceo zadatak se svodi na jedno pitanje: <em>za koje \(k\) je eksponent od \(x\) jednak nuli?</em> Kada zapisete opsti clan i izrazite eksponent kao \(12 - \frac{6k}{5}\), jednacina \(12 - \frac{6k}{5} = 0\) daje \(k = 10\). Bitno je proveriti da je \((-1)^{10} = 1\) (pozitivno!), sto znaci da je trazeni clan upravo binomni koeficijent \(\binom{12}{2} = 66\).</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">\(T_{11} = \binom{12}{10} \cdot (-1)^{10} = 66\)</div>

    <div class="options-row">
      <div class="option-box">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(-132\)</div>
      </div>
      <div class="option-box correct">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(66\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(11\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(-12\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(1\)</div>
      </div>
    </div>

    <p class="verification"><strong>Verifikacija:</strong> Eksponent od \(x\): \(12 - \frac{6 \cdot 10}{5} = 12 - 12 = 0\) &check;. Predznak: \((-1)^{10} = 1\) &check;. Koeficijent: \(\binom{12}{2} = 66\) &check;. Clan ne sadrzi \(x\) i jednak je \(66\).</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Zaboravljanje predznaka \((-1)^k\):</strong> Drugi clan binoma je \(-x^{-1/5}\), ne \(+x^{-1/5}\). Za neparne vrednosti \(k\), faktor \((-1)^k\) daje negativan rezultat. Odgovor (A) = \(-132\) nastaje ako neko uzme \(\binom{12}{10} \cdot (-1)^{10}\) ali racuna sa \(\binom{12}{10} = 132\) bez deljenja sa \(2!\), ili pak pogresno odredi predznak. Srecom, za \(k = 10\) (paran broj), predznak je pozitivan.</li>
      <li><strong>Pogresan eksponent kod korenovanja:</strong> \(\frac{1}{\sqrt[5]{x}} = x^{-1/5}\), a ne \(x^{-5}\) ili \(x^{-1}\). Tacno zapisivanje razlomljenog eksponenta je kljucno za ispravnu formulu opsteg clana.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliko ukupno celih (racionalnih po eksponentu od \(x\)) clanova ima u razvoju binoma \(\left(x - x^{-1/5}\right)^{12}\)? Drugim recima, za koliko vrednosti \(k \in \{0, 1, \ldots, 12\}\) je eksponent \(12 - \frac{6k}{5}\) ceo broj?</p>
    <details>
      <summary>Pomoc</summary>
      <p>Eksponent \(12 - \frac{6k}{5}\) je ceo broj kada je \(\frac{6k}{5}\) ceo broj, tj. kada je \(6k\) deljivo sa \(5\). Posto je \(\text{NZD}(6,5) = 1\), potrebno je da \(k\) bude deljivo sa \(5\). U opsegu \(0 \leq k \leq 12\), to su \(k \in \{0, 5, 10\}\) — dakle, tacno <strong>3 racionalna clana</strong>.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Canvas: Visualize binomial expansion terms and their x-exponents
  const canvas = document.getElementById('binom-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const slider = document.getElementById('k-slider');
  const kDisplay = document.getElementById('k-display');

  // Compute exponent of x for given k
  function exponent(k) {
    return 12 - (6 * k) / 5;
  }

  // Compute binomial coefficient C(n, k)
  function binomCoeff(n, k) {
    if (k < 0 || k > n) return 0;
    if (k === 0 || k === n) return 1;
    if (k > n - k) k = n - k;
    let result = 1;
    for (let i = 0; i < k; i++) {
      result = result * (n - i) / (i + 1);
    }
    return Math.round(result);
  }

  function draw(highlightK) {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const marginLeft = 65;
    const marginRight = 30;
    const marginTop = 50;
    const marginBottom = 70;
    const plotW = W - marginLeft - marginRight;
    const plotH = H - marginTop - marginBottom;

    // Data: exponents for k = 0..12
    const exponents = [];
    for (let k = 0; k <= 12; k++) {
      exponents.push(exponent(k));
    }
    const minExp = Math.min(...exponents);
    const maxExp = Math.max(...exponents);
    const expRange = maxExp - minExp;

    function toX(k) {
      return marginLeft + (k / 12) * plotW;
    }
    function toY(val) {
      return marginTop + plotH - ((val - minExp) / expRange) * plotH;
    }

    // Grid lines (horizontal)
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let v = Math.ceil(minExp); v <= Math.floor(maxExp); v += 2) {
      ctx.beginPath();
      ctx.moveTo(marginLeft, toY(v));
      ctx.lineTo(W - marginRight, toY(v));
      ctx.stroke();
    }

    // Zero line
    if (minExp <= 0 && maxExp >= 0) {
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(marginLeft, toY(0));
      ctx.lineTo(W - marginRight, toY(0));
      ctx.stroke();

      ctx.fillStyle = '#64748b';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('0', marginLeft - 10, toY(0) + 4);
    }

    // Y-axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    for (let v = Math.ceil(minExp); v <= Math.floor(maxExp); v += 2) {
      if (v === 0) continue;
      const label = v.toString().replace('.', ',');
      ctx.fillText(label, marginLeft - 10, toY(v) + 4);
    }

    // Y-axis title
    ctx.save();
    ctx.translate(16, marginTop + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Eksponent od x', 0, 0);
    ctx.restore();

    // X-axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let k = 0; k <= 12; k++) {
      ctx.fillText('k=' + k, toX(k), H - marginBottom + 22);
    }

    // X-axis title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Indeks k u binomnom razvoju', marginLeft + plotW / 2, H - 10);

    // Draw the line connecting exponents
    ctx.strokeStyle = 'rgba(96,165,250,0.4)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let k = 0; k <= 12; k++) {
      const px = toX(k);
      const py = toY(exponents[k]);
      if (k === 0) ctx.moveTo(px, py);
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Draw dots for each k
    for (let k = 0; k <= 12; k++) {
      const px = toX(k);
      const py = toY(exponents[k]);
      const isHighlighted = k === highlightK;
      const isZero = Math.abs(exponents[k]) < 0.001;

      // Glow for highlighted
      if (isHighlighted) {
        const grad = ctx.createRadialGradient(px, py, 0, px, py, 25);
        grad.addColorStop(0, 'rgba(74,222,128,0.4)');
        grad.addColorStop(1, 'rgba(74,222,128,0)');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(px, py, 25, 0, Math.PI * 2);
        ctx.fill();
      }

      // Dot
      ctx.beginPath();
      ctx.arc(px, py, isHighlighted ? 8 : 6, 0, Math.PI * 2);
      if (isZero) {
        ctx.fillStyle = '#4ade80';
      } else if (isHighlighted) {
        ctx.fillStyle = '#60a5fa';
      } else {
        ctx.fillStyle = '#60a5fa';
      }
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Value label for special points
      if (isHighlighted || isZero) {
        const expVal = exponents[k];
        const expStr = Number.isInteger(expVal) ? expVal.toString() : expVal.toFixed(1).replace('.', ',');
        ctx.fillStyle = isZero ? '#4ade80' : '#60a5fa';
        ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('exp = ' + expStr, px, py - 16);
      }
    }

    // Info box for highlighted k
    const hExp = exponents[highlightK];
    const hCoeff = binomCoeff(12, highlightK);
    const hSign = Math.pow(-1, highlightK);
    const hVal = hCoeff * hSign;

    // Info panel background
    const infoX = marginLeft + 8;
    const infoY = marginTop + 4;
    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const rr = 8;
    const infoW = 260;
    const infoH = 80;
    ctx.beginPath();
    ctx.moveTo(infoX + rr, infoY);
    ctx.lineTo(infoX + infoW - rr, infoY);
    ctx.quadraticCurveTo(infoX + infoW, infoY, infoX + infoW, infoY + rr);
    ctx.lineTo(infoX + infoW, infoY + infoH - rr);
    ctx.quadraticCurveTo(infoX + infoW, infoY + infoH, infoX + infoW - rr, infoY + infoH);
    ctx.lineTo(infoX + rr, infoY + infoH);
    ctx.quadraticCurveTo(infoX, infoY + infoH, infoX, infoY + infoH - rr);
    ctx.lineTo(infoX, infoY + rr);
    ctx.quadraticCurveTo(infoX, infoY, infoX + rr, infoY);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('k = ' + highlightK + '  (T\u2081' + (highlightK === 0 ? '' : '\u2080'.repeat(0)) + ')', infoX + 12, infoY + 22);

    // Format T subscript
    const termNum = highlightK + 1;
    ctx.fillText('T_' + termNum, infoX + 12, infoY + 22);

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    const expStr2 = Number.isInteger(hExp) ? hExp.toString() : hExp.toFixed(1).replace('.', ',');
    ctx.fillText('Eksponent od x: ' + expStr2, infoX + 12, infoY + 44);
    ctx.fillText('C(12,' + highlightK + ') = ' + hCoeff + ',  (-1)^' + highlightK + ' = ' + hSign, infoX + 12, infoY + 64);

    if (Math.abs(hExp) < 0.001) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Clan BEZ x!  Vrednost = ' + hVal, infoX + 12 + infoW + 16 - infoW, infoY + 44);
      // Reposition
      ctx.fillText('\u2192 Clan bez x = ' + hVal, infoX + infoW + 16, infoY + 44);
    }
  }

  // Initial draw
  draw(parseInt(slider.value, 10));

  // Slider event
  slider.addEventListener('input', function() {
    const k = parseInt(this.value, 10);
    kDisplay.textContent = k;
    draw(k);
  });

  // Step click interactivity
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Binomni razvoj - Clan bez promenljive",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["binomna teorema", "binomni razvoj", "opsti clan", "binomni koeficijent", "stepenovanje"]
}
BRAINSPARK_META-->