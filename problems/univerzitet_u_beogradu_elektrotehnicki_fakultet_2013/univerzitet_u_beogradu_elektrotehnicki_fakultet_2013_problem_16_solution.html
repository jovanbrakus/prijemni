<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Najmanje rastojanje tačke od krive</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Najmanja vrednost rastojanja tačke M(0, 1) od tačaka (x, y) takvih da je
y = 1 + 1/(4√3 · x^(3/2)), za x > 0, iznosi:
(A) 2√(2/3)  (B) √3/3  (C) √2/2  (D) (1/2)√(5/3)  (E) 1/3

SOLUTION:

Step 1: Formulate the distance squared.
d² = x² + (y - 1)² = x² + (1/(4√3 · x^(3/2)))²
   = x² + 1/(48 · x³)

Step 2: Define f(x) = x² + 1/(48x³) and find minimum.
f'(x) = 2x - 3/(48x⁴) = 2x - 1/(16x⁴)

Step 3: Set f'(x) = 0.
2x = 1/(16x⁴)
32x⁵ = 1
x⁵ = 1/32
x = (1/32)^(1/5) = 1/2

Step 4: Compute f(1/2).
f(1/2) = (1/2)² + 1/(48·(1/2)³)
       = 1/4 + 1/(48·1/8)
       = 1/4 + 1/6
       = 3/12 + 2/12
       = 5/12

Step 5: Compute d.
d = √(5/12) = √5 / (2√3) = √5·√3 / 6 = √15 / 6
Alternatively: d = (1/2)·√(5/3)

Step 6: Verify second derivative to confirm minimum.
f''(x) = 2 + 12/(48x⁵) = 2 + 1/(4x⁵)
f''(1/2) = 2 + 1/(4·(1/32)) = 2 + 8 = 10 > 0 ✓ (minimum confirmed)

Step 7: Check against options.
(D) = (1/2)√(5/3) = (1/2)·√5/√3 = √5/(2√3) = √15/6 ✓

ANSWER: (D) (1/2)√(5/3)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Najmanje rastojanje tačke od krive</h1>
  <p class="subtitle">Optimizacija rastojanja, izvod, kritične tačke</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Najmanja vrednost rastojanja tačke \(M(0,\, 1)\) od tačaka \((x,\, y)\) takvih da je</p>
    <div class="math-box">
      \[ y = 1 + \frac{1}{4\sqrt{3}\, \cdot\, x^{3/2}}, \quad x > 0 \]
    </div>
    <p>iznosi:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2\sqrt{\dfrac{2}{3}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{\sqrt{3}}{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{\sqrt{2}}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{1}{2}\sqrt{\dfrac{5}{3}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{1}{3}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Rastojanje tačke \(M(0,1)\) od proizvoljne tačke \((x,y)\) na krivoj izražavamo kao funkciju samo od \(x\). Umesto da minimizujemo sam koren, minimizujemo <span class="highlight">kvadrat rastojanja</span> \(d^2 = f(x)\), jer obe funkcije imaju isti minimum. Nalaženjem kritične tačke pomoću prvog izvoda i potvrdom pomoću drugog izvoda dolazimo do tačnog odgovora.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Rastojanje između dve tačke:</strong> \( d = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} \). Minimizacija \(d\) je ekvivalentna minimizaciji \(d^2\).</li>
          <li><strong>Potreban uslov za ekstremum:</strong> Ako je \(f\) diferencijabilna i ima lokalni ekstremum u \(x_0\), tada je \(f'(x_0) = 0\).</li>
          <li><strong>Dovoljan uslov (drugi izvod):</strong> Ako je \(f'(x_0) = 0\) i \(f''(x_0) > 0\), onda \(f\) ima lokalni minimum u \(x_0\).</li>
          <li><strong>Pravilo za stepene funkcije:</strong> \(\frac{d}{dx}\left(x^n\right) = n \cdot x^{n-1}\) i \(\frac{d}{dx}\left(x^{-n}\right) = -n \cdot x^{-n-1}\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Grafički prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Kriva \(y = 1 + \frac{1}{4\sqrt{3}\, x^{3/2}}\), tačka \(M(0,1)\), i duž minimalnog rastojanja.</p>
    <canvas id="diagram" width="700" height="500"></canvas>
    <p class="drag-hint">Pomerajte miš po grafiku za interaktivno praćenje rastojanja</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Postavljanje funkcije rastojanja</div>
      <div class="step-text">
        <p>Tačka \(M(0,1)\) je fiksna. Tačka na krivoj ima koordinate \(\bigl(x,\; 1 + \frac{1}{4\sqrt{3}\, x^{3/2}}\bigr)\) za \(x > 0\).</p>
        <p>Rastojanje je:</p>
        <div class="math-box">
          \[ d = \sqrt{(x - 0)^2 + \left(1 + \frac{1}{4\sqrt{3}\, x^{3/2}} - 1\right)^{\!2}} = \sqrt{x^2 + \frac{1}{48\, x^3}} \]
        </div>
        <p>Obrazloženje za imenilac: \(\left(\frac{1}{4\sqrt{3}\, x^{3/2}}\right)^{2} = \frac{1}{16 \cdot 3 \cdot x^3} = \frac{1}{48\, x^3}\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Definisanje funkcije za minimizaciju</div>
      <div class="step-text">
        <p>Minimizujemo kvadrat rastojanja (isti minimum kao i koren):</p>
        <div class="math-box">
          \[ f(x) = d^2 = x^2 + \frac{1}{48\, x^3}, \quad x > 0 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Nalaženje prvog izvoda</div>
      <div class="step-text">
        <p>Izvodimo \(f(x)\) koristeći pravilo za stepene:</p>
        <div class="math-box">
          \[ f'(x) = 2x + \frac{1}{48} \cdot (-3) \cdot x^{-4} = 2x - \frac{1}{16\, x^4} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Zašto je izvod od \(\frac{1}{48x^3}\) jednak \(-\frac{1}{16x^4}\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Pišemo \(\frac{1}{48x^3} = \frac{1}{48} \cdot x^{-3}\). Tada je izvod: \(\frac{1}{48} \cdot (-3) \cdot x^{-4} = -\frac{3}{48} \cdot x^{-4} = -\frac{1}{16} \cdot x^{-4} = -\frac{1}{16x^4}\).
      </p>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Rešavanje jednačine \(f'(x) = 0\)</div>
      <div class="step-text">
        <p>Postavljamo uslov za stacionarnu tačku:</p>
        <div class="math-box">
          \[ 2x - \frac{1}{16\, x^4} = 0 \]
        </div>
        <p>Množimo obe strane sa \(16\, x^4\) (pozitivno za \(x > 0\)):</p>
        <div class="math-box">
          \[ 32\, x^5 = 1 \quad \Rightarrow \quad x^5 = \frac{1}{32} = \frac{1}{2^5} \quad \Rightarrow \quad \boxed{x = \frac{1}{2}} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Izračunavanje \(f\!\left(\frac{1}{2}\right)\)</div>
      <div class="step-text">
        <p>Uvrštavamo \(x = \frac{1}{2}\) u funkciju \(f(x)\):</p>
        <div class="math-box">
          \[ f\!\left(\frac{1}{2}\right) = \left(\frac{1}{2}\right)^{\!2} + \frac{1}{48 \cdot \left(\frac{1}{2}\right)^{\!3}} = \frac{1}{4} + \frac{1}{48 \cdot \frac{1}{8}} = \frac{1}{4} + \frac{1}{6} \]
        </div>
        <p>Svodimo na zajednički imenilac:</p>
        <div class="math-box">
          \[ \frac{1}{4} + \frac{1}{6} = \frac{3}{12} + \frac{2}{12} = \frac{5}{12} \]
        </div>
        <p>Dakle: \(d^2 = \frac{5}{12}\).</p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Potvrda minimuma drugim izvodom</div>
      <div class="step-text">
        <p>Računamo drugi izvod:</p>
        <div class="math-box">
          \[ f''(x) = 2 + \frac{4}{16\, x^5} = 2 + \frac{1}{4\, x^5} \]
        </div>
        <p>Za \(x = \frac{1}{2}\):</p>
        <div class="math-box">
          \[ f''\!\left(\frac{1}{2}\right) = 2 + \frac{1}{4 \cdot \frac{1}{32}} = 2 + \frac{32}{4} = 2 + 8 = 10 > 0 \]
        </div>
        <p>Pošto je \(f''(1/2) > 0\), radi se o <span class="highlight">lokalnom minimumu</span>.</p>
        <p style="color:#94a3b8;">Napomena: Ovo je i globalni minimum, jer je \(f(x) \to +\infty\) i za \(x \to 0^+\) i za \(x \to +\infty\), a postoji samo jedna stacionarna tačka.</p>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <span class="step-badge">Korak 7</span>
      <div class="step-title">Izračunavanje minimalnog rastojanja</div>
      <div class="step-text">
        <p>Minimalno rastojanje je:</p>
        <div class="math-box">
          \[ d = \sqrt{\frac{5}{12}} = \frac{\sqrt{5}}{\sqrt{12}} = \frac{\sqrt{5}}{2\sqrt{3}} = \frac{\sqrt{5} \cdot \sqrt{3}}{2 \cdot 3} = \frac{\sqrt{15}}{6} \]
        </div>
        <p>Alternativno, možemo pisati:</p>
        <div class="math-box">
          \[ d = \sqrt{\frac{5}{12}} = \frac{1}{2}\sqrt{\frac{5}{3}} \]
        </div>
        <p>jer je \(\frac{5}{12} = \frac{1}{4} \cdot \frac{5}{3}\), pa \(\sqrt{\frac{5}{12}} = \frac{1}{2}\sqrt{\frac{5}{3}}\).</p>
        <p>Ovo odgovara opciji <span class="highlight">(D)</span>.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Numerička verifikacija</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Proverimo numerički: \(\frac{1}{2}\sqrt{\frac{5}{3}} = \frac{1}{2} \cdot \frac{\sqrt{5}}{\sqrt{3}} = \frac{1}{2} \cdot \frac{2{,}236}{1{,}732} \approx \frac{1}{2} \cdot 1{,}291 = 0{,}645\).<br><br>
        Takođe: \(\sqrt{\frac{5}{12}} = \sqrt{0{,}4167} \approx 0{,}6455\). Vrednosti se poklapaju.<br><br>
        Proverimo i ostale opcije:<br>
        (A) \(2\sqrt{2/3} \approx 2 \cdot 0{,}816 = 1{,}633\) — preveliko.<br>
        (B) \(\sqrt{3}/3 \approx 0{,}577\) — premalo.<br>
        (C) \(\sqrt{2}/2 \approx 0{,}707\) — preveliko.<br>
        (E) \(1/3 \approx 0{,}333\) — premalo.
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Ključni uvid</h3>
    <p>Pošto kriva prolazi "iznad" tačke \(M(0,1)\) (jer je \(y > 1\) za sve \(x > 0\)), vertikalno odstupanje je upravo \(\frac{1}{4\sqrt{3}\, x^{3/2}}\). Kvadriranje daje čist izraz \(f(x) = x^2 + \frac{1}{48x^3}\), čiji minimum elegantno daje peti koren: \(x^5 = \frac{1}{32}\), tj. \(x = \frac{1}{2}\).</p>
    <div class="math-box" style="text-align: center; font-size: 1.1rem;">
      \[ d_{\min}^2 = \frac{1}{4} + \frac{1}{6} = \frac{5}{12} \quad \Rightarrow \quad d_{\min} = \frac{1}{2}\sqrt{\frac{5}{3}} = \frac{\sqrt{15}}{6} \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konačan odgovor</h2>
    <p class="answer-label">Najmanja vrednost rastojanja tačke \(M(0,1)\) od krive iznosi:</p>
    <div class="answer-value">\(\displaystyle \text{(D)}\ \frac{1}{2}\sqrt{\frac{5}{3}} = \frac{\sqrt{15}}{6}\)</div>
    <div class="options-row">
      <div class="option-box">(A) \(2\sqrt{\frac{2}{3}}\)</div>
      <div class="option-box">(B) \(\frac{\sqrt{3}}{3}\)</div>
      <div class="option-box">(C) \(\frac{\sqrt{2}}{2}\)</div>
      <div class="option-box correct">(D) \(\frac{1}{2}\sqrt{\frac{5}{3}}\)</div>
      <div class="option-box">(E) \(\frac{1}{3}\)</div>
    </div>
    <p class="verification-note">Provera: \(d^2 = f(1/2) = 1/4 + 1/6 = 5/12\), dakle \(d = \sqrt{5/12} = \frac{1}{2}\sqrt{5/3} \approx 0{,}6455\). Drugi izvod \(f''(1/2) = 10 > 0\) potvrđuje minimum.</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>Zaboraviti da se kvadrira \(\frac{1}{4\sqrt{3}\, x^{3/2}}\) — česta greška je ne kvadrirati \(\sqrt{3}\), pa se dobija \(\frac{1}{16 x^3}\) umesto ispravnog \(\frac{1}{48 x^3}\).</li>
      <li>Pogrešno uprošćavanje \(\left(\frac{1}{2}\right)^3\): rezultat je \(\frac{1}{8}\), ne \(\frac{1}{4}\) ili \(\frac{1}{6}\).</li>
      <li>Minimizovati \(d\) direktno umesto \(d^2\) — dovodi do komplikovanijeg izvoda sa istim rezultatom, ali sa većom verovatnoćom računske greške.</li>
      <li>Ne proveriti da je kritična tačka zaista minimum. Uvek koristiti drugi izvod ili analizu ponašanja na krajevima intervala.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Neka je data kriva \(y = 1 + \frac{1}{x^2}\), \(x > 0\). Naći najmanje rastojanje tačke \(M(0,1)\) od ove krive.</p>
    <details>
      <summary>Pomoć</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Postupak je analogan: formirati \(f(x) = x^2 + \frac{1}{x^4}\), naći \(f'(x) = 2x - \frac{4}{x^5} = 0\), odakle \(x^6 = 2\), tj. \(x = 2^{1/6}\). Izračunati \(f(2^{1/6})\) i koreniti.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const padLeft = 65;
  const padRight = 30;
  const padTop = 40;
  const padBottom = 50;
  const plotW = W - padLeft - padRight;
  const plotH = H - padTop - padBottom;

  // View range
  const xMin = -0.3;
  const xMax = 3.0;
  const yMin = 0.0;
  const yMax = 5.0;

  function toCanvasX(x) {
    return padLeft + ((x - xMin) / (xMax - xMin)) * plotW;
  }
  function toCanvasY(y) {
    return padTop + plotH - ((y - yMin) / (yMax - yMin)) * plotH;
  }
  function fromCanvasX(cx) {
    return xMin + ((cx - padLeft) / plotW) * (xMax - xMin);
  }

  // The curve: y = 1 + 1/(4*sqrt(3)*x^(3/2))
  function curveY(x) {
    if (x <= 0) return Infinity;
    return 1 + 1 / (4 * Math.sqrt(3) * Math.pow(x, 1.5));
  }

  // Distance from M(0,1)
  function dist(x) {
    const y = curveY(x);
    return Math.sqrt(x * x + (y - 1) * (y - 1));
  }

  // Critical point
  const xStar = 0.5;
  const yStar = curveY(xStar);
  const dMin = dist(xStar);

  let hoverX = null;

  function formatNum(n) {
    return n.toFixed(3).replace('.', ',');
  }

  function draw() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    for (let y = 0; y <= yMax; y += 1) {
      const cy = toCanvasY(y);
      ctx.beginPath();
      ctx.moveTo(padLeft, cy);
      ctx.lineTo(padLeft + plotW, cy);
      ctx.stroke();
    }
    for (let x = 0; x <= xMax; x += 0.5) {
      const cx = toCanvasX(x);
      ctx.beginPath();
      ctx.moveTo(cx, padTop);
      ctx.lineTo(cx, padTop + plotH);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis at y=0
    ctx.beginPath();
    ctx.moveTo(padLeft, toCanvasY(0));
    ctx.lineTo(padLeft + plotW, toCanvasY(0));
    ctx.stroke();
    // y-axis at x=0
    const x0c = toCanvasX(0);
    ctx.beginPath();
    ctx.moveTo(x0c, padTop);
    ctx.lineTo(x0c, padTop + plotH);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (let x = 0; x <= xMax; x += 0.5) {
      if (Math.abs(x) < 0.01) continue;
      ctx.fillText(x.toFixed(1).replace('.', ','), toCanvasX(x), toCanvasY(0) + 6);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let y = 0; y <= yMax; y += 1) {
      ctx.fillText(String(y), x0c - 8, toCanvasY(y));
    }

    // Axis titles
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('x', padLeft + plotW / 2, padTop + plotH + 30);
    ctx.save();
    ctx.translate(18, padTop + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('y', 0, 0);
    ctx.restore();

    // Draw the curve y = 1 + 1/(4sqrt(3)*x^(3/2))
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let started = false;
    for (let i = 0; i <= 600; i++) {
      const x = 0.05 + (i / 600) * (xMax - 0.05);
      const y = curveY(x);
      if (y > yMax + 0.5) { started = false; continue; }
      const cx = toCanvasX(x);
      const cy = toCanvasY(Math.max(y, yMin));
      if (!started) { ctx.moveTo(cx, cy); started = true; }
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Label the curve
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    const lblX = 1.4;
    const lblY = curveY(lblX);
    ctx.fillText('y = 1 + 1/(4\u221A3 \u00B7 x\u00B3\u02C0\u00B2)', toCanvasX(lblX) + 5, toCanvasY(lblY) - 5);

    // Draw horizontal line y = 1
    ctx.strokeStyle = 'rgba(148,163,184,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(padLeft, toCanvasY(1));
    ctx.lineTo(padLeft + plotW, toCanvasY(1));
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'bottom';
    ctx.fillText('y = 1', padLeft + plotW - 5, toCanvasY(1) - 3);

    // Point M(0,1)
    const mCx = toCanvasX(0);
    const mCy = toCanvasY(1);
    ctx.beginPath();
    ctx.arc(mCx, mCy, 10, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(244,114,182,0.2)';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(mCx, mCy, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'bottom';
    ctx.fillText('M(0, 1)', mCx - 10, mCy - 8);

    // Draw the minimum distance line from M to (xStar, yStar)
    const sCx = toCanvasX(xStar);
    const sCy = toCanvasY(yStar);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(mCx, mCy);
    ctx.lineTo(sCx, sCy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Point on curve at minimum
    ctx.beginPath();
    ctx.arc(sCx, sCy, 10, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(74,222,128,0.2)';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(sCx, sCy, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    // Label the minimum point and distance
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('(' + formatNum(xStar) + '; ' + formatNum(yStar) + ')', sCx + 10, sCy + 4);

    // Distance label on the line
    const midLx = (mCx + sCx) / 2;
    const midLy = (mCy + sCy) / 2;
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'top';
    ctx.fillText('d\u2098\u1d62\u2099 = \u221A(5/12) \u2248 ' + formatNum(dMin), midLx - 8, midLy - 2);

    // Interactive hover
    if (hoverX !== null && hoverX > 0.03 && hoverX < xMax) {
      const hy = curveY(hoverX);
      if (hy <= yMax) {
        const hcx = toCanvasX(hoverX);
        const hcy = toCanvasY(hy);
        const hd = dist(hoverX);

        // Line from M to hover point
        ctx.strokeStyle = 'rgba(226,232,240,0.35)';
        ctx.lineWidth = 1.5;
        ctx.setLineDash([3, 3]);
        ctx.beginPath();
        ctx.moveTo(mCx, mCy);
        ctx.lineTo(hcx, hcy);
        ctx.stroke();
        ctx.setLineDash([]);

        // Hover point
        ctx.beginPath();
        ctx.arc(hcx, hcy, 5, 0, 2 * Math.PI);
        ctx.fillStyle = '#e2e8f0';
        ctx.fill();

        // Label
        ctx.fillStyle = '#e2e8f0';
        ctx.font = '12px Segoe UI, sans-serif';
        ctx.textAlign = 'left';
        ctx.textBaseline = 'bottom';
        ctx.fillText('x=' + hoverX.toFixed(2).replace('.', ',') + '  d=' + hd.toFixed(4).replace('.', ','), hcx + 10, hcy - 6);
      }
    }

    // Legend
    const legX = padLeft + plotW - 230;
    const legY = padTop + 10;
    ctx.fillStyle = 'rgba(15,23,42,0.85)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(legX, legY, 220, 80, 6);
    ctx.fill();
    ctx.stroke();

    let ly = legY + 18;
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';

    // Curve legend
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legX + 10, ly);
    ctx.lineTo(legX + 30, ly);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('Kriva y(x)', legX + 36, ly);

    ly += 22;
    ctx.beginPath();
    ctx.arc(legX + 20, ly, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Tačka M(0, 1)', legX + 36, ly);

    ly += 22;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(legX + 10, ly);
    ctx.lineTo(legX + 30, ly);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#4ade80';
    ctx.fillText('Minimalno rastojanje', legX + 36, ly);
  }

  draw();

  // Mouse hover
  function getMouseX(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    return (e.clientX - rect.left) * scaleX;
  }

  canvas.addEventListener('mousemove', function(e) {
    const cx = getMouseX(e);
    if (cx >= padLeft && cx <= padLeft + plotW) {
      hoverX = fromCanvasX(cx);
      draw();
    }
  });

  canvas.addEventListener('mouseleave', function() {
    hoverX = null;
    draw();
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    const touch = e.touches[0];
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const cx = (touch.clientX - rect.left) * scaleX;
    if (cx >= padLeft && cx <= padLeft + plotW) {
      hoverX = fromCanvasX(cx);
      draw();
    }
  });

  canvas.addEventListener('touchend', function() {
    hoverX = null;
    draw();
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Najmanje rastojanje tačke od krive",
  "subject": "math",
  "unit": "analiza",
  "topic_tags": ["optimizacija", "rastojanje", "izvod", "kritične tačke", "drugi izvod", "minimizacija"]
}
BRAINSPARK_META-->