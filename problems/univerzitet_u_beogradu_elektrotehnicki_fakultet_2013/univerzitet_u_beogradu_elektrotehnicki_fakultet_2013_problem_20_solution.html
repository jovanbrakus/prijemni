<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska nejednacina - oblik skupa resenja</title>
<script type="text/info" id="logic-scratchpad">
Problem 20: Skup svih realnih resenja nejednacine

  log_{2(x+1)^2 - 1}( log_{2x^2+2x+3}(x^2 - 2x) )
  ---------------------------------------------------- >= 0
  log_{2(x+1)^2 - 1}( x^2 + 6x + 10 )

=================================================================
STEP 1: Simplify the bases
=================================================================

Outer base: 2(x+1)^2 - 1 = 2(x^2+2x+1) - 1 = 2x^2 + 4x + 1
Inner log base: 2x^2 + 2x + 3
Denominator argument: x^2 + 6x + 10 = (x+3)^2 + 1

=================================================================
STEP 2: Apply change of base formula
=================================================================

log_a(B) / log_a(C) = log_C(B)

So the inequality becomes:
log_{x^2+6x+10}( log_{2x^2+2x+3}(x^2 - 2x) ) >= 0

=================================================================
STEP 3: Domain conditions
=================================================================

Let me denote:
  a = 2x^2 + 4x + 1     (original outer base)
  b = 2x^2 + 2x + 3     (inner log base)
  B = x^2 + 6x + 10     (base of simplified outer log)

Condition 1: x^2 - 2x > 0  (argument of innermost log)
  x(x-2) > 0 => x < 0 or x > 2

Condition 2: b = 2x^2 + 2x + 3 > 0 and b != 1
  Discriminant of 2x^2+2x+3: 4-24 = -20 < 0, leading coeff > 0
  So b > 0 always.
  b = 1 => 2x^2+2x+2 = 0 => x^2+x+1 = 0, discriminant = 1-4 = -3 < 0
  So b != 1 always. Actually b >= 2.5 - 0.5 = ... let me compute min.
  b = 2(x + 0.5)^2 + 2.5 >= 2.5. So b >= 2.5 > 1 always.
  This means the inner log base is ALWAYS > 1.

Condition 3: a = 2x^2+4x+1 > 0 and a != 1
  a = 2(x+1)^2 - 1
  a > 0 => (x+1)^2 > 1/2 => |x+1| > 1/sqrt(2)
  => x < -1 - 1/sqrt(2) or x > -1 + 1/sqrt(2)
  a = 1 => 2(x+1)^2 = 2 => (x+1)^2 = 1 => x = 0 or x = -2

Condition 4: B = x^2+6x+10 > 0 and B != 1
  B = (x+3)^2 + 1 >= 1, with B = 1 iff x = -3.
  B > 0 always. B != 1 => x != -3.

Condition 5: log_b(x^2-2x) must be defined (already covered by conditions 1,2)
  AND log_b(x^2-2x) > 0 for the outer log to be defined
  (argument of a logarithm must be positive).

  Wait - actually the argument of the outer log must be POSITIVE.
  log_B(arg) is defined when arg > 0.
  So we need: log_{2x^2+2x+3}(x^2-2x) > 0.

  Since base b = 2x^2+2x+3 > 1 always:
  log_b(x^2-2x) > 0 iff x^2-2x > 1 (when base > 1, log > 0 iff arg > 1)
  => x^2-2x-1 > 0
  => x < 1-sqrt(2) or x > 1+sqrt(2)

  Hmm wait. Actually for the outer log to be DEFINED, we need the argument > 0.
  The argument is log_b(x^2-2x).
  Since b > 1, log_b(x^2-2x) > 0 iff x^2-2x > 1, i.e. x^2-2x-1 > 0.
  And log_b(x^2-2x) = 0 iff x^2-2x = 1, i.e. x^2-2x-1 = 0, x = 1 +/- sqrt(2).

  BUT WAIT. The outer log_{B}(something) >= 0. The argument of the outer
  log can be any positive number. We need log_B(inner) >= 0.

  Actually, log_B(inner) is defined when inner > 0, so we need
  log_b(x^2-2x) > 0.

  Hmm, that's restrictive. Let me re-check.

  log_B(Y) >= 0. This requires Y > 0 (for the log to be defined).

  So we need log_{2x^2+2x+3}(x^2-2x) > 0.

  Since base 2x^2+2x+3 > 1 always:
  log_b(x^2-2x) > 0 iff x^2-2x > 1
  i.e., x^2-2x-1 > 0
  x = (2 +/- sqrt(4+4))/2 = 1 +/- sqrt(2)
  So x < 1-sqrt(2) or x > 1+sqrt(2).

  1-sqrt(2) ≈ -0.414
  1+sqrt(2) ≈ 2.414

Combining domain conditions:
  From Cond 1: x < 0 or x > 2
  From Cond 3: x < -1-1/sqrt(2) or x > -1+1/sqrt(2), AND x != 0, x != -2
    -1-1/sqrt(2) ≈ -1.707
    -1+1/sqrt(2) ≈ -0.293
  From Cond 4: x != -3
  From Cond 5: x < 1-sqrt(2) or x > 1+sqrt(2)
    1-sqrt(2) ≈ -0.414
    1+sqrt(2) ≈ 2.414

Intersection:
  x < 0 AND x < -0.414 AND (x < -1.707 or x > -0.293) AND x != -2 AND x != -3
  OR
  x > 2 AND x > 2.414

  For x < 0:
    Need x < -0.414.
    And need (x < -1.707 or x > -0.293).
    Since x < -0.414, we can't have x > -0.293. So need x < -1.707.
    Also x != -2, x != -3.
    So: x in (-inf, -1.707) \ {-2, -3}
    That is: (-inf, -3) U (-3, -2) U (-2, -1-1/sqrt(2))

  For x > 2:
    Need x > 2.414, so x in (1+sqrt(2), +inf) = (2.414..., +inf)

  Wait, I also need to intersect with Cond 5 more carefully for x < 0.
  Cond 5: x < 1-sqrt(2) ≈ -0.414. Since x < -1.707, this is automatically
  satisfied. Good.

Domain = (-inf, -3) U (-3, -2) U (-2, -1-1/sqrt(2)) U (1+sqrt(2), +inf)

=================================================================
STEP 4: Solve the inequality
=================================================================

We need: log_{B}(log_b(x^2-2x)) >= 0 where B = x^2+6x+10, b = 2x^2+2x+3.

Case A: B > 1 (i.e., (x+3)^2 + 1 > 1, i.e., x != -3, which is always in domain)
  Actually B = (x+3)^2 + 1.
  B > 1 iff (x+3)^2 > 0 iff x != -3. So B > 1 for all x in domain.

  Note: B could be < 1? No: B = (x+3)^2 + 1 >= 1, with equality at x=-3.
  For x != -3, B > 1. And 0 < B < 1 is NEVER possible.

  So the base B is ALWAYS > 1 in the domain.

When base B > 1:
  log_B(Y) >= 0 iff Y >= 1

So we need: log_b(x^2-2x) >= 1, where b = 2x^2+2x+3 > 1.

Since b > 1:
  log_b(x^2-2x) >= 1 iff x^2-2x >= b = 2x^2+2x+3

  x^2-2x >= 2x^2+2x+3
  0 >= x^2+4x+3
  x^2+4x+3 <= 0
  (x+1)(x+3) <= 0
  -3 <= x <= -1

Intersect with domain (-inf, -3) U (-3, -2) U (-2, -1-1/sqrt(2)) U (1+sqrt(2), +inf):

  -3 <= x <= -1 intersected with the domain:

  x = -3: excluded (not in domain, since we have (-inf,-3) and (-3,-2))
  x in (-3, -2): YES, this is in domain.
  x = -2: excluded (not in domain)
  x in (-2, -1): need to intersect with (-2, -1-1/sqrt(2))
    -1-1/sqrt(2) ≈ -1.707
    So (-2, -1) intersect (-2, -1.707) = (-2, -1.707)
    But wait: -1.707 < -1, so (-2, -1) intersect (-2, -1.707) = (-2, -1.707).
    Hmm but we need x <= -1 from the inequality.
    (-2, -1] intersect (-2, -1-1/sqrt(2))
    = (-2, min(-1, -1-1/sqrt(2)))
    Since -1-1/sqrt(2) < -1, this is (-2, -1-1/sqrt(2)).

    Wait, that's wrong. Let me be more careful.
    The inequality requires -3 <= x <= -1.
    The domain piece near here is (-2, -1-1/sqrt(2)).
    -1-1/sqrt(2) ≈ -1.707.
    So the intersection is (-2, -1.707) intersect [-3, -1] = (-2, -1.707).

    Hmm that doesn't make sense since -1.707 < -2 is false.
    -1.707 > -2. So (-2, -1.707) is a valid interval.
    And this is contained in [-3, -1]. So the intersection is (-2, -1-1/sqrt(2)).

  For x > 1+sqrt(2) ≈ 2.414:
    Need x <= -1. Not possible. Empty.

So the solution set is:
  (-3, -2) U (-2, -1-1/sqrt(2))

This is of the form (a, b) U (b, c) where a = -3, b = -2, c = -1-1/sqrt(2).

Wait: (a,b) U (b,c) = (-3, -2) U (-2, -1-1/sqrt(2)).
Here a = -3, b = -2, c = -1-1/sqrt(2) ≈ -1.707.
And -inf < -3 < -2 < -1.707... wait, we need a < b < c.
-3 < -2 < -1.707? Yes! -1-1/sqrt(2) ≈ -1.707. And -2 < -1.707. YES!

So a = -3, b = -2, c = -1-1/sqrt(2) = -(sqrt(2)+1)/sqrt(2) = -(sqrt(2)+1)/sqrt(2).

Actually c = -1 - 1/sqrt(2) = -1 - sqrt(2)/2 = -(2+sqrt(2))/2.

Check: a < b < c: -3 < -2 < -(2+sqrt(2))/2 ≈ -1.707. Yes!

Answer: (A) (a, b) U (b, c)

=================================================================
STEP 5: Verify with specific values
=================================================================

x = -2.5: in (-3, -2)
  x^2-2x = 6.25+5 = 11.25
  b = 2(6.25)+2(-2.5)+3 = 12.5-5+3 = 10.5
  log_{10.5}(11.25) = ln(11.25)/ln(10.5) ≈ 2.42/2.35 ≈ 1.03
  B = 6.25-15+10 = 1.25
  log_{1.25}(1.03) = ln(1.03)/ln(1.25) ≈ 0.03/0.22 ≈ 0.13 >= 0. CHECK!

x = -1.8: in (-2, -1.707)?
  -1-1/sqrt(2) ≈ -1.707. Is -1.8 < -1.707? Yes. So -1.8 is in (-2, -1.707). YES.
  x^2-2x = 3.24+3.6 = 6.84
  b = 2(3.24)+2(-1.8)+3 = 6.48-3.6+3 = 5.88
  log_{5.88}(6.84) = ln(6.84)/ln(5.88) ≈ 1.923/1.772 ≈ 1.085
  B = 3.24-10.8+10 = 2.44
  log_{2.44}(1.085) = ln(1.085)/ln(2.44) ≈ 0.0816/0.893 ≈ 0.091 >= 0. CHECK!

x = -1.5: NOT in domain (since -1.5 > -1.707, outside (-2, -1.707))
  But let's verify it fails domain condition.
  a = 2(-1.5+1)^2 - 1 = 2(0.25) - 1 = -0.5 < 0. Not valid as log base. CORRECT!

x = -4: in domain (-inf, -3)?
  Need (x+1)(x+3) <= 0: (-4+1)(-4+3) = (-3)(-1) = 3 > 0. NOT satisfied.
  So not in solution. Let's verify:
  x^2-2x = 16+8 = 24
  b = 2(16)+2(-4)+3 = 32-8+3 = 27
  log_{27}(24) ≈ 0.965
  B = 16-24+10 = 2
  log_2(0.965) < 0. CORRECT, not in solution.

x = 3: x > 2, in (1+sqrt(2), +inf)?
  1+sqrt(2) ≈ 2.414. 3 > 2.414. Yes, in domain.
  But need (x+1)(x+3) <= 0: (4)(6) = 24 > 0. NOT satisfied.
  x^2-2x = 9-6 = 3
  b = 2(9)+6+3 = 27
  log_{27}(3) = 1/3 < 1
  B = 9+18+10 = 37 > 1
  log_{37}(1/3) < 0. CORRECT, not in solution.

ALL CHECKS PASS. Answer is (A).

=================================================================
STEP 6: Boundary checks
=================================================================

At x = -3: B = 9-18+10 = 1. Log base = 1, undefined. Correctly excluded.
At x = -2: a = 2(-2+1)^2-1 = 2(1)-1 = 1. Original log base = 1, undefined. Excluded.
At x = -1-1/sqrt(2): a = 2(-1/sqrt(2))^2 - 1 = 2(1/2) - 1 = 0. Log base = 0, undefined. Excluded.

Also at x = -1-1/sqrt(2):
  (x+1)(x+3) = (-1/sqrt(2))(-1-1/sqrt(2)+3) = (-1/sqrt(2))(2-1/sqrt(2))
  = (-1/sqrt(2))(2-1/sqrt(2)) = -2/sqrt(2) + 1/2 = -sqrt(2) + 0.5 < 0
  So the inequality is satisfied, but the point is excluded from domain.

At x = -1: a = 2(0)^2 - 1 = -1 < 0. Not in domain. Also (x+1)(x+3) = 0*2 = 0, equality holds.

Final answer: (A) (a, b) U (b, c) with a = -3, b = -2, c = -1 - 1/sqrt(2).
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 90px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

/* domain-table */
.domain-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
  font-size: 0.95rem;
}

.domain-table th, .domain-table td {
  padding: 8px 12px;
  border: 1px solid #334155;
  text-align: center;
}

.domain-table th {
  background: rgba(96,165,250,0.12);
  color: #60a5fa;
  font-weight: 600;
}

.domain-table td {
  color: #e2e8f0;
}

.domain-table .ok { color: #4ade80; }
.domain-table .fail { color: #f87171; }

.substep {
  margin-left: 18px;
  padding: 10px 14px;
  border-left: 2px solid #334155;
  margin-top: 8px;
  margin-bottom: 8px;
}

.substep p {
  color: #94a3b8;
  margin-top: 4px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
  .domain-table { font-size: 0.8rem; }
  .domain-table th, .domain-table td { padding: 4px 6px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Logaritamska nejednacina -- oblik skupa resenja</h1>
  <p class="subtitle">Smena baze, analiza domena i nejednacina sa slozenim logaritmima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Skup svih realnih resenja nejednacine:</p>
    <div class="math-box">
      \[ \frac{\log_{2(x+1)^2 - 1}\!\Big(\log_{2x^2+2x+3}(x^2 - 2x)\Big)}{\log_{2(x+1)^2-1}(x^2 + 6x + 10)} \geq 0 \]
    </div>
    <p>je oblika (za neke realne brojeve \(a, b, c\), takve da je \(-\infty < a < b < c < +\infty\)):</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((a,\, b) \cup (b,\, c)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\([a,\, b)\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\((-\infty,\, a) \cup (b,\, c]\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((a,\, b] \cup (c,\, +\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\([a,\, b]\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Prvo cemo primeniti <span class="highlight">formulu za smenu baze logaritma</span> da pojednostavimo izraz. Zatim pazljivo odredimo <span class="highlight">domen</span> (pet uslova za definisanost svih logaritama). Na kraju resavamo dobijenu nejednacinu i presecamo sa domenom. Kljucna teskoca ovog zadatka je upravo pazljiva analiza domena -- sam algebarski deo je relativno jednostavan.</p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Kljucne formule i pravila</summary>
    <ul>
      <li><strong>Smena baze:</strong> \(\displaystyle \frac{\log_a B}{\log_a C} = \log_C B\), vazi za \(a > 0,\; a \neq 1,\; B > 0,\; C > 0,\; C \neq 1\).</li>
      <li><strong>Definisanost logaritma:</strong> \(\log_a b\) je definisan kad \(a > 0,\; a \neq 1,\; b > 0\).</li>
      <li><strong>Nejednacina \(\log_a x \geq 0\):</strong> Ako je \(a > 1\), tada \(x \geq 1\). Ako je \(0 < a < 1\), tada \(0 < x \leq 1\).</li>
      <li><strong>Nejednacina \(\log_a x \geq 1\):</strong> Ako je \(a > 1\), tada \(x \geq a\).</li>
      <li><strong>Diskriminanta:</strong> Kvadratna funkcija \(ax^2 + bx + c\) sa \(a > 0\) i \(D < 0\) je uvek pozitivna.</li>
    </ul>
  </details>

  <!-- Canvas Visualization -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Brojna prava sa domenom i skupom resenja nejednacine</p>
    <canvas id="graph-canvas" width="700" height="340"></canvas>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Pojednostavimo baze logaritama</h3>
        <p>Oznacimo i sredimo baze:</p>
        <div class="math-box">
          \[ 2(x+1)^2 - 1 = 2x^2 + 4x + 1 \]
        </div>
        <p>Unutrasnja baza \(2x^2 + 2x + 3\) ostaje kako jeste. Argument denominatora:</p>
        <div class="math-box">
          \[ x^2 + 6x + 10 = (x+3)^2 + 1 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Primenimo formulu za smenu baze</h3>
        <p>Koristimo identitet \(\dfrac{\log_a B}{\log_a C} = \log_C B\). Nejednacina postaje:</p>
        <div class="math-box">
          \[ \log_{x^2+6x+10}\!\Big(\log_{2x^2+2x+3}(x^2 - 2x)\Big) \geq 0 \]
        </div>
        <p>Ovo je znatno jednostavniji oblik -- jedna ugnjezdena logaritamska nejednacina.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Zasto mozemo primeniti smenu baze?</summary>
      <p>Formula \(\frac{\log_a B}{\log_a C} = \log_C B\) vazi kad je \(a > 0, a \neq 1\), \(B > 0\), \(C > 0\), \(C \neq 1\). Svi ovi uslovi ce biti obuhvaceni u analizi domena. Smena baze je algebarski ekvivalentna transformacija pod tim uslovima, pa se skup resenja ne menja.</p>
    </details>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Odredimo domen -- pet uslova</h3>
        <p>Za definisanost svih logaritama (i originalnog i pojednostavljenog izraza) potrebno je ispuniti:</p>

        <div class="substep">
          <p><strong>Uslov 1:</strong> Argument unutrasnjeg logaritma: \(x^2 - 2x > 0\).</p>
          <div class="math-box">
            \[ x(x-2) > 0 \implies x \in (-\infty,\, 0) \cup (2,\, +\infty) \]
          </div>
        </div>

        <div class="substep">
          <p><strong>Uslov 2:</strong> Unutrasnja baza: \(2x^2 + 2x + 3 > 0\) i \(\neq 1\).</p>
          <p>Diskriminanta: \(D = 4 - 24 = -20 < 0\), pa je \(2x^2+2x+3 > 0\) uvek. Takodje \(2x^2+2x+3 = 1 \Rightarrow x^2+x+1 = 0\), \(D = -3 < 0\), nema resenja. Zapravo, minimum je \(2 \cdot \tfrac{1}{4} \cdot (-\tfrac{1}{4}) + 3 = \ldots\) Tacnije: \(2(x+\tfrac{1}{2})^2 + \tfrac{5}{2} \geq \tfrac{5}{2} > 1\).</p>
          <p>Dakle: <span class="ok" style="color:#4ade80;">Uslov 2 je uvek ispunjen. Baza je uvek > 1.</span></p>
        </div>

        <div class="substep">
          <p><strong>Uslov 3:</strong> Originalna baza (za smenu): \(2(x+1)^2 - 1 > 0\) i \(\neq 1\).</p>
          <div class="math-box">
            \[ 2(x+1)^2 - 1 > 0 \implies (x+1)^2 > \tfrac{1}{2} \implies |x+1| > \tfrac{1}{\sqrt{2}} \]
          </div>
          <p>Dakle: \(x < -1 - \tfrac{1}{\sqrt{2}}\) ili \(x > -1 + \tfrac{1}{\sqrt{2}}\), tj. \(x < -1{,}707\ldots\) ili \(x > -0{,}293\ldots\)</p>
          <p>Takodje: \(2(x+1)^2 - 1 = 1 \Rightarrow (x+1)^2 = 1 \Rightarrow x = 0\) ili \(x = -2\). Obe vrednosti su iskljucene.</p>
        </div>

        <div class="substep">
          <p><strong>Uslov 4:</strong> Spoljna baza (posle smene): \(x^2 + 6x + 10 > 0\) i \(\neq 1\).</p>
          <p>\((x+3)^2 + 1 \geq 1\), uvek pozitivno. Jednako \(1\) samo kad \(x = -3\). Dakle: \(x \neq -3\).</p>
          <p>Za \(x \neq -3\): baza \(B = (x+3)^2 + 1 > 1\), tj. <span class="ok" style="color:#4ade80;">spoljna baza je uvek > 1</span> u domenu.</p>
        </div>

        <div class="substep">
          <p><strong>Uslov 5:</strong> Argument spoljnog logaritma mora biti pozitivan: \(\log_{2x^2+2x+3}(x^2 - 2x) > 0\).</p>
          <p>Posto je baza \(2x^2+2x+3 > 1\) uvek, vazi: \(\log_{2x^2+2x+3}(x^2-2x) > 0 \iff x^2 - 2x > 1\).</p>
          <div class="math-box">
            \[ x^2 - 2x - 1 > 0 \implies x < 1 - \sqrt{2} \;\;\text{ili}\;\; x > 1 + \sqrt{2} \]
          </div>
          <p>Numericke vrednosti: \(1 - \sqrt{2} \approx -0{,}414\), \(\;1 + \sqrt{2} \approx 2{,}414\).</p>
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Zasto Uslov 5 zahteva strogo > 0, a ne >= 0?</summary>
      <p>Argument logaritma mora biti <em>strogo pozitivan</em>. Izraz \(\log_B(Y)\) je definisan samo za \(Y > 0\). Kad bi unutrasnji logaritam bio \(= 0\) (sto se desava kad \(x^2 - 2x = 1\)), imali bismo \(\log_B(0)\), sto nije definisano. Kad bi bio negativan, takodje nedefinisano. Dakle, strogo \(> 0\).</p>
    </details>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Presecimo uslove domena</h3>
        <p>Svih pet uslova zajedno:</p>
        <table class="domain-table">
          <tr>
            <th>Uslov</th>
            <th>Ogranicenje</th>
          </tr>
          <tr>
            <td>1</td>
            <td>\(x < 0\) ili \(x > 2\)</td>
          </tr>
          <tr>
            <td>3</td>
            <td>\(x < -1 - \tfrac{1}{\sqrt{2}}\) ili \(x > -1 + \tfrac{1}{\sqrt{2}}\), i \(x \neq 0,\; x \neq -2\)</td>
          </tr>
          <tr>
            <td>4</td>
            <td>\(x \neq -3\)</td>
          </tr>
          <tr>
            <td>5</td>
            <td>\(x < 1 - \sqrt{2}\) ili \(x > 1 + \sqrt{2}\)</td>
          </tr>
        </table>
        <p>Za \(x < 0\): Potrebno \(x < 1 - \sqrt{2} \approx -0{,}414\) (iz Uslova 5). Zatim iz Uslova 3: \(x < -1 - \tfrac{1}{\sqrt{2}} \approx -1{,}707\). Uz \(x \neq -2\) i \(x \neq -3\):</p>
        <div class="math-box">
          \[ \text{Leva grana domena: } \Big(-\infty,\, -3\Big) \cup \Big(-3,\, -2\Big) \cup \Big(-2,\, -1 - \tfrac{1}{\sqrt{2}}\Big) \]
        </div>
        <p>Za \(x > 2\): Potrebno \(x > 1 + \sqrt{2} \approx 2{,}414\) (iz Uslova 5). Uslov 3 je automatski ispunjen. Dakle:</p>
        <div class="math-box">
          \[ \text{Desna grana domena: } \Big(1 + \sqrt{2},\, +\infty\Big) \]
        </div>
      </div>
    </div>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Resimo nejednacinu</h3>
        <p>Posto je spoljna baza \(B = (x+3)^2 + 1 > 1\) u celom domenu, nejednacina</p>
        <div class="math-box">
          \[ \log_{B}\!\Big(\log_{2x^2+2x+3}(x^2 - 2x)\Big) \geq 0 \]
        </div>
        <p>je ekvivalentna sa:</p>
        <div class="math-box">
          \[ \log_{2x^2+2x+3}(x^2 - 2x) \geq 1 \]
        </div>
        <p>Posto je i unutrasnja baza \(2x^2 + 2x + 3 > 1\) uvek, ovo je ekvivalentno sa:</p>
        <div class="math-box">
          \[ x^2 - 2x \geq 2x^2 + 2x + 3 \]
        </div>
        <p>Sredimo:</p>
        <div class="math-box">
          \[ 0 \geq x^2 + 4x + 3 \implies (x+1)(x+3) \leq 0 \implies -3 \leq x \leq -1 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Kako resavamo \(\log_a x \geq 1\) kad je \(a > 1\)?</summary>
      <p>Kad je baza \(a > 1\), logaritamska funkcija je rastuca. Zato \(\log_a x \geq 1\) znaci \(x \geq a^1 = a\). U nasem slucaju: \(x^2 - 2x \geq 2x^2 + 2x + 3\).</p>
    </details>

    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Presecimo resenje nejednacine sa domenom</h3>
        <p>Nejednacina daje \(x \in [-3,\, -1]\). Presecimo sa domenom:</p>
        <div class="substep">
          <p><strong>Sa levom granom domena:</strong></p>
          <p>\([-3,\, -1] \;\cap\; \Big[(-\infty, -3) \cup (-3, -2) \cup (-2, -1 - \tfrac{1}{\sqrt{2}})\Big]\)</p>
          <p>Tacka \(x = -3\): iskljucena iz domena. Interval \((-3, -2)\): potpuno unutar \([-3, -1]\) -- ulazi ceo. Interval \((-2, -1 - \tfrac{1}{\sqrt{2}})\): posto je \(-1 - \tfrac{1}{\sqrt{2}} \approx -1{,}707\) i \(-1{,}707 < -1\), ceo interval je unutar \([-3, -1]\) -- ulazi ceo.</p>
        </div>
        <div class="substep">
          <p><strong>Sa desnom granom domena:</strong></p>
          <p>\([-3, -1] \;\cap\; (1 + \sqrt{2}, +\infty) = \varnothing\)</p>
        </div>
        <p>Konacno:</p>
        <div class="math-box">
          \[ \boxed{S = \Big(-3,\, -2\Big) \cup \Big(-2,\, -1 - \tfrac{1}{\sqrt{2}}\Big)} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Odredimo oblik skupa resenja</h3>
        <p>Skup resenja se sastoji od dva otvorena intervala spojena u tacki \(-2\) koja je iskljucena. Ovo je oblika:</p>
        <div class="math-box">
          \[ (a,\, b) \cup (b,\, c) \quad \text{gde je } a = -3,\;\; b = -2,\;\; c = -1 - \tfrac{1}{\sqrt{2}} = -\tfrac{2 + \sqrt{2}}{2} \]
        </div>
        <p>Proverimo: \(-\infty < a < b < c < +\infty\), tj. \(-3 < -2 < -1{,}707\ldots\) &check;</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Celokupna tezina ovog zadatka lezi u <span class="highlight">pazljivoj analizi domena</span>, ne u samom resavanju nejednacine. Nakon smene baze, algebarski deo se svodi na jednostavnu kvadratnu nejednacinu \((x+1)(x+3) \leq 0\). Medjutim, domen je drasticno restriktivan -- od intervala \([-3, -1]\) koji zadovoljava nejednacinu, vise tacaka i celih podintervala otpada zbog uslova definisanosti logaritama. Konkretno, tacke \(x = -3\) (spoljna baza = 1), \(x = -2\) (originalna baza = 1), i ceo interval \((-1 - \tfrac{1}{\sqrt{2}},\, -1]\) (originalna baza \(\leq 0\)) bivaju iskljuceni.</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">(A) \(\;(a,\, b) \cup (b,\, c)\)</div>
    <p style="text-align:center; color:#94a3b8; margin-bottom:12px;">
      gde je \(\;a = -3,\;\; b = -2,\;\; c = -1 - \dfrac{1}{\sqrt{2}} = -\dfrac{2+\sqrt{2}}{2} \approx -1{,}707\)
    </p>

    <div class="options-row">
      <div class="option-box correct">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\((a,b) \cup (b,c)\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\([a,b)\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\((-\infty,a) \cup (b,c]\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\((a,b] \cup (c,+\infty)\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\([a,b]\)</div>
      </div>
    </div>

    <p class="verification"><strong>Provera za \(x = -2{,}5\):</strong> Domen: \((-2{,}5+1)^2 = 2{,}25 > 0{,}5\) &check;, \(x \neq -2, -3\) &check;. Racunamo: \(x^2-2x = 11{,}25\), baza \(= 10{,}5\), \(\log_{10,5}(11{,}25) \approx 1{,}03 \geq 1\) &check;. Spoljna baza \(= 1{,}25 > 1\), \(\log_{1,25}(1{,}03) \approx 0{,}13 \geq 0\) &check;</p>
    <p class="verification"><strong>Provera za \(x = -4\) (van resenja):</strong> \((x+1)(x+3) = (-3)(-1) = 3 > 0\), nejednacina nije ispunjena. Zaista: \(\log_{27}(24) \approx 0{,}965 < 1\), pa \(\log_2(0{,}965) < 0\). &check;</p>
    <p class="verification"><strong>Provera za \(x = 3\) (van resenja):</strong> \((x+1)(x+3) = 4 \cdot 6 = 24 > 0\), nejednacina nije ispunjena. Zaista: \(\log_{27}(3) = \tfrac{1}{3} < 1\), pa \(\log_{37}(\tfrac{1}{3}) < 0\). &check;</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Zaboraviti smenu baze:</strong> Bez primene formule \(\frac{\log_a B}{\log_a C} = \log_C B\), nejednacina izgleda mnogo kompleksnije. Ovo je kljucni prvi korak koji drasticno pojednostavljuje problem.</li>
      <li><strong>Zanemariti Uslov 3 (originalna baza):</strong> Iako posle smene baze izraz \(2(x+1)^2 - 1\) ne figurise eksplicitno, uslovi pod kojima je smena validna moraju biti ispunjeni. Ovo iskljucuje tacke \(x = 0\) i \(x = -2\) i interval oko \(x = -1\).</li>
      <li><strong>Zanemariti Uslov 5 (pozitivnost argumenta spoljnog loga):</strong> Mnogi resavaju nejednacinu a da ne provere da li je unutrasnji logaritam uopste pozitivan. Ovo je skriveni uslov koji sece deo intervala.</li>
      <li><strong>Ukljuciti granicne tacke \(-3\) i \(-1\):</strong> Na \(x = -3\) spoljna baza je 1 (nedefinisano), a na \(x = -1\) originalna baza je \(-1\) (nedefinisano). Ceo interval \([-3, -1]\) "izgleda" kao resenje, ali su krajevi i dve unutrasnje tacke iskljuceni.</li>
      <li><strong>Zaboraviti desnu granu:</strong> Domen ukljucuje i \(x > 1 + \sqrt{2}\), ali nejednacina \((x+1)(x+3) \leq 0\) tamo nije zadovoljena. Vazno je proveriti i ovu mogucnost.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Resiti nejednacinu \(\log_{\,x^2+2x+3}\!\Big(\log_{\,2x^2+4x+1}(x^2-2x)\Big) \geq 0\), tj. istu nejednacinu ali sa zamenjenim ulogama baza (spoljna postaje unutrasnja i obrnuto).</p>
    <details>
      <summary>Pomoc</summary>
      <p>Primenite isti postupak: (1) Odredite domen -- uslovi za baze i argumente ce se malo razlikovati jer nova spoljna baza \(x^2+2x+3 = (x+1)^2 + 2\) ima minimum 2, pa je uvek \(> 1\). (2) Nejednacina se svodi na \(x^2-2x \geq 2x^2+4x+1\), tj. \(x^2+6x+1 \leq 0\), sto daje \(x \in [-3-2\sqrt{2},\; -3+2\sqrt{2}]\). (3) Presecite sa domenom, pazeci na tacke gde je baza \(2x^2+4x+1\) jednaka 0 ili 1.</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('graph-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Background
  ctx.fillStyle = '#0c1222';
  ctx.fillRect(0, 0, W, H);

  const blue = '#60a5fa';
  const purple = '#a78bfa';
  const green = '#4ade80';
  const pink = '#f472b6';
  const gray = '#64748b';
  const textColor = '#e2e8f0';
  const red = '#f87171';
  const orange = '#fb923c';

  // Number line parameters
  const nlY = 120;       // y position of number line
  const nlLeft = 60;     // left pixel
  const nlRight = 640;   // right pixel
  const xMin = -5;
  const xMax = 4;

  function toPixel(x) {
    return nlLeft + (x - xMin) / (xMax - xMin) * (nlRight - nlLeft);
  }

  // Draw number line
  ctx.strokeStyle = gray;
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(nlLeft - 15, nlY);
  ctx.lineTo(nlRight + 15, nlY);
  ctx.stroke();

  // Arrowhead right
  ctx.beginPath();
  ctx.moveTo(nlRight + 15, nlY);
  ctx.lineTo(nlRight + 5, nlY - 5);
  ctx.lineTo(nlRight + 5, nlY + 5);
  ctx.closePath();
  ctx.fillStyle = gray;
  ctx.fill();

  // Arrowhead left
  ctx.beginPath();
  ctx.moveTo(nlLeft - 15, nlY);
  ctx.lineTo(nlLeft - 5, nlY - 5);
  ctx.lineTo(nlLeft - 5, nlY + 5);
  ctx.closePath();
  ctx.fill();

  // Key points
  const points = [
    { x: -3, label: '-3', color: red },
    { x: -2, label: '-2', color: red },
    { x: -1 - 1/Math.SQRT2, label: '-1-1/\u221A2', color: orange },
    { x: -1 + 1/Math.SQRT2, label: '', color: gray },
    { x: 0, label: '0', color: gray },
    { x: 1 - Math.SQRT2, label: '1-\u221A2', color: gray },
    { x: 1 + Math.SQRT2, label: '1+\u221A2', color: gray },
    { x: 2, label: '2', color: gray },
  ];

  // Draw tick marks and labels
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'top';

  points.forEach(p => {
    const px = toPixel(p.x);
    ctx.strokeStyle = p.color;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(px, nlY - 6);
    ctx.lineTo(px, nlY + 6);
    ctx.stroke();

    if (p.label) {
      ctx.fillStyle = p.color;
      ctx.fillText(p.label, px, nlY + 10);
    }
  });

  // Approx label for -1-1/sqrt2
  const cPx = toPixel(-1 - 1/Math.SQRT2);
  ctx.fillStyle = orange;
  ctx.font = '10px Segoe UI, system-ui, sans-serif';
  ctx.fillText('\u2248 -1,71', cPx, nlY + 22);

  // Draw solution intervals
  function drawInterval(x1, x2, y, color, openLeft, openRight, label) {
    const px1 = toPixel(x1);
    const px2 = toPixel(x2);

    // Line
    ctx.strokeStyle = color;
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(px1, y);
    ctx.lineTo(px2, y);
    ctx.stroke();

    // Left endpoint
    ctx.beginPath();
    ctx.arc(px1, y, 5, 0, Math.PI * 2);
    if (openLeft) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();
    } else {
      ctx.fillStyle = color;
      ctx.fill();
    }

    // Right endpoint
    ctx.beginPath();
    ctx.arc(px2, y, 5, 0, Math.PI * 2);
    if (openRight) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2;
      ctx.stroke();
    } else {
      ctx.fillStyle = color;
      ctx.fill();
    }

    // Label
    if (label) {
      ctx.fillStyle = color;
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText(label, (px1 + px2) / 2, y - 10);
    }
  }

  // Title for domain row
  ctx.fillStyle = blue;
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'right';
  ctx.textBaseline = 'middle';
  ctx.fillText('Domen:', nlLeft - 22, 60);

  // Domain intervals (in blue, y=60)
  // (-inf, -3)
  drawInterval(-5, -3, 60, blue, true, true, '');
  // (-3, -2)
  drawInterval(-3, -2, 60, blue, true, true, '');
  // (-2, -1-1/sqrt2)
  drawInterval(-2, -1 - 1/Math.SQRT2, 60, blue, true, true, '');
  // (1+sqrt2, +inf)
  drawInterval(1 + Math.SQRT2, 4, 60, blue, true, true, '');

  // Title for inequality row
  ctx.fillStyle = purple;
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'right';
  ctx.textBaseline = 'middle';
  ctx.fillText('Nejedn.:', nlLeft - 22, 90);

  // Inequality solution [-3, -1] (in purple, y=90)
  drawInterval(-3, -1, 90, purple, false, false, '[-3, -1]');

  // Title for final answer
  ctx.fillStyle = green;
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'right';
  ctx.textBaseline = 'middle';
  ctx.fillText('Presek:', nlLeft - 22, nlY);

  // SOLUTION: (-3, -2) U (-2, -1-1/sqrt2) drawn on the number line
  drawInterval(-3, -2, nlY, green, true, true, '');
  drawInterval(-2, -1 - 1/Math.SQRT2, nlY, green, true, true, '');

  // Union symbol
  const midPx = toPixel(-2);
  ctx.fillStyle = green;
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'bottom';
  ctx.fillText('\u222A', midPx, nlY - 12);

  // Bottom label: final result
  ctx.fillStyle = green;
  ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'top';
  ctx.fillText('S = (-3, -2) \u222A (-2, -1 - 1/\u221A2)', W / 2, nlY + 50);
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.fillText('Oblik: (a, b) \u222A (b, c)  \u2192  Odgovor (A)', W / 2, nlY + 72);

  // Excluded points explanation
  ctx.fillStyle = red;
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';

  // Draw X marks at excluded boundary points
  function drawX(x, y) {
    const px = toPixel(x);
    ctx.strokeStyle = red;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(px - 4, y - 4);
    ctx.lineTo(px + 4, y + 4);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(px + 4, y - 4);
    ctx.lineTo(px - 4, y + 4);
    ctx.stroke();
  }

  // Legend
  const legY = 230;
  ctx.fillStyle = textColor;
  ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('Legenda:', nlLeft, legY);

  // Blue = domain
  ctx.fillStyle = blue;
  ctx.fillRect(nlLeft, legY + 18, 20, 4);
  ctx.fillStyle = textColor;
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.fillText('Domen (svi uslovi definisanosti)', nlLeft + 28, legY + 24);

  // Purple = inequality
  ctx.fillStyle = purple;
  ctx.fillRect(nlLeft, legY + 38, 20, 4);
  ctx.fillStyle = textColor;
  ctx.fillText('Nejednacina (x+1)(x+3) \u2264 0, tj. [-3, -1]', nlLeft + 28, legY + 44);

  // Green = solution
  ctx.fillStyle = green;
  ctx.fillRect(nlLeft, legY + 58, 20, 4);
  ctx.fillStyle = textColor;
  ctx.fillText('Konacno resenje: presek domena i nejednacine', nlLeft + 28, legY + 64);

  // Excluded points note
  ctx.fillStyle = red;
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('Iskljucene tacke: x = -3 (baza = 1), x = -2 (baza = 1), x = -1-1/\u221A2 (baza = 0)', nlLeft, legY + 88);

  // Step click interactivity
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska nejednacina - oblik skupa resenja",
  "subject": "math",
  "unit": "logaritmi",
  "topic_tags": ["logaritamska nejednacina", "smena baze logaritma", "domen funkcije", "kvadratna nejednacina", "slozeni logaritmi", "analiza domena"]
}
BRAINSPARK_META-->