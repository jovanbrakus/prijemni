<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska jednačina - Proizvod rešenja</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Proizvod svih realnih rešenja jednačine (2013x)/2014 = 2013^(log_x 2014) pripada skupu:
(A) (0,1]  (B) (1,2]  (C) (2,3]  (D) (3,4]  (E) (4,+inf)

DOMAIN:
x > 0, x ≠ 1 (logaritam log_x(2014) zahteva pozitivnu osnovu različitu od 1)

SOLUTION:
Jednačina: (2013·x)/2014 = 2013^(log_x 2014)

Logaritmujemo obe strane po bazi 2013:
log_2013((2013·x)/2014) = log_x(2014)

Leva strana:
log_2013(2013·x) - log_2013(2014)
= log_2013(2013) + log_2013(x) - log_2013(2014)
= 1 + log_2013(x) - log_2013(2014)

Desna strana (promena baze):
log_x(2014) = log_2013(2014) / log_2013(x)

Smena: t = log_2013(x), a = log_2013(2014)
Napomena: a = log_2013(2014) > 1 jer je 2014 > 2013.

Jednačina postaje:
1 + t - a = a/t

Pomnožimo sa t (t ≠ 0, tj. x ≠ 1 - to je već u domenu):
t(1 + t - a) = a
t + t² - at = a
t² + t - at - a = 0
t² + t(1 - a) - a = 0

Faktorizacija:
t(t + 1) - a(t + 1) = 0
(t + 1)(t - a) = 0

Dakle t = -1 ili t = a.

Rešenje 1: t = -1
log_2013(x) = -1
x₁ = 2013^(-1) = 1/2013

Rešenje 2: t = a = log_2013(2014)
log_2013(x) = log_2013(2014)
x₂ = 2014

Provera domena:
x₁ = 1/2013 > 0, x₁ ≠ 1 ✓
x₂ = 2014 > 0, x₂ ≠ 1 ✓

Proizvod rešenja:
P = x₁ · x₂ = (1/2013) · 2014 = 2014/2013 ≈ 1,000497...

2014/2013 > 1 i 2014/2013 < 2, dakle P ∈ (1, 2]

ANSWER: (B) (1, 2]
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.13);
  border-radius: 10px;
  padding: 10px 16px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.answer-option.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.10);
}

.answer-option.incorrect {
  border-color: #ef4444;
  background: rgba(239, 68, 68, 0.07);
  opacity: 0.6;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 18px;
  padding: 14px 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #34d399;
  background: rgba(52, 211, 153, 0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  font-weight: 700;
  margin-top: 2px;
}

.step-body {
  flex: 1;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  overflow-x: auto;
}

.muted {
  color: #94a3b8;
  font-size: 0.92rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  padding: 8px 0;
}

details summary:hover {
  color: #c4b5fd;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box .insight-label {
  color: #a78bfa;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 10px;
}

.final-answer {
  background: rgba(52, 211, 153, 0.08);
  border: 1px solid rgba(52, 211, 153, 0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer .answer-text {
  color: #4ade80;
  font-size: 1.6rem;
  font-weight: 700;
  margin-bottom: 10px;
}

.final-answer .verification {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 12px;
  border-top: 1px solid rgba(52, 211, 153, 0.15);
  padding-top: 12px;
}

.pitfall {
  border-left: 3px solid #e09468;
  padding-left: 14px;
  margin: 10px 0;
  color: #e09468;
  font-size: 0.95rem;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 8px;
}

.theory-card details {
  margin: 0;
}

.theory-card details summary {
  font-size: 1.1rem;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  margin-bottom: 10px;
  padding-left: 20px;
  position: relative;
}

.theory-content li::before {
  content: '\2022';
  color: #60a5fa;
  position: absolute;
  left: 0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .given-grid { gap: 6px; }
  .given-item { min-width: 65px; padding: 8px 10px; }
  .step-container { gap: 10px; padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Logaritamska jednačina sa parametrom</h1>
  <p class="subtitle">Eksponencijalna i logaritamska jednačina - nalaženje proizvoda svih rešenja</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Proizvod svih realnih rešenja jednačine</p>
    <div class="math-block" style="text-align:center; font-size:1.15rem;">
      \[\frac{2013x}{2014} = 2013^{\log_x 2014}\]
    </div>
    <p>pripada skupu:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((0,\, 1]\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\((1,\, 2]\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\((2,\, 3]\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((3,\, 4]\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\((4,\, +\infty)\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Logaritmovaćemo obe strane jednačine po bazi \(2013\), zatim izvršiti pogodnu smenu da bismo dobili
    algebarsku jednačinu po novoj promenljivoj. Rešenja vratimo u originalnu promenljivu \(x\) i izračunamo njihov proizvod.</p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Promena baze logaritma:</strong> \(\log_x a = \dfrac{\log_b a}{\log_b x}\) za bilo koju dozvoljenu bazu \(b\).</li>
          <li><strong>Logaritam količnika:</strong> \(\log_b \dfrac{m}{n} = \log_b m - \log_b n\).</li>
          <li><strong>Logaritam proizvoda:</strong> \(\log_b(m \cdot n) = \log_b m + \log_b n\).</li>
          <li><strong>Osnovno svojstvo:</strong> \(\log_b(b) = 1\) i \(b^{\log_b x} = x\).</li>
          <li><strong>Domen logaritamske funkcije \(\log_x a\):</strong> osnova \(x > 0\), \(x \neq 1\), argument \(a > 0\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card">
    <h2>Grafički prikaz</h2>
    <p class="muted" style="margin-bottom:12px;">Grafici leve strane \(y = \frac{2013x}{2014}\) i desne strane \(y = 2013^{\log_x 2014}\) jednačine. Presečne tačke odgovaraju rešenjima.</p>
    <canvas id="graph-canvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Pomerajte miš preko grafika da vidite koordinate tačaka preseka</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje po koracima</h2>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-badge">1</div>
      <div class="step-body">
        <h3>Odredimo domen</h3>
        <p>Logaritam \(\log_x 2014\) zahteva da osnova bude pozitivna i različita od \(1\). Takođe, argument je \(2014 > 0\), što je ispunjeno. Dakle:</p>
        <div class="math-block">
          \[x > 0, \quad x \neq 1\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-badge">2</div>
      <div class="step-body">
        <h3>Logaritmujemo obe strane po bazi \(2013\)</h3>
        <p>Pošto su obe strane jednačine pozitivne (za \(x > 0\)), možemo logaritmovati po bazi \(2013\):</p>
        <div class="math-block">
          \[\log_{2013}\!\left(\frac{2013x}{2014}\right) = \log_{2013}\!\left(2013^{\log_x 2014}\right)\]
        </div>
        <p>Desna strana se pojednostavljuje korišćenjem pravila \(\log_b(b^k) = k\):</p>
        <div class="math-block">
          \[\log_{2013}\!\left(\frac{2013x}{2014}\right) = \log_x 2014\]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-badge">3</div>
      <div class="step-body">
        <h3>Razložimo levu stranu</h3>
        <p>Koristimo svojstvo logaritma proizvoda i količnika:</p>
        <div class="math-block">
          \[\log_{2013}(2013) + \log_{2013}(x) - \log_{2013}(2014) = \log_x 2014\]
        </div>
        <p>Pošto je \(\log_{2013}(2013) = 1\), imamo:</p>
        <div class="math-block">
          \[1 + \log_{2013}(x) - \log_{2013}(2014) = \log_x 2014\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-badge">4</div>
      <div class="step-body">
        <h3>Uvedemo smenu</h3>
        <p>Neka je \(t = \log_{2013}(x)\) i \(a = \log_{2013}(2014)\). Tada:</p>
        <div class="math-block">
          \[t \neq 0 \quad (\text{jer } x \neq 1)\]
        </div>
        <p>Za desnu stranu koristimo formulu za promenu baze:</p>
        <div class="math-block">
          \[\log_x 2014 = \frac{\log_{2013} 2014}{\log_{2013} x} = \frac{a}{t}\]
        </div>
        <p>Jednačina postaje:</p>
        <div class="math-block">
          \[1 + t - a = \frac{a}{t}\]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Šta je vrednost \(a = \log_{2013}(2014)\)?</summary>
      <p style="margin-top:8px;">Pošto je \(2014\) samo malo veće od \(2013\), važi \(a = \log_{2013}(2014)\) je malo veće od \(1\). Tačnije, \(a \approx 1{,}0003\).</p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-badge">5</div>
      <div class="step-body">
        <h3>Pomnožimo jednačinu sa \(t\)</h3>
        <p>Pošto je \(t \neq 0\), pomnožimo obe strane sa \(t\):</p>
        <div class="math-block">
          \[t(1 + t - a) = a\]
        </div>
        <p>Raspisujemo:</p>
        <div class="math-block">
          \[t + t^2 - at = a\]
        </div>
        <p>Prebacujemo sve na levu stranu:</p>
        <div class="math-block">
          \[t^2 + t(1 - a) - a = 0\]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-badge">6</div>
      <div class="step-body">
        <h3>Faktorizujemo kvadratnu jednačinu</h3>
        <p>Grupišemo članove na pogodan način:</p>
        <div class="math-block">
          \[t^2 + t - at - a = 0\]
        </div>
        <p>Iz prve grupe izdvajamo \(t\), iz druge \(-a\):</p>
        <div class="math-block">
          \[t(t + 1) - a(t + 1) = 0\]
        </div>
        <p>Izdvajamo zajednički faktor \((t + 1)\):</p>
        <div class="math-block">
          \[(t + 1)(t - a) = 0\]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" data-step="7">
      <div class="step-badge">7</div>
      <div class="step-body">
        <h3>Nađemo vrednosti \(t\)</h3>
        <p>Iz \((t + 1)(t - a) = 0\) sledi:</p>
        <div class="math-block">
          \[t_1 = -1 \qquad \text{ili} \qquad t_2 = a = \log_{2013}(2014)\]
        </div>
        <p>Oba rešenja su različita od nule (jer \(a > 1 \neq 0\) i \(-1 \neq 0\)), pa pripadaju domenu.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Ako je \(t = -1\), koliko je \(x\)?</summary>
      <p style="margin-top:8px;">Iz \(\log_{2013}(x) = -1\) sledi \(x = 2013^{-1} = \dfrac{1}{2013}\). To je pozitivan broj različit od \(1\), dakle pripada domenu.</p>
    </details>

    <!-- Step 8 -->
    <div class="step-container" data-step="8">
      <div class="step-badge">8</div>
      <div class="step-body">
        <h3>Vratimo smenu - nađemo \(x_1\) i \(x_2\)</h3>
        <p><strong>Za \(t_1 = -1\):</strong></p>
        <div class="math-block">
          \[\log_{2013}(x) = -1 \quad \Rightarrow \quad x_1 = 2013^{-1} = \frac{1}{2013}\]
        </div>
        <p><strong>Za \(t_2 = \log_{2013}(2014)\):</strong></p>
        <div class="math-block">
          \[\log_{2013}(x) = \log_{2013}(2014) \quad \Rightarrow \quad x_2 = 2014\]
        </div>
      </div>
    </div>

    <!-- Step 9 -->
    <div class="step-container" data-step="9">
      <div class="step-badge">9</div>
      <div class="step-body">
        <h3>Izračunamo proizvod rešenja</h3>
        <p>Proizvod svih realnih rešenja je:</p>
        <div class="math-block">
          \[P = x_1 \cdot x_2 = \frac{1}{2013} \cdot 2014 = \frac{2014}{2013}\]
        </div>
        <p>Izračunajmo približnu vrednost:</p>
        <div class="math-block">
          \[\frac{2014}{2013} = 1 + \frac{1}{2013} \approx 1{,}000497\ldots\]
        </div>
        <p>Dakle \(P \approx 1{,}0005\), što pripada intervalu \((1,\, 2]\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Ubacite \(x_1 = \frac{1}{2013}\) u originalnu jednačinu. Da li se strane poklapaju?</summary>
      <p style="margin-top:8px;">
        Leva strana: \(\frac{2013 \cdot \frac{1}{2013}}{2014} = \frac{1}{2014}\).<br>
        Desna strana: \(2013^{\log_{1/2013} 2014}\). Pošto je \(\log_{1/2013} 2014 = \frac{\ln 2014}{\ln(1/2013)} = \frac{\ln 2014}{-\ln 2013} = -\log_{2013} 2014\), imamo
        \(2013^{-\log_{2013} 2014} = \frac{1}{2014}\). Strane se poklapaju!
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="insight-label">Ključni uvid</div>
    <p style="font-size:1.1rem; margin-bottom: 12px;">Jednačina se elegantno svodi na kvadratnu pomoću smene \(t = \log_{2013}(x)\). Faktorizacija daje:</p>
    <div class="math-block" style="display:inline-block; font-size:1.15rem; background:rgba(96,165,250,0.1); border-color:rgba(96,165,250,0.25);">
      \[(t + 1)(t - a) = 0 \quad \Rightarrow \quad x_1 \cdot x_2 = \frac{1}{2013} \cdot 2014 = \frac{2014}{2013}\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div style="color:#94a3b8; font-size:0.9rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:8px;">Konačan odgovor</div>
    <div class="answer-text">(B) \((1,\, 2]\)</div>
    <p style="margin-top: 6px;">Proizvod svih rešenja je \(\dfrac{2014}{2013} \approx 1{,}0005\), što pripada intervalu \((1,\, 2]\).</p>
    <div class="verification">
      <strong>Verifikacija:</strong> Proverili smo oba rešenja uvrštavanjem u originalnu jednačinu. Njihov proizvod \(\frac{2014}{2013}\) je veći od \(1\) (jer je \(2014 > 2013\)) i očigledno manji od \(2\), pa zaista pripada intervalu \((1,\, 2]\).
    </div>

    <div class="given-grid" style="margin-top: 18px; justify-content: center;">
      <div class="given-item answer-option incorrect" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((0,\, 1]\)</div>
      </div>
      <div class="given-item answer-option correct" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\((1,\, 2]\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\((2,\, 3]\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((3,\, 4]\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\((4,\, +\infty)\)</div>
      </div>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <div class="pitfall">
      <strong>Zaboraviti domen:</strong> Logaritam \(\log_x 2014\) zahteva \(x > 0\) i \(x \neq 1\). Ako se ne proveri domen, može se pogrešno uključiti ili isključiti neko rešenje.
    </div>
    <div class="pitfall" style="margin-top: 12px;">
      <strong>Pogrešno tumačiti levu stranu:</strong> Leva strana je razlomak \(\frac{2013 \cdot x}{2014}\), a ne stepen \(2013 \cdot x^{2014}\). Pažljivo čitanje zapisa u zadatku je ključno.
    </div>
    <div class="pitfall" style="margin-top: 12px;">
      <strong>Množiti sa \(t\) bez provere:</strong> Kada množimo jednačinu sa \(t\), moramo proveriti da \(t \neq 0\), tj. \(x \neq 1\), što je već obezbeđeno domenom.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>Koliki je <em>zbir</em> svih realnih rešenja jednačine \(\dfrac{2013x}{2014} = 2013^{\log_x 2014}\)?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="margin-top:8px;">Zbir je \(x_1 + x_2 = \frac{1}{2013} + 2014\). Izračunajte ovo kao jedan razlomak. Da li taj zbir pripada nekom od ponuđenih intervala?</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas graph
  const canvas = document.getElementById('graph-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // We'll plot in a log scale for x-axis to show both x=1/2013 and x=2014
  // Use log10 for the x-axis
  // x range: 10^(-4) to 10^(4) => log10 range: -4 to 4
  const logXMin = -4;
  const logXMax = 4;
  const yMin = -2;
  const yMax = 5;

  const padL = 60;
  const padR = 20;
  const padT = 30;
  const padB = 50;

  const plotW = W - padL - padR;
  const plotH = H - padT - padB;

  function toCanvasX(logX) {
    return padL + (logX - logXMin) / (logXMax - logXMin) * plotW;
  }
  function toCanvasY(y) {
    return padT + plotH - (y - yMin) / (yMax - yMin) * plotH;
  }
  function fromCanvasX(cx) {
    return logXMin + (cx - padL) / plotW * (logXMax - logXMin);
  }

  // Left side: f(x) = 2013x/2014, in log10: log10(2013x/2014) ... wait
  // Actually let's plot log10 of both sides to make them comparable
  // log10(LHS) = log10(2013) + log10(x) - log10(2014)
  // log10(RHS) = log_x(2014) * log10(2013)
  //            = log10(2014)/log10(x) * log10(2013)

  const log10_2013 = Math.log10(2013);
  const log10_2014 = Math.log10(2014);

  function leftSide(log10x) {
    // log10(2013x/2014) = log10(2013) + log10(x) - log10(2014)
    return log10_2013 + log10x - log10_2014;
  }

  function rightSide(log10x) {
    // log10(2013^(log_x 2014)) = log_x(2014) * log10(2013)
    // = (log10(2014)/log10(x)) * log10(2013)
    if (Math.abs(log10x) < 0.001) return NaN; // x near 1
    return (log10_2014 / log10x) * log10_2013;
  }

  // Solutions:
  // x1 = 1/2013 => log10(x1) = -log10(2013) ≈ -3.3038
  // x2 = 2014 => log10(x2) = log10(2014) ≈ 3.3040
  const sol1LogX = -log10_2013;
  const sol2LogX = log10_2014;
  const sol1Y = leftSide(sol1LogX);
  const sol2Y = leftSide(sol2LogX);

  let mouseX = -1;
  let mouseY = -1;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let lx = -4; lx <= 4; lx++) {
      const cx = toCanvasX(lx);
      ctx.beginPath();
      ctx.moveTo(cx, padT);
      ctx.lineTo(cx, padT + plotH);
      ctx.stroke();
    }
    for (let y = -2; y <= 5; y++) {
      const cy = toCanvasY(y);
      ctx.beginPath();
      ctx.moveTo(padL, cy);
      ctx.lineTo(padL + plotW, cy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // y=0 line
    const zeroY = toCanvasY(0);
    ctx.beginPath();
    ctx.moveTo(padL, zeroY);
    ctx.lineTo(padL + plotW, zeroY);
    ctx.stroke();
    // x=0 line (log10(x)=0 => x=1)
    const oneX = toCanvasX(0);
    ctx.beginPath();
    ctx.moveTo(oneX, padT);
    ctx.lineTo(oneX, padT + plotH);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let lx = -4; lx <= 4; lx++) {
      const cx = toCanvasX(lx);
      let label;
      if (lx === 0) label = '1';
      else if (lx === 1) label = '10';
      else if (lx === -1) label = '0,1';
      else if (lx === 2) label = '100';
      else if (lx === -2) label = '0,01';
      else if (lx === 3) label = '1000';
      else if (lx === -3) label = '0,001';
      else if (lx === 4) label = '10000';
      else if (lx === -4) label = '0,0001';
      else label = '10^' + lx;
      ctx.fillText(label, cx, padT + plotH + 18);
    }
    ctx.textAlign = 'right';
    for (let y = -2; y <= 5; y++) {
      ctx.fillText(String(y), padL - 8, toCanvasY(y) + 4);
    }

    // Axis titles
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x (logaritamska skala)', padL + plotW / 2, H - 5);
    ctx.save();
    ctx.translate(15, padT + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('log\u2081\u2080(y)', 0, 0);
    ctx.restore();

    // Plot left side (line): y = log10(2013) + log10(x) - log10(2014)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = padL; px <= padL + plotW; px += 1) {
      const lx = fromCanvasX(px);
      const val = leftSide(lx);
      if (val < yMin - 1 || val > yMax + 1 || isNaN(val)) {
        started = false;
        continue;
      }
      const py = toCanvasY(val);
      if (!started) { ctx.moveTo(px, py); started = true; }
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Plot right side (hyperbola-like): y = (log10(2014)/log10(x))*log10(2013)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    // Positive branch (log10(x) > 0, x > 1)
    ctx.beginPath();
    started = false;
    for (let px = padL; px <= padL + plotW; px += 1) {
      const lx = fromCanvasX(px);
      if (lx < 0.02) continue; // avoid singularity at x=1
      const val = rightSide(lx);
      if (val < yMin - 1 || val > yMax + 1 || isNaN(val)) {
        started = false;
        continue;
      }
      const py = toCanvasY(val);
      if (!started) { ctx.moveTo(px, py); started = true; }
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Negative branch (log10(x) < 0, x < 1)
    ctx.beginPath();
    started = false;
    for (let px = padL; px <= padL + plotW; px += 1) {
      const lx = fromCanvasX(px);
      if (lx > -0.02) continue;
      const val = rightSide(lx);
      if (val < yMin - 1 || val > yMax + 1 || isNaN(val)) {
        started = false;
        continue;
      }
      const py = toCanvasY(val);
      if (!started) { ctx.moveTo(px, py); started = true; }
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Vertical asymptote at x=1 (log10(x)=0)
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(oneX, padT);
    ctx.lineTo(oneX, padT + plotH);
    ctx.stroke();
    ctx.setLineDash([]);

    // Intersection points
    function drawPoint(logX, y, label, sublabel) {
      const cx = toCanvasX(logX);
      const cy = toCanvasY(y);

      // Glow
      const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 18);
      grad.addColorStop(0, 'rgba(52,211,153,0.4)');
      grad.addColorStop(1, 'rgba(52,211,153,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, cy, 18, 0, Math.PI * 2);
      ctx.fill();

      // Point
      ctx.fillStyle = '#34d399';
      ctx.beginPath();
      ctx.arc(cx, cy, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(label, cx + 10, cy - 10);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.fillText(sublabel, cx + 10, cy + 4);
    }

    drawPoint(sol1LogX, sol1Y, 'x\u2081 = 1/2013', '\u2248 0,000497');
    drawPoint(sol2LogX, sol2Y, 'x\u2082 = 2014', '');

    // Legend
    ctx.fillStyle = '#1e293b';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const legX = padL + 12;
    const legY = padT + 10;
    const legW = 235;
    const legH = 52;
    ctx.beginPath();
    ctx.roundRect(legX, legY, legW, legH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX + 10, legY + 18);
    ctx.lineTo(legX + 35, legY + 18);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('log\u2081\u2080(2013x / 2014)', legX + 42, legY + 22);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX + 10, legY + 38);
    ctx.lineTo(legX + 35, legY + 38);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('log_x(2014) \u00B7 log\u2081\u2080(2013)', legX + 42, legY + 42);

    // Mouse hover info
    if (mouseX >= padL && mouseX <= padL + plotW && mouseY >= padT && mouseY <= padT + plotH) {
      const lx = fromCanvasX(mouseX);
      const xVal = Math.pow(10, lx);

      ctx.fillStyle = 'rgba(30,41,59,0.9)';
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      const tipW = 140;
      const tipH = 28;
      let tipX = mouseX + 12;
      let tipY = mouseY - 30;
      if (tipX + tipW > W) tipX = mouseX - tipW - 12;
      if (tipY < 0) tipY = mouseY + 12;
      ctx.beginPath();
      ctx.roundRect(tipX, tipY, tipW, tipH, 6);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      let xStr;
      if (xVal < 0.01) xStr = xVal.toExponential(2);
      else if (xVal < 100) xStr = xVal.toFixed(3).replace('.', ',');
      else xStr = xVal.toFixed(1).replace('.', ',');
      ctx.fillText('x \u2248 ' + xStr, tipX + 8, tipY + 18);

      // Crosshair
      ctx.setLineDash([3, 3]);
      ctx.strokeStyle = 'rgba(148,163,184,0.3)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(mouseX, padT);
      ctx.lineTo(mouseX, padT + plotH);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(padL, mouseY);
      ctx.lineTo(padL + plotW, mouseY);
      ctx.stroke();
      ctx.setLineDash([]);
    }
  }

  draw();

  canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    const scaleX = canvas.width / rect.width;
    const scaleY = canvas.height / rect.height;
    mouseX = (e.clientX - rect.left) * scaleX;
    mouseY = (e.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('mouseleave', () => {
    mouseX = -1;
    mouseY = -1;
    draw();
  });

  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches[0];
    const scaleX = canvas.width / rect.width;
    const scaleY = canvas.height / rect.height;
    mouseX = (touch.clientX - rect.left) * scaleX;
    mouseY = (touch.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('touchend', () => {
    mouseX = -1;
    mouseY = -1;
    draw();
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska jednačina - proizvod rešenja",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritamska jednačina", "promena baze logaritma", "kvadratna jednačina", "smena promenljive", "eksponencijalna funkcija"]
}
BRAINSPARK_META-->