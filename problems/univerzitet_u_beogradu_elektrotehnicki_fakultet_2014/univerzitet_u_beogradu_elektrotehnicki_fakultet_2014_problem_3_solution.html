<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompleksni brojevi i trigonometrijski identiteti</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Ako realni brojevi x i y zadovoljavaju jednakost
  (2x + i) / (y + i) = (1 + i*sin(alpha)) / (1 - i*sin(3*alpha))
gde je alpha != k*pi, alpha != pi/2 + k*pi, k in Z, i^2 = -1,
tada je kolicnik y/x jednak:
(A) -4 + 2cos(2alpha)
(B) 4 + 2cos(2alpha)
(C) 2 - 4cos(2alpha)
(D) -2 - 4cos(2alpha)
(E) 2 - 2sin(2alpha)

SOLUTION:

Cross-multiply:
  (2x + i)(1 - i*sin(3alpha)) = (y + i)(1 + i*sin(alpha))

Left side:
  = 2x * 1 + 2x * (-i*sin(3alpha)) + i * 1 + i * (-i*sin(3alpha))
  = 2x - 2x*i*sin(3alpha) + i - i^2 * sin(3alpha)
  = 2x - 2x*i*sin(3alpha) + i + sin(3alpha)    [since i^2 = -1]
  = (2x + sin(3alpha)) + i*(1 - 2x*sin(3alpha))

Right side:
  = y * 1 + y * i*sin(alpha) + i * 1 + i * i*sin(alpha)
  = y + y*i*sin(alpha) + i + i^2 * sin(alpha)
  = y + y*i*sin(alpha) + i - sin(alpha)          [since i^2 = -1]
  = (y - sin(alpha)) + i*(y*sin(alpha) + 1)

Equating real parts:
  2x + sin(3alpha) = y - sin(alpha)   ... (1)

Equating imaginary parts:
  1 - 2x*sin(3alpha) = y*sin(alpha) + 1
  -2x*sin(3alpha) = y*sin(alpha)
  y = -2x * sin(3alpha) / sin(alpha)   ... (2)

From (2):
  y/x = -2 * sin(3alpha) / sin(alpha)

Now simplify sin(3alpha) / sin(alpha):
  sin(3alpha) = 3*sin(alpha) - 4*sin^3(alpha)
             = sin(alpha) * (3 - 4*sin^2(alpha))

So:
  sin(3alpha) / sin(alpha) = 3 - 4*sin^2(alpha)

Note: sin(alpha) != 0 since alpha != k*pi (given).

Therefore:
  y/x = -2 * (3 - 4*sin^2(alpha))
      = -6 + 8*sin^2(alpha)

Using the double-angle identity sin^2(alpha) = (1 - cos(2alpha)) / 2:
  y/x = -6 + 8 * (1 - cos(2alpha)) / 2
      = -6 + 4 * (1 - cos(2alpha))
      = -6 + 4 - 4*cos(2alpha)
      = -2 - 4*cos(2alpha)

Answer: (D) -2 - 4*cos(2alpha)

VERIFICATION 1: alpha = pi/4
  sin(alpha) = sqrt(2)/2, sin(3alpha) = sin(3pi/4) = sqrt(2)/2
  cos(2alpha) = cos(pi/2) = 0
  y/x = -2 * (sqrt(2)/2) / (sqrt(2)/2) = -2
  Check: -2 - 4*0 = -2 CORRECT

VERIFICATION 2: alpha = pi/6
  sin(alpha) = 1/2, sin(3alpha) = sin(pi/2) = 1
  cos(2alpha) = cos(pi/3) = 1/2
  y/x = -2 * 1 / (1/2) = -4
  Check: -2 - 4*(1/2) = -2 - 2 = -4 CORRECT

VERIFICATION 3: alpha = pi/3
  sin(alpha) = sqrt(3)/2, sin(3alpha) = sin(pi) = 0
  cos(2alpha) = cos(2pi/3) = -1/2
  y/x = -2 * 0 / (sqrt(3)/2) = 0
  Check: -2 - 4*(-1/2) = -2 + 2 = 0 CORRECT

Also check option (A): -4 + 2cos(2alpha)
  For alpha = pi/4: -4 + 2*0 = -4 (not -2) WRONG
Option (B): 4 + 2cos(2alpha)
  For alpha = pi/4: 4 + 0 = 4 (not -2) WRONG
Option (C): 2 - 4cos(2alpha)
  For alpha = pi/4: 2 - 0 = 2 (not -2) WRONG
Option (E): 2 - 2sin(2alpha)
  For alpha = pi/4: 2 - 2*1 = 0 (not -2) WRONG

Only (D) works for all test values. Confirmed.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Kompleksna jednacina sa trigonometrijskim funkcijama</h1>
  <p class="subtitle">Izjednacavanje kompleksnih razlomaka, razdvajanje na realni i imaginarni deo, trigonometrijski identiteti</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Ako realni brojevi \(x\) i \(y\) zadovoljavaju jednakost</p>
    <div class="math-box">
      \[ \frac{2x + i}{y + i} = \frac{1 + i\sin\alpha}{1 - i\sin 3\alpha} \]
    </div>
    <p>gde je \(\alpha \neq k\pi\), \(\alpha \neq \frac{\pi}{2} + k\pi\), \(k \in \mathbb{Z}\), \(i^2 = -1\), tada je kolicnik \(\dfrac{y}{x}\) jednak:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-4 + 2\cos 2\alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(4 + 2\cos 2\alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(2 - 4\cos 2\alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-2 - 4\cos 2\alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2 - 2\sin 2\alpha\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Mnozimo krsno obe strane jednakosti, raspisujemo proizvode kompleksnih brojeva, pa izjednacavamo <span class="highlight">realne</span> i <span class="highlight">imaginarne</span> delove. Iz imaginarnog dela direktno dobijamo odnos \(y/x\), koji zatim pojednostavimo koristeci formulu za \(\sin 3\alpha\) i identitet dvostrukog ugla.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Jednakost kompleksnih brojeva:</strong> Ako su \(a + bi = c + di\), gde su \(a, b, c, d \in \mathbb{R}\), tada \(a = c\) i \(b = d\). Realni i imaginarni delovi moraju biti jednaki.</li>
          <li><strong>Trostruki ugao za sinus:</strong> \(\sin 3\alpha = 3\sin\alpha - 4\sin^3\alpha = \sin\alpha(3 - 4\sin^2\alpha)\).</li>
          <li><strong>Identitet dvostrukog ugla:</strong> \(\sin^2\alpha = \dfrac{1 - \cos 2\alpha}{2}\), pa \(4\sin^2\alpha = 2(1 - \cos 2\alpha) = 2 - 2\cos 2\alpha\).</li>
          <li><strong>Krsno mnozenje razlomaka:</strong> Ako je \(\dfrac{a}{b} = \dfrac{c}{d}\), tada \(a \cdot d = b \cdot c\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Graficki prikaz: kolicnik \(y/x\) u funkciji od \(\alpha\)</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Grafik prikazuje vrednost kolicnika \(y/x = -2 - 4\cos 2\alpha\) za razlicite vrednosti ugla \(\alpha\). Pomerajte klizac da vidite kako se kolicnik menja.</p>
    <canvas id="diagram" width="700" height="420"></canvas>
    <div style="margin-top:14px;">
      <label for="alphaSlider" style="color:#94a3b8; font-size:0.9rem;">Ugao \(\alpha\): </label>
      <input type="range" id="alphaSlider" min="1" max="628" value="79" style="width:260px; vertical-align:middle;">
      <span id="alphaDisplay" style="color:#60a5fa; font-weight:600; margin-left:8px;"></span>
    </div>
    <div id="valuesDisplay" style="margin-top:8px; color:#94a3b8; font-size:0.9rem;"></div>
    <p class="drag-hint">Pomerajte klizac da proverite vrednost kolicnika za razlicite uglove</p>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Krsno mnozenje</div>
      <div class="step-text">
        <p>Polazimo od date jednakosti i mnozimo krsno:</p>
        <div class="math-box">
          \[ \frac{2x + i}{y + i} = \frac{1 + i\sin\alpha}{1 - i\sin 3\alpha} \]
        </div>
        <p>Mnozimo levu stranu sa desnim imeniocem, a desnu stranu sa levim imeniocem:</p>
        <div class="math-box">
          \[ (2x + i)(1 - i\sin 3\alpha) = (y + i)(1 + i\sin\alpha) \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Raspisivanje leve strane</div>
      <div class="step-text">
        <p>Mnozimo svaki clan sa svakim na levoj strani:</p>
        <div class="math-box">
          \[ (2x + i)(1 - i\sin 3\alpha) = 2x \cdot 1 + 2x \cdot (-i\sin 3\alpha) + i \cdot 1 + i \cdot (-i\sin 3\alpha) \]
        </div>
        <p>Pojednostavimo svaki sabirak:</p>
        <div class="math-box">
          \[ = 2x - 2xi\sin 3\alpha + i - i^2\sin 3\alpha \]
        </div>
        <p>Posto je \(i^2 = -1\), zamenjujemo \(-i^2 = 1\):</p>
        <div class="math-box">
          \[ = 2x + \sin 3\alpha + i(1 - 2x\sin 3\alpha) \]
        </div>
        <p>Realni deo je \(2x + \sin 3\alpha\), a imaginarni je \(1 - 2x\sin 3\alpha\).</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Raspisivanje desne strane</div>
      <div class="step-text">
        <p>Analogno postupamo sa desnom stranom:</p>
        <div class="math-box">
          \[ (y + i)(1 + i\sin\alpha) = y \cdot 1 + y \cdot i\sin\alpha + i \cdot 1 + i \cdot i\sin\alpha \]
        </div>
        <p>Pojednostavimo:</p>
        <div class="math-box">
          \[ = y + yi\sin\alpha + i + i^2\sin\alpha \]
        </div>
        <p>Ponovo zamenjujemo \(i^2 = -1\):</p>
        <div class="math-box">
          \[ = y - \sin\alpha + i(y\sin\alpha + 1) \]
        </div>
        <p>Realni deo je \(y - \sin\alpha\), a imaginarni je \(y\sin\alpha + 1\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliki je realni, a koliki imaginarni deo broja \((3 + 2i)(1 - i)\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">\((3 + 2i)(1 - i) = 3 - 3i + 2i - 2i^2 = 3 - i + 2 = 5 - i\). Realni deo je \(5\), imaginarni je \(-1\).</p>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Izjednacavanje imaginarnih delova</div>
      <div class="step-text">
        <p>Iz jednakosti kompleksnih brojeva sledi da moraju biti jednaki i realni i imaginarni delovi. Izjednacavamo <span class="highlight">imaginarne delove</span>:</p>
        <div class="math-box">
          \[ 1 - 2x\sin 3\alpha = y\sin\alpha + 1 \]
        </div>
        <p>Oduzimamo \(1\) sa obe strane:</p>
        <div class="math-box">
          \[ -2x\sin 3\alpha = y\sin\alpha \]
        </div>
        <p>Delimo sa \(\sin\alpha \neq 0\) (vazi jer je \(\alpha \neq k\pi\)) i sa \(x\):</p>
        <div class="math-box">
          \[ \frac{y}{x} = \frac{-2\sin 3\alpha}{\sin\alpha} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Primena formule za \(\sin 3\alpha\)</div>
      <div class="step-text">
        <p>Koristimo poznatu formulu za sinus trostrukog ugla:</p>
        <div class="math-box">
          \[ \sin 3\alpha = 3\sin\alpha - 4\sin^3\alpha = \sin\alpha\,(3 - 4\sin^2\alpha) \]
        </div>
        <p>Zamenjujemo u izraz za kolicnik:</p>
        <div class="math-box">
          \[ \frac{y}{x} = \frac{-2\,\sin\alpha\,(3 - 4\sin^2\alpha)}{\sin\alpha} \]
        </div>
        <p>Skracujemo \(\sin\alpha\):</p>
        <div class="math-box">
          \[ \frac{y}{x} = -2(3 - 4\sin^2\alpha) = -6 + 8\sin^2\alpha \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(\sin 3\alpha / \sin\alpha\) za \(\alpha = \pi/6\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">\(\sin(3 \cdot \pi/6) = \sin(\pi/2) = 1\), a \(\sin(\pi/6) = 1/2\). Dakle kolicnik je \(1 / (1/2) = 2\). Formula daje: \(3 - 4 \cdot (1/2)^2 = 3 - 1 = 2\). Tacan rezultat!</p>
    </details>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Primena identiteta dvostrukog ugla</div>
      <div class="step-text">
        <p>Da bismo izraz doveli u oblik koji sadrzi \(\cos 2\alpha\), koristimo identitet:</p>
        <div class="math-box">
          \[ \sin^2\alpha = \frac{1 - \cos 2\alpha}{2} \]
        </div>
        <p>Zamenjujemo \(8\sin^2\alpha\):</p>
        <div class="math-box">
          \[ 8\sin^2\alpha = 8 \cdot \frac{1 - \cos 2\alpha}{2} = 4(1 - \cos 2\alpha) = 4 - 4\cos 2\alpha \]
        </div>
        <p>Konacno:</p>
        <div class="math-box">
          \[ \frac{y}{x} = -6 + 4 - 4\cos 2\alpha = -2 - 4\cos 2\alpha \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko iznosi \(y/x\) za \(\alpha = \pi/4\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">Za \(\alpha = \pi/4\): \(\cos 2\alpha = \cos(\pi/2) = 0\), pa \(y/x = -2 - 4 \cdot 0 = -2\). Direktna provera: \(\sin(\pi/4) = \sin(3\pi/4) = \sqrt{2}/2\), dakle \(y/x = -2 \cdot (\sqrt{2}/2) / (\sqrt{2}/2) = -2\). Poklapaju se!</p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljucni uvid</h3>
    <p>Trik ovog zadatka je sto ne treba eksplicitno nalaziti \(x\) i \(y\), vec samo njihov <strong>kolicnik</strong>. Izjednacavanjem imaginarnih delova dobijamo vezu \(y\sin\alpha = -2x\sin 3\alpha\), odakle se direktno dobija \(y/x\). Formula za trostruki ugao \(\sin 3\alpha = \sin\alpha(3 - 4\sin^2\alpha)\) omogucava skracivanje \(\sin\alpha\), a identitet dvostrukog ugla daje konacni oblik:</p>
    <div class="math-box" style="text-align:center; font-size:1.15rem;">
      \[ \frac{y}{x} = -2 - 4\cos 2\alpha \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <p class="answer-label">Kolicnik \(y/x\) jednak je:</p>
    <div class="answer-value">\(\displaystyle (D)\;\; -2 - 4\cos 2\alpha\)</div>
    <div class="options-row">
      <div class="option-box">(A) \(-4 + 2\cos 2\alpha\)</div>
      <div class="option-box">(B) \(4 + 2\cos 2\alpha\)</div>
      <div class="option-box">(C) \(2 - 4\cos 2\alpha\)</div>
      <div class="option-box correct">(D) \(-2 - 4\cos 2\alpha\)</div>
      <div class="option-box">(E) \(2 - 2\sin 2\alpha\)</div>
    </div>
    <p class="verification-note">Provera za \(\alpha = \pi/6\): \(\sin 3\alpha = 1\), \(\sin\alpha = 1/2\), pa \(y/x = -2 \cdot 1 / (1/2) = -4\). Formula: \(-2 - 4\cos(\pi/3) = -2 - 2 = -4\). Tacan odgovor je (D).</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>Pogresno raspisivanje proizvoda kompleksnih brojeva, narocito zaboravljanje da \(i \cdot (-i\sin 3\alpha) = -i^2\sin 3\alpha = +\sin 3\alpha\), a ne \(-\sin 3\alpha\). Greska u znaku \(i^2 = -1\) vodi na pogresne odgovore.</li>
      <li>Pogresna formula za \(\sin 3\alpha\). Ispravno je \(\sin 3\alpha = 3\sin\alpha - 4\sin^3\alpha\). Cesta zabuna: \(\sin 3\alpha = 3\sin\alpha + 4\sin^3\alpha\) (pogresno!) ili zamena sa formulom za \(\cos 3\alpha\).</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Neka realni brojevi \(x\) i \(y\) zadovoljavaju jednakost \(\dfrac{x + 2i}{y - i} = \dfrac{1 + i\cos\alpha}{1 - i\cos 3\alpha}\). Odredite kolicnik \(y/x\).</p>
    <details>
      <summary>Pomoc</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Postupak je analogan: krsno pomnozite, izjednacite realne i imaginarne delove. Iz imaginarnog dela dobijate vezu sa \(\cos 3\alpha / \cos\alpha\). Koristite formulu \(\cos 3\alpha = 4\cos^3\alpha - 3\cos\alpha = \cos\alpha(4\cos^2\alpha - 3)\) i identitet \(\cos^2\alpha = (1 + \cos 2\alpha)/2\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas: Graph of y/x = -2 - 4*cos(2*alpha) as function of alpha
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const marginL = 65;
  const marginR = 30;
  const marginT = 30;
  const marginB = 55;
  const plotW = W - marginL - marginR;
  const plotH = H - marginT - marginB;

  // alpha range: 0.01 to 2*pi (avoid 0, pi, 2pi where sin(alpha)=0)
  const alphaMin = 0;
  const alphaMax = 2 * Math.PI;
  // y/x range: -2 - 4*cos(2a) ranges from -6 (when cos2a=1) to 2 (when cos2a=-1)
  const yMin = -7;
  const yMax = 3;

  function toCanvasX(alpha) {
    return marginL + (alpha - alphaMin) / (alphaMax - alphaMin) * plotW;
  }

  function toCanvasY(val) {
    return marginT + (yMax - val) / (yMax - yMin) * plotH;
  }

  function yOverX(alpha) {
    return -2 - 4 * Math.cos(2 * alpha);
  }

  // Also compute directly: -2 * sin(3a) / sin(a) for verification dots
  function yOverXDirect(alpha) {
    var sa = Math.sin(alpha);
    if (Math.abs(sa) < 1e-10) return NaN;
    return -2 * Math.sin(3 * alpha) / sa;
  }

  let currentAlpha = Math.PI / 4;

  function drawGraph() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Plot area background
    ctx.fillStyle = '#111827';
    ctx.fillRect(marginL, marginT, plotW, plotH);

    // Grid lines
    ctx.strokeStyle = '#1a2438';
    ctx.lineWidth = 1;

    // Horizontal grid (y values)
    for (let v = Math.ceil(yMin); v <= Math.floor(yMax); v++) {
      const cy = toCanvasY(v);
      ctx.beginPath();
      ctx.moveTo(marginL, cy);
      ctx.lineTo(W - marginR, cy);
      ctx.stroke();
    }

    // Vertical grid (alpha values at pi/4 intervals)
    for (let i = 0; i <= 8; i++) {
      const a = i * Math.PI / 4;
      if (a > alphaMax) break;
      const cx = toCanvasX(a);
      ctx.beginPath();
      ctx.moveTo(cx, marginT);
      ctx.lineTo(cx, H - marginB);
      ctx.stroke();
    }

    // Zero line (y=0)
    const zeroY = toCanvasY(0);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(marginL, zeroY);
    ctx.lineTo(W - marginR, zeroY);
    ctx.stroke();

    // Axes borders
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(marginL, marginT);
    ctx.lineTo(marginL, H - marginB);
    ctx.lineTo(W - marginR, H - marginB);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';

    // Alpha axis labels
    var alphaLabels = [
      [0, '0'],
      [Math.PI / 4, '\u03C0/4'],
      [Math.PI / 2, '\u03C0/2'],
      [3 * Math.PI / 4, '3\u03C0/4'],
      [Math.PI, '\u03C0'],
      [5 * Math.PI / 4, '5\u03C0/4'],
      [3 * Math.PI / 2, '3\u03C0/2'],
      [7 * Math.PI / 4, '7\u03C0/4'],
      [2 * Math.PI, '2\u03C0']
    ];
    alphaLabels.forEach(function(pair) {
      var a = pair[0];
      var lbl = pair[1];
      var cx = toCanvasX(a);
      ctx.fillStyle = '#64748b';
      ctx.fillText(lbl, cx, H - marginB + 18);
      // tick
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, H - marginB);
      ctx.lineTo(cx, H - marginB + 5);
      ctx.stroke();
    });

    // Alpha axis title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.fillText('\u03B1', W / 2, H - 8);

    // Y axis labels
    ctx.textAlign = 'right';
    ctx.font = '12px Segoe UI, sans-serif';
    for (let v = Math.ceil(yMin); v <= Math.floor(yMax); v++) {
      var cy = toCanvasY(v);
      ctx.fillStyle = '#64748b';
      ctx.fillText(String(v), marginL - 8, cy + 4);
    }

    // Y axis title
    ctx.save();
    ctx.translate(16, H / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('y / x', 0, 0);
    ctx.restore();

    // Draw the curve y/x = -2 - 4*cos(2*alpha) in blue
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var started = false;
    for (var px = marginL; px <= W - marginR; px++) {
      var alpha = alphaMin + (px - marginL) / plotW * (alphaMax - alphaMin);
      var val = yOverX(alpha);
      var py = toCanvasY(val);
      if (py < marginT - 10 || py > H - marginB + 10) {
        started = false;
        continue;
      }
      if (!started) {
        ctx.moveTo(px, py);
        started = true;
      } else {
        ctx.lineTo(px, py);
      }
    }
    ctx.stroke();

    // Mark excluded points (alpha = k*pi and alpha = pi/2 + k*pi) with pink circles
    var excluded = [Math.PI / 2, Math.PI, 3 * Math.PI / 2];
    excluded.forEach(function(ea) {
      var ex = toCanvasX(ea);
      var val = yOverX(ea);
      var ey = toCanvasY(val);
      ctx.beginPath();
      ctx.arc(ex, ey, 5, 0, 2 * Math.PI);
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.fillStyle = '#0c1222';
      ctx.fill();
    });

    // Mark special verification points with green dots
    var specials = [
      [Math.PI / 6, '\u03C0/6'],
      [Math.PI / 4, '\u03C0/4'],
      [Math.PI / 3, '\u03C0/3']
    ];
    specials.forEach(function(pair) {
      var sa = pair[0];
      var sx = toCanvasX(sa);
      var val = yOverX(sa);
      var sy = toCanvasY(val);
      ctx.beginPath();
      ctx.arc(sx, sy, 4, 0, 2 * Math.PI);
      ctx.fillStyle = '#34d399';
      ctx.fill();
    });

    // Current point marker
    if (Math.abs(Math.sin(currentAlpha)) > 0.01 && Math.abs(Math.cos(currentAlpha)) > 0.01) {
      var cpx = toCanvasX(currentAlpha);
      var val = yOverX(currentAlpha);
      var cpy = toCanvasY(val);

      // Dashed crosshair
      ctx.strokeStyle = 'rgba(74,222,128,0.35)';
      ctx.lineWidth = 1;
      ctx.setLineDash([5, 4]);
      ctx.beginPath();
      ctx.moveTo(cpx, cpy);
      ctx.lineTo(cpx, H - marginB);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(cpx, cpy);
      ctx.lineTo(marginL, cpy);
      ctx.stroke();
      ctx.setLineDash([]);

      // Glow
      var gradient = ctx.createRadialGradient(cpx, cpy, 0, cpx, cpy, 18);
      gradient.addColorStop(0, 'rgba(74,222,128,0.4)');
      gradient.addColorStop(1, 'rgba(74,222,128,0)');
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(cpx, cpy, 18, 0, 2 * Math.PI);
      ctx.fill();

      // Point
      ctx.beginPath();
      ctx.arc(cpx, cpy, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#166534';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      var valStr = val.toFixed(2).replace('.', ',');
      var aStr = (currentAlpha / Math.PI).toFixed(2).replace('.', ',');
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, sans-serif';
      ctx.textAlign = 'left';
      var lblX = cpx + 12;
      var lblY = cpy - 12;
      if (lblX > W - 160) { lblX = cpx - 140; }
      if (lblY < marginT + 20) { lblY = cpy + 22; }
      ctx.fillText('\u03B1 = ' + aStr + '\u03C0, y/x = ' + valStr, lblX, lblY);

      // Direct verification
      var directVal = yOverXDirect(currentAlpha);
      var dispEl = document.getElementById('valuesDisplay');
      if (dispEl && !isNaN(directVal)) {
        dispEl.textContent = 'Formula: -2 - 4cos(2\u03B1) = ' + val.toFixed(4).replace('.', ',') +
          ' | Direktno: -2sin(3\u03B1)/sin(\u03B1) = ' + directVal.toFixed(4).replace('.', ',') +
          ' | Razlika: ' + Math.abs(val - directVal).toExponential(2);
      } else if (dispEl) {
        dispEl.textContent = 'Za ovaj ugao sin(\u03B1) = 0, izraz nije definisan.';
      }
    }

    // Legend
    ctx.textAlign = 'left';
    ctx.font = '12px Segoe UI, sans-serif';
    var ly = marginT + 15;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(W - marginR - 180, ly - 5, 16, 3);
    ctx.fillText('y/x = -2 - 4cos 2\u03B1', W - marginR - 158, ly);
    ly += 20;

    ctx.beginPath();
    ctx.arc(W - marginR - 172, ly - 3, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#34d399';
    ctx.fill();
    ctx.fillStyle = '#34d399';
    ctx.fillText('Provera (\u03C0/6, \u03C0/4, \u03C0/3)', W - marginR - 158, ly);
    ly += 20;

    ctx.beginPath();
    ctx.arc(W - marginR - 172, ly - 3, 4, 0, 2 * Math.PI);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = '#0c1222';
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Iskljuceni uglovi', W - marginR - 158, ly);
  }

  drawGraph();

  // Slider interaction
  var slider = document.getElementById('alphaSlider');
  var alphaDisp = document.getElementById('alphaDisplay');

  function updateAlphaDisplay() {
    var aOverPi = (currentAlpha / Math.PI).toFixed(2).replace('.', ',');
    var aDeg = (currentAlpha * 180 / Math.PI).toFixed(1).replace('.', ',');
    alphaDisp.textContent = aOverPi + '\u03C0 (' + aDeg + '\u00B0)';
  }

  // Initial display
  currentAlpha = parseInt(slider.value, 10) / 100;
  updateAlphaDisplay();
  drawGraph();

  slider.addEventListener('input', function() {
    currentAlpha = parseInt(slider.value, 10) / 100;
    updateAlphaDisplay();
    drawGraph();
  });

  // Touch support
  canvas.addEventListener('touchstart', function(e) { e.preventDefault(); }, { passive: false });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kompleksna jednacina sa trigonometrijskim funkcijama",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["kompleksni brojevi", "trigonometrijski identiteti", "sinus trostrukog ugla", "dvostruki ugao", "jednacina sa kompleksnim brojevima"]
}
BRAINSPARK_META-->