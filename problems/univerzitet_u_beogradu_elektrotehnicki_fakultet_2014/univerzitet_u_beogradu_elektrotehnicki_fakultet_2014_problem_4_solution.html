<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamski izraz sa stepenovanjem</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Izraz 5^((3 - log_10(5)) / log_10(25)) je jednak izrazu:
(A) 10*sqrt(2)  (B) 5  (C) 5/sqrt(2)  (D) 10/sqrt(2)  (E) 5^(1/5)

SOLUTION:

Step 1: Oznacimo a = log_10(5). Tada log_10(25) = log_10(5^2) = 2*log_10(5) = 2a.

Step 2: Eksponent postaje:
  (3 - a) / (2a)

Step 3: Razbijmo razlomak:
  (3 - a) / (2a) = 3/(2a) - a/(2a) = 3/(2a) - 1/2

Step 4: Koristimo promenu baze: 1/log_10(5) = log_5(10).
  Dakle: 3/(2a) = (3/2) * (1/a) = (3/2) * log_5(10)

Step 5: Eksponent = (3/2)*log_5(10) - 1/2

Step 6: Sada racunamo 5^eksponent:
  5^((3/2)*log_5(10) - 1/2)
  = 5^((3/2)*log_5(10)) * 5^(-1/2)
  = (5^(log_5(10)))^(3/2) * 5^(-1/2)
  = 10^(3/2) * 5^(-1/2)
  = 10 * sqrt(10) * (1/sqrt(5))
  = 10 * sqrt(10) / sqrt(5)
  = 10 * sqrt(10/5)
  = 10 * sqrt(2)

VERIFICATION:
log_10(5) ≈ 0.69897
log_10(25) ≈ 1.39794
Eksponent: (3 - 0.69897) / 1.39794 = 2.30103 / 1.39794 ≈ 1.64644
5^1.64644 = e^(1.64644 * ln5) = e^(1.64644 * 1.60944) = e^(2.64985) ≈ 14.1418
10*sqrt(2) = 10 * 1.41421 = 14.1421 ≈ 14.142

Poklapanje je odlicno. Odgovor je (A) 10*sqrt(2).

ALTERNATIVE APPROACH:
Mozemo i ovako. Neka je a = log_10(5), b = log_10(2). Tada a + b = 1.
Eksponent = (3 - a)/(2a).
Primetimo da 3 - a = 3 - (1-b) = 2 + b.
Dakle eksponent = (2 + b) / (2a) = 2/(2a) + b/(2a) = 1/a + b/(2a)
= log_5(10) + (1/2)*log_5(2)     [jer b/a = log_10(2)/log_10(5) = log_5(2)]
= log_5(10) + log_5(sqrt(2))
= log_5(10*sqrt(2))

Dakle: 5^(log_5(10*sqrt(2))) = 10*sqrt(2).

Answer: (A) 10*sqrt(2)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 650px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Logaritamski izraz sa stepenovanjem</h1>
  <p class="subtitle">Osobine logaritama, promena baze, stepenovanje</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Izraz \(\displaystyle 5^{\frac{3 - \log_{10} 5}{\log_{10} 25}}\) je jednak izrazu:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(10\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{5}{\sqrt{2}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{10}{\sqrt{2}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(5^{\frac{1}{5}}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Oznacicemo \(\log_{10} 5 = a\) da bismo pojednostavili eksponent. Zatim cemo koristiti osobine logaritama (posebno promenu baze i zakone stepenovanja) da svedemo izraz na konkretan broj. Na kraju cemo proveriti rezultat numerickim uvrstavanjem.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Logaritam stepena:</strong> \(\log_b(x^n) = n \cdot \log_b x\)</li>
          <li><strong>Promena baze:</strong> \(\dfrac{1}{\log_b a} = \log_a b\), odnosno \(\dfrac{\log_b x}{\log_b a} = \log_a x\)</li>
          <li><strong>Osnovna veza:</strong> \(a^{\log_a x} = x\) &mdash; stepenovanje baze logaritmom te iste baze daje argument</li>
          <li><strong>Stepenovanje:</strong> \(a^{m+n} = a^m \cdot a^n\) i \(a^{m \cdot n} = (a^m)^n\)</li>
          <li><strong>Decimalni logaritam:</strong> \(\log_{10} 2 + \log_{10} 5 = \log_{10} 10 = 1\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Dijagram prikazuje tok transformacija izraza korak po korak. Koristite dugme za prikaz sledeceg koraka.</p>
    <canvas id="diagram" width="650" height="460"></canvas>
    <p class="drag-hint">Kliknite dugme ispod za prikaz koraka resavanja</p>
    <div style="margin-top: 14px;">
      <button id="animBtn" style="background: linear-gradient(135deg, #60a5fa, #a78bfa); color: #0f172a; border: none; padding: 10px 24px; border-radius: 8px; font-weight: 700; font-size: 0.95rem; cursor: pointer;">Sledeci korak</button>
      <button id="resetBtn" style="background: #334155; color: #94a3b8; border: 1px solid #475569; padding: 10px 18px; border-radius: 8px; font-weight: 600; font-size: 0.95rem; cursor: pointer; margin-left: 8px;">Ponovo</button>
    </div>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Uvedemo smenu i pojednostavimo imenilac</div>
      <div class="step-text">
        <p>Neka je \(a = \log_{10} 5\). Tada za imenilac koristimo pravilo za logaritam stepena:</p>
        <div class="math-box">
          \[ \log_{10} 25 = \log_{10} 5^2 = 2 \cdot \log_{10} 5 = 2a \]
        </div>
        <p>Nas izraz sada glasi:</p>
        <div class="math-box">
          \[ 5^{\frac{3 - a}{2a}} \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Razbijemo eksponent na dva dela</div>
      <div class="step-text">
        <p>Razlomak u eksponentu mozemo rastaviti na razliku dva razlomka:</p>
        <div class="math-box">
          \[ \frac{3 - a}{2a} = \frac{3}{2a} - \frac{a}{2a} = \frac{3}{2a} - \frac{1}{2} \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Primenimo promenu baze logaritma</div>
      <div class="step-text">
        <p>Koristimo cinjenicu da je reciprocna vrednost logaritma jednaka logaritmu sa zamenjenom bazom:</p>
        <div class="math-box">
          \[ \frac{1}{a} = \frac{1}{\log_{10} 5} = \log_5 10 \]
        </div>
        <p>Pa je:</p>
        <div class="math-box">
          \[ \frac{3}{2a} = \frac{3}{2} \cdot \log_5 10 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko iznosi \(\log_5 10\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        \(\log_5 10 = \dfrac{\log_{10} 10}{\log_{10} 5} = \dfrac{1}{\log_{10} 5} \approx \dfrac{1}{0{,}699} \approx 1{,}431\). To je broj veci od 1 jer je \(10 > 5\).
      </p>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Zapisemo ceo eksponent i razbijemo stepenovanje</div>
      <div class="step-text">
        <p>Eksponent je:</p>
        <div class="math-box">
          \[ \frac{3}{2} \cdot \log_5 10 - \frac{1}{2} \]
        </div>
        <p>Koristimo pravilo \(a^{m+n} = a^m \cdot a^n\) da razbijemo stepen:</p>
        <div class="math-box">
          \[ 5^{\frac{3}{2} \cdot \log_5 10 \;-\; \frac{1}{2}} = 5^{\frac{3}{2} \cdot \log_5 10} \cdot 5^{-\frac{1}{2}} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Izracunamo \(5^{\frac{3}{2} \cdot \log_5 10}\)</div>
      <div class="step-text">
        <p>Koristimo pravilo \(a^{m \cdot n} = (a^m)^n\):</p>
        <div class="math-box">
          \[ 5^{\frac{3}{2} \cdot \log_5 10} = \left(5^{\log_5 10}\right)^{\frac{3}{2}} \]
        </div>
        <p>A kljucna osobina logaritma kaze: \(5^{\log_5 10} = 10\). Dakle:</p>
        <div class="math-box">
          \[ \left(5^{\log_5 10}\right)^{\frac{3}{2}} = 10^{\frac{3}{2}} = \sqrt{10^3} = 10\sqrt{10} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(10^{3/2}\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        \(10^{3/2} = 10^1 \cdot 10^{1/2} = 10 \cdot \sqrt{10} \approx 10 \cdot 3{,}162 = 31{,}62\).
      </p>
    </details>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Izracunamo \(5^{-1/2}\)</div>
      <div class="step-text">
        <p>Negativan eksponent \(-\frac{1}{2}\) daje reciprocnu vrednost korena:</p>
        <div class="math-box">
          \[ 5^{-\frac{1}{2}} = \frac{1}{\sqrt{5}} \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <span class="step-badge">Korak 7</span>
      <div class="step-title">Spojimo sve i pojednostavimo</div>
      <div class="step-text">
        <p>Mnozimo dva dela:</p>
        <div class="math-box">
          \[ 10\sqrt{10} \cdot \frac{1}{\sqrt{5}} = \frac{10\sqrt{10}}{\sqrt{5}} \]
        </div>
        <p>Pojednostavimo \(\dfrac{\sqrt{10}}{\sqrt{5}}\):</p>
        <div class="math-box">
          \[ \frac{\sqrt{10}}{\sqrt{5}} = \sqrt{\frac{10}{5}} = \sqrt{2} \]
        </div>
        <p>Konacno:</p>
        <div class="math-box">
          \[ \frac{10\sqrt{10}}{\sqrt{5}} = 10 \cdot \sqrt{2} = 10\sqrt{2} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Numericka verifikacija</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Eksponent: \(\dfrac{3 - 0{,}699}{1{,}398} = \dfrac{2{,}301}{1{,}398} \approx 1{,}645\).<br>
        \(5^{1{,}645} \approx 14{,}14\).<br>
        \(10\sqrt{2} \approx 10 \cdot 1{,}414 = 14{,}14\). Poklapaju se!
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljucni uvid</h3>
    <p>Celokupno resenje se svodi na prepoznavanje da se eksponent moze izraziti kao logaritam baze 5. Naime, koristeci promenu baze:</p>
    <div class="math-box" style="text-align:center; font-size:1.05rem;">
      \[ \frac{3 - \log_{10} 5}{2\log_{10} 5} = \log_5 \left(10\sqrt{2}\right) \]
    </div>
    <p>Pa direktno sledi:</p>
    <div class="math-box" style="text-align:center; font-size:1.1rem;">
      \[ 5^{\log_5(10\sqrt{2})} = \boxed{10\sqrt{2}} \]
    </div>
    <p>Trik je u tome sto \(\frac{3}{2\log_{10}5} = \frac{3}{2}\log_5 10 = \log_5 10^{3/2}\) i \(\frac{1}{2} = \log_5 \sqrt{5}\), pa se sve lepo sklapa pod jedan logaritam.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <p class="answer-label">Vrednost izraza \(\displaystyle 5^{\frac{3 - \log_{10} 5}{\log_{10} 25}}\) je:</p>
    <div class="answer-value">\(10\sqrt{2}\)</div>
    <div class="options-row">
      <div class="option-box correct">(A) \(10\sqrt{2}\)</div>
      <div class="option-box">(B) \(5\)</div>
      <div class="option-box">(C) \(\frac{5}{\sqrt{2}}\)</div>
      <div class="option-box">(D) \(\frac{10}{\sqrt{2}}\)</div>
      <div class="option-box">(E) \(5^{\frac{1}{5}}\)</div>
    </div>
    <p class="verification-note">Numericka provera: \(5^{1{,}645} \approx 14{,}14 = 10 \cdot 1{,}414 = 10\sqrt{2}\).</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>Zaboravljanje da je \(\log_{10} 25 = 2\log_{10} 5\), a ne \(\log_{10} 5 + \log_{10} 5\) (isto je matematicki, ali greska nastaje ako se \(25\) ne prepozna kao \(5^2\) i koristi se pogresna vrednost).</li>
      <li>Pogresna primena promene baze: \(\frac{1}{\log_{10} 5}\) je \(\log_5 10\), a ne \(\log_{10}(1/5)\). Mesanje ove dve stvari vodi do potpuno pogresnog rezultata.</li>
      <li>Greska pri pojednostavljivanju \(\frac{\sqrt{10}}{\sqrt{5}}\): ovaj razlomak je \(\sqrt{2}\), ne \(\sqrt{5}\) niti \(2\). Treba koristiti pravilo \(\frac{\sqrt{a}}{\sqrt{b}} = \sqrt{\frac{a}{b}}\).</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Izracunaj vrednost izraza \(\displaystyle 2^{\frac{5 - \log_{10} 4}{\log_{10} 8}}\).</p>
    <details>
      <summary>Pomoc</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Koristi isti pristup: oznaci \(b = \log_{10} 2\), pa je \(\log_{10} 4 = 2b\) i \(\log_{10} 8 = 3b\). Eksponent postaje \(\frac{5 - 2b}{3b}\). Razbij na \(\frac{5}{3b} - \frac{2}{3}\) i koristi promenu baze: \(\frac{1}{b} = \log_2 10\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas visualization
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let currentPhase = 0;
  const maxPhase = 5;

  const animBtn = document.getElementById('animBtn');
  const resetBtn = document.getElementById('resetBtn');

  animBtn.addEventListener('click', () => {
    if (currentPhase < maxPhase) {
      currentPhase++;
      drawDiagram();
    }
  });

  resetBtn.addEventListener('click', () => {
    currentPhase = 0;
    drawDiagram();
  });

  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
  }

  function drawBox(x, y, w, h, bgColor, borderColor, text, textColor, fontSize) {
    roundRect(x, y, w, h, 8);
    ctx.fillStyle = bgColor;
    ctx.fill();
    ctx.strokeStyle = borderColor;
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = textColor || '#e2e8f0';
    ctx.font = (fontSize || 16) + 'px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    const lines = text.split('\n');
    const lineH = (fontSize || 16) + 6;
    const totalH = lines.length * lineH;
    const startY = y + h / 2 - totalH / 2 + lineH / 2;
    lines.forEach((line, i) => {
      ctx.fillText(line, x + w / 2, startY + i * lineH);
    });
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color || '#60a5fa';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    const angle = Math.atan2(y2 - y1, x2 - x1);
    const headLen = 10;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  function drawDiagram() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const midX = W / 2;

    // Phase label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';

    const phaseLabels = [
      'Polazni izraz',
      'Korak 1: Smena a = log\u2081\u2080 5',
      'Korak 2: Razbijamo eksponent',
      'Korak 3: Promena baze',
      'Korak 4: Stepenovanje',
      'Rezultat!'
    ];
    ctx.fillText(phaseLabels[currentPhase], midX, 12);

    // Phase indicator dots
    for (let i = 0; i <= maxPhase; i++) {
      ctx.beginPath();
      ctx.arc(midX - (maxPhase * 10) + i * 20, H - 18, 5, 0, 2 * Math.PI);
      ctx.fillStyle = i <= currentPhase ? '#60a5fa' : '#334155';
      ctx.fill();
    }

    if (currentPhase === 0) {
      drawBox(midX - 200, 55, 400, 55, 'rgba(96,165,250,0.1)', '#60a5fa',
        '5 ^ ((3 \u2212 log\u2081\u2080 5) / log\u2081\u2080 25)', '#60a5fa', 19);

      ctx.fillStyle = '#94a3b8';
      ctx.font = '15px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Treba da odredimo numericku vrednost ovog izraza.', midX, 150);

      drawBox(midX - 160, 180, 320, 80, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)',
        'Plan:\n1. Pojednostavi log\u2081\u2080 25\n2. Razbij eksponent\n3. Koristi promenu baze\n4. Izracunaj', '#4ade80', 14);

      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.fillText('Kljuc: log\u2081\u2080 25 = 2 \u00B7 log\u2081\u2080 5', midX, 300);
    }

    if (currentPhase === 1) {
      drawBox(midX - 200, 45, 400, 45, 'rgba(96,165,250,0.1)', '#60a5fa',
        '5 ^ ((3 \u2212 log\u2081\u2080 5) / log\u2081\u2080 25)', '#60a5fa', 17);

      drawArrow(midX, 105, midX, 130, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('a = log\u2081\u2080 5,  log\u2081\u2080 25 = 2a', midX + 130, 118);

      drawBox(midX - 120, 140, 240, 45, 'rgba(167,139,250,0.12)', '#a78bfa',
        '5 ^ ((3 \u2212 a) / (2a))', '#a78bfa', 20);

      drawArrow(midX, 200, midX, 230, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('Imenilac je sada 2a', midX + 100, 215);

      drawBox(midX - 140, 240, 280, 55, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.25)',
        'log\u2081\u2080 25 = log\u2081\u2080(5\u00B2) = 2 log\u2081\u2080 5', '#34d399', 16);

      drawBox(midX - 160, 340, 320, 40, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.2)',
        'Smena nam pojednostavljuje imenilac!', '#f472b6', 14);
    }

    if (currentPhase === 2) {
      drawBox(midX - 120, 45, 240, 45, 'rgba(167,139,250,0.1)', '#a78bfa',
        '5 ^ ((3 \u2212 a) / (2a))', '#a78bfa', 19);

      drawArrow(midX, 105, midX, 135, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('razlomak = 3/(2a) \u2212 1/2', midX + 120, 120);

      drawBox(midX - 170, 145, 160, 50, 'rgba(96,165,250,0.12)', '#60a5fa',
        '3 / (2a)', '#60a5fa', 20);

      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 24px Segoe UI, sans-serif';
      ctx.fillText('\u2212', midX + 20, 170);

      drawBox(midX + 40, 145, 130, 50, 'rgba(244,114,182,0.1)', '#f472b6',
        '1/2', '#f472b6', 20);

      drawArrow(midX, 210, midX, 245, '#94a3b8');

      drawBox(midX - 190, 255, 380, 50, 'rgba(52,211,153,0.1)', 'rgba(52,211,153,0.3)',
        '5^(3/(2a)) \u00B7 5^(\u22121/2)', '#34d399', 18);

      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.fillText('Koristimo: a^(m\u2212n) = a^m \u00B7 a^(\u2212n)', midX, 340);
    }

    if (currentPhase === 3) {
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Promena baze: 1/a = 1/log\u2081\u2080(5) = log\u2085 10', midX, 50);

      drawBox(midX - 180, 70, 360, 45, 'rgba(96,165,250,0.1)', '#60a5fa',
        '3/(2a) = (3/2) \u00B7 log\u2085 10', '#60a5fa', 18);

      drawArrow(midX, 130, midX, 160, '#94a3b8');

      drawBox(midX - 200, 170, 400, 50, 'rgba(167,139,250,0.12)', '#a78bfa',
        '5^((3/2) \u00B7 log\u2085 10) = (5^(log\u2085 10))^(3/2)', '#a78bfa', 15);

      drawArrow(midX, 235, midX, 265, '#94a3b8');
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, sans-serif';
      ctx.fillText('5^(log\u2085 10) = 10', midX + 130, 250);

      drawBox(midX - 100, 275, 200, 50, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.4)',
        '= 10^(3/2)', '#4ade80', 22);

      drawArrow(midX, 340, midX, 365, '#94a3b8');

      drawBox(midX - 110, 375, 220, 45, 'rgba(74,222,128,0.12)', 'rgba(74,222,128,0.3)',
        '= 10 \u00B7 \u221A10', '#4ade80', 20);
    }

    if (currentPhase === 4) {
      drawBox(midX - 130, 45, 130, 45, 'rgba(74,222,128,0.12)', 'rgba(74,222,128,0.3)',
        '10\u221A10', '#4ade80', 20);

      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 22px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('\u00D7', midX + 30, 67);

      drawBox(midX + 50, 45, 110, 45, 'rgba(244,114,182,0.1)', '#f472b6',
        '1/\u221A5', '#f472b6', 20);

      drawArrow(midX, 105, midX, 140, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.fillText('5^(\u22121/2) = 1/\u221A5', midX + 130, 125);

      drawBox(midX - 140, 150, 280, 45, 'rgba(167,139,250,0.1)', '#a78bfa',
        '10 \u00B7 \u221A10 / \u221A5', '#a78bfa', 19);

      drawArrow(midX, 210, midX, 240, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('\u221A10 / \u221A5 = \u221A(10/5) = \u221A2', midX + 130, 225);

      drawBox(midX - 100, 250, 200, 55, 'rgba(74,222,128,0.18)', 'rgba(74,222,128,0.5)',
        '10\u221A2', '#4ade80', 28);

      drawBox(midX - 150, 340, 300, 45, 'rgba(52,211,153,0.06)', 'rgba(52,211,153,0.2)',
        'Provera: 10\u221A2 \u2248 14,14 \u2713', '#34d399', 15);
    }

    if (currentPhase === 5) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 28px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Odgovor: 10\u221A2', midX, 60);

      // Flow summary
      var flowY = 100;
      drawBox(30, flowY, 170, 40, 'rgba(96,165,250,0.1)', '#60a5fa',
        '5^((3\u2212a)/(2a))', '#60a5fa', 14);
      drawArrow(200, flowY + 20, 225, flowY + 20, '#94a3b8');

      drawBox(225, flowY, 190, 40, 'rgba(167,139,250,0.1)', '#a78bfa',
        '5^(3/(2a)) \u00B7 5^(\u22121/2)', '#a78bfa', 13);
      drawArrow(415, flowY + 20, 440, flowY + 20, '#94a3b8');

      drawBox(440, flowY, 180, 40, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)',
        '10^(3/2) \u00B7 1/\u221A5', '#34d399', 13);

      drawArrow(midX, flowY + 50, midX, flowY + 80, '#4ade80');

      drawBox(midX - 100, flowY + 90, 200, 50, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.5)',
        '10\u221A2 \u2248 14,14', '#4ade80', 20);

      // Alternative approach
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.fillText('Alternativno: eksponent = log\u2085(10\u221A2)', midX, 290);
      ctx.fillText('pa je 5^(log\u2085(10\u221A2)) = 10\u221A2', midX, 312);

      // Final answer highlight
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(midX - 15, 370);
      ctx.lineTo(midX - 3, 383);
      ctx.lineTo(midX + 18, 357);
      ctx.stroke();

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 16px Segoe UI, sans-serif';
      ctx.fillText('Odgovor: (A) 10\u221A2', midX + 75, 373);
    }

    // Button text update
    if (currentPhase >= maxPhase) {
      animBtn.textContent = 'Zavrseno';
      animBtn.style.opacity = '0.5';
    } else {
      animBtn.textContent = 'Sledeci korak';
      animBtn.style.opacity = '1';
    }
  }

  drawDiagram();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamski izraz sa stepenovanjem",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritmi", "promena baze logaritma", "stepenovanje", "osobine logaritama", "decimalni logaritam"]
}
BRAINSPARK_META-->