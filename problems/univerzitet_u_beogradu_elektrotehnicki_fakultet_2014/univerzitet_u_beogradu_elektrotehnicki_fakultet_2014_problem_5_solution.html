<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednacina sa apsolutnom vrednoscu</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
x + |x| = x / |x|, where x ∈ R \ {0}
Find which set x belongs to.

SOLUTION:

We must consider two cases based on the sign of x.

CASE 1: x > 0
  |x| = x
  Left side: x + |x| = x + x = 2x
  Right side: x / |x| = x / x = 1
  Equation: 2x = 1
  Solution: x = 1/2

  Check: x = 1/2 > 0 ✓ (consistent with assumption)
  Verify: 1/2 + |1/2| = 1/2 + 1/2 = 1
          (1/2) / |1/2| = (1/2) / (1/2) = 1 ✓

  x = 1/2 ∈ (0, 1) → Answer (A)

CASE 2: x < 0
  |x| = -x
  Left side: x + |x| = x + (-x) = 0
  Right side: x / |x| = x / (-x) = -1
  Equation: 0 = -1
  This is a CONTRADICTION → no solution in this case.

CONCLUSION:
The only solution is x = 1/2, which belongs to the interval (0, 1).
Correct answer: (A) (0, 1)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 90px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 6px 0;
}

.theory-card ul {
  margin: 12px 0 8px 20px;
  list-style: disc;
}

.theory-card li {
  margin-bottom: 8px;
  color: #e2e8f0;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 18px;
  padding: 14px;
  border-radius: 10px;
  cursor: pointer;
  transition: border-left 0.2s, background 0.2s;
  border-left: 3px solid transparent;
}

.step-container:hover, .step-container.active {
  border-left: 3px solid #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  min-width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  font-size: 1.05rem;
  margin-bottom: 6px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 15px 0;
}

.checkpoint details {
  margin: 15px 0;
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 12px 16px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
}

.checkpoint .answer {
  margin-top: 8px;
  color: #4ade80;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.4rem;
  color: #e2e8f0;
  margin: 12px 0;
}

.final-answer-card {
  border: 2px solid #34d399;
  text-align: center;
}

.final-answer-card h2 {
  color: #34d399;
}

.final-answer-text {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 700;
  margin: 14px 0;
}

.answer-options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 18px 0;
}

.answer-option-final {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 20px;
  min-width: 110px;
  text-align: center;
  transition: all 0.3s;
}

.answer-option-final.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  box-shadow: 0 0 20px rgba(52,211,153,0.2);
}

.answer-option-final .opt-label {
  font-weight: 700;
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.answer-option-final.correct .opt-label {
  color: #4ade80;
}

.answer-option-final .opt-value {
  font-size: 1rem;
}

.answer-option-final.correct .opt-value {
  color: #4ade80;
  font-weight: 700;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding: 10px;
  background: rgba(148,163,184,0.06);
  border-radius: 8px;
}

.pitfalls-card {
  border-left: 3px solid #e09468;
}

.pitfalls-card h2 {
  color: #e09468;
}

.pitfalls-card ul {
  margin: 10px 0 4px 20px;
  list-style: disc;
}

.pitfalls-card li {
  margin-bottom: 8px;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

.challenge-card h2 {
  color: #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.case-box {
  background: rgba(56,189,248,0.05);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 16px;
  margin: 10px 0;
}

.case-box.contradiction {
  background: rgba(244,114,182,0.06);
  border-color: rgba(244,114,182,0.2);
}

.case-title {
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 8px;
}

.case-box.contradiction .case-title {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 8px 12px; }
  .step-container { flex-direction: column; gap: 8px; }
  .answer-options-final { gap: 8px; }
  .answer-option-final { min-width: 80px; padding: 8px 12px; }
}
</style>
</head>
<body>

<div class="container">

  <!-- Title -->
  <h1>Jednacina sa apsolutnom vrednoscu</h1>
  <p class="subtitle">Algebra - Resavanje jednacine koja sadrzi apsolutnu vrednost razmatranjem slucajeva</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ako je</p>
    <div class="math-block">
      \[ x + |x| = \frac{x}{|x|}, \quad x \in \mathbb{R} \setminus \{0\} \]
    </div>
    <p>tada \( x \) pripada skupu:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( (0,\; 1) \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( (-1,\; 0) \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( (1,\; 3) \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( (2,\; +\infty) \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( (-\infty,\; 0) \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Posto jednacina sadrzi apsolutnu vrednost \( |x| \), razmotricemo dva slucaja: \( x > 0 \) i \( x < 0 \). U svakom slucaju cemo zameniti \( |x| \) odgovarajucim izrazom, resiti jednacinu i proveriti konzistentnost resenja.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Kljucne formule i definicije</summary>
      <ul>
        <li><strong>Definicija apsolutne vrednosti:</strong>
          \[ |x| = \begin{cases} x, & \text{ako } x \geq 0 \\ -x, & \text{ako } x < 0 \end{cases} \]
        </li>
        <li><strong>Znak broja (signum funkcija):</strong> Za \( x \neq 0 \), izraz \( \frac{x}{|x|} \) daje znak broja:
          \[ \frac{x}{|x|} = \begin{cases} 1, & \text{ako } x > 0 \\ -1, & \text{ako } x < 0 \end{cases} \]
        </li>
        <li><strong>Metod slucajeva:</strong> Kada jednacina sadrzi \( |x| \), resavamo je posebno za \( x > 0 \) i \( x < 0 \), a zatim proveravamo da li su resenja konzistentna sa pretpostavljenim znakom.</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card canvas-card">
    <h2>Graficka ilustracija</h2>
    <canvas id="mainCanvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Grafik prikazuje levu stranu \( y = x + |x| \) (plava) i desnu stranu \( y = \frac{x}{|x|} \) (zelena). Presek je resenje.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikujemo slucajeve</h3>
        <p>Posto se u jednacini pojavljuje \( |x| \), moramo razmotriti dva slucaja u zavisnosti od znaka broja \( x \):</p>
        <div class="case-box">
          <div class="case-title">Slucaj 1: \( x > 0 \)</div>
          <p>Tada vazi \( |x| = x \).</p>
        </div>
        <div class="case-box contradiction">
          <div class="case-title">Slucaj 2: \( x < 0 \)</div>
          <p>Tada vazi \( |x| = -x \).</p>
        </div>
        <p class="note">Vrednost \( x = 0 \) je iskljucena po uslovu zadatka.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Slucaj 1: \( x > 0 \)</h3>
        <p>Zamenjujemo \( |x| = x \) u obe strane jednacine.</p>
        <p><strong>Leva strana:</strong></p>
        <div class="math-block">
          \[ x + |x| = x + x = 2x \]
        </div>
        <p><strong>Desna strana:</strong></p>
        <div class="math-block">
          \[ \frac{x}{|x|} = \frac{x}{x} = 1 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Resavamo jednacinu za Slucaj 1</h3>
        <p>Izjednacavamo levu i desnu stranu:</p>
        <div class="math-block">
          \[ 2x = 1 \]
        </div>
        <p>Delimo obe strane sa 2:</p>
        <div class="math-block">
          \[ x = \frac{1}{2} \]
        </div>
        <p class="note">Proverimo: \( x = \frac{1}{2} > 0 \) - konzistentno sa pretpostavkom Slucaja 1.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koliko iznosi \( x + |x| \) za \( x = \frac{1}{2} \)?</summary>
        <div class="answer">
          \( x + |x| = \frac{1}{2} + \frac{1}{2} = 1 \). A \( \frac{x}{|x|} = \frac{1/2}{1/2} = 1 \). Obe strane su jednake - resenje je tacno!
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Slucaj 2: \( x < 0 \)</h3>
        <p>Zamenjujemo \( |x| = -x \) u obe strane jednacine.</p>
        <p><strong>Leva strana:</strong></p>
        <div class="math-block">
          \[ x + |x| = x + (-x) = 0 \]
        </div>
        <p><strong>Desna strana:</strong></p>
        <div class="math-block">
          \[ \frac{x}{|x|} = \frac{x}{-x} = -1 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Analiza Slucaja 2</h3>
        <p>Dobijamo jednacinu:</p>
        <div class="math-block">
          \[ 0 = -1 \]
        </div>
        <p>Ovo je <strong>kontradikcija</strong> - jednakost ne moze da vazi ni za jednu vrednost \( x \).</p>
        <p class="note">Zakljucak: Za \( x < 0 \) ne postoji resenje.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Zasto za negativno \( x \) leva strana uvek daje 0?</summary>
        <div class="answer">
          Za \( x < 0 \), vazi \( |x| = -x \), pa je \( x + |x| = x + (-x) = 0 \). Bez obzira na konkretnu vrednost negativnog \( x \), zbir broja i njegove apsolutne vrednosti je uvek nula.
        </div>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Zakljucak - odredjujemo skup resenja</h3>
        <p>Jedino resenje je \( x = \frac{1}{2} \).</p>
        <p>Proveravamo kojem od ponudjenih intervala pripada:</p>
        <div class="math-block">
          \[ 0 < \frac{1}{2} < 1 \quad \Rightarrow \quad x = \frac{1}{2} \in (0,\; 1) \]
        </div>
        <p>Dakle, \( x \) pripada skupu \( (0,\; 1) \), sto odgovara odgovoru <strong>(A)</strong>.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Da li \( x = \frac{1}{2} \) pripada nekom drugom ponudjenom intervalu?</summary>
        <div class="answer">
          Ne. Proveravamo: \( \frac{1}{2} \notin (-1, 0) \), \( \frac{1}{2} \notin (1, 3) \), \( \frac{1}{2} \notin (2, +\infty) \), \( \frac{1}{2} \notin (-\infty, 0) \). Jedini interval koji sadrzi \( \frac{1}{2} \) je \( (0, 1) \).
        </div>
      </details>
    </div>

  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Za negativne brojeve, zbir \( x + |x| \) uvek daje nula (jer se \( x \) i \( -x \) poniste), dok je \( \frac{x}{|x|} = -1 \). Zato jednacina nema resenja za \( x < 0 \). Jedino za pozitivne brojeve dobijamo smislenu jednacinu \( 2x = 1 \).</p>
    <div class="insight-formula">
      \[ x = \frac{1}{2} \in (0,\; 1) \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-text">(A) \( (0,\; 1) \)</div>

    <div class="answer-options-final">
      <div class="answer-option-final correct">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\( (0,\; 1) \)</div>
      </div>
      <div class="answer-option-final">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\( (-1,\; 0) \)</div>
      </div>
      <div class="answer-option-final">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\( (1,\; 3) \)</div>
      </div>
      <div class="answer-option-final">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\( (2,\; +\infty) \)</div>
      </div>
      <div class="answer-option-final">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\( (-\infty,\; 0) \)</div>
      </div>
    </div>

    <div class="verification">
      <strong>Verifikacija:</strong> Za \( x = \frac{1}{2} \): leva strana = \( \frac{1}{2} + |\frac{1}{2}| = \frac{1}{2} + \frac{1}{2} = 1 \), desna strana = \( \frac{1/2}{|1/2|} = \frac{1/2}{1/2} = 1 \). Obe strane su jednake. Resenje \( x = \frac{1}{2} \) zaista pripada intervalu \( (0, 1) \).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <h2>Ceste greske</h2>
    <ul>
      <li><strong>Zaboravljanje analize po slucajevima:</strong> Ako se ne razdvoji na \( x > 0 \) i \( x < 0 \), lako se pogresno manipulise apsolutnom vrednoscu i dobije netacan rezultat.</li>
      <li><strong>Odgovor (E) kao zamka:</strong> Mnogi ucenici pomisle da negativni brojevi zadovoljavaju jednacinu jer je desna strana negativna (\( -1 \)) za \( x < 0 \). Medjutim, leva strana za negativno \( x \) daje 0, ne \( -1 \).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Resi jednacinu \( x + |x| = \frac{x}{|x|} + 2 \) za \( x \in \mathbb{R} \setminus \{0\} \).</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="margin-top: 8px;">Ponovo razdvoji na dva slucaja. Za \( x > 0 \) dobijas \( 2x = 3 \), pa je \( x = \frac{3}{2} \). Za \( x < 0 \) dobijas \( 0 = 1 \), sto je opet kontradikcija. Razmisli zasto se za negativne brojeve uvek dobija kontradikcija u ovakvom tipu jednacina.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Canvas drawing
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system
  const originX = W * 0.5;
  const originY = H * 0.55;
  const scaleX = 100; // pixels per unit
  const scaleY = 80;  // pixels per unit

  function toCanvas(x, y) {
    return { x: originX + x * scaleX, y: originY - y * scaleY };
  }

  function draw() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -4; i <= 4; i++) {
      const p = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let j = -3; j <= 4; j++) {
      const p = toCanvas(0, j);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let i = -3; i <= 3; i++) {
      if (i === 0) continue;
      const p = toCanvas(i, 0);
      ctx.fillText(i.toString(), p.x, originY + 18);
    }
    ctx.textAlign = 'right';
    for (let j = -2; j <= 4; j++) {
      if (j === 0) continue;
      const p = toCanvas(0, j);
      ctx.fillText(j.toString(), originX - 8, p.y + 4);
    }
    // Origin label
    ctx.textAlign = 'right';
    ctx.fillText('0', originX - 8, originY + 18);

    // Draw y = x + |x| (blue)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px < W; px++) {
      const x = (px - originX) / scaleX;
      if (x === 0) { first = true; continue; }
      const y = x + Math.abs(x);
      const cp = toCanvas(x, y);
      if (cp.y < -10 || cp.y > H + 10) { first = true; continue; }
      if (first) { ctx.moveTo(cp.x, cp.y); first = false; }
      else ctx.lineTo(cp.x, cp.y);
    }
    ctx.stroke();

    // Draw y = x/|x| (green) - step function
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    // Left part: x < 0, y = -1
    const leftStart = toCanvas(-3.5, -1);
    const leftEnd = toCanvas(-0.02, -1);
    ctx.beginPath();
    ctx.moveTo(leftStart.x, leftStart.y);
    ctx.lineTo(leftEnd.x, leftEnd.y);
    ctx.stroke();

    // Right part: x > 0, y = 1
    const rightStart = toCanvas(0.02, 1);
    const rightEnd = toCanvas(3.5, 1);
    ctx.beginPath();
    ctx.moveTo(rightStart.x, rightStart.y);
    ctx.lineTo(rightEnd.x, rightEnd.y);
    ctx.stroke();

    // Open circles at discontinuity
    ctx.lineWidth = 2;
    const leftDisc = toCanvas(0, -1);
    ctx.strokeStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(leftDisc.x, leftDisc.y, 5, 0, Math.PI * 2);
    ctx.stroke();

    const rightDisc = toCanvas(0, 1);
    ctx.beginPath();
    ctx.arc(rightDisc.x, rightDisc.y, 5, 0, Math.PI * 2);
    ctx.stroke();

    // Intersection point x=0.5, y=1
    const intPt = toCanvas(0.5, 1);
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(intPt.x, intPt.y, 7, 0, Math.PI * 2);
    ctx.fill();

    // Glow effect for intersection
    const gradient = ctx.createRadialGradient(intPt.x, intPt.y, 0, intPt.x, intPt.y, 20);
    gradient.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
    gradient.addColorStop(1, 'rgba(74, 222, 128, 0)');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(intPt.x, intPt.y, 20, 0, Math.PI * 2);
    ctx.fill();

    // Dashed lines from intersection to axes
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    // Vertical to x-axis
    ctx.beginPath();
    ctx.moveTo(intPt.x, intPt.y);
    ctx.lineTo(intPt.x, originY);
    ctx.stroke();
    // Horizontal to y-axis
    ctx.beginPath();
    ctx.moveTo(intPt.x, intPt.y);
    ctx.lineTo(originX, intPt.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for intersection
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x = 1/2, y = 1', intPt.x + 12, intPt.y - 10);

    // Label x=1/2 on x-axis
    ctx.fillStyle = '#4ade80';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('1/2', intPt.x, originY + 18);

    // Legend
    const legendX = 16;
    const legendY = 22;
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';

    // Blue line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY);
    ctx.lineTo(legendX + 30, legendY);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'left';
    ctx.fillText('y = x + |x|', legendX + 36, legendY + 4);

    // Green line
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legendX, legendY + 22);
    ctx.lineTo(legendX + 30, legendY + 22);
    ctx.stroke();
    ctx.fillStyle = '#34d399';
    ctx.fillText('y = x / |x|', legendX + 36, legendY + 26);

    // Intersection dot in legend
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX + 15, legendY + 46, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#4ade80';
    ctx.fillText('Presecna tacka', legendX + 36, legendY + 50);

    // Axis arrow labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - 16, originY + 18);
    ctx.fillText('y', originX + 14, 14);
  }

  draw();

  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Jednacina sa apsolutnom vrednoscu: x + |x| = x/|x|",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "jednacine", "analiza slucajeva", "signum funkcija"]
}
BRAINSPARK_META-->