<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistem nejednačina sa apsolutnom vrednošću - Celobrojni parovi</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Ukupan broj parova celih brojeva (x, y) takvih da važi |x² − 2x| − y < 1/2 i y + |x − 1| < 2 je:
(A) 0  (B) 2  (C) 1  (D) 4  (E) 3

ANALYSIS:
Iz prve nejednačine: |x² - 2x| - y < 1/2  =>  y > |x² - 2x| - 1/2
Iz druge nejednačine: y + |x - 1| < 2  =>  y < 2 - |x - 1|

Da bi postojalo rešenje, mora da važi:
|x² - 2x| - 1/2 < y < 2 - |x - 1|

Prvo, gornja granica mora biti pozitivna, tj. 2 - |x-1| > donja granica.
Takođe, za celobrojni par, x mora biti ceo broj.

Za x = 0:
  Donja granica: |0 - 0| - 1/2 = -1/2
  Gornja granica: 2 - |0 - 1| = 2 - 1 = 1
  -1/2 < y < 1, ceo y: y = 0
  Provera (0,0): |0| - 0 = 0 < 1/2 ✓; 0 + 1 = 1 < 2 ✓

Za x = 1:
  Donja granica: |1 - 2| - 1/2 = 1 - 1/2 = 1/2
  Gornja granica: 2 - |1 - 1| = 2 - 0 = 2
  1/2 < y < 2, ceo y: y = 1
  Provera (1,1): |1 - 2| - 1 = 0 < 1/2 ✓; 1 + 0 = 1 < 2 ✓

Za x = 2:
  Donja granica: |4 - 4| - 1/2 = -1/2
  Gornja granica: 2 - |2 - 1| = 2 - 1 = 1
  -1/2 < y < 1, ceo y: y = 0
  Provera (2,0): |0| - 0 = 0 < 1/2 ✓; 0 + 1 = 1 < 2 ✓

Za x = -1:
  Donja granica: |1 + 2| - 1/2 = 5/2
  Gornja granica: 2 - |-1 - 1| = 2 - 2 = 0
  5/2 < y < 0 — nemoguce, nema rešenja.

Za x = 3:
  Donja granica: |9 - 6| - 1/2 = 5/2
  Gornja granica: 2 - |3 - 1| = 2 - 2 = 0
  5/2 < y < 0 — nemoguce, nema rešenja.

Za |x| >= 2 (osim x = 0, 2): |x² - 2x| raste brzo, a 2 - |x-1| opada,
pa nema rešenja.

ANSWER: (E) 3 para: (0,0), (1,1), (2,0)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.13);
  border-radius: 10px;
  padding: 10px 16px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.answer-option.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.10);
}

.answer-option.incorrect {
  border-color: #ef4444;
  background: rgba(239, 68, 68, 0.07);
  opacity: 0.6;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 18px;
  padding: 14px 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #34d399;
  background: rgba(52, 211, 153, 0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  font-weight: 700;
  margin-top: 2px;
}

.step-body {
  flex: 1;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  overflow-x: auto;
}

.muted {
  color: #94a3b8;
  font-size: 0.92rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  padding: 8px 0;
}

details summary:hover {
  color: #c4b5fd;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box .insight-label {
  color: #a78bfa;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 10px;
}

.final-answer {
  background: rgba(52, 211, 153, 0.08);
  border: 1px solid rgba(52, 211, 153, 0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer .answer-text {
  color: #4ade80;
  font-size: 1.6rem;
  font-weight: 700;
  margin-bottom: 10px;
}

.final-answer .verification {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 12px;
  border-top: 1px solid rgba(52, 211, 153, 0.15);
  padding-top: 12px;
}

.pitfall {
  border-left: 3px solid #e09468;
  padding-left: 14px;
  margin: 10px 0;
  color: #e09468;
  font-size: 0.95rem;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 8px;
}

.theory-card details {
  margin: 0;
}

.theory-card details summary {
  font-size: 1.1rem;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  margin-bottom: 10px;
  padding-left: 20px;
  position: relative;
}

.theory-content li::before {
  content: '\2022';
  color: #60a5fa;
  position: absolute;
  left: 0;
}

.solution-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
}

.solution-table th, .solution-table td {
  padding: 8px 12px;
  border: 1px solid #334155;
  text-align: center;
}

.solution-table th {
  background: rgba(96, 165, 250, 0.12);
  color: #60a5fa;
  font-weight: 600;
}

.solution-table tr.valid {
  background: rgba(52, 211, 153, 0.06);
}

.solution-table tr.invalid {
  background: rgba(239, 68, 68, 0.04);
  color: #94a3b8;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .given-grid { gap: 6px; }
  .given-item { min-width: 65px; padding: 8px 10px; }
  .step-container { gap: 10px; padding: 10px; }
  .solution-table th, .solution-table td { padding: 5px 6px; font-size: 0.88rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Sistem nejednačina sa apsolutnom vrednošću</h1>
  <p class="subtitle">Određivanje broja celobrojnih parova \((x, y)\) koji zadovoljavaju dve nejednačine</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ukupan broj parova celih brojeva \((x, y)\) takvih da važi:</p>
    <div class="math-block" style="text-align:center; font-size:1.15rem;">
      \[|x^2 - 2x| - y < \frac{1}{2} \quad \text{i} \quad y + |x - 1| < 2\]
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Iz datih nejednačina ćemo izraziti ograničenja za \(y\): donju granicu iz prve i gornju granicu iz druge nejednačine.
    Zatim ćemo za svaku celobrojnu vrednost \(x\) proveriti da li postoji celobrojno \(y\) koje zadovoljava obe nejednačine istovremeno.
    Ključna ideja je da za cele brojeve, izraz \(|x^2 - 2x|\) je uvek ceo broj, pa nejednačina sa razlomkom \(\frac{1}{2}\) drastično sužava mogućnosti.</p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i svojstva</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Apsolutna vrednost:</strong> \(|a| \geq 0\) za svako realno \(a\); \(|a| = a\) ako \(a \geq 0\), inače \(|a| = -a\).</li>
          <li><strong>Faktorizacija:</strong> \(x^2 - 2x = x(x - 2)\), pa \(|x^2 - 2x| = |x(x-2)| = |x| \cdot |x - 2|\).</li>
          <li><strong>Stroga nejednačina:</strong> Granične vrednosti nisu dozvoljene (koristi se \(<\), ne \(\leq\)).</li>
          <li><strong>Celost:</strong> Za celo \(x\), izrazi \(|x^2 - 2x|\) i \(|x-1|\) su nenegativni celi brojevi.</li>
          <li><strong>Ograničenost oblasti:</strong> Nejednačina \(y + |x-1| < 2\) daje \(|x-1| < 2 - y\), što za celobrojno \(y \geq 0\) ograničava \(|x-1|\) na mali raspon.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card">
    <h2>Grafički prikaz</h2>
    <p class="muted" style="margin-bottom:12px;">Oblast između krivih \(y = |x^2 - 2x| - \frac{1}{2}\) (donja granica, plava) i \(y = 2 - |x-1|\) (gornja granica, roze). Celobrojni parovi koji padaju u presek su označeni zelenim tačkama.</p>
    <canvas id="graph-canvas" width="700" height="500"></canvas>
    <p class="canvas-hint">Pomerajte miš preko grafika da vidite koordinate. Zelene tačke su rešenja.</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje po koracima</h2>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-badge">1</div>
      <div class="step-body">
        <h3>Preformulišemo nejednačine</h3>
        <p>Iz prve nejednačine izrazimo donju granicu za \(y\):</p>
        <div class="math-block">
          \[|x^2 - 2x| - y < \frac{1}{2} \quad \Longrightarrow \quad y > |x^2 - 2x| - \frac{1}{2}\]
        </div>
        <p>Iz druge nejednačine izrazimo gornju granicu za \(y\):</p>
        <div class="math-block">
          \[y + |x - 1| < 2 \quad \Longrightarrow \quad y < 2 - |x - 1|\]
        </div>
        <p>Dakle, tražimo celobrojne parove \((x, y)\) takve da:</p>
        <div class="math-block" style="text-align:center;">
          \[|x^2 - 2x| - \frac{1}{2} < y < 2 - |x - 1|\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-badge">2</div>
      <div class="step-body">
        <h3>Odredimo raspon za \(x\)</h3>
        <p>Da bi interval bio neprazan, mora da važi:</p>
        <div class="math-block">
          \[|x^2 - 2x| - \frac{1}{2} < 2 - |x - 1|\]
        </div>
        <p>Tj. \(|x^2 - 2x| + |x - 1| < \frac{5}{2}\).</p>
        <p>Za celo \(x\), izraz \(|x^2 - 2x| = |x(x-2)|\) brzo raste. Pogledajmo vrednosti:</p>
        <div class="math-block">
          \[\begin{aligned}
            x = -2&: \quad |(-2)(-4)| + |-3| = 8 + 3 = 11 \\
            x = -1&: \quad |(-1)(-3)| + |-2| = 3 + 2 = 5 \\
            x = 0&: \quad |0 \cdot (-2)| + |-1| = 0 + 1 = 1 \\
            x = 1&: \quad |1 \cdot (-1)| + |0| = 1 + 0 = 1 \\
            x = 2&: \quad |2 \cdot 0| + |1| = 0 + 1 = 1 \\
            x = 3&: \quad |3 \cdot 1| + |2| = 3 + 2 = 5 \\
            x = 4&: \quad |4 \cdot 2| + |3| = 8 + 3 = 11
          \end{aligned}\]
        </div>
        <p>Uslov \(|x^2-2x| + |x-1| < \frac{5}{2} = 2{,}5\) je ispunjen samo za \(x \in \{0,\, 1,\, 2\}\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Zašto \(x = -1\) i \(x = 3\) ne rade?</summary>
      <p style="margin-top:8px;">Za \(x = -1\): zbir je \(3 + 2 = 5 > 2{,}5\), pa je donja granica za \(y\) veća od gornje (interval je prazan).
      Analogno za \(x = 3\): zbir je \(3 + 2 = 5 > 2{,}5\). Za sve \(|x| \geq 2\) (osim \(x = 0\) i \(x = 2\)) vrednosti rastu još brže.</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-badge">3</div>
      <div class="step-body">
        <h3>Analiza za \(x = 0\)</h3>
        <p>Izračunamo granice:</p>
        <div class="math-block">
          \[\text{Donja: } |0 - 0| - \frac{1}{2} = -\frac{1}{2}, \qquad \text{Gornja: } 2 - |0 - 1| = 2 - 1 = 1\]
        </div>
        <p>Dakle: \(-\frac{1}{2} < y < 1\). Jedini ceo broj u ovom intervalu je \(y = 0\).</p>
        <p><strong>Provera \((0, 0)\):</strong></p>
        <div class="math-block">
          \[|0^2 - 0| - 0 = 0 < \frac{1}{2} \; \checkmark \qquad 0 + |0 - 1| = 1 < 2 \; \checkmark\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-badge">4</div>
      <div class="step-body">
        <h3>Analiza za \(x = 1\)</h3>
        <p>Izračunamo granice:</p>
        <div class="math-block">
          \[\text{Donja: } |1 - 2| - \frac{1}{2} = 1 - \frac{1}{2} = \frac{1}{2}, \qquad \text{Gornja: } 2 - |1 - 1| = 2 - 0 = 2\]
        </div>
        <p>Dakle: \(\frac{1}{2} < y < 2\). Jedini ceo broj u ovom intervalu je \(y = 1\).</p>
        <p><strong>Provera \((1, 1)\):</strong></p>
        <div class="math-block">
          \[|1 - 2| - 1 = 1 - 1 = 0 < \frac{1}{2} \; \checkmark \qquad 1 + |1 - 1| = 1 < 2 \; \checkmark\]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-badge">5</div>
      <div class="step-body">
        <h3>Analiza za \(x = 2\)</h3>
        <p>Izračunamo granice:</p>
        <div class="math-block">
          \[\text{Donja: } |4 - 4| - \frac{1}{2} = -\frac{1}{2}, \qquad \text{Gornja: } 2 - |2 - 1| = 2 - 1 = 1\]
        </div>
        <p>Dakle: \(-\frac{1}{2} < y < 1\). Jedini ceo broj u ovom intervalu je \(y = 0\).</p>
        <p><strong>Provera \((2, 0)\):</strong></p>
        <div class="math-block">
          \[|4 - 4| - 0 = 0 < \frac{1}{2} \; \checkmark \qquad 0 + |2 - 1| = 1 < 2 \; \checkmark\]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Pregledna tabela svih kandidata</summary>
      <div style="margin-top:8px; overflow-x:auto;">
        <table class="solution-table">
          <thead>
            <tr>
              <th>\(x\)</th>
              <th>\(|x^2-2x|\)</th>
              <th>\(|x-1|\)</th>
              <th>Donja granica</th>
              <th>Gornja granica</th>
              <th>Celobrojno \(y\)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr class="invalid"><td>\(-1\)</td><td>\(3\)</td><td>\(2\)</td><td>\(5/2\)</td><td>\(0\)</td><td>nema</td><td>prazan interval</td></tr>
            <tr class="valid"><td>\(0\)</td><td>\(0\)</td><td>\(1\)</td><td>\(-1/2\)</td><td>\(1\)</td><td>\(y = 0\)</td><td>\((0, 0)\) OK</td></tr>
            <tr class="valid"><td>\(1\)</td><td>\(1\)</td><td>\(0\)</td><td>\(1/2\)</td><td>\(2\)</td><td>\(y = 1\)</td><td>\((1, 1)\) OK</td></tr>
            <tr class="valid"><td>\(2\)</td><td>\(0\)</td><td>\(1\)</td><td>\(-1/2\)</td><td>\(1\)</td><td>\(y = 0\)</td><td>\((2, 0)\) OK</td></tr>
            <tr class="invalid"><td>\(3\)</td><td>\(3\)</td><td>\(2\)</td><td>\(5/2\)</td><td>\(0\)</td><td>nema</td><td>prazan interval</td></tr>
          </tbody>
        </table>
      </div>
    </details>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-badge">6</div>
      <div class="step-body">
        <h3>Prebrojimo rešenja</h3>
        <p>Pronašli smo tačno <strong>tri</strong> para celih brojeva koji zadovoljavaju obe nejednačine:</p>
        <div class="math-block" style="text-align:center; font-size:1.1rem;">
          \[(0,\, 0), \quad (1,\, 1), \quad (2,\, 0)\]
        </div>
        <p>Za sve ostale celobrojne vrednosti \(x\) (tj. \(x \leq -1\) ili \(x \geq 3\)) interval za \(y\) je prazan.</p>
      </div>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="insight-label">Ključni uvid</div>
    <p style="font-size:1.1rem; margin-bottom: 12px;">Pošto su \(|x^2 - 2x|\) i \(|x - 1|\) celi brojevi za celo \(x\), a granica \(\frac{1}{2}\) u prvoj nejednačini je razlomak, nejednačina \(|x^2 - 2x| - y < \frac{1}{2}\) se za cele brojeve svodi na \(|x^2 - 2x| \leq y\). Ovo, u kombinaciji sa drugom nejednačinom, drastično ograničava broj mogućih parova.</p>
    <div class="math-block" style="display:inline-block; font-size:1.1rem; background:rgba(96,165,250,0.1); border-color:rgba(96,165,250,0.25);">
      \[|x^2-2x| \leq y < 2 - |x-1| \quad \Longrightarrow \quad \text{samo } (0,0),\; (1,1),\; (2,0)\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div style="color:#94a3b8; font-size:0.9rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:8px;">Konačan odgovor</div>
    <div class="answer-text">(E) 3</div>
    <p style="margin-top: 6px;">Postoje tačno <strong>3</strong> para celih brojeva: \((0, 0)\), \((1, 1)\) i \((2, 0)\).</p>
    <div class="verification">
      <strong>Verifikacija:</strong> Svaki par je proveren uvrštavanjem u obe nejednačine.
      Za \((0,0)\): \(0 < \frac{1}{2}\) i \(1 < 2\).
      Za \((1,1)\): \(0 < \frac{1}{2}\) i \(1 < 2\).
      Za \((2,0)\): \(0 < \frac{1}{2}\) i \(1 < 2\).
      Svi uslovi su zadovoljeni.
    </div>

    <div class="given-grid" style="margin-top: 18px; justify-content: center;">
      <div class="given-item answer-option incorrect" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option incorrect" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option correct" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <div class="pitfall">
      <strong>Propustiti da su nejednačine stroge:</strong> Obe nejednačine koriste \(<\), ne \(\leq\). Na primer, za \(x = 1\) i \(y = 0\) bi imali \(|1-2| - 0 = 1\), a \(1 < \frac{1}{2}\) ne važi. Granica \(\frac{1}{2}\) nije dostižna.
    </div>
    <div class="pitfall" style="margin-top: 12px;">
      <strong>Zaboraviti negativne vrednosti \(x\):</strong> Mnogi studenti provere samo \(x \geq 0\), ali moraju se proveriti i negativne vrednosti. Srećom, za \(x \leq -1\) izrazi brzo rastu i nema rešenja.
    </div>
    <div class="pitfall" style="margin-top: 12px;">
      <strong>Pogrešno tumačiti \(|x^2 - 2x|\):</strong> Treba najpre izračunati \(x^2 - 2x\), pa tek onda uzeti apsolutnu vrednost. Nije isto što i \(|x|^2 - 2|x|\).
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>Koliko <em>realnih</em> (ne obavezno celobrojnih) parova \((x, y)\) zadovoljava isti sistem nejednačina, ali sa uslovom da su \(x\) i \(y\) oba <strong>racionalni brojevi</strong> oblika \(\frac{p}{2}\), gde je \(p\) ceo broj (tj. poluceli brojevi)?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="margin-top:8px;">Za polucele \(x\) (npr. \(-\frac{1}{2},\, \frac{1}{2},\, \frac{3}{2},\, \frac{5}{2}\)), izračunajte \(|x^2 - 2x|\) i \(|x-1|\), pa proverite interval za \(y\). Koliko polucelih \(y\) upada u svaki interval?</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas graph
  const canvas = document.getElementById('graph-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system
  const xMin = -2.5;
  const xMax = 4.5;
  const yMin = -2;
  const yMax = 5;

  const padL = 55;
  const padR = 20;
  const padT = 25;
  const padB = 45;

  const plotW = W - padL - padR;
  const plotH = H - padT - padB;

  function toCanvasX(x) {
    return padL + (x - xMin) / (xMax - xMin) * plotW;
  }
  function toCanvasY(y) {
    return padT + plotH - (y - yMin) / (yMax - yMin) * plotH;
  }
  function fromCanvasX(cx) {
    return xMin + (cx - padL) / plotW * (xMax - xMin);
  }
  function fromCanvasY(cy) {
    return yMin + (padT + plotH - cy) / plotH * (yMax - yMin);
  }

  // Lower boundary: y = |x^2 - 2x| - 0.5
  function lowerBound(x) {
    return Math.abs(x * x - 2 * x) - 0.5;
  }

  // Upper boundary: y = 2 - |x - 1|
  function upperBound(x) {
    return 2 - Math.abs(x - 1);
  }

  // Solution points
  const solutions = [
    { x: 0, y: 0 },
    { x: 1, y: 1 },
    { x: 2, y: 0 }
  ];

  // Non-solution integer points to show as red
  const nonSolutions = [
    { x: -1, y: 0 }, { x: -1, y: 1 }, { x: -1, y: 2 },
    { x: 3, y: 0 }, { x: 3, y: 1 }, { x: 3, y: -1 },
    { x: 0, y: 1 }, { x: 0, y: -1 },
    { x: 1, y: 0 }, { x: 1, y: 2 },
    { x: 2, y: 1 }, { x: 2, y: -1 }
  ];

  let mouseX = -1;
  let mouseY = -1;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1a2438';
    ctx.lineWidth = 1;
    for (let gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      const cx = toCanvasX(gx);
      ctx.beginPath();
      ctx.moveTo(cx, padT);
      ctx.lineTo(cx, padT + plotH);
      ctx.stroke();
    }
    for (let gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      const cy = toCanvasY(gy);
      ctx.beginPath();
      ctx.moveTo(padL, cy);
      ctx.lineTo(padL + plotW, cy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    if (yMin <= 0 && yMax >= 0) {
      const zeroY = toCanvasY(0);
      ctx.beginPath();
      ctx.moveTo(padL, zeroY);
      ctx.lineTo(padL + plotW, zeroY);
      ctx.stroke();
    }
    if (xMin <= 0 && xMax >= 0) {
      const zeroX = toCanvasX(0);
      ctx.beginPath();
      ctx.moveTo(zeroX, padT);
      ctx.lineTo(zeroX, padT + plotH);
      ctx.stroke();
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      ctx.fillText(String(gx), toCanvasX(gx), padT + plotH + 18);
    }
    ctx.textAlign = 'right';
    for (let gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      ctx.fillText(String(gy), padL - 8, toCanvasY(gy) + 4);
    }

    // Axis titles
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', padL + plotW / 2, H - 5);
    ctx.save();
    ctx.translate(14, padT + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('y', 0, 0);
    ctx.restore();

    // Fill the feasible region between the two curves
    ctx.save();
    ctx.beginPath();
    var step = 0.5;
    var firstPoint = true;
    // Upper boundary path (left to right)
    for (var px = padL; px <= padL + plotW; px += 1) {
      var xv = fromCanvasX(px);
      var ub = upperBound(xv);
      var lb = lowerBound(xv);
      if (ub <= lb) continue;
      var cy = toCanvasY(ub);
      if (cy < padT) cy = padT;
      if (cy > padT + plotH) cy = padT + plotH;
      if (firstPoint) { ctx.moveTo(px, cy); firstPoint = false; }
      else ctx.lineTo(px, cy);
    }
    // Lower boundary path (right to left)
    for (var px2 = padL + plotW; px2 >= padL; px2 -= 1) {
      var xv2 = fromCanvasX(px2);
      var ub2 = upperBound(xv2);
      var lb2 = lowerBound(xv2);
      if (ub2 <= lb2) continue;
      var cy2 = toCanvasY(lb2);
      if (cy2 < padT) cy2 = padT;
      if (cy2 > padT + plotH) cy2 = padT + plotH;
      ctx.lineTo(px2, cy2);
    }
    ctx.closePath();
    ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
    ctx.fill();
    ctx.restore();

    // Plot lower bound: y = |x^2 - 2x| - 0.5
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var started = false;
    for (var px3 = padL; px3 <= padL + plotW; px3 += 1) {
      var xv3 = fromCanvasX(px3);
      var val = lowerBound(xv3);
      if (val < yMin - 1 || val > yMax + 1) { started = false; continue; }
      var py = toCanvasY(val);
      if (!started) { ctx.moveTo(px3, py); started = true; }
      else ctx.lineTo(px3, py);
    }
    ctx.stroke();

    // Plot upper bound: y = 2 - |x - 1|
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    started = false;
    for (var px4 = padL; px4 <= padL + plotW; px4 += 1) {
      var xv4 = fromCanvasX(px4);
      var val2 = upperBound(xv4);
      if (val2 < yMin - 1 || val2 > yMax + 1) { started = false; continue; }
      var py2 = toCanvasY(val2);
      if (!started) { ctx.moveTo(px4, py2); started = true; }
      else ctx.lineTo(px4, py2);
    }
    ctx.stroke();

    // Draw non-solution integer lattice points (dimmed red)
    nonSolutions.forEach(function(pt) {
      var cx = toCanvasX(pt.x);
      var cy = toCanvasY(pt.y);
      if (cx < padL || cx > padL + plotW || cy < padT || cy > padT + plotH) return;
      ctx.fillStyle = 'rgba(239, 68, 68, 0.25)';
      ctx.beginPath();
      ctx.arc(cx, cy, 4, 0, Math.PI * 2);
      ctx.fill();
    });

    // Draw solution points with glow
    solutions.forEach(function(pt) {
      var cx = toCanvasX(pt.x);
      var cy = toCanvasY(pt.y);

      // Glow
      var grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 22);
      grad.addColorStop(0, 'rgba(52,211,153,0.5)');
      grad.addColorStop(1, 'rgba(52,211,153,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, cy, 22, 0, Math.PI * 2);
      ctx.fill();

      // Point
      ctx.fillStyle = '#34d399';
      ctx.beginPath();
      ctx.arc(cx, cy, 6, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('(' + pt.x + ', ' + pt.y + ')', cx + 10, cy - 8);
    });

    // Legend
    ctx.fillStyle = '#1e293b';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    var legX = padL + plotW - 230;
    var legY = padT + 10;
    var legW = 220;
    var legH = 68;
    ctx.beginPath();
    ctx.roundRect(legX, legY, legW, legH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX + 10, legY + 18);
    ctx.lineTo(legX + 35, legY + 18);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = |x\u00B2 \u2212 2x| \u2212 1/2 (donja)', legX + 42, legY + 22);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX + 10, legY + 38);
    ctx.lineTo(legX + 35, legY + 38);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('y = 2 \u2212 |x \u2212 1| (gornja)', legX + 42, legY + 42);

    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(legX + 22, legY + 58, 4, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Celobrojna re\u0161enja', legX + 42, legY + 62);

    // Mouse hover info
    if (mouseX >= padL && mouseX <= padL + plotW && mouseY >= padT && mouseY <= padT + plotH) {
      var hx = fromCanvasX(mouseX);
      var hy = fromCanvasY(mouseY);

      ctx.fillStyle = 'rgba(30,41,59,0.92)';
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      var tipW = 160;
      var tipH = 44;
      var tipX = mouseX + 12;
      var tipY = mouseY - 50;
      if (tipX + tipW > W) tipX = mouseX - tipW - 12;
      if (tipY < 0) tipY = mouseY + 12;
      ctx.beginPath();
      ctx.roundRect(tipX, tipY, tipW, tipH, 6);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('x \u2248 ' + hx.toFixed(2).replace('.', ','), tipX + 8, tipY + 16);
      ctx.fillText('y \u2248 ' + hy.toFixed(2).replace('.', ','), tipX + 8, tipY + 34);

      // Crosshair
      ctx.setLineDash([3, 3]);
      ctx.strokeStyle = 'rgba(148,163,184,0.3)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(mouseX, padT);
      ctx.lineTo(mouseX, padT + plotH);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(padL, mouseY);
      ctx.lineTo(padL + plotW, mouseY);
      ctx.stroke();
      ctx.setLineDash([]);
    }
  }

  draw();

  canvas.addEventListener('mousemove', function(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = canvas.width / rect.width;
    var scaleY = canvas.height / rect.height;
    mouseX = (e.clientX - rect.left) * scaleX;
    mouseY = (e.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('mouseleave', function() {
    mouseX = -1;
    mouseY = -1;
    draw();
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    var rect = canvas.getBoundingClientRect();
    var touch = e.touches[0];
    var scaleX = canvas.width / rect.width;
    var scaleY = canvas.height / rect.height;
    mouseX = (touch.clientX - rect.left) * scaleX;
    mouseY = (touch.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('touchend', function() {
    mouseX = -1;
    mouseY = -1;
    draw();
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Sistem nejednačina sa apsolutnom vrednošću - celobrojni parovi",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "nejednačine", "sistem nejednačina", "celobrojni parovi", "analiza slučajeva"]
}
BRAINSPARK_META-->