<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geometrijska progresija binomnih koeficijenata</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Dato je da (14/9)C(n,2), C(n,3) i C(n,4) cine geometrijsku progresiju,
gde su C(n,k) binomni koeficijenti clanova u razvoju binoma (cbrt(x) + 1/sqrt(x))^n.
Naci binomni koeficijent uz sqrt(x).

RESENJE:

Korak 1: Uslov geometrijske progresije
Tri broja a, b, c cine geometrijsku progresiju ako b^2 = a * c.
Dakle: [C(n,3)]^2 = (14/9) * C(n,2) * C(n,4)

Korak 2: Izracunavanje binomnih koeficijenata
C(n,2) = n(n-1)/2
C(n,3) = n(n-1)(n-2)/6
C(n,4) = n(n-1)(n-2)(n-3)/24

Korak 3: Leva strana
[C(n,3)]^2 = [n(n-1)(n-2)/6]^2 = n^2(n-1)^2(n-2)^2/36

Korak 4: Desna strana
(14/9) * C(n,2) * C(n,4)
= (14/9) * n(n-1)/2 * n(n-1)(n-2)(n-3)/24
= (14/9) * n^2(n-1)^2(n-2)(n-3)/48
= 14 * n^2(n-1)^2(n-2)(n-3) / 432
= 7 * n^2(n-1)^2(n-2)(n-3) / 216

Korak 5: Izjednacavanje
n^2(n-1)^2(n-2)^2 / 36 = 7 * n^2(n-1)^2(n-2)(n-3) / 216

Skracujemo n^2(n-1)^2(n-2) (sve > 0 jer n >= 5):
(n-2)/36 = 7(n-3)/216

Krstasto mnozenje:
216(n-2) = 252(n-3)
216n - 432 = 252n - 756
-36n = -324
n = 9

Korak 6: Nalazenje clana uz sqrt(x)
Opsti clan binomnog razvoja:
T_{k+1} = C(9,k) * (cbrt(x))^{9-k} * (1/sqrt(x))^k
       = C(9,k) * x^{(9-k)/3} * x^{-k/2}
       = C(9,k) * x^{(9-k)/3 - k/2}

Eksponent x treba da bude 1/2 (za sqrt(x)):
(9-k)/3 - k/2 = 1/2

Mnozimo sa 6:
2(9-k) - 3k = 3
18 - 2k - 3k = 3
18 - 5k = 3
5k = 15
k = 3

Binomni koeficijent: C(9,3) = 9!/(3!*6!) = (9*8*7)/(3*2*1) = 504/6 = 84

ODGOVOR: (C) 84
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #a78bfa;
}

.theory-content {
  padding: 16px 0 0 0;
  color: #e2e8f0;
}

.theory-content ul {
  list-style: none;
  padding: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid #334155;
  line-height: 1.8;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-wrapper {
  text-align: center;
  margin: 16px 0;
}

.canvas-wrapper canvas {
  border-radius: 12px;
  border: 1px solid #334155;
  touch-action: none;
  max-width: 100%;
}

.drag-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
  font-style: italic;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: border-left 0.2s, background 0.2s;
  border-left: 3px solid transparent;
}

.step:hover, .step.active {
  border-left: 3px solid #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 6px;
  font-style: italic;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.18);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 16px;
}

.final-answer-value {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.option-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  font-size: 1.1rem;
  font-weight: 600;
  color: #94a3b8;
  transition: all 0.3s;
}

.option-card.correct {
  border-color: #34d399;
  background: rgba(52,211,153,0.15);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(52,211,153,0.2);
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall {
  padding: 10px 0;
  border-bottom: 1px solid #334155;
  color: #e2e8f0;
}

.pitfall:last-child { border-bottom: none; }

.pitfall-icon {
  color: #e09468;
  font-weight: 700;
}

.challenge-content {
  padding-top: 12px;
  color: #e2e8f0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .option-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- a. Title & Subtitle -->
  <h1>Geometrijska progresija binomnih koeficijenata</h1>
  <p class="subtitle">Kombinatorika i algebra — binomna teorema, geometrijska progresija i opsti clan razvoja</p>

  <!-- b. Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ako se zna da \(\dfrac{14}{9}\,\binom{n}{2}\), \(\binom{n}{3}\) i \(\binom{n}{4}\) cine geometrijsku progresiju (gde su \(\binom{n}{k}\) binomni koeficijenti clanova u razvoju binoma \(\left(\sqrt[3]{x} + \dfrac{1}{\sqrt{x}}\right)^n\), \(n \in \mathbb{N}\), \(x > 0\)), tada je binomni koeficijent uz \(\sqrt{x}\) jednak:</p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">Binom</div>
        <div class="value">\(\left(\sqrt[3]{x} + \frac{1}{\sqrt{x}}\right)^n\)</div>
      </div>
      <div class="given-item">
        <div class="label">Progresija</div>
        <div class="value">\(\frac{14}{9}\binom{n}{2},\;\binom{n}{3},\;\binom{n}{4}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">Koeficijent uz \(\sqrt{x}\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(48\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(84\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(21\)</div>
      </div>
    </div>
  </div>

  <!-- c. Plan -->
  <div class="card">
    <h2>Plan resavanja</h2>
    <p class="plan-text">
      1. Iskoristicemo uslov geometrijske progresije \(b^2 = a \cdot c\) da postavimo jednacinu po \(n\).<br>
      2. Izrazicemo binomne koeficijente preko \(n\) i resicemo jednacinu.<br>
      3. Nakon nalazenja \(n\), napisacemo opsti clan razvoja binoma i odrediti za koje \(k\) se dobija stepen \(x^{1/2}\).<br>
      4. Izracunacemo odgovarajuci binomni koeficijent.
    </p>
  </div>

  <!-- d. Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Binomna teorema:</strong> \((a+b)^n = \displaystyle\sum_{k=0}^{n} \binom{n}{k}\, a^{n-k}\, b^k\)</li>
          <li><strong>Binomni koeficijent:</strong> \(\binom{n}{k} = \dfrac{n!}{k!\,(n-k)!}\). Posebno: \(\binom{n}{2} = \frac{n(n-1)}{2}\), \(\binom{n}{3} = \frac{n(n-1)(n-2)}{6}\), \(\binom{n}{4} = \frac{n(n-1)(n-2)(n-3)}{24}\).</li>
          <li><strong>Geometrijska progresija:</strong> Tri broja \(a,\, b,\, c\) cine geometrijsku progresiju ako i samo ako vazi \(b^2 = a \cdot c\).</li>
          <li><strong>Opsti clan binomnog razvoja:</strong> \(T_{k+1} = \binom{n}{k}\, a^{n-k}\, b^k\), gde je \(k = 0, 1, \ldots, n\).</li>
          <li><strong>Pravila za stepene:</strong> \(\sqrt[3]{x} = x^{1/3}\), \(\dfrac{1}{\sqrt{x}} = x^{-1/2}\), \(\sqrt{x} = x^{1/2}\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- e. Visual Aid -->
  <div class="card">
    <h2>Graficki prikaz</h2>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="750" height="500"></canvas>
      <p class="drag-hint">Prikaz eksponenata clanova binomnog razvoja za n = 9. Obelezen je clan sa eksponentom 1/2.</p>
    </div>
  </div>

  <!-- f. Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Uslov geometrijske progresije</h3>
        <p>Tri broja \(\frac{14}{9}\binom{n}{2}\), \(\binom{n}{3}\) i \(\binom{n}{4}\) cine geometrijsku progresiju, sto znaci da srednji clan na kvadrat daje proizvod krajnjih:</p>
        <div class="math-block">
          \[ \left[\binom{n}{3}\right]^2 = \frac{14}{9}\,\binom{n}{2} \cdot \binom{n}{4} \]
        </div>
      </div>
    </div>

    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izrazavamo binomne koeficijente</h3>
        <p>Zapisujemo binomne koeficijente u eksplicitnom obliku:</p>
        <div class="math-block">
          \[ \binom{n}{2} = \frac{n(n-1)}{2}, \quad \binom{n}{3} = \frac{n(n-1)(n-2)}{6}, \quad \binom{n}{4} = \frac{n(n-1)(n-2)(n-3)}{24} \]
        </div>
      </div>
    </div>

    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Racunamo levu stranu jednacine</h3>
        <div class="math-block">
          \[ \left[\binom{n}{3}\right]^2 = \left[\frac{n(n-1)(n-2)}{6}\right]^2 = \frac{n^2(n-1)^2(n-2)^2}{36} \]
        </div>
      </div>
    </div>

    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Racunamo desnu stranu jednacine</h3>
        <div class="math-block">
          \[ \frac{14}{9} \cdot \frac{n(n-1)}{2} \cdot \frac{n(n-1)(n-2)(n-3)}{24} = \frac{14 \cdot n^2(n-1)^2(n-2)(n-3)}{9 \cdot 48} \]
        </div>
        <div class="math-block">
          \[ = \frac{7\,n^2(n-1)^2(n-2)(n-3)}{216} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Sta mozemo da skratimo sa obe strane?</summary>
      <div class="challenge-content">
        <p>Posto je \(n \geq 5\) (da bi \(\binom{n}{4}\) imao smisla), svi faktori \(n^2(n-1)^2(n-2)\) su pozitivni i mogu se skratiti.</p>
      </div>
    </details>

    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izjednacavamo i skracujemo</h3>
        <p>Izjednacavamo levu i desnu stranu:</p>
        <div class="math-block">
          \[ \frac{n^2(n-1)^2(n-2)^2}{36} = \frac{7\,n^2(n-1)^2(n-2)(n-3)}{216} \]
        </div>
        <p>Skracujemo \(n^2(n-1)^2(n-2)\) sa obe strane:</p>
        <div class="math-block">
          \[ \frac{n-2}{36} = \frac{7(n-3)}{216} \]
        </div>
      </div>
    </div>

    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Resavamo jednacinu po \(n\)</h3>
        <p>Krstasto mnozenje:</p>
        <div class="math-block">
          \[ 216(n-2) = 36 \cdot 7(n-3) \]
        </div>
        <div class="math-block">
          \[ 216n - 432 = 252n - 756 \]
        </div>
        <div class="math-block">
          \[ 756 - 432 = 252n - 216n \]
        </div>
        <div class="math-block">
          \[ 324 = 36n \]
        </div>
        <div class="math-block">
          \[ \boxed{n = 9} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Da li \(n = 9\) zadovoljava uslov geometrijske progresije?</summary>
      <div class="challenge-content">
        <p>\(\binom{9}{2} = 36\), \(\binom{9}{3} = 84\), \(\binom{9}{4} = 126\).</p>
        <p>Progresija: \(\frac{14}{9} \cdot 36 = 56\), \(84\), \(126\).</p>
        <p>Kolicnik: \(84/56 = 3/2\) i \(126/84 = 3/2\). Geometrijska progresija sa kolicnikom \(q = \frac{3}{2}\). Tacno!</p>
      </div>
    </details>

    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Zapisujemo opsti clan razvoja binoma</h3>
        <p>Za \(n = 9\), binom je \(\left(\sqrt[3]{x} + \frac{1}{\sqrt{x}}\right)^9\). Opsti clan razvoja:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{9}{k} \cdot \left(\sqrt[3]{x}\right)^{9-k} \cdot \left(\frac{1}{\sqrt{x}}\right)^k = \binom{9}{k} \cdot x^{\frac{9-k}{3}} \cdot x^{-\frac{k}{2}} \]
        </div>
        <div class="math-block">
          \[ T_{k+1} = \binom{9}{k} \cdot x^{\frac{9-k}{3} - \frac{k}{2}} \]
        </div>
        <p>Svodimo eksponent na zajednicki imenilac:</p>
        <div class="math-block">
          \[ \frac{9-k}{3} - \frac{k}{2} = \frac{2(9-k) - 3k}{6} = \frac{18 - 2k - 3k}{6} = \frac{18 - 5k}{6} \]
        </div>
      </div>
    </div>

    <div class="step" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Nalazimo \(k\) za koje je stepen jednak \(\sqrt{x} = x^{1/2}\)</h3>
        <p>Postavljamo jednakost eksponenata:</p>
        <div class="math-block">
          \[ \frac{18 - 5k}{6} = \frac{1}{2} \]
        </div>
        <p>Mnozimo sa 6:</p>
        <div class="math-block">
          \[ 18 - 5k = 3 \]
        </div>
        <div class="math-block">
          \[ 5k = 15 \]
        </div>
        <div class="math-block">
          \[ \boxed{k = 3} \]
        </div>
      </div>
    </div>

    <div class="step" id="step9">
      <div class="step-badge">9</div>
      <div class="step-content">
        <h3>Racunamo binomni koeficijent</h3>
        <p>Trazeni binomni koeficijent je:</p>
        <div class="math-block">
          \[ \binom{9}{3} = \frac{9!}{3!\,\cdot\,6!} = \frac{9 \cdot 8 \cdot 7}{3 \cdot 2 \cdot 1} = \frac{504}{6} = \boxed{84} \]
        </div>
        <p class="note">Clan koji sadrzi \(\sqrt{x}\) je \(T_4 = 84\,\sqrt{x}\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Verifikuj da \(T_4\) zaista sadrzi \(\sqrt{x}\)</summary>
      <div class="challenge-content">
        <p>Za \(k = 3\): eksponent je \(\frac{18 - 5 \cdot 3}{6} = \frac{18 - 15}{6} = \frac{3}{6} = \frac{1}{2}\). Dakle \(T_4 = \binom{9}{3} \cdot x^{1/2} = 84\sqrt{x}\). Tacno!</p>
      </div>
    </details>
  </div>

  <!-- g. Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p style="margin-top: 12px; color: #e2e8f0;">Uslov geometrijske progresije \(b^2 = ac\) nam daje jednacinu po \(n\), jer se nakon zamene binomnih koeficijenata vecina faktora skrati. Kljucno je da eksponent opsteg clana \(\frac{18-5k}{6}\) daje cele vrednosti \(k\) za lepe stepene od \(x\).</p>
    <div class="math-block" style="display: inline-block; margin-top: 14px; font-size: 1.2rem;">
      \[ n = 9, \quad k = 3, \quad \binom{9}{3} = 84 \]
    </div>
  </div>

  <!-- h. Final Answer -->
  <div class="final-answer-box">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">\(\binom{9}{3} = 84\)</div>

    <div class="option-row">
      <div class="option-card">(A) 1</div>
      <div class="option-card">(B) 48</div>
      <div class="option-card correct">(C) 84</div>
      <div class="option-card">(D) 5</div>
      <div class="option-card">(E) 21</div>
    </div>

    <div class="verification">
      <strong>Verifikacija:</strong> Za \(n = 9\): progresija je \(\frac{14}{9} \cdot 36 = 56\), \(84\), \(126\) sa kolicnikom \(q = \frac{3}{2}\) (zaista geometrijska).
      Opsti clan \(T_{k+1} = \binom{9}{k}\,x^{(18-5k)/6}\). Za \(k=3\): eksponent \(= \frac{3}{6} = \frac{1}{2}\), dakle clan je \(84\sqrt{x}\).
    </div>
  </div>

  <!-- i. Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <div class="pitfall">
      <span class="pitfall-icon">Greska 1:</span> Zaboraviti faktor \(\frac{14}{9}\) ispred \(\binom{n}{2}\) pri postavljanju uslova geometrijske progresije. Bez tog faktora dobija se pogresna vrednost za \(n\).
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">Greska 2:</span> Pomesati binomni koeficijent sa celim clanom razvoja. Zadatak trazi samo binomni koeficijent \(\binom{9}{3} = 84\), a ne ceo clan \(84\sqrt{x}\).
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">Greska 3:</span> Pogresno racunanje eksponenta opsteg clana. Treba paziti da \(\left(\frac{1}{\sqrt{x}}\right)^k = x^{-k/2}\), a ne \(x^{k/2}\).
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">Greska 4:</span> Izabrati \(\binom{9}{1} = 9\) ili \(\binom{9}{2} = 36\) zato sto se mesaju indeks clana i stepen. Clan \(T_4\) (cetvrti clan) odgovara indeksu \(k = 3\).
    </div>
  </div>

  <!-- j. Optional Challenge -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>U istom razvoju \(\left(\sqrt[3]{x} + \frac{1}{\sqrt{x}}\right)^9\), odredite koji clan sadrzi \(x^2\) i koliki je njegov binomni koeficijent. Takodje, odredite clan koji ne zavisi od \(x\) (slobodan clan).</p>
    <details>
      <summary>Nagovestaj</summary>
      <div class="challenge-content">
        <p>Za \(x^2\): stavite \(\frac{18-5k}{6} = 2\), tj. \(18 - 5k = 12\), odakle \(k = \frac{6}{5}\) — nije ceo broj, pa takav clan <strong>ne postoji</strong>!</p>
        <p>Za slobodan clan: stavite \(\frac{18-5k}{6} = 0\), tj. \(18 = 5k\), odakle \(k = \frac{18}{5}\) — takodje nije ceo broj. Dakle, razvoj <strong>nema</strong> slobodan clan.</p>
        <p>Celi eksponenti se dobijaju samo za \(k\) pri kojima je \(18 - 5k\) deljivo sa 6, tj. \(5k \equiv 0 \pmod{6}\), dakle \(k \in \{0, 6\}\). Odgovarajuci clanovi su: \(T_1 = x^3\) i \(T_7 = \binom{9}{6}\,x^{-2} = 84\,x^{-2}\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const n = 9;
  const terms = [];
  for (let k = 0; k <= n; k++) {
    const exp = (18 - 5 * k) / 6;
    let binom = 1;
    for (let i = 0; i < k; i++) {
      binom = binom * (n - i) / (i + 1);
    }
    terms.push({ k: k, exp: exp, binom: Math.round(binom) });
  }

  const padLeft = 80;
  const padRight = 40;
  const padTop = 60;
  const padBottom = 80;
  const plotW = W - padLeft - padRight;
  const plotH = H - padTop - padBottom;

  const exps = terms.map(t => t.exp);
  const minExp = Math.min(...exps);
  const maxExp = Math.max(...exps);
  const expRange = maxExp - minExp || 1;

  function toCanvasX(k) {
    return padLeft + (k / n) * plotW;
  }

  function toCanvasY(exp) {
    return padTop + plotH - ((exp - minExp) / expRange) * plotH;
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid lines - horizontal
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    const niceExps = [-3, -2, -1, 0, 0.5, 1, 2, 3];
    niceExps.forEach(e => {
      if (e >= minExp && e <= maxExp) {
        const y = toCanvasY(e);
        ctx.beginPath();
        ctx.moveTo(padLeft, y);
        ctx.lineTo(W - padRight, y);
        ctx.stroke();

        ctx.fillStyle = '#94a3b8';
        ctx.font = '13px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'right';
        ctx.textBaseline = 'middle';
        let label = e === 0.5 ? '1/2' : e.toString();
        ctx.fillText(label, padLeft - 10, y);
      }
    });

    // Grid lines - vertical
    for (let k = 0; k <= n; k++) {
      const x = toCanvasX(k);
      ctx.beginPath();
      ctx.strokeStyle = '#1e293b';
      ctx.moveTo(x, padTop);
      ctx.lineTo(x, padTop + plotH);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // X-axis
    ctx.beginPath();
    ctx.moveTo(padLeft, padTop + plotH);
    ctx.lineTo(W - padRight, padTop + plotH);
    ctx.stroke();
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(padLeft, padTop);
    ctx.lineTo(padLeft, padTop + plotH);
    ctx.stroke();

    // Y = 1/2 highlight line
    const y05 = toCanvasY(0.5);
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(padLeft, y05);
    ctx.lineTo(W - padRight, y05);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for y = 1/2 line
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('eksponent = 1/2  (sqrt(x))', W - padRight - 200, y05 - 10);

    // Draw curve
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for (let k = 0; k <= n; k++) {
      const x = toCanvasX(k);
      const y = toCanvasY(terms[k].exp);
      if (k === 0) ctx.moveTo(x, y);
      else ctx.lineTo(x, y);
    }
    ctx.stroke();

    // Draw points
    terms.forEach((t, i) => {
      const x = toCanvasX(t.k);
      const y = toCanvasY(t.exp);
      const isTarget = t.k === 3;

      // Glow for target
      if (isTarget) {
        const grad = ctx.createRadialGradient(x, y, 0, x, y, 25);
        grad.addColorStop(0, 'rgba(74,222,128,0.5)');
        grad.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(x, y, 25, 0, 2 * Math.PI);
        ctx.fill();
      }

      // Dot
      ctx.fillStyle = isTarget ? '#4ade80' : '#60a5fa';
      ctx.beginPath();
      ctx.arc(x, y, isTarget ? 8 : 5, 0, 2 * Math.PI);
      ctx.fill();

      // Border
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(x, y, isTarget ? 8 : 5, 0, 2 * Math.PI);
      ctx.stroke();

      // Label: k and binom
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('k=' + t.k, x, padTop + plotH + 20);

      // Binom value above point
      ctx.fillStyle = isTarget ? '#4ade80' : '#e2e8f0';
      ctx.font = (isTarget ? 'bold ' : '') + '12px Segoe UI, system-ui, sans-serif';
      const expStr = t.exp % 1 === 0 ? t.exp.toString() : (t.exp * 2 % 1 === 0 ? (Math.round(t.exp * 2)) + '/2' : t.exp.toFixed(2));
      const labelY = y - 14;
      ctx.fillText('C=' + t.binom, x, labelY);

      if (isTarget) {
        ctx.fillStyle = '#4ade80';
        ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
        ctx.fillText('C(9,3)=84', x, labelY - 16);
      }
    });

    // Axis labels
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Indeks k clana u razvoju (k = 0, 1, ..., 9)', padLeft + plotW / 2, H - 15);

    ctx.save();
    ctx.translate(18, padTop + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('Eksponent od x', 0, 0);
    ctx.restore();

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Eksponenti clanova razvoja binoma za n = 9', W / 2, 30);
  }

  draw();

  // Touch/mouse support for highlight
  let highlightK = -1;

  function getK(clientX, clientY) {
    const rect = canvas.getBoundingClientRect();
    const scaleFactorX = W / rect.width;
    const mx = (clientX - rect.left) * scaleFactorX;
    let bestK = -1;
    let bestDist = Infinity;
    for (let k = 0; k <= n; k++) {
      const x = toCanvasX(k);
      const dist = Math.abs(mx - x);
      if (dist < bestDist) {
        bestDist = dist;
        bestK = k;
      }
    }
    return bestDist < 40 ? bestK : -1;
  }

  function handleInteraction(clientX, clientY) {
    const k = getK(clientX, clientY);
    if (k !== highlightK) {
      highlightK = k;
      draw();
      if (k >= 0) {
        const t = terms[k];
        const x = toCanvasX(k);
        const y = toCanvasY(t.exp);

        // Tooltip
        ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
        ctx.strokeStyle = '#60a5fa';
        ctx.lineWidth = 1;
        const tw = 180;
        const th = 50;
        let tx = x - tw / 2;
        let ty = y - th - 20;
        if (tx < padLeft) tx = padLeft;
        if (tx + tw > W - padRight) tx = W - padRight - tw;
        if (ty < padTop) ty = y + 20;

        ctx.beginPath();
        ctx.roundRect(tx, ty, tw, th, 8);
        ctx.fill();
        ctx.stroke();

        ctx.fillStyle = '#e2e8f0';
        ctx.font = '13px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        const expFrac = t.exp % 1 === 0 ? t.exp.toString() : ((18 - 5 * t.k) + '/6');
        ctx.fillText('T' + (k + 1) + ': C(9,' + k + ')=' + t.binom, tx + tw / 2, ty + 20);
        ctx.fillText('eksponent: ' + expFrac, tx + tw / 2, ty + 40);
      }
    }
  }

  canvas.addEventListener('mousemove', (e) => handleInteraction(e.clientX, e.clientY));
  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    const touch = e.touches[0];
    handleInteraction(touch.clientX, touch.clientY);
  }, { passive: false });
  canvas.addEventListener('mouseleave', () => { highlightK = -1; draw(); });
  canvas.addEventListener('touchend', () => { highlightK = -1; draw(); });

  // Step click interactivity
  document.querySelectorAll('.step').forEach(step => {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Geometrijska progresija binomnih koeficijenata",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["binomna teorema", "geometrijska progresija", "binomni koeficijent", "opsti clan razvoja", "kombinatorika"]
}
BRAINSPARK_META-->