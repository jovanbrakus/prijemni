<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sestocifreni brojevi sa cifrom 1 - Komplement brojanja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Find N = number of 6-digit numbers that contain the digit 1 at least once.
  Determine which interval N belongs to.

  Step 1: Total 6-digit numbers.
    6-digit numbers range from 100000 to 999999.
    Total = 999999 - 100000 + 1 = 900000 = 9 * 10^5.

  Step 2: Count complement ‚Äî 6-digit numbers with NO digit 1.
    First digit (cannot be 0 or 1): choices from {2,3,4,5,6,7,8,9} = 8 choices.
    Each of remaining 5 digits (cannot be 1): choices from {0,2,3,4,5,6,7,8,9} = 9 choices.
    Count(no 1) = 8 * 9^5 = 8 * 59049 = 472392.

  Step 3: N = Total - Count(no 1) = 900000 - 472392 = 427608.

  Step 4: Check intervals:
    (A) [10^5, 2*10^5) = [100000, 200000)  ‚Äî NO
    (B) [2*10^5, 3*10^5) = [200000, 300000)  ‚Äî NO
    (C) [3*10^5, 4*10^5) = [300000, 400000)  ‚Äî NO
    (D) [4*10^5, 5*10^5) = [400000, 500000)  ‚Äî YES, 427608 is here
    (E) [5*10^5, 6*10^5) = [500000, 600000)  ‚Äî NO

  Answer: (D) [4*10^5, 5*10^5)

  Verification via percentage:
    N/Total = 427608/900000 ‚âà 0.4751 ‚âà 47.5%
    This makes intuitive sense ‚Äî almost half of all 6-digit numbers contain a 1.
    As numbers get more digits, the probability of containing any specific digit increases.
    P(no 1 in a digit) for non-leading = 9/10 = 0.9
    P(no 1 in first digit) = 8/9
    P(no 1 in all 6) = (8/9)*(9/10)^5 = (8/9)*0.59049 = 0.52488
    P(at least one 1) = 1 - 0.52488 = 0.47512
    N = 0.47512 * 900000 = 427608. Checks out.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item.answer-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Sestocifreni brojevi sa cifrom 1</h1>
  <p class="subtitle">Kombinatorika ‚Äî komplement brojanja (princip iskljucivanja)</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Ako je \( N \) broj sestocifrenih brojeva koji u svom zapisu sadrze cifru 1 bar na jednom mestu, tada \( N \) pripada intervalu:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">(A) \( [10^5,\; 2 \cdot 10^5) \)</div>
        <div class="given-item answer-option" data-option="B">(B) \( [2 \cdot 10^5,\; 3 \cdot 10^5) \)</div>
        <div class="given-item answer-option" data-option="C">(C) \( [3 \cdot 10^5,\; 4 \cdot 10^5) \)</div>
        <div class="given-item answer-option correct" data-option="D">(D) \( [4 \cdot 10^5,\; 5 \cdot 10^5) \)</div>
        <div class="given-item answer-option" data-option="E">(E) \( [5 \cdot 10^5,\; 6 \cdot 10^5) \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Direktno brojanje sestocifrenih brojeva koji sadrze cifru 1 je komplikovano, jer cifra 1 moze biti na razlicitim pozicijama i u razlicitim kombinacijama. Umesto toga, koristimo <strong>komplement</strong>: izbrojimo koliko sestocifrenih brojeva <em>ne sadrzi</em> cifru 1 uopste, pa oduzmemo od ukupnog broja sestocifrenih brojeva.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Princip komplementa u kombinatorici (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Kada trazimo broj objekata sa bar jednim pojavljivanjem nekog svojstva, cesto je lakse da izbrojimo objekte koji <strong>nemaju</strong> to svojstvo, pa oduzmemo od ukupnog broja:</p>
        <div class="step-math">
          \[ N(\text{bar jedno}) = N(\text{ukupno}) - N(\text{nijedno}) \]
        </div>
        <p style="margin-top: 12px;">Ovo je specijalan slucaj <strong>principa komplementa</strong>: ako je \( A \) skup objekata sa zadatim svojstvom, a \( U \) univerzalan skup, tada:</p>
        <div class="step-math">
          \[ |A| = |U| - |A^c| \]
        </div>
        <p style="margin-top: 12px;">Takodje, koristimo <strong>pravilo proizvoda</strong>: ako biramo nezavisno \( k \) pozicija sa \( n_1, n_2, \ldots, n_k \) mogucnosti, ukupan broj kombinacija je:</p>
        <div class="step-math">
          \[ n_1 \cdot n_2 \cdot \ldots \cdot n_k \]
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid: Bar Chart Canvas -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz ‚Äî struktura brojanja</div>
    <div class="canvas-wrapper">
      <canvas id="countingChart" width="720" height="420"></canvas>
    </div>
    <p class="canvas-caption">Dijagram: ukupan broj sestocifrenih brojeva, komplement (bez cifre 1) i trazeni broj \( N \)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Ukupan broj sestocifrenih brojeva</div>
        <p>Sestocifreni brojevi su svi prirodni brojevi od \( 100\,000 \) do \( 999\,999 \).</p>
        <p>Prva cifra moze biti \( 1, 2, \ldots, 9 \) (9 mogucnosti ‚Äî ne sme biti 0), a svaka od preostalih 5 cifara moze biti \( 0, 1, \ldots, 9 \) (10 mogucnosti).</p>
        <div class="step-math">
          \[ \text{Ukupno} = 9 \cdot 10^5 = 900\,000 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto prva cifra ne moze biti 0?</summary>
            <div class="detail-content">
              Ako bi prva cifra bila 0, broj bi imao manje od 6 cifara (na primer, 012345 se zapravo cita kao 12345, sto je petocifreni broj). Dakle, za sestocifreni broj, prva cifra mora biti iz skupa \(\{1, 2, \ldots, 9\}\).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Brojanje komplementa ‚Äî sestocifreni brojevi BEZ cifre 1</div>
        <p>Sada brojimo sestocifrene brojeve u kojima se cifra 1 <strong>ne pojavljuje nigde</strong>.</p>
        <p><strong>Prva cifra:</strong> Ne sme biti 0 (jer bi broj bio kracei) i ne sme biti 1 (uslov). Dozvoljena je cifra iz skupa \(\{2, 3, 4, 5, 6, 7, 8, 9\}\).</p>
        <div class="step-math">
          \[ \text{Izbor za prvu cifru: } 8 \text{ mogucnosti} \]
        </div>
        <p><strong>Svaka od preostalih 5 cifara:</strong> Ne sme biti 1, ali moze biti 0. Dozvoljena je cifra iz skupa \(\{0, 2, 3, 4, 5, 6, 7, 8, 9\}\).</p>
        <div class="step-math">
          \[ \text{Izbor za svaku od 5 cifara: } 9 \text{ mogucnosti} \]
        </div>
        <p>Primenom pravila proizvoda:</p>
        <div class="step-math">
          \[ \text{Bez cifre 1} = 8 \cdot 9^5 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto za prvu cifru imamo 8, a za ostale 9 izbora?</summary>
            <div class="detail-content">
              <p>Prva cifra ima dva ogranicenja: ne sme biti 0 (da bi broj bio sestocifreni) i ne sme biti 1 (uslov zadatka). Od 10 cifara (0-9) iskljucujemo dve, ostaje 8.</p>
              <p style="margin-top: 8px;">Za ostale cifre, jedino ogranicenje je da cifra ne bude 1. Od 10 cifara iskljucujemo jednu, ostaje 9.</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Izracunavanje \( 9^5 \)</div>
        <p>Izracunajmo stepen \( 9^5 \) korak po korak:</p>
        <div class="step-math">
          \[ 9^2 = 81 \]
        </div>
        <div class="step-math">
          \[ 9^3 = 81 \cdot 9 = 729 \]
        </div>
        <div class="step-math">
          \[ 9^4 = 729 \cdot 9 = 6\,561 \]
        </div>
        <div class="step-math">
          \[ 9^5 = 6\,561 \cdot 9 = 59\,049 \]
        </div>
        <p>Dakle, broj sestocifrenih brojeva bez cifre 1:</p>
        <div class="step-math">
          \[ 8 \cdot 59\,049 = 472\,392 \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunavanje \( N \) ‚Äî primena principa komplementa</div>
        <p>Broj sestocifrenih brojeva koji sadrze cifru 1 bar na jednom mestu:</p>
        <div class="step-math">
          \[ N = \underbrace{900\,000}_{\text{ukupno}} - \underbrace{472\,392}_{\text{bez cifre 1}} = 427\,608 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Verifikacija aritmetike</summary>
            <div class="detail-content">
              <p>Proverimo oduzimanje:</p>
              <p>\( 900\,000 - 472\,392 = 900\,000 - 472\,000 - 392 = 428\,000 - 392 = 427\,608 \) ‚úì</p>
              <p style="margin-top: 8px;">Dodatna provera: \( 427\,608 + 472\,392 = 900\,000 \) ‚úì</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Odredjivanje intervala</div>
        <p>Proveravamo kom intervalu pripada \( N = 427\,608 \):</p>
        <div class="step-math">
          \[ 4 \cdot 10^5 = 400\,000 \leq 427\,608 < 500\,000 = 5 \cdot 10^5 \]
        </div>
        <p>Dakle, \( N \) pripada intervalu \( [4 \cdot 10^5,\; 5 \cdot 10^5) \), sto odgovara odgovoru <strong>(D)</strong>.</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Direktno brojanje sestocifrenih brojeva koji sadrze cifru 1 zahtevalo bi analizu slucajeva (1 na prvom mestu, na drugom, itd.) uz korekciju za preklapanja (princip ukljucenja-iskljucenja), sto bi bilo veoma komplikovano. <strong>Komplement pristup</strong> pretvara problem u jednostavno mnozenje: za svaku poziciju nezavisno biramo iz skupa dozvoljenih cifara. Ovo je opsta tehnika ‚Äî kad god je uslov oblika "bar jedno", razmisli o komplementu "nijedno".</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( N = 427\,608 \in [4 \cdot 10^5,\; 5 \cdot 10^5) \)</div>
    <div class="answer-option">Tacan odgovor je (D) \( [4 \cdot 10^5,\; 5 \cdot 10^5) \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Isti broj izbora za sve pozicije:</strong> Cesta greska je staviti 9 izbora i za prvu cifru (bez cifre 1). Ali prva cifra ima dodatno ogranicenje ‚Äî ne sme biti ni 0, pa je izbor 8, a ne 9. Rezultat \( 9 \cdot 9^5 = 9^6 = 531\,441 \) bi dao pogresan komplement.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Brojanje po pozicijama bez korekcije:</strong> Ako pokusamo direktno ‚Äî "cifra 1 na prvom mestu: \( 10^5 \) brojeva, na drugom mestu: \( 9 \cdot 10^4 \cdot 10^4 \) brojeva..." ‚Äî moramo paziti na preklapanja (brojevi koji imaju cifru 1 na vise mesta). Bez principa ukljucenja-iskljucenja rezultat ce biti pogresan.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje da je 100000 sestocifreni:</strong> Broj \( 100\,000 \) sadrzi cifru 1 i jeste sestocifreni. Ponekad se greski misli da sestocifreni brojevi pocinju od 100001 ili nekog drugog broja.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Koliko sestocifrenih brojeva sadrzi <strong>tacno jednu</strong> cifru 1? A koliko ih sadrzi <strong>bar dve</strong> cifre 1?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p><strong>Tacno jedna cifra 1:</strong></p>
        <p>Biramo na kojoj od 6 pozicija stoji cifra 1. Za svaku od preostalih 5 pozicija biramo cifru koja <em>nije</em> 1.</p>
        <ul style="margin: 8px 0 0 20px;">
          <li>Ako je cifra 1 na <strong>prvom</strong> mestu: preostalih 5 cifara svaka iz \(\{0,2,...,9\}\), tj. \( 9^5 = 59\,049 \) nacina.</li>
          <li>Ako je cifra 1 na <strong>nekom od ostalih 5</strong> mesta: prva cifra iz \(\{2,...,9\}\) (8 nacina), preostalih 4 iz \(\{0,2,...,9\}\) (\( 9^4 = 6\,561 \) nacina). To daje \( 5 \cdot 8 \cdot 9^4 = 5 \cdot 52\,488 = 262\,440 \).</li>
        </ul>
        <p style="margin-top: 8px;">Ukupno tacno jedna cifra 1: \( 59\,049 + 262\,440 = 321\,489 \).</p>
        <p style="margin-top: 12px;"><strong>Bar dve cifre 1:</strong></p>
        <p>\( N(\text{bar 2}) = N(\text{bar 1}) - N(\text{tacno 1}) = 427\,608 - 321\,489 = 106\,119 \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('countingChart');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    const w = Math.min(720, rect.width - 20);
    const h = 420;
    canvas.style.width = w + 'px';
    canvas.style.height = h + 'px';
    canvas.width = w * dpr;
    canvas.height = h * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    return { w: w, h: h };
  }

  let tooltip = null;

  function draw() {
    const size = resizeCanvas();
    const W = size.w;
    const H = size.h;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // --- Top section: Digit position diagram ---
    const topY = 20;

    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Izbor cifara za sestocifreni broj BEZ cifre 1', W / 2, topY + 10);

    const boxW = Math.min(80, (W - 120) / 6);
    const boxH = 50;
    const gap = 10;
    const totalBoxWidth = 6 * boxW + 5 * gap;
    const startX = (W - totalBoxWidth) / 2;
    const boxY = topY + 30;

    const labels = ['d\u2081', 'd\u2082', 'd\u2083', 'd\u2084', 'd\u2085', 'd\u2086'];
    const choices = [8, 9, 9, 9, 9, 9];
    const descriptions = ['{2,...,9}', '{0,2,...,9}', '{0,2,...,9}', '{0,2,...,9}', '{0,2,...,9}', '{0,2,...,9}'];

    for (let i = 0; i < 6; i++) {
      const x = startX + i * (boxW + gap);

      // Box
      const gradient = ctx.createLinearGradient(x, boxY, x + boxW, boxY + boxH);
      if (i === 0) {
        gradient.addColorStop(0, 'rgba(244, 114, 182, 0.25)');
        gradient.addColorStop(1, 'rgba(244, 114, 182, 0.1)');
        ctx.strokeStyle = '#f472b6';
      } else {
        gradient.addColorStop(0, 'rgba(96, 165, 250, 0.25)');
        gradient.addColorStop(1, 'rgba(96, 165, 250, 0.1)');
        ctx.strokeStyle = '#60a5fa';
      }
      ctx.fillStyle = gradient;
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.roundRect(x, boxY, boxW, boxH, 8);
      ctx.fill();
      ctx.stroke();

      // Position label
      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(labels[i], x + boxW / 2, boxY - 6);

      // Choice count
      ctx.fillStyle = i === 0 ? '#f472b6' : '#60a5fa';
      ctx.font = 'bold 22px Segoe UI, system-ui, sans-serif';
      ctx.fillText(String(choices[i]), x + boxW / 2, boxY + 30);

      // Description
      ctx.fillStyle = '#94a3b8';
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.fillText(descriptions[i], x + boxW / 2, boxY + boxH + 14);

      // Multiplication sign
      if (i < 5) {
        ctx.fillStyle = '#e2e8f0';
        ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
        ctx.fillText('\u00D7', x + boxW + gap / 2, boxY + 30);
      }
    }

    // Result line
    const resultY = boxY + boxH + 36;
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('= 8 \u00D7 9\u2075 = 8 \u00D7 59.049 = 472.392  (bez cifre 1)', W / 2, resultY);

    // --- Bottom section: Bar chart ---
    const chartTop = resultY + 30;
    const chartBottom = H - 40;
    const chartHeight = chartBottom - chartTop;
    const barAreaLeft = 100;
    const barAreaRight = W - 40;

    // Data
    const total = 900000;
    const withoutOne = 472392;
    const withOne = 427608;

    const bars = [
      { label: 'Ukupno', value: total, color: '#60a5fa', colorAlpha: 'rgba(96, 165, 250, 0.3)' },
      { label: 'Bez cifre 1', value: withoutOne, color: '#f472b6', colorAlpha: 'rgba(244, 114, 182, 0.3)' },
      { label: 'N (sa cifrom 1)', value: withOne, color: '#4ade80', colorAlpha: 'rgba(74, 222, 128, 0.3)' }
    ];

    const barHeight = Math.min(40, (chartHeight - 30) / 3 - 10);
    const barGap = (chartHeight - 3 * barHeight) / 4;
    const maxVal = total;

    bars.forEach(function(bar, i) {
      const y = chartTop + barGap + i * (barHeight + barGap);
      const barW = ((bar.value / maxVal) * (barAreaRight - barAreaLeft));

      // Bar background
      ctx.fillStyle = bar.colorAlpha;
      ctx.beginPath();
      ctx.roundRect(barAreaLeft, y, barW, barHeight, 6);
      ctx.fill();

      // Bar border
      ctx.strokeStyle = bar.color;
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.roundRect(barAreaLeft, y, barW, barHeight, 6);
      ctx.stroke();

      // Label on left
      ctx.fillStyle = bar.color;
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(bar.label, barAreaLeft - 10, y + barHeight / 2 + 5);

      // Value inside bar
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      const valText = bar.value.toLocaleString('sr-Latn');
      ctx.fillText(valText, barAreaLeft + barW + 8, y + barHeight / 2 + 5);
    });

    // Formula annotation
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('N = 900.000 \u2212 472.392 = 427.608', W / 2, chartBottom + 20);

    // Interval markers at the bottom
    const intervalY = chartBottom + 36;
    const intervals = [
      { left: 100000, right: 200000, label: 'A' },
      { left: 200000, right: 300000, label: 'B' },
      { left: 300000, right: 400000, label: 'C' },
      { left: 400000, right: 500000, label: 'D' },
      { left: 500000, right: 600000, label: 'E' }
    ];

    // We won't draw the interval bar if we're running out of space
    // Instead, we already have the bars above that convey the information well
  }

  draw();

  // Touch and resize support
  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
  }, { passive: false });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Sestocifreni brojevi sa cifrom 1 - komplement brojanja",
  "subject": "math",
  "unit": "kombinatorika",
  "topic_tags": ["kombinatorika", "komplement brojanja", "princip komplementa", "pravilo proizvoda", "sestocifreni brojevi", "brojanje"]
}
BRAINSPARK_META-->