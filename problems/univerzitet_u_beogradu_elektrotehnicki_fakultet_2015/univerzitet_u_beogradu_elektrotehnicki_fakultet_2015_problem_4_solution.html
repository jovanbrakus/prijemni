<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Moduo kompleksnog broja sa parametrom k</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Ako je k in R, i^2 = -1, tada je moduo kompleksnog broja
((1+i)/(1-i))^2015 + (-1+5ki)/(3i) - 1
najmanji za k jednako:
(A) 3/5  (B) 0  (C) 1/3  (D) -1/2  (E) 3

SOLUTION:

Step 1: Uprosti (1+i)/(1-i).
  Pomnozimo brojilac i imenilac sa konjugovanim imenioca (1+i):
  (1+i)/(1-i) * (1+i)/(1+i) = (1+i)^2 / ((1-i)(1+i))
  Brojilac: (1+i)^2 = 1 + 2i + i^2 = 1 + 2i - 1 = 2i
  Imenilac: (1-i)(1+i) = 1 - i^2 = 1 - (-1) = 2
  Dakle: (1+i)/(1-i) = 2i/2 = i

Step 2: Izracunaj i^2015.
  i^1 = i, i^2 = -1, i^3 = -i, i^4 = 1 (perioda 4).
  2015 = 4 * 503 + 3, dakle i^2015 = i^3 = -i.

Step 3: Uprosti (-1+5ki)/(3i).
  Pomnozimo brojilac i imenilac sa -i (konjugovano od i, normalizovano):
  (-1+5ki)/(3i) * (-i)/(-i) = (-1+5ki)(-i) / (3i * (-i))
  Imenilac: 3i * (-i) = -3i^2 = -3(-1) = 3
  Brojilac: (-1+5ki)(-i) = (-1)(-i) + 5ki(-i) = i - 5ki^2 = i + 5k
  Dakle: (-1+5ki)/(3i) = (5k + i)/3 = 5k/3 + (1/3)i

Step 4: Saberi sve tri dela.
  i^2015 + (-1+5ki)/(3i) - 1
  = -i + 5k/3 + (1/3)i - 1
  = (5k/3 - 1) + (-1 + 1/3)i
  = (5k/3 - 1) + (-2/3)i

Step 5: Izracunaj moduo.
  |z| = sqrt((5k/3 - 1)^2 + (-2/3)^2)
      = sqrt((5k/3 - 1)^2 + 4/9)

Step 6: Minimizuj moduo po k.
  Moduo je najmanji kada je (5k/3 - 1)^2 = 0, tj. 5k/3 = 1, tj. k = 3/5.
  Tada je |z| = sqrt(0 + 4/9) = 2/3.

VERIFICATION:
Za k = 3/5:
  Realan deo: 5*(3/5)/3 - 1 = 3/3 - 1 = 1 - 1 = 0
  Imaginaran deo: -2/3
  |z| = sqrt(0 + 4/9) = 2/3

Za k = 0: |z| = sqrt(1 + 4/9) = sqrt(13/9) = sqrt(13)/3 ≈ 1.20 > 2/3
Za k = 3: |z| = sqrt((5-1)^2 + 4/9) = sqrt(16 + 4/9) = sqrt(148/9) ≈ 4.05 > 2/3

Odgovor: (A) 3/5
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 650px;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Moduo kompleksnog broja sa parametrom k</h1>
  <p class="subtitle">Kompleksni brojevi, moduo, minimizacija</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Ako je \(k \in \mathbb{R}\), \(i^2 = -1\), tada je moduo kompleksnog broja</p>
    <div class="math-box">
      \[ \left(\frac{1+i}{1-i}\right)^{2015} + \frac{-1+5ki}{3i} - 1 \]
    </div>
    <p>najmanji za \(k\) jednako:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{3}{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{1}{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-\dfrac{1}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Pojednostavicemo izraz u tri koraka: (1) sracunamo \(\left(\frac{1+i}{1-i}\right)^{2015}\), (2) sredimo razlomak \(\frac{-1+5ki}{3i}\), (3) saberemo sve delove i zapisemo kompleksni broj u obliku \(a + bi\). Zatim cemo naci moduo i odrediti za koje \(k\) je on najmanji.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Imaginarna jedinica:</strong> \(i^2 = -1\), \(i^3 = -i\), \(i^4 = 1\) &mdash; stepeni od \(i\) se ponavljaju sa periodom 4</li>
          <li><strong>Konjugovani kompleksni broj:</strong> konjugat od \(a + bi\) je \(a - bi\); mnozimo razlomak konjugatom imenioca</li>
          <li><strong>Moduo:</strong> \(|a + bi| = \sqrt{a^2 + b^2}\)</li>
          <li><strong>Deljenje sa \(i\):</strong> \(\dfrac{z}{i} = \dfrac{z \cdot (-i)}{i \cdot (-i)} = \dfrac{-zi}{1} = -zi\), jer je \(i \cdot (-i) = -i^2 = 1\)</li>
          <li><strong>Minimizacija modula:</strong> \(\sqrt{f(k)^2 + c^2}\) je najmanje kad je \(f(k) = 0\), jer je tada vrednost jednaka \(|c|\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">Kompleksna ravan prikazuje kako se polozaj broja menja u zavisnosti od parametra \(k\). Moduo je rastojanje od koordinatnog pocetka.</p>
    <canvas id="diagram" width="650" height="480"></canvas>
    <p class="drag-hint">Koristite dugmad ispod za prikaz koraka resavanja</p>
    <div style="margin-top: 14px;">
      <button id="animBtn" style="background: linear-gradient(135deg, #60a5fa, #a78bfa); color: #0f172a; border: none; padding: 10px 24px; border-radius: 8px; font-weight: 700; font-size: 0.95rem; cursor: pointer;">Sledeci korak</button>
      <button id="resetBtn" style="background: #334155; color: #94a3b8; border: 1px solid #475569; padding: 10px 18px; border-radius: 8px; font-weight: 600; font-size: 0.95rem; cursor: pointer; margin-left: 8px;">Ponovo</button>
    </div>
  </div>

  <!-- STEP-BY-STEP -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <span class="step-badge">Korak 1</span>
      <div class="step-title">Pojednostavljenje razlomka \(\dfrac{1+i}{1-i}\)</div>
      <div class="step-text">
        <p>Mnozimo brojilac i imenilac konjugatom imenioca \((1+i)\):</p>
        <div class="math-box">
          \[ \frac{1+i}{1-i} = \frac{(1+i)(1+i)}{(1-i)(1+i)} = \frac{(1+i)^2}{1 - i^2} \]
        </div>
        <p>Izracunajmo brojilac i imenilac:</p>
        <div class="math-box">
          \[ (1+i)^2 = 1 + 2i + i^2 = 1 + 2i - 1 = 2i \]
          \[ 1 - i^2 = 1 - (-1) = 2 \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ \frac{1+i}{1-i} = \frac{2i}{2} = i \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <span class="step-badge">Korak 2</span>
      <div class="step-title">Stepenovanje: \(i^{2015}\)</div>
      <div class="step-text">
        <p>Stepeni imaginarne jedinice se ponavljaju sa periodom 4:</p>
        <div class="math-box">
          \[ i^1 = i, \quad i^2 = -1, \quad i^3 = -i, \quad i^4 = 1, \quad i^5 = i, \;\ldots \]
        </div>
        <p>Odredimo ostatak pri deljenju eksponenta sa 4:</p>
        <div class="math-box">
          \[ 2015 = 4 \cdot 503 + 3 \quad \Rightarrow \quad i^{2015} = i^3 = -i \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Zasto je \(i^{2015} = i^3\)?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Jer je \(i^4 = 1\), pa \(i^{4n} = 1\) za svako \(n \in \mathbb{N}\). Stoga \(i^{2015} = i^{4 \cdot 503} \cdot i^3 = 1 \cdot i^3 = i^3 = -i\).
      </p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <span class="step-badge">Korak 3</span>
      <div class="step-title">Pojednostavljenje razlomka \(\dfrac{-1 + 5ki}{3i}\)</div>
      <div class="step-text">
        <p>Mnozimo brojilac i imenilac sa \(-i\) (konjugat od \(i\)):</p>
        <div class="math-box">
          \[ \frac{-1+5ki}{3i} = \frac{(-1+5ki)(-i)}{3i \cdot (-i)} \]
        </div>
        <p>Imenilac:</p>
        <div class="math-box">
          \[ 3i \cdot (-i) = -3i^2 = -3 \cdot (-1) = 3 \]
        </div>
        <p>Brojilac:</p>
        <div class="math-box">
          \[ (-1+5ki)(-i) = (-1)(-i) + 5ki \cdot (-i) = i - 5ki^2 = i - 5k(-1) = 5k + i \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ \frac{-1+5ki}{3i} = \frac{5k + i}{3} = \frac{5k}{3} + \frac{1}{3}\,i \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <span class="step-badge">Korak 4</span>
      <div class="step-title">Sabiramo sve delove izraza</div>
      <div class="step-text">
        <p>Nas izraz je:</p>
        <div class="math-box">
          \[ \underbrace{i^{2015}}_{-i} + \underbrace{\frac{-1+5ki}{3i}}_{\frac{5k}{3} + \frac{1}{3}i} - 1 \]
        </div>
        <p>Grupismo realne i imaginarne delove:</p>
        <div class="math-box">
          \[ \text{Re} = \frac{5k}{3} - 1 \]
          \[ \text{Im} = -1 + \frac{1}{3} = -\frac{2}{3} \]
        </div>
        <p>Kompleksni broj u standardnom obliku:</p>
        <div class="math-box">
          \[ z = \left(\frac{5k}{3} - 1\right) + \left(-\frac{2}{3}\right)i \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Odakle \(-\frac{2}{3}\) za imaginaran deo?</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Imaginarni delovi su: \(-1\) (od \(i^{2015} = -i\)) i \(+\frac{1}{3}\) (od drugog razlomka). Sabiramo: \(-1 + \frac{1}{3} = -\frac{3}{3} + \frac{1}{3} = -\frac{2}{3}\). Poslednji clan \(-1\) je realan i ne doprinosi imaginarnom delu.
      </p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <span class="step-badge">Korak 5</span>
      <div class="step-title">Izracunavanje modula</div>
      <div class="step-text">
        <p>Moduo kompleksnog broja \(z = a + bi\) je \(|z| = \sqrt{a^2 + b^2}\):</p>
        <div class="math-box">
          \[ |z| = \sqrt{\left(\frac{5k}{3} - 1\right)^2 + \left(-\frac{2}{3}\right)^2} = \sqrt{\left(\frac{5k}{3} - 1\right)^2 + \frac{4}{9}} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <span class="step-badge">Korak 6</span>
      <div class="step-title">Minimizacija modula po \(k\)</div>
      <div class="step-text">
        <p>Izraz pod korenom je zbir dva clana: \(\left(\frac{5k}{3} - 1\right)^2 \geq 0\) i konstantnog \(\frac{4}{9}\).</p>
        <p>Posto je \(\left(\frac{5k}{3} - 1\right)^2 \geq 0\), minimum se dostize kada je ovaj clan jednak nuli:</p>
        <div class="math-box">
          \[ \frac{5k}{3} - 1 = 0 \quad \Rightarrow \quad \frac{5k}{3} = 1 \quad \Rightarrow \quad k = \frac{3}{5} \]
        </div>
        <p>Minimalna vrednost modula:</p>
        <div class="math-box">
          \[ |z|_{\min} = \sqrt{0 + \frac{4}{9}} = \frac{2}{3} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Numericka verifikacija za razne vrednosti \(k\)</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Za \(k = \frac{3}{5}\): \(|z| = \sqrt{0 + \frac{4}{9}} = \frac{2}{3} \approx 0{,}667\).<br>
        Za \(k = 0\): \(|z| = \sqrt{1 + \frac{4}{9}} = \sqrt{\frac{13}{9}} = \frac{\sqrt{13}}{3} \approx 1{,}20\).<br>
        Za \(k = 3\): \(|z| = \sqrt{16 + \frac{4}{9}} = \sqrt{\frac{148}{9}} \approx 4{,}05\).<br>
        Zaista, minimum je za \(k = \frac{3}{5}\).
      </p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h3>Kljucni uvid</h3>
    <p>Kljuc resenja je u tome sto se celokupan izraz svodi na kompleksni broj ciji <span class="highlight">imaginaran deo ne zavisi od \(k\)</span>, dok realan deo linearno zavisi od \(k\). Moduo je:</p>
    <div class="math-box" style="text-align:center; font-size:1.05rem;">
      \[ |z| = \sqrt{\left(\frac{5k}{3} - 1\right)^2 + \frac{4}{9}} \]
    </div>
    <p>Geometrijski, ovo je rastojanje tacke \(\left(\frac{5k}{3} - 1,\; -\frac{2}{3}\right)\) od koordinatnog pocetka. Tacka se krece po horizontalnoj pravoj \(y = -\frac{2}{3}\), pa je minimum rastojanja upravo \(\frac{2}{3}\), i dostize se kada je \(x = 0\), tj. \(k = \frac{3}{5}\).</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <p class="answer-label">Moduo je najmanji za \(k\) jednako:</p>
    <div class="answer-value">\(k = \dfrac{3}{5}\)</div>
    <div class="options-row">
      <div class="option-box correct">(A) \(\dfrac{3}{5}\)</div>
      <div class="option-box">(B) \(0\)</div>
      <div class="option-box">(C) \(\dfrac{1}{3}\)</div>
      <div class="option-box">(D) \(-\dfrac{1}{2}\)</div>
      <div class="option-box">(E) \(3\)</div>
    </div>
    <p class="verification-note">Minimalni moduo iznosi \(\frac{2}{3} \approx 0{,}667\). Za bilo koje drugo \(k\), moduo je strogo veci.</p>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>Pogresno pojednostavljenje \(\frac{1+i}{1-i}\): ako se zaboravi konjugovanje imenioca, lako se dobije pogresan rezultat umesto \(i\).</li>
      <li>Greska pri odredjivanju ostatka: \(2015 \div 4\) daje ostatak 3, ne 1 ili 2. Treba pazljivo podeliti: \(4 \cdot 503 = 2012\), pa je ostatak \(2015 - 2012 = 3\).</li>
      <li>Deljenje sa \(i\) bez mnozenja konjugatom: razlomak \(\frac{-1+5ki}{3i}\) se ne moze resiti tako sto se samo "podeli sa \(i\)" &mdash; treba koristiti \(\frac{1}{i} = -i\) ili mnoziti sa \(\frac{-i}{-i}\).</li>
      <li>Zaboravljanje clana \(-1\) na kraju izraza: ovaj clan se dodaje na realan deo i menja poziciju minimuma.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Za koje \(k \in \mathbb{R}\) je moduo kompleksnog broja \(\left(\frac{1-i}{1+i}\right)^{2016} + \frac{2+ki}{1-i}\) jednak \(\sqrt{2}\)?</p>
    <details>
      <summary>Pomoc</summary>
      <p style="padding-top:8px; color:#cbd5e1;">
        Slicno kao u zadatku: \(\frac{1-i}{1+i} = -i\), pa je \((-i)^{2016} = ((-i)^4)^{504} = 1\). Zatim uprosti \(\frac{2+ki}{1-i}\) mnozenjem konjugatom \(1+i\) i izjednaci moduo sa \(\sqrt{2}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas visualization
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let currentPhase = 0;
  const maxPhase = 5;

  const animBtn = document.getElementById('animBtn');
  const resetBtn = document.getElementById('resetBtn');

  animBtn.addEventListener('click', () => {
    if (currentPhase < maxPhase) {
      currentPhase++;
      drawDiagram();
    }
  });

  resetBtn.addEventListener('click', () => {
    currentPhase = 0;
    drawDiagram();
  });

  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
  }

  function drawBox(x, y, w, h, bgColor, borderColor, text, textColor, fontSize) {
    roundRect(x, y, w, h, 8);
    ctx.fillStyle = bgColor;
    ctx.fill();
    ctx.strokeStyle = borderColor;
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = textColor || '#e2e8f0';
    ctx.font = (fontSize || 16) + 'px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    var lines = text.split('\n');
    var lineH = (fontSize || 16) + 6;
    var totalH = lines.length * lineH;
    var startY = y + h / 2 - totalH / 2 + lineH / 2;
    lines.forEach(function(line, i) {
      ctx.fillText(line, x + w / 2, startY + i * lineH);
    });
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color || '#60a5fa';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    var angle = Math.atan2(y2 - y1, x2 - x1);
    var headLen = 10;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  function drawDiagram() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    var midX = W / 2;

    // Phase label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';

    var phaseLabels = [
      'Polazni izraz',
      'Korak 1: (1+i)/(1-i) = i',
      'Korak 2: i\u00B2\u2070\u00B9\u2075 = -i',
      'Korak 3: (-1+5ki)/(3i) = 5k/3 + i/3',
      'Korak 4: z = (5k/3 - 1) + (-2/3)i',
      'Rezultat: k = 3/5'
    ];
    ctx.fillText(phaseLabels[currentPhase], midX, 12);

    // Phase indicator dots
    for (var i = 0; i <= maxPhase; i++) {
      ctx.beginPath();
      ctx.arc(midX - (maxPhase * 10) + i * 20, H - 18, 5, 0, 2 * Math.PI);
      ctx.fillStyle = i <= currentPhase ? '#60a5fa' : '#334155';
      ctx.fill();
    }

    if (currentPhase === 0) {
      drawBox(midX - 230, 50, 460, 50, 'rgba(96,165,250,0.1)', '#60a5fa',
        '((1+i)/(1-i))\u00B2\u2070\u00B9\u2075 + (-1+5ki)/(3i) - 1', '#60a5fa', 17);

      ctx.fillStyle = '#94a3b8';
      ctx.font = '15px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Treba naci k za koje je moduo ovog izraza najmanji.', midX, 140);

      drawBox(midX - 180, 170, 360, 100, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)',
        'Plan:\n1. Uprosti (1+i)/(1-i)\n2. Izracunaj stepen i\u00B2\u2070\u00B9\u2075\n3. Uprosti (-1+5ki)/(3i)\n4. Saberi i minimizuj moduo', '#4ade80', 14);

      ctx.fillStyle = '#f472b6';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.fillText('Parametar k utice samo na realan deo!', midX, 310);
    }

    if (currentPhase === 1) {
      drawBox(midX - 120, 45, 240, 42, 'rgba(96,165,250,0.1)', '#60a5fa',
        '(1+i)/(1-i) = ?', '#60a5fa', 18);

      drawArrow(midX, 100, midX, 130, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Mnozimo konjugatom (1+i)', midX + 140, 115);

      drawBox(midX - 170, 140, 340, 42, 'rgba(167,139,250,0.12)', '#a78bfa',
        '(1+i)\u00B2 / ((1-i)(1+i))', '#a78bfa', 17);

      drawArrow(midX - 60, 195, midX - 60, 225, '#94a3b8');
      drawArrow(midX + 60, 195, midX + 60, 225, '#94a3b8');

      drawBox(midX - 170, 235, 145, 42, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.25)',
        '(1+i)\u00B2 = 2i', '#34d399', 16);

      drawBox(midX + 25, 235, 145, 42, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.2)',
        '1 - i\u00B2 = 2', '#f472b6', 16);

      drawArrow(midX, 290, midX, 320, '#94a3b8');

      drawBox(midX - 100, 330, 200, 50, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.4)',
        '2i / 2 = i', '#4ade80', 22);

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, sans-serif';
      ctx.fillText('(1+i)/(1-i) = i', midX, 415);
    }

    if (currentPhase === 2) {
      drawBox(midX - 100, 45, 200, 42, 'rgba(96,165,250,0.1)', '#60a5fa',
        'i\u00B2\u2070\u00B9\u2075 = ?', '#60a5fa', 18);

      drawArrow(midX, 100, midX, 130, '#94a3b8');

      drawBox(midX - 180, 140, 360, 42, 'rgba(167,139,250,0.12)', '#a78bfa',
        'Perioda stepena: i, -1, -i, 1, i, ...', '#a78bfa', 15);

      drawArrow(midX, 195, midX, 225, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('2015 = 4 \u00D7 503 + 3', midX + 140, 210);

      drawBox(midX - 130, 235, 260, 42, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.25)',
        'ostatak 3 \u2192 i\u00B3 = -i', '#34d399', 17);

      drawArrow(midX, 290, midX, 320, '#94a3b8');

      drawBox(midX - 100, 330, 200, 50, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.4)',
        'i\u00B2\u2070\u00B9\u2075 = -i', '#4ade80', 20);

      // Draw the cycle diagram
      var cx = midX, cy = 430;
      var r = 25;
      var labels = ['i', '-1', '-i', '1'];
      var angles = [-Math.PI/2, Math.PI, Math.PI/2, 0];
      var colors = ['#60a5fa', '#f472b6', '#4ade80', '#a78bfa'];
      for (var j = 0; j < 4; j++) {
        var px = cx + 50 * Math.cos(angles[j]);
        var py = cy + 25 * Math.sin(angles[j]);
        ctx.fillStyle = colors[j];
        ctx.font = 'bold 14px Segoe UI, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(labels[j], px, py);
      }
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.arc(cx, cy, 35, 0, 2 * Math.PI);
      ctx.stroke();
    }

    if (currentPhase === 3) {
      drawBox(midX - 140, 45, 280, 42, 'rgba(96,165,250,0.1)', '#60a5fa',
        '(-1+5ki) / (3i) = ?', '#60a5fa', 18);

      drawArrow(midX, 100, midX, 130, '#94a3b8');
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Mnozimo sa (-i)/(-i)', midX + 130, 115);

      drawBox(midX - 200, 140, 400, 42, 'rgba(167,139,250,0.12)', '#a78bfa',
        '(-1+5ki)(-i) / (3i \u00D7 (-i))', '#a78bfa', 15);

      drawArrow(midX - 80, 195, midX - 80, 225, '#94a3b8');
      drawArrow(midX + 80, 195, midX + 80, 225, '#94a3b8');

      drawBox(midX - 200, 235, 180, 50, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.25)',
        'Brojilac:\ni - 5ki\u00B2 = 5k + i', '#34d399', 13);

      drawBox(midX + 20, 235, 180, 50, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.2)',
        'Imenilac:\n-3i\u00B2 = 3', '#f472b6', 13);

      drawArrow(midX, 300, midX, 330, '#94a3b8');

      drawBox(midX - 140, 340, 280, 50, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.4)',
        '(5k + i)/3 = 5k/3 + i/3', '#4ade80', 17);

      ctx.fillStyle = '#f472b6';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.fillText('Re = 5k/3 (zavisi od k),  Im = 1/3', midX, 420);
    }

    if (currentPhase === 4) {
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Sabiramo: -i + (5k/3 + i/3) - 1', midX, 50);

      drawBox(midX - 210, 70, 420, 42, 'rgba(167,139,250,0.12)', '#a78bfa',
        'z = (5k/3 - 1) + (-2/3)i', '#a78bfa', 18);

      // Draw complex plane
      var ox = midX, oy = 250;
      var scale = 100;

      // Axes
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.setLineDash([]);
      ctx.beginPath();
      ctx.moveTo(ox - 200, oy);
      ctx.lineTo(ox + 200, oy);
      ctx.moveTo(ox, oy - 120);
      ctx.lineTo(ox, oy + 120);
      ctx.stroke();

      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Re', ox + 195, oy - 10);
      ctx.fillText('Im', ox + 15, oy - 115);

      // Horizontal line y = -2/3
      var imY = oy - (-2/3) * scale;
      ctx.strokeStyle = 'rgba(244,114,182,0.4)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([5, 5]);
      ctx.beginPath();
      ctx.moveTo(ox - 190, imY);
      ctx.lineTo(ox + 190, imY);
      ctx.stroke();
      ctx.setLineDash([]);

      ctx.fillStyle = '#f472b6';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('Im = -2/3', ox + 130, imY - 8);

      // Points for different k values
      var kValues = [0, 0.6, 1, -0.5];
      var kLabels = ['k=0', 'k=3/5', 'k=1', 'k=-1/2'];
      var kColors = ['#94a3b8', '#4ade80', '#60a5fa', '#a78bfa'];
      for (var j = 0; j < kValues.length; j++) {
        var kv = kValues[j];
        var rx = (5 * kv / 3 - 1) * scale;
        var ry = (-2/3) * scale;
        var px = ox + rx;
        var py = oy - ry;

        // Line from origin
        ctx.strokeStyle = kColors[j];
        ctx.lineWidth = j === 1 ? 2.5 : 1;
        ctx.globalAlpha = j === 1 ? 1 : 0.5;
        ctx.beginPath();
        ctx.moveTo(ox, oy);
        ctx.lineTo(px, py);
        ctx.stroke();
        ctx.globalAlpha = 1;

        // Point
        ctx.beginPath();
        ctx.arc(px, py, j === 1 ? 6 : 4, 0, 2 * Math.PI);
        ctx.fillStyle = kColors[j];
        ctx.fill();

        ctx.font = (j === 1 ? 'bold ' : '') + '11px Segoe UI, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(kLabels[j], px, py - 12);
      }

      // Minimum distance annotation
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Minimum: |z| = 2/3 za k = 3/5', midX, 400);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.fillText('(najkrace rastojanje od O do prave Im = -2/3)', midX, 420);
    }

    if (currentPhase === 5) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 28px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('Odgovor: k = 3/5', midX, 55);

      // Summary flow
      var y0 = 90;
      drawBox(20, y0, 190, 36, 'rgba(96,165,250,0.1)', '#60a5fa',
        '(1+i)/(1-i) = i', '#60a5fa', 13);
      drawArrow(210, y0 + 18, 230, y0 + 18, '#94a3b8');

      drawBox(230, y0, 170, 36, 'rgba(167,139,250,0.1)', '#a78bfa',
        'i\u00B2\u2070\u00B9\u2075 = i\u00B3 = -i', '#a78bfa', 13);
      drawArrow(400, y0 + 18, 420, y0 + 18, '#94a3b8');

      drawBox(420, y0, 210, 36, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)',
        '(-1+5ki)/(3i) = 5k/3+i/3', '#34d399', 12);

      drawArrow(midX, y0 + 45, midX, y0 + 65, '#94a3b8');

      drawBox(midX - 170, y0 + 75, 340, 36, 'rgba(167,139,250,0.12)', '#a78bfa',
        'z = (5k/3 - 1) + (-2/3)i', '#a78bfa', 15);

      drawArrow(midX, y0 + 120, midX, y0 + 145, '#94a3b8');

      drawBox(midX - 200, y0 + 155, 400, 36, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.2)',
        '|z| = \u221A((5k/3-1)\u00B2 + 4/9)', '#f472b6', 15);

      drawArrow(midX, y0 + 200, midX, y0 + 225, '#4ade80');

      drawBox(midX - 130, y0 + 235, 260, 45, 'rgba(74,222,128,0.15)', 'rgba(74,222,128,0.5)',
        'min za 5k/3 = 1 \u2192 k = 3/5', '#4ade80', 17);

      // Final box
      drawBox(midX - 110, y0 + 310, 220, 50, 'rgba(74,222,128,0.2)', 'rgba(74,222,128,0.6)',
        'k = 3/5,  |z|min = 2/3', '#4ade80', 16);

      // Checkmark
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(midX - 15, y0 + 395);
      ctx.lineTo(midX - 3, y0 + 408);
      ctx.lineTo(midX + 18, y0 + 382);
      ctx.stroke();

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 16px Segoe UI, sans-serif';
      ctx.fillText('Odgovor: (A) k = 3/5', midX + 80, y0 + 398);
    }

    // Button text update
    if (currentPhase >= maxPhase) {
      animBtn.textContent = 'Zavrseno';
      animBtn.style.opacity = '0.5';
    } else {
      animBtn.textContent = 'Sledeci korak';
      animBtn.style.opacity = '1';
    }
  }

  drawDiagram();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Moduo kompleksnog broja sa parametrom k",
  "subject": "math",
  "unit": "kompleksni_brojevi",
  "topic_tags": ["kompleksni brojevi", "moduo kompleksnog broja", "imaginarna jedinica", "minimizacija", "stepeni imaginarne jedinice"]
}
BRAINSPARK_META-->