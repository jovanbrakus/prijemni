<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska nejednačina sa apsolutnim vrednostima</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Solve: (|log_3|2x+3|| - 3) / (log_3 x) > 0

Multiple choice: the solution set is of the form:
(A) (a, b)
(B) (a, b] ∪ [c, d]
(C) (a, b) ∪ (b, c)
(D) (a, b) ∪ (c, +∞)
(E) (a, b) ∪ (b, c) ∪ (d, +∞)

DOMAIN:
- log_3(x) requires x > 0
- Also log_3(x) is the denominator, so log_3(x) ≠ 0, meaning x ≠ 1
- |2x+3| needs 2x+3 ≠ 0, i.e., x ≠ -3/2, but since x > 0 this is automatically satisfied
- For x > 0, |2x+3| = 2x+3 > 0, so log_3(|2x+3|) = log_3(2x+3)

So domain is (0, 1) ∪ (1, +∞).

NUMERATOR ANALYSIS: |log_3(2x+3)| - 3

For x > 0: 2x+3 > 3, so log_3(2x+3) > log_3(3) = 1 > 0.
Therefore |log_3(2x+3)| = log_3(2x+3) for all x > 0.

So numerator = log_3(2x+3) - 3.

Numerator = 0 when log_3(2x+3) = 3, i.e., 2x+3 = 27, x = 12.
Numerator > 0 when log_3(2x+3) > 3, i.e., 2x+3 > 27, x > 12.
Numerator < 0 when 0 < x < 12.

DENOMINATOR ANALYSIS: log_3(x)

log_3(x) > 0 when x > 1.
log_3(x) = 0 when x = 1 (excluded).
log_3(x) < 0 when 0 < x < 1.

SIGN TABLE:
Interval      | (0, 1)  | x=1   | (1, 12)  | x=12 | (12, +∞)
Numerator     |   -     | -     |    -     |   0  |    +
Denominator   |   -     | 0     |    +     |   +  |    +
Fraction      |   +     | undef |    -     |   0  |    +

Fraction > 0 on: (0, 1) ∪ (12, +∞)

This is of form (a, b) ∪ (c, +∞) with a=0, b=1, c=12.

ANSWER: (D) (a, b) ∪ (c, +∞)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 750px;
  touch-action: none;
}

.step-container {
  margin-bottom: 18px;
  padding: 18px;
  padding-left: 24px;
  background: rgba(30,41,59,0.5);
  border-left: 3px solid #334155;
  border-radius: 0 10px 10px 0;
  cursor: pointer;
  transition: border-color 0.25s, background 0.25s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  display: inline-block;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.8rem;
  padding: 3px 10px;
  border-radius: 20px;
  margin-bottom: 8px;
}

.step-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
  margin-bottom: 8px;
}

.step-text {
  color: #cbd5e1;
  font-size: 0.97rem;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
}

.insight-box h3 {
  color: #a78bfa;
  margin-bottom: 10px;
}

.final-answer {
  text-align: center;
  padding: 30px;
  border: 2px solid rgba(74,222,128,0.3);
  background: rgba(74,222,128,0.06);
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-box {
  padding: 12px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.6);
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  transition: all 0.3s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  padding-left: 16px;
  position: relative;
  color: #cbd5e1;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { padding: 8px 12px; min-width: 60px; }
  .given-item .value { font-size: 0.95rem; }
  .container { padding: 10px; }
}
</style>
</head>

<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Logaritamska nejednačina sa apsolutnim vrednostima</h1>
  <p class="subtitle">Analiza znaka razlomka sa logaritamskim izrazima i apsolutnim vrednostima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Skup svih realnih rešenja nejednačine</p>
    <div class="math-box">
      \[\frac{\left|\log_3 |2x + 3|\right| - 3}{\log_3 x} > 0\]
    </div>
    <p>je oblika (za neke realne brojeve \(a, b, c, d\) takve da je \(-\infty &lt; a &lt; b &lt; c &lt; d &lt; +\infty\)):</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((a,\, b)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\((a,\, b] \cup [c,\, d]\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\((a,\, b) \cup (b,\, c)\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((a,\, b) \cup (c,\, +\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\((a,\, b) \cup (b,\, c) \cup (d,\, +\infty)\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Odredićemo domen nejednačine, a zatim analizirati znak brojioca i imenioca zasebno. Razlomak je pozitivan kada su oba saglasnog znaka. Koristićemo tablicu znakova da nađemo konačan skup rešenja.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Domen logaritma:</strong> \(\log_a x\) je definisan za \(x > 0\) i \(a > 0,\; a \neq 1\).</li>
          <li><strong>Znak logaritma:</strong> Za \(a > 1\): \(\log_a x > 0 \iff x > 1\), i \(\log_a x < 0 \iff 0 < x < 1\).</li>
          <li><strong>Apsolutna vrednost i logaritam:</strong> \(|f(x)| > c \iff f(x) > c \;\text{ili}\; f(x) < -c\) za \(c > 0\).</li>
          <li><strong>Znak razlomka:</strong> \(\frac{A}{B} > 0 \iff\) \(A\) i \(B\) su istog znaka, tj. \((A > 0 \wedge B > 0)\) ili \((A < 0 \wedge B < 0)\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid — Interactive Sign Analysis -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz: Analiza znakova na brojevnoj osi</h2>
    <canvas id="signCanvas" width="750" height="400"></canvas>
    <p class="drag-hint">Interaktivni prikaz: pomerite miš preko brojevne ose da vidite vrednosti funkcija u svakoj tački</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">Korak 1</div>
      <h3 class="step-title">Određivanje domena</h3>
      <p class="step-text">Da bi razlomak bio definisan, moraju biti zadovoljeni sledeći uslovi:</p>
      <div class="math-box">
        \[\text{1) } x > 0 \quad (\text{za } \log_3 x)\]
        \[\text{2) } \log_3 x \neq 0 \implies x \neq 1\]
        \[\text{3) } |2x+3| > 0 \implies 2x + 3 \neq 0 \implies x \neq -\tfrac{3}{2}\]
      </div>
      <p class="step-text">Pošto \(x > 0\) automatski ispunjava uslov \(x \neq -\frac{3}{2}\), domen je:</p>
      <div class="math-box">
        \[\mathcal{D} = (0,\, 1) \cup (1,\, +\infty)\]
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">Korak 2</div>
      <h3 class="step-title">Pojednostavljivanje brojioca</h3>
      <p class="step-text">Za \(x > 0\), imamo \(2x + 3 > 3 > 0\), pa je \(|2x+3| = 2x+3\).</p>
      <p class="step-text">Takođe, \(\log_3(2x+3) > \log_3 3 = 1 > 0\) za sve \(x > 0\).</p>
      <p class="step-text">Zato je \(|\log_3(2x+3)| = \log_3(2x+3)\).</p>
      <div class="math-box">
        \[\text{Brojilac} = \log_3(2x+3) - 3\]
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri svoje razumevanje</summary>
      <p>Za koje vrednosti \(x\) važi \(\log_3(2x+3) = 3\)?</p>
      <p style="color: #4ade80; margin-top: 8px;"><strong>Odgovor:</strong> \(2x+3 = 27 \implies x = 12\)</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">Korak 3</div>
      <h3 class="step-title">Analiza znaka brojioca</h3>
      <p class="step-text">Potrebno je da odredimo kada je \(\log_3(2x+3) - 3\) pozitivno, a kada negativno.</p>
      <div class="math-box">
        \[\log_3(2x+3) - 3 = 0 \iff \log_3(2x+3) = 3 \iff 2x+3 = 3^3 = 27 \iff x = 12\]
      </div>
      <p class="step-text">Pošto je \(\log_3(2x+3)\) rastuća funkcija (osnova 3 > 1):</p>
      <div class="math-box">
        \[\log_3(2x+3) - 3 > 0 \iff x > 12\]
        \[\log_3(2x+3) - 3 < 0 \iff x < 12 \;\;(\text{u domenu, tj. } 0 < x < 12,\; x \neq 1)\]
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">Korak 4</div>
      <h3 class="step-title">Analiza znaka imenioca</h3>
      <p class="step-text">Imenilac je \(\log_3 x\). Pošto je osnova \(3 > 1\):</p>
      <div class="math-box">
        \[\log_3 x > 0 \iff x > 1\]
        \[\log_3 x < 0 \iff 0 < x < 1\]
        \[\log_3 x = 0 \iff x = 1 \;\;(\text{van domena})\]
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri svoje razumevanje</summary>
      <p>Kada je razlomak \(\frac{A}{B}\) pozitivan?</p>
      <p style="color: #4ade80; margin-top: 8px;"><strong>Odgovor:</strong> Kada su \(A\) i \(B\) istog znaka: oba pozitivna ili oba negativna.</p>
    </details>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">Korak 5</div>
      <h3 class="step-title">Tablica znakova</h3>
      <p class="step-text">Kritične tačke su \(x = 0\) (granica domena), \(x = 1\) (nula imenioca) i \(x = 12\) (nula brojioca). Posmatramo intervale:</p>
      <div class="math-box" style="overflow-x: auto;">
        \[\begin{array}{c|c|c|c|c}
 & (0,\,1) & x=1 & (1,\,12) & x=12 & (12,\,+\infty) \\
\hline
\text{Brojilac} & - & - & - & 0 & + \\
\hline
\text{Imenilac} & - & 0 & + & + & + \\
\hline
\text{Razlomak} & \mathbf{+} & \text{ndef.} & - & 0 & \mathbf{+}
\end{array}\]
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container">
      <div class="step-badge">Korak 6</div>
      <h3 class="step-title">Formiranje skupa rešenja</h3>
      <p class="step-text">Razlomak je <span class="highlight">strogo pozitivan</span> na intervalima gde su brojilac i imenilac istog znaka:</p>
      <div class="math-box">
        \[\text{Na } (0,\, 1)\text{: oba negativna} \implies \frac{(-)}{(-)} = (+) \quad \checkmark\]
        \[\text{Na } (12,\, +\infty)\text{: oba pozitivna} \implies \frac{(+)}{(+)} = (+) \quad \checkmark\]
      </div>
      <p class="step-text">Dakle, skup rešenja je:</p>
      <div class="math-box">
        \[S = (0,\, 1) \cup (12,\, +\infty)\]
      </div>
      <p class="step-text">Ovo je oblika \((a,\, b) \cup (c,\, +\infty)\) gde su \(a = 0\), \(b = 1\), \(c = 12\).</p>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri svoje razumevanje</summary>
      <p>Zašto tačka \(x = 12\) ne pripada skupu rešenja?</p>
      <p style="color: #4ade80; margin-top: 8px;"><strong>Odgovor:</strong> Za \(x = 12\), brojilac je \(0\), pa je ceo razlomak jednak \(0\). Nejednačina traži strogo \({>}\, 0\), tako da \(x = 12\) ne zadovoljava uslov.</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h3>Ključni uvid</h3>
    <p>Obe apsolutne vrednosti u zadatku se „poništavaju" na domenu \(x > 0\): pošto je \(2x + 3 > 0\) i \(\log_3(2x+3) > 0\), nejednačina se svodi na jednostavniju formu bez apsolutnih vrednosti. Čest trik na prijemnim ispitima!</p>
    <div class="math-box" style="text-align: center; font-size: 1.1rem;">
      \[\frac{\log_3(2x+3) - 3}{\log_3 x} > 0 \quad \Longrightarrow \quad S = (0,\, 1) \cup (12,\, +\infty)\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <div class="answer-label">Konačan odgovor</div>
    <div class="answer-value">(D) \((a,\, b) \cup (c,\, +\infty)\)</div>
    <p style="color: #e2e8f0; margin-bottom: 12px;">gde je \(a = 0\), \(b = 1\), \(c = 12\)</p>
    <div class="options-row">
      <div class="option-box">(A)</div>
      <div class="option-box">(B)</div>
      <div class="option-box">(C)</div>
      <div class="option-box correct">(D)</div>
      <div class="option-box">(E)</div>
    </div>
    <p class="verification-note"><strong>Verifikacija:</strong> Proverimo tačku iz svakog intervala. Za \(x = 0{,}5 \in (0, 1)\): \(\log_3(4) - 3 \approx -1{,}74\), \(\log_3(0{,}5) \approx -0{,}63\), razlomak \(\approx 2{,}76 > 0\) — važi. Za \(x = 5 \in (1, 12)\): razlomak \(\approx \frac{-0{,}27}{1{,}46} \approx -0{,}18 < 0\) — ne važi. Za \(x = 30 \in (12, +\infty)\): oba pozitivna, razlomak \(> 0\) — važi.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>Zaboraviti da je \(x > 0\) neophodan uslov za \(\log_3 x\), čime se gubi polovina analize apsolutnih vrednosti. Na domenu \(x > 0\), oba argumenta su pozitivna i logaritam je pozitivan, pa se apsolutne vrednosti jednostavno uklanjaju.</li>
      <li>Uključiti tačku \(x = 12\) u skup rešenja. Pošto nejednačina traži strogo \({>}\, 0\), tačka gde je brojilac nula ne pripada rešenju.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Kako bi se promenio skup rešenja da je nejednačina glasila \(\frac{|\log_3 |2x + 3|| - 3}{\log_3 x} \geq 0\) (sa \(\geq\) umesto \(>\))?</p>
    <details>
      <summary>Nagovještaj</summary>
      <p style="color: #cbd5e1;">Sada bi razlomak mogao biti i jednak nuli. Gde je brojilac nula, a imenilac različit od nule? Da li to dodaje tačku \(x = 12\) skupu rešenja? Razmislite i o tome da li imenilac može biti nula — ta tačka i dalje nije u domenu.</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('signCanvas');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  // Colors
  const BG = '#0c1222';
  const GRID = '#1e293b';
  const AXIS_COLOR = '#475569';
  const TEXT_COLOR = '#e2e8f0';
  const MUTED = '#94a3b8';
  const BLUE = '#60a5fa';
  const PURPLE = '#a78bfa';
  const GREEN = '#4ade80';
  const PINK = '#f472b6';
  const RED = '#f87171';

  // Coordinate mapping: domain [-.5, 15] -> canvas x
  const xMin = -0.5;
  const xMax = 15.5;
  const marginLeft = 60;
  const marginRight = 30;
  const plotW = W - marginLeft - marginRight;

  function toCanvasX(x) {
    return marginLeft + (x - xMin) / (xMax - xMin) * plotW;
  }

  function fromCanvasX(cx) {
    return xMin + (cx - marginLeft) / plotW * (xMax - xMin);
  }

  // Y layout: row positions
  const numberLineY = 80;
  const numRow = 150;
  const denRow = 220;
  const fracRow = 300;
  const solRow = 360;

  let hoverX = null;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = BLUE;
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tablica znakova na brojevnoj osi', W / 2, 30);

    // Number line
    ctx.strokeStyle = AXIS_COLOR;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(xMin + 0.2), numberLineY);
    ctx.lineTo(toCanvasX(xMax - 0.2), numberLineY);
    ctx.stroke();

    // Arrow at right end
    const arrowX = toCanvasX(xMax - 0.2);
    ctx.beginPath();
    ctx.moveTo(arrowX, numberLineY);
    ctx.lineTo(arrowX - 8, numberLineY - 5);
    ctx.lineTo(arrowX - 8, numberLineY + 5);
    ctx.closePath();
    ctx.fillStyle = AXIS_COLOR;
    ctx.fill();

    // Tick marks and labels
    const ticks = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';

    for (const t of ticks) {
      const cx = toCanvasX(t);
      ctx.strokeStyle = AXIS_COLOR;
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, numberLineY - 5);
      ctx.lineTo(cx, numberLineY + 5);
      ctx.stroke();

      ctx.fillStyle = MUTED;
      ctx.fillText(String(t), cx, numberLineY + 8);
    }

    // Critical points with special markers
    const criticalPoints = [
      { x: 0, label: '0', color: BLUE, desc: 'granica dom.' },
      { x: 1, label: '1', color: RED, desc: 'log\u2083x = 0' },
      { x: 12, label: '12', color: PURPLE, desc: 'brojilac = 0' }
    ];

    for (const cp of criticalPoints) {
      const cx = toCanvasX(cp.x);
      // Hollow circle for excluded points
      ctx.beginPath();
      ctx.arc(cx, numberLineY, 7, 0, Math.PI * 2);
      ctx.strokeStyle = cp.color;
      ctx.lineWidth = 2.5;
      ctx.stroke();
      ctx.fillStyle = BG;
      ctx.fill();

      // Description below
      ctx.fillStyle = cp.color;
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(cp.desc, cx, numberLineY + 24);
    }

    // Row labels
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';

    ctx.fillStyle = BLUE;
    ctx.fillText('Brojilac:', marginLeft - 10, numRow);
    ctx.fillStyle = PURPLE;
    ctx.fillText('Imenilac:', marginLeft - 10, denRow);
    ctx.fillStyle = TEXT_COLOR;
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Razlomak:', marginLeft - 10, fracRow);

    // Draw sign regions
    const regions = [
      // (0, 1): num -, den -, frac +
      { x1: 0, x2: 1, numSign: '-', denSign: '-', fracSign: '+', solution: true },
      // (1, 12): num -, den +, frac -
      { x1: 1, x2: 12, numSign: '-', denSign: '+', fracSign: '-', solution: false },
      // (12, +inf): num +, den +, frac +
      { x1: 12, x2: 15.3, numSign: '+', denSign: '+', fracSign: '+', solution: true }
    ];

    for (const r of regions) {
      const cx1 = toCanvasX(r.x1);
      const cx2 = toCanvasX(r.x2);
      const midX = (cx1 + cx2) / 2;

      // Numerator sign
      ctx.fillStyle = r.numSign === '+' ? GREEN : RED;
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(r.numSign, midX, numRow);

      // Denominator sign
      ctx.fillStyle = r.denSign === '+' ? GREEN : RED;
      ctx.fillText(r.denSign, midX, denRow);

      // Fraction sign (with background highlight for positive)
      if (r.solution) {
        ctx.fillStyle = 'rgba(74, 222, 128, 0.1)';
        ctx.fillRect(cx1 + 2, fracRow - 16, cx2 - cx1 - 4, 32);
        ctx.strokeStyle = 'rgba(74, 222, 128, 0.3)';
        ctx.lineWidth = 1;
        ctx.strokeRect(cx1 + 2, fracRow - 16, cx2 - cx1 - 4, 32);
      }
      ctx.fillStyle = r.solution ? GREEN : RED;
      ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
      ctx.fillText(r.fracSign, midX, fracRow);
    }

    // Solution row
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillStyle = GREEN;
    ctx.fillText('Rešenje:', marginLeft - 10, solRow);

    // Draw solution intervals on a line
    ctx.strokeStyle = AXIS_COLOR;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(xMin + 0.2), solRow);
    ctx.lineTo(toCanvasX(xMax - 0.2), solRow);
    ctx.stroke();

    // Solution interval (0, 1)
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), solRow);
    ctx.lineTo(toCanvasX(1), solRow);
    ctx.stroke();

    // Solution interval (12, +inf)
    ctx.beginPath();
    ctx.moveTo(toCanvasX(12), solRow);
    ctx.lineTo(toCanvasX(xMax - 0.2), solRow);
    ctx.stroke();

    // Arrow for infinity
    const arrX2 = toCanvasX(xMax - 0.2);
    ctx.beginPath();
    ctx.moveTo(arrX2, solRow);
    ctx.lineTo(arrX2 - 8, solRow - 4);
    ctx.lineTo(arrX2 - 8, solRow + 4);
    ctx.closePath();
    ctx.fillStyle = GREEN;
    ctx.fill();

    // Open circles at endpoints of solution
    const solEndpoints = [0, 1, 12];
    for (const p of solEndpoints) {
      const cx = toCanvasX(p);
      ctx.beginPath();
      ctx.arc(cx, solRow, 5, 0, Math.PI * 2);
      ctx.strokeStyle = GREEN;
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.fillStyle = BG;
      ctx.fill();
    }

    // Solution label
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S = (0, 1) \u222A (12, +\u221E)', W / 2, solRow + 28);

    // Dashed vertical lines at critical points
    ctx.setLineDash([4, 4]);
    ctx.lineWidth = 1;
    for (const cp of criticalPoints) {
      const cx = toCanvasX(cp.x);
      ctx.strokeStyle = cp.color;
      ctx.globalAlpha = 0.4;
      ctx.beginPath();
      ctx.moveTo(cx, numberLineY + 40);
      ctx.lineTo(cx, solRow - 10);
      ctx.stroke();
    }
    ctx.globalAlpha = 1;
    ctx.setLineDash([]);

    // Hover vertical line
    if (hoverX !== null && hoverX >= 0 && hoverX <= xMax) {
      const cx = toCanvasX(hoverX);
      ctx.setLineDash([3, 3]);
      ctx.strokeStyle = 'rgba(226, 232, 240, 0.3)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, 50);
      ctx.lineTo(cx, solRow + 10);
      ctx.stroke();
      ctx.setLineDash([]);

      // Show x value
      ctx.fillStyle = TEXT_COLOR;
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('x \u2248 ' + hoverX.toFixed(2).replace('.', ','), cx, 55);

      // Show actual function values if in domain
      if (hoverX > 0 && Math.abs(hoverX - 1) > 0.02) {
        const numVal = Math.log(2 * hoverX + 3) / Math.log(3) - 3;
        const denVal = Math.log(hoverX) / Math.log(3);
        const fracVal = numVal / denVal;

        ctx.font = '11px Courier New, monospace';
        ctx.fillStyle = numVal >= 0 ? GREEN : RED;
        ctx.fillText(numVal.toFixed(2).replace('.', ','), cx, numRow + 20);

        ctx.fillStyle = denVal >= 0 ? GREEN : RED;
        ctx.fillText(denVal.toFixed(2).replace('.', ','), cx, denRow + 20);

        ctx.fillStyle = fracVal > 0 ? GREEN : RED;
        ctx.fillText(fracVal.toFixed(2).replace('.', ','), cx, fracRow + 24);
      }
    }
  }

  function handleMove(clientX) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const canvasX = (clientX - rect.left) * scaleX;
    hoverX = fromCanvasX(canvasX);
    if (hoverX < -0.3 || hoverX > xMax) hoverX = null;
    draw();
  }

  canvas.addEventListener('mousemove', function(e) {
    handleMove(e.clientX);
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (e.touches.length > 0) {
      handleMove(e.touches[0].clientX);
    }
  });

  canvas.addEventListener('mouseleave', function() {
    hoverX = null;
    draw();
  });

  canvas.addEventListener('touchend', function() {
    hoverX = null;
    draw();
  });

  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      step.classList.toggle('active');
    });
  });

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska nejednačina sa apsolutnim vrednostima",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritamske nejednačine", "apsolutna vrednost", "analiza znaka", "domen funkcije", "tablica znakova"]
}
BRAINSPARK_META-->