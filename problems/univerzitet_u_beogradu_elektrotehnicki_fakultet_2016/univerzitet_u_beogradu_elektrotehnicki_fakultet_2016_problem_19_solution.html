<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Optimizacija odnosa zapremina lopte i kupe</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: A right circular cone has generatrices (slant lines) inclined at angle alpha
  to the base plane. A sphere is inscribed in the cone. Find tan(alpha/2) such that
  the ratio V_sphere / V_cone is maximized.

  Setup:
  Let l = slant height of the cone.
  The generatrix makes angle alpha with the base.
  - Height: h = l * sin(alpha)
  - Base radius: R = l * cos(alpha)

  Inscribed sphere radius (from axial cross-section incircle):
  The axial triangle is isosceles with base 2R and two equal sides l, height h.
  Area of axial triangle = R * h
  Semi-perimeter = (2R + 2l)/2 = R + l
  Incircle radius r = Area / semi-perimeter = R*h / (R + l)

  Substituting:
  r = l*cos(alpha) * l*sin(alpha) / (l*cos(alpha) + l)
    = l * cos(alpha) * sin(alpha) / (cos(alpha) + 1)

  Using half-angle identities:
  sin(alpha) = 2*sin(alpha/2)*cos(alpha/2)
  cos(alpha) + 1 = 2*cos^2(alpha/2)

  r = l * cos(alpha) * 2*sin(alpha/2)*cos(alpha/2) / (2*cos^2(alpha/2))
    = l * cos(alpha) * sin(alpha/2) / cos(alpha/2)
    = l * cos(alpha) * tan(alpha/2)

  Let t = tan(alpha/2).
  r = l * cos(alpha) * t

  Volumes:
  V_cone = (1/3) * pi * R^2 * h = (pi/3) * l^3 * cos^2(alpha) * sin(alpha)
  V_sphere = (4/3) * pi * r^3 = (4*pi/3) * l^3 * cos^3(alpha) * t^3

  Ratio:
  V_sphere / V_cone = [4 * cos^3(alpha) * t^3] / [cos^2(alpha) * sin(alpha)]
                     = 4 * cos(alpha) * t^3 / sin(alpha)
                     = 4 * t^3 / tan(alpha)

  Using tan(alpha) = 2t/(1-t^2):
  V_sphere / V_cone = 4 * t^3 * (1-t^2) / (2t) = 2 * t^2 * (1 - t^2)

  So f(t) = 2t^2 - 2t^4, for t in (0,1).

  f'(t) = 4t - 8t^3 = 4t(1 - 2t^2) = 0
  Since t > 0: 1 - 2t^2 = 0 => t^2 = 1/2 => t = 1/sqrt(2)

  f''(t) = 4 - 24t^2. At t=1/sqrt(2): f''= 4-12 = -8 < 0. Confirmed maximum.

  Maximum ratio: f(1/sqrt(2)) = 2*(1/2)*(1/2) = 1/2

  Answer: tan(alpha/2) = 1/sqrt(2), option (B).
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.15rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: all 0.3s ease;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-note {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 18px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  margin-top: 16px;
  padding: 12px 16px;
  background: rgba(52, 211, 153, 0.06);
  border-left: 3px solid #34d399;
  border-radius: 0 8px 8px 0;
  color: #94a3b8;
  font-size: 0.95rem;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.slider-container {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-top: 14px;
  justify-content: center;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.slider-container input[type="range"] {
  width: 280px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 600;
  font-size: 1rem;
  min-width: 120px;
}

.ratio-display {
  color: #4ade80;
  font-weight: 600;
  font-size: 1rem;
  min-width: 160px;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    justify-content: center;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
  .slider-container input[type="range"] {
    width: 200px;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Optimizacija odnosa zapremina upisane lopte i kupe</h1>
  <p class="subtitle">Stereometrija i matematicka analiza ‚Äî optimizacija pomocu izvoda, trigonometrija</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-text">
      <p>Izvodnice prave kruzne kupe nagnute su prema ravni osnove kupe pod uglom \( \alpha \), a u kupu je upisana lopta. Vrednost \( \tan\frac{\alpha}{2} \) tako da odnos \( V_l / V_k \) (zapremine lopte i zapremine kupe) ima najvecu mogucu vrednost, jednaka je:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\( 3 \)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\( \dfrac{1}{\sqrt{2}} \)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\( \sqrt{2} \)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\( \dfrac{1}{\sqrt{3}} \)</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\( \sqrt{3} \)</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Izrazicemo poluprecnik upisane lopte i dimenzije kupe preko ugla \( \alpha \) i izvodnice \( l \). Zatim formiramo funkciju odnosa zapremina \( f(t) \) gde je \( t = \tan\frac{\alpha}{2} \), i nalazimo njen maksimum pomocu prvog izvoda.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Kljucne formule i teoreme (klikni da otvoris)</summary>
      <div class="detail-content">
        <ul style="margin-left: 20px; margin-top: 8px;">
          <li style="margin-bottom: 10px;"><strong>Zapremina kupe:</strong> \( V_k = \frac{1}{3}\pi R^2 h \), gde je \( R \) poluprecnik osnove, \( h \) visina.</li>
          <li style="margin-bottom: 10px;"><strong>Zapremina lopte:</strong> \( V_l = \frac{4}{3}\pi r^3 \), gde je \( r \) poluprecnik lopte.</li>
          <li style="margin-bottom: 10px;"><strong>Poluprecnik upisane sfere u kupu:</strong> Iz aksijalnog preseka (jednakokraki trougao), poluprecnik upisanog kruga je \( r = \frac{P}{s} \), gde je \( P \) povrsina trougla, a \( s \) poluobim.</li>
          <li style="margin-bottom: 10px;"><strong>Formula dvostrukog ugla:</strong> \( \tan\alpha = \frac{2\tan\frac{\alpha}{2}}{1 - \tan^2\frac{\alpha}{2}} \)</li>
          <li style="margin-bottom: 10px;"><strong>Poluugaone veze:</strong> \( \sin\alpha = \frac{2\tan\frac{\alpha}{2}}{1 + \tan^2\frac{\alpha}{2}}, \quad \cos\alpha + 1 = 2\cos^2\frac{\alpha}{2} \)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid / Interactive Diagram -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Interaktivni dijagram</div>
    <div class="canvas-wrapper">
      <canvas id="cone-diagram" width="800" height="500"></canvas>
    </div>
    <div class="slider-container">
      <label>Ugao \( \alpha \):</label>
      <input type="range" id="alpha-slider" min="10" max="85" value="55" step="0.5">
      <span class="slider-value" id="alpha-display"></span>
      <span class="ratio-display" id="ratio-display"></span>
    </div>
    <p class="canvas-caption">Aksijalni presek kupe sa upisanom loptom. Pomeri klizac da vidis kako se menja odnos zapremina.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Dimenzije kupe preko ugla \( \alpha \)</div>
        <p>Neka je \( l \) duzina izvodnice kupe. Izvodnica zaklapa ugao \( \alpha \) sa ravni osnove. Iz pravouglog trougla formiranog izvodnicom, visinom i poluprecnikom osnove, odmah citamo:</p>
        <div class="step-math">
          \[ h = l\sin\alpha, \qquad R = l\cos\alpha \]
        </div>
        <p>Ovde je \( h \) visina kupe, a \( R \) poluprecnik osnove.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Poluprecnik upisane lopte</div>
        <p>Posmatrajmo aksijalni presek kupe ‚Äî to je jednakokraki trougao sa bazom \( 2R \) i kracima duzine \( l \), visine \( h \). Poluprecnik upisanog kruga u ovaj trougao jednak je:</p>
        <div class="step-math">
          \[ r = \frac{P}{s} \]
        </div>
        <p>gde je \( P \) povrsina, a \( s \) poluobim aksijalnog trougla.</p>
        <p>Povrsina aksijalnog trougla:</p>
        <div class="step-math">
          \[ P = \frac{1}{2} \cdot 2R \cdot h = R \cdot h \]
        </div>
        <p>Poluobim:</p>
        <div class="step-math">
          \[ s = \frac{2R + 2l}{2} = R + l \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ r = \frac{Rh}{R + l} = \frac{l\cos\alpha \cdot l\sin\alpha}{l\cos\alpha + l} = \frac{l\cos\alpha\sin\alpha}{\cos\alpha + 1} \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Pojednostavljenje pomocu poluugla</div>
        <p>Koristimo poluugaone identitete da uprostimo izraz za \( r \). Kljucni su:</p>
        <div class="step-math">
          \[ \sin\alpha = 2\sin\frac{\alpha}{2}\cos\frac{\alpha}{2}, \qquad \cos\alpha + 1 = 2\cos^2\frac{\alpha}{2} \]
        </div>
        <p>Uvrstimo u izraz za \( r \):</p>
        <div class="step-math">
          \[ r = \frac{l\cos\alpha \cdot 2\sin\frac{\alpha}{2}\cos\frac{\alpha}{2}}{2\cos^2\frac{\alpha}{2}} = l\cos\alpha \cdot \frac{\sin\frac{\alpha}{2}}{\cos\frac{\alpha}{2}} \]
        </div>
        <p>Prepoznajemo tangens poluugla:</p>
        <div class="step-math">
          \[ r = l\cos\alpha \cdot \tan\frac{\alpha}{2} \]
        </div>
        <p>Uvodimo smenu \( t = \tan\frac{\alpha}{2} \), pa je \( r = l \cdot t \cdot \cos\alpha \).</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Za \( \alpha = 45¬∞ \), koliko je \( r \) u odnosu na \( l \)?</summary>
        <div class="detail-content">
          <p>\( t = \tan 22{,}5¬∞ \approx 0{,}4142 \), \( \cos 45¬∞ \approx 0{,}7071 \)</p>
          <p>\( r \approx l \cdot 0{,}4142 \cdot 0{,}7071 \approx 0{,}293\,l \). Ovo izgleda razumno ‚Äî poluprecnik lopte je nesto manje od trecine izvodnice.</p>
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Formiramo odnos zapremina</div>
        <p>Zapremina kupe:</p>
        <div class="step-math">
          \[ V_k = \frac{1}{3}\pi R^2 h = \frac{\pi}{3}\,l^3 \cos^2\alpha\,\sin\alpha \]
        </div>
        <p>Zapremina lopte:</p>
        <div class="step-math">
          \[ V_l = \frac{4}{3}\pi r^3 = \frac{4\pi}{3}\,l^3 \cos^3\alpha\,t^3 \]
        </div>
        <p>Njihov odnos:</p>
        <div class="step-math">
          \[ \frac{V_l}{V_k} = \frac{\frac{4\pi}{3}\,l^3\cos^3\alpha\,t^3}{\frac{\pi}{3}\,l^3\cos^2\alpha\,\sin\alpha} = \frac{4\cos\alpha\,t^3}{\sin\alpha} = \frac{4t^3}{\tan\alpha} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Izrazimo sve preko \( t \)</div>
        <p>Koristimo formulu dvostrukog ugla za tangens:</p>
        <div class="step-math">
          \[ \tan\alpha = \frac{2t}{1 - t^2} \]
        </div>
        <p>Uvrstimo u odnos:</p>
        <div class="step-math">
          \[ \frac{V_l}{V_k} = \frac{4t^3}{\dfrac{2t}{1 - t^2}} = \frac{4t^3(1 - t^2)}{2t} = 2t^2(1 - t^2) \]
        </div>
        <p>Definisemo funkciju koju treba maksimizovati:</p>
        <div class="step-math">
          \[ f(t) = 2t^2 - 2t^4, \quad t \in (0,\,1) \]
        </div>
        <p style="color: #94a3b8; font-size: 0.95rem;">Primetimo da je \( l \) potpuno nestalo ‚Äî odnos zapremina ne zavisi od velicine kupe, vec samo od ugla!</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Zasto je \( t \in (0, 1) \)?</summary>
        <div class="detail-content">
          <p>Posto je \( \alpha \in (0¬∞,\,90¬∞) \) (izvodnica zaklapa ost ugao sa osnovom), sledi \( \frac{\alpha}{2} \in (0¬∞,\,45¬∞) \), pa je \( t = \tan\frac{\alpha}{2} \in (0,\,1) \).</p>
        </div>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Nalazimo maksimum ‚Äî prvi izvod</div>
        <p>Izracunajmo prvi izvod funkcije \( f(t) = 2t^2 - 2t^4 \):</p>
        <div class="step-math">
          \[ f'(t) = 4t - 8t^3 = 4t(1 - 2t^2) \]
        </div>
        <p>Postavljamo \( f'(t) = 0 \). Posto je \( t > 0 \), mozemo deliti sa \( 4t \):</p>
        <div class="step-math">
          \[ 1 - 2t^2 = 0 \quad \Longrightarrow \quad t^2 = \frac{1}{2} \quad \Longrightarrow \quad t = \frac{1}{\sqrt{2}} \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Potvrda da je u pitanju maksimum</div>
        <p>Proverimo znakom drugog izvoda:</p>
        <div class="step-math">
          \[ f''(t) = 4 - 24t^2 \]
        </div>
        <p>Za \( t = \frac{1}{\sqrt{2}} \):</p>
        <div class="step-math">
          \[ f''\!\left(\frac{1}{\sqrt{2}}\right) = 4 - 24 \cdot \frac{1}{2} = 4 - 12 = -8 < 0 \]
        </div>
        <p>Posto je \( f'' < 0 \), tacka \( t = \frac{1}{\sqrt{2}} \) jeste <strong>tacka maksimuma</strong>.</p>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-badge">8</div>
      <div class="step-content">
        <div class="step-title">Vrednost maksimalnog odnosa</div>
        <p>Izracunajmo koliki je najveci moguci odnos zapremina:</p>
        <div class="step-math">
          \[ f\!\left(\frac{1}{\sqrt{2}}\right) = 2 \cdot \frac{1}{2} \cdot \left(1 - \frac{1}{2}\right) = 2 \cdot \frac{1}{2} \cdot \frac{1}{2} = \frac{1}{2} \]
        </div>
        <p>Dakle, maksimalni odnos \( V_l / V_k = \frac{1}{2} \). To znaci da u optimalnom slucaju, lopta zauzima tacno polovinu zapremine kupe!</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koliki je ugao \( \alpha \) pri optimalnom odnosu?</summary>
        <div class="detail-content">
          <p>Iz \( \tan\frac{\alpha}{2} = \frac{1}{\sqrt{2}} \) sledi \( \frac{\alpha}{2} \approx 35{,}26¬∞ \), pa je \( \alpha \approx 70{,}53¬∞ \).</p>
          <p>To je kupa sa prilicno strmim izvodnicama ‚Äî ni previse plitka, ni previse siljata.</p>
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Elegancija ovog zadatka lezi u tome sto se smenom \( t = \tan\frac{\alpha}{2} \) odnos zapremina svodi na <strong>jednostavan polinom</strong> \( f(t) = 2t^2(1 - t^2) \) koji se lako maksimizuje. Slant height \( l \) se potpuno pokrati, sto znaci da optimalni ugao ne zavisi od velicine kupe. Pri optimalnom uglu, lopta zauzima tacno <strong>polovinu</strong> zapremine kupe ‚Äî izuzetno elegantan rezultat!</p>
    <div class="step-math" style="margin-top: 16px;">
      \[ \boxed{\tan\frac{\alpha}{2} = \frac{1}{\sqrt{2}}} \quad \Longrightarrow \quad \frac{V_l}{V_k}\bigg|_{\max} = \frac{1}{2} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( \tan\dfrac{\alpha}{2} = \dfrac{1}{\sqrt{2}} \)</div>
    <div class="answer-note">Tacan odgovor je (B)</div>
    <div class="final-options">
      <div class="final-option">(A) \( 3 \)</div>
      <div class="final-option correct">(B) \( \dfrac{1}{\sqrt{2}} \)</div>
      <div class="final-option">(C) \( \sqrt{2} \)</div>
      <div class="final-option">(D) \( \dfrac{1}{\sqrt{3}} \)</div>
      <div class="final-option">(E) \( \sqrt{3} \)</div>
    </div>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Za \( t = \frac{1}{\sqrt{2}} \), imamo \( f(t) = 2 \cdot \frac{1}{2} \cdot \frac{1}{2} = \frac{1}{2} \). Proverom za druge ponudjene vrednosti (npr. \( t = \frac{1}{\sqrt{3}} \): \( f = 2 \cdot \frac{1}{3} \cdot \frac{2}{3} = \frac{4}{9} < \frac{1}{2} \); \( t = \sqrt{2} \): \( f = 2 \cdot 2 \cdot (-1) < 0 \)) potvrdjujemo da je \( t = \frac{1}{\sqrt{2}} \) jedini maksimum na \( (0, 1) \).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresan izraz za poluprecnik upisane sfere:</strong> Mnogi studenti koriste formulu \( r = R\tan\frac{\alpha}{2} \) umesto \( r = \frac{Rh}{R+l} \). Iako obe daju isti rezultat (sto treba proveriti!), mnogo je sigurnije izvesti formulu iz aksijalnog preseka pomocu \( r = P/s \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje da je \( t \in (0, 1) \):</strong> Kriticna tacka \( t = \frac{1}{\sqrt{2}} \approx 0{,}707 \) mora biti u intervalu \( (0, 1) \). Neke ponudjene vrednosti (npr. \( \sqrt{2} \), \( \sqrt{3} \), \( 3 \)) su van ovog intervala i odmah se mogu odbaciti jer bi ugao \( \alpha/2 \) bio veci od \( 45¬∞ \), sto daje \( \alpha > 90¬∞ \) ‚Äî nemoguce za pravu kupu.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Umesto lopte upisane u kupu, razmotri cilindar upisan u istu kupu (sa bazom na osnovi kupe). Za koji ugao \( \alpha \) je odnos zapremina cilindra i kupe maksimalan, i koliki je taj odnos?</p>
    <details>
      <summary>Naputak</summary>
      <div class="detail-content">
        <p>Neka je poluprecnik cilindra \( \rho \) i visina cilindra \( h_c \). Iz slicnosti trouglova u aksijalnom preseku: \( h_c = h \cdot (1 - \rho/R) \). Zapremina cilindra je \( V_{cil} = \pi\rho^2 h_c \). Maksimizuj po \( \rho \) i pokazi da je optimalni odnos \( V_{cil}/V_k = 4/9 \), nezavisno od ugla \( \alpha \)!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('cone-diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const slider = document.getElementById('alpha-slider');
  const alphaDisplay = document.getElementById('alpha-display');
  const ratioDisplay = document.getElementById('ratio-display');

  function degToRad(d) { return d * Math.PI / 180; }

  function draw(alphaDeg) {
    const alpha = degToRad(alphaDeg);
    const t = Math.tan(alpha / 2);
    const ratio = 2 * t * t * (1 - t * t);
    const optT = 1 / Math.sqrt(2);
    const optRatio = 0.5;

    alphaDisplay.textContent = 'Œ± = ' + alphaDeg.toFixed(1).replace('.', ',') + '¬∞';
    ratioDisplay.textContent = 'V_l / V_k = ' + (ratio > 0 ? ratio.toFixed(4).replace('.', ',') : '‚Äî');

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Layout: left side = cone cross-section, right side = graph of f(t)
    var leftW = W * 0.48;
    var rightX = W * 0.52;
    var rightW = W * 0.45;

    // ---- LEFT: Cone cross-section ----
    var coneMargin = 30;
    var coneAreaW = leftW - 2 * coneMargin;
    var coneAreaH = H - 80;
    var baseCenterX = coneMargin + coneAreaW / 2;
    var baseCenterY = coneMargin + coneAreaH * 0.88;

    // Slant height in pixels (scale to fit)
    var lPx = Math.min(coneAreaW * 0.48, coneAreaH * 0.82);

    var hPx = lPx * Math.sin(alpha);
    var RPx = lPx * Math.cos(alpha);

    var apexX = baseCenterX;
    var apexY = baseCenterY - hPx;

    var baseLeftX = baseCenterX - RPx;
    var baseRightX = baseCenterX + RPx;

    // Inscribed sphere
    var rPx = RPx * hPx / (RPx + lPx);
    var sphereCenterY = baseCenterY - rPx;

    // Draw base line
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(baseLeftX, baseCenterY);
    ctx.lineTo(baseRightX, baseCenterY);
    ctx.stroke();

    // Draw triangle (cone cross-section)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(baseLeftX, baseCenterY);
    ctx.lineTo(apexX, apexY);
    ctx.lineTo(baseRightX, baseCenterY);
    ctx.closePath();
    ctx.stroke();

    // Fill triangle lightly
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.beginPath();
    ctx.moveTo(baseLeftX, baseCenterY);
    ctx.lineTo(apexX, apexY);
    ctx.lineTo(baseRightX, baseCenterY);
    ctx.closePath();
    ctx.fill();

    // Draw inscribed circle (sphere cross-section)
    if (rPx > 2) {
      // Glow
      var grad = ctx.createRadialGradient(baseCenterX, sphereCenterY, rPx * 0.5, baseCenterX, sphereCenterY, rPx * 1.3);
      grad.addColorStop(0, 'rgba(52, 211, 153, 0.15)');
      grad.addColorStop(1, 'rgba(52, 211, 153, 0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(baseCenterX, sphereCenterY, rPx * 1.3, 0, 2 * Math.PI);
      ctx.fill();

      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.arc(baseCenterX, sphereCenterY, rPx, 0, 2 * Math.PI);
      ctx.stroke();

      ctx.fillStyle = 'rgba(52, 211, 153, 0.08)';
      ctx.beginPath();
      ctx.arc(baseCenterX, sphereCenterY, rPx, 0, 2 * Math.PI);
      ctx.fill();

      // Radius dashed line
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(baseCenterX, sphereCenterY);
      ctx.lineTo(baseCenterX + rPx, sphereCenterY);
      ctx.stroke();
      ctx.setLineDash([]);

      // r label
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('r', baseCenterX + rPx / 2, sphereCenterY - 8);
    }

    // Height dashed line
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(baseCenterX, baseCenterY);
    ctx.lineTo(baseCenterX, apexY);
    ctx.stroke();
    ctx.setLineDash([]);

    // h label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('h', baseCenterX + 6, (baseCenterY + apexY) / 2);

    // R label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('R', baseCenterX + RPx / 2, baseCenterY + 20);

    // l label (slant height)
    var midSlantX = (baseCenterX + baseRightX) / 2 + 8;
    var midSlantY = (apexY + baseCenterY) / 2 - 8;
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('l', midSlantX, midSlantY);

    // Alpha angle arc
    if (RPx > 30) {
      var arcR = Math.min(40, RPx * 0.4);
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(baseRightX, baseCenterY, arcR, Math.PI, Math.PI + alpha, false);
      ctx.stroke();

      var labelAngle = Math.PI + alpha / 2;
      var labelR = arcR + 14;
      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Œ±', baseRightX + labelR * Math.cos(labelAngle), baseCenterY + labelR * Math.sin(labelAngle) + 4);
    }

    // Title for left diagram
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Aksijalni presek kupe', baseCenterX, H - 15);

    // ---- RIGHT: Graph of f(t) = 2t^2(1-t^2) ----
    var gMarginL = rightX + 40;
    var gMarginR = W - 25;
    var gMarginT = 45;
    var gMarginB = H - 50;
    var gW2 = gMarginR - gMarginL;
    var gH2 = gMarginB - gMarginT;

    // t range: 0 to 1
    function tToGx(tv) { return gMarginL + tv * gW2; }
    function fToGy(fv) { return gMarginB - (fv / 0.6) * gH2; }

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var fv = 0; fv <= 0.6; fv += 0.1) {
      ctx.beginPath();
      ctx.moveTo(gMarginL, fToGy(fv));
      ctx.lineTo(gMarginR, fToGy(fv));
      ctx.stroke();
    }
    for (var tv = 0; tv <= 1; tv += 0.2) {
      ctx.beginPath();
      ctx.moveTo(tToGx(tv), gMarginT);
      ctx.lineTo(tToGx(tv), gMarginB);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(gMarginL, gMarginB);
    ctx.lineTo(gMarginR, gMarginB);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(gMarginL, gMarginT);
    ctx.lineTo(gMarginL, gMarginB);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (var tv2 = 0; tv2 <= 1; tv2 += 0.2) {
      ctx.fillText(tv2.toFixed(1).replace('.', ','), tToGx(tv2), gMarginB + 16);
    }
    ctx.textAlign = 'right';
    for (var fv2 = 0; fv2 <= 0.55; fv2 += 0.1) {
      ctx.fillText(fv2.toFixed(1).replace('.', ','), gMarginL - 6, fToGy(fv2) + 4);
    }

    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('t = tan(Œ±/2)', (gMarginL + gMarginR) / 2, gMarginB + 34);

    ctx.save();
    ctx.translate(gMarginL - 34, (gMarginT + gMarginB) / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.textAlign = 'center';
    ctx.fillText('f(t) = V_l / V_k', 0, 0);
    ctx.restore();

    // Draw curve f(t) = 2t^2(1-t^2)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var steps = 200;
    for (var i = 0; i <= steps; i++) {
      var tv3 = i / steps;
      var fv3 = 2 * tv3 * tv3 * (1 - tv3 * tv3);
      var gx = tToGx(tv3);
      var gy = fToGy(Math.max(0, fv3));
      if (i === 0) ctx.moveTo(gx, gy);
      else ctx.lineTo(gx, gy);
    }
    ctx.stroke();

    // Optimal point
    var optGx = tToGx(optT);
    var optGy = fToGy(optRatio);

    // Dashed lines to optimal
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(optGx, gMarginB);
    ctx.lineTo(optGx, optGy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(gMarginL, optGy);
    ctx.lineTo(optGx, optGy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Optimal point dot
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(optGx, optGy, 6, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Optimal label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('max: 1/2', optGx + 10, optGy - 4);
    ctx.fillText('t = 1/‚àö2', optGx + 10, optGy + 14);

    // 0,5 label on y-axis
    ctx.fillStyle = '#4ade80';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('0,5', gMarginL - 6, fToGy(0.5) + 4);

    // Current point based on slider
    if (t > 0 && t < 1) {
      var curGx = tToGx(t);
      var curFv = 2 * t * t * (1 - t * t);
      var curGy = fToGy(Math.max(0, curFv));

      // Dashed lines
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath();
      ctx.moveTo(curGx, gMarginB);
      ctx.lineTo(curGx, curGy);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(gMarginL, curGy);
      ctx.lineTo(curGx, curGy);
      ctx.stroke();
      ctx.setLineDash([]);

      // Current point
      ctx.fillStyle = '#f472b6';
      ctx.beginPath();
      ctx.arc(curGx, curGy, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();
    }

    // Graph title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik funkcije f(t) = 2t¬≤(1 ‚àí t¬≤)', (gMarginL + gMarginR) / 2, 25);
  }

  // Initial draw
  draw(parseFloat(slider.value));

  // Slider event
  slider.addEventListener('input', function() {
    draw(parseFloat(this.value));
  });

  // Touch support
  canvas.addEventListener('touchstart', function(e) { e.preventDefault(); }, { passive: false });
  canvas.addEventListener('touchmove', function(e) { e.preventDefault(); }, { passive: false });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Optimizacija odnosa zapremina upisane lopte i kupe",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["optimizacija", "izvod", "zapremina kupe", "zapremina lopte", "upisana sfera", "trigonometrija", "stereometrija"]
}
BRAINSPARK_META-->