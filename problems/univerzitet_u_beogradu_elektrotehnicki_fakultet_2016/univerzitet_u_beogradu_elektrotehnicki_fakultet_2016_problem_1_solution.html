<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stepenovanje sa razlomljenim eksponentima</title>
<script type="text/info" id="logic-scratchpad">
Problem: Vrednost izraza 0,5^{1,5} * 0,25^{0,5} * 8^{-1,5}

Korak 1: Prevedimo sve baze na stepene broja 2
  0,5 = 1/2 = 2^(-1)
  0,25 = 1/4 = 2^(-2)
  8 = 2^3

Korak 2: Primenimo stepenovanje na svaki faktor
  0,5^{1,5} = (2^(-1))^{1,5} = 2^(-1 * 1,5) = 2^(-3/2)
  0,25^{0,5} = (2^(-2))^{0,5} = 2^(-2 * 0,5) = 2^(-1)
  8^{-1,5} = (2^3)^{-1,5} = 2^(3 * (-1,5)) = 2^(-9/2)

Korak 3: Pomnožimo (saberemo eksponente)
  2^(-3/2) * 2^(-1) * 2^(-9/2)
  = 2^(-3/2 + (-1) + (-9/2))
  = 2^(-3/2 + (-2/2) + (-9/2))
  = 2^((-3 - 2 - 9)/2)
  = 2^(-14/2)
  = 2^(-7)
  = 1/2^7

Korak 4: Provera
  2^(-7) = 1/128

  Provera direktno:
  0,5^{1,5} = 0,5 * 0,5^{0,5} = 0,5 * sqrt(0,5) = 0,5 * 0,70711... = 0,35355...
  0,25^{0,5} = sqrt(0,25) = 0,5
  8^{-1,5} = 1/(8^{1,5}) = 1/(8 * sqrt(8)) = 1/(8 * 2,82843) = 1/22,6274 = 0,04419...

  Proizvod: 0,35355 * 0,5 * 0,04419 = 0,35355 * 0,022097 = 0,007812...
  A 1/128 = 0,0078125 ✓

Odgovor: (C) 1/2^7
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 90px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

/* Conversion table */
.conversion-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
}

.conversion-table th,
.conversion-table td {
  padding: 10px 14px;
  border-bottom: 1px solid #334155;
  text-align: center;
}

.conversion-table th {
  color: #60a5fa;
  font-weight: 600;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.conversion-table td {
  color: #e2e8f0;
}

.conversion-table tr:hover td {
  background: rgba(96,165,250,0.06);
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Stepenovanje sa razlomljenim eksponentima</h1>
  <p class="subtitle">Stepeni broja 2, pravila stepenovanja i svodjenje na zajednicku osnovu</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Vrednost izraza \(0{,}5^{1{,}5} \cdot 0{,}25^{0{,}5} \cdot 8^{-1{,}5}\) jednaka je:</p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">Prvi faktor</div>
        <div class="value">\(0{,}5^{1{,}5}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Drugi faktor</div>
        <div class="value">\(0{,}25^{0{,}5}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Treci faktor</div>
        <div class="value">\(8^{-1{,}5}\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2^3\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{1}{2^5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{1}{2^7}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(2^{1{,}5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(1\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Kljuc je prepoznati da se svi brojevi u izrazu (\(0{,}5\), \(0{,}25\) i \(8\)) mogu zapisati kao stepeni broja \(2\). Kada sve svedemo na osnovu \(2\), primenimo pravila stepenovanja i saberemo eksponente.</p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <ul>
      <li><strong>Stepen stepena:</strong> \((a^m)^n = a^{m \cdot n}\) &mdash; eksponenti se mnoze.</li>
      <li><strong>Proizvod stepena sa istom osnovom:</strong> \(a^m \cdot a^n = a^{m+n}\) &mdash; eksponenti se sabiraju.</li>
      <li><strong>Negativan eksponent:</strong> \(a^{-n} = \dfrac{1}{a^n}\) &mdash; reciprocna vrednost.</li>
      <li><strong>Razlomljeni eksponent:</strong> \(a^{1/2} = \sqrt{a}\), \(a^{3/2} = a \cdot \sqrt{a}\) &mdash; razlomak u eksponentu oznacava koren.</li>
    </ul>
  </details>

  <!-- Canvas Visualization -->
  <div class="card canvas-card">
    <h2>Vizualizacija: Svodjenje na stepene broja 2</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Interaktivni prikaz kako se svaki faktor transformise u stepen broja 2 i kako se eksponenti sabiraju</p>
    <canvas id="viz-canvas" width="700" height="500"></canvas>
    <p class="canvas-hint">Kliknite na dugmad ispod da vidite svaki korak transformacije</p>
    <div style="display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin-top:12px;">
      <button id="btn-step-0" class="canvas-btn" style="background:#334155; color:#e2e8f0; border:1px solid #475569; border-radius:8px; padding:8px 16px; cursor:pointer; font-size:0.9rem; transition: all 0.2s;">Pocetni izraz</button>
      <button id="btn-step-1" class="canvas-btn" style="background:#334155; color:#e2e8f0; border:1px solid #475569; border-radius:8px; padding:8px 16px; cursor:pointer; font-size:0.9rem; transition: all 0.2s;">Pretvori u bazu 2</button>
      <button id="btn-step-2" class="canvas-btn" style="background:#334155; color:#e2e8f0; border:1px solid #475569; border-radius:8px; padding:8px 16px; cursor:pointer; font-size:0.9rem; transition: all 0.2s;">Primeni (a^m)^n</button>
      <button id="btn-step-3" class="canvas-btn" style="background:#334155; color:#e2e8f0; border:1px solid #475569; border-radius:8px; padding:8px 16px; cursor:pointer; font-size:0.9rem; transition: all 0.2s;">Saberi eksponente</button>
      <button id="btn-step-4" class="canvas-btn" style="background:#334155; color:#e2e8f0; border:1px solid #475569; border-radius:8px; padding:8px 16px; cursor:pointer; font-size:0.9rem; transition: all 0.2s;">Rezultat</button>
    </div>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Zapisimo decimalne brojeve kao razlomke</h3>
        <p>Pre svega, prepoznajmo sta su ovi brojevi:</p>
        <div class="math-box">
          \[ 0{,}5 = \frac{1}{2} \qquad \qquad 0{,}25 = \frac{1}{4} \qquad \qquad 8 = 8 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Zapisimo sve kao stepene broja 2</h3>
        <p>Ovo je <span class="highlight">kljucni korak</span> &mdash; svi ovi brojevi su stepeni dvojke:</p>
        <div class="math-box">
          \[ 0{,}5 = \frac{1}{2} = 2^{-1} \]
        </div>
        <div class="math-box">
          \[ 0{,}25 = \frac{1}{4} = \frac{1}{2^2} = 2^{-2} \]
        </div>
        <div class="math-box">
          \[ 8 = 2^3 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(2^{-2}\) u decimalnom zapisu?</summary>
      <p>\(2^{-2} = \dfrac{1}{2^2} = \dfrac{1}{4} = 0{,}25\) &check;</p>
    </details>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Zamenimo u izraz i primenimo pravilo \((a^m)^n = a^{m \cdot n}\)</h3>
        <p>Izraz postaje:</p>
        <div class="math-box">
          \[ (2^{-1})^{1{,}5} \cdot (2^{-2})^{0{,}5} \cdot (2^3)^{-1{,}5} \]
        </div>
        <p>Primenimo stepen stepena &mdash; mnozimo eksponente:</p>
        <div class="math-box">
          \[ 2^{(-1) \cdot 1{,}5} \cdot 2^{(-2) \cdot 0{,}5} \cdot 2^{3 \cdot (-1{,}5)} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Izracunajmo svaki eksponent</h3>
        <p>Pomnozimo eksponente u svakom faktoru:</p>
        <div class="math-box">
          \[ (-1) \cdot 1{,}5 = -\frac{3}{2} \]
        </div>
        <div class="math-box">
          \[ (-2) \cdot 0{,}5 = -1 \]
        </div>
        <div class="math-box">
          \[ 3 \cdot (-1{,}5) = -\frac{9}{2} \]
        </div>
        <p>Dakle izraz je:</p>
        <div class="math-box">
          \[ 2^{-3/2} \cdot 2^{-1} \cdot 2^{-9/2} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je \((-2) \cdot 0{,}5\)?</summary>
      <p>\((-2) \cdot 0{,}5 = (-2) \cdot \dfrac{1}{2} = -1\) &check;</p>
    </details>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Saberemo eksponente (pravilo \(a^m \cdot a^n = a^{m+n}\))</h3>
        <p>Posto su sve baze jednake (\(2\)), sabiramo eksponente. Najpre svedimo sve na zajednicki imenilac:</p>
        <div class="math-box">
          \[ -\frac{3}{2} + (-1) + \left(-\frac{9}{2}\right) = -\frac{3}{2} - \frac{2}{2} - \frac{9}{2} \]
        </div>
        <p>Sabiramo brojioce:</p>
        <div class="math-box">
          \[ = \frac{-3 - 2 - 9}{2} = \frac{-14}{2} = -7 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Zapisimo konacni rezultat</h3>
        <p>Izraz se svodi na:</p>
        <div class="math-box">
          \[ 2^{-7} = \frac{1}{2^7} \]
        </div>
        <p>To je odgovor <span class="highlight">(C)</span>.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(2^7\)?</summary>
      <p>\(2^7 = 128\), dakle \(\dfrac{1}{2^7} = \dfrac{1}{128} = 0{,}0078125\). To je veoma mali broj, sto ima smisla jer mnozimo male brojeve (\(0{,}5\) i \(0{,}25\)) i delimo sa velikim (\(8^{1{,}5}\)).</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Kad god u izrazu vidite brojeve poput \(0{,}5\), \(0{,}25\), \(0{,}125\), \(2\), \(4\), \(8\), \(16\), \(32\)... &mdash; sve su to <strong>stepeni broja 2</strong>. Prepoznavanje zajednicke osnove je najvazniji korak. Posle toga, ceo problem se svodi na <strong>sabiranje i mnozenje razlomaka</strong> u eksponentima.</p>
    <div class="math-box" style="text-align:center; font-size:1.2rem; margin-top:16px;">
      \[ 2^{-3/2} \cdot 2^{-1} \cdot 2^{-9/2} = 2^{\,(-3-2-9)/2} = 2^{-7} = \frac{1}{2^7} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">\(\dfrac{1}{2^7}\)</div>

    <div class="options-row">
      <div class="option-box">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(2^3\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(\dfrac{1}{2^5}\)</div>
      </div>
      <div class="option-box correct">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(\dfrac{1}{2^7}\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(2^{1{,}5}\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(1\)</div>
      </div>
    </div>

    <p class="verification"><strong>Verifikacija:</strong> Izracunajmo numericku vrednost: \(2^{-7} = \frac{1}{128} \approx 0{,}0078\). Proverimo direktno: \(0{,}5^{1{,}5} \approx 0{,}3536\), \(0{,}25^{0{,}5} = 0{,}5\), \(8^{-1{,}5} \approx 0{,}0442\). Proizvod: \(0{,}3536 \times 0{,}5 \times 0{,}0442 \approx 0{,}0078 = \frac{1}{128}\) &check;</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Pogresan znak eksponenta kod \(8^{-1{,}5}\):</strong> Mnogi zaborave negativan eksponent i racunaju \(2^{3 \cdot 1{,}5} = 2^{+9/2}\) umesto \(2^{-9/2}\). Obratite paznju na minus u \(8^{-1{,}5}\)!</li>
      <li><strong>Brkanje \(0{,}25 = 2^{-2}\) sa \(2^{-1}\):</strong> Cesta greska je pisati \(0{,}25 = 2^{-1}\). Zapamtite: \(0{,}25 = \frac{1}{4} = \frac{1}{2^2} = 2^{-2}\), ne \(2^{-1}\).</li>
      <li><strong>Greska u sabiranju razlomaka:</strong> Prilikom sabiranja \(-\frac{3}{2} - 1 - \frac{9}{2}\), ne zaboravite da \(-1 = -\frac{2}{2}\) kako biste mogli sabrati sve razlomke na zajednicki imenilac.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Izracunajte vrednost izraza: \(4^{-0{,}75} \cdot 16^{0{,}5} \cdot 0{,}125^{2/3}\)</p>
    <details>
      <summary>Pomoc</summary>
      <p>Koristite isti pristup &mdash; svedite sve na stepene broja 2: \(4 = 2^2\), \(16 = 2^4\), \(0{,}125 = \frac{1}{8} = 2^{-3}\). Zatim primenite pravilo stepenovanja i saberite eksponente.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });

  // Canvas visualization
  var canvas = document.getElementById('viz-canvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  var currentStep = 0;
  var animProgress = 0;
  var animTarget = 0;
  var animating = false;

  // Button references
  var buttons = [];
  for (var i = 0; i <= 4; i++) {
    buttons.push(document.getElementById('btn-step-' + i));
  }

  function setActiveButton(idx) {
    buttons.forEach(function(btn, j) {
      if (j === idx) {
        btn.style.background = '#60a5fa';
        btn.style.borderColor = '#60a5fa';
        btn.style.color = '#0f172a';
        btn.style.fontWeight = '700';
      } else {
        btn.style.background = '#334155';
        btn.style.borderColor = '#475569';
        btn.style.color = '#e2e8f0';
        btn.style.fontWeight = 'normal';
      }
    });
  }

  function drawBackground() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);
  }

  function drawTitle(text) {
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(text, W / 2, 32);
  }

  // Draw a rounded rectangle
  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
  }

  // Draw a factor box
  function drawFactorBox(x, y, topText, bottomText, color, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    var boxW = 180;
    var boxH = 70;
    var bx = x - boxW / 2;
    var by = y - boxH / 2;

    // Glow
    ctx.shadowColor = color;
    ctx.shadowBlur = 15;
    ctx.fillStyle = 'rgba(30,41,59,0.95)';
    roundRect(bx, by, boxW, boxH, 10);
    ctx.fill();
    ctx.shadowBlur = 0;

    // Border
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    roundRect(bx, by, boxW, boxH, 10);
    ctx.stroke();

    // Top text
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(topText, x, y - 10);

    // Bottom text (main value)
    ctx.fillStyle = color;
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText(bottomText, x, y + 18);

    ctx.restore();
  }

  // Draw multiplication dot
  function drawDot(x, y, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u00B7', x, y + 6);
    ctx.restore();
  }

  // Draw equals sign
  function drawEquals(x, y, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('=', x, y + 6);
    ctx.restore();
  }

  // Draw arrow
  function drawArrow(x1, y1, x2, y2, color, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    ctx.setLineDash([]);

    // Arrowhead
    var angle = Math.atan2(y2 - y1, x2 - x1);
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - 10 * Math.cos(angle - 0.3), y2 - 10 * Math.sin(angle - 0.3));
    ctx.lineTo(x2 - 10 * Math.cos(angle + 0.3), y2 - 10 * Math.sin(angle + 0.3));
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }

  // Draw a result box at bottom
  function drawResultBox(x, y, text, color, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    var boxW = 260;
    var boxH = 56;
    var bx = x - boxW / 2;
    var by = y - boxH / 2;

    ctx.shadowColor = color;
    ctx.shadowBlur = 20;
    ctx.fillStyle = 'rgba(30,41,59,0.95)';
    roundRect(bx, by, boxW, boxH, 12);
    ctx.fill();
    ctx.shadowBlur = 0;

    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    roundRect(bx, by, boxW, boxH, 12);
    ctx.stroke();

    ctx.fillStyle = color;
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(text, x, y + 7);
    ctx.restore();
  }

  // Draw exponent summation visualization
  function drawExponentBar(x, y, value, label, color, alpha) {
    ctx.save();
    ctx.globalAlpha = alpha;
    var barMaxW = 120;
    var barH = 22;
    var absVal = Math.abs(value);
    var maxAbsVal = 4.5;
    var barW = (absVal / maxAbsVal) * barMaxW;

    // Label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText(label, x - 10, y + 5);

    // Bar (negative goes left)
    ctx.fillStyle = color;
    roundRect(x, y - barH / 2, barW, barH, 4);
    ctx.fill();

    // Value
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText(value > 0 ? '+' + value : '' + value, x + barW + 8, y + 5);
    ctx.restore();
  }

  function drawScene(step) {
    drawBackground();

    var row1Y = 90;
    var row2Y = 200;
    var row3Y = 320;
    var row4Y = 430;

    if (step === 0) {
      drawTitle('Pocetni izraz');
      // Show original expression
      drawFactorBox(140, row1Y, 'Prvi faktor', '0,5 ^ 1,5', '#60a5fa', 1);
      drawDot(265, row1Y, 1);
      drawFactorBox(W / 2, row1Y, 'Drugi faktor', '0,25 ^ 0,5', '#a78bfa', 1);
      drawDot(W / 2 + 125, row1Y, 1);
      drawFactorBox(W - 140, row1Y, 'Treci faktor', '8 ^ (-1,5)', '#f472b6', 1);

      // Description
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Svi ovi brojevi su stepeni broja 2!', W / 2, row1Y + 70);

      // Show connection
      ctx.fillStyle = '#60a5fa';
      ctx.font = '15px Segoe UI, system-ui, sans-serif';
      ctx.fillText('0,5 = 1/2', 140, row2Y);
      ctx.fillStyle = '#a78bfa';
      ctx.fillText('0,25 = 1/4', W / 2, row2Y);
      ctx.fillStyle = '#f472b6';
      ctx.fillText('8 = 2\u00B3', W - 140, row2Y);
    }

    if (step === 1) {
      drawTitle('Korak 1: Pretvori u bazu 2');
      // Original row (faded)
      drawFactorBox(140, row1Y, 'Originalno', '0,5 ^ 1,5', '#60a5fa', 0.3);
      drawFactorBox(W / 2, row1Y, 'Originalno', '0,25 ^ 0,5', '#a78bfa', 0.3);
      drawFactorBox(W - 140, row1Y, 'Originalno', '8 ^ (-1,5)', '#f472b6', 0.3);

      // Arrows
      drawArrow(140, row1Y + 40, 140, row2Y - 40, '#60a5fa', 0.6);
      drawArrow(W / 2, row1Y + 40, W / 2, row2Y - 40, '#a78bfa', 0.6);
      drawArrow(W - 140, row1Y + 40, W - 140, row2Y - 40, '#f472b6', 0.6);

      // Converted row
      drawFactorBox(140, row2Y, '0,5 = 2\u207B\u00B9', '(2\u207B\u00B9)^1,5', '#60a5fa', 1);
      drawDot(265, row2Y, 1);
      drawFactorBox(W / 2, row2Y, '0,25 = 2\u207B\u00B2', '(2\u207B\u00B2)^0,5', '#a78bfa', 1);
      drawDot(W / 2 + 125, row2Y, 1);
      drawFactorBox(W - 140, row2Y, '8 = 2\u00B3', '(2\u00B3)^(-1,5)', '#f472b6', 1);

      // Rule reminder
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Sada primenjujemo: (a^m)^n = a^(m\u00B7n)', W / 2, row2Y + 70);
    }

    if (step === 2) {
      drawTitle('Korak 2: Primeni pravilo (a^m)^n = a^(m\u00B7n)');

      // Converted factors
      drawFactorBox(140, row1Y, '(-1) \u00D7 1,5', '2 ^ (-3/2)', '#60a5fa', 1);
      drawDot(265, row1Y, 1);
      drawFactorBox(W / 2, row1Y, '(-2) \u00D7 0,5', '2 ^ (-1)', '#a78bfa', 1);
      drawDot(W / 2 + 125, row1Y, 1);
      drawFactorBox(W - 140, row1Y, '3 \u00D7 (-1,5)', '2 ^ (-9/2)', '#f472b6', 1);

      // Exponent calculation details
      var calcY = row2Y - 10;
      ctx.fillStyle = '#60a5fa';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('(-1) \u00D7 1,5 = -1,5 = -3/2', 140, calcY);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('(-2) \u00D7 0,5 = -1 = -2/2', W / 2, calcY);

      ctx.fillStyle = '#f472b6';
      ctx.fillText('3 \u00D7 (-1,5) = -4,5 = -9/2', W - 140, calcY);

      // Rule
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Ista baza \u2192 sabiramo eksponente: a^m \u00B7 a^n = a^(m+n)', W / 2, calcY + 50);
    }

    if (step === 3) {
      drawTitle('Korak 3: Sabiramo eksponente');

      // Show the three exponents as bars
      var barBaseX = 300;
      var barStartY = 90;
      var barSpacing = 60;

      // Factor boxes on left
      ctx.fillStyle = '#60a5fa';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('2^(-3/2)', barBaseX - 50, barStartY + 5);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('2^(-1)', barBaseX - 50, barStartY + barSpacing + 5);

      ctx.fillStyle = '#f472b6';
      ctx.fillText('2^(-9/2)', barBaseX - 50, barStartY + 2 * barSpacing + 5);

      // Bars representing exponent magnitude
      var barScale = 30; // pixels per unit

      // -3/2 bar
      var bar1W = 1.5 * barScale;
      ctx.fillStyle = 'rgba(96,165,250,0.5)';
      roundRect(barBaseX, barStartY - 12, bar1W, 26, 4);
      ctx.fill();
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 1;
      roundRect(barBaseX, barStartY - 12, bar1W, 26, 4);
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('-3/2 = -1,5', barBaseX + bar1W + 10, barStartY + 5);

      // -1 bar (= -2/2)
      var bar2W = 1 * barScale;
      ctx.fillStyle = 'rgba(167,139,250,0.5)';
      roundRect(barBaseX, barStartY + barSpacing - 12, bar2W, 26, 4);
      ctx.fill();
      ctx.strokeStyle = '#a78bfa';
      ctx.lineWidth = 1;
      roundRect(barBaseX, barStartY + barSpacing - 12, bar2W, 26, 4);
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText('-2/2 = -1', barBaseX + bar2W + 10, barStartY + barSpacing + 5);

      // -9/2 bar
      var bar3W = 4.5 * barScale;
      ctx.fillStyle = 'rgba(244,114,182,0.5)';
      roundRect(barBaseX, barStartY + 2 * barSpacing - 12, bar3W, 26, 4);
      ctx.fill();
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 1;
      roundRect(barBaseX, barStartY + 2 * barSpacing - 12, bar3W, 26, 4);
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText('-9/2 = -4,5', barBaseX + bar3W + 10, barStartY + 2 * barSpacing + 5);

      // Divider line
      var divY = barStartY + 2 * barSpacing + 35;
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(barBaseX - 80, divY);
      ctx.lineTo(barBaseX + 250, divY);
      ctx.stroke();

      // Plus signs
      ctx.fillStyle = '#94a3b8';
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('+', barBaseX - 30, barStartY + barSpacing / 2 + 5);
      ctx.fillText('+', barBaseX - 30, barStartY + 1.5 * barSpacing + 5);

      // Sum
      var sumY = divY + 45;
      ctx.fillStyle = '#94a3b8';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('Zbir:', barBaseX - 50, sumY + 5);

      // Sum bar
      var sumW = 7 * barScale;
      ctx.fillStyle = 'rgba(74,222,128,0.3)';
      roundRect(barBaseX, sumY - 14, sumW, 30, 4);
      ctx.fill();
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      roundRect(barBaseX, sumY - 14, sumW, 30, 4);
      ctx.stroke();

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('-14/2 = -7', barBaseX + sumW + 10, sumY + 5);

      // Calculation detail
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('(-3 - 2 - 9) / 2 = -14 / 2 = -7', W / 2, sumY + 55);

      // Result
      drawResultBox(W / 2, sumY + 110, '2^(-7) = 1 / 2\u2077', '#4ade80', 1);
    }

    if (step === 4) {
      drawTitle('Rezultat');

      // Show the full transformation chain
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('0,5^1,5 \u00B7 0,25^0,5 \u00B7 8^(-1,5)', W / 2, 70);

      drawArrow(W / 2, 82, W / 2, 108, '#60a5fa', 0.5);

      ctx.fillStyle = '#60a5fa';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('(2\u207B\u00B9)^1,5 \u00B7 (2\u207B\u00B2)^0,5 \u00B7 (2\u00B3)^(-1,5)', W / 2, 125);

      drawArrow(W / 2, 137, W / 2, 163, '#a78bfa', 0.5);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('2^(-3/2) \u00B7 2^(-1) \u00B7 2^(-9/2)', W / 2, 180);

      drawArrow(W / 2, 192, W / 2, 218, '#f472b6', 0.5);

      ctx.fillStyle = '#f472b6';
      ctx.fillText('2^(-3/2 + (-1) + (-9/2))', W / 2, 235);

      drawArrow(W / 2, 247, W / 2, 273, '#34d399', 0.5);

      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.fillText('2^(-14/2) = 2^(-7)', W / 2, 290);

      // Big result box
      drawResultBox(W / 2, 370, '1 / 2\u2077 = 1 / 128', '#4ade80', 1);

      // Answer label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Odgovor: (C)', W / 2, 430);

      // Decorative check
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 30px Segoe UI, system-ui, sans-serif';
      ctx.fillText('\u2713', W / 2, 470);
    }
  }

  function render() {
    drawScene(currentStep);
  }

  // Button click handlers
  buttons.forEach(function(btn, idx) {
    btn.addEventListener('click', function() {
      currentStep = idx;
      setActiveButton(idx);
      render();
    });
  });

  // Touch support for buttons
  buttons.forEach(function(btn, idx) {
    btn.addEventListener('touchend', function(e) {
      e.preventDefault();
      currentStep = idx;
      setActiveButton(idx);
      render();
    });
  });

  // Initial render
  setActiveButton(0);
  render();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Stepenovanje sa razlomljenim eksponentima - svodjenje na osnovu 2",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["stepenovanje", "razlomljeni eksponenti", "stepeni broja 2", "pravila stepenovanja", "decimalni brojevi"]
}
BRAINSPARK_META-->