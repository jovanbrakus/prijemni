<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Precnik kruga kroz presek normalnih tetiva</title>
<script type="text/info" id="logic-scratchpad">
Problem: Tetive kruga AB i CD su medjusobno normalne i seku se u tacki M.
AM = 3, MB = 4, CM = 2, MD = 6. Naci precnik kruga.

Korak 1: Provera teoreme o preseku tetiva
AM * MB = CM * MD
3 * 4 = 12
2 * 6 = 12
Obe strane su jednake => tacka M zaista lezi unutar kruga i tetive se seku u njoj.

Korak 2: Postavimo koordinatni sistem
Posto su tetive medjusobno normalne (tj. pod uglom od 90 stepeni), mozemo postaviti:
- M u koordinatni pocetak (0, 0)
- AB duz x-ose
- CD duz y-ose

Tacke:
A = (-3, 0)   (jer AM = 3, levo od M)
B = (4, 0)    (jer MB = 4, desno od M)
C = (0, 2)    (jer CM = 2, gore od M)
D = (0, -6)   (jer MD = 6, dole od M)

Korak 3: Jednacina kruga
Krug prolazi kroz sve cetiri tacke. Neka je centar (h, k) i poluprecnik r.
Jednacina: (x - h)^2 + (y - k)^2 = r^2

Iz tacaka A i B (obe na x-osi, y = 0):
(i)  (-3 - h)^2 + k^2 = r^2
(ii) (4 - h)^2 + k^2 = r^2

Oduzimanjem (i) - (ii):
(-3 - h)^2 - (4 - h)^2 = 0
(9 + 6h + h^2) - (16 - 8h + h^2) = 0
9 + 6h - 16 + 8h = 0
14h - 7 = 0
h = 1/2

Iz tacaka C i D (obe na y-osi, x = 0):
(iii) h^2 + (2 - k)^2 = r^2
(iv)  h^2 + (-6 - k)^2 = r^2

Oduzimanjem (iii) - (iv):
(2 - k)^2 - (-6 - k)^2 = 0
(4 - 4k + k^2) - (36 + 12k + k^2) = 0
4 - 4k - 36 - 12k = 0
-16k - 32 = 0
k = -2

Korak 4: Racunamo poluprecnik
r^2 = (-3 - 1/2)^2 + (-2)^2
    = (-7/2)^2 + 4
    = 49/4 + 16/4
    = 65/4

r = sqrt(65)/2

Korak 5: Precnik
d = 2r = 2 * sqrt(65)/2 = sqrt(65)

Provera sa tackom B:
(4 - 1/2)^2 + (0 - (-2))^2 = (7/2)^2 + 4 = 49/4 + 16/4 = 65/4 = r^2 ✓

Provera sa tackom C:
(0 - 1/2)^2 + (2 - (-2))^2 = 1/4 + 16 = 1/4 + 64/4 = 65/4 = r^2 ✓

Provera sa tackom D:
(0 - 1/2)^2 + (-6 - (-2))^2 = 1/4 + 16 = 1/4 + 64/4 = 65/4 = r^2 ✓

Odgovor: (C) sqrt(65)

Alternativni metod (formula za poluprecnik kruga preko normalnih tetiva):
Ako su tetive AB i CD normalne i seku se u M, tada:
AB = AM + MB = 3 + 4 = 7
CD = CM + MD = 2 + 6 = 8

Neka su a = AM = 3, b = MB = 4, c = CM = 2, d = MD = 6.
Centar kruga je na rastojanju (b - a)/2 = (4 - 3)/2 = 1/2 od M duz AB
i na rastojanju (d - c)/2 = (6 - 2)/2 = 2 od M duz CD (prema D).

Poluprecnik:
r^2 = ((b-a)/2)^2 + ((d-c)/2)^2 + ... NE, bolje koristiti koordinatni metod gore.

Koristecu jos jednu alternativu za proveru:
r^2 = AM * MB + CM * MD + ((AM-MB)/2)^2 + ((CM-MD)/2)^2
Hmm, to bi trebalo da bude:
r^2 = h^2 + k^2 + ah + ck + ... ne, bolje koristimo konkretan izracun.

Iz jednacine kruga sa centrom (1/2, -2):
r^2 = (3 + 1/2)^2 + (0 + 2)^2 = 49/4 + 4 = 49/4 + 16/4 = 65/4

Precnik = 2r = 2 * sqrt(65/4) = 2 * sqrt(65)/2 = sqrt(65)

Odgovor je (C) sqrt(65).
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
  font-style: italic;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 90px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Precnik kruga kroz presek normalnih tetiva</h1>
  <p class="subtitle">Geometrija kruga, teorema o preseku tetiva i koordinatni metod</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Tetive kruga su \(AB\) i \(CD\), medjusobno su normalne i seku se u tacki \(M\) tako da je \(AM = 3\) cm, \(MB = 4\) cm, \(CM = 2\) cm i \(MD = 6\) cm. Precnik tog kruga je jednak (u cm):</p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">AM</div>
        <div class="value">\(3\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">MB</div>
        <div class="value">\(4\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">CM</div>
        <div class="value">\(2\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">MD</div>
        <div class="value">\(6\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Ugao</div>
        <div class="value">\(AB \perp CD\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(8\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt{75}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\sqrt{65}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(10\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2\sqrt{38}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Posto su tetive medjusobno normalne (grade ugao od \(90°\)), postavicemo koordinatni sistem sa centrom u tacki \(M\) i osama duz tetiva. Iz uslova da sve cetiri tacke leze na istom krugu, odredicemo centar i poluprecnik, a zatim i precnik kruga.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul>
        <li><strong>Teorema o preseku tetiva:</strong> Ako se dve tetive \(AB\) i \(CD\) kruga seku u tacki \(M\), tada vazi \(AM \cdot MB = CM \cdot MD\).</li>
        <li><strong>Jednacina kruga:</strong> Krug sa centrom \((h, k)\) i poluprecnikom \(r\) ima jednacinu \((x - h)^2 + (y - k)^2 = r^2\).</li>
        <li><strong>Precnik kruga:</strong> \(d = 2r\), gde je \(r\) poluprecnik.</li>
        <li><strong>Koordinatni metod:</strong> Ako je poznato da tacke leze na krugu, mozemo iz sistema jednacina odrediti centar \((h, k)\) i poluprecnik \(r\).</li>
      </ul>
    </details>
  </div>

  <!-- Interactive Canvas -->
  <div class="card canvas-card">
    <h2>Interaktivni dijagram</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Krug sa dve normalne tetive \(AB\) i \(CD\) koje se seku u tacki \(M\)</p>
    <canvas id="geo-canvas" width="700" height="600"></canvas>
    <p class="drag-hint">Prevucite tacku M da vidite kako se geometrija menja pri razlicitim pozicijama preseka</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Proverimo teoremu o preseku tetiva</h3>
        <p>Pre svega, proverimo da su dati podaci konzistentni. Po teoremi o preseku tetiva, mora da vazi:</p>
        <div class="math-box">
          \[ AM \cdot MB = CM \cdot MD \]
        </div>
        <p>Racunamo:</p>
        <div class="math-box">
          \[ 3 \cdot 4 = 12 \quad \text{i} \quad 2 \cdot 6 = 12 \]
        </div>
        <p>Obe strane su jednake <span style="color:#4ade80; font-weight:700;">12</span>, sto znaci da su podaci ispravni.</p>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Postavimo koordinatni sistem</h3>
        <p>Posto su tetive <span class="highlight">medjusobno normalne</span> (grade ugao od \(90°\)), prirodno je da postavimo koordinatni sistem tako da:</p>
        <div class="math-box">
          \[ M = (0,\, 0), \quad AB \text{ duz } x\text{-ose}, \quad CD \text{ duz } y\text{-ose} \]
        </div>
        <p>Tada su koordinate tacaka:</p>
        <div class="math-box">
          \[ A = (-3,\, 0), \quad B = (4,\, 0), \quad C = (0,\, 2), \quad D = (0,\, -6) \]
        </div>
        <p>Ovde smo izabrali da je \(A\) levo od \(M\), \(B\) desno, \(C\) iznad i \(D\) ispod. Izbor orijentacije ne utice na krajnji rezultat.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je rastojanje od A do B?</summary>
      <p>\(AB = AM + MB = 3 + 4 = 7\). U koordinatama: \(|4 - (-3)| = 7\). Takodje, \(CD = CM + MD = 2 + 6 = 8\).</p>
    </details>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Napisimo jednacine za centar kruga</h3>
        <p>Neka je centar kruga \(O = (h,\, k)\) i poluprecnik \(r\). Sve cetiri tacke leze na krugu, pa vazi:</p>
        <div class="math-box">
          \[ \begin{align}
          (A): \quad &(-3 - h)^2 + k^2 = r^2 \\
          (B): \quad &(4 - h)^2 + k^2 = r^2 \\
          (C): \quad &h^2 + (2 - k)^2 = r^2 \\
          (D): \quad &h^2 + (-6 - k)^2 = r^2
          \end{align} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Odredimo \(h\) iz tacaka A i B</h3>
        <p>Izjednacimo jednacine za tacke \(A\) i \(B\) (obe imaju \(k^2\) sa iste strane):</p>
        <div class="math-box">
          \[ (-3 - h)^2 + k^2 = (4 - h)^2 + k^2 \]
        </div>
        <p>Skracujemo \(k^2\) sa obe strane:</p>
        <div class="math-box">
          \[ (-3 - h)^2 = (4 - h)^2 \]
        </div>
        <p>Razvijamo:</p>
        <div class="math-box">
          \[ 9 + 6h + h^2 = 16 - 8h + h^2 \]
        </div>
        <p>Skracujemo \(h^2\) i sredimo:</p>
        <div class="math-box">
          \[ 14h = 7 \quad \Rightarrow \quad h = \frac{1}{2} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Odredimo \(k\) iz tacaka C i D</h3>
        <p>Analogno, izjednacimo jednacine za tacke \(C\) i \(D\) (obe imaju \(h^2\)):</p>
        <div class="math-box">
          \[ h^2 + (2 - k)^2 = h^2 + (-6 - k)^2 \]
        </div>
        <p>Skracujemo \(h^2\):</p>
        <div class="math-box">
          \[ (2 - k)^2 = (-6 - k)^2 \]
        </div>
        <p>Razvijamo:</p>
        <div class="math-box">
          \[ 4 - 4k + k^2 = 36 + 12k + k^2 \]
        </div>
        <p>Skracujemo \(k^2\) i sredimo:</p>
        <div class="math-box">
          \[ -16k = 32 \quad \Rightarrow \quad k = -2 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Gde se nalazi centar kruga u odnosu na tacku M?</summary>
      <p>Centar je \(O = \left(\frac{1}{2},\, -2\right)\). Nalazi se desno i ispod tacke \(M\) (koordinatnog pocetka). To ima smisla jer je tetiva \(AB\) blago nesimetricna (\(MB > AM\)), pa je centar blize strani \(B\), a tetiva \(CD\) je takodje nesimetricna (\(MD > CM\)), pa je centar blize strani \(D\).</p>
    </details>

    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izracunamo poluprecnik \(r\)</h3>
        <p>Centar kruga je \(O = \left(\frac{1}{2},\, -2\right)\). Ubacujemo u jednacinu za tacku \(A = (-3,\, 0)\):</p>
        <div class="math-box">
          \[ r^2 = \left(-3 - \frac{1}{2}\right)^2 + (0 - (-2))^2 \]
        </div>
        <p>Racunamo:</p>
        <div class="math-box">
          \[ r^2 = \left(-\frac{7}{2}\right)^2 + 2^2 = \frac{49}{4} + 4 = \frac{49}{4} + \frac{16}{4} = \frac{65}{4} \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ r = \frac{\sqrt{65}}{2} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Izracunamo precnik</h3>
        <p>Precnik je dvostruki poluprecnik:</p>
        <div class="math-box">
          \[ d = 2r = 2 \cdot \frac{\sqrt{65}}{2} = \sqrt{65} \]
        </div>
      </div>
    </div>

    <div class="step" id="step-8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Provera sa ostalim tackama</h3>
        <p>Proverimo da li sve tacke zaista leze na krugu sa centrom \(\left(\frac{1}{2},\, -2\right)\) i \(r^2 = \frac{65}{4}\):</p>
        <div class="math-box">
          \[ B = (4,\, 0): \quad \left(4 - \frac{1}{2}\right)^2 + (0+2)^2 = \frac{49}{4} + 4 = \frac{65}{4} \;\; \checkmark \]
        </div>
        <div class="math-box">
          \[ C = (0,\, 2): \quad \left(0 - \frac{1}{2}\right)^2 + (2+2)^2 = \frac{1}{4} + 16 = \frac{65}{4} \;\; \checkmark \]
        </div>
        <div class="math-box">
          \[ D = (0,\, -6): \quad \left(0 - \frac{1}{2}\right)^2 + (-6+2)^2 = \frac{1}{4} + 16 = \frac{65}{4} \;\; \checkmark \]
        </div>
        <p>Sve cetiri tacke zadovoljavaju jednacinu kruga.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je priblizno \(\sqrt{65}\)?</summary>
      <p>\(\sqrt{64} = 8\) i \(\sqrt{81} = 9\), pa je \(\sqrt{65} \approx 8{,}06\). To je razumna vrednost za precnik kruga u ovom problemu.</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Kada su dve tetive kruga <strong>medjusobno normalne</strong>, mozemo postaviti koordinatni sistem sa osama duz tetiva i presecnom tackom u koordinatnom pocetku. Centar kruga lezi na preseku <strong>simetrala tetiva</strong>. Simetrala tetive \(AB\) je na rastojanju \(\frac{MB - AM}{2} = \frac{1}{2}\) od \(M\) duz \(AB\), a simetrala tetive \(CD\) je na rastojanju \(\frac{MD - CM}{2} = 2\) od \(M\) duz \(CD\). Ovo daje centar \(\left(\frac{1}{2},\, -2\right)\).</p>
    <div class="math-box" style="text-align: center; font-size: 1.2rem;">
      \[ d = 2r = \sqrt{65} \text{ cm} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">Precnik kruga = \(\sqrt{65}\) cm</div>

    <div class="options-row">
      <div class="option-box">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(8\sqrt{2}\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(\sqrt{75}\)</div>
      </div>
      <div class="option-box correct">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(\sqrt{65}\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(10\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(2\sqrt{38}\)</div>
      </div>
    </div>

    <p class="verification"><strong>Provera:</strong> Centar kruga \(O = \left(\frac{1}{2},\, -2\right)\) i \(r^2 = \frac{65}{4}\). Sve cetiri tacke \(A(-3, 0)\), \(B(4, 0)\), \(C(0, 2)\), \(D(0, -6)\) zadovoljavaju jednacinu kruga. Precnik \(d = 2r = \sqrt{65} \approx 8{,}06\) cm, sto je u redu jer je tetiva \(CD = 8\) neznatno kraca od precnika.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Pogresan izbor koordinata:</strong> Neki studenti stave sve duzine kao pozitivne koordinate, zaboravljajuci da su tacke \(A\) i \(D\) sa razlicitih strana tacke \(M\). Tacke moraju biti postavljene sa odgovarajucim znacima na obe strane preseka.</li>
      <li><strong>Racunanje \(r^2\) umesto \(d\):</strong> Ako se dobije \(r^2 = \frac{65}{4}\), lako je pogresno odgovoriti \(\frac{65}{4}\) ili \(\frac{\sqrt{65}}{2}\) umesto da se izracuna precnik \(d = 2r = \sqrt{65}\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Dve tetive kruga su medjusobno normalne i seku se u tacki \(M\). Ako je \(AM = 2\), \(MB = 6\), \(CM = 3\) i \(MD = 4\), koliki je precnik tog kruga?</p>
    <details>
      <summary>Pomoc</summary>
      <p>Koristite isti koordinatni metod. Postavite \(M\) u koordinatni pocetak. Centar ce biti \(O = \left(\frac{6-2}{2},\, -\frac{4-3}{2}\right) = (2,\, -\frac{1}{2})\). Izracunajte \(r^2\) i zatim precnik. Proverite da li vazi teorema o preseku tetiva: \(2 \cdot 6 = 12 = 3 \cdot 4\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('geo-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system: M at origin, scale for display
  // Original problem: A=(-3,0), B=(4,0), C=(0,2), D=(0,-6)
  // Center O=(0.5, -2), r=sqrt(65)/2 ~ 4.03

  let dragM = { x: 0, y: 0 }; // offset of M from default position
  let isDragging = false;

  // Base positions (in math coords)
  const baseM = { x: 0, y: 0 };
  const baseA = { x: -3, y: 0 };
  const baseB = { x: 4, y: 0 };
  const baseC = { x: 0, y: 2 };
  const baseD = { x: 0, y: -6 };

  // Display transform
  const scale = 42;
  const originX = W / 2;
  const originY = H / 2 + 40;

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function toMath(cx, cy) {
    return { x: (cx - originX) / scale, y: -(cy - originY) / scale };
  }

  function dist(x1, y1, x2, y2) {
    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // The M point can be dragged; we shift everything
    var mx = dragM.x;
    var my = dragM.y;

    // Compute actual positions in math coords
    // When M moves by (mx, my), all points move by the same to keep
    // segment lengths. But for interactivity, we keep the chord endpoints
    // on the circle and move M along the chord intersection.
    // Simpler approach: keep the original geometry but let user drag M
    // to see the circle remain the same.

    // Actually, let's keep it simple: the diagram shows the fixed correct geometry,
    // and dragging M shows a label with distances. The main visualization is static
    // but interactive with hover highlighting.

    // Points in math coordinates
    var A = { x: -3 + mx, y: my };
    var B = { x: 4 + mx, y: my };
    var C = { x: mx, y: 2 + my };
    var D = { x: mx, y: -6 + my };
    var M = { x: mx, y: my };

    // Compute circle through A, B, C, D
    // Using the same method: center at midpoint offsets
    var h = mx + (4 - 3) / 2;  // = mx + 0.5
    var k = my + (-6 - 2) / 2; // = my - 2 (midpoint approach for perpendicular chords)
    // Actually more precisely:
    // From AB on horizontal: center x = mx + (B.x - A.x)/2 + A.x - mx ... let me recalculate
    // A.x = -3+mx, B.x = 4+mx => midpoint of AB: ((-3+mx)+(4+mx))/2 = mx + 0.5
    // C.y = 2+my, D.y = -6+my => midpoint of CD: ((2+my)+(-6+my))/2 = my - 2
    // For perpendicular chords, center's x = midpoint of AB's x (since AB is horizontal, perpendicular bisector is vertical through midpoint)
    // center's y = midpoint of CD's y (since CD is vertical, perpendicular bisector is horizontal through midpoint)
    h = (A.x + B.x) / 2;
    k = (C.y + D.y) / 2;

    var r2 = (A.x - h) * (A.x - h) + (A.y - k) * (A.y - k);
    var r = Math.sqrt(r2);

    var O = { x: h, y: k };

    // Convert to canvas coords
    var cA = toCanvas(A.x, A.y);
    var cB = toCanvas(B.x, B.y);
    var cC = toCanvas(C.x, C.y);
    var cD = toCanvas(D.x, D.y);
    var cM = toCanvas(M.x, M.y);
    var cO = toCanvas(O.x, O.y);

    // Draw subtle grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gx = -10; gx <= 10; gx++) {
      var p1 = toCanvas(gx, -10);
      var p2 = toCanvas(gx, 10);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
    for (var gy = -10; gy <= 10; gy++) {
      var p1g = toCanvas(-10, gy);
      var p2g = toCanvas(10, gy);
      ctx.beginPath();
      ctx.moveTo(p1g.x, p1g.y);
      ctx.lineTo(p2g.x, p2g.y);
      ctx.stroke();
    }

    // Draw axes through M
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    // Horizontal through M
    var axHL = toCanvas(-8 + mx, my);
    var axHR = toCanvas(8 + mx, my);
    ctx.beginPath();
    ctx.moveTo(axHL.x, axHL.y);
    ctx.lineTo(axHR.x, axHR.y);
    ctx.stroke();
    // Vertical through M
    var axVT = toCanvas(mx, 6 + my);
    var axVB = toCanvas(mx, -9 + my);
    ctx.beginPath();
    ctx.moveTo(axVT.x, axVT.y);
    ctx.lineTo(axVB.x, axVB.y);
    ctx.stroke();

    // Draw circle
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cO.x, cO.y, r * scale, 0, 2 * Math.PI);
    ctx.stroke();

    // Circle glow
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.15)';
    ctx.lineWidth = 8;
    ctx.beginPath();
    ctx.arc(cO.x, cO.y, r * scale, 0, 2 * Math.PI);
    ctx.stroke();

    // Draw chord AB (thick)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(cA.x, cA.y);
    ctx.lineTo(cB.x, cB.y);
    ctx.stroke();

    // Draw chord CD (thick)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(cC.x, cC.y);
    ctx.lineTo(cD.x, cD.y);
    ctx.stroke();

    // Draw radius from O to A (dashed)
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(cO.x, cO.y);
    ctx.lineTo(cA.x, cA.y);
    ctx.stroke();

    // Draw radius from O to C (dashed)
    ctx.beginPath();
    ctx.moveTo(cO.x, cO.y);
    ctx.lineTo(cC.x, cC.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Right angle marker at M
    var raSize = 12;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cM.x + raSize, cM.y);
    ctx.lineTo(cM.x + raSize, cM.y - raSize);
    ctx.lineTo(cM.x, cM.y - raSize);
    ctx.stroke();

    // Draw segment length labels
    // AM segment midpoint
    var midAM = toCanvas((A.x + M.x) / 2, (A.y + M.y) / 2);
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('3', midAM.x, midAM.y - 12);

    // MB segment midpoint
    var midMB = toCanvas((M.x + B.x) / 2, (M.y + B.y) / 2);
    ctx.fillText('4', midMB.x, midMB.y - 12);

    // CM segment midpoint
    var midCM = toCanvas((C.x + M.x) / 2, (C.y + M.y) / 2);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('2', midCM.x - 16, midCM.y);

    // MD segment midpoint
    var midMD = toCanvas((M.x + D.x) / 2, (M.y + D.y) / 2);
    ctx.fillText('6', midMD.x - 16, midMD.y);

    // Draw points
    function drawPoint(cx, cy, color, label, offX, offY) {
      // Glow
      var grd = ctx.createRadialGradient(cx, cy, 0, cx, cy, 16);
      grd.addColorStop(0, color);
      grd.addColorStop(1, 'transparent');
      ctx.fillStyle = grd;
      ctx.fillRect(cx - 16, cy - 16, 32, 32);

      // Point
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
      ctx.fill();

      // Outline
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
      ctx.stroke();

      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, cx + offX, cy + offY);
    }

    drawPoint(cA.x, cA.y, '#f472b6', 'A', -14, -10);
    drawPoint(cB.x, cB.y, '#f472b6', 'B', 14, -10);
    drawPoint(cC.x, cC.y, '#a78bfa', 'C', 14, -10);
    drawPoint(cD.x, cD.y, '#a78bfa', 'D', 14, 18);
    drawPoint(cM.x, cM.y, '#4ade80', 'M', 14, -10);
    drawPoint(cO.x, cO.y, '#60a5fa', 'O', 14, 18);

    // Info box
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    var boxX = 10;
    var boxY = 10;
    var boxW = 240;
    var boxH = 110;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Centar: O = (' + O.x.toFixed(1).replace('.', ',') + ', ' + O.y.toFixed(1).replace('.', ',') + ')', boxX + 12, boxY + 24);

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('r = \u221A65 / 2 \u2248 ' + r.toFixed(2).replace('.', ','), boxX + 12, boxY + 46);
    ctx.fillText('d = \u221A65 \u2248 ' + (2 * r).toFixed(2).replace('.', ','), boxX + 12, boxY + 66);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('AM\u00B7MB = ' + (3).toFixed(0) + '\u00B7' + (4).toFixed(0) + ' = 12', boxX + 12, boxY + 90);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('CM\u00B7MD = ' + (2).toFixed(0) + '\u00B7' + (6).toFixed(0) + ' = 12', boxX + 130, boxY + 90);

    // Legend
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#334155';
    var legX = W - 200;
    var legY = 10;
    var legW = 185;
    var legH = 80;
    ctx.beginPath();
    ctx.roundRect(legX, legY, legW, legH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(legX + 12, legY + 20);
    ctx.lineTo(legX + 36, legY + 20);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Tetiva AB', legX + 44, legY + 24);

    ctx.strokeStyle = '#a78bfa';
    ctx.beginPath();
    ctx.moveTo(legX + 12, legY + 42);
    ctx.lineTo(legX + 36, legY + 42);
    ctx.stroke();
    ctx.fillText('Tetiva CD', legX + 44, legY + 46);

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(legX + 24, legY + 64, 6, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.fillText('Krug', legX + 44, legY + 68);
  }

  draw();

  // Drag interaction for point M
  function getPointerPos(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var scaleY = H / rect.height;
    var clientX, clientY;
    if (e.touches) {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    return {
      x: (clientX - rect.left) * scaleX,
      y: (clientY - rect.top) * scaleY
    };
  }

  function handleStart(e) {
    var pos = getPointerPos(e);
    var cM = toCanvas(dragM.x, dragM.y);
    var dx = pos.x - cM.x;
    var dy = pos.y - cM.y;
    if (dx * dx + dy * dy < 900) {
      isDragging = true;
      e.preventDefault();
    }
  }

  function handleMove(e) {
    if (!isDragging) return;
    e.preventDefault();
    var pos = getPointerPos(e);
    var mCoords = toMath(pos.x, pos.y);
    // Limit dragging range
    dragM.x = Math.max(-3, Math.min(3, mCoords.x));
    dragM.y = Math.max(-3, Math.min(3, mCoords.y));
    draw();
  }

  function handleEnd() {
    isDragging = false;
  }

  canvas.addEventListener('mousedown', handleStart);
  canvas.addEventListener('mousemove', handleMove);
  canvas.addEventListener('mouseup', handleEnd);
  canvas.addEventListener('mouseleave', handleEnd);
  canvas.addEventListener('touchstart', handleStart, { passive: false });
  canvas.addEventListener('touchmove', handleMove, { passive: false });
  canvas.addEventListener('touchend', handleEnd);

  // Step click interactivity
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Precnik kruga kroz presek normalnih tetiva",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["geometrija kruga", "tetive", "presek tetiva", "koordinatni metod", "precnik"]
}
BRAINSPARK_META-->