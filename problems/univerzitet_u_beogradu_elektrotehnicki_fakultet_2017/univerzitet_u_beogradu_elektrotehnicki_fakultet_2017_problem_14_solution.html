<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nejednačina sa apsolutnim vrednostima i eksponencijalnim funkcijama</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Solve the inequality: (|3^x - 1| - |3 - 3^x| - 2) / sqrt(4^x - 2^(x+3) + 16) >= 0

STEP 1: DOMAIN ANALYSIS
Denominator: sqrt(4^x - 2^(x+3) + 16) must be > 0 (strict, since it's in denominator).
Let u = 2^x, u > 0.
4^x = (2^2)^x = (2^x)^2 = u^2
2^(x+3) = 2^x * 2^3 = 8u
Expression under sqrt: u^2 - 8u + 16 = (u - 4)^2
We need (u - 4)^2 > 0, so u != 4, i.e., 2^x != 4, i.e., x != 2.
Also (u-4)^2 >= 0 always, and sqrt((u-4)^2) = |u - 4| = |2^x - 4| > 0 when x != 2.
So domain is R \ {2}, i.e., all reals except x = 2.

STEP 2: SIMPLIFY DENOMINATOR
sqrt((u-4)^2) = |u - 4| = |2^x - 4| > 0 on the domain.
So the denominator is always positive on the domain.

STEP 3: NUMERATOR ANALYSIS
|3^x - 1| - |3 - 3^x| - 2
Note: |3 - 3^x| = |-(3^x - 3)| = |3^x - 3|
So numerator = |3^x - 1| - |3^x - 3| - 2

Let t = 3^x, t > 0. We need |t - 1| - |t - 3| - 2 >= 0.

Critical points: t = 1 (x = 0), t = 3 (x = 1).

Case 1: 0 < t < 1 (x < 0)
|t-1| = 1-t, |t-3| = 3-t
(1-t) - (3-t) - 2 = 1-t-3+t-2 = -4 < 0. No solution.

Case 2: 1 <= t < 3 (0 <= x < 1)
|t-1| = t-1, |t-3| = 3-t
(t-1) - (3-t) - 2 = t-1-3+t-2 = 2t-6
Need 2t-6 >= 0 => t >= 3. But t < 3 in this case. No solution.

Case 3: t >= 3 (x >= 1)
|t-1| = t-1, |t-3| = t-3
(t-1) - (t-3) - 2 = t-1-t+3-2 = 0
The numerator equals 0 for all t >= 3, i.e., x >= 1.

STEP 4: COMBINE WITH DOMAIN
Solution of numerator >= 0: x >= 1
Domain restriction: x != 2
Final solution: x in [1, 2) union (2, +infinity)

This is of the form [a, b) union (b, +infinity) with a = 1, b = 2.

ANSWER: (B)
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 16px;
  min-width: 120px;
  flex: 1;
  text-align: center;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.2s;
  cursor: pointer;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.04);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p, .step-content .math-block {
  margin-bottom: 8px;
}

.muted {
  color: #94a3b8;
  font-size: 0.92rem;
}

.note-box {
  background: rgba(167,139,250,0.08);
  border-left: 3px solid #a78bfa;
  border-radius: 0 8px 8px 0;
  padding: 10px 14px;
  margin: 10px 0;
  color: #c4b5fd;
  font-size: 0.93rem;
}

details {
  margin: 15px 0;
  background: rgba(56,189,248,0.04);
  border: 1px solid rgba(56,189,248,0.1);
  border-radius: 10px;
  padding: 12px 16px;
}

details summary {
  cursor: pointer;
  font-weight: 600;
  color: #60a5fa;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box .insight-label {
  color: #a78bfa;
  font-weight: 700;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 10px;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box .answer-text {
  color: #4ade80;
  font-size: 1.6rem;
  font-weight: 700;
  margin-bottom: 8px;
}

.final-answer-box .answer-detail {
  color: #34d399;
  font-size: 1.15rem;
}

.options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.option-card {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 10px 18px;
  text-align: center;
  min-width: 100px;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.option-card .opt-label {
  font-weight: 700;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #4ade80;
}

.pitfall-box {
  background: rgba(224,148,104,0.08);
  border-left: 3px solid #e09468;
  border-radius: 0 10px 10px 0;
  padding: 14px 18px;
  margin-bottom: 10px;
}

.pitfall-box strong {
  color: #e09468;
}

.canvas-card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 18px;
  margin-bottom: 24px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.canvas-card canvas {
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.83rem;
  margin-top: 8px;
}

.plan-text {
  color: #c4b5fd;
  font-size: 1.02rem;
  line-height: 1.65;
}

.check-details {
  background: rgba(52,211,153,0.06);
  border-color: rgba(52,211,153,0.15);
}

.check-details summary {
  color: #34d399;
}

ul.pitfall-list {
  list-style: none;
  padding: 0;
}

ul.pitfall-list li {
  margin-bottom: 12px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-item { min-width: 90px; }
  .step-container { padding: 10px; }
  .options-final { gap: 6px; }
  .option-card { min-width: 80px; padding: 8px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Nejednačina sa apsolutnim vrednostima i eksponencijalnim funkcijama</h1>
  <p class="subtitle">Analiza domena, apsolutnih vrednosti i eksponencijalnih izraza</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Tekst zadatka</h2>
    <p>Skup svih realnih rešenja nejednačine</p>
    <div class="math-block">
      \[\frac{|3^x - 1| - |3 - 3^x| - 2}{\sqrt{4^x - 2^{x+3} + 16}} \geq 0\]
    </div>
    <p>je oblika (za neke realne brojeve \(a, b, c\) i \(d\) takve da je \(-\infty < a < b < c < d < +\infty\)):</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((a,\,b)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\([a,\,b) \cup (b,\,+\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\([a,\,+\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((a,\,b) \cup [c,\,d)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\((-\infty,\,a] \cup [b,\,c]\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p class="plan-text">Prvo ćemo analizirati domen (podkorenički izraz mora biti strogo pozitivan). Zatim ćemo pojednostaviti brojilac pomoću smene \(t = 3^x\) i ispitati znak po intervalima koje određuju prelomne tačke apsolutnih vrednosti.</p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul style="margin-top: 10px; padding-left: 18px; color: #e2e8f0;">
        <li style="margin-bottom: 10px;"><strong>Apsolutna vrednost:</strong> \(|a| = \begin{cases} a, & a \geq 0 \\ -a, & a < 0 \end{cases}\)</li>
        <li style="margin-bottom: 10px;"><strong>Svojstvo:</strong> \(|a - b| = |b - a|\) za sve realne \(a, b\)</li>
        <li style="margin-bottom: 10px;"><strong>Potpun kvadrat:</strong> \(a^2 - 2ab + b^2 = (a - b)^2 \geq 0\)</li>
        <li style="margin-bottom: 10px;"><strong>Eksponencijalna funkcija:</strong> \(3^x > 0\) za svako \(x \in \mathbb{R}\); \(3^x = c \Leftrightarrow x = \log_3 c\)</li>
        <li><strong>Razlomak \(\geq 0\):</strong> Ako je imenilac pozitivan, znak razlomka zavisi samo od brojioca.</li>
      </ul>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="canvas-card">
    <h2 style="color: #60a5fa; margin-bottom: 12px;">Grafički prikaz funkcija u brojiocu</h2>
    <canvas id="mainCanvas" width="760" height="420"></canvas>
    <p class="canvas-hint">Graf prikazuje \(|3^x - 1|\), \(|3^x - 3|\) i brojilac \(f(x) = |3^x - 1| - |3^x - 3| - 2\)</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- STEP 1 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Domen: analiza imenioca</h3>
        <p>Imenilac sadrži kvadratni koren, pa mora važiti stroga nejednakost (jer je u imeniocu, ne sme biti nula):</p>
        <div class="math-block">
          \[4^x - 2^{x+3} + 16 > 0\]
        </div>
        <p>Uvedimo smenu \(u = 2^x\), gde je \(u > 0\). Tada je \(4^x = (2^x)^2 = u^2\) i \(2^{x+3} = 8 \cdot 2^x = 8u\).</p>
        <div class="math-block">
          \[u^2 - 8u + 16 > 0\]
        </div>
        <p>Prepoznajemo potpun kvadrat:</p>
        <div class="math-block">
          \[(u - 4)^2 > 0\]
        </div>
        <p>Ovo važi za sve \(u \neq 4\). Pošto je \(u = 2^x\), uslov \(u \neq 4\) daje:</p>
        <div class="math-block">
          \[2^x \neq 4 \implies x \neq 2\]
        </div>
        <div class="note-box">Domen nejednačine je \(\mathbb{R} \setminus \{2\}\), tj. svi realni brojevi osim \(x = 2\).</div>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Imenilac je uvek pozitivan na domenu</h3>
        <p>Na domenu (\(x \neq 2\)) važi \((u-4)^2 > 0\), pa je:</p>
        <div class="math-block">
          \[\sqrt{4^x - 2^{x+3} + 16} = \sqrt{(2^x - 4)^2} = |2^x - 4| > 0\]
        </div>
        <p>Pošto je imenilac strogo pozitivan, <strong>znak celokupnog razlomka zavisi isključivo od brojioca</strong>.</p>
        <p>Nejednačina se svodi na:</p>
        <div class="math-block">
          \[|3^x - 1| - |3 - 3^x| - 2 \geq 0\]
        </div>
      </div>
    </div>

    <!-- CHECK 1 -->
    <details class="check-details">
      <summary>Proveri sebe: Koliko je \(\sqrt{(2^x - 4)^2}\) za \(x = 3\)?</summary>
      <p style="margin-top: 8px;">Za \(x = 3\): \(2^3 - 4 = 4\), pa \(\sqrt{16} = 4\). Dakle \(|2^3 - 4| = 4 > 0\). Sve je u redu!</p>
    </details>

    <!-- STEP 3 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Pojednostavljenje brojioca</h3>
        <p>Uočimo da je \(|3 - 3^x| = |-(3^x - 3)| = |3^x - 3|\). Dakle:</p>
        <div class="math-block">
          \[|3^x - 1| - |3^x - 3| - 2 \geq 0\]
        </div>
        <p>Uvedimo smenu \(t = 3^x\), gde je \(t > 0\). Treba rešiti:</p>
        <div class="math-block">
          \[|t - 1| - |t - 3| - 2 \geq 0\]
        </div>
        <p class="muted">Prelomne tačke apsolutnih vrednosti su \(t = 1\) i \(t = 3\), što deli pozitivnu poluosu na tri intervala.</p>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Slučaj 1: \(0 < t < 1\) (tj. \(x < 0\))</h3>
        <p>Kada je \(t < 1\), obe razlike su negativne: \(t - 1 < 0\) i \(t - 3 < 0\). Dakle:</p>
        <div class="math-block">
          \[\begin{align}
          |t - 1| &= 1 - t \\
          |t - 3| &= 3 - t
          \end{align}\]
        </div>
        <p>Brojilac postaje:</p>
        <div class="math-block">
          \[(1 - t) - (3 - t) - 2 = 1 - t - 3 + t - 2 = -4\]
        </div>
        <p>Dobijamo \(-4 \geq 0\), što je <strong>netačno</strong>.</p>
        <div class="note-box">Na intervalu \(x < 0\) nema rešenja.</div>
      </div>
    </div>

    <!-- STEP 5 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Slučaj 2: \(1 \leq t < 3\) (tj. \(0 \leq x < 1\))</h3>
        <p>Kada je \(t \geq 1\), imamo \(t - 1 \geq 0\), a pošto je \(t < 3\), imamo \(t - 3 < 0\):</p>
        <div class="math-block">
          \[\begin{align}
          |t - 1| &= t - 1 \\
          |t - 3| &= 3 - t
          \end{align}\]
        </div>
        <p>Brojilac postaje:</p>
        <div class="math-block">
          \[(t - 1) - (3 - t) - 2 = t - 1 - 3 + t - 2 = 2t - 6\]
        </div>
        <p>Uslov \(2t - 6 \geq 0\) daje \(t \geq 3\). Ali u ovom slučaju je \(t < 3\), što je kontradikcija.</p>
        <div class="note-box">Na intervalu \(0 \leq x < 1\) nema rešenja.</div>
      </div>
    </div>

    <!-- CHECK 2 -->
    <details class="check-details">
      <summary>Proveri sebe: Kolika je vrednost brojioca za \(x = 0{,}5\)?</summary>
      <p style="margin-top: 8px;">\(3^{0{,}5} = \sqrt{3} \approx 1{,}73\). Brojilac: \(|1{,}73 - 1| - |1{,}73 - 3| - 2 = 0{,}73 - 1{,}27 - 2 = -2{,}54 < 0\). Zaista nema rešenja!</p>
    </details>

    <!-- STEP 6 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Slučaj 3: \(t \geq 3\) (tj. \(x \geq 1\))</h3>
        <p>Kada je \(t \geq 3\), obe razlike su nenegativne: \(t - 1 > 0\) i \(t - 3 \geq 0\). Dakle:</p>
        <div class="math-block">
          \[\begin{align}
          |t - 1| &= t - 1 \\
          |t - 3| &= t - 3
          \end{align}\]
        </div>
        <p>Brojilac postaje:</p>
        <div class="math-block">
          \[(t - 1) - (t - 3) - 2 = t - 1 - t + 3 - 2 = 0\]
        </div>
        <p>Dobijamo \(0 \geq 0\), što je <strong>tačno</strong> za svako \(t \geq 3\), tj. za svako \(x \geq 1\).</p>
        <div class="note-box">Za sve \(x \geq 1\) brojilac je jednak nuli, pa je nejednačina zadovoljena.</div>
      </div>
    </div>

    <!-- STEP 7 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Kombinovanje sa domenom</h3>
        <p>Iz analize brojioca dobijamo da nejednačina važi za \(x \geq 1\).</p>
        <p>Ali iz analize domena znamo da \(x \neq 2\).</p>
        <p>Konačan skup rešenja je presek:</p>
        <div class="math-block">
          \[x \in [1, +\infty) \setminus \{2\} = [1, 2) \cup (2, +\infty)\]
        </div>
      </div>
    </div>

    <!-- CHECK 3 -->
    <details class="check-details">
      <summary>Proveri sebe: Da li \(x = 1\) pripada skupu rešenja?</summary>
      <p style="margin-top: 8px;">Za \(x = 1\): brojilac \(= |3-1| - |3-3| - 2 = 2 - 0 - 2 = 0\). Imenilac: \(\sqrt{4 - 8 + 16} = \sqrt{12} > 0\). Razlomak \(= 0 \geq 0\). Da, \(x = 1\) jeste rešenje!</p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="insight-label">Ključni uvid</div>
    <p style="color: #e2e8f0; margin-bottom: 12px;">Za \(t \geq 3\) (tj. \(x \geq 1\)) oba apsolutna izraza gube apsolutne zagrade na isti način, pa se u razlici \(|t-1| - |t-3|\) promenljiva \(t\) potpuno skrati i dobija se konstantna vrednost 2. Tada je brojilac \(2 - 2 = 0\), a jedina prepreka je isključena tačka iz domena!</p>
    <div class="math-block" style="background: rgba(167,139,250,0.1); border-color: rgba(167,139,250,0.2);">
      \[(t - 1) - (t - 3) = 2 \quad \text{za sve } t \geq 3\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer-box">
    <div class="answer-text">Odgovor: (B)</div>
    <div class="answer-detail">
      \(x \in [1,\, 2) \cup (2,\, +\infty)\)
    </div>
    <p style="color: #94a3b8; margin-top: 10px;">Ovo je oblika \([a,\,b) \cup (b,\,+\infty)\) za \(a = 1\), \(b = 2\).</p>

    <div class="options-final">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div>\((a,\,b)\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(B)</div>
        <div>\([a,\,b) \cup (b,\,+\infty)\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\([a,\,+\infty)\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div>\((a,\,b) \cup [c,\,d)\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div>\((-\infty,\,a] \cup [b,\,c]\)</div>
      </div>
    </div>

    <p style="color: #94a3b8; font-size: 0.92rem; margin-top: 14px;"><strong>Verifikacija:</strong> Za \(x = 1\): razlomak \(= 0/\sqrt{12} = 0 \geq 0\) (zadovoljeno). Za \(x = 2\): imenilac \(= 0\) (nije definisano). Za \(x = 3\): brojilac \(= |26| - |24| - 2 = 0\), imenilac \(= \sqrt{4^3 - 2^6 + 16} = \sqrt{64 - 64 + 16} = 4 > 0\), razlomak \(= 0 \geq 0\) (zadovoljeno). Za \(x = -1\): brojilac \(= |1/3 - 1| - |1/3 - 3| - 2 = 2/3 - 8/3 - 2 = -4 < 0\) (nije zadovoljeno).</p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <div class="pitfall-box">
          <strong>Zaboraviti isključiti \(x = 2\) iz domena.</strong> Podkorenički izraz se poništava za \(x = 2\) jer je \((2^2 - 4)^2 = 0\), pa imenilac postaje nula. Bez ove analize bismo dobili odgovor (C) umesto (B).
        </div>
      </li>
      <li>
        <div class="pitfall-box">
          <strong>Pogrešno tretirati \(|3 - 3^x|\) kao nešto različito od \(|3^x - 3|\).</strong> Važi \(|a - b| = |b - a|\) uvek, pa su ove dve vrednosti identične. Ovo je ključno za pravilno pojednostavljenje brojioca.
        </div>
      </li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>Kako bi se promenio skup rešenja ako bi umesto \(\geq 0\) stajalo \(> 0\)?</p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="margin-top: 8px;">Na celom domenu gde nejednačina važi, brojilac je jednak <em>nuli</em> (ne strogo pozitivan). Razmislite šta to znači za strogu nejednakost...</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
    step.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        step.click();
      }
    });
  });

  // Canvas drawing
  const canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system
  const padL = 60, padR = 30, padT = 30, padB = 50;
  const plotW = W - padL - padR;
  const plotH = H - padT - padB;

  const xMin = -2, xMax = 4;
  const yMin = -6, yMax = 4;

  function toCanvasX(x) { return padL + (x - xMin) / (xMax - xMin) * plotW; }
  function toCanvasY(y) { return padT + (yMax - y) / (yMax - yMin) * plotH; }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    // Vertical grid
    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), padT);
      ctx.lineTo(toCanvasX(x), H - padB);
      ctx.stroke();
    }
    // Horizontal grid
    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      ctx.beginPath();
      ctx.moveTo(padL, toCanvasY(y));
      ctx.lineTo(W - padR, toCanvasY(y));
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // X axis
    if (yMin <= 0 && yMax >= 0) {
      ctx.beginPath();
      ctx.moveTo(padL, toCanvasY(0));
      ctx.lineTo(W - padR, toCanvasY(0));
      ctx.stroke();
    }
    // Y axis
    if (xMin <= 0 && xMax >= 0) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), padT);
      ctx.lineTo(toCanvasX(0), H - padB);
      ctx.stroke();
    }

    // Labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      ctx.fillText(x.toString(), toCanvasX(x), toCanvasY(0) + 18);
    }
    ctx.textAlign = 'right';
    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), toCanvasX(0) - 8, toCanvasY(y) + 4);
    }

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - padR + 15, toCanvasY(0) + 5);
    ctx.fillText('y', toCanvasX(0), padT - 12);
  }

  function numerator(x) {
    const t = Math.pow(3, x);
    return Math.abs(t - 1) - Math.abs(t - 3) - 2;
  }

  function drawCurve(fn, color, dashPattern) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.setLineDash(dashPattern || []);
    ctx.beginPath();
    let started = false;
    const steps = 600;
    for (let i = 0; i <= steps; i++) {
      const x = xMin + (xMax - xMin) * i / steps;
      const y = fn(x);
      if (y < yMin - 2 || y > yMax + 2) {
        started = false;
        continue;
      }
      const cx = toCanvasX(x);
      const cy = toCanvasY(y);
      if (!started) {
        ctx.moveTo(cx, cy);
        started = true;
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawSolutionRegion() {
    // Shade x in [1, 2) union (2, +inf) on x-axis
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    // [1, 2)
    const x1 = toCanvasX(1), x2 = toCanvasX(2), x4 = toCanvasX(xMax);
    ctx.fillRect(x1, padT, x2 - x1, plotH);
    // (2, xMax]
    ctx.fillRect(x2, padT, x4 - x2, plotH);

    // Mark on x-axis
    ctx.fillStyle = '#4ade80';
    // Filled circle at x=1 (included)
    ctx.beginPath();
    ctx.arc(toCanvasX(1), toCanvasY(0), 5, 0, 2 * Math.PI);
    ctx.fill();

    // Open circle at x=2 (excluded)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(toCanvasX(2), toCanvasY(0), 5, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.fillStyle = '#0f172a';
    ctx.beginPath();
    ctx.arc(toCanvasX(2), toCanvasY(0), 3.5, 0, 2 * Math.PI);
    ctx.fill();

    // Arrows for [1,2) and (2,+inf)
    ctx.fillStyle = '#4ade80';
    ctx.lineWidth = 3;
    ctx.strokeStyle = '#4ade80';
    // Line on x-axis from 1 to 2
    const axisY = toCanvasY(0);
    ctx.beginPath();
    ctx.moveTo(toCanvasX(1), axisY - 10);
    ctx.lineTo(toCanvasX(2) - 6, axisY - 10);
    ctx.stroke();
    // Line on x-axis from 2 to xMax
    ctx.beginPath();
    ctx.moveTo(toCanvasX(2) + 6, axisY - 10);
    ctx.lineTo(toCanvasX(xMax) - 5, axisY - 10);
    ctx.stroke();
    // Arrowhead
    ctx.beginPath();
    ctx.moveTo(toCanvasX(xMax) - 5, axisY - 10);
    ctx.lineTo(toCanvasX(xMax) - 12, axisY - 14);
    ctx.lineTo(toCanvasX(xMax) - 12, axisY - 6);
    ctx.closePath();
    ctx.fill();
  }

  function drawSpecialPoints() {
    // Mark x=0 (t=1), x=1 (t=3) on the numerator curve
    const points = [
      { x: 0, label: 'x=0', color: '#94a3b8' },
      { x: 1, label: 'x=1', color: '#4ade80' },
    ];

    points.forEach(p => {
      const y = numerator(p.x);
      const cx = toCanvasX(p.x);
      const cy = toCanvasY(y);
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
      ctx.fill();
      ctx.font = 'bold 11px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(p.label, cx, cy - 10);
    });
  }

  function drawLegend() {
    const lx = padL + 12, ly = padT + 16;
    const items = [
      { label: 'f(x) = |3^x - 1| - |3^x - 3| - 2', color: '#60a5fa', dash: [] },
      { label: 'y = 0 (granična linija)', color: '#475569', dash: [6, 4] },
      { label: 'Skup rešenja', color: '#4ade80', dash: [] },
    ];

    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    items.forEach((item, i) => {
      const y = ly + i * 20;
      ctx.strokeStyle = item.color;
      ctx.lineWidth = 2.5;
      ctx.setLineDash(item.dash);
      ctx.beginPath();
      ctx.moveTo(lx, y);
      ctx.lineTo(lx + 24, y);
      ctx.stroke();
      ctx.setLineDash([]);

      if (item.label.startsWith('Skup')) {
        ctx.fillStyle = 'rgba(74, 222, 128, 0.25)';
        ctx.fillRect(lx, y - 5, 24, 10);
      }

      ctx.fillStyle = item.color;
      ctx.textAlign = 'left';
      ctx.fillText(item.label, lx + 30, y + 4);
    });
  }

  // Draw everything
  ctx.fillStyle = '#0c1222';
  ctx.fillRect(0, 0, W, H);

  drawGrid();
  drawSolutionRegion();
  drawAxes();

  // y = 0 line (dashed, for reference)
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 1;
  ctx.setLineDash([6, 4]);
  ctx.beginPath();
  ctx.moveTo(padL, toCanvasY(0));
  ctx.lineTo(W - padR, toCanvasY(0));
  ctx.stroke();
  ctx.setLineDash([]);

  // Draw numerator curve f(x) = |3^x - 1| - |3^x - 3| - 2
  drawCurve(numerator, '#60a5fa');

  drawSpecialPoints();
  drawLegend();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Nejednačina sa apsolutnim vrednostima i eksponencijalnim funkcijama",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "eksponencijalna funkcija", "nejednačine", "domen funkcije", "potpun kvadrat"]
}
BRAINSPARK_META-->