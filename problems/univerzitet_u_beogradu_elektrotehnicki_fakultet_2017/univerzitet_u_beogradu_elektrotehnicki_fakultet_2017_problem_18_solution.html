<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maksimalna zapremina pravilne trostrane prizme</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Maksimalna zapremina pravilne trostrane prizme, ciji je obim jedne bocne strane S.

Ponudjeni odgovori:
(A) S^3 * sqrt(3) / 216
(B) S^3 * sqrt(3) / 196
(C) S^3 * sqrt(3)
(D) S^3 * sqrt(3) / 21
(E) nijedan od prethodno ponudjenih odgovora

ANALIZA:

Pravilna trostrana prizma ima:
- Bazu koja je jednakostranicni trougao stranice a
- Bocnu ivicu (visinu prizme) h
- Bocna strana je pravougaonik dimenzija a x h

Obim jedne bocne strane (pravougaonika):
  O = 2a + 2h = S
  => h = (S - 2a) / 2 = S/2 - a

Uslov: a > 0 i h > 0, dakle 0 < a < S/2.

Povrsina baze (jednakostranicni trougao):
  P_baze = (sqrt(3)/4) * a^2

Zapremina prizme:
  V = P_baze * h = (sqrt(3)/4) * a^2 * (S/2 - a)

Funkcija zapremine:
  V(a) = (sqrt(3)/4) * (S*a^2/2 - a^3)

Izvod:
  V'(a) = (sqrt(3)/4) * (S*a - 3a^2) = (sqrt(3)/4) * a * (S - 3a)

Kriticne tacke: V'(a) = 0
  a = 0 (trivijalno) ili a = S/3

Drugi izvod:
  V''(a) = (sqrt(3)/4) * (S - 6a)
  V''(S/3) = (sqrt(3)/4) * (S - 2S) = (sqrt(3)/4) * (-S) < 0

Dakle a = S/3 je tacka maksimuma.

h = S/2 - S/3 = 3S/6 - 2S/6 = S/6

V_max = (sqrt(3)/4) * (S/3)^2 * (S/6)
       = (sqrt(3)/4) * (S^2/9) * (S/6)
       = (sqrt(3)/4) * S^3/(54)
       = sqrt(3) * S^3 / 216
       = S^3 * sqrt(3) / 216

ODGOVOR: (A) S^3 * sqrt(3) / 216

VERIFIKACIJA:
- Za S = 6: a = 2, h = 1
  V = (sqrt(3)/4)*4*1 = sqrt(3) ≈ 1,732
  Formula: 6^3*sqrt(3)/216 = 216*sqrt(3)/216 = sqrt(3) ✓

- Dimenzionalna analiza: S ima dimenziju duzine, S^3 ima dimenziju zapremine ✓
- Bocna strana sa obimom S=6 je pravougaonik 2x1, baza jednakostranicni trougao stranice 2.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  flex: 1;
  transition: all 0.2s;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

.theory-content {
  padding: 16px;
  margin-top: 8px;
  background: rgba(96,165,250,0.05);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.1);
}

.theory-content li {
  margin-bottom: 12px;
  list-style: none;
  padding-left: 8px;
}

.theory-content li::before {
  content: "\25B8 ";
  color: #60a5fa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  transition: all 0.2s;
  cursor: pointer;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #f472b6;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.checkpoint-answer {
  padding: 10px 0 2px 0;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.15), rgba(167,139,250,0.15));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 16px;
}

.final-answer-text {
  font-size: 1.5rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.option-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-card {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 20px;
  text-align: center;
  min-width: 80px;
  transition: all 0.2s;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  box-shadow: 0 0 20px rgba(52,211,153,0.2);
}

.option-card .opt-label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  font-style: italic;
}

.pitfall-box {
  border-left: 3px solid #e09468;
}

.pitfall-box h2 {
  color: #e09468;
}

.pitfall-item {
  display: flex;
  gap: 10px;
  margin-bottom: 12px;
  align-items: flex-start;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.1rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.challenge-box {
  background: rgba(244,114,182,0.08);
  border: 1px solid rgba(244,114,182,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
}

.challenge-box h2 {
  color: #f472b6;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.highlight-value {
  color: #34d399;
  font-weight: 700;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .given-grid { flex-direction: column; }
  .step-container { flex-direction: column; gap: 8px; }
  .step-badge { align-self: flex-start; }
  .option-row { flex-direction: column; align-items: center; }
  .final-answer-text { font-size: 1.2rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Maksimalna zapremina pravilne trostrane prizme</h1>
  <p class="subtitle">Geometrija tela i optimizacija -- pravilna trostrana prizma, obim bocne strane, izvod funkcije</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Tekst zadatka</h2>
    <p>Maksimalna zapremina pravilne trostrane prizme, ciji je obim jedne bocne strane \( S \), jednaka je:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Telo</div>
        <div class="value">Pravilna trostrana prizma</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">Obim bocne strane = \( S \)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">Maksimalna zapremina</div>
      </div>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{S^3 \sqrt{3}}{216}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{S^3 \sqrt{3}}{196}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(S^3 \sqrt{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{S^3 \sqrt{3}}{21}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">nijedan od ponudjenih</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p class="plan-text">Izrazicemo zapreminu pravilne trostrane prizme kao funkciju jedne promenljive koristeci uslov za obim bocne strane. Zatim cemo naci maksimum te funkcije pomocu prvog izvoda.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <h2>Podsetnik iz teorije</h2>
    <details>
      <summary>Kljucne formule i pojmovi (klikni da otvoris)</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Pravilna trostrana prizma:</strong> Baza je jednakostranicni trougao stranice \( a \), bocne ivice (visina prizme) su jednake i iznose \( h \). Bocne strane su pravougaonici dimenzija \( a \times h \).</li>
          <li><strong>Povrsina jednakostranicnog trougla:</strong> \( P = \dfrac{\sqrt{3}}{4} \, a^2 \)</li>
          <li><strong>Zapremina prizme:</strong> \( V = P_{\text{baze}} \cdot h \)</li>
          <li><strong>Obim pravougaonika:</strong> Za pravougaonik stranica \( a \) i \( h \): \( O = 2a + 2h \)</li>
          <li><strong>Nalazenje ekstremuma funkcije:</strong> Potreban uslov za ekstremum funkcije \( f(x) \) je \( f'(x) = 0 \). Ako je \( f''(x_0) < 0 \), tacka \( x_0 \) je maksimum.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid / Interactive Diagram -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <div class="canvas-wrapper">
      <canvas id="prismCanvas" width="800" height="450"></canvas>
    </div>
    <p class="canvas-caption">Pravilna trostrana prizma sa baznom stranicom \( a \) i visinom \( h \). Koristite klizac ispod da menjate odnos \( a \) i \( h \) pri fiksnom obimu bocne strane.</p>
    <div style="text-align:center; margin-top: 14px;">
      <label for="sliderA" style="color:#94a3b8; font-size:0.95rem;">Stranica baze \( a \):</label>
      <input type="range" id="sliderA" min="5" max="95" value="33" style="width:260px; vertical-align:middle; accent-color:#60a5fa;">
      <span id="sliderLabel" style="color:#60a5fa; font-weight:600; margin-left:8px;">a = S/3</span>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Uvedimo oznake i uslov</h3>
        <p>Neka je \( a \) -- stranica baze (jednakostranicnog trougla), a \( h \) -- visina prizme (bocna ivica).</p>
        <p>Jedna bocna strana prizme je pravougaonik sa stranicama \( a \) i \( h \). Obim tog pravougaonika je:</p>
        <div class="math-block">
          \[ 2a + 2h = S \]
        </div>
        <p>Odavde izrazavamo \( h \) preko \( a \):</p>
        <div class="math-block">
          \[ h = \frac{S - 2a}{2} = \frac{S}{2} - a \]
        </div>
        <p class="note">Uslov: \( a > 0 \) i \( h > 0 \), dakle \( 0 < a < \dfrac{S}{2} \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Zapisimo zapreminu kao funkciju od \( a \)</h3>
        <p>Povrsina baze (jednakostranicni trougao stranice \( a \)) iznosi:</p>
        <div class="math-block">
          \[ P_{\text{baze}} = \frac{\sqrt{3}}{4} \, a^2 \]
        </div>
        <p>Zapremina prizme je:</p>
        <div class="math-block">
          \[ V = P_{\text{baze}} \cdot h = \frac{\sqrt{3}}{4} \, a^2 \cdot \left(\frac{S}{2} - a\right) \]
        </div>
        <p>Raspisemo:</p>
        <div class="math-block">
          \[ V(a) = \frac{\sqrt{3}}{4}\left(\frac{S}{2}\, a^2 - a^3\right) \]
        </div>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koliko je \( V \) kada je \( a = \frac{S}{2} \)?</summary>
        <div class="checkpoint-answer">
          Tada je \( h = \frac{S}{2} - \frac{S}{2} = 0 \), pa je \( V = 0 \). Prizma se "spljosti" -- nema visinu. Slicno, za \( a = 0 \) je \( V = 0 \). Maksimum je negde izmedju!
        </div>
      </details>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Nadjimo kriticne tacke -- prvi izvod</h3>
        <p>Diferenciramo \( V(a) \) po \( a \):</p>
        <div class="math-block">
          \[ V'(a) = \frac{\sqrt{3}}{4}\left(S \cdot a - 3a^2\right) = \frac{\sqrt{3}}{4} \cdot a \cdot (S - 3a) \]
        </div>
        <p>Uslov \( V'(a) = 0 \) daje:</p>
        <div class="math-block">
          \[ a = 0 \quad \text{(trivijalno)} \qquad \text{ili} \qquad a = \frac{S}{3} \]
        </div>
        <p class="note">Posto nas zanima \( 0 < a < \frac{S}{2} \), jedina relevantna kriticna tacka je \( a = \frac{S}{3} \).</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Potvrdimo da je u pitanju maksimum -- drugi izvod</h3>
        <p>Izracunamo drugi izvod:</p>
        <div class="math-block">
          \[ V''(a) = \frac{\sqrt{3}}{4}(S - 6a) \]
        </div>
        <p>Za \( a = \frac{S}{3} \):</p>
        <div class="math-block">
          \[ V''\!\left(\frac{S}{3}\right) = \frac{\sqrt{3}}{4}\left(S - 6 \cdot \frac{S}{3}\right) = \frac{\sqrt{3}}{4}(S - 2S) = -\frac{\sqrt{3}}{4} \cdot S < 0 \]
        </div>
        <p>Posto je drugi izvod negativan, tacka \( a = \frac{S}{3} \) jeste <strong>tacka maksimuma</strong>.</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koliko iznosi \( h \) za \( a = \frac{S}{3} \)?</summary>
        <div class="checkpoint-answer">
          \( h = \frac{S}{2} - \frac{S}{3} = \frac{3S - 2S}{6} = \frac{S}{6} \). Primetimo da je \( h = \frac{a}{2} \), sto znaci da je bocna strana pravougaonik cija je jedna dimenzija duplo manja od druge.
        </div>
      </details>
    </div>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izracunajmo maksimalnu zapreminu</h3>
        <p>Uvrstimo \( a = \frac{S}{3} \) i \( h = \frac{S}{6} \) u formulu za zapreminu:</p>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt{3}}{4} \cdot \left(\frac{S}{3}\right)^2 \cdot \frac{S}{6} \]
        </div>
        <p>Raspisemo korak po korak:</p>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt{3}}{4} \cdot \frac{S^2}{9} \cdot \frac{S}{6} \]
        </div>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt{3} \cdot S^3}{4 \cdot 9 \cdot 6} = \frac{\sqrt{3} \cdot S^3}{216} = \frac{S^3\sqrt{3}}{216} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Verifikacija -- brojni primer</h3>
        <p>Neka je \( S = 6 \). Tada \( a = 2 \), \( h = 1 \).</p>
        <div class="math-block">
          \[ V = \frac{\sqrt{3}}{4} \cdot 4 \cdot 1 = \sqrt{3} \approx 1{,}732 \]
        </div>
        <p>Iz formule:</p>
        <div class="math-block">
          \[ \frac{S^3\sqrt{3}}{216} = \frac{216\sqrt{3}}{216} = \sqrt{3} \approx 1{,}732 \quad \checkmark \]
        </div>
        <p class="note">Rezultati se poklapaju, sto potvrdjuje korektnost izvedene formule.</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Da li za \( S = 6 \) i neko drugo \( a \) dobijamo vecu zapreminu?</summary>
        <div class="checkpoint-answer">
          Probajmo \( a = 1{,}5 \), \( h = 1{,}5 \) (kvadratna bocna strana): \( V = \frac{\sqrt{3}}{4} \cdot 2{,}25 \cdot 1{,}5 \approx 1{,}46 \). Probajmo \( a = 2{,}5 \), \( h = 0{,}5 \): \( V = \frac{\sqrt{3}}{4} \cdot 6{,}25 \cdot 0{,}5 \approx 1{,}35 \). Oba su manja od \( \sqrt{3} \approx 1{,}73 \). Maksimum je zaista za \( a = 2 \)!
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p>Uslov fiksnog obima bocne strane \( 2a + 2h = S \) ogranicava nas na jednoparametarsku familiju prizmi. Zapremina se ponasa kao kubni polinom po \( a \), koji ima maksimum za \( a = \frac{S}{3} \). Kljuc je u tome da se pravilno izabere promenljiva optimizacije i izvrsi standardna procedura nalazenja ekstremuma.</p>
    <div class="math-block" style="margin-top: 14px;">
      \[ a = \frac{S}{3}, \quad h = \frac{S}{6}, \quad V_{\max} = \color{#4ade80}{\frac{S^3\sqrt{3}}{216}} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-text">\( V_{\max} = \dfrac{S^3\sqrt{3}}{216} \)</div>
    <div class="option-row">
      <div class="option-card correct">
        <div class="opt-label">(A)</div>
        <div>\(\dfrac{S^3 \sqrt{3}}{216}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div>\(\dfrac{S^3 \sqrt{3}}{196}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\(S^3 \sqrt{3}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div>\(\dfrac{S^3 \sqrt{3}}{21}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div>nijedan od ponudjenih</div>
      </div>
    </div>
    <p class="verification-note">Verifikacija: Za \( S = 6 \) formula daje \( V = \sqrt{3} \approx 1{,}732 \), sto se poklapa sa direktnim racunom \( V = \frac{\sqrt{3}}{4} \cdot 4 \cdot 1 = \sqrt{3} \). Dimenzionalna analiza: \( S^3 \) ima dimenziju zapremine -- korektno. Rezultat \( 4 \cdot 9 \cdot 6 = 216 \) u imeniocu -- aritmetika je ispravna.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <div class="pitfall-item">
      <span class="pitfall-icon">&times;</span>
      <p><strong>Pogresno tumacenje "obima bocne strane":</strong> Bocna strana pravilne trostrane prizme je pravougaonik \( a \times h \), sa obimom \( 2a + 2h \). Cesta greska je da se obim bocne strane protumaci kao obim baze (sto bi bilo \( 3a \)) ili kao povrsina bocne strane.</p>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&times;</span>
      <p><strong>Greska u racunu imeniocu:</strong> Mnogi ucenici pogresno pomnozi \( 4 \cdot 9 \cdot 6 \) i dobiju 196 umesto 216. Pazljivo: \( 4 \cdot 9 = 36 \), a \( 36 \cdot 6 = 216 \). Odgovor (B) sa 196 je tu upravo kao zamka za tu gresku!</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Odrediti maksimalnu zapreminu pravilne <strong>cetvorostrane</strong> prizme (kockolike prizme sa kvadratnom bazom) ciji je obim jedne bocne strane jednak \( S \).</p>
    <details>
      <summary>Pogledaj nagovestaj</summary>
      <div class="theory-content">
        <p>Baza je kvadrat stranice \( a \), visina prizme je \( h \). Bocna strana je pravougaonik \( a \times h \) sa obimom \( 2a + 2h = S \). Zapremina je \( V = a^2 h = a^2 \left(\frac{S}{2} - a\right) \). Nadjite maksimum iste funkcije -- ali bez faktora \( \frac{\sqrt{3}}{4} \). Rezultat bi trebalo da bude \( V_{\max} = \frac{S^3}{54} \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // === Prism diagram + Volume chart ===
  const canvas = document.getElementById('prismCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const S = 100; // Normalized perimeter for drawing

  const slider = document.getElementById('sliderA');
  const sliderLabel = document.getElementById('sliderLabel');

  function getAFromSlider() {
    // slider value 5-95 maps to a in (0.05*S/2, 0.95*S/2)
    var pct = parseInt(slider.value) / 100;
    return pct * S / 2;
  }

  function volumeFunc(a) {
    var hVal = S / 2 - a;
    if (hVal <= 0 || a <= 0) return 0;
    return (Math.sqrt(3) / 4) * a * a * hVal;
  }

  // Optimal
  var aOpt = S / 3;
  var vMax = volumeFunc(aOpt);

  function draw() {
    var aCur = getAFromSlider();
    var hCur = S / 2 - aCur;
    var vCur = volumeFunc(aCur);

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // === Left half: 3D prism ===
    var prismCX = 200;
    var prismCY = 230;

    // Scale so prism fits nicely
    var maxDim = Math.max(aCur, hCur, 1);
    var scale = 120 / maxDim;
    var aScaled = aCur * scale;
    var hScaled = hCur * scale;

    // Equilateral triangle base vertices (top view, slight 3D perspective)
    var triH = aScaled * Math.sqrt(3) / 2;
    var skewX = 15; // perspective skew
    var skewY = 10;

    // Bottom base triangle
    var bx0 = prismCX - aScaled / 2;
    var by0 = prismCY + triH / 3;
    var bx1 = prismCX + aScaled / 2;
    var by1 = by0;
    var bx2 = prismCX + skewX;
    var by2 = prismCY - 2 * triH / 3 + skewY;

    // Top base (shifted up by hScaled)
    var tx0 = bx0;
    var ty0 = by0 - hScaled;
    var tx1 = bx1;
    var ty1 = by1 - hScaled;
    var tx2 = bx2;
    var ty2 = by2 - hScaled;

    // Draw back edges (dashed)
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 1.5;
    // Back bottom edge
    ctx.beginPath();
    ctx.moveTo(bx0, by0);
    ctx.lineTo(bx2, by2);
    ctx.stroke();
    // Back vertical
    ctx.beginPath();
    ctx.moveTo(bx2, by2);
    ctx.lineTo(tx2, ty2);
    ctx.stroke();
    // Back top edge
    ctx.beginPath();
    ctx.moveTo(tx0, ty0);
    ctx.lineTo(tx2, ty2);
    ctx.stroke();
    ctx.setLineDash([]);

    // Front face (bottom-right lateral face) - filled
    ctx.fillStyle = 'rgba(96,165,250,0.12)';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bx0, by0);
    ctx.lineTo(bx1, by1);
    ctx.lineTo(tx1, ty1);
    ctx.lineTo(tx0, ty0);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // Right face (highlighted as the lateral face with perimeter S)
    ctx.fillStyle = 'rgba(167,139,250,0.15)';
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bx1, by1);
    ctx.lineTo(bx2, by2);
    ctx.lineTo(tx2, ty2);
    ctx.lineTo(tx1, ty1);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // Top triangle
    ctx.fillStyle = 'rgba(52,211,153,0.12)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(tx0, ty0);
    ctx.lineTo(tx1, ty1);
    ctx.lineTo(tx2, ty2);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // Front vertical edges
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bx0, by0);
    ctx.lineTo(tx0, ty0);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(bx1, by1);
    ctx.lineTo(tx1, ty1);
    ctx.stroke();

    // Bottom front edge
    ctx.beginPath();
    ctx.moveTo(bx0, by0);
    ctx.lineTo(bx1, by1);
    ctx.stroke();

    // Top front edge already drawn with top triangle
    // Right top edge
    ctx.strokeStyle = '#a78bfa';
    ctx.beginPath();
    ctx.moveTo(tx1, ty1);
    ctx.lineTo(tx2, ty2);
    ctx.stroke();

    // Labels
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    // Label a on bottom edge
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('a', (bx0 + bx1) / 2, by0 + 22);

    // Label h on left vertical edge
    ctx.fillStyle = '#f472b6';
    ctx.save();
    ctx.translate(bx0 - 18, (by0 + ty0) / 2);
    ctx.fillText('h', 0, 0);
    ctx.restore();

    // Label "Obim = S" near right face
    ctx.fillStyle = '#a78bfa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Obim = S', (bx1 + bx2) / 2 + 40, (by1 + by2) / 2);

    // Current values
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('a = ' + (aCur / S * 100).toFixed(1) + '% od S/2', 20, H - 55);
    ctx.fillText('h = ' + (hCur > 0 ? (hCur / S * 100).toFixed(1) : '0') + '% od S/2', 20, H - 35);
    ctx.fillStyle = vCur >= vMax * 0.999 ? '#4ade80' : '#e2e8f0';
    ctx.fillText('V = ' + (vCur / vMax * 100).toFixed(1) + '% od V_max', 20, H - 15);

    // === Right half: Volume vs a graph ===
    var gLeft = 420;
    var gRight = W - 30;
    var gTop = 50;
    var gBottom = H - 55;
    var gW = gRight - gLeft;
    var gH = gBottom - gTop;

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(gLeft, gTop);
    ctx.lineTo(gLeft, gBottom);
    ctx.lineTo(gRight, gBottom);
    ctx.stroke();

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gi = 1; gi <= 4; gi++) {
      var gx = gLeft + gi / 5 * gW;
      ctx.beginPath();
      ctx.moveTo(gx, gTop);
      ctx.lineTo(gx, gBottom);
      ctx.stroke();
    }
    for (var gj = 1; gj <= 4; gj++) {
      var gy = gBottom - gj / 5 * gH;
      ctx.beginPath();
      ctx.moveTo(gLeft, gy);
      ctx.lineTo(gRight, gy);
      ctx.stroke();
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('0', gLeft, gBottom + 18);
    ctx.fillText('S/6', gLeft + gW / 3, gBottom + 18);
    ctx.fillText('S/3', gLeft + 2 * gW / 3, gBottom + 18);
    ctx.fillText('S/2', gRight, gBottom + 18);
    ctx.fillText('a', (gLeft + gRight) / 2, gBottom + 38);
    ctx.textAlign = 'right';
    ctx.fillText('V', gLeft - 10, gTop + 5);
    ctx.fillText('V_max', gLeft - 6, gTop + gH * 0.02 + 5);

    // Plot V(a)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var aMax = S / 2;
    var first = true;
    for (var px = 0; px <= gW; px++) {
      var aVal = px / gW * aMax;
      var vVal = volumeFunc(aVal);
      var cx = gLeft + px;
      var cy = gBottom - (vVal / vMax) * gH * 0.95;
      if (first) { ctx.moveTo(cx, cy); first = false; }
      else { ctx.lineTo(cx, cy); }
    }
    ctx.stroke();

    // Mark optimal point
    var optPx = aOpt / aMax * gW;
    var optPy = gBottom - 0.95 * gH;

    // Glow
    var grad = ctx.createRadialGradient(gLeft + optPx, optPy, 0, gLeft + optPx, optPy, 18);
    grad.addColorStop(0, 'rgba(52,211,153,0.5)');
    grad.addColorStop(1, 'rgba(52,211,153,0)');
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(gLeft + optPx, optPy, 18, 0, 2 * Math.PI);
    ctx.fill();

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(gLeft + optPx, optPy, 5, 0, 2 * Math.PI);
    ctx.fill();

    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('a = S/3, V_max', gLeft + optPx, optPy - 14);

    // Dashed line from optimal to axis
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(74,222,128,0.4)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(gLeft + optPx, optPy);
    ctx.lineTo(gLeft + optPx, gBottom);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(gLeft + optPx, optPy);
    ctx.lineTo(gLeft, optPy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Mark current slider point on graph
    var curPx = aCur / aMax * gW;
    var curPy = gBottom - (vCur / vMax) * gH * 0.95;

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(gLeft + curPx, curPy, 6, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    if (Math.abs(aCur - aOpt) > 2) {
      ctx.fillStyle = '#f472b6';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('trenutno', gLeft + curPx, curPy - 12);
    }

    // Dashed line from current to axis
    ctx.setLineDash([3, 3]);
    ctx.strokeStyle = 'rgba(244,114,182,0.3)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(gLeft + curPx, curPy);
    ctx.lineTo(gLeft + curPx, gBottom);
    ctx.stroke();
    ctx.setLineDash([]);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik V(a)', (gLeft + gRight) / 2, gTop - 20);
  }

  draw();

  // Slider event
  slider.addEventListener('input', function() {
    var aCur = getAFromSlider();
    var ratio = aCur / (S / 3);
    if (Math.abs(ratio - 1) < 0.03) {
      sliderLabel.textContent = 'a = S/3 (optimalno!)';
      sliderLabel.style.color = '#4ade80';
    } else {
      sliderLabel.textContent = 'a = ' + (aCur / S).toFixed(3) + ' S';
      sliderLabel.style.color = '#60a5fa';
    }
    draw();
  });

  // Initialize slider label
  sliderLabel.textContent = 'a = S/3 (optimalno!)';
  sliderLabel.style.color = '#4ade80';

  // Step click interaction
  var steps = document.querySelectorAll('.step-container');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Maksimalna zapremina pravilne trostrane prizme",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["optimizacija", "pravilna trostrana prizma", "zapremina", "izvod funkcije", "ekstremumi"]
}
BRAINSPARK_META-->