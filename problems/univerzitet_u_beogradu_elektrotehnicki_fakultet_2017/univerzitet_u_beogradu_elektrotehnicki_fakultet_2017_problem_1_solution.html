<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kubni koren negativnog broja</title>
<script type="text/info" id="logic-scratchpad">
Problem: Vrednost izraza ∛(-89) nalazi se izmedju kojih brojeva?

Korak 1: Svojstvo kubnog korena negativnog broja
  ∛(-a) = -∛a za svako a > 0
  Dakle: ∛(-89) = -∛89

Korak 2: Odredimo izmedju kojih celih brojeva se nalazi ∛89
  Racunamo kubove celih brojeva:
  1³ = 1
  2³ = 8
  3³ = 27
  4³ = 64
  5³ = 125

  Posto je 64 < 89 < 125, to znaci:
  4³ < 89 < 5³
  Dakle: 4 < ∛89 < 5

Korak 3: Primenimo negativan predznak
  Posto je 4 < ∛89 < 5, mnozimo sa (-1) i obrcemo nejednakosti:
  -5 < -∛89 < -4
  Dakle: -5 < ∛(-89) < -4

Korak 4: Preciznija procena za verifikaciju
  ∛89 ≈ 4,465 (jer 4,465³ ≈ 89,03)
  Dakle ∛(-89) ≈ -4,465
  Ovo je zaista izmedju -5 i -4.

Korak 5: Provera sa ponudjenim odgovorima
  (A) -10 i -9  → NE
  (B) -9 i -8   → NE
  (C) -5 i -4   → DA ✓
  (D) -4 i -3   → NE
  (E) -3 i -2   → NE

Odgovor: (C) izmedju -5 i -4
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 120px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

/* Slider styling */
.slider-container {
  display: flex;
  align-items: center;
  gap: 12px;
  justify-content: center;
  margin-top: 14px;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.slider-container input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 200px;
  height: 6px;
  border-radius: 3px;
  background: #334155;
  outline: none;
}

.slider-container input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #60a5fa;
  cursor: pointer;
  box-shadow: 0 0 8px rgba(96,165,250,0.5);
}

.slider-container input[type="range"]::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #60a5fa;
  cursor: pointer;
  border: none;
  box-shadow: 0 0 8px rgba(96,165,250,0.5);
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.1rem;
  min-width: 50px;
  text-align: center;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Kubni koren negativnog broja</h1>
  <p class="subtitle">Procena vrednosti kubnog korena i pozicioniranje na brojevnoj pravoj</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Vrednost izraza \(\sqrt[3]{-89}\) nalazi se izmedju brojeva:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Izraz</div>
        <div class="value">\(\sqrt[3]{-89}\)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-10\) i \(-9\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(-9\) i \(-8\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-5\) i \(-4\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-4\) i \(-3\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(-3\) i \(-2\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Koristicemo svojstvo kubnog korena negativnog broja: \(\sqrt[3]{-a} = -\sqrt[3]{a}\). Zatim cemo odrediti izmedju kojih celih brojeva se nalazi \(\sqrt[3]{89}\) tako sto cemo izracunati kubove uzastopnih celih brojeva i pronaci one koji "okruzuju" broj 89.</p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <ul>
      <li><strong>Kubni koren:</strong> \(\sqrt[3]{a}\) je broj \(b\) takav da je \(b^3 = a\). Za razliku od kvadratnog korena, kubni koren je definisan i za negativne brojeve.</li>
      <li><strong>Kubni koren negativnog broja:</strong> \(\sqrt[3]{-a} = -\sqrt[3]{a}\) za svako \(a > 0\). Negativan predznak se moze "izvuci" ispred korena.</li>
      <li><strong>Monotonost:</strong> Funkcija \(f(x) = x^3\) je strogo rastuca na celom \(\mathbb{R}\). Ako je \(a < b\), onda je \(a^3 < b^3\), i obratno: ako je \(a^3 < b^3\), onda je \(a < b\).</li>
      <li><strong>Uokviravanje:</strong> Ako je \(n^3 < a < (n+1)^3\), onda je \(n < \sqrt[3]{a} < n+1\).</li>
    </ul>
  </details>

  <!-- Canvas Visualization -->
  <div class="card canvas-card">
    <h2>Vizualizacija: Kubni koren na brojevnoj pravoj</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Pomerajte klizac da vidite kako se kubni koren razlicitih negativnih brojeva pozicionira na brojevnoj pravoj</p>
    <canvas id="viz-canvas" width="700" height="420"></canvas>
    <div class="slider-container">
      <label for="val-slider">Vrednost pod korenom:</label>
      <input type="range" id="val-slider" min="-150" max="-1" value="-89">
      <span class="slider-value" id="slider-display">-89</span>
    </div>
    <p class="canvas-hint">Pomerite klizac da istrazite kubne korene razlicitih negativnih brojeva</p>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Primenimo svojstvo kubnog korena negativnog broja</h3>
        <p>Kubni koren negativnog broja mozemo zapisati kao negativnu vrednost kubnog korena pozitivnog broja:</p>
        <div class="math-box">
          \[ \sqrt[3]{-89} = -\sqrt[3]{89} \]
        </div>
        <p>Ovo vazi jer \((-a)^3 = -a^3\), pa se negativan predznak slobodno "izvlaci" ispred kubnog korena.</p>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izracunajmo kubove uzastopnih celih brojeva</h3>
        <p>Da bismo pronasli gde se \(\sqrt[3]{89}\) nalazi, izracunajmo kubove celih brojeva:</p>
        <div class="math-box">
          \[ 1^3 = 1 \]
        </div>
        <div class="math-box">
          \[ 2^3 = 8 \]
        </div>
        <div class="math-box">
          \[ 3^3 = 27 \]
        </div>
        <div class="math-box">
          \[ 4^3 = 64 \]
        </div>
        <div class="math-box">
          \[ 5^3 = 125 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(4^3\)?</summary>
      <p>\(4^3 = 4 \times 4 \times 4 = 16 \times 4 = 64\) &check;</p>
    </details>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Uokvirimo broj 89</h3>
        <p>Vidimo da je broj 89 izmedju kubova brojeva 4 i 5:</p>
        <div class="math-box">
          \[ 4^3 = 64 \;<\; 89 \;<\; 125 = 5^3 \]
        </div>
        <p>Posto je funkcija \(f(x) = x^3\) strogo rastuca, iz ovoga sledi:</p>
        <div class="math-box">
          \[ 4 < \sqrt[3]{89} < 5 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Da li je tacno da je \(64 < 89 < 125\)?</summary>
      <p>\(89 - 64 = 25 > 0\), dakle \(64 < 89\). Takodje \(125 - 89 = 36 > 0\), dakle \(89 < 125\). Obe nejednakosti su zadovoljene. &check;</p>
    </details>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Primenimo negativan predznak</h3>
        <p>Sada mnozimo celu nejednakost sa \(-1\). Zapamtite: <span class="highlight">mnozenje nejednakosti negativnim brojem obrce smer nejednakosti</span>!</p>
        <div class="math-box">
          \[ 4 < \sqrt[3]{89} < 5 \]
        </div>
        <p>Pomnozimo sa \(-1\):</p>
        <div class="math-box">
          \[ -5 < -\sqrt[3]{89} < -4 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Zapisimo konacan zakljucak</h3>
        <p>Posto je \(\sqrt[3]{-89} = -\sqrt[3]{89}\), dobijamo:</p>
        <div class="math-box">
          \[ -5 < \sqrt[3]{-89} < -4 \]
        </div>
        <p>Vrednost izraza \(\sqrt[3]{-89}\) nalazi se izmedju brojeva \(-5\) i \(-4\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je priblizno \(\sqrt[3]{89}\)?</summary>
      <p>Posto je \(89\) blize broju \(64\) nego broju \(125\), ocekujemo da je \(\sqrt[3]{89}\) blize broju \(4\) nego broju \(5\). Tacnije, \(\sqrt[3]{89} \approx 4{,}465\), pa je \(\sqrt[3]{-89} \approx -4{,}465\), sto je zaista izmedju \(-5\) i \(-4\). &check;</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Za pronalazenje kubnog korena negativnog broja, dovoljno je pronaci kubni koren odgovarajuceg pozitivnog broja i zatim dodati negativan predznak. Kljucni korak je uokviravanje: trazimo uzastopne cele brojeve ciji kubovi okruzuju dati broj. Kod ovog zadatka:</p>
    <div class="math-box" style="text-align:center; font-size:1.2rem; margin-top:16px;">
      \[ 4^3 = 64 < 89 < 125 = 5^3 \;\;\Longrightarrow\;\; -5 < \sqrt[3]{-89} < -4 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">Izmedju \(-5\) i \(-4\)</div>

    <div class="options-row">
      <div class="option-box">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(-10\) i \(-9\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(-9\) i \(-8\)</div>
      </div>
      <div class="option-box correct">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(-5\) i \(-4\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(-4\) i \(-3\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(-3\) i \(-2\)</div>
      </div>
    </div>

    <p class="verification"><strong>Verifikacija:</strong> Proverimo granicne vrednosti: \((-5)^3 = -125\) i \((-4)^3 = -64\). Posto je \(-125 < -89 < -64\), zaista vazi \(-5 < \sqrt[3]{-89} < -4\). Preciznije, \(\sqrt[3]{-89} \approx -4{,}465\), sto je izmedju \(-5\) i \(-4\). &check;</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Brkanje kubnog i kvadratnog korena:</strong> Mnogi ucenici pomisle da kubni koren negativnog broja ne postoji (kao sto je slucaj sa kvadratnim korenom). Ali kubni koren <em>je</em> definisan za negativne brojeve, jer se negativan broj moze dobiti kubom negativnog broja.</li>
      <li><strong>Zaboravljanje obrtanja nejednakosti:</strong> Kada mnozimo nejednakost sa \(-1\), smer nejednakosti se obrce. Greska \(4 < \sqrt[3]{89} < 5 \Rightarrow -4 < -\sqrt[3]{89} < -5\) bi dala pogresan odgovor (D) umesto tacnog (C).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Izmedju kojih celih brojeva se nalazi vrednost izraza \(\sqrt[3]{-200}\)?</p>
    <details>
      <summary>Pomoc</summary>
      <p>Koristite isti pristup: \(\sqrt[3]{-200} = -\sqrt[3]{200}\). Izracunajte \(5^3 = 125\) i \(6^3 = 216\). Posto je \(125 < 200 < 216\), sledi \(5 < \sqrt[3]{200} < 6\), pa je \(-6 < \sqrt[3]{-200} < -5\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });

  // Canvas visualization
  var canvas = document.getElementById('viz-canvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  var slider = document.getElementById('val-slider');
  var display = document.getElementById('slider-display');

  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
  }

  function drawScene(val) {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    var cubeRoot = -Math.pow(Math.abs(val), 1/3);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Brojevna prava i kubni koren', W / 2, 30);

    // --- Top section: cubes of integers ---
    var topY = 65;
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Kubovi celih brojeva:', W / 2, topY);

    var cubeData = [
      { n: 1, c: 1 }, { n: 2, c: 8 }, { n: 3, c: 27 },
      { n: 4, c: 64 }, { n: 5, c: 125 }, { n: 6, c: 216 }
    ];

    var tableY = topY + 20;
    var colW = 95;
    var startX = W / 2 - (cubeData.length * colW) / 2;

    // Find which two cubes bracket |val|
    var absVal = Math.abs(val);
    var lowerN = -1;
    var upperN = -1;
    for (var i = 0; i < cubeData.length - 1; i++) {
      if (absVal >= cubeData[i].c && absVal < cubeData[i + 1].c) {
        lowerN = cubeData[i].n;
        upperN = cubeData[i + 1].n;
        break;
      }
    }
    if (absVal < 1) { lowerN = 0; upperN = 1; }

    for (var i = 0; i < cubeData.length; i++) {
      var cx = startX + i * colW + colW / 2;
      var isHighlighted = (cubeData[i].n === lowerN || cubeData[i].n === upperN);

      // Box
      var bw = 80;
      var bh = 46;
      var bx = cx - bw / 2;
      var by = tableY;

      if (isHighlighted) {
        ctx.shadowColor = '#60a5fa';
        ctx.shadowBlur = 12;
      }
      ctx.fillStyle = isHighlighted ? 'rgba(96,165,250,0.15)' : 'rgba(30,41,59,0.8)';
      roundRect(bx, by, bw, bh, 6);
      ctx.fill();
      ctx.shadowBlur = 0;

      ctx.strokeStyle = isHighlighted ? '#60a5fa' : '#334155';
      ctx.lineWidth = isHighlighted ? 2 : 1;
      roundRect(bx, by, bw, bh, 6);
      ctx.stroke();

      // n^3 label
      ctx.fillStyle = isHighlighted ? '#60a5fa' : '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(cubeData[i].n + '\u00B3', cx, by + 16);

      // value
      ctx.fillStyle = isHighlighted ? '#e2e8f0' : '#64748b';
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.fillText(cubeData[i].c.toString(), cx, by + 36);
    }

    // Show the bracketing info
    var bracketY = tableY + 68;
    if (lowerN >= 1 && upperN >= 1) {
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      var lowerC = lowerN * lowerN * lowerN;
      var upperC = upperN * upperN * upperN;
      ctx.fillText(
        lowerN + '\u00B3 = ' + lowerC + ' < ' + absVal + ' < ' + upperC + ' = ' + upperN + '\u00B3'
        + '   \u21D2   ' + lowerN + ' < \u00B3\u221A' + absVal + ' < ' + upperN,
        W / 2, bracketY
      );
    } else if (absVal < 1) {
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('0 < ' + absVal + ' < 1   \u21D2   0 < \u00B3\u221A' + absVal + ' < 1', W / 2, bracketY);
    }

    // --- Number line ---
    var lineY = 260;
    var lineLeft = 60;
    var lineRight = W - 60;
    var lineW = lineRight - lineLeft;

    // Range: -6 to 0
    var rangeMin = -6;
    var rangeMax = 0;

    function toX(v) {
      return lineLeft + ((v - rangeMin) / (rangeMax - rangeMin)) * lineW;
    }

    // Draw line
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(lineLeft - 10, lineY);
    ctx.lineTo(lineRight + 10, lineY);
    ctx.stroke();

    // Arrow at left end
    ctx.fillStyle = '#475569';
    ctx.beginPath();
    ctx.moveTo(lineLeft - 10, lineY);
    ctx.lineTo(lineLeft - 2, lineY - 5);
    ctx.lineTo(lineLeft - 2, lineY + 5);
    ctx.closePath();
    ctx.fill();

    // Integer tick marks
    for (var n = rangeMin; n <= rangeMax; n++) {
      var tx = toX(n);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(tx, lineY - 8);
      ctx.lineTo(tx, lineY + 8);
      ctx.stroke();

      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(n.toString(), tx, lineY + 24);
    }

    // Highlight the interval containing the cube root
    var intLower = Math.ceil(cubeRoot) - 1;
    var intUpper = intLower + 1;
    if (cubeRoot === Math.floor(cubeRoot)) {
      intLower = cubeRoot;
      intUpper = cubeRoot;
    }

    if (intLower >= rangeMin && intUpper <= rangeMax && intLower !== intUpper) {
      var hlLeft = toX(intLower);
      var hlRight = toX(intUpper);
      ctx.fillStyle = 'rgba(96,165,250,0.12)';
      ctx.fillRect(hlLeft, lineY - 20, hlRight - hlLeft, 40);
      ctx.strokeStyle = 'rgba(96,165,250,0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 3]);
      ctx.strokeRect(hlLeft, lineY - 20, hlRight - hlLeft, 40);
      ctx.setLineDash([]);
    }

    // Draw the cube root point
    var crX = toX(cubeRoot);
    if (crX >= lineLeft - 5 && crX <= lineRight + 5) {
      // Glow
      var grd = ctx.createRadialGradient(crX, lineY, 0, crX, lineY, 20);
      grd.addColorStop(0, 'rgba(74,222,128,0.4)');
      grd.addColorStop(1, 'rgba(74,222,128,0)');
      ctx.fillStyle = grd;
      ctx.fillRect(crX - 20, lineY - 20, 40, 40);

      // Point
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(crX, lineY, 7, 0, Math.PI * 2);
      ctx.fill();

      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(crX, lineY, 7, 0, Math.PI * 2);
      ctx.stroke();

      // Vertical dashed line from point upward
      ctx.strokeStyle = 'rgba(74,222,128,0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath();
      ctx.moveTo(crX, lineY - 10);
      ctx.lineTo(crX, lineY - 55);
      ctx.stroke();
      ctx.setLineDash([]);

      // Label above
      var labelText = '\u00B3\u221A(' + val + ') \u2248 ' + cubeRoot.toFixed(3).replace('.', ',');
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(labelText, crX, lineY - 62);
    }

    // --- Bottom section: Conclusion box ---
    var boxY = 320;
    var boxW = 400;
    var boxH = 65;
    var boxX = W / 2 - boxW / 2;

    ctx.shadowColor = '#4ade80';
    ctx.shadowBlur = 15;
    ctx.fillStyle = 'rgba(30,41,59,0.95)';
    roundRect(boxX, boxY, boxW, boxH, 12);
    ctx.fill();
    ctx.shadowBlur = 0;

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    roundRect(boxX, boxY, boxW, boxH, 12);
    ctx.stroke();

    // Conclusion text
    if (intLower !== intUpper && cubeRoot > rangeMin) {
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Zakljucak:', W / 2, boxY + 22);

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 17px Segoe UI, system-ui, sans-serif';
      ctx.fillText(intLower + ' < \u00B3\u221A(' + val + ') < ' + intUpper, W / 2, boxY + 48);
    } else {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('\u00B3\u221A(' + val + ') \u2248 ' + cubeRoot.toFixed(3).replace('.', ','), W / 2, boxY + 38);
    }
  }

  function render() {
    var val = parseInt(slider.value, 10);
    display.textContent = val;
    drawScene(val);
  }

  slider.addEventListener('input', function() {
    render();
  });

  // Touch support
  slider.addEventListener('touchstart', function(e) {
    e.stopPropagation();
  });
  slider.addEventListener('touchmove', function(e) {
    e.stopPropagation();
  });

  // Initial render
  render();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kubni koren negativnog broja - procena vrednosti",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kubni koren", "korenovanje", "procena vrednosti", "nejednakosti", "brojevna prava"]
}
BRAINSPARK_META-->