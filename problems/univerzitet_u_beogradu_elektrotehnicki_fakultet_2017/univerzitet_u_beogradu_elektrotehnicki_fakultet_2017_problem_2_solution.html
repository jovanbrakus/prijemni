<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Povr≈°ina lopte izra≈æena preko zapremine</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Ako je V zapremina lopte, tada je njena povr≈°ina jednaka:
(A) cbrt(36*pi*V^2)
(B) cbrt(pi*V^2)
(C) cbrt(pi*V^2 / 2)
(D) cbrt(3*pi*V^2 / 4)
(E) cbrt(2*pi*V^2)

KNOWN FORMULAS:
  Volume of sphere: V = (4/3) * pi * r^3
  Surface area of sphere: S = 4 * pi * r^2

STEP 1: Express r in terms of V.
  V = (4/3) * pi * r^3
  r^3 = 3V / (4*pi)
  r = (3V / (4*pi))^(1/3)

STEP 2: Express r^2 in terms of V.
  r^3 = 3V / (4*pi)
  r = (3V / (4*pi))^(1/3)
  r^2 = (3V / (4*pi))^(2/3)

STEP 3: Substitute into S = 4*pi*r^2.
  S = 4*pi * (3V / (4*pi))^(2/3)

STEP 4: Verify by cubing both sides.
  S^3 = (4*pi)^3 * (3V / (4*pi))^2
  S^3 = 64*pi^3 * 9*V^2 / (16*pi^2)
  S^3 = (64 * 9 / 16) * (pi^3 / pi^2) * V^2
  S^3 = 36 * pi * V^2

  Therefore: S = cbrt(36 * pi * V^2)

ANSWER: (A) cbrt(36*pi*V^2)

VERIFICATION:
  For a unit sphere (r = 1):
    V = (4/3)*pi ‚âà 4.1888
    S = 4*pi ‚âà 12.5664

  Check (A): cbrt(36 * pi * V^2) = cbrt(36 * pi * (4*pi/3)^2)
    = cbrt(36 * pi * 16*pi^2/9)
    = cbrt(36 * 16 * pi^3 / 9)
    = cbrt(64 * pi^3)
    = 4*pi ‚âà 12.5664 ‚úì

  Check (B): cbrt(pi * V^2) = cbrt(pi * (4*pi/3)^2) = cbrt(16*pi^3/9) ‚âà cbrt(17.39) ‚âà 2.59 ‚úó
  Other options will give different numerical values, confirming (A).
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 8px;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px 32px;
  margin-bottom: 24px;
}

.card h2 {
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h2 .icon {
  font-size: 1.5rem;
}

.problem-statement {
  border-left: 4px solid #60a5fa;
}

.problem-statement p {
  font-size: 1.1rem;
  margin-bottom: 16px;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  background: #0f172a;
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1.05rem;
}

.answer-option:hover {
  border-color: #60a5fa;
  background: #172033;
}

.answer-option.selected {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
}

.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.15);
  box-shadow: 0 0 12px rgba(74, 222, 128, 0.2);
}

.answer-option.incorrect {
  border-color: #f87171;
  background: rgba(248, 113, 113, 0.1);
}

.plan-step {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 12px;
}

.plan-number {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 0.9rem;
}

.collapsible-header {
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  user-select: none;
}

.collapsible-header .arrow {
  transition: transform 0.3s ease;
  font-size: 1.2rem;
  color: #94a3b8;
}

.collapsible-header .arrow.open {
  transform: rotate(180deg);
}

.collapsible-content {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s ease;
}

.collapsible-content.open {
  max-height: 2000px;
}

.collapsible-inner {
  padding-top: 16px;
}

.theory-box {
  background: #0f172a;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 12px;
  border-left: 3px solid #a78bfa;
}

.theory-box h3 {
  color: #a78bfa;
  margin-bottom: 8px;
  font-size: 1.05rem;
}

.canvas-container {
  text-align: center;
  margin: 16px 0;
}

canvas {
  border-radius: 12px;
  max-width: 100%;
  background: #0c1222;
  touch-action: none;
}

.step-card {
  background: #0f172a;
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 16px;
  border-left: 3px solid #60a5fa;
  transition: border-left-color 0.3s ease;
  cursor: pointer;
}

.step-card:hover {
  border-left-color: #4ade80;
}

.step-card h3 {
  color: #60a5fa;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.step-card.highlight {
  border-left-color: #a78bfa;
}

.step-card.highlight h3 {
  color: #a78bfa;
}

.step-card.highlight:hover {
  border-left-color: #4ade80;
}

.checkpoint {
  background: rgba(96, 165, 250, 0.08);
  border: 1px dashed #60a5fa;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 15px 0;
  font-size: 0.95rem;
  color: #94a3b8;
}

.checkpoint summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
}

.checkpoint strong {
  color: #60a5fa;
}

.formula-highlight {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 8px;
  padding: 16px;
  margin: 12px 0;
  text-align: center;
}

.key-insight {
  border-left: 4px solid #f472b6;
  background: rgba(244, 114, 182, 0.06);
}

.key-insight h2 {
  color: #f472b6;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: rgba(74, 222, 128, 0.07);
  text-align: center;
}

.final-answer-card .answer-display {
  font-size: 1.8rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-answer-card .answer-label {
  color: #34d399;
  font-weight: 600;
  font-size: 1.1rem;
}

.pitfall {
  background: #0f172a;
  border-radius: 10px;
  padding: 16px 20px;
  margin-bottom: 10px;
  border-left: 3px solid #f87171;
}

.pitfall h4 {
  color: #f87171;
  margin-bottom: 6px;
}

.challenge-box {
  background: #0f172a;
  border-radius: 10px;
  padding: 20px;
  border-left: 3px solid #a78bfa;
}

.challenge-box h3 {
  color: #a78bfa;
  margin-bottom: 8px;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

ul, ol {
  padding-left: 20px;
}

li {
  margin-bottom: 6px;
}

a {
  color: #60a5fa;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 18px 16px; }
  .given-grid { grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); }
  .step-card { padding: 16px 18px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Povr≈°ina lopte izra≈æena preko zapremine</h1>
  <p class="subtitle">Stereometrija &mdash; veza izmeƒëu zapremine i povr≈°ine lopte</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2><span class="icon">üìã</span> Tekst zadatka</h2>
    <p>Ako je \(V\) zapremina lopte, tada je njena povr≈°ina jednaka:</p>
    <div class="given-grid" id="answer-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\sqrt[3]{36\pi V^2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt[3]{\pi V^2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\sqrt[3]{\dfrac{\pi V^2}{2}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\sqrt[3]{\dfrac{3\pi V^2}{4}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\sqrt[3]{2\pi V^2}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2><span class="icon">üó∫Ô∏è</span> Plan re≈°avanja</h2>
    <div class="plan-step">
      <div class="plan-number">1</div>
      <div>Iz formule za zapreminu lopte \(V = \frac{4}{3}\pi r^3\) izraziƒáemo polupreƒçnik \(r\) kao funkciju od \(V\).</div>
    </div>
    <div class="plan-step">
      <div class="plan-number">2</div>
      <div>Zatim ƒáemo zameniti dobijeni izraz za \(r\) u formulu za povr≈°inu lopte \(S = 4\pi r^2\) i algebarski pojednostaviti rezultat.</div>
    </div>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <div class="collapsible-header" id="theory-toggle">
      <h2><span class="icon">üìê</span> Kljuƒçne formule i teoreme</h2>
      <span class="arrow" id="theory-arrow">‚ñº</span>
    </div>
    <div class="collapsible-content" id="theory-content">
      <div class="collapsible-inner">
        <div class="theory-box">
          <h3>Zapremina lopte</h3>
          <p>Lopta polupreƒçnika \(r\) ima zapreminu:</p>
          \[V = \frac{4}{3}\pi r^3\]
        </div>
        <div class="theory-box">
          <h3>Povr≈°ina lopte</h3>
          <p>Povr≈°ina (oplo≈°je) lopte polupreƒçnika \(r\) je:</p>
          \[S = 4\pi r^2\]
        </div>
        <div class="theory-box">
          <h3>Pravilo stepena za korenovanje</h3>
          <p>Za kubni koren proizvoda va≈æi:</p>
          \[\sqrt[3]{a \cdot b} = \sqrt[3]{a} \cdot \sqrt[3]{b}\]
          <p style="margin-top:8px;">Takoƒëe: \(\left(a^m\right)^n = a^{mn}\), ≈°to koristimo za pretvaranje \(r^3 \to r^2\) preko razlomljenih eksponenata.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- VISUAL AID / INTERACTIVE DIAGRAM -->
  <div class="card">
    <h2><span class="icon">üìä</span> Interaktivni dijagram</h2>
    <p style="color:#94a3b8;margin-bottom:12px;">Pomerajte klizaƒç da menjate polupreƒçnik lopte i pratite kako se menjaju zapremina i povr≈°ina. Verifikujte da formula \(S = \sqrt[3]{36\pi V^2}\) uvek daje taƒçnu vrednost.</p>
    <div class="canvas-container">
      <canvas id="sphere-canvas" width="800" height="500"></canvas>
    </div>
    <div style="text-align:center;margin-top:12px;">
      <label for="radius-slider" style="color:#94a3b8;font-size:0.95rem;">Polupreƒçnik \(r\): </label>
      <input type="range" id="radius-slider" min="0.5" max="5" step="0.1" value="2" style="width:260px;vertical-align:middle;">
      <span id="radius-display" style="color:#60a5fa;font-weight:600;margin-left:8px;">2,0</span>
    </div>
    <p class="drag-hint">Pomerajte klizaƒç da menjate polupreƒçnik lopte.</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2><span class="icon">üìù</span> Re≈°enje korak po korak</h2>

    <div class="step-card">
      <h3>Korak 1: Zapisujemo osnovne formule</h3>
      <p>Za loptu polupreƒçnika \(r\) va≈æe sledeƒáe formule:</p>
      \[V = \frac{4}{3}\pi r^3 \qquad \text{i} \qquad S = 4\pi r^2\]
      <p>Cilj je eliminisati \(r\) i izraziti \(S\) samo pomoƒáu \(V\) i \(\pi\).</p>
    </div>

    <div class="step-card highlight">
      <h3>Korak 2: Izra≈æavamo \(r^3\) iz formule za zapreminu</h3>
      <p>Iz \(V = \frac{4}{3}\pi r^3\), mno≈æimo obe strane sa \(\frac{3}{4\pi}\):</p>
      \[r^3 = \frac{3V}{4\pi}\]
    </div>

    <div class="step-card">
      <h3>Korak 3: Stepenujemo formulu za povr≈°inu</h3>
      <p>Da bismo iskoristili izraz za \(r^3\), kubiraƒáemo formulu za povr≈°inu \(S = 4\pi r^2\):</p>
      \[S^3 = \left(4\pi r^2\right)^3\]
      <p>Primenom pravila \((abc)^n = a^n b^n c^n\):</p>
      \[S^3 = 4^3 \cdot \pi^3 \cdot r^6 = 64\pi^3 r^6\]
    </div>

    <details class="checkpoint" style="margin:15px 0;">
      <summary><strong>Proveri sebe:</strong> Koliko je \(4^3\)?</summary>
      <p style="margin-top:8px;">\(4^3 = 64\). Taƒçno! Nastavljamo dalje.</p>
    </details>

    <div class="step-card highlight">
      <h3>Korak 4: Izra≈æavamo \(r^6\) preko \(V\)</h3>
      <p>Iz koraka 2 znamo \(r^3 = \frac{3V}{4\pi}\). Kvadriramo obe strane da dobijemo \(r^6\):</p>
      \[r^6 = \left(r^3\right)^2 = \left(\frac{3V}{4\pi}\right)^2 = \frac{9V^2}{16\pi^2}\]
    </div>

    <div class="step-card highlight">
      <h3>Korak 5: Zamena u izraz za \(S^3\)</h3>
      <p>Uvr≈°tavamo \(r^6 = \frac{9V^2}{16\pi^2}\) u \(S^3 = 64\pi^3 r^6\):</p>
      \[S^3 = 64\pi^3 \cdot \frac{9V^2}{16\pi^2}\]
      <p>Skraƒáujemo:</p>
      \[S^3 = \frac{64 \cdot 9}{16} \cdot \frac{\pi^3}{\pi^2} \cdot V^2\]
      \[S^3 = 4 \cdot 9 \cdot \pi \cdot V^2\]
      \[S^3 = 36\pi V^2\]
    </div>

    <details class="checkpoint" style="margin:15px 0;">
      <summary><strong>Proveri sebe:</strong> Koliko je \(\frac{64}{16}\)?</summary>
      <p style="margin-top:8px;">\(\frac{64}{16} = 4\). A \(\frac{\pi^3}{\pi^2} = \pi\). Odliƒçno, sve se lepo skraƒáuje!</p>
    </details>

    <div class="step-card">
      <h3>Korak 6: Izvlaƒçenje kubnog korena</h3>
      <p>Iz \(S^3 = 36\pi V^2\), kubnim korenovanjem obe strane dobijamo:</p>
      \[S = \sqrt[3]{36\pi V^2}\]
    </div>

    <div class="step-card">
      <h3>Korak 7: Verifikacija na konkretnom primeru</h3>
      <p>Proverimo za loptu polupreƒçnika \(r = 1\):</p>
      <p>Zapremina: \(V = \frac{4}{3}\pi \cdot 1^3 = \frac{4\pi}{3}\)</p>
      <p>Povr≈°ina: \(S = 4\pi \cdot 1^2 = 4\pi\)</p>
      <p>Provera formule:</p>
      \[\sqrt[3]{36\pi V^2} = \sqrt[3]{36\pi \cdot \frac{16\pi^2}{9}} = \sqrt[3]{\frac{576\pi^3}{9}} = \sqrt[3]{64\pi^3} = 4\pi \;\checkmark\]

      <details class="checkpoint" style="margin:15px 0;">
        <summary><strong>Proveri sebe:</strong> Da li opcija (B) \(\sqrt[3]{\pi V^2}\) daje taƒçan rezultat za \(r = 1\)?</summary>
        <p style="margin-top:8px;">Ne. \(\sqrt[3]{\pi \cdot \frac{16\pi^2}{9}} = \sqrt[3]{\frac{16\pi^3}{9}} \approx 2{,}59\), a prava povr≈°ina je \(4\pi \approx 12{,}57\). Netaƒçno!</p>
      </details>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="card key-insight">
    <h2><span class="icon">üí°</span> Kljuƒçni uvid</h2>
    <p>Trik je u tome da <strong>kubiramo</strong> formulu za povr≈°inu. Za≈°to? Zato ≈°to iz formule za zapreminu prirodno dobijamo \(r^3\), a formula za povr≈°inu sadr≈æi \(r^2\). Kubiranje povr≈°ine daje \(r^6 = (r^3)^2\), ƒçime se savr≈°eno povezujemo sa izrazom za zapreminu.</p>
    <p style="margin-top:10px;">Ovo je klasiƒçan primer <strong>eliminacije parametra</strong> &mdash; uklanjamo \(r\) iz dva izraza da dobijemo direktnu vezu izmeƒëu \(S\) i \(V\).</p>
    <div class="formula-highlight" style="margin-top:16px;">
      \[S^3 = 36\pi V^2 \quad \Longrightarrow \quad S = \sqrt[3]{36\pi V^2}\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer-card">
    <div class="answer-label">Konaƒçan odgovor</div>
    <div class="answer-display">\(\sqrt[3]{36\pi V^2}\)</div>
    <p style="font-size:1.15rem;color:#34d399;font-weight:600;">Taƒçan odgovor je (A)</p>
    <p style="color:#94a3b8;margin-top:8px;font-size:0.95rem;">Verifikacija: Za jediniƒçnu loptu (\(r = 1\)), formula daje \(\sqrt[3]{64\pi^3} = 4\pi\), ≈°to se taƒçno poklapa sa poznatom povr≈°inom \(4\pi r^2 = 4\pi\).</p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2><span class="icon">‚ö†Ô∏è</span> Najƒçe≈°ƒáe gre≈°ke</h2>
    <div class="pitfall">
      <h4>Gre≈°ka 1: Pogre≈°no stepenovanje razlomka</h4>
      <p>Pri raƒçunanju \(\left(\frac{3V}{4\pi}\right)^2\) studenti ƒçesto zaborave da kvadriraju i brojilac i imenilac, ili pogre≈°no kvadriraju \(\pi\). Pravilno: \(\frac{9V^2}{16\pi^2}\), ne \(\frac{9V^2}{16\pi}\).</p>
    </div>
    <div class="pitfall">
      <h4>Gre≈°ka 2: Nepotpuno skraƒáivanje</h4>
      <p>Prilikom mno≈æenja \(64\pi^3 \cdot \frac{9V^2}{16\pi^2}\), ƒçesta gre≈°ka je nepravilno skraƒáivanje brojeva ili stepena od \(\pi\). Uvek koristite razlomaƒçku crtu i skraƒáujte korak po korak: \(\frac{64}{16} = 4\), pa \(\frac{\pi^3}{\pi^2} = \pi\).</p>
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <h2><span class="icon">üèÜ</span> Dodatni izazov</h2>
    <div class="challenge-box">
      <h3>Probaj sam/sama!</h3>
      <p>Izrazite povr≈°inu pravilnog tetraedra \(S\) kao funkciju njegove zapremine \(V\). (Zapremina pravilnog tetraedra ivice \(a\) je \(V = \frac{a^3\sqrt{2}}{12}\), a povr≈°ina je \(S = a^2\sqrt{3}\).)</p>
      <details style="margin:15px 0;">
        <summary style="cursor:pointer;color:#a78bfa;font-weight:600;">Savet</summary>
        <p style="margin-top:8px;color:#94a3b8;">Primenite isti pristup kao kod lopte: iz formule za zapreminu izrazite \(a\) (ili \(a^3\)), a zatim kubnim korenovanjem formule za povr≈°inu elimini≈°ite \(a\). Korisno: \(S^3 = 3\sqrt{3} \cdot a^6\) i \(a^3 = 6\sqrt{2}\,V\).</p>
      </details>
    </div>
  </div>

</div>

<script>
(() => {
  // =============================================
  // ANSWER OPTION INTERACTIVITY
  // =============================================
  const correctOption = 'A';
  const options = document.querySelectorAll('.answer-option');
  options.forEach(opt => {
    opt.addEventListener('click', () => {
      options.forEach(o => {
        o.classList.remove('selected', 'correct', 'incorrect');
      });
      const chosen = opt.getAttribute('data-option');
      if (chosen === correctOption) {
        opt.classList.add('correct');
      } else {
        opt.classList.add('incorrect');
        options.forEach(o => {
          if (o.getAttribute('data-option') === correctOption) {
            o.classList.add('correct');
          }
        });
      }
    });
  });

  // =============================================
  // THEORY COLLAPSIBLE
  // =============================================
  const theoryToggle = document.getElementById('theory-toggle');
  const theoryContent = document.getElementById('theory-content');
  const theoryArrow = document.getElementById('theory-arrow');
  theoryToggle.addEventListener('click', () => {
    theoryContent.classList.toggle('open');
    theoryArrow.classList.toggle('open');
  });

  // =============================================
  // STEP CARD CLICK HIGHLIGHT
  // =============================================
  const stepCards = document.querySelectorAll('.step-card');
  stepCards.forEach(card => {
    card.addEventListener('click', () => {
      stepCards.forEach(c => c.style.borderLeftColor = '');
      card.style.borderLeftColor = '#4ade80';
    });
  });

  // =============================================
  // INTERACTIVE SPHERE CANVAS WITH SLIDER
  // =============================================
  const canvas = document.getElementById('sphere-canvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;
  const slider = document.getElementById('radius-slider');
  const radiusDisplay = document.getElementById('radius-display');

  function drawSphere(r) {
    // Clear
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Sphere center and visual radius
    const cx = 250;
    const cy = 250;
    const visualR = 30 + r * 32;

    // Draw sphere (filled circle with gradient)
    const grad = ctx.createRadialGradient(cx - visualR * 0.3, cy - visualR * 0.3, visualR * 0.1, cx, cy, visualR);
    grad.addColorStop(0, 'rgba(96, 165, 250, 0.35)');
    grad.addColorStop(0.5, 'rgba(96, 165, 250, 0.15)');
    grad.addColorStop(1, 'rgba(96, 165, 250, 0.03)');
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(cx, cy, visualR, 0, 2 * Math.PI);
    ctx.fill();

    // Sphere outline
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cx, cy, visualR, 0, 2 * Math.PI);
    ctx.stroke();

    // Equator ellipse
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.ellipse(cx, cy, visualR, visualR * 0.35, 0, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Radius line
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + visualR, cy);
    ctx.stroke();

    // Radius dot
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(cx + visualR * 0.5, cy, 3, 0, 2 * Math.PI);
    ctx.fill();

    // Radius label
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('r = ' + r.toFixed(1).replace('.', ','), cx + visualR * 0.5, cy - 12);

    // Center dot
    ctx.fillStyle = '#e2e8f0';
    ctx.beginPath();
    ctx.arc(cx, cy, 3, 0, 2 * Math.PI);
    ctx.fill();

    // Calculate values
    const V = (4 / 3) * Math.PI * r * r * r;
    const S_real = 4 * Math.PI * r * r;
    const S_formula = Math.cbrt(36 * Math.PI * V * V);

    // Info panel on the right
    const panelX = 500;
    const panelY = 60;
    const panelW = 270;
    const panelH = 380;

    // Panel background
    ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    roundRect(ctx, panelX, panelY, panelW, panelH, 12);
    ctx.fill();
    ctx.stroke();

    // Panel header
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Raƒçunanje:', panelX + 20, panelY + 30);

    // r value
    ctx.fillStyle = '#f472b6';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('r = ' + r.toFixed(1).replace('.', ','), panelX + 20, panelY + 65);

    // Volume
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Zapremina:', panelX + 20, panelY + 100);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('V = (4/3)¬∑œÄ¬∑r¬≥', panelX + 20, panelY + 122);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('V = ' + V.toFixed(2).replace('.', ','), panelX + 20, panelY + 146);

    // Surface (real)
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Povr≈°ina (direktno):', panelX + 20, panelY + 182);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('S = 4¬∑œÄ¬∑r¬≤', panelX + 20, panelY + 204);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('S = ' + S_real.toFixed(2).replace('.', ','), panelX + 20, panelY + 228);

    // Surface (formula)
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Povr≈°ina (iz formule):', panelX + 20, panelY + 264);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('S = ¬≥‚àö(36¬∑œÄ¬∑V¬≤)', panelX + 20, panelY + 286);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('S = ' + S_formula.toFixed(2).replace('.', ','), panelX + 20, panelY + 310);

    // Match indicator
    const match = Math.abs(S_real - S_formula) < 0.01;
    ctx.fillStyle = match ? '#4ade80' : '#f87171';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText(match ? 'Vrednosti se poklapaju! ‚úì' : 'Gre≈°ka u raƒçunanju', panelX + 20, panelY + 352);
  }

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  function update() {
    const r = parseFloat(slider.value);
    radiusDisplay.textContent = r.toFixed(1).replace('.', ',');
    drawSphere(r);
  }

  slider.addEventListener('input', update);

  // Touch support for slider
  slider.addEventListener('touchstart', function(e) { e.stopPropagation(); });
  slider.addEventListener('touchmove', function(e) { e.stopPropagation(); });

  update();

})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Povr≈°ina lopte izra≈æena preko zapremine","subject":"math","unit":"geometry","topic_tags":["lopta","zapremina","povr≈°ina","stereometrija","kubni koren","eliminacija parametra"]}
BRAINSPARK_META-->