<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Polinom najmanjeg stepena sa realnim koeficijentima</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem:
  - P(x) je polinom NAJMANJEG stepena sa REALNIM koeficijentima
  - Koreni su: -1 i 2i
  - P(0) = -12
  - Naci P(-2)

  Analiza:
  Posto P(x) ima realne koeficijente, a 2i je koren, po teoremi o konjugovanim
  korenima mora i -2i biti koren.

  Dakle koreni su: -1, 2i, -2i
  Najmanji stepen = 3

  Formiranje polinoma:
  P(x) = a(x - (-1))(x - 2i)(x - (-2i))
       = a(x + 1)(x - 2i)(x + 2i)
       = a(x + 1)(x^2 - (2i)^2)
       = a(x + 1)(x^2 - (-4))
       = a(x + 1)(x^2 + 4)

  Odredjivanje koeficijenta a iz uslova P(0) = -12:
  P(0) = a(0 + 1)(0 + 4)
       = a * 1 * 4
       = 4a
  4a = -12
  a = -3

  Dakle: P(x) = -3(x + 1)(x^2 + 4)

  Racunanje P(-2):
  P(-2) = -3(-2 + 1)((-2)^2 + 4)
        = -3 * (-1) * (4 + 4)
        = -3 * (-1) * 8
        = -3 * (-8)
        = 24

  Odgovor: (B) 24

  Verifikacija:
  P(x) = -3(x + 1)(x^2 + 4) = -3(x^3 + x^2 + 4x + 4) = -3x^3 - 3x^2 - 12x - 12

  Provera korena:
  P(-1) = -3(-1+1)(1+4) = -3*0*5 = 0 OK
  P(2i) = -3(2i+1)((2i)^2+4) = -3(2i+1)(-4+4) = -3(2i+1)*0 = 0 OK
  P(-2i) = -3(-2i+1)((-2i)^2+4) = -3(-2i+1)(-4+4) = 0 OK

  Provera P(0):
  P(0) = -3(1)(4) = -12 OK

  Provera P(-2):
  P(-2) = -3(-8) - 3(4) - 12(-2) - 12
        = 24 - 12 + 24 - 12
        = 24 OK

  Sve se slaze. Tacan odgovor je (B) 24.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card h2 {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.15rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 0 8px 8px 0;
  transition: border-color 0.3s, background 0.3s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-detail {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  font-style: italic;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Polinom najmanjeg stepena sa realnim koeficijentima</h1>
  <p class="subtitle">Algebra -- kompleksni koreni, konjugovani parovi, polinomi</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Tekst zadatka</h2>
    <div class="problem-text">
      <p>Neka je \( P(x) \) polinom najmanjeg stepena ciji su koeficijenti realni brojevi, a koreni \( -1 \) i \( 2i \). Ako je \( P(0) = -12 \), tada je \( P(-2) \) jednako:</p>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-12\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(24\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-30\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-36\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(72\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p class="plan-text">
      Iskoristicemo cinjenicu da polinom sa realnim koeficijentima mora imati kompleksne korene u konjugovanim parovima. To nam daje sve korene i oblik polinoma. Zatim iz uslova \( P(0) = -12 \) odredjujemo vodeci koeficijent, pa racunamo \( P(-2) \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <h2>Podsetnik iz teorije</h2>
    <details>
      <summary>Kljucne formule i teoreme (klikni da otvoris)</summary>
      <div class="detail-content">
        <ul style="margin: 8px 0 12px 20px; color: #e2e8f0;">
          <li><strong>Teorema o konjugovanim korenima:</strong> Ako polinom ima realne koeficijente i kompleksan koren \( z = a + bi \) (gde je \( b \neq 0 \)), onda je i konjugovani broj \( \bar{z} = a - bi \) takodje koren tog polinoma.</li>
          <li><strong>Proizvod konjugovanih faktora:</strong> \( (x - z)(x - \bar{z}) = x^2 - 2ax + a^2 + b^2 \). Specijalno, za \( z = 2i \): \( (x - 2i)(x + 2i) = x^2 + 4 \).</li>
          <li><strong>Polinom najmanjeg stepena:</strong> Ako su zadati koreni i tip koeficijenata, polinom najmanjeg stepena sadrzi tacno te korene (sa dodatim konjugovanima ako je potrebno), svaki sa visestrukoscu 1.</li>
          <li><strong>Opsti oblik:</strong> \( P(x) = a \cdot (x - x_1)(x - x_2) \cdots (x - x_n) \), gde je \( a \) vodeci koeficijent koji se odredjuje iz dodatnog uslova.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="800" height="500"></canvas>
    </div>
    <p class="canvas-caption">Grafik polinoma \( P(x) = -3(x+1)(x^2+4) \) sa oznacenim kljucnim tackama. Koreni u kompleksnoj ravni prikazani su u manjem prozoru.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Odredimo sve korene polinoma</div>
        <p>Polinom \( P(x) \) ima realne koeficijente. Jedan od korena je \( 2i \), sto je kompleksan broj.</p>
        <p>Po <strong>teoremi o konjugovanim korenima</strong>, ako polinom sa realnim koeficijentima ima kompleksan koren \( z \), onda mora imati i konjugovani koren \( \bar{z} \).</p>
        <p>Konjugovani broj od \( 2i \) je \( -2i \). Dakle, i \( -2i \) mora biti koren.</p>
        <div class="step-math">
          \[ \text{Koreni: } x_1 = -1, \quad x_2 = 2i, \quad x_3 = -2i \]
        </div>
        <p style="color: #94a3b8;">Posto trazimo polinom <em>najmanjeg</em> stepena, svaki koren ima visestrukost 1. Najmanji stepen je 3.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Zapisimo opsti oblik polinoma</div>
        <p>Polinom treceg stepena sa korenima \( -1 \), \( 2i \) i \( -2i \) mozemo zapisati kao:</p>
        <div class="step-math">
          \[ P(x) = a(x - (-1))(x - 2i)(x - (-2i)) \]
        </div>
        <p>Sredimo zagrade:</p>
        <div class="step-math">
          \[ P(x) = a(x + 1)(x - 2i)(x + 2i) \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Pojednostavimo kompleksne faktore</div>
        <p>Proizvod \( (x - 2i)(x + 2i) \) je razlika kvadrata:</p>
        <div class="step-math">
          \[ (x - 2i)(x + 2i) = x^2 - (2i)^2 \]
        </div>
        <p>Izracunajmo \( (2i)^2 \):</p>
        <div class="step-math">
          \[ (2i)^2 = 4i^2 = 4 \cdot (-1) = -4 \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ (x - 2i)(x + 2i) = x^2 - (-4) = x^2 + 4 \]
        </div>
        <p>Sada nas polinom izgleda ovako:</p>
        <div class="step-math">
          \[ P(x) = a(x + 1)(x^2 + 4) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je \( x^2 + 4 \) uvek pozitivno za realno \( x \)?</summary>
            <div class="detail-content">
              Za svako realno \( x \) vazi \( x^2 \geq 0 \), pa je \( x^2 + 4 \geq 4 > 0 \). Zato ovaj faktor nema realnih korena -- njegovi koreni su upravo \( \pm 2i \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Odredimo koeficijent \( a \) iz uslova \( P(0) = -12 \)</div>
        <p>Uvrstimo \( x = 0 \) u izraz za \( P(x) \):</p>
        <div class="step-math">
          \[ P(0) = a(0 + 1)(0^2 + 4) \]
        </div>
        <div class="step-math">
          \[ P(0) = a \cdot 1 \cdot 4 = 4a \]
        </div>
        <p>Po uslovu zadatka, \( P(0) = -12 \), pa:</p>
        <div class="step-math">
          \[ 4a = -12 \implies a = -3 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Koliko je \( P(0) \) za \( a = -3 \)?</summary>
            <div class="detail-content">
              \( P(0) = -3 \cdot 1 \cdot 4 = -12 \). Tacno se poklapa sa uslovom!
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Zapisimo konacni oblik polinoma</div>
        <p>Sada znamo da je:</p>
        <div class="step-math">
          \[ P(x) = -3(x + 1)(x^2 + 4) \]
        </div>
        <p>Ako zelimo razvijeni oblik:</p>
        <div class="step-math">
          \[ \begin{align} P(x) &= -3(x + 1)(x^2 + 4) \\ &= -3(x^3 + 4x + x^2 + 4) \\ &= -3x^3 - 3x^2 - 12x - 12 \end{align} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo \( P(-2) \)</div>
        <p>Uvrstimo \( x = -2 \) u faktorisani oblik (lakse je!):</p>
        <div class="step-math">
          \[ P(-2) = -3 \cdot (-2 + 1) \cdot ((-2)^2 + 4) \]
        </div>
        <p>Racunamo svaki cinilac:</p>
        <div class="step-math">
          \[ -2 + 1 = -1 \]
        </div>
        <div class="step-math">
          \[ (-2)^2 + 4 = 4 + 4 = 8 \]
        </div>
        <p>Mnozimo sve zajedno:</p>
        <div class="step-math">
          \[ P(-2) = -3 \cdot (-1) \cdot 8 = 3 \cdot 8 = 24 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Izracunaj \( P(-2) \) pomocu razvijenog oblika</summary>
            <div class="detail-content">
              <p>\( P(-2) = -3(-2)^3 - 3(-2)^2 - 12(-2) - 12 \)</p>
              <p>\( = -3 \cdot (-8) - 3 \cdot 4 - 12 \cdot (-2) - 12 \)</p>
              <p>\( = 24 - 12 + 24 - 12 = 24 \). Isto!</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">Kljucni uvid</span></div>
    <p>Sustina ovog zadatka je <strong>teorema o konjugovanim korenima</strong>: polinom sa realnim koeficijentima ne moze imati samo \( 2i \) kao koren a da nema i \( -2i \). Kompleksni koreni uvek dolaze u parovima. Zato je najmanji stepen 3, a ne 2. Rad sa faktorisanim oblikom umesto razvijenog oblika drasticno pojednostavljuje racunanje!</p>
    <div class="step-math" style="margin-top: 12px;">
      \[ P(x) = -3(x+1)\underbrace{(x^2+4)}_{\text{od korena } \pm 2i} \implies P(-2) = -3(-1)(8) = 24 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( P(-2) = 24 \)</div>
    <div class="answer-detail">Tacan odgovor je (B)</div>
    <div class="final-options">
      <div class="final-option">(A) \(-12\)</div>
      <div class="final-option correct">(B) \(24\)</div>
      <div class="final-option">(C) \(-30\)</div>
      <div class="final-option">(D) \(-36\)</div>
      <div class="final-option">(E) \(72\)</div>
    </div>
    <p class="verification-note">Provera: \( P(x) = -3(x+1)(x^2+4) \). Koreni: \( P(-1) = 0 \), \( P(2i) = -3(2i+1)(0) = 0 \), \( P(-2i) = 0 \). Uslov: \( P(0) = -3 \cdot 1 \cdot 4 = -12 \). Rezultat: \( P(-2) = -3 \cdot (-1) \cdot 8 = 24 \).</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Zaboravljanje konjugovanog korena:</strong> Ako se ne doda \( -2i \) kao koren, dobija se polinom stepena 2 sa kompleksnim koeficijentima: \( P(x) = a(x+1)(x-2i) \). Ovakav polinom nema realne koeficijente, sto je u suprotnosti sa uslovom zadatka.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Greska sa predznakom kod \( (2i)^2 \):</strong> Cesta greska je pisati \( (2i)^2 = 4 \) umesto \( (2i)^2 = -4 \). Setimo se: \( i^2 = -1 \), pa je \( (2i)^2 = 4 \cdot (-1) = -4 \). Zato je faktor \( x^2 + 4 \), a ne \( x^2 - 4 \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">Dodatni izazov</span></div>
    <p>Neka je \( Q(x) \) polinom najmanjeg stepena sa realnim koeficijentima ciji su koreni \( 1 + i \) i \( 3 \). Ako je \( Q(1) = 6 \), koliko je \( Q(0) \)?</p>
    <details>
      <summary>Pogledaj hint</summary>
      <div class="detail-content">
        <p>Posto je \( 1 + i \) koren, mora i \( 1 - i \) biti koren. Najmanji stepen je 3. Zapisi \( Q(x) = a(x - 3)(x - (1+i))(x - (1-i)) \). Pojednostavi kompleksne faktore: \( (x-1-i)(x-1+i) = (x-1)^2 + 1 = x^2 - 2x + 2 \). Iz uslova \( Q(1) = 6 \) odredi \( a \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function P(x) {
    return -3 * (x + 1) * (x * x + 4);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Main plot area
    const plotLeft = 70;
    const plotRight = W - 180;
    const plotTop = 40;
    const plotBottom = H - 50;
    const plotW = plotRight - plotLeft;
    const plotH = plotBottom - plotTop;

    // Range: x from -4 to 4, y from -120 to 120
    const xMin = -4, xMax = 4;
    const yMin = -120, yMax = 120;

    const toCanvasX = function(x) { return plotLeft + (x - xMin) / (xMax - xMin) * plotW; };
    const toCanvasY = function(y) { return plotBottom - (y - yMin) / (yMax - yMin) * plotH; };

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    for (let x = xMin; x <= xMax; x++) {
      const cx = toCanvasX(x);
      ctx.beginPath();
      ctx.moveTo(cx, plotTop);
      ctx.lineTo(cx, plotBottom);
      ctx.stroke();
    }

    for (let y = -100; y <= 100; y += 20) {
      const cy = toCanvasY(y);
      ctx.beginPath();
      ctx.moveTo(plotLeft, cy);
      ctx.lineTo(plotRight, cy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis
    const yAxisCanvas = toCanvasY(0);
    ctx.beginPath();
    ctx.moveTo(plotLeft, yAxisCanvas);
    ctx.lineTo(plotRight, yAxisCanvas);
    ctx.stroke();
    // y-axis
    const xAxisCanvas = toCanvasX(0);
    ctx.beginPath();
    ctx.moveTo(xAxisCanvas, plotTop);
    ctx.lineTo(xAxisCanvas, plotBottom);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = xMin; x <= xMax; x++) {
      if (x === 0) continue;
      ctx.fillText(x.toString(), toCanvasX(x), plotBottom + 18);
    }
    ctx.textAlign = 'right';
    for (let y = -100; y <= 100; y += 40) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), plotLeft - 8, toCanvasY(y) + 4);
    }
    ctx.fillText('0', xAxisCanvas - 8, yAxisCanvas + 16);

    // Draw curve P(x)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.shadowColor = '#60a5fa';
    ctx.shadowBlur = 8;
    ctx.beginPath();
    var started = false;
    for (let px = xMin; px <= xMax; px += 0.02) {
      var py = P(px);
      var cx = toCanvasX(px);
      var cy = toCanvasY(py);
      if (cy < plotTop - 30 || cy > plotBottom + 30) {
        started = false;
        continue;
      }
      if (!started) {
        ctx.moveTo(cx, cy);
        started = true;
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();
    ctx.shadowBlur = 0;

    // Label the curve
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('P(x) = -3(x+1)(x\u00B2+4)', toCanvasX(1.2), toCanvasY(P(1.8)) - 12);

    // Key points
    var keyPoints = [
      { x: -1, y: 0, label: '(-1, 0)', color: '#34d399', desc: 'Realni koren' },
      { x: 0, y: -12, label: '(0, -12)', color: '#f472b6', desc: 'P(0) = -12' },
      { x: -2, y: 24, label: '(-2, 24)', color: '#4ade80', desc: 'P(-2) = 24' }
    ];

    keyPoints.forEach(function(pt) {
      var cx = toCanvasX(pt.x);
      var cy = toCanvasY(pt.y);

      // Glow
      ctx.beginPath();
      ctx.arc(cx, cy, 12, 0, 2 * Math.PI);
      ctx.fillStyle = pt.color.replace(')', ', 0.2)').replace('rgb', 'rgba').replace('#', '');
      var grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 16);
      grad.addColorStop(0, pt.color + '55');
      grad.addColorStop(1, pt.color + '00');
      ctx.fillStyle = grad;
      ctx.fill();

      // Dot
      ctx.beginPath();
      ctx.arc(cx, cy, 6, 0, 2 * Math.PI);
      ctx.fillStyle = pt.color;
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = pt.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = pt.x < 0 ? 'right' : 'left';
      var offsetX = pt.x < 0 ? -12 : 12;
      var offsetY = pt.y > 0 ? -14 : 18;
      ctx.fillText(pt.label, cx + offsetX, cy + offsetY);
    });

    // Dashed lines from P(-2) to axes
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = '#4ade8055';
    ctx.lineWidth = 1.5;
    var px2 = toCanvasX(-2);
    var py2 = toCanvasY(24);
    // Horizontal to y-axis
    ctx.beginPath();
    ctx.moveTo(px2, py2);
    ctx.lineTo(xAxisCanvas, py2);
    ctx.stroke();
    // Vertical to x-axis
    ctx.beginPath();
    ctx.moveTo(px2, py2);
    ctx.lineTo(px2, yAxisCanvas);
    ctx.stroke();
    ctx.setLineDash([]);

    // ---- Complex plane inset ----
    var insetX = W - 170;
    var insetY = 30;
    var insetW = 155;
    var insetH = 180;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(insetX, insetY, insetW, insetH, 10);
    ctx.fill();
    ctx.stroke();

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Kompleksna ravan', insetX + insetW / 2, insetY + 16);

    var icx = insetX + insetW / 2;
    var icy = insetY + 100;
    var iScale = 22;

    // Inset axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(insetX + 10, icy);
    ctx.lineTo(insetX + insetW - 10, icy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(icx, insetY + 28);
    ctx.lineTo(icx, insetY + insetH - 10);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#475569';
    ctx.font = '10px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('Re', insetX + insetW - 12, icy - 4);
    ctx.textAlign = 'center';
    ctx.fillText('Im', icx + 12, insetY + 34);

    // Plot roots
    var roots = [
      { re: -1, im: 0, label: '-1', color: '#34d399' },
      { re: 0, im: 2, label: '2i', color: '#a78bfa' },
      { re: 0, im: -2, label: '-2i', color: '#a78bfa' }
    ];

    roots.forEach(function(r) {
      var rx = icx + r.re * iScale;
      var ry = icy - r.im * iScale;

      ctx.beginPath();
      ctx.arc(rx, ry, 5, 0, 2 * Math.PI);
      ctx.fillStyle = r.color;
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      ctx.fillStyle = r.color;
      ctx.font = 'bold 11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = r.re < 0 ? 'right' : 'left';
      var lx = r.re < 0 ? rx - 8 : rx + 8;
      ctx.fillText(r.label, lx, ry + 4);
    });

    // Conjugate pair arrow
    ctx.setLineDash([3, 3]);
    ctx.strokeStyle = '#a78bfa55';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(icx, icy - 2 * iScale);
    ctx.lineTo(icx, icy + 2 * iScale);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#a78bfa';
    ctx.font = '9px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('konjugovani par', insetX + insetW / 2, insetY + insetH - 4);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik polinoma P(x) = -3(x+1)(x\u00B2+4)', (plotLeft + plotRight) / 2, 24);
  }

  draw();

  // Step click highlighting
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Polinom najmanjeg stepena sa realnim koeficijentima",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["polinomi", "kompleksni koreni", "konjugovani parovi", "realni koeficijenti", "faktorisanje"]
}
BRAINSPARK_META-->