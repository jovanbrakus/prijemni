<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Broj clanova geometrijske progresije</title>

<script type="text/info" id="logic-scratchpad">
Problem: Naci broj clanova rastuce geometrijske progresije cija su prva dva clana
resenja jednacine (2^(2sinx))/(1+2^(2sinx)) = 1 - (3-2^(2sinx))/(5-2^(2sinx))
na intervalu (0, pi), pri cemu je zbir progresije 651*pi.

KORAK 1: Smena t = 2^(2sin x)
  Leva strana: t/(1+t)
  Desna strana: 1 - (3-t)/(5-t) = (5-t-(3-t))/(5-t) = (5-t-3+t)/(5-t) = 2/(5-t)

KORAK 2: Resavamo t/(1+t) = 2/(5-t)
  Krstasto mnozenje: t(5-t) = 2(1+t)
  5t - t^2 = 2 + 2t
  t^2 - 3t + 2 = 0
  (t-1)(t-2) = 0
  t = 1 ili t = 2

KORAK 3: Vracamo smenu
  t = 1: 2^(2sinx) = 1 = 2^0 => 2sinx = 0 => sinx = 0
    Na (0,pi): sinx = 0 => x = 0 ili x = pi, ali oba su iskljucena iz otvorenog intervala (0,pi)
    Dakle t = 1 ne daje resenja.

  t = 2: 2^(2sinx) = 2 = 2^1 => 2sinx = 1 => sinx = 1/2
    Na (0,pi): x = pi/6 ili x = 5pi/6
    Oba su u otvorenom intervalu (0,pi). OK.

KORAK 4: Formiranje geometrijske progresije
  Resenja: x1 = pi/6, x2 = 5pi/6
  Progresija je rastuca, pa b1 = pi/6, b2 = 5pi/6
  Kolicnik: q = b2/b1 = (5pi/6)/(pi/6) = 5

KORAK 5: Nalazenje broja clanova
  Zbir: S_n = b1 * (q^n - 1)/(q - 1) = (pi/6) * (5^n - 1)/(5 - 1) = (pi/6) * (5^n - 1)/4
  S_n = pi * (5^n - 1) / 24 = 651*pi
  (5^n - 1)/24 = 651
  5^n - 1 = 15624
  5^n = 15625
  5^n = 5^6
  n = 6

Odgovor: (B) 6
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: border-color 0.2s;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
  padding-left: 0;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-highlight {
  margin: 8px 0;
  display: block;
  padding: 10px 16px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #f472b6;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.pitfall-text {
  color: #cbd5e1;
}

.challenge-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

@media (max-width: 600px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .step-content { margin-left: 0; margin-top: 8px; }
  .final-answer-value { font-size: 1.7rem; }
  .final-options { gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.95rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- NASLOV -->
  <h1>Broj clanova geometrijske progresije</h1>
  <p class="subtitle">Eksponencijalna jednacina, trigonometrija i geometrijski red</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</div>
    <div class="problem-text">
      Prva dva clana rastuce geometrijske progresije su resenja jednacine
      <span class="math-highlight">
        \(\dfrac{2^{2\sin x}}{1 + 2^{2\sin x}} = 1 - \dfrac{3 - 2^{2\sin x}}{5 - 2^{2\sin x}}\)
      </span>
      na intervalu \((0, \pi)\). Ako je zbir ove progresije \(651\pi\), tada je ukupan broj njenih clanova jednak:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">(A) 4</div>
      <div class="given-item answer-option correct" data-option="B">(B) 6</div>
      <div class="given-item answer-option" data-option="C">(C) 7</div>
      <div class="given-item answer-option" data-option="D">(D) 10</div>
      <div class="given-item answer-option" data-option="E">(E) 15</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <p class="plan-text">
      1. Uvodimo smenu \(t = 2^{2\sin x}\) da bismo sveli jednacinu na racionalnu po \(t\).<br>
      2. Resavamo racionalnu jednacinu i nalazimo vrednosti \(t\).<br>
      3. Vracamo smenu i nalazimo odgovarajuce vrednosti \(x \in (0, \pi)\).<br>
      4. Od dobijenih resenja formiramo rastucu geometrijsku progresiju.<br>
      5. Koristeci formulu za zbir geometrijske progresije, nalazimo broj clanova \(n\).
    </p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Eksponencijalna funkcija i smena</summary>
      <p style="margin-top: 8px;">
        Ako je \(2^{f(x)} = c\), tada je \(f(x) = \log_2 c\).
        Smena \(t = 2^{f(x)}\) je pogodna jer je \(t > 0\) za svako realno \(f(x)\),
        sto pojednostavljuje analizu domena.
      </p>
    </details>
    <details>
      <summary>Resenja jednacine \(\sin x = \frac{1}{2}\) na \((0, \pi)\)</summary>
      <p style="margin-top: 8px;">
        Na intervalu \((0, \pi)\) funkcija \(\sin x\) je pozitivna.
        Jednacina \(\sin x = \frac{1}{2}\) ima dva resenja:
        \[x_1 = \frac{\pi}{6} \quad \text{i} \quad x_2 = \pi - \frac{\pi}{6} = \frac{5\pi}{6}\]
      </p>
    </details>
    <details>
      <summary>Geometrijska progresija &mdash; zbir prvih \(n\) clanova</summary>
      <p style="margin-top: 8px;">
        Za geometrijsku progresiju sa prvim clanom \(b_1\) i kolicnikom \(q \neq 1\):
        \[S_n = b_1 \cdot \frac{q^n - 1}{q - 1}\]
        Progresija je rastuca ako su svi clanovi pozitivni i \(q > 1\),
        ili ako je \(b_1 < 0\) i \(0 < q < 1\).
      </p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz</div>
    <canvas id="diagram-canvas" width="700" height="450"></canvas>
    <p class="canvas-caption">Levo: resenja sin x = 1/2 na (0, &pi;). Desno: rastuca geometrijska progresija sa q = 5.</p>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Smena \(t = 2^{2\sin x}\)</div>
      </div>
      <div class="step-content">
        <p>Uvodimo smenu \(t = 2^{2\sin x}\), pri cemu je \(t > 0\). Jednacina postaje:</p>
        <div class="math-highlight">
          \[\frac{t}{1 + t} = 1 - \frac{3 - t}{5 - t}\]
        </div>
        <p>Sredujemo desnu stranu &mdash; svodimo na zajednicki imenilac:</p>
        <div class="math-highlight">
          \[1 - \frac{3 - t}{5 - t} = \frac{5 - t - (3 - t)}{5 - t} = \frac{5 - t - 3 + t}{5 - t} = \frac{2}{5 - t}\]
        </div>
        <p>Dakle, jednacina glasi:</p>
        <div class="math-highlight">
          \[\frac{t}{1 + t} = \frac{2}{5 - t}\]
        </div>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Resavanje racionalne jednacine</div>
      </div>
      <div class="step-content">
        <p>Krstasto mnozimo (uz uslov \(t \neq -1\) i \(t \neq 5\), sto je ispunjeno jer \(t > 0\)):</p>
        <div class="math-highlight">
          \[t(5 - t) = 2(1 + t)\]
        </div>
        <p>Raspisujemo:</p>
        <div class="math-highlight">
          \[5t - t^2 = 2 + 2t\]
        </div>
        <p>Prenosimo sve na jednu stranu:</p>
        <div class="math-highlight">
          \[t^2 - 3t + 2 = 0\]
        </div>
        <p>Faktorizujemo:</p>
        <div class="math-highlight">
          \[(t - 1)(t - 2) = 0\]
        </div>
        <p>Resenja su \(t = 1\) i \(t = 2\). Oba su pozitivna, sto je u skladu sa uslovom \(t > 0\).</p>
        <details>
          <summary>&#9989; Proveri sebe: Da li oba resenja zadovoljavaju originalnu jednacinu?</summary>
          <p style="margin-top: 8px;">
            Za \(t = 1\): Leva strana = \(\frac{1}{2}\). Desna strana = \(\frac{2}{5-1} = \frac{2}{4} = \frac{1}{2}\). OK.<br>
            Za \(t = 2\): Leva strana = \(\frac{2}{3}\). Desna strana = \(\frac{2}{5-2} = \frac{2}{3}\). OK.
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Vracanje smene &mdash; nalazenje \(x\)</div>
      </div>
      <div class="step-content">
        <p><strong>Slucaj \(t = 1\):</strong></p>
        <div class="math-highlight">
          \[2^{2\sin x} = 1 = 2^0 \quad \Rightarrow \quad 2\sin x = 0 \quad \Rightarrow \quad \sin x = 0\]
        </div>
        <p>
          Na intervalu \((0, \pi)\): \(\sin x = 0\) daje \(x = 0\) ili \(x = \pi\).
          Medjutim, interval je <strong>otvoren</strong>, pa su \(x = 0\) i \(x = \pi\) iskljuceni.
          Dakle, \(t = 1\) ne daje resenja na \((0, \pi)\).
        </p>

        <p style="margin-top: 16px;"><strong>Slucaj \(t = 2\):</strong></p>
        <div class="math-highlight">
          \[2^{2\sin x} = 2 = 2^1 \quad \Rightarrow \quad 2\sin x = 1 \quad \Rightarrow \quad \sin x = \frac{1}{2}\]
        </div>
        <p>Na intervalu \((0, \pi)\) dobijamo dva resenja:</p>
        <div class="math-highlight">
          \[x_1 = \frac{\pi}{6} \quad \text{i} \quad x_2 = \frac{5\pi}{6}\]
        </div>

        <details>
          <summary>&#9989; Proveri sebe: Zasto \(\sin x = 0\) nema resenja na otvorenom intervalu?</summary>
          <p style="margin-top: 8px;">
            Funkcija \(\sin x\) je jednaka nuli za \(x = k\pi\), gde je \(k \in \mathbb{Z}\).
            Na intervalu \((0, \pi)\), jedine kandidati su \(x = 0\) i \(x = \pi\),
            ali obe tacke su iskljucene jer je interval otvoren (ne sadrzi krajnje tacke).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Formiranje geometrijske progresije</div>
      </div>
      <div class="step-content">
        <p>Resenja jednacine su \(x_1 = \frac{\pi}{6}\) i \(x_2 = \frac{5\pi}{6}\).
           Posto je progresija <strong>rastuca</strong>, prvi clan je manji:</p>
        <div class="math-highlight">
          \[b_1 = \frac{\pi}{6}, \quad b_2 = \frac{5\pi}{6}\]
        </div>
        <p>Kolicnik progresije:</p>
        <div class="math-highlight">
          \[q = \frac{b_2}{b_1} = \frac{\frac{5\pi}{6}}{\frac{\pi}{6}} = \frac{5\pi}{6} \cdot \frac{6}{\pi} = 5\]
        </div>
        <p>Posto je \(q = 5 > 1\) i \(b_1 = \frac{\pi}{6} > 0\), progresija je zaista rastuca.</p>
      </div>
    </div>

    <!-- Korak 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">5</div>
        <div class="step-title">Nalazenje broja clanova \(n\)</div>
      </div>
      <div class="step-content">
        <p>Koristimo formulu za zbir prvih \(n\) clanova geometrijske progresije:</p>
        <div class="math-highlight">
          \[S_n = b_1 \cdot \frac{q^n - 1}{q - 1} = \frac{\pi}{6} \cdot \frac{5^n - 1}{5 - 1} = \frac{\pi}{6} \cdot \frac{5^n - 1}{4}\]
        </div>
        <p>Postavljamo uslov \(S_n = 651\pi\):</p>
        <div class="math-highlight">
          \[\frac{\pi(5^n - 1)}{24} = 651\pi\]
        </div>
        <p>Skracujemo \(\pi\) sa obe strane:</p>
        <div class="math-highlight">
          \[\frac{5^n - 1}{24} = 651\]
        </div>
        <p>Mnozimo sa 24:</p>
        <div class="math-highlight">
          \[5^n - 1 = 15624 \quad \Rightarrow \quad 5^n = 15625\]
        </div>
        <p>Proveravamo: \(5^6 = 15625\), dakle:</p>
        <div class="math-highlight">
          \[n = 6\]
        </div>

        <details>
          <summary>&#9989; Proveri sebe: Da li je zaista \(5^6 = 15625\)?</summary>
          <p style="margin-top: 8px;">
            \(5^1 = 5\), \(5^2 = 25\), \(5^3 = 125\), \(5^4 = 625\), \(5^5 = 3125\), \(5^6 = 15625\). Tacno!
          </p>
        </details>
      </div>
    </div>
  </div>

  <!-- KLJUCNI UVID -->
  <div class="key-insight">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>
      Kljuc zadatka lezi u cinjenici da je interval \((0, \pi)\) <strong>otvoren</strong>.
      Resenje \(t = 1\) daje \(\sin x = 0\), cija resenja (\(x = 0\) i \(x = \pi\)) padaju
      tacno na krajeve intervala i time su iskljucena. Samo \(t = 2\) daje upotrebljiva resenja.
      Takodze, prepoznavanje da je \(15625 = 5^6\) ubrzava poslednji korak.
    </p>
  </div>

  <!-- KONACAN ODGOVOR -->
  <div class="card final-answer-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">&#127919;</span> Konacan odgovor</div>
    <div class="final-answer-value">\(n = 6\)</div>
    <div class="final-options">
      <div class="final-option">(A) 4</div>
      <div class="final-option correct-option">(B) 6</div>
      <div class="final-option">(C) 7</div>
      <div class="final-option">(D) 10</div>
      <div class="final-option">(E) 15</div>
    </div>
    <p class="verification-note">Verifikacija: \(S_6 = \frac{\pi}{6} \cdot \frac{5^6 - 1}{4} = \frac{\pi}{6} \cdot \frac{15624}{4} = \frac{\pi}{6} \cdot 3906 = 651\pi\) &#10004;</p>
  </div>

  <!-- CESTE GRESKE -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Zaboravljanje da je interval otvoren:</strong>
        <span class="pitfall-text">
          Interval \((0, \pi)\) ne ukljucuje krajnje tacke \(0\) i \(\pi\).
          Ako bismo ukljucili \(t = 1\) (koje daje \(\sin x = 0\)), dobili bismo
          pogresna resenja \(x = 0\) ili \(x = \pi\) koja ne pripadaju otvorenom intervalu.
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Pogresan redosled clanova progresije:</strong>
        <span class="pitfall-text">
          Posto je progresija rastuca, mora biti \(b_1 < b_2\), odnosno
          \(b_1 = \frac{\pi}{6}\) i \(b_2 = \frac{5\pi}{6}\).
          Da smo obrnuli redosled, dobili bismo \(q = \frac{1}{5}\), sto bi dalo opadajucu progresiju.
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Greska pri sredivanju desne strane:</strong>
        <span class="pitfall-text">
          Cesta greska je pogresno racunanje \(1 - \frac{3-t}{5-t}\). Treba pazljivo svesti na zajednicki
          imenilac: \(\frac{5-t-(3-t)}{5-t} = \frac{2}{5-t}\), a ne \(\frac{2-2t}{5-t}\).
        </span>
      </div>
    </div>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127947;</span> Dodatni izazov</div>
    <p class="challenge-text">
      Sta ako bi interval bio zatvoren \([0, \pi]\)? Tada bi \(t = 1\) dalo dodatna resenja
      \(x = 0\) i \(x = \pi\). Koliko bi clanova imala geometrijska progresija sa
      prvim clanom \(b_1 = 0\)?
    </p>
    <details>
      <summary>Nagove≈°taj</summary>
      <p style="margin-top: 8px;">
        Geometrijska progresija sa \(b_1 = 0\) ne postoji u klasicnom smislu, jer bi svi
        clanovi bili jednaki nuli (\(b_n = b_1 \cdot q^{n-1} = 0\)). Zato \(x = 0\) ne moze biti
        clan geometrijske progresije. Jedini smislen izbor clanova ostaje \(\frac{\pi}{6}\) i \(\frac{5\pi}{6}\),
        pa bi odgovor i dalje bio \(n = 6\). Razmislite: da li \(x = \pi\) moze biti prvi clan
        sa \(x = 5\pi/6\) kao drugim? Ne, jer bi to davalo \(q < 1\) i opadajucu progresiju.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram-canvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width;
    const H = rect.height;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // --- LEFT HALF: Unit circle with sin x = 1/2 ---
    const cx1 = W * 0.27;
    const cy1 = H * 0.52;
    const R = Math.min(W * 0.21, H * 0.36);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Jedinicni krug: sin x = 1/2', cx1, 24);

    // Axes
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx1 - R - 20, cy1);
    ctx.lineTo(cx1 + R + 20, cy1);
    ctx.moveTo(cx1, cy1 - R - 20);
    ctx.lineTo(cx1, cy1 + R + 20);
    ctx.stroke();

    // Circle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx1, cy1, R, 0, 2 * Math.PI);
    ctx.stroke();

    // y = 1/2 line
    const yHalf = cy1 - R * 0.5;
    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(cx1 - R - 10, yHalf);
    ctx.lineTo(cx1 + R + 10, yHalf);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#fbbf24';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = 1/2', cx1 + R + 14, yHalf + 4);

    // Points pi/6 and 5pi/6
    const angle1 = Math.PI / 6;
    const angle2 = 5 * Math.PI / 6;

    const p1x = cx1 + R * Math.cos(angle1);
    const p1y = cy1 - R * Math.sin(angle1);
    const p2x = cx1 + R * Math.cos(angle2);
    const p2y = cy1 - R * Math.sin(angle2);

    // Radius lines
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx1, cy1);
    ctx.lineTo(p1x, p1y);
    ctx.stroke();

    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx1, cy1);
    ctx.lineTo(p2x, p2y);
    ctx.stroke();

    // Arc for pi/6
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx1, cy1, R * 0.18, -angle1, 0);
    ctx.stroke();

    // Arc for 5pi/6
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx1, cy1, R * 0.25, -Math.PI, -angle2);
    ctx.stroke();

    // Points
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(p1x, p1y, 6, 0, 2 * Math.PI);
    ctx.fill();

    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(p2x, p2y, 6, 0, 2 * Math.PI);
    ctx.fill();

    // Labels
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('\u03C0/6', p1x + 8, p1y - 8);

    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'right';
    ctx.fillText('5\u03C0/6', p2x - 8, p2y - 8);

    // Angle labels
    ctx.fillStyle = '#60a5fa';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('30\u00B0', cx1 + R * 0.22, cy1 - 4);

    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'right';
    ctx.fillText('150\u00B0', cx1 - R * 0.15, cy1 - 10);

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', cx1 + R + 28, cy1 + 4);
    ctx.fillText('y', cx1 + 4, cy1 - R - 10);

    // --- RIGHT HALF: Geometric progression visualization ---
    const startX = W * 0.54;
    const barAreaW = W * 0.42;
    const barTop = 60;
    const barBottom = H - 40;

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Geometrijska progresija: b\u2081 = \u03C0/6, q = 5', startX + barAreaW / 2, 24);

    // Show first 6 terms as bars (log scale for visualization)
    const terms = [];
    let val = 1;
    for (let i = 0; i < 6; i++) {
      terms.push(val);
      val *= 5;
    }
    // terms: 1, 5, 25, 125, 625, 3125 (multiplied by pi/6)

    const maxLog = Math.log(terms[5]);
    const barW = barAreaW / 8;
    const barGap = (barAreaW - 6 * barW) / 7;
    const maxBarH = barBottom - barTop - 40;

    terms.forEach((t, i) => {
      const barH = Math.max(8, (Math.log(t) / maxLog) * maxBarH + 8);
      const x = startX + barGap + i * (barW + barGap);
      const y = barBottom - barH;

      // Gradient bar
      const grad = ctx.createLinearGradient(x, y, x, barBottom);
      grad.addColorStop(0, '#60a5fa');
      grad.addColorStop(1, '#a78bfa');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.roundRect(x, y, barW, barH, [4, 4, 0, 0]);
      ctx.fill();

      // Term label above bar
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      const label = t === 1 ? '\u03C0/6' :
                    t === 5 ? '5\u03C0/6' :
                    t === 25 ? '25\u03C0/6' :
                    t === 125 ? '125\u03C0/6' :
                    t === 625 ? '625\u03C0/6' :
                    '3125\u03C0/6';
      ctx.fillText(label, x + barW / 2, y - 14);

      // Index label below bar
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText('b' + (i + 1), x + barW / 2, barBottom + 16);

      // Multiplier arrow
      if (i < 5) {
        const arrowX = x + barW + barGap / 2;
        const arrowY = barBottom + 30;
        ctx.fillStyle = '#fbbf24';
        ctx.font = 'bold 11px Segoe UI, system-ui, sans-serif';
        ctx.fillText('\u00D75', arrowX, arrowY);
      }
    });

    // Sum annotation
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S\u2086 = (1+5+25+125+625+3125)\u00B7\u03C0/6 = 651\u03C0', startX + barAreaW / 2, barTop - 4);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Broj clanova geometrijske progresije iz eksponencijalne jednacine",
  "subject": "math",
  "unit": "sequences_and_series",
  "topic_tags": ["geometrijska progresija", "eksponencijalna jednacina", "trigonometrija", "smena", "zbir geometrijskog reda"]
}
BRAINSPARK_META-->