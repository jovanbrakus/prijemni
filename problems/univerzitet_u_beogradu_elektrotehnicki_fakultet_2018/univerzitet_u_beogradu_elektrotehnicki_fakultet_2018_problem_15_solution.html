<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kvadratna funkcija sa parametrom — nule i nenegativnost na segmentu</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Data je f(x) = x² - 2αx + α² + 2α - 8, α ∈ ℝ.
S = {α : f ima bar jednu realnu nulu I f(x) ≥ 0 za svako x ∈ [0,3]}.

KORAK 1: Prepisivanje funkcije.
f(x) = x² - 2αx + α² + 2α - 8
     = (x - α)² + (2α - 8)

Ovo je parabola otvorena nagore sa temenom u T(α, 2α - 8).

KORAK 2: Uslov za postojanje realne nule.
f ima realnu nulu ⟺ minimalna vrednost ≤ 0 ⟺ 2α - 8 ≤ 0 ⟺ α ≤ 4.

Alternativno, diskriminanta: D = 4α² - 4(α² + 2α - 8) = -8α + 32 ≥ 0 ⟹ α ≤ 4. ✓

KORAK 3: Uslov f(x) ≥ 0 za svako x ∈ [0, 3].
Razmatramo tri slučaja prema položaju temena x = α u odnosu na [0, 3].

Slučaj A: α < 0 (teme levo od [0,3]).
Funkcija f je opadajuća pa rastuća, teme je van segmenta. Na [0,3] je f rastuća (jer je α < 0 < 3).
Zapravo, na [0,3] je f opadajuća do x=α (ali α < 0, pa na celom [0,3] f je rastuća).
Dakle minimum na [0,3] je u x=0: f(0) ≥ 0.
f(0) = α² + 2α - 8 = (α+4)(α-2) ≥ 0 ⟹ α ≤ -4 ili α ≥ 2.
Pošto α < 0, dobijamo α ≤ -4.
Provera f(3): f(3) = 9 - 6α + α² + 2α - 8 = α² - 4α + 1 = (α-2)² - 3.
Za α ≤ -4: (α-2)² ≥ (-4-2)² = 36 > 3, dakle f(3) > 0. ✓

Slučaj B: 0 ≤ α ≤ 3 (teme unutar [0,3]).
Minimum na [0,3] je u temenu: f(α) = 2α - 8.
Uslov: 2α - 8 ≥ 0 ⟹ α ≥ 4.
Ali α ≤ 3, kontradikcija. Nema rešenja.

Slučaj C: α > 3 (teme desno od [0,3]).
Na [0,3] je f opadajuća (jer teme je desno). Minimum je u x=3:
f(3) = α² - 4α + 1 ≥ 0
α² - 4α + 1 = 0 ⟹ α = (4 ± √(16-4))/2 = 2 ± √3.
Pošto α > 3 i 2+√3 ≈ 3,732:
f(3) ≥ 0 ⟺ α ≤ 2-√3 ili α ≥ 2+√3.
Pošto α > 3: α ∈ [2+√3, +∞).
Provera f(0): f(0) = (α+4)(α-2). Za α > 3: oba faktora pozitivna, f(0) > 0. ✓
Kombinujemo sa α ≤ 4: α ∈ [2+√3, 4].

REZULTAT: S = (-∞, -4] ∪ [2+√3, 4].
Odgovor: (B)
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:0.95rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option].wrong{border-color:#f87171;background:rgba(248,113,113,0.08)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-list{list-style:none;counter-reset:plan}
.plan-list li{counter-increment:plan;padding:6px 0;padding-left:32px;position:relative}
.plan-list li::before{content:counter(plan);position:absolute;left:0;top:6px;background:#60a5fa;color:#0f172a;width:22px;height:22px;border-radius:50%;font-size:0.78rem;font-weight:700;display:flex;align-items:center;justify-content:center}
details{margin-top:4px}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%}
.step{margin-bottom:18px}
.step:last-child{margin-bottom:0}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.step-content .math-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:12px 0;color:#93bbfc;font-weight:600}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.case-label{display:inline-block;background:rgba(96,165,250,0.15);border:1px solid rgba(96,165,250,0.3);border-radius:6px;padding:2px 10px;font-weight:700;color:#60a5fa;font-size:0.85rem;margin-bottom:6px}
.case-result{font-weight:700}
.case-result.ok{color:#4ade80}
.case-result.fail{color:#f87171}
.canvas-caption{text-align:center;color:#94a3b8;font-size:0.88rem;margin-top:8px}
@media(max-width:600px){h1{font-size:1.4rem}.card{padding:16px}.given-grid{grid-template-columns:1fr}.final-answer-value{font-size:1.2rem}}
</style>
</head>
<body>

<h1>Kvadratna funkcija sa parametrom</h1>
<p class="subtitle">Algebra | Analiza uslova na segment i postojanje nula</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Data je funkcija \(f(x) = x^2 - 2\alpha x + \alpha^2 + 2\alpha - 8\), gde je \(\alpha \in \mathbb{R}\). Neka je \(S\) skup svih vrednosti realnog parametra \(\alpha\) takvih da funkcija \(f\) ima bar jednu realnu nulu i za koje važi \(f(x) \geq 0\) za svako \(x \in [0, 3]\). Tada je skup \(S\) jednak:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">(A) \((-\infty, -4]\)</div>
    <div class="given-item answer-option" data-option="B">(B) \((-\infty, -4] \cup [2+\sqrt{3},\; 4]\)</div>
    <div class="given-item answer-option" data-option="C">(C) \([4, +\infty)\)</div>
    <div class="given-item answer-option" data-option="D">(D) \((-\infty, -4] \cup [3,\; 4]\)</div>
    <div class="given-item answer-option" data-option="E">(E) Nijedan od ponudjenih odgovora</div>
  </div>
</div>

<!-- Plan resavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
  <ol class="plan-list">
    <li>Zapisati \(f(x)\) u kanonskom obliku i odrediti teme parabole</li>
    <li>Iz uslova postojanja realne nule naci ogranicenje za \(\alpha\)</li>
    <li>Analizirati uslov \(f(x) \geq 0\) na \([0,3]\) u zavisnosti od polozaja temena</li>
    <li>Odrediti presek svih uslova i formirati skup \(S\)</li>
  </ol>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>Kanonski oblik kvadratne funkcije</summary>
    <div class="theory-content">
      <p>Svaka kvadratna funkcija \(f(x) = ax^2 + bx + c\) moze se zapisati u obliku:</p>
      <div class="formula-box">
        \[f(x) = a(x - x_0)^2 + y_0\]
      </div>
      <p>gde je \(T(x_0, y_0)\) teme parabole. Za \(a > 0\), teme je minimum funkcije, pa je \(y_0\) najmanja vrednost.</p>
    </div>
  </details>
  <details>
    <summary>Minimum kvadratne funkcije na zatvorenom segmentu</summary>
    <div class="theory-content">
      <p>Ako je parabola otvorena nagore (\(a > 0\)), njen minimum na segmentu \([p, q]\) se dostize:</p>
      <div class="formula-box">
        \[\min_{x \in [p,q]} f(x) = \begin{cases}
        f(x_0) & \text{ako } x_0 \in [p,q] \\
        f(p) & \text{ako } x_0 < p \\
        f(q) & \text{ako } x_0 > q
        \end{cases}\]
      </div>
      <p>Ovo je kljucno za analizu uslova \(f(x) \geq 0\) na datom segmentu.</p>
    </div>
  </details>
  <details>
    <summary>Diskriminanta i postojanje realnih nula</summary>
    <div class="theory-content">
      <p>Kvadratna jednacina \(ax^2 + bx + c = 0\) ima bar jednu realnu nulu ako i samo ako je diskriminanta nenegativna:</p>
      <div class="formula-box">
        \[D = b^2 - 4ac \geq 0\]
      </div>
      <p>Ekvivalentno, za parabolu otvorenu nagore, realne nule postoje ako i samo ako je minimalna vrednost \(\leq 0\).</p>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
  <div class="canvas-wrap">
    <canvas id="vizCanvas" width="760" height="440"></canvas>
  </div>
  <p class="canvas-caption">Brojcana osa za \(\alpha\): zeleno oznacava skup \(S\). Prevlacite mis za detalje.</p>
</div>

<!-- Koraci resenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

  <div class="step">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Kanonski oblik funkcije</strong></p>
      <p>Dopunimo do potpunog kvadrata:</p>
      <div class="math-box">
        \[f(x) = x^2 - 2\alpha x + \alpha^2 + 2\alpha - 8 = (x - \alpha)^2 + (2\alpha - 8)\]
      </div>
      <p>Teme parabole je u tacki \(T(\alpha,\; 2\alpha - 8)\). Parabola je otvorena nagore (koeficijent uz \(x^2\) je \(1 > 0\)).</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Uslov 1: Postojanje bar jedne realne nule</strong></p>
      <p>Funkcija \(f\) ima realnu nulu ako i samo ako njena minimalna vrednost nije pozitivna:</p>
      <div class="math-box">
        \[f_{\min} = 2\alpha - 8 \leq 0 \quad \Longleftrightarrow \quad \alpha \leq 4\]
      </div>
      <p>Verifikacija diskriminantom: \(D = 4\alpha^2 - 4(\alpha^2 + 2\alpha - 8) = -8\alpha + 32 \geq 0\), sto takodje daje \(\alpha \leq 4\).</p>
    </div>
  </div>

  <div class="checkpoint">Kontrolna tacka 1: Iz uslova postojanja nule imamo \(\alpha \leq 4\).</div>

  <div class="step">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Uslov 2: \(f(x) \geq 0\) za svako \(x \in [0,3]\)</strong></p>
      <p>Minimum funkcije na segmentu \([0,3]\) zavisi od polozaja temena \(x = \alpha\) u odnosu na segment. Razlikujemo tri slucaja:</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 3a</div>
    <div class="step-content">
      <p><span class="case-label">Slucaj A: \(\alpha < 0\)</span></p>
      <p>Teme je levo od segmenta \([0,3]\). Na celom segmentu funkcija je rastuca, pa se minimum dostize u \(x = 0\):</p>
      <div class="math-box">
        \[f(0) = \alpha^2 + 2\alpha - 8 = (\alpha + 4)(\alpha - 2) \geq 0\]
      </div>
      <p>Ovo vazi kada \(\alpha \leq -4\) ili \(\alpha \geq 2\). Posto je \(\alpha < 0\), ostaje:</p>
      <div class="math-box">
        \[\alpha \leq -4\]
      </div>
      <p>Proveravamo i \(f(3)\) za sigurnost: \(f(3) = 9 - 6\alpha + \alpha^2 + 2\alpha - 8 = (\alpha - 2)^2 - 3\). Za \(\alpha \leq -4\): \((\alpha - 2)^2 \geq 36 > 3\), dakle \(f(3) > 0\). <span class="case-result ok">Ispunjeno.</span></p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 3b</div>
    <div class="step-content">
      <p><span class="case-label">Slucaj B: \(0 \leq \alpha \leq 3\)</span></p>
      <p>Teme je unutar segmenta \([0,3]\). Minimum na segmentu je u samom temenu:</p>
      <div class="math-box">
        \[f(\alpha) = 2\alpha - 8 \geq 0 \quad \Longleftrightarrow \quad \alpha \geq 4\]
      </div>
      <p>Ali \(\alpha \leq 3\), sto je kontradikcija. <span class="case-result fail">Nema resenja u ovom slucaju.</span></p>
    </div>
  </div>

  <div class="checkpoint">Kontrolna tacka 2: Za \(0 \leq \alpha \leq 3\) parabola secce x-osu i njen minimum na \([0,3]\) je negativan, pa uslov \(f \geq 0\) na segmentu ne moze biti ispunjen.</div>

  <div class="step">
    <div class="step-badge">KORAK 3c</div>
    <div class="step-content">
      <p><span class="case-label">Slucaj C: \(\alpha > 3\)</span></p>
      <p>Teme je desno od segmenta \([0,3]\). Na celom segmentu funkcija je opadajuca, pa se minimum dostize u \(x = 3\):</p>
      <div class="math-box">
        \[f(3) = \alpha^2 - 4\alpha + 1 \geq 0\]
      </div>
      <p>Resavamo kvadratnu jednacinu \(\alpha^2 - 4\alpha + 1 = 0\):</p>
      <div class="math-box">
        \[\alpha = \frac{4 \pm \sqrt{16 - 4}}{2} = 2 \pm \sqrt{3}\]
      </div>
      <p>Posto je \(2 - \sqrt{3} \approx 0{,}27\) i \(2 + \sqrt{3} \approx 3{,}73\), a parabola po \(\alpha\) je otvorena nagore:</p>
      <div class="math-box">
        \[\alpha^2 - 4\alpha + 1 \geq 0 \quad \Longleftrightarrow \quad \alpha \leq 2 - \sqrt{3} \;\;\text{ili}\;\; \alpha \geq 2 + \sqrt{3}\]
      </div>
      <p>Kombinujemo sa uslovom \(\alpha > 3\): posto \(2 + \sqrt{3} \approx 3{,}73 > 3\), dobijamo \(\alpha \in [2 + \sqrt{3},\; +\infty)\).</p>
      <p>Proveravamo i \(f(0) = (\alpha+4)(\alpha-2)\). Za \(\alpha > 3\) su oba faktora pozitivna, dakle \(f(0) > 0\). <span class="case-result ok">Ispunjeno.</span></p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Presek svih uslova</strong></p>
      <p>Iz Koraka 2 imamo \(\alpha \leq 4\). Iz Koraka 3 dobijamo da uslov nenegativnosti na \([0,3]\) daje:</p>
      <div class="math-box">
        \[\alpha \in (-\infty, -4] \cup [2 + \sqrt{3},\; +\infty)\]
      </div>
      <p>Presek sa uslovom \(\alpha \leq 4\):</p>
      <div class="math-box">
        \[S = (-\infty, -4] \cup [2 + \sqrt{3},\; 4]\]
      </div>
    </div>
  </div>

  <div class="checkpoint">Kontrolna tacka 3: Proverimo granicne vrednosti. Za \(\alpha = -4\): \(f(x) = (x+4)^2 - 16 \geq 0\) na \([0,3]\) jer \(f(0) = 0\), \(f(3) = 33 > 0\). Za \(\alpha = 4\): \(f(x) = (x-4)^2\), nula u \(x = 4\), a na \([0,3]\): \(f(0) = 16 > 0\), \(f(3) = 1 > 0\). Za \(\alpha = 2+\sqrt{3}\): \(f(3) = 0\), granicno ispunjeno.</div>
</div>

<!-- Kljucni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
  <p class="insight-text">
    Zadatak zahteva istovremeno dva suprotstavljena uslova: funkcija mora imati realne nule (teme dovoljno nisko), ali mora biti nenegativna na \([0,3]\) (teme ne sme biti prenisko u tom delu). Resenje lezi u tome da se nule parabole nalaze van segmenta \([0,3]\) — ili daleko levo (za \(\alpha \leq -4\)) ili blizu desnog kraja i desno od njega (za \(\alpha \in [2+\sqrt{3},\; 4]\)).
  </p>
</div>

<!-- Konacan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konacan odgovor</div>
  <div class="final-answer-label">Skup \(S\) je:</div>
  <div class="final-answer-value">\(\displaystyle S = (-\infty, -4] \cup [2 + \sqrt{3},\; 4]\)</div>
  <div class="final-answer-label">Odgovor je (B)</div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguce zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Zaboravljanje uslova postojanja nule.</strong> Bez tog uslova dobili bismo i \(\alpha > 4\), gde je \(f(x) > 0\) svuda (pa i na \([0,3]\)), ali funkcija nema realnu nulu. Uslov \(\alpha \leq 4\) odseca desni deo.
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Zamena \(2 + \sqrt{3}\) sa \(3\).</strong> Granicna vrednost \(2 + \sqrt{3} \approx 3{,}73\) nije jednaka \(3\). Za \(\alpha = 3\): \(f(3) = 9 - 12 + 1 = -2 < 0\), sto krsi uslov nenegativnosti. Odgovor (D) je pogresan upravo zbog ove greske.
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Nepotpuna analiza slucajeva.</strong> Ako se ne razmotri slucaj \(\alpha > 3\) zasebno, lako se propusti deo resenja \([2+\sqrt{3},\; 4]\) i odabere se pogresan odgovor (A).
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Izazov za razmisljanje</div>
  <p class="challenge-text">
    Kako bi se promenio skup \(S\) ako umesto segmenta \([0, 3]\) imamo segment \([0, 5]\)? Razmislite koji od tri slucaja bi se promenio i zasto.
  </p>
</div>

<script>
(function(){
  /* ===== Canvas: vizuelni prikaz na brojevnoj osi ===== */
  var canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width, H = canvas.height;

  var BG = '#1e293b';
  var GRID = '#334155';
  var TEXT = '#94a3b8';
  var BLUE = '#60a5fa';
  var PURPLE = '#a78bfa';
  var GREEN = '#4ade80';
  var GREEN2 = '#34d399';
  var RED = '#f87171';
  var MUTED = '#64748b';

  var sqrt3 = Math.sqrt(3);
  var alpha1 = 2 + sqrt3; /* ≈ 3.732 */

  /* Parametri za gornji grafik: brojevna osa za alpha */
  var axisY = 70;
  var axisLeft = 60;
  var axisRight = W - 40;
  var axisW = axisRight - axisLeft;
  var aMin = -7, aMax = 6;

  function toX(a) { return axisLeft + (a - aMin) / (aMax - aMin) * axisW; }
  function fromX(px) { return aMin + (px - axisLeft) / axisW * (aMax - aMin); }

  /* Parametri za donji grafik: parabole f(x) za razlicite alpha */
  var gTop = 160, gBot = H - 40;
  var gLeft = 80, gRight = W - 40;
  var gW = gRight - gLeft, gH = gBot - gTop;
  var xMin = -2, xMax = 8, yMinG = -12, yMaxG = 20;

  function toGX(x) { return gLeft + (x - xMin) / (xMax - xMin) * gW; }
  function toGY(y) { return gTop + (yMaxG - y) / (yMaxG - yMinG) * gH; }

  var mouseCanvasX = -1000, mouseCanvasY = -1000, showMouse = false;

  function fVal(x, alpha) {
    return (x - alpha) * (x - alpha) + 2 * alpha - 8;
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    /* ===== Gornji deo: brojevna osa za alpha ===== */
    ctx.fillStyle = TEXT;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Brojevna osa za \u03B1 (zeleno = skup S)', W / 2, 24);

    /* Osa */
    ctx.strokeStyle = MUTED;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(axisLeft, axisY);
    ctx.lineTo(axisRight, axisY);
    ctx.stroke();

    /* Oznake */
    ctx.fillStyle = TEXT;
    ctx.font = '12px monospace';
    ctx.textAlign = 'center';
    for (var ia = Math.ceil(aMin); ia <= Math.floor(aMax); ia++) {
      var tx = toX(ia);
      ctx.beginPath(); ctx.moveTo(tx, axisY - 4); ctx.lineTo(tx, axisY + 4); ctx.stroke();
      ctx.fillText(ia.toString(), tx, axisY + 18);
    }

    /* Oznaka za 2+sqrt(3) */
    var txS = toX(alpha1);
    ctx.beginPath(); ctx.moveTo(txS, axisY - 4); ctx.lineTo(txS, axisY + 4); ctx.stroke();
    ctx.fillStyle = GREEN;
    ctx.font = '11px monospace';
    ctx.fillText('2+\u221A3', txS, axisY + 30);
    ctx.fillStyle = TEXT;
    ctx.font = '12px monospace';

    /* Skup S: (-inf, -4] u [2+sqrt3, 4] */
    ctx.fillStyle = 'rgba(52,211,153,0.25)';
    /* Deo (-inf, -4] */
    ctx.fillRect(axisLeft, axisY - 10, toX(-4) - axisLeft, 20);
    /* Deo [2+sqrt3, 4] */
    ctx.fillRect(toX(alpha1), axisY - 10, toX(4) - toX(alpha1), 20);

    /* Zelene linije preko */
    ctx.strokeStyle = GREEN2;
    ctx.lineWidth = 3;
    ctx.beginPath(); ctx.moveTo(axisLeft, axisY); ctx.lineTo(toX(-4), axisY); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(toX(alpha1), axisY); ctx.lineTo(toX(4), axisY); ctx.stroke();

    /* Tacke na krajevima */
    function filledCircle(cx, cy, r, color) {
      ctx.fillStyle = color;
      ctx.beginPath(); ctx.arc(cx, cy, r, 0, 2 * Math.PI); ctx.fill();
    }
    filledCircle(toX(-4), axisY, 5, GREEN2);
    filledCircle(toX(alpha1), axisY, 5, GREEN2);
    filledCircle(toX(4), axisY, 5, GREEN2);

    /* Strelica levo */
    ctx.fillStyle = GREEN2;
    ctx.beginPath();
    ctx.moveTo(axisLeft, axisY);
    ctx.lineTo(axisLeft + 10, axisY - 6);
    ctx.lineTo(axisLeft + 10, axisY + 6);
    ctx.closePath();
    ctx.fill();

    /* Crvena oblast [0,3] — segment na kome f >= 0 */
    /* Ne treba crtati na istoj osi, preskacemo */

    /* ===== Donji deo: grafici parabola ===== */
    ctx.fillStyle = TEXT;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafici f(x) = (x \u2212 \u03B1)\u00B2 + 2\u03B1 \u2212 8 za razne \u03B1, segment [0, 3] oznacen', W / 2, gTop - 10);

    /* Mreza */
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 0.5;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      var px = toGX(gx);
      ctx.beginPath(); ctx.moveTo(px, gTop); ctx.lineTo(px, gBot); ctx.stroke();
    }
    for (var gy = Math.ceil(yMinG / 5) * 5; gy <= yMaxG; gy += 5) {
      var py = toGY(gy);
      ctx.beginPath(); ctx.moveTo(gLeft, py); ctx.lineTo(gRight, py); ctx.stroke();
    }

    /* Ose */
    ctx.strokeStyle = MUTED;
    ctx.lineWidth = 1.5;
    var y0 = toGY(0);
    ctx.beginPath(); ctx.moveTo(gLeft, y0); ctx.lineTo(gRight, y0); ctx.stroke();
    var x0g = toGX(0);
    if (x0g >= gLeft && x0g <= gRight) {
      ctx.beginPath(); ctx.moveTo(x0g, gTop); ctx.lineTo(x0g, gBot); ctx.stroke();
    }

    /* Oznake osa */
    ctx.fillStyle = TEXT;
    ctx.font = '11px monospace';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
      if (lx === 0) continue;
      ctx.fillText(lx.toString(), toGX(lx), y0 + 14);
    }
    ctx.textAlign = 'right';
    for (var ly = -10; ly <= yMaxG; ly += 5) {
      if (ly === 0) continue;
      ctx.fillText(ly.toString(), gLeft - 6, toGY(ly) + 4);
    }

    /* Oznaka segmenta [0,3] */
    ctx.fillStyle = 'rgba(167,139,250,0.12)';
    ctx.fillRect(toGX(0), gTop, toGX(3) - toGX(0), gH);
    ctx.strokeStyle = 'rgba(167,139,250,0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath(); ctx.moveTo(toGX(0), gTop); ctx.lineTo(toGX(0), gBot); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(toGX(3), gTop); ctx.lineTo(toGX(3), gBot); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = PURPLE;
    ctx.font = '11px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('[0, 3]', (toGX(0) + toGX(3)) / 2, gBot + 16);

    /* Parabole za razne alpha */
    var cases = [
      { a: -5, color: GREEN, dash: [], label: '\u03B1 = \u22125 (u S)' },
      { a: -4, color: GREEN2, dash: [], label: '\u03B1 = \u22124 (granica S)' },
      { a: 1, color: RED, dash: [6, 4], label: '\u03B1 = 1 (van S)' },
      { a: alpha1, color: '#fbbf24', dash: [], label: '\u03B1 = 2+\u221A3 (granica S)' },
      { a: 4, color: BLUE, dash: [], label: '\u03B1 = 4 (granica S)' }
    ];

    cases.forEach(function(c) {
      ctx.strokeStyle = c.color;
      ctx.lineWidth = 2;
      ctx.setLineDash(c.dash);
      ctx.beginPath();
      var started = false;
      for (var sx = xMin; sx <= xMax; sx += 0.05) {
        var sy = fVal(sx, c.a);
        if (sy < yMinG - 2 || sy > yMaxG + 2) { started = false; continue; }
        var cpx = toGX(sx), cpy = toGY(sy);
        if (!started) { ctx.moveTo(cpx, cpy); started = true; }
        else { ctx.lineTo(cpx, cpy); }
      }
      ctx.stroke();
      ctx.setLineDash([]);
    });

    /* Legenda */
    var legX = gRight - 210, legY = gTop + 10;
    ctx.fillStyle = 'rgba(15,23,42,0.88)';
    ctx.beginPath();
    if (ctx.roundRect) { ctx.roundRect(legX - 8, legY - 6, 220, cases.length * 20 + 12, 8); }
    else { ctx.rect(legX - 8, legY - 6, 220, cases.length * 20 + 12); }
    ctx.fill();
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 1;
    ctx.stroke();

    cases.forEach(function(c, i) {
      var ly2 = legY + i * 20 + 10;
      ctx.strokeStyle = c.color;
      ctx.lineWidth = 2.5;
      ctx.setLineDash(c.dash);
      ctx.beginPath(); ctx.moveTo(legX, ly2); ctx.lineTo(legX + 22, ly2); ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle = c.color;
      ctx.font = '11px sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(c.label, legX + 28, ly2 + 4);
    });

    /* Mis tooltip */
    if (showMouse && mouseCanvasX >= gLeft && mouseCanvasX <= gRight && mouseCanvasY >= gTop && mouseCanvasY <= gBot) {
      var mx = xMin + (mouseCanvasX - gLeft) / gW * (xMax - xMin);
      var my = yMaxG - (mouseCanvasY - gTop) / gH * (yMaxG - yMinG);

      ctx.setLineDash([3, 3]);
      ctx.strokeStyle = 'rgba(148,163,184,0.3)';
      ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(mouseCanvasX, gTop); ctx.lineTo(mouseCanvasX, gBot); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(gLeft, mouseCanvasY); ctx.lineTo(gRight, mouseCanvasY); ctx.stroke();
      ctx.setLineDash([]);

      var tipText = 'x=' + mx.toFixed(2) + ', y=' + my.toFixed(2);
      var tipW = 150, tipH = 22;
      var tipX = mouseCanvasX + 12, tipY = mouseCanvasY - 28;
      if (tipX + tipW > W) tipX = mouseCanvasX - tipW - 12;
      if (tipY < gTop) tipY = mouseCanvasY + 12;
      ctx.fillStyle = 'rgba(15,23,42,0.92)';
      ctx.beginPath();
      if (ctx.roundRect) ctx.roundRect(tipX, tipY, tipW, tipH, 5);
      else ctx.rect(tipX, tipY, tipW, tipH);
      ctx.fill();
      ctx.strokeStyle = GRID;
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '11px monospace';
      ctx.textAlign = 'center';
      ctx.fillText(tipText, tipX + tipW / 2, tipY + 15);
    }
  }

  draw();

  canvas.addEventListener('mousemove', function(e) {
    var r = canvas.getBoundingClientRect();
    mouseCanvasX = (e.clientX - r.left) * (W / r.width);
    mouseCanvasY = (e.clientY - r.top) * (H / r.height);
    showMouse = true;
    draw();
  });

  canvas.addEventListener('mouseleave', function() {
    showMouse = false;
    draw();
  });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    var r = canvas.getBoundingClientRect();
    var t = e.touches[0];
    mouseCanvasX = (t.clientX - r.left) * (W / r.width);
    mouseCanvasY = (t.clientY - r.top) * (H / r.height);
    showMouse = true;
    draw();
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    var r = canvas.getBoundingClientRect();
    var t = e.touches[0];
    mouseCanvasX = (t.clientX - r.left) * (W / r.width);
    mouseCanvasY = (t.clientY - r.top) * (H / r.height);
    showMouse = true;
    draw();
  });

  canvas.addEventListener('touchend', function() {
    showMouse = false;
    draw();
  });

  /* ===== Interaktivno biranje odgovora ===== */
  document.addEventListener('DOMContentLoaded', function() {
    var options = document.querySelectorAll('.answer-option');
    options.forEach(function(opt) {
      opt.addEventListener('click', function() {
        options.forEach(function(o) { o.classList.remove('correct'); o.classList.remove('wrong'); });
        if (opt.getAttribute('data-option') === 'B') {
          opt.classList.add('correct');
        } else {
          opt.classList.add('wrong');
          setTimeout(function() { opt.classList.remove('wrong'); }, 1200);
        }
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META{"title":"Kvadratna funkcija sa parametrom — nule i nenegativnost na segmentu","subject":"math","unit":"algebra","topic_tags":["kvadratna funkcija","parametar","nule funkcije","nenegativnost na segmentu","analiza slucajeva","diskriminanta"]}BRAINSPARK_META-->