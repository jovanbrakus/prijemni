<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vrednost trigonometrijsko-logaritamskog izraza</title>

<script type="text/info" id="logic-scratchpad">
Problem: Izracunati cos^2(2190°) + sqrt((-3)^2) / i^2020 + log_5(1/125)

DEO 1: cos^2(2190°)
  2190 / 360 = 6.083...
  2190 = 6 * 360 + 30
  Dakle cos(2190°) = cos(30°) = sqrt(3)/2
  cos^2(2190°) = (sqrt(3)/2)^2 = 3/4

DEO 2: sqrt((-3)^2) / i^2020
  sqrt((-3)^2) = sqrt(9) = 3  (jer sqrt vraca pozitivnu vrednost)
  i^2020: 2020 / 4 = 505, ostatak 0
  i^4 = 1, pa i^2020 = (i^4)^505 = 1^505 = 1
  Dakle: 3 / 1 = 3

DEO 3: log_5(1/125)
  125 = 5^3
  1/125 = 5^(-3)
  log_5(5^(-3)) = -3

UKUPNO: 3/4 + 3 + (-3) = 3/4

Odgovor: (A) 3/4
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: border-color 0.2s;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
  padding-left: 0;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-highlight {
  margin: 8px 0;
  display: block;
  padding: 10px 16px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #f472b6;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.pitfall-text {
  color: #cbd5e1;
}

.challenge-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

@media (max-width: 600px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .step-content { margin-left: 0; margin-top: 8px; }
  .final-answer-value { font-size: 1.7rem; }
  .final-options { gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.95rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- NASLOV -->
  <h1>Vrednost trigonometrijsko-logaritamskog izraza</h1>
  <p class="subtitle">Kombinacija trigonometrije, kompleksnih brojeva i logaritama</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</div>
    <div class="problem-text">
      Vrednost izraza
      <span class="math-highlight">
        \(\cos^2 2190° + \dfrac{\sqrt{(-3)^2}}{i^{2020}} + \log_5 \dfrac{1}{125}\)
      </span>
      jednaka je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">(A) \(\dfrac{3}{4}\)</div>
      <div class="given-item answer-option" data-option="B">(B) \(1 + i\)</div>
      <div class="given-item answer-option" data-option="C">(C) \(\dfrac{\sqrt{3}}{2} + 3(i - 1)\)</div>
      <div class="given-item answer-option" data-option="D">(D) \(0\)</div>
      <div class="given-item answer-option" data-option="E">(E) \(1\)</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <p class="plan-text">
      Izraz se sastoji od tri nezavisna dela. Svaki deo cemo izracunati posebno koristeci
      osobine trigonometrijskih funkcija (svodeenje ugla), stepene imaginarne jedinice i
      logaritamska pravila, a zatim cemo sabrati rezultate.
    </p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Redukcija ugla trigonometrijskih funkcija</summary>
      <p style="margin-top: 8px;">
        Kosinus je periodicna funkcija sa periodom \(360°\):
        \[\cos(\alpha + k \cdot 360°) = \cos \alpha, \quad k \in \mathbb{Z}\]
        Dovoljno je pronaci ostatak pri deljenju ugla sa \(360°\).
      </p>
    </details>
    <details>
      <summary>Stepeni imaginarne jedinice \(i\)</summary>
      <p style="margin-top: 8px;">
        Stepeni imaginarne jedinice se ponavljaju sa periodom 4:
        \[i^0 = 1, \quad i^1 = i, \quad i^2 = -1, \quad i^3 = -i, \quad i^4 = 1, \ldots\]
        Za \(i^n\) racunamo ostatak \(n \mod 4\).
      </p>
    </details>
    <details>
      <summary>Logaritamska pravila</summary>
      <p style="margin-top: 8px;">
        \[\log_a \frac{1}{b} = -\log_a b\]
        \[\log_a a^k = k\]
        Kombinavanjem: \(\log_5 \frac{1}{125} = \log_5 5^{-3} = -3\).
      </p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz</div>
    <canvas id="diagram-canvas" width="700" height="420"></canvas>
    <p class="canvas-caption">Jedinicni krug sa uglom 30° i stepeni imaginarne jedinice</p>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Izracunajmo \(\cos^2 2190°\)</div>
      </div>
      <div class="step-content">
        <p>Prvo svedemo ugao \(2190°\) na osnovni interval \([0°, 360°)\) deljenjem sa \(360°\):</p>
        <div class="math-highlight">
          \[2190 \div 360 = 6 \text{ (ostatak } 30\text{)}\]
        </div>
        <p>Proveravamo: \(6 \times 360 = 2160\), pa je \(2190 - 2160 = 30\).</p>
        <p>Dakle:</p>
        <div class="math-highlight">
          \[\cos 2190° = \cos 30° = \frac{\sqrt{3}}{2}\]
        </div>
        <p>Kvadriramo:</p>
        <div class="math-highlight">
          \[\cos^2 2190° = \left(\frac{\sqrt{3}}{2}\right)^2 = \frac{3}{4}\]
        </div>
        <details>
          <summary>&#9989; Proveri sebe: Koliko punih krugova ima u 2190°?</summary>
          <p style="margin-top: 8px;">Tacno 6 punih krugova (\(6 \times 360° = 2160°\)), i ostaje \(30°\).</p>
        </details>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Izracunajmo \(\dfrac{\sqrt{(-3)^2}}{i^{2020}}\)</div>
      </div>
      <div class="step-content">
        <p><strong>Brojilac:</strong> Racunamo \(\sqrt{(-3)^2}\):</p>
        <div class="math-highlight">
          \[(-3)^2 = 9, \quad \sqrt{9} = 3\]
        </div>
        <p>
          Napomena: \(\sqrt{x^2} = |x|\), pa \(\sqrt{(-3)^2} = |-3| = 3\).
        </p>

        <p style="margin-top: 12px;"><strong>Imenilac:</strong> Racunamo \(i^{2020}\). Posto se stepeni \(i\) ponavljaju sa periodom 4:</p>
        <div class="math-highlight">
          \[2020 \div 4 = 505 \text{ (ostatak } 0\text{)}\]
        </div>
        <p>Ostatak je 0, sto znaci:</p>
        <div class="math-highlight">
          \[i^{2020} = i^0 = 1\]
        </div>
        <p>Konacno:</p>
        <div class="math-highlight">
          \[\frac{\sqrt{(-3)^2}}{i^{2020}} = \frac{3}{1} = 3\]
        </div>
        <details>
          <summary>&#9989; Proveri sebe: Sta bi bilo \(i^{2021}\)?</summary>
          <p style="margin-top: 8px;">\(2021 = 4 \times 505 + 1\), dakle \(i^{2021} = i^1 = i\).</p>
        </details>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Izracunajmo \(\log_5 \dfrac{1}{125}\)</div>
      </div>
      <div class="step-content">
        <p>Zapisemo \(125\) kao stepen broja \(5\):</p>
        <div class="math-highlight">
          \[125 = 5^3 \quad \Rightarrow \quad \frac{1}{125} = 5^{-3}\]
        </div>
        <p>Primenom definicije logaritma:</p>
        <div class="math-highlight">
          \[\log_5 \frac{1}{125} = \log_5 5^{-3} = -3\]
        </div>
        <details>
          <summary>&#9989; Proveri sebe: Koliko je \(\log_5 625\)?</summary>
          <p style="margin-top: 8px;">\(625 = 5^4\), dakle \(\log_5 625 = 4\).</p>
        </details>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Saberimo sve delove</div>
      </div>
      <div class="step-content">
        <p>Kombinujemo rezultate iz prethodna tri koraka:</p>
        <div class="math-highlight">
          \[\cos^2 2190° + \frac{\sqrt{(-3)^2}}{i^{2020}} + \log_5 \frac{1}{125} = \frac{3}{4} + 3 + (-3)\]
        </div>
        <div class="math-highlight">
          \[= \frac{3}{4} + 3 - 3 = \frac{3}{4}\]
        </div>
      </div>
    </div>
  </div>

  <!-- KLJUCNI UVID -->
  <div class="key-insight">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>
      Drugi i treci sabirak (\(3\) i \(-3\)) se medusobno poniste! Ceo izraz se svodi na
      vrednost \(\cos^2 30° = \frac{3}{4}\). Ovo je cesta tehnika u testovima &mdash;
      kompleksno izgleda, ali se mnogo toga skrati.
    </p>
  </div>

  <!-- KONACAN ODGOVOR -->
  <div class="card final-answer-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">&#127919;</span> Konacan odgovor</div>
    <div class="final-answer-value">\(\dfrac{3}{4}\)</div>
    <div class="final-options">
      <div class="final-option correct-option">(A) \(\dfrac{3}{4}\)</div>
      <div class="final-option">(B) \(1 + i\)</div>
      <div class="final-option">(C) \(\dfrac{\sqrt{3}}{2} + 3(i-1)\)</div>
      <div class="final-option">(D) \(0\)</div>
      <div class="final-option">(E) \(1\)</div>
    </div>
    <p class="verification-note">Verifikacija: \(\frac{3}{4} + 3 - 3 = \frac{3}{4}\) &#10004;</p>
  </div>

  <!-- CESTE GRESKE -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Greska sa korenom:</strong>
        <span class="pitfall-text">
          Mnogi pogresno zapisuju \(\sqrt{(-3)^2} = -3\). Zapamtite: kvadratni koren uvek daje
          nenegativan rezultat, tj. \(\sqrt{(-3)^2} = |{-3}| = 3\).
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Greska sa stepenom od \(i\):</strong>
        <span class="pitfall-text">
          Ako pogresis ostatak pri deljenju sa 4 (npr. mislis da je \(i^{2020} = i^2 = -1\)),
          dobices potpuno drugaciji rezultat. Uvek proveri: \(2020 = 4 \times 505 + 0\).
        </span>
      </div>
    </div>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127947;</span> Dodatni izazov</div>
    <p class="challenge-text">
      Kolika bi bila vrednost izraza da umesto \(i^{2020}\) imamo \(i^{2019}\)?
    </p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="margin-top: 8px;">
        \(2019 = 4 \times 504 + 3\), dakle \(i^{2019} = i^3 = -i\).
        Tada bi drugi sabirak bio \(\frac{3}{-i} = \frac{3}{-i} \cdot \frac{i}{i} = \frac{3i}{-i^2} = \frac{3i}{1} = 3i\).
        Ukupno: \(\frac{3}{4} + 3i - 3 = -\frac{9}{4} + 3i\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram-canvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width;
    const H = rect.height;

    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // --- LEFT HALF: Unit circle with 30 degree angle ---
    const cx1 = W * 0.28;
    const cy1 = H * 0.52;
    const R = Math.min(W * 0.22, H * 0.38);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Jedinicni krug: cos 30°', cx1, 28);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx1 - R - 20, cy1);
    ctx.lineTo(cx1 + R + 20, cy1);
    ctx.moveTo(cx1, cy1 - R - 20);
    ctx.lineTo(cx1, cy1 + R + 20);
    ctx.stroke();

    // Circle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx1, cy1, R, 0, 2 * Math.PI);
    ctx.stroke();

    // 30 degree angle
    const angle30 = (30 * Math.PI) / 180;
    const px = cx1 + R * Math.cos(angle30);
    const py = cy1 - R * Math.sin(angle30);

    // Radius line to 30 degrees
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(cx1, cy1);
    ctx.lineTo(px, py);
    ctx.stroke();

    // Dashed projection to x-axis
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(px, py);
    ctx.lineTo(px, cy1);
    ctx.stroke();
    ctx.setLineDash([]);

    // cos projection on x-axis (highlighted)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(cx1, cy1);
    ctx.lineTo(px, cy1);
    ctx.stroke();

    // Arc for angle
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx1, cy1, R * 0.2, -angle30, 0);
    ctx.stroke();

    // Point at 30 degrees
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(px, py, 5, 0, 2 * Math.PI);
    ctx.fill();

    // Labels
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('30°', cx1 + R * 0.22, cy1 - 6);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('cos 30° = \u221A3/2', cx1 + (px - cx1) / 2, cy1 + 20);

    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('sin 30° = 1/2', px + 10, (py + cy1) / 2);
    ctx.textAlign = 'left';

    // Point label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('P(cos30°, sin30°)', px + 8, py - 8);

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', cx1 + R + 30, cy1 + 4);
    ctx.fillText('y', cx1 + 4, cy1 - R - 10);

    // --- RIGHT HALF: Powers of i cycle ---
    const cx2 = W * 0.73;
    const cy2 = H * 0.52;
    const R2 = Math.min(W * 0.15, H * 0.28);

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Ciklus stepena od i', cx2, 28);

    // Circle for cycle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx2, cy2, R2, 0, 2 * Math.PI);
    ctx.stroke();

    // Cycle positions: i^0=1, i^1=i, i^2=-1, i^3=-i
    const positions = [
      { angle: 0, label: 'i\u2070 = 1', value: '1', color: '#4ade80' },
      { angle: Math.PI / 2, label: 'i\u00B9 = i', value: 'i', color: '#60a5fa' },
      { angle: Math.PI, label: 'i\u00B2 = -1', value: '-1', color: '#f472b6' },
      { angle: (3 * Math.PI) / 2, label: 'i\u00B3 = -i', value: '-i', color: '#fbbf24' }
    ];

    // Arrows around circle
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    for (let k = 0; k < 4; k++) {
      const a1 = -positions[k].angle + 0.15;
      const a2 = -positions[(k + 1) % 4].angle - 0.15;
      ctx.beginPath();
      ctx.arc(cx2, cy2, R2 + 15, a1, a2, true);
      ctx.stroke();
      // Small arrowhead
      const ax = cx2 + (R2 + 15) * Math.cos(a2);
      const ay = cy2 + (R2 + 15) * Math.sin(a2);
      ctx.fillStyle = '#94a3b8';
      ctx.beginPath();
      ctx.arc(ax, ay, 3, 0, 2 * Math.PI);
      ctx.fill();
    }

    positions.forEach((p) => {
      const x = cx2 + R2 * Math.cos(-p.angle);
      const y = cy2 + R2 * Math.sin(-p.angle);

      // Dot
      ctx.fillStyle = p.color;
      ctx.beginPath();
      ctx.arc(x, y, 7, 0, 2 * Math.PI);
      ctx.fill();

      // Label
      ctx.fillStyle = p.color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';

      const labelOffset = 25;
      let lx = cx2 + (R2 + labelOffset) * Math.cos(-p.angle);
      let ly = cy2 + (R2 + labelOffset) * Math.sin(-p.angle);
      if (p.angle === 0) lx += 18;
      if (p.angle === Math.PI) lx -= 18;
      if (p.angle === Math.PI / 2) ly -= 8;
      if (p.angle === (3 * Math.PI) / 2) ly += 14;

      ctx.fillText(p.label, lx, ly);
    });

    // Highlight i^2020 = i^0 = 1
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([4, 4]);
    const hx = cx2 + R2;
    const hy = cy2;
    ctx.beginPath();
    ctx.arc(hx, hy, 14, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('i\u00B2\u2070\u00B2\u2070 = 1', cx2, cy2 + R2 + 55);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('2020 mod 4 = 0', cx2, cy2 + R2 + 72);

    // Bottom summary
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('3/4 + 3 + (-3) = 3/4', W / 2, H - 16);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Vrednost trigonometrijsko-logaritamskog izraza sa kompleksnim brojevima",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrija", "kompleksni brojevi", "logaritmi", "imaginarna jedinica", "redukcija ugla"]
}
BRAINSPARK_META-->