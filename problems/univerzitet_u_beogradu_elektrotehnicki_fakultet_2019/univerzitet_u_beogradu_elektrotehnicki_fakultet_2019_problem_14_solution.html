<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir vrednosti parametra za jednu zajednicku tacku</title>

<script type="text/info" id="logic-scratchpad">
Problem: Zbir svih vrednosti parametra a iz R za koje grafici funkcija
y = (a+2)x^2 - ax - 3  i  y = ax - 4
imaju tacno jednu zajednicku tacku.

KORAK 1: Izjednacavanje funkcija
(a+2)x^2 - ax - 3 = ax - 4
(a+2)x^2 - ax - ax - 3 + 4 = 0
(a+2)x^2 - 2ax + 1 = 0

KORAK 2: Razmatramo dva slucaja prema vodecoj koeficijentu

SLUCAJ 1: a + 2 = 0, tj. a = -2
Jednacina postaje: 0*x^2 - 2*(-2)*x + 1 = 0
4x + 1 = 0
x = -1/4
Linearna jednacina sa tacno jednim resenjem.
Dakle a = -2 zadovoljava uslov.

SLUCAJ 2: a + 2 != 0
Jednacina (a+2)x^2 - 2ax + 1 = 0 je kvadratna.
Tacno jedno resenje <=> D = 0
D = (-2a)^2 - 4*(a+2)*1
D = 4a^2 - 4a - 8
D = 4(a^2 - a - 2)
D = 4(a - 2)(a + 1)

D = 0:
(a - 2)(a + 1) = 0
a = 2 ili a = -1

Proverimo da a + 2 != 0:
a = 2: a + 2 = 4 != 0. OK.
a = -1: a + 2 = 1 != 0. OK.

KORAK 3: Zbir svih vrednosti
Sve validne vrednosti: a = -2, a = 2, a = -1
Zbir = -2 + 2 + (-1) = -1

Odgovor: (C) -1
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: border-color 0.2s;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
  padding-left: 0;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-highlight {
  margin: 8px 0;
  display: block;
  padding: 10px 16px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #f472b6;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.pitfall-text {
  color: #cbd5e1;
}

.challenge-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

.slider-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-top: 14px;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.slider-container input[type="range"] {
  width: 200px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1rem;
  min-width: 50px;
  text-align: center;
}

@media (max-width: 700px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .step-content { margin-left: 0; margin-top: 8px; }
  .final-answer-value { font-size: 1.7rem; }
  .final-options { gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.95rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- NASLOV -->
  <h1>Presek parabole i prave &mdash; parametar</h1>
  <p class="subtitle">Kvadratna jednacina sa parametrom, analiza diskriminante i razmatranje slucajeva</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</div>
    <div class="problem-text">
      Zbir svih vrednosti parametra \(a \in \mathbb{R}\) za koje grafici funkcija
      <span class="math-highlight">\(y = (a + 2)x^2 - ax - 3\)</span> i
      <span class="math-highlight">\(y = ax - 4\)</span>
      imaju tacno jednu zajednicku tacku jeste:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(-2\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <p class="plan-text">
      Izjednacicemo dve funkcije i dobiti jednacinu koja zavisi od parametra \(a\).
      Zatim cemo razmotriti dva slucaja: kada je rezultujuca jednacina linearna (vodeci koeficijent nula) i kada je kvadratna (diskriminanta jednaka nuli).
      Na kraju sabiramo sve validne vrednosti parametra \(a\).
    </p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Presek grafika dve funkcije</summary>
      <p style="margin-top: 8px;">
        Zajednicke tacke grafika funkcija \(y = f(x)\) i \(y = g(x)\) nalazimo resavanjem jednacine \(f(x) = g(x)\).
        Broj zajednickih tacaka jednak je broju resenja te jednacine.
      </p>
    </details>
    <details>
      <summary>Diskriminanta kvadratne jednacine</summary>
      <p style="margin-top: 8px;">
        Za kvadratnu jednacinu \(Ax^2 + Bx + C = 0\) (gde je \(A \neq 0\)), diskriminanta je:
        \[D = B^2 - 4AC\]
        Jednacina ima tacno jedno resenje (dvostruki koren) ako i samo ako je \(D = 0\).
      </p>
    </details>
    <details>
      <summary>Linearna jednacina &mdash; specijalan slucaj</summary>
      <p style="margin-top: 8px;">
        Ako je vodeci koeficijent \(A = 0\), jednacina \(Ax^2 + Bx + C = 0\) postaje linearna: \(Bx + C = 0\).
        Linearna jednacina ima tacno jedno resenje (ako je \(B \neq 0\)).
        Ovaj slucaj se cesto previdi u zadacima sa parametrom!
      </p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz</div>
    <canvas id="diagram-canvas" width="700" height="500"></canvas>
    <div class="slider-container">
      <label for="a-slider">Parametar \(a\):</label>
      <input type="range" id="a-slider" min="-40" max="40" value="-20" step="1">
      <span class="slider-value" id="a-display">-2</span>
    </div>
    <p class="canvas-caption">Pomerajte klizac da vidite kako se menja odnos parabole i prave za razlicite vrednosti parametra \(a\). Vrednosti \(a = -2, -1, 2\) daju tacno jednu zajednicku tacku.</p>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Izjednacavanje funkcija</div>
      </div>
      <div class="step-content">
        <p>Zajednicke tacke grafika nalazimo izjednacavanjem:</p>
        <div class="math-highlight">
          \[(a + 2)x^2 - ax - 3 = ax - 4\]
        </div>
        <p>Prenosimo sve na levu stranu:</p>
        <div class="math-highlight">
          \[(a + 2)x^2 - ax - ax - 3 + 4 = 0\]
        </div>
        <p>Sredujemo:</p>
        <div class="math-highlight">
          \[(a + 2)x^2 - 2ax + 1 = 0\]
        </div>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Razmatranje slucajeva po vodecoj koeficijentu</div>
      </div>
      <div class="step-content">
        <p>Jednacina \((a+2)x^2 - 2ax + 1 = 0\) moze biti kvadratna ili linearna, u zavisnosti od toga da li je \(a + 2 = 0\) ili ne. Moramo razmotriti oba slucaja.</p>

        <details>
          <summary>&#9989; Proveri sebe: Zasto ne smemo odmah primeniti formulu za diskriminantu?</summary>
          <p style="margin-top: 8px;">
            Diskriminanta je definisana samo za kvadratne jednacine, tj. kada je vodeci koeficijent \(A \neq 0\).
            Ako je \(a + 2 = 0\), jednacina nije kvadratna vec linearna, i ne mozemo koristiti \(D = B^2 - 4AC\).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Slucaj 1: \(a + 2 = 0\), tj. \(a = -2\)</div>
      </div>
      <div class="step-content">
        <p>Za \(a = -2\) jednacina postaje:</p>
        <div class="math-highlight">
          \[0 \cdot x^2 - 2 \cdot (-2) \cdot x + 1 = 0\]
        </div>
        <p>Sto se svodi na:</p>
        <div class="math-highlight">
          \[4x + 1 = 0\]
        </div>
        <p>Resenje:</p>
        <div class="math-highlight">
          \[x = -\frac{1}{4}\]
        </div>
        <p>Linearna jednacina ima tacno jedno resenje, pa grafici imaju tacno jednu zajednicku tacku.</p>
        <p style="color: #4ade80; font-weight: 600;">Dakle, \(a = -2\) zadovoljava uslov.</p>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Slucaj 2: \(a + 2 \neq 0\) &mdash; kvadratna jednacina</div>
      </div>
      <div class="step-content">
        <p>Kada je \(a + 2 \neq 0\), jednacina \((a+2)x^2 - 2ax + 1 = 0\) je kvadratna.</p>
        <p>Tacno jedno resenje postoji kada je diskriminanta jednaka nuli:</p>
        <div class="math-highlight">
          \[D = (-2a)^2 - 4(a + 2) \cdot 1 = 0\]
        </div>
        <p>Racunamo:</p>
        <div class="math-highlight">
          \[4a^2 - 4a - 8 = 0\]
        </div>
        <p>Delimo celom jednacinom sa 4:</p>
        <div class="math-highlight">
          \[a^2 - a - 2 = 0\]
        </div>
      </div>
    </div>

    <!-- Korak 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">5</div>
        <div class="step-title">Resavanje jednacine po \(a\)</div>
      </div>
      <div class="step-content">
        <p>Faktorizujemo kvadratni trinom:</p>
        <div class="math-highlight">
          \[a^2 - a - 2 = (a - 2)(a + 1) = 0\]
        </div>
        <p>Resenja su:</p>
        <div class="math-highlight">
          \[a = 2 \quad \text{ili} \quad a = -1\]
        </div>
        <p>Proverimo da obe vrednosti zadovoljavaju uslov \(a + 2 \neq 0\):</p>
        <p>Za \(a = 2\): \(a + 2 = 4 \neq 0\) &#10004;</p>
        <p>Za \(a = -1\): \(a + 2 = 1 \neq 0\) &#10004;</p>
        <p style="color: #4ade80; font-weight: 600;">Obe vrednosti su validne.</p>

        <details>
          <summary>&#9989; Proveri sebe: Koliko vrednosti parametra \(a\) daje tacno jednu zajednicku tacku?</summary>
          <p style="margin-top: 8px;">
            Tri vrednosti: \(a = -2\) (iz slucaja 1), \(a = 2\) i \(a = -1\) (iz slucaja 2).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 6 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">6</div>
        <div class="step-title">Racunanje zbira</div>
      </div>
      <div class="step-content">
        <p>Sve vrednosti parametra \(a\) koje zadovoljavaju uslov su: \(a \in \{-2,\; -1,\; 2\}\).</p>
        <p>Zbir:</p>
        <div class="math-highlight">
          \[(-2) + (-1) + 2 = -1\]
        </div>
      </div>
    </div>
  </div>

  <!-- KLJUCNI UVID -->
  <div class="key-insight">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>
      Kljuc ovog zadatka lezi u <strong>razmatranju slucaja kada je vodeci koeficijent nula</strong>.
      Mnogi ucenici odmah primenjuju uslov \(D = 0\) i dobijaju samo \(a = 2\) i \(a = -1\), zaboravljajuci
      da za \(a = -2\) jednacina postaje linearna i takodze ima tacno jedno resenje.
      Upravo ta propustena vrednost menja konacan zbir.
    </p>
  </div>

  <!-- KONACAN ODGOVOR -->
  <div class="card final-answer-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">&#127919;</span> Konacan odgovor</div>
    <div class="final-answer-value">\(-1\)</div>
    <div class="final-options">
      <div class="final-option">(A) \(0\)</div>
      <div class="final-option">(B) \(2\)</div>
      <div class="final-option correct-option">(C) \(-1\)</div>
      <div class="final-option">(D) \(1\)</div>
      <div class="final-option">(E) \(-2\)</div>
    </div>
    <p class="verification-note">
      Verifikacija: Za \(a = -2\): jednacina \(4x + 1 = 0\) ima 1 resenje &#10004;
      Za \(a = -1\): jednacina \(x^2 + 2x + 1 = (x+1)^2 = 0\) ima 1 resenje &#10004;
      Za \(a = 2\): jednacina \(4x^2 - 4x + 1 = (2x-1)^2 = 0\) ima 1 resenje &#10004;
      Zbir: \(-2 + (-1) + 2 = -1\) &#10004;
    </p>
  </div>

  <!-- CESTE GRESKE -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Zaboravljanje slucaja \(a + 2 = 0\):</strong>
        <span class="pitfall-text">
          Najcesca greska je sto se odmah primeni uslov \(D = 0\) bez provere da li je jednacina uopste kvadratna.
          Za \(a = -2\) jednacina je linearna i ima tacno jedno resenje, pa tu vrednost treba ukljuciti.
          Bez nje se dobija zbir \(2 + (-1) = 1\) umesto tacnog \(-1\).
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Greska pri sredivanju jednacine:</strong>
        <span class="pitfall-text">
          Pri prelasku clanova sa desne strane, cest je previd sa predznacima.
          Treba paziti: \(-ax - ax = -2ax\), a \(-3 + 4 = 1\).
          Pogresno sredivanje vodi ka pogresnoj diskriminanti.
        </span>
      </div>
    </div>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127947;</span> Dodatni izazov</div>
    <p class="challenge-text">
      Za koje vrednosti parametra \(a\) grafici funkcija \(y = (a+2)x^2 - ax - 3\) i \(y = ax - 4\) nemaju zajednickih tacaka?
    </p>
    <details>
      <summary>Nagove≈°taj</summary>
      <p style="margin-top: 8px;">
        Nema presecnih tacaka znaci da jednacina \((a+2)x^2 - 2ax + 1 = 0\) nema realnih resenja.
        Za \(a + 2 = 0\) (tj. \(a = -2\)), jednacina je linearna i uvek ima resenje, pa nema preseka samo
        kada je \(a + 2 \neq 0\) i \(D < 0\), tj. \(a^2 - a - 2 < 0\), sto daje \((a-2)(a+1) < 0\), tj. \(a \in (-1, 2)\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram-canvas');
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('a-slider');
  const display = document.getElementById('a-display');

  function getA() {
    return parseFloat(slider.value) / 10;
  }

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width;
    const H = rect.height;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    const a = getA();
    display.textContent = a % 1 === 0 ? a.toString() : a.toFixed(1).replace('.', ',');

    // Coordinate system
    const originX = W * 0.5;
    const originY = H * 0.55;
    const scale = Math.min(W, H) * 0.08;

    const toCanvas = (x, y) => ({
      x: originX + x * scale,
      y: originY - y * scale
    });

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -8; gx <= 8; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let gy = -8; gy <= 8; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - 15, originY - 8);
    ctx.fillText('y', originX + 14, 16);

    // Tick marks
    ctx.fillStyle = '#94a3b8';
    ctx.font = '10px Segoe UI, system-ui, sans-serif';
    for (let t = -6; t <= 6; t++) {
      if (t === 0) continue;
      const px = toCanvas(t, 0);
      ctx.beginPath();
      ctx.moveTo(px.x, originY - 3);
      ctx.lineTo(px.x, originY + 3);
      ctx.stroke();
      ctx.fillText(t.toString(), px.x, originY + 16);
    }
    for (let t = -6; t <= 6; t++) {
      if (t === 0) continue;
      const py = toCanvas(0, t);
      ctx.beginPath();
      ctx.moveTo(originX - 3, py.y);
      ctx.lineTo(originX + 3, py.y);
      ctx.stroke();
      ctx.textAlign = 'right';
      ctx.fillText(t.toString(), originX - 8, py.y + 4);
    }

    // Function f(x) = (a+2)x^2 - ax - 3
    const f = (x) => (a + 2) * x * x - a * x - 3;
    // Function g(x) = ax - 4
    const g = (x) => a * x - 4;

    // Draw f(x) - parabola or line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = 0; px <= W; px += 1) {
      const x = (px - originX) / scale;
      const y = f(x);
      const cp = toCanvas(x, y);
      if (cp.y < -200 || cp.y > H + 200) {
        started = false;
        continue;
      }
      if (!started) {
        ctx.moveTo(cp.x, cp.y);
        started = true;
      } else {
        ctx.lineTo(cp.x, cp.y);
      }
    }
    ctx.stroke();

    // Draw g(x) - line
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    const gLeft = toCanvas(-8, g(-8));
    const gRight = toCanvas(8, g(8));
    const clampY = (p) => Math.max(-100, Math.min(H + 100, p.y));
    ctx.moveTo(gLeft.x, clampY(gLeft));
    ctx.lineTo(gRight.x, clampY(gRight));
    ctx.stroke();

    // Find intersection points
    // Solve (a+2)x^2 - 2ax + 1 = 0
    const A = a + 2;
    const B = -2 * a;
    const C = 1;
    const intersections = [];

    if (Math.abs(A) < 1e-10) {
      // Linear: Bx + C = 0
      if (Math.abs(B) > 1e-10) {
        const xi = -C / B;
        intersections.push({ x: xi, y: g(xi) });
      }
    } else {
      const disc = B * B - 4 * A * C;
      if (disc >= -1e-10) {
        const d = Math.max(0, disc);
        const x1 = (-B + Math.sqrt(d)) / (2 * A);
        const x2 = (-B - Math.sqrt(d)) / (2 * A);
        intersections.push({ x: x1, y: g(x1) });
        if (Math.abs(x1 - x2) > 1e-8) {
          intersections.push({ x: x2, y: g(x2) });
        }
      }
    }

    // Draw intersection points
    intersections.forEach((pt) => {
      const cp = toCanvas(pt.x, pt.y);
      if (cp.x < -50 || cp.x > W + 50 || cp.y < -50 || cp.y > H + 50) return;

      // Glow
      const glow = ctx.createRadialGradient(cp.x, cp.y, 0, cp.x, cp.y, 16);
      glow.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
      glow.addColorStop(1, 'rgba(74, 222, 128, 0)');
      ctx.fillStyle = glow;
      ctx.beginPath();
      ctx.arc(cp.x, cp.y, 16, 0, 2 * Math.PI);
      ctx.fill();

      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(cp.x, cp.y, 5, 0, 2 * Math.PI);
      ctx.fill();
    });

    // Legend
    const legendX = 16;
    const legendY = 20;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legendX, legendY, 20, 3);
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = (a+2)x\u00B2 \u2212 ax \u2212 3', legendX + 26, legendY + 5);

    ctx.fillStyle = '#f472b6';
    ctx.fillRect(legendX, legendY + 20, 20, 3);
    ctx.fillText('y = ax \u2212 4', legendX + 26, legendY + 25);

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX + 10, legendY + 44, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('Zajednicke tacke: ' + intersections.length, legendX + 26, legendY + 48);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const aStr = a % 1 === 0 ? a.toString() : a.toFixed(1).replace('.', ',');
    ctx.fillText('a = ' + aStr, W / 2, H - 12);

    // Highlight when exactly 1 intersection
    if (intersections.length === 1) {
      ctx.fillStyle = 'rgba(74, 222, 128, 0.15)';
      ctx.fillRect(0, 0, W, H);
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('Tacno jedna zajednicka tacka!', W - 16, H - 12);
    }
  }

  slider.addEventListener('input', draw);

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir vrednosti parametra za jednu zajednicku tacku parabole i prave",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kvadratna jednacina", "parametar", "diskriminanta", "presek grafika", "analiza slucajeva"]
}
BRAINSPARK_META-->