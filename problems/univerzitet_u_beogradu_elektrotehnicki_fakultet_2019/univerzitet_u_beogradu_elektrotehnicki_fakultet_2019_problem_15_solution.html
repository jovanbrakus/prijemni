<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna jednacina — Pitagorina trojka</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Broj realnih resenja jednacine 3^x + 4^x = 5^x.

STRATEGIJA: Podeliti obe strane sa 5^x (koje je uvek > 0).

3^x + 4^x = 5^x
(3/5)^x + (4/5)^x = 1

Definisemo f(x) = (3/5)^x + (4/5)^x.

ANALIZA FUNKCIJE f:
- Baza 3/5 = 0,6 < 1, pa je (3/5)^x strogo opadajuca.
- Baza 4/5 = 0,8 < 1, pa je (4/5)^x strogo opadajuca.
- Dakle f(x) = (3/5)^x + (4/5)^x je zbir dve strogo opadajuce funkcije,
  pa je i sama strogo opadajuca.

GRANICNE VREDNOSTI:
- Kada x -> -inf: oba sabirka -> +inf, dakle f(x) -> +inf.
- Kada x -> +inf: oba sabirka -> 0, dakle f(x) -> 0.

Posto je f strogo opadajuca i neprekidna, sa slikom (0, +inf),
jednacina f(x) = 1 ima TACNO jedno resenje.

NALAZENJE RESENJA:
Probamo x = 2:
f(2) = (3/5)^2 + (4/5)^2 = 9/25 + 16/25 = 25/25 = 1.

Ovo je poznata Pitagorina trojka: 3^2 + 4^2 = 5^2, tj. 9 + 16 = 25.

ZAKLJUCAK: Jednacina ima tacno 1 realno resenje (x = 2).
Odgovor: (B) 1

VERIFIKACIJA:
3^2 + 4^2 = 9 + 16 = 25 = 5^2. Tacno!
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:0.95rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item .label{color:#94a3b8;font-size:0.85rem;margin-bottom:4px}
.given-item .value{font-weight:600}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option].wrong{border-color:#f87171;background:rgba(248,113,113,0.08)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-text{color:#cbd5e1;line-height:1.8}
details{margin:15px 0}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%;touch-action:none}
.step{margin-bottom:18px;padding:4px 0;border-left:3px solid transparent;transition:border-color 0.2s}
.step:last-child{margin-bottom:0}
.step:hover,.step.active{border-left-color:#4ade80;padding-left:12px}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.step-content .math-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:15px 0;color:#93bbfc;font-weight:600}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.insight-formula{text-align:center;font-size:1.3rem;color:#4ade80;font-weight:700;margin:14px 0}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.verification{background:rgba(52,211,153,0.08);border:1px solid rgba(52,211,153,0.2);border-radius:8px;padding:12px 16px;margin-top:14px;color:#86efac;font-size:0.95rem}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.canvas-caption{text-align:center;color:#94a3b8;font-size:0.88rem;margin-top:8px}
.slider-container{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:12px;flex-wrap:wrap}
.slider-container label{color:#94a3b8;font-size:0.9rem}
.slider-container input[type="range"]{width:200px;accent-color:#60a5fa}
.slider-value{color:#60a5fa;font-weight:700;font-family:'Courier New',monospace;min-width:60px;text-align:center}
@media(max-width:700px){h1{font-size:1.4rem}.card{padding:16px}.given-grid{grid-template-columns:repeat(auto-fit,minmax(80px,1fr))}.final-answer-value{font-size:1.2rem}.slider-container{flex-direction:column}}
</style>
</head>
<body>

<h1>Eksponencijalna jednacina i Pitagorina trojka</h1>
<p class="subtitle">Algebra | Eksponencijalne jednacine, monotonost funkcije</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Broj realnih resenja jednacine \(3^x + 4^x = 5^x\) jeste:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(0\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(2\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(3\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">veci od \(3\)</div>
    </div>
  </div>
</div>

<!-- Plan resavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
  <p class="plan-text">
    Podelicemo obe strane jednacine sa \(5^x\) da dobijemo funkciju oblika \(f(x) = \left(\frac{3}{5}\right)^x + \left(\frac{4}{5}\right)^x\). Zatim cemo analizom monotonosti utvrditi koliko tacno resenja ima jednacina \(f(x) = 1\).
  </p>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>&#128208; Kljucne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Eksponencijalna funkcija \(a^x\) za \(0 &lt; a &lt; 1\):</strong> Funkcija je strogo opadajuca na celom \(\mathbb{R}\). Kada \(x \to -\infty\), vrednost raste ka \(+\infty\); kada \(x \to +\infty\), vrednost opada ka \(0\).</p>
      <div class="formula-box">
        \[0 < a < 1 \implies a^x \text{ je strogo opadajuca}\]
      </div>
      <p><strong>Zbir strogo opadajucih funkcija:</strong> Ako su \(g(x)\) i \(h(x)\) strogo opadajuce, onda je i \(f(x) = g(x) + h(x)\) strogo opadajuca.</p>
      <div class="formula-box">
        \[g'(x) < 0 \;\text{ i }\; h'(x) < 0 \implies f'(x) = g'(x) + h'(x) < 0\]
      </div>
      <p><strong>Pitagorina trojka:</strong> Prirodni brojevi \(a, b, c\) za koje vazi \(a^2 + b^2 = c^2\). Najpoznatija je \((3, 4, 5)\):</p>
      <div class="formula-box">
        \[3^2 + 4^2 = 9 + 16 = 25 = 5^2\]
      </div>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Interaktivni grafik</div>
  <div class="canvas-wrap">
    <canvas id="graphCanvas" width="760" height="440"></canvas>
  </div>
  <div class="slider-container">
    <label for="xSlider">Istrazite vrednost \(x\):</label>
    <input type="range" id="xSlider" min="-30" max="80" value="20">
    <span class="slider-value" id="xSliderVal">x = 2,00</span>
  </div>
  <p class="canvas-caption">Grafik funkcije \(f(x) = (3/5)^x + (4/5)^x\) i prave \(y = 1\). Pomerajte klizac da istrazite.</p>
</div>

<!-- Koraci resenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

  <div class="step">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Deljenje obe strane sa \(5^x\)</strong></p>
      <p>Posto je \(5^x > 0\) za svako \(x \in \mathbb{R}\), mozemo podeliti obe strane jednacine sa \(5^x\) bez promene znaka ili gubitka resenja:</p>
      <div class="math-box">
        \[3^x + 4^x = 5^x\]
      </div>
      <div class="math-box">
        \[\frac{3^x}{5^x} + \frac{4^x}{5^x} = \frac{5^x}{5^x}\]
      </div>
      <div class="math-box">
        \[\left(\frac{3}{5}\right)^x + \left(\frac{4}{5}\right)^x = 1\]
      </div>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Uvodimo pomocnu funkciju</strong></p>
      <p>Definisemo:</p>
      <div class="math-box">
        \[f(x) = \left(\frac{3}{5}\right)^x + \left(\frac{4}{5}\right)^x\]
      </div>
      <p>Sada trazimo broj resenja jednacine \(f(x) = 1\).</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Zasto smemo deliti sa \(5^x\)?</summary>
    <p style="margin-top:8px;color:#cbd5e1">Zato sto je \(5^x > 0\) za svako realno \(x\). Nikada nije nula, pa deljenje ne menja broj resenja.</p>
  </details>

  <div class="step">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Analiza monotonosti funkcije \(f(x)\)</strong></p>
      <p>Posmatrajmo svaki sabirak posebno:</p>
      <p>Baza prvog sabirka: \(\frac{3}{5} = 0{,}6\). Posto je \(0 < 0{,}6 < 1\), funkcija \(\left(\frac{3}{5}\right)^x\) je <strong>strogo opadajuca</strong>.</p>
      <p>Baza drugog sabirka: \(\frac{4}{5} = 0{,}8\). Posto je \(0 < 0{,}8 < 1\), funkcija \(\left(\frac{4}{5}\right)^x\) je <strong>strogo opadajuca</strong>.</p>
      <p>Zbir dve strogo opadajuce funkcije je takodje <strong>strogo opadajuca</strong> funkcija.</p>
      <div class="math-box">
        \[f(x) = \underbrace{\left(\frac{3}{5}\right)^x}_{\text{strogo opada}} + \underbrace{\left(\frac{4}{5}\right)^x}_{\text{strogo opada}} \implies f \text{ strogo opada}\]
      </div>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Granicne vrednosti</strong></p>
      <p>Kada \(x \to -\infty\):</p>
      <div class="math-box">
        \[\left(\frac{3}{5}\right)^x \to +\infty, \quad \left(\frac{4}{5}\right)^x \to +\infty \quad \implies \quad f(x) \to +\infty\]
      </div>
      <p>Kada \(x \to +\infty\):</p>
      <div class="math-box">
        \[\left(\frac{3}{5}\right)^x \to 0, \quad \left(\frac{4}{5}\right)^x \to 0 \quad \implies \quad f(x) \to 0\]
      </div>
      <p>Dakle, \(f\) je neprekidna, strogo opadajuca, sa slikom \((0, +\infty)\). Vrednost \(1\) pripada tom intervalu, pa jednacina \(f(x) = 1\) ima <strong>tacno jedno resenje</strong>.</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Koliko presecnih tacaka moze imati strogo opadajuca funkcija sa horizontalnom pravom?</summary>
    <p style="margin-top:8px;color:#cbd5e1">Najvise jednu! Strogo opadajuca funkcija je injektivna (1-1), pa svaku vrednost doseze tacno jednom ili nikad.</p>
  </details>

  <div class="step">
    <div class="step-badge">KORAK 5</div>
    <div class="step-content">
      <p><strong>Nalazenje resenja</strong></p>
      <p>Probajmo \(x = 2\):</p>
      <div class="math-box">
        \[f(2) = \left(\frac{3}{5}\right)^2 + \left(\frac{4}{5}\right)^2 = \frac{9}{25} + \frac{16}{25} = \frac{25}{25} = 1 \quad \checkmark\]
      </div>
      <p>Ovo radi zato sto \(3, 4, 5\) cine <strong>Pitagorinu trojku</strong>:</p>
      <div class="math-box">
        \[3^2 + 4^2 = 9 + 16 = 25 = 5^2\]
      </div>
      <p>Posto je \(f\) strogo opadajuca, \(x = 2\) je <strong>jedino resenje</strong>.</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Sta je \(f(0)\) i \(f(3)\)? Da li potvrdjuju da je presek bas u \(x = 2\)?</summary>
    <p style="margin-top:8px;color:#cbd5e1">\(f(0) = 1 + 1 = 2 > 1\) i \(f(3) = \frac{27}{125} + \frac{64}{125} = \frac{91}{125} = 0{,}728 < 1\). Posto \(f(0) > 1 > f(3)\) i funkcija opada, presek je izmedju 0 i 3, sto je konzistentno sa \(x = 2\).</p>
  </details>
</div>

<!-- Kljucni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
  <p class="insight-text">
    Trik je u prepoznavanju da se jednacina \(3^x + 4^x = 5^x\) moze transformisati deljenjem sa \(5^x\) u oblik gde se dobija strogo opadajuca funkcija. Jedinstvenost resenja sledi iz monotonosti, a konkretna vrednost \(x = 2\) sledi iz najpoznatije Pitagorine trojke:
  </p>
  <div class="insight-formula">
    \[3^2 + 4^2 = 5^2\]
  </div>
</div>

<!-- Konacan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konacan odgovor</div>
  <div class="final-answer-label">Broj realnih resenja jednacine \(3^x + 4^x = 5^x\):</div>
  <div class="final-answer-value">\(1\) &nbsp; (jedino resenje je \(x = 2\))</div>
  <div class="final-answer-label">Odgovor je (B)</div>
  <div class="verification">
    <strong>Verifikacija:</strong> Uvrstavamo \(x = 2\) u polaznu jednacinu: \(3^2 + 4^2 = 9 + 16 = 25 = 5^2\). Jednakost vazi. Posto je \(f(x) = (3/5)^x + (4/5)^x\) strogo opadajuca, nema drugih resenja.
  </div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguce zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Tvrditi da nema resenja.</strong> Na prvi pogled jednacina deluje nemoguce, ali Pitagorina trojka daje elegantno resenje \(x = 2\). Kljucno je pokusati konkretne vrednosti.
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Misliti da ima vise resenja.</strong> Bez analize monotonosti, moglo bi se pretpostaviti da postoje i druga resenja. Monotonost garantuje jedinstvenost.
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Izazov za razmisljanje</div>
  <p class="challenge-text">
    Za koja \(n \in \mathbb{N}\), \(n \geq 3\), jednacina \(3^x + 4^x = 5^x\) ima resenje \(x = n\)? A sta ako umesto \((3, 4, 5)\) uzmemo drugu Pitagorinu trojku, npr. \((5, 12, 13)\)?
  </p>
  <details>
    <summary>Nagoveštaj</summary>
    <p style="margin-top:8px;color:#cbd5e1">Za \((3,4,5)\): resenje je samo \(x = 2\) jer vazi \(3^2 + 4^2 = 5^2\), ali \(3^n + 4^n < 5^n\) za \(n > 2\) (Fermaova poslednja teorema za \(n \geq 3\) kaze da nema resenja u prirodnim brojevima, a ovde jednacina \((3/5)^n + (4/5)^n < 1\) jer je \(f\) opadajuca i \(f(2) = 1\)). Za \((5,12,13)\): slicno, jedino resenje je \(x = 2\) jer \(5^2 + 12^2 = 25 + 144 = 169 = 13^2\).</p>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('graphCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const BG = '#1e293b';
  const GRID = '#334155';
  const TEXT = '#94a3b8';
  const BLUE = '#60a5fa';
  const GREEN = '#4ade80';
  const GREEN2 = '#34d399';
  const PINK = '#f472b6';
  const MUTED = '#64748b';

  /* Plot range */
  const xMin = -2, xMax = 8;
  const yMin = -0.3, yMax = 4.5;
  const padL = 60, padR = 30, padT = 40, padB = 50;
  const gW = W - padL - padR;
  const gH = H - padT - padB;

  function toCanvasX(x) { return padL + (x - xMin) / (xMax - xMin) * gW; }
  function toCanvasY(y) { return padT + (yMax - y) / (yMax - yMin) * gH; }
  function fromCanvasX(px) { return xMin + (px - padL) / gW * (xMax - xMin); }

  function f(x) {
    return Math.pow(3/5, x) + Math.pow(4/5, x);
  }

  let sliderX = 2.0;
  const slider = document.getElementById('xSlider');
  const sliderVal = document.getElementById('xSliderVal');

  function formatDecimal(num) {
    return num.toFixed(2).replace('.', ',');
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    /* Grid lines */
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 0.5;
    for (let gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      const px = toCanvasX(gx);
      ctx.beginPath(); ctx.moveTo(px, padT); ctx.lineTo(px, H - padB); ctx.stroke();
    }
    for (let gy = 0; gy <= Math.floor(yMax); gy++) {
      const py = toCanvasY(gy);
      ctx.beginPath(); ctx.moveTo(padL, py); ctx.lineTo(W - padR, py); ctx.stroke();
    }

    /* Axes */
    ctx.strokeStyle = MUTED;
    ctx.lineWidth = 1.5;
    /* x-axis (y=0) */
    const y0 = toCanvasY(0);
    ctx.beginPath(); ctx.moveTo(padL, y0); ctx.lineTo(W - padR, y0); ctx.stroke();
    /* y-axis (x=0) */
    const x0 = toCanvasX(0);
    if (x0 >= padL && x0 <= W - padR) {
      ctx.beginPath(); ctx.moveTo(x0, padT); ctx.lineTo(x0, H - padB); ctx.stroke();
    }

    /* Axis labels */
    ctx.fillStyle = TEXT;
    ctx.font = '12px monospace';
    ctx.textAlign = 'center';
    for (let lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
      ctx.fillText(lx.toString(), toCanvasX(lx), y0 + 18);
    }
    ctx.textAlign = 'right';
    for (let ly = 0; ly <= Math.floor(yMax); ly++) {
      if (ly === 0) continue;
      ctx.fillText(ly.toString(), padL - 8, toCanvasY(ly) + 4);
    }

    /* y = 1 line */
    const y1 = toCanvasY(1);
    ctx.strokeStyle = PINK;
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 6]);
    ctx.beginPath(); ctx.moveTo(padL, y1); ctx.lineTo(W - padR, y1); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = PINK;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = 1', W - padR - 50, y1 - 8);

    /* f(x) curve */
    ctx.strokeStyle = BLUE;
    ctx.lineWidth = 3;
    ctx.beginPath();
    let started = false;
    for (let px = padL; px <= W - padR; px += 1) {
      const x = fromCanvasX(px);
      const y = f(x);
      if (y < yMin - 1 || y > yMax + 1) {
        started = false;
        continue;
      }
      const cy = toCanvasY(y);
      if (!started) { ctx.moveTo(px, cy); started = true; }
      else { ctx.lineTo(px, cy); }
    }
    ctx.stroke();

    /* Label for f(x) */
    ctx.fillStyle = BLUE;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'left';
    const labelX = toCanvasX(-1.2);
    const labelFY = f(-1.2);
    if (labelFY <= yMax) {
      ctx.fillText('f(x) = (3/5)^x + (4/5)^x', labelX + 10, toCanvasY(labelFY) - 10);
    } else {
      ctx.fillText('f(x) = (3/5)^x + (4/5)^x', padL + 10, padT + 20);
    }

    /* Intersection point at x = 2 */
    const intX = toCanvasX(2);
    const intY = toCanvasY(1);

    /* Glow effect */
    const grad = ctx.createRadialGradient(intX, intY, 0, intX, intY, 20);
    grad.addColorStop(0, 'rgba(52,211,153,0.4)');
    grad.addColorStop(1, 'rgba(52,211,153,0)');
    ctx.fillStyle = grad;
    ctx.beginPath(); ctx.arc(intX, intY, 20, 0, 2 * Math.PI); ctx.fill();

    /* Point */
    ctx.fillStyle = GREEN2;
    ctx.beginPath(); ctx.arc(intX, intY, 6, 0, 2 * Math.PI); ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.beginPath(); ctx.arc(intX, intY, 6, 0, 2 * Math.PI); ctx.stroke();

    /* Label for intersection */
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x = 2, f(2) = 1', intX + 12, intY - 12);

    /* Dashed lines from intersection to axes */
    ctx.strokeStyle = 'rgba(52,211,153,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath(); ctx.moveTo(intX, intY); ctx.lineTo(intX, y0); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(intX, intY); ctx.lineTo(padL, intY); ctx.stroke();
    ctx.setLineDash([]);

    /* Slider-driven exploration point */
    const sx = sliderX;
    const sy = f(sx);
    if (sx >= xMin && sx <= xMax && sy >= yMin && sy <= yMax) {
      const spx = toCanvasX(sx);
      const spy = toCanvasY(sy);

      /* Vertical dashed line */
      ctx.strokeStyle = 'rgba(96,165,250,0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([3, 3]);
      ctx.beginPath(); ctx.moveTo(spx, padT); ctx.lineTo(spx, H - padB); ctx.stroke();
      ctx.setLineDash([]);

      /* Point on curve */
      ctx.fillStyle = '#60a5fa';
      ctx.beginPath(); ctx.arc(spx, spy, 5, 0, 2 * Math.PI); ctx.fill();

      /* Tooltip */
      const tipText = 'f(' + formatDecimal(sx) + ') = ' + formatDecimal(sy);
      ctx.fillStyle = 'rgba(15,23,42,0.92)';
      const tw = ctx.measureText(tipText).width + 16;
      let tipX = spx + 12;
      let tipY = spy - 30;
      if (tipX + tw > W - padR) tipX = spx - tw - 12;
      if (tipY < padT) tipY = spy + 12;
      ctx.beginPath();
      if (ctx.roundRect) ctx.roundRect(tipX, tipY, tw, 24, 6);
      else ctx.rect(tipX, tipY, tw, 24);
      ctx.fill();
      ctx.strokeStyle = GRID;
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '12px monospace';
      ctx.textAlign = 'center';
      ctx.fillText(tipText, tipX + tw / 2, tipY + 16);
    }

    /* Title */
    ctx.fillStyle = TEXT;
    ctx.font = 'bold 14px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik f(x) = (3/5)^x + (4/5)^x i prava y = 1', W / 2, 22);

    /* Legend */
    const legX = W - padR - 230, legY = padT + 8;
    ctx.fillStyle = 'rgba(15,23,42,0.88)';
    ctx.beginPath();
    if (ctx.roundRect) ctx.roundRect(legX - 8, legY - 4, 230, 80, 8);
    else ctx.rect(legX - 8, legY - 4, 230, 80);
    ctx.fill();
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 1;
    ctx.stroke();

    const legends = [
      { color: BLUE, dash: [], label: 'f(x) = (3/5)^x + (4/5)^x' },
      { color: PINK, dash: [8, 6], label: 'y = 1' },
      { color: GREEN2, dash: [], label: 'Presek: (2, 1)', dot: true }
    ];
    legends.forEach((item, i) => {
      const ly = legY + 10 + i * 22;
      if (item.dot) {
        ctx.fillStyle = item.color;
        ctx.beginPath(); ctx.arc(legX + 10, ly, 4, 0, 2 * Math.PI); ctx.fill();
      } else {
        ctx.strokeStyle = item.color;
        ctx.lineWidth = 2.5;
        ctx.setLineDash(item.dash);
        ctx.beginPath(); ctx.moveTo(legX, ly); ctx.lineTo(legX + 22, ly); ctx.stroke();
        ctx.setLineDash([]);
      }
      ctx.fillStyle = item.color;
      ctx.font = '11px sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(item.label, legX + 28, ly + 4);
    });
  }

  draw();

  /* Slider interaction */
  slider.addEventListener('input', () => {
    sliderX = parseInt(slider.value, 10) / 10;
    sliderVal.textContent = 'x = ' + formatDecimal(sliderX);
    draw();
  });

  /* Touch support for canvas */
  function handlePointer(e) {
    const rect = canvas.getBoundingClientRect();
    let clientX, clientY;
    if (e.touches && e.touches.length > 0) {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    const cx = (clientX - rect.left) * (W / rect.width);
    const x = fromCanvasX(cx);
    if (x >= xMin && x <= xMax) {
      sliderX = Math.round(x * 10) / 10;
      slider.value = Math.round(sliderX * 10);
      sliderVal.textContent = 'x = ' + formatDecimal(sliderX);
      draw();
    }
  }

  canvas.addEventListener('mousemove', handlePointer);
  canvas.addEventListener('touchstart', (e) => { e.preventDefault(); handlePointer(e); });
  canvas.addEventListener('touchmove', (e) => { e.preventDefault(); handlePointer(e); });

  /* Step click highlight */
  document.addEventListener('DOMContentLoaded', () => {
    const steps = document.querySelectorAll('.step');
    steps.forEach(step => {
      step.addEventListener('click', () => {
        steps.forEach(s => s.classList.remove('active'));
        step.classList.add('active');
      });
    });

    /* Answer option interaction */
    const options = document.querySelectorAll('.answer-option');
    options.forEach(opt => {
      opt.addEventListener('click', () => {
        options.forEach(o => { o.classList.remove('correct'); o.classList.remove('wrong'); });
        if (opt.getAttribute('data-option') === 'B') {
          opt.classList.add('correct');
        } else {
          opt.classList.add('wrong');
          setTimeout(() => { opt.classList.remove('wrong'); }, 1200);
        }
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META{"title":"Eksponencijalna jednacina — Pitagorina trojka","subject":"math","unit":"algebra","topic_tags":["eksponencijalna jednacina","monotonost funkcije","Pitagorina trojka","jedinstvenost resenja","analiza funkcije"]}BRAINSPARK_META-->