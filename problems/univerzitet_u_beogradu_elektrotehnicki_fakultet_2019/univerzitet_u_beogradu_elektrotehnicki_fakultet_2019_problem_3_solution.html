<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zajednicka tetiva dva podudarna kruga</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Kolika je duzina zajednicke tetive dva podudarna kruga ciji su poluprecnici 6 cm
i ciji su centri na rastojanju 8 cm?

(A) 5 cm
(B) 2*sqrt(5) cm
(C) 10 cm
(D) sqrt(5)/2 cm
(E) 4*sqrt(5) cm

SOLUTION SCRATCHPAD:

Given:
- Two congruent circles (podudarna kruga)
- Radius r = 6 cm for both
- Distance between centers d = 8 cm

Setup:
Let the centers be O1 and O2, with d(O1, O2) = 8 cm.
Let the common chord be AB.
The line O1O2 is perpendicular to AB and bisects it at point M (since the circles are congruent).

So M is the midpoint of AB, and O1M = O2M = d/2 = 4 cm.

In right triangle O1MA:
- O1A = r = 6 (radius)
- O1M = 4 (half the distance between centers)
- MA = ? (half the chord)

By Pythagorean theorem:
O1A^2 = O1M^2 + MA^2
6^2 = 4^2 + MA^2
36 = 16 + MA^2
MA^2 = 20
MA = sqrt(20) = 2*sqrt(5)

Full chord AB = 2 * MA = 2 * 2*sqrt(5) = 4*sqrt(5)

ANSWER: (E) 4*sqrt(5) cm

VERIFICATION:
- Check: MA = 2*sqrt(5) ≈ 4.47 cm
- Check: O1A^2 = O1M^2 + MA^2 = 16 + 20 = 36 = 6^2 ✓
- The chord length 4*sqrt(5) ≈ 8.94 cm, which is less than the diameter (12 cm) — makes sense.
- The chord is longer than d = 8 cm — also makes sense geometrically (the circles overlap significantly).

For canvas:
- Draw two intersecting circles with centers separated by 8 units, radii 6
- Mark the common chord AB
- Mark the midpoint M on the chord
- Show the right triangle O1MA
- Allow dragging the center distance to see how chord changes
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 10px 20px;
}

h1 {
  text-align: center;
  font-size: 2.1rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 14px;
  color: #60a5fa;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 14px;
  text-align: center;
  font-size: 1.05rem;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.answer-option:hover {
  border-color: #60a5fa;
}

.plan-steps {
  list-style: none;
  counter-reset: plan;
}

.plan-steps li {
  counter-increment: plan;
  padding: 6px 0 6px 36px;
  position: relative;
}

.plan-steps li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 6px;
  width: 26px;
  height: 26px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '+ ';
  color: #60a5fa;
  font-weight: 700;
}

details[open] summary::before {
  content: '- ';
}

details .detail-content {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #334155;
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  border-radius: 50%;
  font-weight: 800;
  font-size: 0.9rem;
  margin-right: 10px;
  flex-shrink: 0;
}

.step {
  display: flex;
  align-items: flex-start;
  margin-bottom: 18px;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 6px;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-content {
  flex: 1;
}

.step-content h3 {
  font-size: 1.05rem;
  margin-bottom: 6px;
  color: #e2e8f0;
}

.final-answer {
  border: 2px solid #34d399;
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.05));
}

.final-answer .card-title {
  color: #4ade80;
}

.answer-box {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 700;
  color: #4ade80;
  padding: 16px;
  background: rgba(52, 211, 153, 0.08);
  border-radius: 10px;
  margin: 14px 0;
}

.answer-options-final {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.answer-options-final .opt {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 14px;
  text-align: center;
  font-size: 1rem;
  color: #94a3b8;
}

.answer-options-final .opt.correct {
  border-color: #4ade80;
  color: #4ade80;
  background: rgba(52, 211, 153, 0.1);
  font-weight: 700;
}

.insight-card {
  border: 1px solid #f472b6;
  background: linear-gradient(135deg, rgba(244, 114, 182, 0.08), rgba(167, 139, 250, 0.05));
}

.insight-card .card-title {
  color: #f472b6;
}

.pitfall-card .card-title {
  color: #e09468;
}

.pitfall-item {
  padding: 10px 0;
  border-bottom: 1px solid #334155;
}

.pitfall-item:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  font-size: 0.9rem;
}

.challenge-card {
  border: 1px dashed #60a5fa;
}

.challenge-card .card-title {
  color: #60a5fa;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  background: #0c1222;
  touch-action: none;
  max-width: 100%;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
  text-align: center;
}

.highlight {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.slider-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 14px;
  margin-top: 12px;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.95rem;
}

.slider-container input[type="range"] {
  width: 200px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 0.95rem;
  min-width: 50px;
}

@media (max-width: 700px) {
  body { padding: 10px; }
  .container { padding: 5px 10px; }
  h1 { font-size: 1.5rem; }
  .card { padding: 16px 18px; }
  .given-grid { grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 8px; }
  .answer-box { font-size: 1.2rem; }
  canvas { max-width: 100%; }
  .slider-container input[type="range"] { width: 140px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Zajednicka tetiva dva podudarna kruga</h1>
  <p class="subtitle">Planimetrija — presek krugova i Pitagorina teorema</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title">Zadatak</div>
    <p>
      Kolika je duzina zajednicke tetive dva podudarna kruga ciji su poluprecnici <span class="highlight">6 cm</span> i ciji su centri na rastojanju <span class="highlight">8 cm</span>?
    </p>
    <div class="given-grid" style="margin-bottom: 16px;">
      <div class="given-item">
        <div class="label">Poluprecnik</div>
        <div class="value">\(r = 6\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Rastojanje centara</div>
        <div class="value">\(d = 8\) cm</div>
      </div>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(5\) cm</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\sqrt{5}\) cm</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(10\) cm</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{\sqrt{5}}{2}\) cm</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(4\sqrt{5}\) cm</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title">Plan resavanja</div>
    <p>
      Koristicemo cinjenicu da kod dva podudarna kruga spojnica centara prolazi kroz srediste zajednicke tetive i <span class="highlight">normalna je na nju</span>. Tako nastaje pravougli trougao u kome mozemo primeniti Pitagorinu teoremu.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title">Teorijska osnova</div>
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="detail-content">
        <p><span class="highlight">Pitagorina teorema:</span> U pravouglom trouglu sa katetama \(a\) i \(b\) i hipotenuzom \(c\) vazi:</p>
        \[a^2 + b^2 = c^2\]
        <p style="margin-top: 10px;"><span class="highlight">Svojstvo zajednicke tetive:</span> Ako se dva kruga seku, spojnica njihovih centara je normalna na zajednicku tetivu. Ako su krugovi podudarni (jednaki poluprecnici), spojnica centara deli zajednicku tetivu na dva jednaka dela (simetrala).</p>
        <p style="margin-top: 10px;"><span class="highlight">Tetiva kruga:</span> Za tetivu na rastojanju \(d_0\) od centra kruga poluprecnika \(r\), polovina duzine tetive iznosi \(\sqrt{r^2 - d_0^2}\).</p>
        <div class="canvas-wrapper" style="margin-top: 14px;">
          <canvas id="theoryCanvas" width="300" height="220"></canvas>
          <p class="canvas-caption">Pravougli trougao: poluprecnik, polovine tetive i rastojanja</p>
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid / Interactive Diagram -->
  <div class="card">
    <div class="card-title">Interaktivni dijagram</div>
    <div class="canvas-wrapper">
      <canvas id="mainCanvas" width="700" height="500"></canvas>
      <div class="slider-container">
        <label for="distSlider">Rastojanje centara (d):</label>
        <input type="range" id="distSlider" min="1" max="11" step="0.1" value="8">
        <span class="slider-value" id="distValue">8,0 cm</span>
      </div>
      <p class="canvas-caption">Prevlacite klizac da vidite kako se tetiva menja sa rastojanjem centara. Poluprecnik je fiksan: \(r = 6\) cm.</p>
    </div>
  </div>

  <!-- Step by Step -->
  <div class="card">
    <div class="card-title">Resenje korak po korak</div>

    <div class="step" id="step1">
      <span class="step-badge">1</span>
      <div class="step-content">
        <h3>Postavka i oznacavanje</h3>
        <p>Neka su \(O_1\) i \(O_2\) centri dva podudarna kruga. Neka je \(AB\) njihova zajednicka tetiva, a \(M\) presecna tacka zajednicke tetive i spojnice centara.</p>
        <p>Poznato nam je:</p>
        \[r_1 = r_2 = r = 6 \text{ cm}, \quad d(O_1, O_2) = 8 \text{ cm}\]
      </div>
    </div>

    <div class="step" id="step2">
      <span class="step-badge">2</span>
      <div class="step-content">
        <h3>Svojstvo simetrije</h3>
        <p>Posto su krugovi <span class="highlight-purple">podudarni</span> (imaju isti poluprecnik), spojnica centara \(O_1O_2\) je <span class="highlight">simetrala zajednicke tetive</span>. To znaci:</p>
        <ul style="margin: 8px 0 8px 20px;">
          <li>Spojnica \(O_1O_2\) je <strong>normalna</strong> na tetivu \(AB\)</li>
          <li>Tacka \(M\) je <strong>srediste</strong> tetive \(AB\), tj. \(MA = MB\)</li>
          <li>Tacka \(M\) je <strong>srediste</strong> duzi \(O_1O_2\), tj. \(O_1M = O_2M\)</li>
        </ul>
        <p>Zato je:</p>
        \[O_1M = O_2M = \frac{d}{2} = \frac{8}{2} = 4 \text{ cm}\]
      </div>
    </div>

    <details>
      <summary>Proveri sebe: Zasto je M srediste duzi O1O2?</summary>
      <div class="detail-content">
        <p>Posto su oba kruga istog poluprecnika, konfiguracija je simetricna u odnosu na normalu na \(O_1O_2\) kroz srediste te duzi. Ta simetrija garantuje da je \(M\) srediste duzi \(O_1O_2\). Za krugove razlicitog poluprecnika, \(M\) ne bi bilo na sredini!</p>
      </div>
    </details>

    <div class="step" id="step3">
      <span class="step-badge">3</span>
      <div class="step-content">
        <h3>Formiramo pravougli trougao</h3>
        <p>Posmatrajmo trougao \(\triangle O_1MA\). Posto je \(O_1O_2 \perp AB\), ugao kod temena \(M\) je prav:</p>
        \[\angle O_1MA = 90°\]
        <p>Stranice ovog pravouglog trougla su:</p>
        <ul style="margin: 8px 0 8px 20px;">
          <li><span class="highlight">Hipotenuza:</span> \(O_1A = r = 6\) cm (poluprecnik prvog kruga)</li>
          <li><span class="highlight-purple">Kateta:</span> \(O_1M = 4\) cm (polovina rastojanja centara)</li>
          <li><span class="highlight-green">Kateta:</span> \(MA = \,?\) (polovina zajednicke tetive)</li>
        </ul>
      </div>
    </div>

    <div class="step" id="step4">
      <span class="step-badge">4</span>
      <div class="step-content">
        <h3>Primenjujemo Pitagorinu teoremu</h3>
        <p>U pravouglom trouglu \(\triangle O_1MA\) vazi:</p>
        \[O_1A^2 = O_1M^2 + MA^2\]
        <p>Zamenjujemo poznate vrednosti:</p>
        \[6^2 = 4^2 + MA^2\]
        \[36 = 16 + MA^2\]
        \[MA^2 = 36 - 16 = 20\]
        \[MA = \sqrt{20} = \sqrt{4 \cdot 5} = 2\sqrt{5}\]
      </div>
    </div>

    <details>
      <summary>Proveri sebe: Koliko je priblizno \(2\sqrt{5}\)?</summary>
      <div class="detail-content">
        <p>\(\sqrt{5} \approx 2{,}236\), pa je \(2\sqrt{5} \approx 4{,}47\) cm. Ovo je polovina tetive — dakle, polovina tetive je manja od poluprecnika (6 cm), sto ima smisla geometrijski jer se tetiva ne prostire celim precnikom.</p>
      </div>
    </details>

    <div class="step" id="step5">
      <span class="step-badge">5</span>
      <div class="step-content">
        <h3>Racunamo duzinu cele tetive</h3>
        <p>Posto je \(M\) srediste tetive \(AB\), vazi \(AB = 2 \cdot MA\):</p>
        \[AB = 2 \cdot MA = 2 \cdot 2\sqrt{5} = 4\sqrt{5} \text{ cm}\]
      </div>
    </div>

    <details>
      <summary>Proveri sebe: Da li je \(4\sqrt{5}\) razumna vrednost?</summary>
      <div class="detail-content">
        <p>\(4\sqrt{5} \approx 8{,}94\) cm. Tetiva mora biti kraca od precnika (\(2r = 12\) cm), i to jeste ispunjeno. Takodje, tetiva je duza od rastojanja centara (8 cm) jer se krugovi znacajno preklapaju — i to se poklapa.</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <div class="card-title">Kljucni uvid</div>
    <p>
      Kad god imamo dva podudarna kruga koji se seku, njihova zajednicka tetiva, zajedno sa spojnicom centara, formira <span class="highlight-pink">dva pravougla trougla</span> koji su medjusobno simetricni. Dovoljno je posmatrati samo jedan od njih i primeniti Pitagorinu teoremu sa tri kljucne velicine:
    </p>
    <div style="text-align: center; margin: 16px 0; font-size: 1.15rem;">
      \[\boxed{r^2 = \left(\frac{d}{2}\right)^2 + \left(\frac{t}{2}\right)^2}\]
    </div>
    <p style="color: #94a3b8; text-align: center;">
      gde je \(r\) poluprecnik, \(d\) rastojanje centara, a \(t\) duzina zajednicke tetive.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <div class="card-title">Konacan odgovor</div>
    <div class="answer-box">
      \(AB = 4\sqrt{5}\) cm &mdash; Odgovor je (E)
    </div>
    <div class="answer-options-final">
      <div class="opt">(A) \(5\) cm</div>
      <div class="opt">(B) \(2\sqrt{5}\) cm</div>
      <div class="opt">(C) \(10\) cm</div>
      <div class="opt">(D) \(\frac{\sqrt{5}}{2}\) cm</div>
      <div class="opt correct">(E) \(4\sqrt{5}\) cm</div>
    </div>
    <p style="margin-top: 14px;">
      <strong>Verifikacija:</strong> Proveravamo da li je \(MA = 2\sqrt{5}\) konzistentno:
    </p>
    <p>\(O_1M^2 + MA^2 = 4^2 + (2\sqrt{5})^2 = 16 + 20 = 36 = 6^2 = O_1A^2\) &ensp; \(\checkmark\)</p>
    <p>Vrednost \(4\sqrt{5} \approx 8{,}94\) cm je manja od precnika \(12\) cm i veca od rastojanja centara \(8\) cm — geometrijski ima smisla. \(\checkmark\)</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <div class="card-title">Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-label">Greska 1:</span> Zaboraviti da se rastojanje centara deli na pola. Ako se pogresi i uzme \(O_1M = 8\) umesto \(O_1M = 4\), dobija se \(MA^2 = 36 - 64 < 0\), sto nema smisla. To je signal da spojnica centara biva raspolovljena kod podudarnih krugova.
    </div>
    <div class="pitfall-item">
      <span class="pitfall-label">Greska 2:</span> Izracunati \(MA = 2\sqrt{5}\) i stati tu, misleci da je to konacni odgovor. Medjutim, \(2\sqrt{5}\) je samo <em>polovina</em> tetive — odgovor (B). Celu tetivu dobijamo mnozeci sa 2: \(AB = 4\sqrt{5}\).
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <div class="card-title">Dodatni izazov</div>
    <p>Sta ako krugovi nisu podudarni? Neka prvi krug ima poluprecnik \(r_1 = 5\) cm, drugi \(r_2 = 7\) cm, a rastojanje centara je \(d = 8\) cm. Kolika je duzina zajednicke tetive?</p>
    <details>
      <summary>Pomoc</summary>
      <div class="detail-content">
        <p>Sada tacka \(M\) vise nije na sredini duzi \(O_1O_2\). Neka je \(O_1M = x\), tada je \(O_2M = d - x = 8 - x\). Iz dva pravougla trougla dobijamo sistem:</p>
        \[\begin{cases} r_1^2 = x^2 + h^2 \\ r_2^2 = (d-x)^2 + h^2 \end{cases}\]
        <p>gde je \(h = MA\) polovina tetive. Oduzmemo prvu od druge jednacine da eliminisemo \(h^2\) i nadjemo \(x\), a onda i \(h\).</p>
      </div>
    </details>
  </div>

</div>

<!-- Theory canvas script -->
<script>
(() => {
  const canvas = document.getElementById('theoryCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  ctx.fillStyle = '#0c1222';
  ctx.fillRect(0, 0, W, H);

  // Draw a small right triangle illustrating the key relationship
  const ox = 80, oy = 160;
  const rLen = 180; // hypotenuse visual length
  const catH = 120; // horizontal cateta
  const catV = Math.sqrt(rLen * rLen - catH * catH); // vertical cateta

  // Triangle vertices: O1 at (ox, oy), M at (ox + catH, oy), A at (ox + catH, oy - catV)
  const O1 = { x: ox, y: oy };
  const M = { x: ox + catH, y: oy };
  const A = { x: ox + catH, y: oy - catV };

  // Fill triangle
  ctx.beginPath();
  ctx.moveTo(O1.x, O1.y);
  ctx.lineTo(M.x, M.y);
  ctx.lineTo(A.x, A.y);
  ctx.closePath();
  ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
  ctx.fill();

  // Draw sides
  // O1M (horizontal cateta)
  ctx.beginPath();
  ctx.moveTo(O1.x, O1.y);
  ctx.lineTo(M.x, M.y);
  ctx.strokeStyle = '#a78bfa';
  ctx.lineWidth = 2.5;
  ctx.stroke();

  // MA (vertical cateta)
  ctx.beginPath();
  ctx.moveTo(M.x, M.y);
  ctx.lineTo(A.x, A.y);
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 2.5;
  ctx.stroke();

  // O1A (hypotenuse)
  ctx.beginPath();
  ctx.moveTo(O1.x, O1.y);
  ctx.lineTo(A.x, A.y);
  ctx.strokeStyle = '#60a5fa';
  ctx.lineWidth = 2.5;
  ctx.stroke();

  // Right angle marker at M
  const sq = 12;
  ctx.beginPath();
  ctx.moveTo(M.x - sq, M.y);
  ctx.lineTo(M.x - sq, M.y - sq);
  ctx.lineTo(M.x, M.y - sq);
  ctx.strokeStyle = '#34d399';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Points
  [{ p: O1, c: '#60a5fa' }, { p: M, c: '#e2e8f0' }, { p: A, c: '#4ade80' }].forEach(({ p, c }) => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
    ctx.fillStyle = c;
    ctx.fill();
  });

  // Labels
  ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
  ctx.textAlign = 'center';

  ctx.fillStyle = '#60a5fa';
  ctx.fillText('O\u2081', O1.x - 4, O1.y + 22);

  ctx.fillStyle = '#e2e8f0';
  ctx.fillText('M', M.x + 4, M.y + 22);

  ctx.fillStyle = '#4ade80';
  ctx.fillText('A', A.x + 16, A.y + 4);

  // Side labels
  ctx.font = '13px "Segoe UI", system-ui, sans-serif';

  // O1M label
  ctx.fillStyle = '#a78bfa';
  ctx.fillText('d/2', (O1.x + M.x) / 2, O1.y + 36);

  // MA label
  ctx.fillStyle = '#4ade80';
  ctx.textAlign = 'left';
  ctx.fillText('t/2', M.x + 10, (M.y + A.y) / 2 + 4);

  // Hypotenuse label
  ctx.fillStyle = '#60a5fa';
  ctx.textAlign = 'center';
  const midHx = (O1.x + A.x) / 2;
  const midHy = (O1.y + A.y) / 2;
  ctx.fillText('r', midHx - 14, midHy - 6);
})();
</script>

<!-- Main interactive canvas script -->
<script>
(() => {
  const canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const slider = document.getElementById('distSlider');
  const distLabel = document.getElementById('distValue');

  const r = 6; // radius of both circles
  const scale = 32; // pixels per cm
  const centerY = H / 2;
  const centerX = W / 2;

  function toCanvas(x, y) {
    return { x: centerX + x * scale, y: centerY - y * scale };
  }

  function drawRightAngle(px, py, dx1, dy1, dx2, dy2, size) {
    ctx.beginPath();
    ctx.moveTo(px + dx1 * size, py + dy1 * size);
    ctx.lineTo(px + dx1 * size + dx2 * size, py + dy1 * size + dy2 * size);
    ctx.lineTo(px + dx2 * size, py + dy2 * size);
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.stroke();
  }

  function formatNum(n) {
    return n.toFixed(1).replace('.', ',');
  }

  function draw() {
    const d = parseFloat(slider.value);
    distLabel.textContent = formatNum(d) + ' cm';

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Positions of circle centers
    const O1 = toCanvas(-d / 2, 0);
    const O2 = toCanvas(d / 2, 0);

    // Compute half-chord length
    const halfD = d / 2;
    let halfChord = 0;
    let intersects = false;
    if (d < 2 * r) {
      halfChord = Math.sqrt(r * r - halfD * halfD);
      intersects = true;
    }

    // Subtle grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let gx = -12; gx <= 12; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let gy = -8; gy <= 8; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Draw horizontal axis line (connecting centers and beyond)
    ctx.beginPath();
    ctx.moveTo(30, centerY);
    ctx.lineTo(W - 30, centerY);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.stroke();

    // Draw vertical axis through M
    const M = toCanvas(0, 0);
    if (intersects) {
      ctx.beginPath();
      ctx.moveTo(M.x, M.y - (halfChord + 2) * scale);
      ctx.lineTo(M.x, M.y + (halfChord + 2) * scale);
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // Draw circles
    // Circle 1
    ctx.beginPath();
    ctx.arc(O1.x, O1.y, r * scale, 0, Math.PI * 2);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Circle 2
    ctx.beginPath();
    ctx.arc(O2.x, O2.y, r * scale, 0, Math.PI * 2);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Highlight the intersection/overlap region
    if (intersects) {
      ctx.save();
      ctx.globalAlpha = 0.08;
      ctx.beginPath();
      ctx.arc(O1.x, O1.y, r * scale, 0, Math.PI * 2);
      ctx.clip();
      ctx.beginPath();
      ctx.arc(O2.x, O2.y, r * scale, 0, Math.PI * 2);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
      ctx.restore();
    }

    if (intersects) {
      // Points A and B (top and bottom of chord)
      const A = toCanvas(0, halfChord);
      const B = toCanvas(0, -halfChord);

      // Draw common chord AB (thick green line)
      ctx.beginPath();
      ctx.moveTo(A.x, A.y);
      ctx.lineTo(B.x, B.y);
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 3;
      ctx.stroke();

      // Draw the O1-O2 segment
      ctx.beginPath();
      ctx.moveTo(O1.x, O1.y);
      ctx.lineTo(O2.x, O2.y);
      ctx.strokeStyle = 'rgba(226, 232, 240, 0.5)';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Draw the right triangle O1-M-A
      // O1 to M (dashed, purple)
      ctx.beginPath();
      ctx.moveTo(O1.x, O1.y);
      ctx.lineTo(M.x, M.y);
      ctx.strokeStyle = '#a78bfa';
      ctx.lineWidth = 2;
      ctx.setLineDash([6, 4]);
      ctx.stroke();
      ctx.setLineDash([]);

      // M to A (part of the green chord - already drawn)

      // O1 to A (radius - dashed blue)
      ctx.beginPath();
      ctx.moveTo(O1.x, O1.y);
      ctx.lineTo(A.x, A.y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.setLineDash([6, 4]);
      ctx.stroke();
      ctx.setLineDash([]);

      // Fill triangle lightly
      ctx.beginPath();
      ctx.moveTo(O1.x, O1.y);
      ctx.lineTo(M.x, M.y);
      ctx.lineTo(A.x, A.y);
      ctx.closePath();
      ctx.fillStyle = 'rgba(96, 165, 250, 0.07)';
      ctx.fill();

      // Right angle marker at M
      drawRightAngle(M.x, M.y, -1, 0, 0, -1, 10);

      // Points
      // O1
      ctx.beginPath();
      ctx.arc(O1.x, O1.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // O2
      ctx.beginPath();
      ctx.arc(O2.x, O2.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#a78bfa';
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // M
      ctx.beginPath();
      ctx.arc(M.x, M.y, 5, 0, Math.PI * 2);
      ctx.fillStyle = '#e2e8f0';
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // A
      ctx.beginPath();
      ctx.arc(A.x, A.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // B
      ctx.beginPath();
      ctx.arc(B.x, B.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Labels
      ctx.font = 'bold 15px "Segoe UI", system-ui, sans-serif';

      ctx.fillStyle = '#60a5fa';
      ctx.textAlign = 'center';
      ctx.fillText('O\u2081', O1.x, O1.y + 24);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('O\u2082', O2.x, O2.y + 24);

      ctx.fillStyle = '#e2e8f0';
      ctx.fillText('M', M.x + 16, M.y + 5);

      ctx.fillStyle = '#4ade80';
      ctx.fillText('A', A.x + 14, A.y - 4);
      ctx.fillText('B', B.x + 14, B.y + 16);

      // Dimension labels
      ctx.font = '13px "Segoe UI", system-ui, sans-serif';

      // O1M distance label
      ctx.fillStyle = '#a78bfa';
      ctx.textAlign = 'center';
      ctx.fillText('d/2 = ' + formatNum(d / 2), (O1.x + M.x) / 2, O1.y - 12);

      // O1A radius label
      ctx.fillStyle = '#60a5fa';
      const midRx = (O1.x + A.x) / 2;
      const midRy = (O1.y + A.y) / 2;
      ctx.fillText('r = 6', midRx - 22, midRy - 8);

      // Half-chord length label (MA)
      ctx.fillStyle = '#4ade80';
      ctx.textAlign = 'left';
      const halfChordLabel = formatNum(halfChord);
      ctx.fillText('t/2 = ' + halfChordLabel, A.x + 14, (A.y + M.y) / 2 + 4);

      // Full chord length at top
      ctx.font = 'bold 16px "Segoe UI", system-ui, sans-serif';
      ctx.fillStyle = '#4ade80';
      ctx.textAlign = 'center';
      const chordLen = 2 * halfChord;
      ctx.fillText('Tetiva AB = ' + formatNum(chordLen) + ' cm', W / 2, 32);

      // Show the exact value when d=8
      if (Math.abs(d - 8) < 0.05) {
        ctx.font = '14px "Segoe UI", system-ui, sans-serif';
        ctx.fillStyle = '#94a3b8';
        ctx.fillText('= 4\u221A5 \u2248 8,94 cm', W / 2, 54);
      }

    } else {
      // Circles don't intersect
      // O1
      ctx.beginPath();
      ctx.arc(O1.x, O1.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();

      // O2
      ctx.beginPath();
      ctx.arc(O2.x, O2.y, 6, 0, Math.PI * 2);
      ctx.fillStyle = '#a78bfa';
      ctx.fill();

      ctx.font = 'bold 15px "Segoe UI", system-ui, sans-serif';
      ctx.fillStyle = '#60a5fa';
      ctx.textAlign = 'center';
      ctx.fillText('O\u2081', O1.x, O1.y + 24);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('O\u2082', O2.x, O2.y + 24);

      ctx.font = 'bold 16px "Segoe UI", system-ui, sans-serif';
      ctx.fillStyle = '#e09468';
      ctx.textAlign = 'center';
      ctx.fillText('Krugovi se ne seku (d \u2265 2r)', W / 2, 32);
    }

    // Scale reference at bottom
    ctx.font = '11px "Segoe UI", system-ui, sans-serif';
    ctx.fillStyle = '#475569';
    ctx.textAlign = 'left';
    ctx.fillText('1 cm', 20, H - 14);
    ctx.beginPath();
    ctx.moveTo(50, H - 18);
    ctx.lineTo(50 + scale, H - 18);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    // Ticks
    ctx.beginPath();
    ctx.moveTo(50, H - 22);
    ctx.lineTo(50, H - 14);
    ctx.moveTo(50 + scale, H - 22);
    ctx.lineTo(50 + scale, H - 14);
    ctx.stroke();
  }

  draw();

  slider.addEventListener('input', draw);

  // Step click highlighting
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Zajednicka tetiva dva podudarna kruga","subject":"math","unit":"geometry","topic_tags":["planimetrija","zajednicka tetiva","presek krugova","Pitagorina teorema","podudrani krugovi"]}
BRAINSPARK_META-->