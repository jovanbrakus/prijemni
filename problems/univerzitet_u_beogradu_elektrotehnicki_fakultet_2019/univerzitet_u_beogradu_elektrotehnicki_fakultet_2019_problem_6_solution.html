<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vijetove formule za kubnu jednacinu</title>
<script type="text/info" id="logic-scratchpad">
Problem: Given x^3 + px + q = 0 with p,q in R, p != 0, q != 0.
x1, x2, x3 are roots.

Find the value of:
  (x1 + x2 + x3) / (x1^2 + x2^2 + x3^2) - x1*x2*(1 + x3) - (x1 + x2)*x3

Step 1: Vieta's formulas for x^3 + 0*x^2 + p*x + q = 0
  S1 = x1 + x2 + x3 = 0  (coefficient of x^2 is 0)
  S2 = x1*x2 + x1*x3 + x2*x3 = p
  S3 = x1*x2*x3 = -q

Step 2: Evaluate the numerator of the fraction.
  x1 + x2 + x3 = S1 = 0

  So the fraction (x1 + x2 + x3) / (x1^2 + x2^2 + x3^2) = 0 / (x1^2 + x2^2 + x3^2).

  We need to confirm the denominator is nonzero:
  x1^2 + x2^2 + x3^2 = (x1 + x2 + x3)^2 - 2(x1*x2 + x1*x3 + x2*x3) = 0 - 2p = -2p
  Since p != 0, we have -2p != 0, so the fraction is well-defined and equals 0.

Step 3: Simplify the remaining expression.
  - x1*x2*(1 + x3) - (x1 + x2)*x3

  Expand:
  = -x1*x2 - x1*x2*x3 - x1*x3 - x2*x3

  Group:
  = -(x1*x2 + x1*x3 + x2*x3) - x1*x2*x3
  = -S2 - S3
  = -p - (-q)
  = -p + q
  = q - p

Step 4: Combine
  Total = 0 + (q - p) = q - p

Answer: (D) q - p

Verification with a specific example:
  Let's pick a cubic x^3 - 3x + 2 = 0, so p = -3, q = 2.
  Factor: x^3 - 3x + 2 = (x-1)^2(x+2) = 0
  Roots: x1 = 1, x2 = 1, x3 = -2

  Check Vieta's:
  S1 = 1 + 1 + (-2) = 0 ✓
  S2 = 1*1 + 1*(-2) + 1*(-2) = 1 - 2 - 2 = -3 = p ✓
  S3 = 1*1*(-2) = -2 = -q ✓ (since q = 2)

  Evaluate the expression:
  Fraction: (1+1-2)/(1+1+4) = 0/6 = 0
  Second part: -1*1*(1+(-2)) - (1+1)*(-2) = -1*(-1) - 2*(-2) = 1 + 4 = 5
  Total: 0 + 5 = 5
  Expected: q - p = 2 - (-3) = 5 ✓

Second verification with x^3 + x - 2 = 0, so p = 1, q = -2.
  Factor: x^3 + x - 2 = (x-1)(x^2 + x + 2) = 0
  Real root: x1 = 1, complex roots: x2 = (-1+i*sqrt(7))/2, x3 = (-1-i*sqrt(7))/2
  S1 = 1 + (-1+i*sqrt(7))/2 + (-1-i*sqrt(7))/2 = 1 + (-1) = 0 ✓
  Expected: q - p = -2 - 1 = -3
  Direct check with Vieta: -S2 - S3 = -1 - (-(-2)) = -1 - 2 = -3 ✓
</script>
<script>
MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  overflow-x: auto;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.18);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: transform 0.2s, border-color 0.2s;
}

.given-item:hover {
  transform: translateY(-2px);
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

/* Plan card */
.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

/* Details/collapsible */
details {
  margin: 15px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 0;
}

details li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

details li:last-child {
  border-bottom: none;
}

/* Canvas card */
.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  width: 100%;
  max-width: 700px;
  border-radius: 10px;
  border: 1px solid #334155;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

/* Steps */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.95rem;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #94a3b8;
  margin-top: 6px;
}

/* Checkpoint */
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.18);
}

.checkpoint summary {
  color: #34d399;
}

/* Key insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
}

.insight-card h2 {
  color: #a78bfa;
}

/* Final answer */
.final-answer {
  border: 2px solid rgba(74,222,128,0.3);
  background: linear-gradient(135deg, rgba(74,222,128,0.06), rgba(52,211,153,0.04));
}

.final-answer h2 {
  color: #4ade80;
}

.answer-big {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  text-align: center;
  margin: 20px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 90px;
  transition: transform 0.2s;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  transform: scale(1.05);
}

.option-box .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-box .opt-value {
  font-size: 1.05rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-box.correct .opt-value {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #e2e8f0;
}

.pitfall-list li strong {
  color: #e09468;
}

/* Challenge */
.challenge-card {
  border: 1px solid rgba(244,114,182,0.2);
  background: rgba(244,114,182,0.04);
}

.challenge-card h2 {
  color: #f472b6;
}

/* Vieta formula table */
.vieta-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 12px;
  margin: 16px 0;
}

.vieta-item {
  background: rgba(30,41,59,0.6);
  border-radius: 10px;
  padding: 14px 18px;
  text-align: center;
  border-left: 3px solid #a78bfa;
}

.vieta-item .vieta-label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 6px;
}

.vieta-item .vieta-val {
  font-size: 1.1rem;
  font-weight: 600;
  color: #a78bfa;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
  .vieta-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Vijetove formule za kubnu jednacinu</h1>
  <p class="subtitle">Polinomi, veze izmedju korena i koeficijenata, algebarsko uproscavanje</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Neka su \(x_1\), \(x_2\) i \(x_3\) resenja jednacine \(x^3 + px + q = 0\), gde je \(p, q \in \mathbb{R}\), \(p \neq 0\), \(q \neq 0\).</p>
    <p style="margin-top: 12px;">Tada je vrednost izraza:</p>
    <div class="math-box">
      \[ \frac{x_1 + x_2 + x_3}{x_1^2 + x_2^2 + x_3^2} - x_1 x_2(1 + x_3) - (x_1 + x_2)x_3 \]
    </div>
    <p style="margin-top: 12px;">jednaka:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(p \cdot q\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(p + q\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(p - q\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(q - p\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{p}{q}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Primenimo <span class="highlight">Vijetove formule</span> za kubnu jednacinu \(x^3 + 0 \cdot x^2 + px + q = 0\) da izrazimo simetricne funkcije korena preko koeficijenata \(p\) i \(q\). Zatim cemo izraz rastaviti na delove, svaki deo izraziti preko Vijetovih formula i sve sabrati.</p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <ul>
      <li><strong>Vijetove formule za kubnu jednacinu</strong> \(x^3 + ax^2 + bx + c = 0\) sa korenima \(x_1, x_2, x_3\):
        \[ x_1 + x_2 + x_3 = -a \]
        \[ x_1 x_2 + x_1 x_3 + x_2 x_3 = b \]
        \[ x_1 x_2 x_3 = -c \]
      </li>
      <li><strong>Suma kvadrata korena:</strong>
        \[ x_1^2 + x_2^2 + x_3^2 = (x_1 + x_2 + x_3)^2 - 2(x_1 x_2 + x_1 x_3 + x_2 x_3) \]
      </li>
      <li><strong>Depresirana kubna jednacina:</strong> Jednacina oblika \(x^3 + px + q = 0\) nema clan sa \(x^2\), sto znaci da je koeficijent uz \(x^2\) jednak nuli, pa je suma korena \(x_1 + x_2 + x_3 = 0\).</li>
    </ul>
  </details>

  <!-- Canvas Visualization -->
  <div class="card canvas-card">
    <h2>Vizualizacija: Vijetove formule</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Dijagram prikazuje vezu izmedju korena kubne jednacine i koeficijenata, kao i tok uproscavanja izraza.</p>
    <canvas id="viz-canvas" width="700" height="480"></canvas>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikacija koeficijenata</h3>
        <p>Uporedimo nasu jednacinu sa opstim oblikom:</p>
        <div class="math-box">
          \[ x^3 + \underbrace{0}_{a} \cdot x^2 + \underbrace{p}_{b} \cdot x + \underbrace{q}_{c} = 0 \]
        </div>
        <p>Koeficijent uz \(x^2\) je <span class="highlight">nula</span> &mdash; to je kljucna cinjenica za ceo zadatak.</p>
      </div>
    </div>

    <div class="step" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Primena Vijetovih formula</h3>
        <p>Za jednacinu \(x^3 + 0 \cdot x^2 + px + q = 0\), Vijetove formule daju:</p>
        <div class="vieta-grid">
          <div class="vieta-item">
            <div class="vieta-label">Suma korena</div>
            <div class="vieta-val">\(x_1 + x_2 + x_3 = 0\)</div>
          </div>
          <div class="vieta-item">
            <div class="vieta-label">Suma proizvoda parova</div>
            <div class="vieta-val">\(x_1 x_2 + x_1 x_3 + x_2 x_3 = p\)</div>
          </div>
          <div class="vieta-item">
            <div class="vieta-label">Proizvod korena</div>
            <div class="vieta-val">\(x_1 x_2 x_3 = -q\)</div>
          </div>
        </div>
        <p>Oznacimo ove velicine sa \(S_1 = 0\), \(S_2 = p\) i \(S_3 = -q\) radi preglednosti.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Ako je kubna jednacina \(x^3 - 6x + 4 = 0\), koliko iznosi suma korena?</summary>
      <p>Koeficijent uz \(x^2\) je 0, pa je \(x_1 + x_2 + x_3 = 0\). Ovde je \(p = -6\) i \(q = 4\).</p>
    </details>

    <div class="step" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izracunavanje razlomka</h3>
        <p>Brojilac razlomka je:</p>
        <div class="math-box">
          \[ x_1 + x_2 + x_3 = S_1 = 0 \]
        </div>
        <p>Imenilac (da proverimo da nije nula):</p>
        <div class="math-box">
          \[ x_1^2 + x_2^2 + x_3^2 = (x_1+x_2+x_3)^2 - 2(x_1x_2+x_1x_3+x_2x_3) = 0^2 - 2p = -2p \]
        </div>
        <p>Posto je \(p \neq 0\), sledi da je \(-2p \neq 0\), pa je razlomak definisan.</p>
        <div class="math-box" style="border-color: rgba(52,211,153,0.3); background: rgba(52,211,153,0.06);">
          \[ \frac{x_1 + x_2 + x_3}{x_1^2 + x_2^2 + x_3^2} = \frac{0}{-2p} = 0 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Raspisivanje drugog dela izraza</h3>
        <p>Sada se bavimo preostalim delom:</p>
        <div class="math-box">
          \[ -x_1 x_2(1 + x_3) - (x_1 + x_2) x_3 \]
        </div>
        <p>Raspisemo zagrade:</p>
        <div class="math-box">
          \[ = -x_1 x_2 - x_1 x_2 x_3 - x_1 x_3 - x_2 x_3 \]
        </div>
      </div>
    </div>

    <div class="step" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Grupisanje clanova</h3>
        <p>Prepoznajemo poznate simetricne funkcije:</p>
        <div class="math-box">
          \[ -\underbrace{x_1 x_2 - x_1 x_3 - x_2 x_3}_{x_1x_2 + x_1x_3 + x_2x_3 = S_2} - \underbrace{x_1 x_2 x_3}_{S_3} \]
        </div>
        <p>Dakle:</p>
        <div class="math-box">
          \[ = -(x_1 x_2 + x_1 x_3 + x_2 x_3) - x_1 x_2 x_3 = -S_2 - S_3 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(-S_2 - S_3\) izrazeno preko \(p\) i \(q\)?</summary>
      <p>Posto je \(S_2 = p\) i \(S_3 = -q\), dobijamo \(-p - (-q) = -p + q = q - p\).</p>
    </details>

    <div class="step" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Zamena Vijetovim formulama</h3>
        <p>Uvrstimo vrednosti \(S_2 = p\) i \(S_3 = -q\):</p>
        <div class="math-box">
          \[ -S_2 - S_3 = -p - (-q) = -p + q \]
        </div>
        <div class="math-box" style="border-color: rgba(52,211,153,0.3); background: rgba(52,211,153,0.06);">
          \[ = q - p \]
        </div>
      </div>
    </div>

    <div class="step" id="step-7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Konacni rezultat</h3>
        <p>Saberemo oba dela izraza:</p>
        <div class="math-box">
          \[ \underbrace{\frac{x_1 + x_2 + x_3}{x_1^2 + x_2^2 + x_3^2}}_{= \, 0} + \underbrace{\bigl(-x_1 x_2(1+x_3) - (x_1+x_2)x_3\bigr)}_{= \, q - p} = q - p \]
        </div>
      </div>
    </div>

    <div class="step" id="step-8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Numericka verifikacija</h3>
        <p>Proverimo na konkretnom primeru. Neka je jednacina \(x^3 - 3x + 2 = 0\), tj. \(p = -3\), \(q = 2\).</p>
        <p>Faktorizacija: \((x-1)^2(x+2) = 0\), pa su koreni \(x_1 = 1\), \(x_2 = 1\), \(x_3 = -2\).</p>
        <div class="math-box">
          \[ \text{Razlomak: } \frac{1+1+(-2)}{1+1+4} = \frac{0}{6} = 0 \]
        </div>
        <div class="math-box">
          \[ \text{Drugi deo: } -1 \cdot 1 \cdot (1 + (-2)) - (1+1) \cdot (-2) = -(-1) - (-4) = 1 + 4 = 5 \]
        </div>
        <div class="math-box">
          \[ \text{Ukupno: } 0 + 5 = 5 \]
        </div>
        <p>Ocekivana vrednost: \(q - p = 2 - (-3) = 5\). Rezultat se poklapa!</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Za jednacinu \(x^3 + 2x - 1 = 0\) (tj. \(p = 2\), \(q = -1\)), koliko bi iznosio trazeni izraz?</summary>
      <p>Prema nasoj formuli: \(q - p = -1 - 2 = -3\).</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Cinjenica da u jednacini \(x^3 + px + q = 0\) nedostaje clan sa \(x^2\) znaci da je <span class="highlight">suma korena jednaka nuli</span>. To odmah ponistava razlomak u izrazu. Preostali deo se savrseno raspada na sumu proizvoda parova korena (\(S_2\)) i proizvod svih korena (\(S_3\)) &mdash; tacno ono sto Vijetove formule daju.</p>
    <div class="math-box" style="text-align:center; margin-top:16px; font-size:1.1rem;">
      \[ \frac{\overbrace{S_1}^{= \, 0}}{S_1^2 - 2S_2} - S_2 - S_3 = 0 - p - (-q) = q - p \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konacan odgovor</h2>
    <div class="answer-big">(D) \(q - p\)</div>

    <div class="options-row">
      <div class="option-box">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(p \cdot q\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(p + q\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(p - q\)</div>
      </div>
      <div class="option-box correct">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(q - p\)</div>
      </div>
      <div class="option-box">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(\dfrac{p}{q}\)</div>
      </div>
    </div>

    <p class="verification"><strong>Verifikacija:</strong> Za \(x^3 - 3x + 2 = 0\) (koreni: 1, 1, -2), direktno izracunavanje daje 5, a formula \(q - p = 2 - (-3) = 5\). Rezultat se poklapa, sto potvrdjuje da je odgovor <strong>(D)</strong> ispravan. Takodje, primetimo da su odgovori (C) i (D) suprotnih znakova &mdash; redosled oduzimanja je kljucan.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Pogresan znak kod \(S_3\):</strong> Vijetova formula daje \(x_1 x_2 x_3 = -q\), a ne \(+q\). Cesto se zaboravi negativan predznak koji dolazi od koeficijenta uz slobodan clan. Zamena \(S_3 = q\) umesto \(S_3 = -q\) vodi na odgovor \(p + q\) umesto \(q - p\).</li>
      <li><strong>Mesanje odgovora (C) i (D):</strong> Razlika \(p - q\) i \(q - p\) ima suprotan znak. Kad raspisujemo \(-S_2 - S_3\), redosled je \(-p - (-q) = -p + q = q - p\), a ne \(p - q\). Numericka provera je najbolji nacin da se ovo potvrdi.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Za istu kubnu jednacinu \(x^3 + px + q = 0\), izracunajte vrednost izraza \(x_1^3 + x_2^3 + x_3^3\). (Pomoc: svaki koren zadovoljava jednacinu, pa je \(x_i^3 = -px_i - q\).)</p>
    <details>
      <summary>Pomoc</summary>
      <p>Posto je \(x_i^3 = -px_i - q\) za svako \(i = 1, 2, 3\), sabiranjem dobijamo: \(x_1^3 + x_2^3 + x_3^3 = -p(x_1+x_2+x_3) - 3q = -p \cdot 0 - 3q = -3q\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });

  // Canvas visualization
  var canvas = document.getElementById('viz-canvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;
  var dpr = window.devicePixelRatio || 1;

  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  canvas.width = W * dpr;
  canvas.height = H * dpr;
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

  var colors = {
    blue: '#60a5fa',
    purple: '#a78bfa',
    green: '#34d399',
    pink: '#f472b6',
    muted: '#94a3b8',
    bg: '#0c1222',
    card: '#1e293b',
    border: '#334155'
  };

  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
  }

  function drawBox(x, y, w, h, borderColor, fillAlpha) {
    ctx.fillStyle = 'rgba(30,41,59,' + (fillAlpha || 0.95) + ')';
    roundRect(x, y, w, h, 10);
    ctx.fill();
    ctx.strokeStyle = borderColor;
    ctx.lineWidth = 1.5;
    roundRect(x, y, w, h, 10);
    ctx.stroke();
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    var angle = Math.atan2(y2 - y1, x2 - x1);
    var headLen = 8;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  function draw() {
    ctx.fillStyle = colors.bg;
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = colors.blue;
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Struktura izraza i primena Vijetovih formula', W / 2, 28);

    // The equation box
    var eqX = W / 2 - 160;
    var eqY = 46;
    var eqW = 320;
    var eqH = 40;
    drawBox(eqX, eqY, eqW, eqH, colors.purple);
    ctx.fillStyle = colors.purple;
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x\u00B3 + px + q = 0', W / 2, eqY + 26);

    // Three Vieta boxes below
    var vY = eqY + eqH + 35;
    var vW = 180;
    var vH = 50;
    var vGap = 20;
    var totalVW = 3 * vW + 2 * vGap;
    var vStartX = (W - totalVW) / 2;

    // Arrow from equation to Vieta
    drawArrow(W / 2, eqY + eqH + 5, W / 2, vY - 10, '#475569');
    ctx.fillStyle = colors.muted;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Vijetove formule', W / 2, eqY + eqH + 22);

    // S1 box
    drawBox(vStartX, vY, vW, vH, colors.blue);
    ctx.fillStyle = colors.muted;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S\u2081 = x\u2081 + x\u2082 + x\u2083', vStartX + vW / 2, vY + 20);
    ctx.fillStyle = colors.blue;
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 0', vStartX + vW / 2, vY + 42);

    // S2 box
    var s2X = vStartX + vW + vGap;
    drawBox(s2X, vY, vW, vH, colors.purple);
    ctx.fillStyle = colors.muted;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S\u2082 = x\u2081x\u2082 + x\u2081x\u2083 + x\u2082x\u2083', s2X + vW / 2, vY + 20);
    ctx.fillStyle = colors.purple;
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= p', s2X + vW / 2, vY + 42);

    // S3 box
    var s3X = vStartX + 2 * (vW + vGap);
    drawBox(s3X, vY, vW, vH, colors.pink);
    ctx.fillStyle = colors.muted;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('S\u2083 = x\u2081x\u2082x\u2083', s3X + vW / 2, vY + 20);
    ctx.fillStyle = colors.pink;
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= -q', s3X + vW / 2, vY + 42);

    // Expression decomposition section
    var decompY = vY + vH + 40;

    ctx.fillStyle = colors.muted;
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Izraz se raspada na dva dela:', W / 2, decompY);

    // Part 1: fraction
    var p1X = 60;
    var p1Y = decompY + 18;
    var p1W = 280;
    var p1H = 80;
    drawBox(p1X, p1Y, p1W, p1H, colors.blue);

    ctx.fillStyle = colors.muted;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('DEO 1: Razlomak', p1X + p1W / 2, p1Y + 18);

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(x\u2081+x\u2082+x\u2083) / (x\u2081\u00B2+x\u2082\u00B2+x\u2083\u00B2)', p1X + p1W / 2, p1Y + 40);

    ctx.fillStyle = colors.blue;
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('S\u2081 = 0  \u21D2  razlomak = 0', p1X + p1W / 2, p1Y + 64);

    // Part 2: the rest
    var p2X = W - 60 - 300;
    var p2Y = decompY + 18;
    var p2W = 300;
    var p2H = 80;
    drawBox(p2X, p2Y, p2W, p2H, colors.purple);

    ctx.fillStyle = colors.muted;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('DEO 2: Algebarski izraz', p2X + p2W / 2, p2Y + 18);

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('-x\u2081x\u2082(1+x\u2083) - (x\u2081+x\u2082)x\u2083', p2X + p2W / 2, p2Y + 40);

    ctx.fillStyle = colors.purple;
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= -S\u2082 - S\u2083 = -p + q', p2X + p2W / 2, p2Y + 64);

    // Plus sign between parts
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 24px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('+', (p1X + p1W + p2X) / 2, p1Y + p1H / 2 + 8);

    // Arrow down
    var combY = p1Y + p1H + 20;
    drawArrow(W / 2, p1Y + p1H + 8, W / 2, combY + 8, '#475569');

    // Combination
    var cX = W / 2 - 130;
    var cY = combY + 14;
    var cW = 260;
    var cH = 40;

    ctx.fillStyle = colors.muted;
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Sabiranjem delova:', W / 2, cY - 2);

    drawBox(cX, cY + 6, cW, cH, '#475569');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('0 + (-p + q) = q - p', W / 2, cY + 32);

    // Final answer box with glow
    var fY = cY + cH + 30;
    var fW = 220;
    var fH = 55;
    var fX = W / 2 - fW / 2;

    drawArrow(W / 2, cY + cH + 10, W / 2, fY - 4, '#475569');

    ctx.shadowColor = colors.green;
    ctx.shadowBlur = 20;
    ctx.fillStyle = 'rgba(30,41,59,0.95)';
    roundRect(fX, fY, fW, fH, 12);
    ctx.fill();
    ctx.shadowBlur = 0;
    ctx.strokeStyle = colors.green;
    ctx.lineWidth = 2.5;
    roundRect(fX, fY, fW, fH, 12);
    ctx.stroke();

    ctx.fillStyle = colors.muted;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('ODGOVOR', W / 2, fY + 18);

    ctx.fillStyle = colors.green;
    ctx.font = 'bold 22px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(D)  q - p', W / 2, fY + 44);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Vijetove formule za kubnu jednacinu",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["Vijetove formule", "kubna jednacina", "polinomi", "simetricne funkcije korena", "depresirana kubna jednacina"]
}
BRAINSPARK_META-->