<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijska jednacina bez resenja</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
ZADATAK: Broj svih realnih resenja jednacine sin^2(x) + 1/sin^2(x) = sin(x).

KORAK 0 - DOMEN:
Jednacina sadrzi clan 1/sin^2(x), pa mora da vazi sin(x) != 0.
Dakle, x != k*pi za k in Z.
U domenu, sin(x) in [-1, 0) U (0, 1].

KORAK 1 - ANALIZA LEVE STRANE (LHS):
LHS = sin^2(x) + 1/sin^2(x)

Neka t = sin^2(x). Posto sin(x) != 0, imamo t in (0, 1].

LHS = t + 1/t

Primenjujemo nejednakost izmedju aritmeticke i geometrijske sredine (AM-GM):
Za bilo koja dva pozitivna broja a i b: (a + b)/2 >= sqrt(a*b).

Konkretno, za a = t i b = 1/t:
(t + 1/t) / 2 >= sqrt(t * 1/t) = sqrt(1) = 1

Dakle: t + 1/t >= 2 za svako t > 0.

Alternativni dokaz pomocu potpunog kvadrata:
t + 1/t - 2 = (t^2 - 2t + 1) / t = (t - 1)^2 / t

Posto je t > 0 i (t-1)^2 >= 0, imamo (t-1)^2/t >= 0, dakle t + 1/t >= 2.

Jednakost nastupa ako i samo ako t = 1, tj. sin^2(x) = 1, tj. sin(x) = +-1.

KORAK 2 - ANALIZA DESNE STRANE (RHS):
RHS = sin(x)
Posto sin(x) in [-1, 1] za svako realno x, imamo RHS <= 1.

KORAK 3 - POREDJENJE:
LHS >= 2 (za svako x u domenu)
RHS <= 1 (za svako realno x)

Dakle LHS >= 2 > 1 >= RHS za svako x u domenu.

To znaci da je LHS strogo vece od RHS za svako x u domenu, pa jednacina
sin^2(x) + 1/sin^2(x) = sin(x) NEMA RESENJA.

KORAK 4 - PROVERA GRANICNOG SLUCAJA:
Kada je LHS minimalno (LHS = 2), to se desava za sin^2(x) = 1, tj. sin(x) = +-1.
  - Ako sin(x) = 1: LHS = 1 + 1 = 2, RHS = 1. Dakle 2 != 1.
  - Ako sin(x) = -1: LHS = 1 + 1 = 2, RHS = -1. Dakle 2 != -1.

U oba slucaja LHS != RHS. Za sve ostale vrednosti u domenu, LHS > 2 i RHS < 1,
pa su jos dalje od jednakosti.

ZAKLJUCAK: Jednacina nema realna resenja. Odgovor je 0, tj. (A).

VERIFIKACIJA SA POZNATIM ODGOVOROM: PDF kaze (A) 0. Potvrdeno!
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:0.95rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item .label{color:#94a3b8;font-size:0.85rem;margin-bottom:4px}
.given-item .value{font-weight:600}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option].wrong{border-color:#f87171;background:rgba(248,113,113,0.08)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-text{color:#cbd5e1;line-height:1.8}
details{margin:15px 0}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%;touch-action:none}
.step{margin-bottom:18px;padding:4px 0;border-left:3px solid transparent;transition:border-color 0.2s}
.step:last-child{margin-bottom:0}
.step:hover,.step.active{border-left-color:#4ade80;padding-left:12px}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.step-content .math-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:15px 0;color:#93bbfc;font-weight:600}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.insight-formula{text-align:center;font-size:1.3rem;color:#4ade80;font-weight:700;margin:14px 0}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.verification{background:rgba(52,211,153,0.08);border:1px solid rgba(52,211,153,0.2);border-radius:8px;padding:12px 16px;margin-top:14px;color:#86efac;font-size:0.95rem}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.canvas-caption{text-align:center;color:#94a3b8;font-size:0.88rem;margin-top:8px}
@media(max-width:700px){h1{font-size:1.4rem}.card{padding:16px}.given-grid{grid-template-columns:repeat(auto-fit,minmax(80px,1fr))}.final-answer-value{font-size:1.2rem}}
</style>
</head>
<body>

<h1>Trigonometrijska jednacina bez resenja</h1>
<p class="subtitle">Trigonometrija | Nejednakost aritmeticke i geometrijske sredine, opseg sinusne funkcije</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Broj svih realnih resenja jednacine \(\sin^2 x + \dfrac{1}{\sin^2 x} = \sin x\) jeste:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(0\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(2\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(3\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">Veci od \(3\)</div>
    </div>
  </div>
</div>

<!-- Plan resavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
  <p class="plan-text">
    Analiziracemo opseg leve i desne strane jednacine nezavisno. Pomocu AM-GM nejednakosti pokazacemo da je leva strana uvek barem \(2\), dok desna strana nikada ne prelazi \(1\). Iz toga sledi zakljucak o broju resenja.
  </p>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>&#128208; Kljucne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Nejednakost izmedju aritmeticke i geometrijske sredine (AM-GM):</strong> Za sve pozitivne realne brojeve \(a\) i \(b\) vazi:</p>
      <div class="formula-box">
        \[\frac{a + b}{2} \geq \sqrt{ab}, \quad \text{tj.} \quad a + b \geq 2\sqrt{ab}\]
      </div>
      <p>Jednakost nastupa ako i samo ako \(a = b\).</p>

      <p><strong>Specijalan slucaj za \(t + \frac{1}{t}\):</strong> Ako je \(t > 0\), primenom AM-GM na \(a = t\) i \(b = \frac{1}{t}\) dobijamo:</p>
      <div class="formula-box">
        \[t + \frac{1}{t} \geq 2\sqrt{t \cdot \frac{1}{t}} = 2\]
      </div>
      <p>Alternativni dokaz potpunim kvadratom: \(t + \frac{1}{t} - 2 = \frac{(t-1)^2}{t} \geq 0\).</p>

      <p><strong>Opseg sinusne funkcije:</strong> Za svako realno \(x\) vazi:</p>
      <div class="formula-box">
        \[-1 \leq \sin x \leq 1\]
      </div>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Graficki prikaz</div>
  <div class="canvas-wrap">
    <canvas id="graphCanvas" width="760" height="480"></canvas>
  </div>
  <p class="canvas-caption">Grafik leve strane \(\sin^2 x + \frac{1}{\sin^2 x}\) (plavo) i desne strane \(\sin x\) (roze). Primetite: krive se nikada ne seku.</p>
</div>

<!-- Koraci resenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

  <div class="step">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Odredjivanje domena</strong></p>
      <p>Jednacina sadrzi clan \(\frac{1}{\sin^2 x}\), koji je definisan samo kada je \(\sin x \neq 0\).</p>
      <p>To znaci da \(x \neq k\pi\) za \(k \in \mathbb{Z}\) (tj. iskljucujemo \(x = 0, \pm\pi, \pm 2\pi, \ldots\)).</p>
      <p>U domenu, \(\sin x\) uzima vrednosti iz skupa \([-1, 0) \cup (0, 1]\).</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Smena: uvodimo \(t = \sin^2 x\)</strong></p>
      <p>Neka je \(t = \sin^2 x\). Posto je \(\sin x \neq 0\), imamo \(t \in (0, 1]\).</p>
      <p>Leva strana jednacine postaje:</p>
      <div class="math-box">
        \[\text{LHS} = \sin^2 x + \frac{1}{\sin^2 x} = t + \frac{1}{t}\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Za \(t = \sin^2 x\), koji je opseg vrednosti \(t\) u nasem domenu?</summary>
    <p style="margin-top:8px;color:#cbd5e1">Posto \(\sin x \neq 0\) i \(\sin x \in [-1, 1]\), imamo \(\sin^2 x \in (0, 1]\), dakle \(t \in (0, 1]\).</p>
  </details>

  <div class="step">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Donja granica leve strane (AM-GM nejednakost)</strong></p>
      <p>Za svako \(t > 0\), primenjujemo nejednakost aritmeticke i geometrijske sredine na brojeve \(t\) i \(\frac{1}{t}\):</p>
      <div class="math-box">
        \[\frac{t + \frac{1}{t}}{2} \geq \sqrt{t \cdot \frac{1}{t}} = \sqrt{1} = 1\]
      </div>
      <p>Mnozenjem obe strane sa \(2\):</p>
      <div class="math-box">
        \[t + \frac{1}{t} \geq 2\]
      </div>
      <p>Jednakost vazi ako i samo ako \(t = \frac{1}{t}\), tj. \(t^2 = 1\), tj. \(t = 1\) (posto je \(t > 0\)).</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Alternativni dokaz pomocu potpunog kvadrata</strong></p>
      <p>Razmotrimo izraz \(t + \frac{1}{t} - 2\) i svedimo ga na zajednicki imenilac:</p>
      <div class="math-box">
        \[t + \frac{1}{t} - 2 = \frac{t^2 + 1 - 2t}{t} = \frac{(t - 1)^2}{t}\]
      </div>
      <p>Posto je \(t > 0\) i \((t-1)^2 \geq 0\), sledi:</p>
      <div class="math-box">
        \[\frac{(t-1)^2}{t} \geq 0 \quad \implies \quad t + \frac{1}{t} \geq 2\]
      </div>
      <p>Dakle, za svako \(x\) u domenu:</p>
      <div class="math-box">
        \[\sin^2 x + \frac{1}{\sin^2 x} \geq 2\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Koliko iznosi \(\sin^2 x + \frac{1}{\sin^2 x}\) za \(\sin x = \frac{1}{2}\)?</summary>
    <p style="margin-top:8px;color:#cbd5e1">\(\sin^2 x = \frac{1}{4}\), pa \(\frac{1}{4} + \frac{1}{1/4} = \frac{1}{4} + 4 = 4{,}25\). Zaista vece od \(2\)!</p>
  </details>

  <div class="step">
    <div class="step-badge">KORAK 5</div>
    <div class="step-content">
      <p><strong>Gornja granica desne strane</strong></p>
      <p>Desna strana jednacine je \(\sin x\). Poznato je da za svako realno \(x\):</p>
      <div class="math-box">
        \[-1 \leq \sin x \leq 1\]
      </div>
      <p>Dakle, desna strana je uvek <strong>najvise jednaka \(1\)</strong>.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 6</div>
    <div class="step-content">
      <p><strong>Poredjenje leve i desne strane</strong></p>
      <p>Kombinujemo rezultate iz prethodnih koraka:</p>
      <div class="math-box">
        \[\underbrace{\sin^2 x + \frac{1}{\sin^2 x}}_{\text{LHS} \,\geq\, 2} = \underbrace{\sin x}_{\text{RHS} \,\leq\, 1}\]
      </div>
      <p>Imamo stroge nejednakosti:</p>
      <div class="math-box">
        \[\text{LHS} \geq 2 > 1 \geq \text{RHS}\]
      </div>
      <p>Posto je leva strana <strong>strogo veca</strong> od desne za svako \(x\) u domenu, jednakost nikada ne moze da vazi.</p>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">KORAK 7</div>
    <div class="step-content">
      <p><strong>Provera granicnog slucaja</strong></p>
      <p>Najblize sto LHS i RHS mogu da se priblize jeste kada je LHS minimalna, tj. kada \(\sin^2 x = 1\):</p>
      <p><strong>Slucaj \(\sin x = 1\):</strong></p>
      <div class="math-box">
        \[\text{LHS} = 1 + 1 = 2, \quad \text{RHS} = 1 \quad \implies \quad 2 \neq 1\]
      </div>
      <p><strong>Slucaj \(\sin x = -1\):</strong></p>
      <div class="math-box">
        \[\text{LHS} = 1 + 1 = 2, \quad \text{RHS} = -1 \quad \implies \quad 2 \neq -1\]
      </div>
      <p>Cak ni u najblizim slucajevima jednakost ne vazi.</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Zasto ne mozemo imati LHS = 1 (da bi se izjednacilo sa sin x = 1)?</summary>
    <p style="margin-top:8px;color:#cbd5e1">Zato sto smo dokazali da je \(t + \frac{1}{t} \geq 2\) za svako \(t > 0\). Dakle, LHS nikada ne moze biti manje od \(2\), a kamoli jednako \(1\).</p>
  </details>
</div>

<!-- Kljucni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
  <p class="insight-text">
    Sustina resenja je u prepoznavanju da se leva i desna strana nikada ne mogu izjednaciti. Leva strana ima oblik \(t + \frac{1}{t}\) koji je uvek barem \(2\) (po AM-GM), dok desna strana \(\sin x\) nikada ne prelazi \(1\). Izmedju \(2\) i \(1\) postoji nepremostiv jaz:
  </p>
  <div class="insight-formula">
    \[\sin^2 x + \frac{1}{\sin^2 x} \;\geq\; 2 \;>\; 1 \;\geq\; \sin x\]
  </div>
</div>

<!-- Konacan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konacan odgovor</div>
  <div class="final-answer-label">Broj svih realnih resenja jednacine:</div>
  <div class="final-answer-value">\(0\) &nbsp; (jednacina nema resenja)</div>
  <div class="final-answer-label">Odgovor je (A)</div>
  <div class="verification">
    <strong>Verifikacija:</strong> Leva strana je uvek \(\geq 2\) (po AM-GM ili potpunom kvadratu), a desna strana je uvek \(\leq 1\) (po opsegu sinusa). Posto \(2 > 1\), ne postoji nijedna vrednost \(x\) za koju bi LHS = RHS. Takodje, \(\sin x = 0\) je iskljuceno iz domena, pa nema ni tog specijalnog slucaja. Odgovor je \(0\) resenja.
  </div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguce zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Zaboraviti na domen.</strong> Clan \(\frac{1}{\sin^2 x}\) iskljucuje \(\sin x = 0\). Bez toga bi se moglo pomisliti da je \(x = 0\) resenje (posto bi obe strane bile \(0\)), ali leva strana uopste nije definisana za \(\sin x = 0\).
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Pokusati algebarski resiti jednacinu.</strong> Ako postavimo \(u = \sin x\) i pokusamo da resimo \(u^2 + \frac{1}{u^2} = u\), mnozenje sa \(u^2\) daje \(u^4 - u^3 + 1 = 0\). Analiza tog polinoma je teza i podloznija greskama. Elegantniji put je poredjenje opsega obe strane.
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Izazov za razmisljanje</div>
  <p class="challenge-text">
    Za koje vrednosti konstante \(c\) jednacina \(\sin^2 x + \frac{1}{\sin^2 x} = c\) ima resenje?
  </p>
  <details>
    <summary>Nagovestaj</summary>
    <p style="margin-top:8px;color:#cbd5e1">Posto je \(\sin^2 x \in (0, 1]\) i \(t + \frac{1}{t}\) je opadajuca na \((0, 1]\), opseg leve strane je \([2, +\infty)\). Dakle, jednacina ima resenja samo za \(c \geq 2\). Za \(c = 2\) resenja su \(x = \frac{\pi}{2} + k\pi\), a za \(c > 2\) postoje dva razlicita \(t \in (0, 1)\) za svako \(c\), sto daje vise resenja za \(x\).</p>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('graphCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const BG = '#1e293b';
  const GRID = '#334155';
  const TEXT = '#94a3b8';
  const BLUE = '#60a5fa';
  const GREEN = '#4ade80';
  const GREEN2 = '#34d399';
  const PINK = '#f472b6';
  const MUTED = '#64748b';
  const PURPLE = '#a78bfa';

  /* Plot range */
  const xMin = -2 * Math.PI - 0.5;
  const xMax = 2 * Math.PI + 0.5;
  const yMin = -2;
  const yMax = 8;
  const padL = 55, padR = 25, padT = 40, padB = 50;
  const gW = W - padL - padR;
  const gH = H - padT - padB;

  function toCanvasX(x) { return padL + (x - xMin) / (xMax - xMin) * gW; }
  function toCanvasY(y) { return padT + (yMax - y) / (yMax - yMin) * gH; }

  /* LHS function: sin^2(x) + 1/sin^2(x) */
  function lhs(x) {
    const s = Math.sin(x);
    if (Math.abs(s) < 0.01) return NaN;
    const s2 = s * s;
    return s2 + 1 / s2;
  }

  /* RHS function: sin(x) */
  function rhs(x) {
    return Math.sin(x);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    /* Grid lines */
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 0.5;

    /* Vertical grid at multiples of pi/2 */
    for (let k = -4; k <= 4; k++) {
      const gx = k * Math.PI / 2;
      if (gx < xMin || gx > xMax) continue;
      const px = toCanvasX(gx);
      ctx.beginPath(); ctx.moveTo(px, padT); ctx.lineTo(px, H - padB); ctx.stroke();
    }

    /* Horizontal grid */
    for (let gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      const py = toCanvasY(gy);
      ctx.beginPath(); ctx.moveTo(padL, py); ctx.lineTo(W - padR, py); ctx.stroke();
    }

    /* Axes */
    ctx.strokeStyle = MUTED;
    ctx.lineWidth = 1.5;
    const y0 = toCanvasY(0);
    ctx.beginPath(); ctx.moveTo(padL, y0); ctx.lineTo(W - padR, y0); ctx.stroke();
    const x0 = toCanvasX(0);
    if (x0 >= padL && x0 <= W - padR) {
      ctx.beginPath(); ctx.moveTo(x0, padT); ctx.lineTo(x0, H - padB); ctx.stroke();
    }

    /* Axis labels */
    ctx.fillStyle = TEXT;
    ctx.font = '11px monospace';
    ctx.textAlign = 'center';

    /* x-axis labels at multiples of pi */
    const piLabels = [
      { val: -2 * Math.PI, text: '-2\u03C0' },
      { val: -1.5 * Math.PI, text: '' },
      { val: -Math.PI, text: '-\u03C0' },
      { val: -0.5 * Math.PI, text: '' },
      { val: 0, text: '0' },
      { val: 0.5 * Math.PI, text: '' },
      { val: Math.PI, text: '\u03C0' },
      { val: 1.5 * Math.PI, text: '' },
      { val: 2 * Math.PI, text: '2\u03C0' }
    ];
    piLabels.forEach(function(item) {
      if (item.text && item.val >= xMin && item.val <= xMax) {
        ctx.fillText(item.text, toCanvasX(item.val), y0 + 18);
      }
    });

    /* y-axis labels */
    ctx.textAlign = 'right';
    for (let ly = Math.ceil(yMin); ly <= Math.floor(yMax); ly++) {
      if (ly === 0) continue;
      ctx.fillText(ly.toString(), padL - 8, toCanvasY(ly) + 4);
    }

    /* y = 2 line (minimum of LHS) */
    const y2 = toCanvasY(2);
    ctx.strokeStyle = GREEN2;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath(); ctx.moveTo(padL, y2); ctx.lineTo(W - padR, y2); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = GREEN2;
    ctx.font = 'bold 12px sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('y = 2 (min LHS)', W - padR - 10, y2 - 8);

    /* y = 1 line (max of RHS) */
    const y1 = toCanvasY(1);
    ctx.strokeStyle = '#e09468';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath(); ctx.moveTo(padL, y1); ctx.lineTo(W - padR, y1); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#e09468';
    ctx.font = '11px sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('y = 1 (max RHS)', W - padR - 10, y1 - 6);

    /* Gap region between y=1 and y=2 */
    ctx.fillStyle = 'rgba(52,211,153,0.04)';
    ctx.fillRect(padL, y2, W - padL - padR, y1 - y2);

    /* Gap label */
    ctx.fillStyle = 'rgba(52,211,153,0.5)';
    ctx.font = 'bold 12px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Jaz: LHS \u2265 2 > 1 \u2265 RHS', W / 2, (y2 + y1) / 2 + 4);

    /* Draw RHS: sin(x) — PINK */
    ctx.strokeStyle = PINK;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let startedRHS = false;
    for (let px = padL; px <= W - padR; px += 1) {
      const x = xMin + (px - padL) / gW * (xMax - xMin);
      const y = rhs(x);
      const cy = toCanvasY(y);
      if (cy < padT - 5 || cy > H - padB + 5) { startedRHS = false; continue; }
      if (!startedRHS) { ctx.moveTo(px, cy); startedRHS = true; }
      else { ctx.lineTo(px, cy); }
    }
    ctx.stroke();

    /* Draw LHS: sin^2(x) + 1/sin^2(x) — BLUE */
    ctx.strokeStyle = BLUE;
    ctx.lineWidth = 2.5;
    /* LHS has vertical asymptotes at x = k*pi */
    for (let seg = -3; seg <= 2; seg++) {
      const segStart = seg * Math.PI + 0.04;
      const segEnd = (seg + 1) * Math.PI - 0.04;
      if (segEnd < xMin || segStart > xMax) continue;
      ctx.beginPath();
      let started = false;
      const pxStart = Math.max(padL, toCanvasX(Math.max(segStart, xMin)));
      const pxEnd = Math.min(W - padR, toCanvasX(Math.min(segEnd, xMax)));
      for (let px = pxStart; px <= pxEnd; px += 1) {
        const x = xMin + (px - padL) / gW * (xMax - xMin);
        const y = lhs(x);
        if (isNaN(y) || y > yMax + 2 || y < yMin - 2) { started = false; continue; }
        const cy = toCanvasY(y);
        if (cy < padT - 5 || cy > H - padB + 5) { started = false; continue; }
        if (!started) { ctx.moveTo(px, cy); started = true; }
        else { ctx.lineTo(px, cy); }
      }
      ctx.stroke();
    }

    /* Vertical asymptote markers */
    ctx.strokeStyle = 'rgba(248,113,113,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 5]);
    for (let k = -2; k <= 2; k++) {
      const ax = k * Math.PI;
      if (ax < xMin || ax > xMax) continue;
      const apx = toCanvasX(ax);
      ctx.beginPath(); ctx.moveTo(apx, padT); ctx.lineTo(apx, H - padB); ctx.stroke();
    }
    ctx.setLineDash([]);

    /* Minimum points of LHS at sin(x) = +-1, i.e. x = pi/2 + k*pi */
    for (let k = -4; k <= 4; k++) {
      const mx = Math.PI / 2 + k * Math.PI;
      if (mx < xMin || mx > xMax) continue;
      const mpx = toCanvasX(mx);
      const mpy = toCanvasY(2);

      /* Glow */
      const grad = ctx.createRadialGradient(mpx, mpy, 0, mpx, mpy, 15);
      grad.addColorStop(0, 'rgba(96,165,250,0.3)');
      grad.addColorStop(1, 'rgba(96,165,250,0)');
      ctx.fillStyle = grad;
      ctx.beginPath(); ctx.arc(mpx, mpy, 15, 0, 2 * Math.PI); ctx.fill();

      /* Point */
      ctx.fillStyle = BLUE;
      ctx.beginPath(); ctx.arc(mpx, mpy, 4, 0, 2 * Math.PI); ctx.fill();
    }

    /* Title */
    ctx.fillStyle = TEXT;
    ctx.font = 'bold 14px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('sin\u00B2x + 1/sin\u00B2x (plavo) vs sin x (roze)', W / 2, 22);

    /* Legend */
    const legX = W - padR - 250, legY = padT + 8;
    ctx.fillStyle = 'rgba(15,23,42,0.92)';
    ctx.beginPath();
    if (ctx.roundRect) ctx.roundRect(legX - 8, legY - 4, 255, 100, 8);
    else ctx.rect(legX - 8, legY - 4, 255, 100);
    ctx.fill();
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 1;
    ctx.stroke();

    const legends = [
      { color: BLUE, dash: [], label: 'LHS: sin\u00B2x + 1/sin\u00B2x' },
      { color: PINK, dash: [], label: 'RHS: sin x' },
      { color: GREEN2, dash: [6, 4], label: 'y = 2 (minimum LHS)' },
      { color: '#e09468', dash: [4, 4], label: 'y = 1 (maksimum RHS)' }
    ];
    legends.forEach(function(item, i) {
      const ly = legY + 10 + i * 22;
      ctx.strokeStyle = item.color;
      ctx.lineWidth = 2.5;
      ctx.setLineDash(item.dash);
      ctx.beginPath(); ctx.moveTo(legX, ly); ctx.lineTo(legX + 22, ly); ctx.stroke();
      ctx.setLineDash([]);
      ctx.fillStyle = item.color;
      ctx.font = '11px sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(item.label, legX + 28, ly + 4);
    });
  }

  draw();

  /* Step click highlight */
  document.addEventListener('DOMContentLoaded', function() {
    const steps = document.querySelectorAll('.step');
    steps.forEach(function(step) {
      step.addEventListener('click', function() {
        steps.forEach(function(s) { s.classList.remove('active'); });
        step.classList.add('active');
      });
    });

    /* Answer option interaction */
    const options = document.querySelectorAll('.answer-option');
    options.forEach(function(opt) {
      opt.addEventListener('click', function() {
        options.forEach(function(o) { o.classList.remove('correct'); o.classList.remove('wrong'); });
        if (opt.getAttribute('data-option') === 'A') {
          opt.classList.add('correct');
        } else {
          opt.classList.add('wrong');
          setTimeout(function() { opt.classList.remove('wrong'); }, 1200);
        }
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META{"title":"Trigonometrijska jednacina bez resenja — AM-GM nejednakost","subject":"math","unit":"trigonometry","topic_tags":["trigonometrijska jednacina","AM-GM nejednakost","opseg sinusne funkcije","nejednakost","analiza opsega"]}BRAINSPARK_META-->