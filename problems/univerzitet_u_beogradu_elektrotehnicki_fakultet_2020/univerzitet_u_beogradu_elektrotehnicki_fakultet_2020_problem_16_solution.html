<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Povrsina cetvorougla u pravilnom tetraedru</title>

<script type="text/info" id="logic-scratchpad">
Problem: Pravilni tetraedar ABCD sa ivicom duzine a. Tacke M, N, P, Q su sredista ivica
DA, AB, BC, CD respektivno. Odrediti povrsinu cetvorougla MNPQ.

Korak 1: Postavljamo koordinatni sistem.
Standardne koordinate pravilnog tetraedra sa ivicom a:
  A = (0, 0, 0)
  B = (a, 0, 0)
  C = (a/2, a*sqrt(3)/2, 0)
  D = (a/2, a*sqrt(3)/6, a*sqrt(6)/3)

Proverimo da su sve ivice duzine a:
  |AB| = a  (trivijalno)
  |AC| = sqrt((a/2)^2 + (a*sqrt(3)/2)^2) = sqrt(a^2/4 + 3a^2/4) = sqrt(a^2) = a  OK
  |AD| = sqrt((a/2)^2 + (a*sqrt(3)/6)^2 + (a*sqrt(6)/3)^2)
       = sqrt(a^2/4 + a^2*3/36 + a^2*6/9)
       = sqrt(a^2/4 + a^2/12 + 2a^2/3)
       = sqrt(3a^2/12 + a^2/12 + 8a^2/12)
       = sqrt(12a^2/12) = sqrt(a^2) = a  OK
  |BC| = sqrt((a - a/2)^2 + (a*sqrt(3)/2)^2) = sqrt(a^2/4 + 3a^2/4) = a  OK
  |BD| = sqrt((a - a/2)^2 + (a*sqrt(3)/6)^2 + (a*sqrt(6)/3)^2) = a (analogno AD, jer simetricno)  OK
  |CD| = sqrt((a/2 - a/2)^2 + (a*sqrt(3)/2 - a*sqrt(3)/6)^2 + (a*sqrt(6)/3)^2)
       = sqrt(0 + (a*sqrt(3)/3)^2 + (a*sqrt(6)/3)^2)
       = sqrt(a^2/3 + 2a^2/3) = sqrt(a^2) = a  OK

Korak 2: Odredjujemo sredista ivica.
  M = srediste DA = (A + D)/2 = ((0 + a/2)/2, (0 + a*sqrt(3)/6)/2, (0 + a*sqrt(6)/3)/2)
    = (a/4, a*sqrt(3)/12, a*sqrt(6)/6)

  N = srediste AB = (A + B)/2 = ((0 + a)/2, 0, 0)
    = (a/2, 0, 0)

  P = srediste BC = (B + C)/2 = ((a + a/2)/2, (0 + a*sqrt(3)/2)/2, 0)
    = (3a/4, a*sqrt(3)/4, 0)

  Q = srediste CD = (C + D)/2 = ((a/2 + a/2)/2, (a*sqrt(3)/2 + a*sqrt(3)/6)/2, (0 + a*sqrt(6)/3)/2)
    = (a/2, (a*sqrt(3)*3/6 + a*sqrt(3)/6)/2, a*sqrt(6)/6)
    = (a/2, (4a*sqrt(3)/6)/2, a*sqrt(6)/6)
    = (a/2, (2a*sqrt(3)/3)/2, a*sqrt(6)/6)
    = (a/2, a*sqrt(3)/3, a*sqrt(6)/6)

Korak 3: Racunamo stranice cetvorougla MNPQ.
  MN = N - M = (a/2 - a/4, 0 - a*sqrt(3)/12, 0 - a*sqrt(6)/6)
     = (a/4, -a*sqrt(3)/12, -a*sqrt(6)/6)
  |MN|^2 = a^2/16 + a^2*3/144 + a^2*6/36
         = a^2/16 + a^2/48 + a^2/6
         = 3a^2/48 + a^2/48 + 8a^2/48
         = 12a^2/48 = a^2/4
  |MN| = a/2

  NP = P - N = (3a/4 - a/2, a*sqrt(3)/4 - 0, 0)
     = (a/4, a*sqrt(3)/4, 0)
  |NP|^2 = a^2/16 + 3a^2/16 = 4a^2/16 = a^2/4
  |NP| = a/2

  PQ = Q - P = (a/2 - 3a/4, a*sqrt(3)/3 - a*sqrt(3)/4, a*sqrt(6)/6 - 0)
     = (-a/4, a*sqrt(3)/12, a*sqrt(6)/6)
  |PQ|^2 = a^2/16 + a^2*3/144 + a^2*6/36
         = a^2/16 + a^2/48 + a^2/6
         = a^2/4
  |PQ| = a/2

  QM = M - Q = (a/4 - a/2, a*sqrt(3)/12 - a*sqrt(3)/3, a*sqrt(6)/6 - a*sqrt(6)/6)
     = (-a/4, -a*sqrt(3)/4, 0)
  |QM|^2 = a^2/16 + 3a^2/16 = a^2/4
  |QM| = a/2

Sve 4 stranice su jednake a/2. MNPQ je romb.

Korak 4: Proverimo da li je kvadrat ili samo romb.
  Skalarni proizvod MN . NP:
  MN = (a/4, -a*sqrt(3)/12, -a*sqrt(6)/6)
  NP = (a/4, a*sqrt(3)/4, 0)
  MN . NP = a^2/16 + (-a*sqrt(3)/12)(a*sqrt(3)/4) + 0
          = a^2/16 - 3a^2/48
          = a^2/16 - a^2/16
          = 0

MN je normalan na NP! Dakle MNPQ je KVADRAT sa stranicom a/2.

Korak 5: Povrsina = (a/2)^2 = a^2/4

Verifikacija:
  - Teorema o srednjoj liniji trougla: Segment koji spaja sredista dve stranice trougla
    je paralelan trecoj stranici i jednak polovini njene duzine.
  - U trouglu DAB: MN spaja sredista DA i AB, pa je MN || DB i |MN| = |DB|/2 = a/2
  - U trouglu BCD: PQ spaja sredista BC i CD, pa je PQ || BD i |PQ| = a/2
  - U trouglu ABC: NP spaja sredista AB i BC, pa je NP || AC i |NP| = a/2
  - U trouglu ACD: MQ spaja sredista DA (tj. AD) i CD, pa je MQ || AC i |MQ| = a/2
  - MN || PQ (oba paralelna DB) i NP || MQ (oba paralelna AC), dakle MNPQ je paralelogram.
  - Sve stranice jednake a/2, dakle romb.
  - DB je normalan na AC? U pravilnom tetraedru, naspramne ivice su normalne!
    DB . AC = (B-D) . (C-A)
    B-D = (a/2, -a*sqrt(3)/6, -a*sqrt(6)/3)
    C-A = (a/2, a*sqrt(3)/2, 0)
    DB . AC = a^2/4 + (-a*sqrt(3)/6)(a*sqrt(3)/2) + 0 = a^2/4 - a^2/4 = 0
    DA, DB i AC su naspramne ivice i one su normalne!
  - Posto su MN || DB i NP || AC, a DB normalno na AC, MN je normalan na NP.
  - Dakle MNPQ je kvadrat sa stranicom a/2.
  - Povrsina = (a/2)^2 = a^2/4

Odgovor: (A) a^2/4

Verifikacija sa datim odgovorom: PDF kaze (A) a^2/4. POTVRDJENO.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: border-color 0.2s;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.05rem;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.2s;
  cursor: pointer;
}

.step:hover {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.95rem;
  font-style: italic;
  margin-top: 6px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #e09468;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  margin-bottom: 12px;
  padding-left: 20px;
  position: relative;
  color: #cbd5e1;
}

.theory-list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: 10px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #60a5fa;
}

.checkpoint-answer {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step-content { margin-left: 0; margin-top: 10px; }
  .given-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
  .final-answer-value { font-size: 1.6rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Povrsina cetvorougla u pravilnom tetraedru</h1>
  <p class="subtitle">Stereometrija &mdash; sredista ivica pravilnog tetraedra</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</h2>
    <div class="problem-text">
      Ako su tacke \(M\), \(N\), \(P\) i \(Q\) sredista ivica \(DA\), \(AB\), \(BC\) i \(CD\)
      pravilnog tetraedra \(ABCD\) ivice duzine \(a\), onda je povrsina cetvorougla \(MNPQ\) jednaka:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{a^2}{4}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{a^2\sqrt{3}}{4}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{a^2\sqrt{2}}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{a^2}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{a^2\sqrt{3}}{3}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#128204;</span> Plan resavanja</h2>
    <p class="plan-text">
      Postavicemo pravilan tetraedar u koordinatni sistem, izracunati koordinate sredista navedenih ivica,
      zatim odrediti duzine stranica i uglove cetvorougla \(MNPQ\), i na kraju izracunati njegovu povrsinu.
      Takodje cemo koristiti teoremu o srednjoj liniji trougla kao elegantno alternativno obrazlozenje.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#128218;</span> Teorija</h2>
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul class="theory-list">
        <li>
          <strong>Teorema o srednjoj liniji trougla:</strong> Segment koji spaja sredista dve stranice trougla
          je paralelan trecoj stranici i jednak je polovini njene duzine.
        </li>
        <li>
          <strong>Naspramne ivice pravilnog tetraedra su medjusobno normalne.</strong>
          U pravilnom tetraedru postoje tri para naspramnih ivica. Svaki par cine ivice koje se ne dodiruju,
          i svaki takav par je medjusobno ortogonalan (skalarni proizvod njihovih vektora pravca je nula).
        </li>
        <li>
          <strong>Povrsina kvadrata:</strong> \(S = a^2\), gde je \(a\) stranica kvadrata.
        </li>
        <li>
          <strong>Koordinate pravilnog tetraedra ivice \(a\):</strong><br>
          \(A = (0,\, 0,\, 0)\), \(B = (a,\, 0,\, 0)\), \(C = \bigl(\tfrac{a}{2},\, \tfrac{a\sqrt{3}}{2},\, 0\bigr)\),
          \(D = \bigl(\tfrac{a}{2},\, \tfrac{a\sqrt{3}}{6},\, \tfrac{a\sqrt{6}}{3}\bigr)\)
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid: 3D Canvas -->
  <div class="card canvas-card">
    <h2 class="card-title"><span class="icon">&#127912;</span> Interaktivni dijagram</h2>
    <canvas id="tetraCanvas" width="700" height="560"></canvas>
    <p class="canvas-hint">Prevucite misem ili prstom da rotirate tetraedar</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <h3 class="step-title">Postavljamo tetraedar u koordinatni sistem</h3>
      </div>
      <div class="step-content">
        <p>
          Neka je pravilan tetraedar \(ABCD\) sa ivicom duzine \(a\). Postavljamo ga u koordinatni sistem
          tako da osnova \(ABC\) lezi u ravni \(xOy\), a teme \(A\) je u koordinatnom pocetku:
        </p>
        <div class="math-block">
          \[\begin{align}
            A &= (0,\, 0,\, 0) \\
            B &= (a,\, 0,\, 0) \\
            C &= \left(\frac{a}{2},\, \frac{a\sqrt{3}}{2},\, 0\right) \\
            D &= \left(\frac{a}{2},\, \frac{a\sqrt{3}}{6},\, \frac{a\sqrt{6}}{3}\right)
          \end{align}\]
        </div>
        <p class="note">
          Teme \(D\) se nalazi iznad tezista trougla \(ABC\), na visini \(\frac{a\sqrt{6}}{3}\).
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <h3 class="step-title">Racunamo koordinate sredista ivica</h3>
      </div>
      <div class="step-content">
        <p>
          Srediste duzi je aritmeticka sredina koordinata njenih krajeva. Racunamo redom:
        </p>
        <div class="math-block">
          \[\begin{align}
            M &= \frac{D + A}{2} = \left(\frac{a}{4},\, \frac{a\sqrt{3}}{12},\, \frac{a\sqrt{6}}{6}\right) \\[6pt]
            N &= \frac{A + B}{2} = \left(\frac{a}{2},\, 0,\, 0\right) \\[6pt]
            P &= \frac{B + C}{2} = \left(\frac{3a}{4},\, \frac{a\sqrt{3}}{4},\, 0\right) \\[6pt]
            Q &= \frac{C + D}{2} = \left(\frac{a}{2},\, \frac{a\sqrt{3}}{3},\, \frac{a\sqrt{6}}{6}\right)
          \end{align}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri se: Koliko iznosi rastojanje od \(N\) do koordinatnog pocetka?</summary>
      <p class="checkpoint-answer">
        \(|N| = |ON| = \frac{a}{2}\), jer je \(N = \bigl(\frac{a}{2}, 0, 0\bigr)\).
      </p>
    </details>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <h3 class="step-title">Racunamo duzine stranica cetvorougla</h3>
      </div>
      <div class="step-content">
        <p>
          Sada nalazimo duzine svih cetiri stranice cetvorougla \(MNPQ\). Pocinjemo sa \(MN\):
        </p>
        <div class="math-block">
          \[\vec{MN} = N - M = \left(\frac{a}{4},\, -\frac{a\sqrt{3}}{12},\, -\frac{a\sqrt{6}}{6}\right)\]
        </div>
        <div class="math-block">
          \[|MN|^2 = \frac{a^2}{16} + \frac{3a^2}{144} + \frac{6a^2}{36}
            = \frac{a^2}{16} + \frac{a^2}{48} + \frac{a^2}{6}
            = \frac{3a^2 + a^2 + 8a^2}{48} = \frac{12a^2}{48} = \frac{a^2}{4}\]
        </div>
        <p>Dakle \(|MN| = \dfrac{a}{2}\).</p>
        <p>Analognim racunom (ili primenom teoreme o srednjoj liniji) dobijamo:</p>
        <div class="math-block">
          \[|MN| = |NP| = |PQ| = |QM| = \frac{a}{2}\]
        </div>
        <p class="note">
          Sve cetiri stranice su jednake, pa je \(MNPQ\) bar romb.
        </p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <h3 class="step-title">Dokazujemo da je MNPQ kvadrat</h3>
      </div>
      <div class="step-content">
        <p>
          Romb je kvadrat ako mu je bar jedan ugao prav. Proveravamo ugao kod temena \(N\)
          pomocu skalarnog proizvoda vektora \(\vec{MN}\) i \(\vec{NP}\):
        </p>
        <div class="math-block">
          \[\vec{MN} = \left(\frac{a}{4},\, -\frac{a\sqrt{3}}{12},\, -\frac{a\sqrt{6}}{6}\right), \quad
            \vec{NP} = \left(\frac{a}{4},\, \frac{a\sqrt{3}}{4},\, 0\right)\]
        </div>
        <div class="math-block">
          \[\vec{MN} \cdot \vec{NP} = \frac{a^2}{16} + \left(-\frac{a\sqrt{3}}{12}\right)\!\cdot\!\frac{a\sqrt{3}}{4} + 0
            = \frac{a^2}{16} - \frac{3a^2}{48} = \frac{a^2}{16} - \frac{a^2}{16} = 0\]
        </div>
        <p>
          Skalarni proizvod je nula, sto znaci da su vektori \(\vec{MN}\) i \(\vec{NP}\) <strong>medjusobno normalni</strong>.
          Dakle ugao kod \(N\) je \(90Â°\).
        </p>
        <p class="note">
          Romb sa jednim pravim uglom je kvadrat. Prema tome, \(MNPQ\) je kvadrat stranice \(\frac{a}{2}\).
        </p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri se: Zasto su naspramne ivice pravilnog tetraedra normalne?</summary>
      <p class="checkpoint-answer">
        U pravilnom tetraedru, ivice \(DB\) i \(AC\) su naspramne (ne dele teme). Proverimo:
        \(\vec{DB} \cdot \vec{AC} = (B - D) \cdot (C - A) = \frac{a^2}{4} - \frac{a^2}{4} = 0\).
        Posto je \(MN \parallel DB\) i \(NP \parallel AC\), sledi \(MN \perp NP\).
      </p>
    </details>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">5</div>
        <h3 class="step-title">Racunamo povrsinu</h3>
      </div>
      <div class="step-content">
        <p>
          Povrsina kvadrata sa stranicom \(\frac{a}{2}\) je:
        </p>
        <div class="math-block">
          \[S = \left(\frac{a}{2}\right)^2 = \frac{a^2}{4}\]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">6</div>
        <h3 class="step-title">Alternativno obrazlozenje: teorema o srednjoj liniji</h3>
      </div>
      <div class="step-content">
        <p>
          Elegantnije resenje koristi teoremu o srednjoj liniji trougla, bez koordinata:
        </p>
        <p>
          U trouglu \(DAB\), tacka \(M\) je srediste \(DA\) a \(N\) je srediste \(AB\).
          Po teoremi o srednjoj liniji: \(MN \parallel DB\) i \(|MN| = \frac{|DB|}{2} = \frac{a}{2}\).
        </p>
        <p>
          Analogno, u trouglu \(BCD\): \(PQ \parallel DB\) i \(|PQ| = \frac{a}{2}\).
        </p>
        <p>
          U trouglu \(ABC\): \(NP \parallel AC\) i \(|NP| = \frac{a}{2}\).
        </p>
        <p>
          U trouglu \(ACD\): \(MQ \parallel AC\) i \(|MQ| = \frac{a}{2}\).
        </p>
        <p>
          Dakle \(MNPQ\) je paralelogram (jer \(MN \parallel PQ\) i \(NP \parallel MQ\)) sa svim stranicama jednakim \(\frac{a}{2}\) &mdash; to je romb.
        </p>
        <p>
          Kljucno: ivice \(DB\) i \(AC\) su naspramne ivice pravilnog tetraedra, a <strong>naspramne ivice pravilnog tetraedra su medjusobno normalne</strong>.
          Posto \(MN \parallel DB\) i \(NP \parallel AC\), sledi \(MN \perp NP\), pa je \(MNPQ\) <strong>kvadrat</strong>.
        </p>
        <div class="math-block">
          \[S_{MNPQ} = \left(\frac{a}{2}\right)^2 = \frac{a^2}{4}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri se: Koliko parova naspramnih ivica ima pravilan tetraedar?</summary>
      <p class="checkpoint-answer">
        Pravilan tetraedar ima 6 ivica i 3 para naspramnih ivica: \((AB, CD)\), \((AC, BD)\), \((AD, BC)\). Svaki par je medjusobno ortogonalan.
      </p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="key-insight">
    <h2 class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</h2>
    <p style="text-align:center; font-size:1.1rem; margin-bottom:12px;">
      Sredista cetiri uzastopne ivice pravilnog tetraedra formiraju <strong>kvadrat</strong>, jer
      naspramne ivice pravilnog tetraedra su medjusobno normalne.
    </p>
    <div style="text-align:center; font-size:1.5rem; color:#4ade80; font-weight:700; margin-top:16px;">
      \[S_{MNPQ} = \frac{a^2}{4}\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-box">
    <h2 class="card-title" style="justify-content:center;"><span class="icon">&#127919;</span> Konacan odgovor</h2>
    <div class="final-answer-value">\(\dfrac{a^2}{4}\)</div>
    <div class="final-options">
      <div class="final-option correct-option">(A) \(\dfrac{a^2}{4}\)</div>
      <div class="final-option">(B) \(\dfrac{a^2\sqrt{3}}{4}\)</div>
      <div class="final-option">(C) \(\dfrac{a^2\sqrt{2}}{2}\)</div>
      <div class="final-option">(D) \(\dfrac{a^2}{2}\)</div>
      <div class="final-option">(E) \(\dfrac{a^2\sqrt{3}}{3}\)</div>
    </div>
    <p class="verification-note">
      <strong>Provera:</strong> Odgovor (B) \(\frac{a^2\sqrt{3}}{4}\) bi bio povrsina jednakostranicnog trougla stranice \(a\),
      a odgovor (D) \(\frac{a^2}{2}\) bi bio povrsina cetvorougla sa stranicom \(\frac{a}{\sqrt{2}}\).
      Nas cetvorougao je kvadrat sa stranicom \(\frac{a}{2}\), pa je povrsina upravo \(\frac{a^2}{4}\).
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</h2>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <span>
        <strong>Pretpostavka da je cetvorougao romb a ne kvadrat:</strong>
        Mnogi ucenici ispravno izracunaju da su sve stranice jednake \(\frac{a}{2}\), ali zaborave da provere
        ugao. Bez dokaza ortogonalnosti, mogli bi pogresno izracunati povrsinu romba sa nekim drugim uglom.
      </span>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <span>
        <strong>Zamena povrsine sa povrsinome jednakostranicnog trougla:</strong>
        Poneki ucenici prepoznaju stranu \(\frac{a}{2}\) ali pogresno koriste formulu za jednakostranicni trougao
        \(\frac{a^2\sqrt{3}}{4}\) umesto za kvadrat, sto daje odgovor (B).
      </span>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</h2>
    <p style="color:#cbd5e1;">
      Ako uzmemo sredista svih 6 ivica pravilnog tetraedra, kakav poliedar oni formiraju?
      Kolika je njegova zapremina u odnosu na zapreminu polaznog tetraedra?
    </p>
    <details>
      <summary>Savet</summary>
      <p class="checkpoint-answer">
        Sredista svih 6 ivica pravilnog tetraedra formiraju pravilan oktaedar.
        Njegova zapremina iznosi polovinu zapremine polaznog tetraedra.
        Pokusajte da ovo dokazete pomocu koordinata!
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('tetraCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Tetrahedron vertices for unit edge (a=1), then scale
  const a = 1;
  const vertices3D = {
    A: [0, 0, 0],
    B: [a, 0, 0],
    C: [a/2, a*Math.sqrt(3)/2, 0],
    D: [a/2, a*Math.sqrt(3)/6, a*Math.sqrt(6)/3]
  };

  // Midpoints
  function mid(p1, p2) {
    return [(p1[0]+p2[0])/2, (p1[1]+p2[1])/2, (p1[2]+p2[2])/2];
  }

  const midpoints3D = {
    M: mid(vertices3D.D, vertices3D.A),
    N: mid(vertices3D.A, vertices3D.B),
    P: mid(vertices3D.B, vertices3D.C),
    Q: mid(vertices3D.C, vertices3D.D)
  };

  // Center of tetrahedron (centroid)
  const center = [
    (vertices3D.A[0]+vertices3D.B[0]+vertices3D.C[0]+vertices3D.D[0])/4,
    (vertices3D.A[1]+vertices3D.B[1]+vertices3D.C[1]+vertices3D.D[1])/4,
    (vertices3D.A[2]+vertices3D.B[2]+vertices3D.C[2]+vertices3D.D[2])/4
  ];

  // Rotation state
  let angleX = -0.55;
  let angleY = 0.6;
  let isDragging = false;
  let lastX = 0, lastY = 0;

  function rotateX(p, angle) {
    const c = Math.cos(angle), s = Math.sin(angle);
    return [p[0], p[1]*c - p[2]*s, p[1]*s + p[2]*c];
  }

  function rotateY(p, angle) {
    const c = Math.cos(angle), s = Math.sin(angle);
    return [p[0]*c + p[2]*s, p[1], -p[0]*s + p[2]*c];
  }

  function project(p3d) {
    // Center, rotate, then project
    const centered = [p3d[0]-center[0], p3d[1]-center[1], p3d[2]-center[2]];
    let r = rotateY(centered, angleY);
    r = rotateX(r, angleX);
    const scale = 380;
    const fov = 3;
    const depth = r[2] / fov + 2;
    return {
      x: W/2 + r[0] * scale / depth,
      y: H/2 - r[1] * scale / depth,
      z: r[2]
    };
  }

  function drawLine(p1, p2, color, width, dash) {
    const a2d = project(p1);
    const b2d = project(p2);
    ctx.beginPath();
    ctx.strokeStyle = color;
    ctx.lineWidth = width;
    if (dash) ctx.setLineDash(dash);
    else ctx.setLineDash([]);
    ctx.moveTo(a2d.x, a2d.y);
    ctx.lineTo(b2d.x, b2d.y);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawPoint(p3d, color, radius) {
    const p2d = project(p3d);
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.arc(p2d.x, p2d.y, radius, 0, Math.PI*2);
    ctx.fill();
    // Glow
    const grad = ctx.createRadialGradient(p2d.x, p2d.y, 0, p2d.x, p2d.y, radius*3);
    grad.addColorStop(0, color.replace(')', ', 0.3)').replace('rgb', 'rgba'));
    grad.addColorStop(1, 'transparent');
    ctx.beginPath();
    ctx.fillStyle = grad;
    ctx.arc(p2d.x, p2d.y, radius*3, 0, Math.PI*2);
    ctx.fill();
  }

  function drawLabel(p3d, text, color, offsetX, offsetY) {
    const p2d = project(p3d);
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, p2d.x + (offsetX || 0), p2d.y + (offsetY || 0));
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    const bgGrad = ctx.createRadialGradient(W/2, H/2, 0, W/2, H/2, W*0.7);
    bgGrad.addColorStop(0, '#131c33');
    bgGrad.addColorStop(1, '#0c1222');
    ctx.fillStyle = bgGrad;
    ctx.fillRect(0, 0, W, H);

    const v = vertices3D;
    const m = midpoints3D;

    // Determine face visibility for depth sorting (simplified)
    // Edges of tetrahedron
    const edges = [
      [v.A, v.B], [v.A, v.C], [v.A, v.D],
      [v.B, v.C], [v.B, v.D], [v.C, v.D]
    ];

    // Draw tetrahedron edges (dashed for back edges)
    // Compute average z for each vertex to determine back/front
    const projA = project(v.A);
    const projB = project(v.B);
    const projC = project(v.C);
    const projD = project(v.D);

    const vertexDepth = [
      { name: 'A', z: projA.z },
      { name: 'B', z: projB.z },
      { name: 'C', z: projC.z },
      { name: 'D', z: projD.z }
    ];
    vertexDepth.sort((a, b) => a.z - b.z);
    const backVertex = vertexDepth[0].name;

    // Draw all tetrahedron edges
    const edgeDefs = [
      ['A','B'], ['A','C'], ['A','D'], ['B','C'], ['B','D'], ['C','D']
    ];

    for (const [e1, e2] of edgeDefs) {
      const isBack = (e1 === backVertex || e2 === backVertex);
      if (isBack) {
        drawLine(v[e1], v[e2], 'rgba(96,165,250,0.2)', 1.5, [6, 4]);
      } else {
        drawLine(v[e1], v[e2], 'rgba(96,165,250,0.5)', 2, null);
      }
    }

    // Draw the quadrilateral MNPQ (filled)
    const mProj = project(m.M);
    const nProj = project(m.N);
    const pProj = project(m.P);
    const qProj = project(m.Q);

    ctx.beginPath();
    ctx.moveTo(mProj.x, mProj.y);
    ctx.lineTo(nProj.x, nProj.y);
    ctx.lineTo(pProj.x, pProj.y);
    ctx.lineTo(qProj.x, qProj.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
    ctx.fill();
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([]);
    ctx.stroke();

    // Draw right angle marker at N
    const markerSize = 12;
    // Vectors MN and NP in 2D screen space
    const mnDx = mProj.x - nProj.x;
    const mnDy = mProj.y - nProj.y;
    const mnLen = Math.sqrt(mnDx*mnDx + mnDy*mnDy);
    const npDx = pProj.x - nProj.x;
    const npDy = pProj.y - nProj.y;
    const npLen = Math.sqrt(npDx*npDx + npDy*npDy);

    if (mnLen > 0 && npLen > 0) {
      const ux1 = mnDx/mnLen * markerSize;
      const uy1 = mnDy/mnLen * markerSize;
      const ux2 = npDx/npLen * markerSize;
      const uy2 = npDy/npLen * markerSize;

      ctx.beginPath();
      ctx.moveTo(nProj.x + ux1, nProj.y + uy1);
      ctx.lineTo(nProj.x + ux1 + ux2, nProj.y + uy1 + uy2);
      ctx.lineTo(nProj.x + ux2, nProj.y + uy2);
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 1.5;
      ctx.stroke();
    }

    // Draw edge length labels on quadrilateral
    function midOf2D(a2d, b2d) {
      return { x: (a2d.x + b2d.x)/2, y: (a2d.y + b2d.y)/2 };
    }

    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'center';

    const mnMid = midOf2D(mProj, nProj);
    const npMid = midOf2D(nProj, pProj);
    const pqMid = midOf2D(pProj, qProj);
    const qmMid = midOf2D(qProj, mProj);

    // Offset labels slightly perpendicular to the edge
    function perpOffset(a2d, b2d, dist) {
      const dx = b2d.x - a2d.x;
      const dy = b2d.y - a2d.y;
      const len = Math.sqrt(dx*dx + dy*dy);
      if (len === 0) return { x: 0, y: 0 };
      return { x: -dy/len * dist, y: dx/len * dist };
    }

    const off1 = perpOffset(mProj, nProj, 15);
    ctx.fillText('a/2', mnMid.x + off1.x, mnMid.y + off1.y);

    const off2 = perpOffset(nProj, pProj, 15);
    ctx.fillText('a/2', npMid.x + off2.x, npMid.y + off2.y);

    const off3 = perpOffset(pProj, qProj, -15);
    ctx.fillText('a/2', pqMid.x + off3.x, pqMid.y + off3.y);

    const off4 = perpOffset(qProj, mProj, -15);
    ctx.fillText('a/2', qmMid.x + off4.x, qmMid.y + off4.y);

    // Draw vertices of tetrahedron
    drawPoint(v.A, '#60a5fa', 5);
    drawPoint(v.B, '#60a5fa', 5);
    drawPoint(v.C, '#60a5fa', 5);
    drawPoint(v.D, '#60a5fa', 5);

    // Draw midpoints
    drawPoint(m.M, '#4ade80', 5);
    drawPoint(m.N, '#4ade80', 5);
    drawPoint(m.P, '#4ade80', 5);
    drawPoint(m.Q, '#4ade80', 5);

    // Labels for vertices
    drawLabel(v.A, 'A', '#60a5fa', -18, 8);
    drawLabel(v.B, 'B', '#60a5fa', 18, 8);
    drawLabel(v.C, 'C', '#60a5fa', 16, 12);
    drawLabel(v.D, 'D', '#60a5fa', 0, -18);

    // Labels for midpoints
    drawLabel(m.M, 'M', '#4ade80', -18, -6);
    drawLabel(m.N, 'N', '#4ade80', 0, 20);
    drawLabel(m.P, 'P', '#4ade80', 18, 6);
    drawLabel(m.Q, 'Q', '#4ade80', 16, -10);

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    const legendX = 20;
    const legendY = H - 60;

    ctx.fillStyle = 'rgba(30,41,59,0.85)';
    ctx.fillRect(legendX - 5, legendY - 5, 220, 50);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(legendX - 5, legendY - 5, 220, 50);

    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(legendX + 8, legendY + 10, 4, 0, Math.PI*2);
    ctx.fill();
    ctx.fillText('Temena tetraedra', legendX + 20, legendY + 14);

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX + 8, legendY + 32, 4, 0, Math.PI*2);
    ctx.fill();
    ctx.fillText('Sredista ivica (MNPQ)', legendX + 20, legendY + 36);
  }

  draw();

  // Mouse interaction for rotation
  canvas.addEventListener('mousedown', (e) => {
    isDragging = true;
    lastX = e.clientX;
    lastY = e.clientY;
  });

  document.addEventListener('mousemove', (e) => {
    if (!isDragging) return;
    const dx = e.clientX - lastX;
    const dy = e.clientY - lastY;
    angleY += dx * 0.008;
    angleX += dy * 0.008;
    lastX = e.clientX;
    lastY = e.clientY;
    draw();
  });

  document.addEventListener('mouseup', () => {
    isDragging = false;
  });

  // Touch support
  canvas.addEventListener('touchstart', (e) => {
    e.preventDefault();
    isDragging = true;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
  });

  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    if (!isDragging) return;
    const dx = e.touches[0].clientX - lastX;
    const dy = e.touches[0].clientY - lastY;
    angleY += dx * 0.008;
    angleX += dy * 0.008;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
    draw();
  });

  canvas.addEventListener('touchend', (e) => {
    e.preventDefault();
    isDragging = false;
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Povrsina cetvorougla u pravilnom tetraedru",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "pravilan tetraedar", "srediste ivice", "kvadrat", "povrsina"]
}
BRAINSPARK_META-->