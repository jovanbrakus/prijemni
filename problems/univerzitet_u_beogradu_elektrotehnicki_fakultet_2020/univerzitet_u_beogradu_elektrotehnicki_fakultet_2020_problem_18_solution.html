<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tetivni četvorougao - proizvod dijagonale i stranice</title>

  <script type="text/info" id="logic-scratchpad">
    PROBLEM:
    Dato: Tetivni četvorougao ABCD.
    - Dijagonala BD je normalna na stranicu BC (BD ⊥ BC)
    - ∠ABC = 120°
    - ∠BAD = 120°
    - AD = 1 cm
    Traži se: BD · CD = ?

    REŠENJE:

    Korak 1: Odredimo ugao ∠DBC.
    Pošto je BD ⊥ BC, to znači ∠DBC = 90°.

    Korak 2: Odredimo ugao ∠ABD.
    ∠ABC = ∠ABD + ∠DBC
    120° = ∠ABD + 90°
    ∠ABD = 30°

    Korak 3: Svojstvo tetivnog četvorougla - suprotni uglovi se dopunjuju do 180°.
    ∠BAD + ∠BCD = 180°
    120° + ∠BCD = 180°
    ∠BCD = 60°

    Korak 4: U trouglu ABD:
    ∠ABD = 30°
    ∠BAD = 120°
    ∠ADB = 180° - 30° - 120° = 30°
    Dakle trougao ABD ima uglove 30°, 120°, 30°.

    Primenimo sinusnu teoremu na trougao ABD:
    BD / sin(∠BAD) = AD / sin(∠ABD)
    BD / sin(120°) = 1 / sin(30°)
    BD / (√3/2) = 1 / (1/2)
    BD / (√3/2) = 2
    BD = 2 · √3/2 = √3

    Korak 5: U trouglu BCD:
    ∠DBC = 90°
    ∠BCD = 60°
    ∠BDC = 180° - 90° - 60° = 30°

    Primenimo sinusnu teoremu na trougao BCD:
    CD / sin(∠DBC) = BD / sin(∠BCD)
    CD / sin(90°) = BD / sin(60°)
    CD / 1 = √3 / (√3/2)
    CD = √3 · 2/√3 = 2

    Korak 6: Proizvod:
    BD · CD = √3 · 2 = 2√3

    ODGOVOR: BD · CD = 2√3 cm²
    Tačan odgovor je (C).

    VERIFIKACIJA:
    - BD = √3 cm (iz sinusne teoreme u △ABD) ✓
    - CD = 2 cm (iz sinusne teoreme u △BCD) ✓
    - BD · CD = √3 · 2 = 2√3 cm² ✓
    - Proverimo uglove u △BCD: 90° + 60° + 30° = 180° ✓
    - Proverimo uglove u △ABD: 30° + 120° + 30° = 180° ✓
    - Proverimo svojstvo tetivnog četvorougla:
      ∠BAD + ∠BCD = 120° + 60° = 180° ✓
      ∠ABC + ∠ADC = 120° + (∠ADB + ∠BDC) → Proverimo:
      ∠ADC = ∠ADB + ∠BDC = 30° + 30° = 60°
      ∠ABC + ∠ADC = 120° + 60° = 180° ✓
    - Svi uslovi tetivnog četvorougla su ispunjeni.

    DODATNA PROVERA (Ptolemejeva teorema):
    Za tetivni četvorougao važi: AC · BD = AB · CD + AD · BC
    Nađimo AB i BC:
    U △ABD (sinusna teorema):
      AB / sin(∠ADB) = AD / sin(∠ABD) = 1 / sin(30°) = 2
      AB = 2 · sin(30°) = 2 · 1/2 = 1
    U △BCD:
      BC / sin(∠BDC) = BD / sin(∠BCD)
      BC / sin(30°) = √3 / sin(60°)
      BC = (1/2) · √3 / (√3/2) = (1/2) · 2 = 1
    Alternativno: BD ⊥ BC i BD = √3, ∠BDC = 30°
      BC = BD · tan(∠BDC)? Ne, BD ⊥ BC znači ∠DBC = 90°
      U pravouglom △BCD: BC = BD · cos(∠BDC) = ... ne, ∠DBC = 90°
      BC = BD · tan(30°)? Koristeći ∠BDC = 30° i ∠DBC = 90°:
      BC / BD = sin(∠BDC) / sin(∠BCD) = sin(30°) / sin(60°) = (1/2) / (√3/2) = 1/√3
      BC = √3 / √3 = 1

    Nađimo dijagonalu AC:
    U △ABC: AB = 1, BC = 1, ∠ABC = 120°
    AC² = AB² + BC² - 2·AB·BC·cos(∠ABC) = 1 + 1 - 2·1·1·cos(120°) = 2 - 2·(-1/2) = 2 + 1 = 3
    AC = √3

    Ptolemejeva teorema:
    AC · BD = AB · CD + AD · BC
    √3 · √3 = 1 · 2 + 1 · 1
    3 = 2 + 1 = 3 ✓

    Sve provere prošle! Odgovor je BD · CD = 2√3 cm².
  </script>

  <script>
  MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)'], ['$', '$']],
      displayMath: [['\\[', '\\]']]
    },
    svg: { fontCache: 'global' }
  };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.7;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 1.1rem;
      margin-bottom: 30px;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.35);
    }

    .card h2 {
      color: #60a5fa;
      font-size: 1.4rem;
      margin-bottom: 16px;
    }

    .card h3 {
      color: #e2e8f0;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }

    .given-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-top: 16px;
    }

    .given-item {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 12px 18px;
      min-width: 100px;
      text-align: center;
    }

    .given-item .label {
      color: #94a3b8;
      font-size: 0.85rem;
      margin-bottom: 4px;
    }

    .given-item .value {
      color: #e2e8f0;
      font-size: 1.05rem;
      font-weight: 600;
    }

    .answer-option {
      transition: border-color 0.2s;
    }

    .answer-option:hover {
      border-color: #60a5fa;
    }

    .math-block {
      background: rgba(56,189,248,0.08);
      border: 1px solid rgba(56,189,248,0.15);
      border-radius: 8px;
      padding: 14px 18px;
      margin: 12px 0;
      font-family: 'Courier New', monospace;
      overflow-x: auto;
    }

    .plan-card {
      border-left: 3px solid #a78bfa;
    }

    .plan-card p {
      color: #e2e8f0;
      font-size: 1.05rem;
    }

    details {
      margin: 15px 0;
    }

    details summary {
      cursor: pointer;
      color: #60a5fa;
      font-weight: 600;
      font-size: 1.05rem;
      padding: 8px 0;
      user-select: none;
    }

    details summary:hover {
      color: #93c5fd;
    }

    details[open] summary {
      margin-bottom: 12px;
    }

    .theory-list {
      list-style: none;
      padding: 0;
    }

    .theory-list li {
      padding: 8px 0;
      border-bottom: 1px solid rgba(51, 65, 85, 0.5);
      color: #e2e8f0;
    }

    .theory-list li:last-child {
      border-bottom: none;
    }

    .step-container {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
      padding: 16px;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 3px solid transparent;
    }

    .step-container:hover,
    .step-container.active {
      background: rgba(96, 165, 250, 0.05);
      border-left-color: #4ade80;
    }

    .step-badge {
      width: 32px;
      height: 32px;
      min-width: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
    }

    .step-content {
      flex: 1;
    }

    .step-content p {
      margin-bottom: 8px;
    }

    .note {
      color: #94a3b8;
      font-size: 0.9rem;
      font-style: italic;
      margin-top: 6px;
    }

    .checkpoint {
      background: rgba(96, 165, 250, 0.06);
      border: 1px solid rgba(96, 165, 250, 0.15);
      border-radius: 10px;
      padding: 14px 18px;
      margin: 15px 0;
    }

    .checkpoint summary {
      color: #a78bfa;
      font-size: 0.95rem;
    }

    .checkpoint p {
      color: #e2e8f0;
      margin-top: 8px;
    }

    .insight-box {
      background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
      border: 1px solid rgba(167, 139, 250, 0.3);
      border-radius: 14px;
      padding: 24px;
      margin-bottom: 24px;
      text-align: center;
    }

    .insight-box h2 {
      color: #a78bfa;
      margin-bottom: 14px;
    }

    .insight-formula {
      font-size: 1.4rem;
      color: #4ade80;
      margin: 12px 0;
    }

    .final-answer-card {
      border: 2px solid #4ade80;
      text-align: center;
    }

    .final-answer-card h2 {
      color: #4ade80;
    }

    .final-answer-value {
      font-size: 1.8rem;
      color: #4ade80;
      font-weight: 800;
      margin: 16px 0;
    }

    .options-final {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }

    .option-final {
      padding: 10px 20px;
      border-radius: 10px;
      border: 2px solid #334155;
      background: rgba(30, 41, 59, 0.5);
      color: #94a3b8;
      font-size: 1rem;
      transition: all 0.2s;
    }

    .option-final.correct {
      border-color: #4ade80;
      background: rgba(52, 211, 153, 0.1);
      color: #4ade80;
      font-weight: 700;
    }

    .verification {
      background: rgba(52, 211, 153, 0.06);
      border: 1px solid rgba(52, 211, 153, 0.15);
      border-radius: 10px;
      padding: 16px;
      margin-top: 16px;
      text-align: left;
    }

    .verification h3 {
      color: #34d399;
      font-size: 1rem;
      margin-bottom: 8px;
    }

    .pitfall-card {
      border-left: 3px solid #e09468;
    }

    .pitfall-card h2 {
      color: #e09468;
    }

    .pitfall-list {
      list-style: none;
      padding: 0;
    }

    .pitfall-list li {
      padding: 8px 0;
      color: #e2e8f0;
    }

    .pitfall-list li::before {
      content: "!";
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: rgba(224, 148, 104, 0.2);
      color: #e09468;
      font-weight: 700;
      font-size: 0.8rem;
      margin-right: 10px;
    }

    .challenge-card {
      border-left: 3px solid #f472b6;
    }

    .challenge-card h2 {
      color: #f472b6;
    }

    canvas {
      touch-action: none;
      border-radius: 12px;
      display: block;
      margin: 0 auto;
      max-width: 100%;
    }

    .canvas-hint {
      color: #94a3b8;
      text-align: center;
      font-size: 0.85rem;
      margin-top: 8px;
    }

    @media (max-width: 700px) {
      h1 { font-size: 1.6rem; }
      .container { padding: 16px 12px; }
      .card { padding: 16px; }
      .given-grid { gap: 8px; }
      .given-item { min-width: 80px; padding: 10px 12px; }
      .step-container { padding: 10px; gap: 10px; }
    }
  </style>
</head>
<body>
  <div class="container">

    <!-- a. Title & Subtitle -->
    <h1>Tetivni četvorougao - proizvod dijagonale i stranice</h1>
    <p class="subtitle">Geometrija -- tetivni četvorouglovi, sinusna teorema i svojstva upisanog ugla</p>

    <!-- b. Problem Statement -->
    <div class="card problem-statement">
      <h2>Postavka zadatka</h2>
      <p>U tetivnom četvorouglu \(ABCD\) dijagonala \(BD\) je normalna na stranicu \(BC\), uglovi \(\angle ABC\) i \(\angle BAD\) su jednaki \(120°\), a dužina stranice \(AD\) jeste \(1\) cm. Proizvod dužine dijagonale \(BD\) i dužine stranice \(CD\) jednak je:</p>

      <div class="given-grid">
        <div class="given-item">
          <div class="label">Tip četvorougla</div>
          <div class="value">Tetivni</div>
        </div>
        <div class="given-item">
          <div class="label">Uslov</div>
          <div class="value">\(BD \perp BC\)</div>
        </div>
        <div class="given-item">
          <div class="label">\(\angle ABC\)</div>
          <div class="value">\(120°\)</div>
        </div>
        <div class="given-item">
          <div class="label">\(\angle BAD\)</div>
          <div class="value">\(120°\)</div>
        </div>
        <div class="given-item">
          <div class="label">\(AD\)</div>
          <div class="value">\(1\) cm</div>
        </div>
      </div>

      <h3 style="margin-top: 20px; color: #94a3b8; font-size: 0.95rem;">Ponuđeni odgovori:</h3>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\(\dfrac{\sqrt{3}}{2}\) cm\(^2\)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\(\sqrt{3}\) cm\(^2\)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\(2\sqrt{3}\) cm\(^2\)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\(6\sqrt{3}\) cm\(^2\)</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\(2\) cm\(^2\)</div>
        </div>
      </div>
    </div>

    <!-- c. Plan -->
    <div class="card plan-card">
      <h2>Plan rešavanja</h2>
      <p>Iskoristićemo svojstvo tetivnog četvorougla da se suprotni uglovi dopunjuju do \(180°\) kako bismo odredili sve uglove. Zatim ćemo primeniti sinusnu teoremu na trouglove \(\triangle ABD\) i \(\triangle BCD\) da izračunamo dužine \(BD\) i \(CD\), i na kraju njihov proizvod.</p>
    </div>

    <!-- d. Theory Refresher -->
    <div class="card">
      <details>
        <summary>Ključne formule i teoreme</summary>
        <ul class="theory-list">
          <li><strong>Tetivni četvorougao:</strong> Četvorougao je tetivni (upisan u krug) ako i samo ako se suprotni uglovi dopunjuju do \(180°\): \(\angle A + \angle C = 180°\) i \(\angle B + \angle D = 180°\).</li>
          <li><strong>Sinusna teorema:</strong> U trouglu sa stranama \(a\), \(b\), \(c\) i nasuprotnim uglovima \(\alpha\), \(\beta\), \(\gamma\): \(\displaystyle \frac{a}{\sin\alpha} = \frac{b}{\sin\beta} = \frac{c}{\sin\gamma}\)</li>
          <li><strong>Uglovi u trouglu:</strong> Zbir uglova svakog trougla je \(180°\).</li>
          <li><strong>Ptolemejeva teorema:</strong> Za tetivni četvorougao \(ABCD\) važi: \(AC \cdot BD = AB \cdot CD + AD \cdot BC\).</li>
        </ul>
      </details>
    </div>

    <!-- e. Visual Aid — Canvas -->
    <div class="card">
      <h2>Vizuelni prikaz</h2>
      <canvas id="mainCanvas" width="800" height="560"></canvas>
      <p class="canvas-hint">Tetivni četvorougao ABCD upisan u krug sa svim obeleženim uglovima i stranicama</p>
    </div>

    <!-- f. Step-by-Step Solution -->
    <div class="card">
      <h2>Rešenje korak po korak</h2>

      <div class="step-container" id="step1">
        <div class="step-badge">1</div>
        <div class="step-content">
          <h3>Odredimo ugao \(\angle DBC\)</h3>
          <p>Dato je da je dijagonala \(BD\) normalna na stranicu \(BC\), što znači:</p>
          <div class="math-block">
            \[\angle DBC = 90°\]
          </div>
          <p class="note">Normalnost (upravnost) dve duži znači da se seku pod pravim uglom.</p>
        </div>
      </div>

      <div class="step-container" id="step2">
        <div class="step-badge">2</div>
        <div class="step-content">
          <h3>Odredimo ugao \(\angle ABD\)</h3>
          <p>Dijagonala \(BD\) deli ugao \(\angle ABC\) na dva dela:</p>
          <div class="math-block">
            \[\angle ABC = \angle ABD + \angle DBC\]
          </div>
          <p>Uvrštavamo poznate vrednosti:</p>
          <div class="math-block">
            \[120° = \angle ABD + 90°\]
          </div>
          <p>Odatle dobijamo:</p>
          <div class="math-block">
            \[\angle ABD = 120° - 90° = 30°\]
          </div>
        </div>
      </div>

      <div class="step-container" id="step3">
        <div class="step-badge">3</div>
        <div class="step-content">
          <h3>Odredimo ugao \(\angle BCD\) koristeći svojstvo tetivnog četvorougla</h3>
          <p>U tetivnom četvorouglu suprotni uglovi se dopunjuju do \(180°\). Uglovi \(\angle BAD\) i \(\angle BCD\) su suprotni uglovi, pa važi:</p>
          <div class="math-block">
            \[\angle BAD + \angle BCD = 180°\]
          </div>
          <p>Uvrštavamo \(\angle BAD = 120°\):</p>
          <div class="math-block">
            \[120° + \angle BCD = 180°\]
          </div>
          <div class="math-block">
            \[\angle BCD = 60°\]
          </div>
          <p class="note">Ovo je ključno svojstvo tetivnih četvorouglova koje bitno pojednostavljuje problem.</p>
        </div>
      </div>

      <details class="checkpoint">
        <summary>Proveri sebe: Koliki je ugao \(\angle ADC\)?</summary>
        <p>Pošto su \(\angle ABC\) i \(\angle ADC\) suprotni uglovi u tetivnom četvorouglu: \(\angle ABC + \angle ADC = 180°\), dakle \(\angle ADC = 180° - 120° = 60°\).</p>
      </details>

      <div class="step-container" id="step4">
        <div class="step-badge">4</div>
        <div class="step-content">
          <h3>Analiziramo trougao \(\triangle ABD\)</h3>
          <p>U trouglu \(\triangle ABD\) znamo dva ugla:</p>
          <div class="math-block">
            \[\angle ABD = 30°, \quad \angle BAD = 120°\]
          </div>
          <p>Treći ugao računamo iz uslova da zbir uglova u trouglu iznosi \(180°\):</p>
          <div class="math-block">
            \[\angle ADB = 180° - 30° - 120° = 30°\]
          </div>
          <p class="note">Primetimo da je \(\triangle ABD\) jednakokraki trougao jer su uglovi \(\angle ABD = \angle ADB = 30°\), pa su stranice \(AB\) i \(AD\) jednake nasuprotnim jednakim uglovima -- zapravo, jednake su stranice naspram jednakih uglova. Pošto su uglovi pri \(B\) i \(D\) jednaki (\(30°\)), stranice naspram njih (\(AD\) i \(AB\)) su jednake: \(AB = AD = 1\) cm.</p>
        </div>
      </div>

      <div class="step-container" id="step5">
        <div class="step-badge">5</div>
        <div class="step-content">
          <h3>Izračunamo \(BD\) pomoću sinusne teoreme</h3>
          <p>Primenimo sinusnu teoremu na trougao \(\triangle ABD\):</p>
          <div class="math-block">
            \[\frac{BD}{\sin(\angle BAD)} = \frac{AD}{\sin(\angle ABD)}\]
          </div>
          <p>Uvrštavamo poznate vrednosti:</p>
          <div class="math-block">
            \[\frac{BD}{\sin 120°} = \frac{1}{\sin 30°}\]
          </div>
          <p>Izračunavamo vrednosti sinusa:</p>
          <div class="math-block">
            \[\sin 120° = \frac{\sqrt{3}}{2}, \quad \sin 30° = \frac{1}{2}\]
          </div>
          <p>Uvrštavamo:</p>
          <div class="math-block">
            \[\frac{BD}{\dfrac{\sqrt{3}}{2}} = \frac{1}{\dfrac{1}{2}} = 2\]
          </div>
          <div class="math-block">
            \[BD = 2 \cdot \frac{\sqrt{3}}{2} = \sqrt{3} \text{ cm}\]
          </div>
        </div>
      </div>

      <details class="checkpoint">
        <summary>Proveri sebe: Koji su uglovi u trouglu \(\triangle BCD\)?</summary>
        <p>Znamo \(\angle DBC = 90°\) i \(\angle BCD = 60°\). Treći ugao: \(\angle BDC = 180° - 90° - 60° = 30°\). Primetimo i da je \(\angle ADC = \angle ADB + \angle BDC = 30° + 30° = 60°\), što se slaže sa prethodnom proverom.</p>
      </details>

      <div class="step-container" id="step6">
        <div class="step-badge">6</div>
        <div class="step-content">
          <h3>Analiziramo trougao \(\triangle BCD\)</h3>
          <p>Uglovi trougla \(\triangle BCD\) su:</p>
          <div class="math-block">
            \[\angle DBC = 90°, \quad \angle BCD = 60°, \quad \angle BDC = 30°\]
          </div>
          <p>Ovo je pravougli trougao (ugao od \(90°\) pri temenu \(B\)) sa poznatim odnosima stranica.</p>
        </div>
      </div>

      <div class="step-container" id="step7">
        <div class="step-badge">7</div>
        <div class="step-content">
          <h3>Izračunamo \(CD\) pomoću sinusne teoreme</h3>
          <p>Primenimo sinusnu teoremu na trougao \(\triangle BCD\):</p>
          <div class="math-block">
            \[\frac{CD}{\sin(\angle DBC)} = \frac{BD}{\sin(\angle BCD)}\]
          </div>
          <p>Uvrštavamo poznate vrednosti:</p>
          <div class="math-block">
            \[\frac{CD}{\sin 90°} = \frac{\sqrt{3}}{\sin 60°}\]
          </div>
          <p>Izračunavamo:</p>
          <div class="math-block">
            \[\frac{CD}{1} = \frac{\sqrt{3}}{\dfrac{\sqrt{3}}{2}} = \sqrt{3} \cdot \frac{2}{\sqrt{3}} = 2\]
          </div>
          <div class="math-block">
            \[CD = 2 \text{ cm}\]
          </div>
          <p class="note">Stranica \(CD\) je hipotenuza pravouglog trougla \(\triangle BCD\), pa je logično da je najduža stranica u tom trouglu.</p>
        </div>
      </div>

      <div class="step-container" id="step8">
        <div class="step-badge">8</div>
        <div class="step-content">
          <h3>Izračunamo traženi proizvod</h3>
          <p>Sada jednostavno pomnožimo dobijene vrednosti:</p>
          <div class="math-block">
            \[BD \cdot CD = \sqrt{3} \cdot 2 = 2\sqrt{3} \text{ cm}^2\]
          </div>
        </div>
      </div>

      <details class="checkpoint">
        <summary>Proveri sebe: Verifikuj rezultat Ptolemejevom teoremom.</summary>
        <p>Za tetivni četvorougao važi Ptolemejeva teorema: \(AC \cdot BD = AB \cdot CD + AD \cdot BC\).</p>
        <p>Izračunamo preostale stranice: \(AB = AD = 1\) cm (jednakokraki \(\triangle ABD\)), \(BC = 1\) cm (iz sinusne teoreme u \(\triangle BCD\)).</p>
        <p>Dijagonalu \(AC\) nađemo kosinusnom teoremom u \(\triangle ABC\): \(AC^2 = 1 + 1 - 2\cos 120° = 2 + 1 = 3\), dakle \(AC = \sqrt{3}\).</p>
        <p>Provera: \(\sqrt{3} \cdot \sqrt{3} = 1 \cdot 2 + 1 \cdot 1\), tj. \(3 = 3\). Tačno!</p>
      </details>
    </div>

    <!-- g. Key Insight -->
    <div class="insight-box">
      <h2>Ključni uvid</h2>
      <p>Svojstvo tetivnog četvorougla (suprotni uglovi se dopunjuju do \(180°\)) nam omogućava da odredimo sve uglove u četvorouglu, a zatim dijagonala \(BD\) deli četvorougao na dva trougla sa potpuno poznatim uglovima. Sinusna teorema u svakom trouglu daje tražene dužine.</p>
      <div class="insight-formula">
        \[BD \cdot CD = \sqrt{3} \cdot 2 = 2\sqrt{3} \text{ cm}^2\]
      </div>
    </div>

    <!-- h. Final Answer -->
    <div class="card final-answer-card">
      <h2>Konačan odgovor</h2>
      <div class="final-answer-value">\(BD \cdot CD = 2\sqrt{3}\) cm\(^2\)</div>

      <div class="options-final">
        <div class="option-final">(A) \(\dfrac{\sqrt{3}}{2}\) cm\(^2\)</div>
        <div class="option-final">(B) \(\sqrt{3}\) cm\(^2\)</div>
        <div class="option-final correct">(C) \(2\sqrt{3}\) cm\(^2\)</div>
        <div class="option-final">(D) \(6\sqrt{3}\) cm\(^2\)</div>
        <div class="option-final">(E) \(2\) cm\(^2\)</div>
      </div>

      <div class="verification">
        <h3>Verifikacija</h3>
        <p>Proverimo ključne vrednosti:</p>
        <div class="math-block">
          \[BD = \sqrt{3} \text{ cm} \quad (\text{iz sinusne teoreme u } \triangle ABD)\]
        </div>
        <div class="math-block">
          \[CD = 2 \text{ cm} \quad (\text{iz sinusne teoreme u } \triangle BCD)\]
        </div>
        <div class="math-block">
          \[BD \cdot CD = \sqrt{3} \cdot 2 = 2\sqrt{3} \text{ cm}^2 \quad \checkmark\]
        </div>
        <p style="color: #94a3b8; margin-top: 10px;">Ptolemejeva teorema potvrđuje konzistentnost: \(AC \cdot BD = AB \cdot CD + AD \cdot BC\) daje \(3 = 2 + 1 = 3\). Svi uglovi u oba trougla imaju ispravne zbirove od \(180°\), a suprotni uglovi četvorougla se dopunjuju do \(180°\).</p>
      </div>
    </div>

    <!-- i. Common Pitfalls -->
    <div class="card pitfall-card">
      <h2>Najčešće greške</h2>
      <ul class="pitfall-list">
        <li>Zaboraviti da se u tetivnom četvorouglu dopunjuju <strong>suprotni</strong> uglovi (a ne susedni). Uglovi \(\angle BAD\) i \(\angle BCD\) su suprotni, pa se njihov zbir jednak \(180°\).</li>
        <li>Pogrešno razdvojiti ugao \(\angle ABC\) -- dijagonala \(BD\) deli ovaj ugao na \(\angle ABD = 30°\) i \(\angle DBC = 90°\), ne obrnuto. Redosled temena je bitan!</li>
      </ul>
    </div>

    <!-- j. Optional Challenge -->
    <div class="card challenge-card">
      <h2>Dodatni izazov</h2>
      <p>U istom tetivnom četvorouglu \(ABCD\), izračunajte površinu četvorougla.</p>
      <details>
        <summary>Hint</summary>
        <p>Površina tetivnog četvorougla je zbir površina trouglova \(\triangle ABD\) i \(\triangle BCD\). Koristite formulu \(P = \frac{1}{2}ab\sin C\). Za \(\triangle ABD\): \(P_1 = \frac{1}{2} \cdot AB \cdot AD \cdot \sin(\angle BAD) = \frac{1}{2} \cdot 1 \cdot 1 \cdot \sin 120° = \frac{\sqrt{3}}{4}\). Za \(\triangle BCD\): \(P_2 = \frac{1}{2} \cdot BC \cdot BD = \frac{1}{2} \cdot 1 \cdot \sqrt{3} = \frac{\sqrt{3}}{2}\). Ukupno: \(P = \frac{3\sqrt{3}}{4}\) cm\(^2\).</p>
      </details>
    </div>

  </div>

  <script>
  (() => {
    // Step click interaction
    const steps = document.querySelectorAll('.step-container');
    steps.forEach(step => {
      step.addEventListener('click', () => {
        steps.forEach(s => s.classList.remove('active'));
        step.classList.add('active');
      });
    });

    // Canvas diagram — cyclic quadrilateral ABCD inscribed in a circle
    const canvas = document.getElementById('mainCanvas');
    const ctx = canvas.getContext('2d');
    const W = canvas.width;
    const H = canvas.height;

    function drawDiagram() {
      ctx.clearRect(0, 0, W, H);

      // Background
      ctx.fillStyle = '#0c1222';
      ctx.fillRect(0, 0, W, H);

      // Subtle grid
      ctx.strokeStyle = '#1e293b';
      ctx.lineWidth = 0.5;
      for (let gx = 0; gx < W; gx += 40) {
        ctx.beginPath();
        ctx.moveTo(gx, 0);
        ctx.lineTo(gx, H);
        ctx.stroke();
      }
      for (let gy = 0; gy < H; gy += 40) {
        ctx.beginPath();
        ctx.moveTo(0, gy);
        ctx.lineTo(W, gy);
        ctx.stroke();
      }

      // Center of the circumscribed circle
      const cx = W / 2 - 20;
      const cy = H / 2;

      // We need to compute the actual vertex positions.
      // From the solution:
      //   AD = AB = 1, BC = 1, BD = sqrt(3), CD = 2
      //   angle BAD = 120 deg, angle ABC = 120 deg
      //   angle BCD = 60 deg, angle ADC = 60 deg
      //
      // Circumradius from sine rule in triangle ABD:
      //   BD / sin(BAD) = 2R => sqrt(3) / sin(120) = 2R
      //   sqrt(3) / (sqrt(3)/2) = 2R => 2 = 2R => R = 1
      //
      // Place circumcircle center at origin, R = 1.
      // We need to position A, B, C, D on the circle of radius 1.
      //
      // Inscribed angle theorem: arc BD (not containing A) subtends angle BAD=120 at A.
      // The central angle over arc BD (not containing A) = 2 * 120 = 240 deg.
      // So arc BD (containing A) = 360 - 240 = 120 deg.
      //
      // Similarly, arc BD (not containing C) subtends angle BCD=60 at C.
      // Central angle = 2 * 60 = 120 deg. So arc BD (containing C) = 240 deg.
      // This is consistent: arc BD through A = 120 deg, arc BD through C = 240 deg.
      //
      // Let's place the points. Let B be at angle theta_B and D at angle theta_D on the circle.
      // Arc BD (the shorter one, not containing A) = 120 deg.
      // So if B is at angle 0 deg, D is at angle 120 deg (measuring counterclockwise).
      //
      // Now A is on the major arc BD (240 deg arc). The arc BA subtended:
      // In triangle ABD, angle ADB = 30 deg. By inscribed angle theorem,
      // angle ADB subtends arc AB. So arc AB = 2 * 30 = 60 deg.
      // Similarly angle ABD = 30 deg subtends arc AD. So arc AD = 2 * 30 = 60 deg.
      // Check: arc AB + arc AD = 60 + 60 = 120 deg. But arc BD through A = 120 deg? No.
      // arc BD through A includes A, so it's arc BA + arc AD = 60 + 60 = 120 deg.
      // Wait, that's the minor arc. Let me reconsider.
      //
      // Actually arc BD NOT containing A = 120 deg (central angle for inscribed angle 60 at C on the other side).
      // No wait: inscribed angle BAD = 120 subtends arc BD not containing A.
      // For inscribed angle > 90, the subtended arc > 180.
      // arc BD not containing A = 2 * 120 = 240 deg.
      // arc BD containing A = 360 - 240 = 120 deg.
      //
      // A lies on the 120-deg arc from B to D (the minor arc).
      // arc BA + arc AD = 120 deg.
      // angle ADB (inscribed at D) subtends arc AB: arc AB = 2 * 30 = 60 deg.
      // angle ABD (inscribed at B) subtends arc AD: arc AD = 2 * 30 = 60 deg.
      // So arc BA = 60 deg, arc AD = 60 deg. Check: 60 + 60 = 120 deg. Correct!
      //
      // C lies on the 240-deg arc from B to D (the major arc).
      // angle BDC (inscribed at D) subtends arc BC: arc BC = 2 * 30 = 60 deg.
      // angle DBC (inscribed at B) subtends arc DC: arc DC = 2 * 90 = 180 deg.
      // Check: arc BC + arc CD = 60 + 180 = 240 deg. Correct!
      //
      // So going counterclockwise from B:
      //   B at 0 deg
      //   A at 60 deg (arc BA = 60)
      //   D at 120 deg (arc AD = 60 more)
      //   C at 300 deg (arc DC = 180 from D, so D+180 = 300; or B - 60 = 300)
      //
      // Let me place B at the right. Going CCW: B(0), A(60), D(120), C(300).
      // Alternatively for visual clarity, rotate so the shape looks nice.

      const R = 180; // pixel radius
      const degToRad = Math.PI / 180;

      // Angles on the circle (degrees, counterclockwise from right)
      // Rotate everything by -30 deg so the quadrilateral looks balanced
      const rot = -90;
      const angB = (0 + rot) * degToRad;
      const angA = (60 + rot) * degToRad;
      const angD = (120 + rot) * degToRad;
      const angC = (300 + rot) * degToRad;

      // Canvas coordinates (Y down)
      const ptB = { x: cx + R * Math.cos(angB), y: cy - R * Math.sin(angB) };
      const ptA = { x: cx + R * Math.cos(angA), y: cy - R * Math.sin(angA) };
      const ptD = { x: cx + R * Math.cos(angD), y: cy - R * Math.sin(angD) };
      const ptC = { x: cx + R * Math.cos(angC), y: cy - R * Math.sin(angC) };

      // Draw circumscribed circle
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.beginPath();
      ctx.arc(cx, cy, R, 0, 2 * Math.PI);
      ctx.stroke();
      ctx.setLineDash([]);

      // Circle center mark
      ctx.fillStyle = '#334155';
      ctx.beginPath();
      ctx.arc(cx, cy, 3, 0, 2 * Math.PI);
      ctx.fill();

      // Label O at center
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('O', cx + 12, cy + 12);

      // Draw quadrilateral fill
      ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
      ctx.beginPath();
      ctx.moveTo(ptA.x, ptA.y);
      ctx.lineTo(ptB.x, ptB.y);
      ctx.lineTo(ptC.x, ptC.y);
      ctx.lineTo(ptD.x, ptD.y);
      ctx.closePath();
      ctx.fill();

      // Draw quadrilateral edges with glow
      ctx.shadowColor = '#60a5fa';
      ctx.shadowBlur = 6;
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.moveTo(ptA.x, ptA.y);
      ctx.lineTo(ptB.x, ptB.y);
      ctx.lineTo(ptC.x, ptC.y);
      ctx.lineTo(ptD.x, ptD.y);
      ctx.closePath();
      ctx.stroke();
      ctx.shadowBlur = 0;

      // Draw diagonal BD
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.shadowColor = '#f472b6';
      ctx.shadowBlur = 4;
      ctx.beginPath();
      ctx.moveTo(ptB.x, ptB.y);
      ctx.lineTo(ptD.x, ptD.y);
      ctx.stroke();
      ctx.shadowBlur = 0;

      // Draw diagonal AC (dashed, secondary)
      ctx.strokeStyle = 'rgba(167, 139, 250, 0.4)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([5, 5]);
      ctx.beginPath();
      ctx.moveTo(ptA.x, ptA.y);
      ctx.lineTo(ptC.x, ptC.y);
      ctx.stroke();
      ctx.setLineDash([]);

      // Right angle marker at B (BD perpendicular to BC)
      // Direction from B to D and from B to C
      const bdLen = Math.hypot(ptD.x - ptB.x, ptD.y - ptB.y);
      const bcLen = Math.hypot(ptC.x - ptB.x, ptC.y - ptB.y);
      const bdux = (ptD.x - ptB.x) / bdLen;
      const bduy = (ptD.y - ptB.y) / bdLen;
      const bcux = (ptC.x - ptB.x) / bcLen;
      const bcuy = (ptC.y - ptB.y) / bcLen;
      const rSize = 16;

      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(ptB.x + bdux * rSize, ptB.y + bduy * rSize);
      ctx.lineTo(ptB.x + bdux * rSize + bcux * rSize, ptB.y + bduy * rSize + bcuy * rSize);
      ctx.lineTo(ptB.x + bcux * rSize, ptB.y + bcuy * rSize);
      ctx.stroke();

      // Draw angle arcs
      function drawAngleArc(vertex, p1, p2, radius, color, label, labelOffset) {
        const a1 = Math.atan2(p1.y - vertex.y, p1.x - vertex.x);
        const a2 = Math.atan2(p2.y - vertex.y, p2.x - vertex.x);

        // Determine sweep direction (we want the interior angle)
        let start = a1;
        let end = a2;
        let diff = end - start;
        if (diff < 0) diff += 2 * Math.PI;
        let counterclockwise = false;
        if (diff > Math.PI) {
          counterclockwise = true;
        }

        ctx.strokeStyle = color;
        ctx.lineWidth = 1.8;
        ctx.beginPath();
        ctx.arc(vertex.x, vertex.y, radius, start, end, counterclockwise);
        ctx.stroke();

        // Label at midpoint of arc
        let mid = counterclockwise ? start - (2 * Math.PI - diff) / 2 : start + diff / 2;
        const lx = vertex.x + (radius + labelOffset) * Math.cos(mid);
        const ly = vertex.y + (radius + labelOffset) * Math.sin(mid);

        ctx.fillStyle = color;
        ctx.font = '12px "Segoe UI", system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(label, lx, ly);
      }

      // Angle at A (BAD = 120 deg) -- from AB to AD
      drawAngleArc(ptA, ptB, ptD, 28, '#60a5fa', '120\u00B0', 14);

      // Angle at B: show ABD = 30 deg (from BA to BD)
      drawAngleArc(ptB, ptA, ptD, 32, '#a78bfa', '30\u00B0', 14);

      // Angle at C (BCD = 60 deg) -- from CB to CD
      drawAngleArc(ptC, ptB, ptD, 28, '#34d399', '60\u00B0', 14);

      // Angle at D: show ADB = 30 deg (from DA to DB) and BDC = 30 deg (from DB to DC)
      drawAngleArc(ptD, ptA, ptB, 30, '#a78bfa', '30\u00B0', 14);
      drawAngleArc(ptD, ptB, ptC, 22, '#f472b6', '30\u00B0', 14);

      // Vertex labels
      ctx.font = 'bold 18px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';

      // Position labels outside the circle
      const labelOff = 24;
      function labelPt(pt, angle, label, color) {
        const lx = pt.x + labelOff * Math.cos(angle);
        const ly = pt.y + labelOff * Math.sin(angle);
        ctx.fillStyle = color;
        ctx.fillText(label, lx, ly);
      }

      // A - top left
      labelPt(ptA, Math.atan2(ptA.y - cy, ptA.x - cx), 'A', '#60a5fa');
      // B - right
      labelPt(ptB, Math.atan2(ptB.y - cy, ptB.x - cx), 'B', '#f472b6');
      // C - bottom right
      labelPt(ptC, Math.atan2(ptC.y - cy, ptC.x - cx), 'C', '#34d399');
      // D - top
      labelPt(ptD, Math.atan2(ptD.y - cy, ptD.x - cx), 'D', '#a78bfa');

      // Side labels
      ctx.font = '14px "Segoe UI", system-ui, sans-serif';

      function midLabel(p1, p2, offset, label, color) {
        const mx = (p1.x + p2.x) / 2;
        const my = (p1.y + p2.y) / 2;
        // Normal direction for offset
        const dx = p2.x - p1.x;
        const dy = p2.y - p1.y;
        const len = Math.hypot(dx, dy);
        const nx = -dy / len;
        const ny = dx / len;
        ctx.fillStyle = color;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(label, mx + nx * offset, my + ny * offset);
      }

      // AD = 1
      midLabel(ptA, ptD, -16, 'AD = 1', '#e2e8f0');

      // BD diagonal
      midLabel(ptB, ptD, 16, 'BD = \u221A3', '#f472b6');

      // CD = 2
      midLabel(ptC, ptD, -16, 'CD = 2', '#34d399');

      // BC = 1
      midLabel(ptB, ptC, -16, 'BC = 1', '#94a3b8');

      // AB = 1
      midLabel(ptA, ptB, 16, 'AB = 1', '#94a3b8');

      // Right angle indicator text
      ctx.fillStyle = '#4ade80';
      ctx.font = '12px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('BD \u22A5 BC', ptB.x + 24, ptB.y + 30);

      // Title
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Tetivni \u010Detvorougao ABCD upisan u krug', cx, 24);
      ctx.font = '12px "Segoe UI", system-ui, sans-serif';
      ctx.fillText('R = 1 cm (poluprečnik opisanog kruga)', cx, 44);

      // Info panel on the right
      const panelX = W - 240;
      const panelY = 80;
      const panelW = 220;
      const panelH = 240;
      const rad = 12;

      ctx.fillStyle = 'rgba(30, 41, 59, 0.92)';
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(panelX + rad, panelY);
      ctx.lineTo(panelX + panelW - rad, panelY);
      ctx.quadraticCurveTo(panelX + panelW, panelY, panelX + panelW, panelY + rad);
      ctx.lineTo(panelX + panelW, panelY + panelH - rad);
      ctx.quadraticCurveTo(panelX + panelW, panelY + panelH, panelX + panelW - rad, panelY + panelH);
      ctx.lineTo(panelX + rad, panelY + panelH);
      ctx.quadraticCurveTo(panelX, panelY + panelH, panelX, panelY + panelH - rad);
      ctx.lineTo(panelX, panelY + rad);
      ctx.quadraticCurveTo(panelX, panelY, panelX + rad, panelY);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = '#60a5fa';
      ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('Poznate vrednosti:', panelX + 14, panelY + 24);

      ctx.font = '12px "Courier New", monospace';
      const info = [
        { text: '\u2220ABC = 120\u00B0', color: '#e2e8f0' },
        { text: '\u2220BAD = 120\u00B0', color: '#e2e8f0' },
        { text: 'BD \u22A5 BC', color: '#4ade80' },
        { text: '', color: '#94a3b8' },
        { text: 'Izračunato:', color: '#60a5fa' },
        { text: 'BD = \u221A3 cm', color: '#f472b6' },
        { text: 'CD = 2 cm', color: '#34d399' },
        { text: '', color: '#94a3b8' },
        { text: 'BD \u00B7 CD = 2\u221A3 cm\u00B2', color: '#4ade80' },
      ];

      info.forEach((line, i) => {
        if (line.text === '' && line.color === '#60a5fa') {
          ctx.fillStyle = '#60a5fa';
          ctx.font = 'bold 12px "Courier New", monospace';
        } else {
          ctx.font = '12px "Courier New", monospace';
        }
        ctx.fillStyle = line.color;
        ctx.fillText(line.text, panelX + 14, panelY + 50 + i * 20);
      });

      // Bottom info
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Suprotni uglovi: \u2220A + \u2220C = 120\u00B0 + 60\u00B0 = 180\u00B0, \u2220B + \u2220D = 120\u00B0 + 60\u00B0 = 180\u00B0', cx, H - 16);
    }

    drawDiagram();
  })();
  </script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Tetivni četvorougao - proizvod dijagonale i stranice",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["tetivni četvorougao", "sinusna teorema", "upisani uglovi", "ciklični četvorougao", "Ptolemejeva teorema"]
}
BRAINSPARK_META-->