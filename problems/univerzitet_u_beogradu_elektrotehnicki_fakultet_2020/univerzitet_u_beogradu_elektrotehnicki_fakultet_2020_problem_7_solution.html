<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Realni deo proizvoda kompleksnih izraza - kubni koren jedinice</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Find Re[(z - z^2 + 2z^3)(2 - z + z^2)] where z = (-1 + i*sqrt(3))/2.

KEY OBSERVATION: z = (-1 + i*sqrt(3))/2 is a primitive cube root of unity.
This means:
  z^3 = 1
  z^2 + z + 1 = 0  =>  z + z^2 = -1

Also: Re(z) = -1/2, Im(z) = sqrt(3)/2

STEP 1: Simplify the first factor using z^3 = 1
  z - z^2 + 2z^3 = z - z^2 + 2(1) = 2 + z - z^2

STEP 2: The second factor is already simple:
  2 - z + z^2

STEP 3: Multiply (2 + z - z^2)(2 - z + z^2)
  Recognize this as a difference of squares pattern.
  Let u = z - z^2.
  Then: (2 + u)(2 - u) = 4 - u^2

STEP 4: Compute u^2 = (z - z^2)^2
  u^2 = z^2 - 2z^3 + z^4
  Since z^3 = 1: z^4 = z^3 * z = z
  u^2 = z^2 - 2(1) + z = z^2 + z - 2
  Since z^2 + z = -1:
  u^2 = -1 - 2 = -3

STEP 5: Final result
  4 - u^2 = 4 - (-3) = 7
  The expression equals 7 (a real number!).
  So Re(...) = 7.

VERIFICATION with answer options:
(A) 4(1 + Im^2(z)) = 4(1 + (sqrt(3)/2)^2) = 4(1 + 3/4) = 4(7/4) = 7  ✓ MATCHES!
(B) 0  — wrong
(C) 4  — wrong
(D) -1/2  — wrong
(E) -Re(z) + 1 = -(-1/2) + 1 = 1/2 + 1 = 3/2  — wrong

ANSWER: (A) 4(1 + Im^2(z)) = 7

NUMERICAL VERIFICATION (brute force):
z = -0.5 + i*0.866025...
z^2 = (-0.5 + 0.866025i)^2 = 0.25 - 0.866025i + (0.866025i)^2*(-1)...
  Actually z^2 = conjugate of z for cube root of unity on unit circle:
  z^2 = (-1 - i*sqrt(3))/2 = -0.5 - 0.866025i

First factor: 2 + z - z^2
  = 2 + (-0.5 + 0.866025i) - (-0.5 - 0.866025i)
  = 2 - 0.5 + 0.866025i + 0.5 + 0.866025i
  = 2 + 1.73205i

Second factor: 2 - z + z^2
  = 2 - (-0.5 + 0.866025i) + (-0.5 - 0.866025i)
  = 2 + 0.5 - 0.866025i - 0.5 - 0.866025i
  = 2 - 1.73205i

Product: (2 + 1.73205i)(2 - 1.73205i) = 4 + 3 = 7  ✓

This confirms the answer is 7, which equals 4(1 + Im^2(z)).
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.card.problem-statement {
  border: 2px solid #a78bfa;
  font-size: 1.05rem;
}

.card.problem-statement .card-title {
  color: #a78bfa;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 0.75rem;
  margin-top: 1rem;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  text-align: center;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 0.25rem;
  font-weight: 600;
}

.given-item .value {
  font-size: 1rem;
  color: #e2e8f0;
}

.given-item.answer-option {
  transition: border-color 0.2s, background 0.2s;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin: 15px 0;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  overflow-x: auto;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin: 15px 0;
  font-size: 0.95rem;
  color: #a78bfa;
}

.checkpoint-label {
  font-weight: 700;
  margin-right: 0.25rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 0.5rem;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.final-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.final-option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 0.95rem;
}

.final-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 700px) {
  body { padding: 0.5rem; }
  .card, .card.problem-statement, details .detail-content,
  .final-answer, .insight-box, .challenge-box { padding: 1rem; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .final-options { grid-template-columns: 1fr 1fr; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Realni deo proizvoda kompleksnih izraza</h1>
  <p class="subtitle">Primena svojstava kubnih korena jedinice za pojednostavljenje algebarskog izraza</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Zadatak</div>
    <p>Realni deo kompleksnog broja \((z - z^2 + 2z^3)(2 - z + z^2)\), za \(z = \dfrac{-1 + i\sqrt{3}}{2}\), \(i^2 = -1\), jednak je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(4(1 + \text{Im}^2 z)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-\dfrac{1}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(-\text{Re}\,z + 1\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <ol class="plan-list">
      <li>Prepoznati da je \(z\) primitivni kubni koren jedinice i izvesti kljucna svojstva: \(z^3 = 1\) i \(z^2 + z + 1 = 0\)</li>
      <li>Koristiti ta svojstva za pojednostavljenje oba faktora, a zatim primeniti razliku kvadrata na proizvod</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>Podsetnik iz teorije: Kubni koreni jedinice</summary>
    <div class="detail-content">
      <p><strong>Kubni koreni jedinice</strong> su tri resenja jednacine \(z^3 = 1\):</p>
      \[z_0 = 1, \quad z_1 = \frac{-1 + i\sqrt{3}}{2}, \quad z_2 = \frac{-1 - i\sqrt{3}}{2}\]
      <p style="margin-top: 0.75rem;"><strong>Kljucna svojstva primitivnog korena</strong> \(\omega = z_1\):</p>
      <ul style="margin: 0.5rem 0 0.5rem 1.5rem;">
        <li>\(\omega^3 = 1\) &mdash; kubiranje daje jedinicu</li>
        <li>\(\omega^2 + \omega + 1 = 0\) &mdash; suma sva tri korena je nula</li>
        <li>\(\omega^2 = \overline{\omega}\) &mdash; drugi primitivni koren je konjugat prvog</li>
        <li>\(|\omega| = 1\) &mdash; svi koreni leze na jedinicnom krugu</li>
      </ul>
      <p style="margin-top: 0.75rem;"><strong>Razlika kvadrata:</strong></p>
      \[(a + b)(a - b) = a^2 - b^2\]
      <p class="muted" style="margin-top: 0.5rem;">Ovaj identitet koristimo kada prepoznamo konjugovane faktore u proizvodu.</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Kubni koreni jedinice na kompleksnoj ravni</div>
    <p class="muted" style="margin-bottom: 0.75rem;">Tri kubna korena jedinice ravnomerno su rasporedjena na jedinicnom krugu, na medjusobnom ugaonom rastojanju od \(120°\).</p>
    <div class="canvas-wrap">
      <canvas id="complexPlane" width="600" height="600"></canvas>
      <p class="canvas-hint">Tacka \(z\) na jedinicnom krugu pod uglom \(120°\). Prevlacite tacku da vidite kako se menja \(z\).</p>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Prepoznavanje \(z\) kao kubnog korena jedinice</div>
      <p>Dati broj \(z = \dfrac{-1 + i\sqrt{3}}{2}\) mozemo zapisati u trigonometrijskom obliku:</p>
      <div class="math-block">
        \[z = \cos 120° + i\sin 120° = e^{i \cdot 2\pi/3}\]
      </div>
      <p>Ovo je <span class="highlight-pink">primitivni kubni koren jedinice</span>, sto znaci da vaze dva kljucna svojstva:</p>
      <div class="math-block">
        \[z^3 = 1 \qquad \text{i} \qquad z^2 + z + 1 = 0\]
      </div>
      <p class="muted">Drugo svojstvo sledi iz \(z^3 - 1 = 0 \Rightarrow (z-1)(z^2+z+1) = 0\), a posto \(z \neq 1\), mora da je \(z^2 + z + 1 = 0\).</p>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Pojednostavljenje prvog faktora</div>
      <p>U izrazu \(z - z^2 + 2z^3\), koristimo \(z^3 = 1\) da zamenimo poslednji sabirak:</p>
      <div class="math-block">
        \[z - z^2 + 2z^3 = z - z^2 + 2 \cdot 1 = 2 + z - z^2\]
      </div>
      <p>Prvi faktor se svodi na <span class="highlight">\(2 + z - z^2\)</span>.</p>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Pregled drugog faktora</div>
      <p>Drugi faktor vec ima jednostavan oblik:</p>
      <div class="math-block">
        \[2 - z + z^2\]
      </div>
      <p>Primetimo nesto zanimljivo: prvi i drugi faktor se razlikuju samo u <em>znaku ispred \(z\)</em> i <em>znaku ispred \(z^2\)</em>.</p>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Koliko je \(z^3\) za dato \(z\)?</summary>
      <div class="detail-content">
        <p>Posto je \(z\) kubni koren jedinice, vazi \(z^3 = 1\). Mozete to i proveriti direktno: \(\left(\frac{-1+i\sqrt{3}}{2}\right)^3 = 1\).</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Prepoznavanje razlike kvadrata</div>
      <p>Uvedimo smenu \(u = z - z^2\). Tada su nasi faktori:</p>
      <div class="math-block">
        \[\text{Prvi faktor:} \quad 2 + u \qquad \text{Drugi faktor:} \quad 2 - u\]
      </div>
      <p>Njihov proizvod je klasicna <span class="highlight-pink">razlika kvadrata</span>:</p>
      <div class="math-block">
        \[(2 + u)(2 - u) = 4 - u^2\]
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Racunanje \(u^2 = (z - z^2)^2\)</div>
      <p>Kvadriramo \(u = z - z^2\):</p>
      <div class="math-block">
        \[u^2 = (z - z^2)^2 = z^2 - 2z^3 + z^4\]
      </div>
      <p>Koristimo \(z^3 = 1\) da uprostimo:</p>
      <ul style="margin: 0.5rem 0 0.5rem 1.5rem;">
        <li>\(z^3 = 1\), pa \(2z^3 = 2\)</li>
        <li>\(z^4 = z^3 \cdot z = 1 \cdot z = z\)</li>
      </ul>
      <div class="math-block">
        \[u^2 = z^2 - 2 + z = (z^2 + z) - 2\]
      </div>
      <p>Iz svojstva \(z^2 + z + 1 = 0\) sledi \(z^2 + z = -1\), pa:</p>
      <div class="math-block">
        \[u^2 = -1 - 2 = -3\]
      </div>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Koliko je \(z^2 + z\)?</summary>
      <div class="detail-content">
        <p>Iz jednacine \(z^2 + z + 1 = 0\) direktno sledi \(z^2 + z = -1\). Mozete to i numericki proveriti: \(z^2 + z = \frac{-1 - i\sqrt{3}}{2} + \frac{-1 + i\sqrt{3}}{2} = \frac{-2}{2} = -1\). Tacno!</p>
      </div>
    </details>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-title">Korak 6: Izracunavanje konacnog rezultata</div>
      <p>Zamenjujemo \(u^2 = -3\) u izraz iz Koraka 4:</p>
      <div class="math-block">
        \[4 - u^2 = 4 - (-3) = 4 + 3 = 7\]
      </div>
      <p>Dakle, ceo izraz \((z - z^2 + 2z^3)(2 - z + z^2)\) je jednak <span class="highlight">7</span> &mdash; sto je <em>realan broj</em>!</p>
      <p>To znaci da je realni deo jednak \(\text{Re}(\ldots) = 7\).</p>
    </div>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-title">Korak 7: Identifikacija tacnog odgovora</div>
      <p>Trebamo proveriti koji od ponudjenih odgovora daje vrednost 7. Izracunajmo vrednost odgovora (A):</p>
      <div class="math-block">
        \[\text{Im}(z) = \text{Im}\!\left(\frac{-1 + i\sqrt{3}}{2}\right) = \frac{\sqrt{3}}{2}\]
      </div>
      <p>Zamenom u izraz \(4(1 + \text{Im}^2 z)\):</p>
      <div class="math-block">
        \[4\!\left(1 + \left(\frac{\sqrt{3}}{2}\right)^2\right) = 4\!\left(1 + \frac{3}{4}\right) = 4 \cdot \frac{7}{4} = 7\]
      </div>
      <p>Odgovor (A) daje <span class="highlight">tacno 7</span>.</p>
      <p class="muted" style="margin-top: 0.5rem;">Proverimo i ostale: (B) = 0, (C) = 4, (D) = \(-\frac{1}{2}\), (E) = \(-\text{Re}\,z + 1 = \frac{1}{2} + 1 = \frac{3}{2}\). Nijedan ne daje 7.</p>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Zasto je rezultat realan broj, a ne kompleksan?</summary>
      <div class="detail-content">
        <p>Kljuc je u strukturi faktora: \((2 + u)(2 - u)\) gde je \(u = z - z^2\). Posto je \(z^2 = \overline{z}\) (konjugat od \(z\)), imamo \(u = z - \overline{z} = 2i \cdot \text{Im}(z)\), sto je cisto imaginarno. Tada je \(u^2\) realan negativan broj, pa je i \(4 - u^2\) realan. Faktori su medjusobno konjugovani kompleksni brojevi, a proizvod konjugovanih je uvek realan!</p>
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Trik u ovom zadatku je prepoznavanje da je \(z\) kubni koren jedinice. Svojstva \(z^3 = 1\) i \(z^2 + z = -1\) omogucavaju da se polinomijalni izraz visokog stepena svede na elementarnu aritmetiku.</p>
    <p style="margin-top: 0.5rem;">Dodatno, faktori \((2 + u)\) i \((2 - u)\) su konjugovani kompleksni brojevi (jer je \(u\) cisto imaginaran), pa je njihov proizvod garantovano realan:</p>
    \[(2 + u)(2 - u) = |2 + u|^2 = 4 + 3 = 7\]
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konacan odgovor</div>
    <div class="value">(A) \(4(1 + \text{Im}^2 z) = 7\)</div>
    <div class="final-options">
      <div class="final-option correct">(A) \(4(1 + \text{Im}^2 z)\)</div>
      <div class="final-option">(B) \(0\)</div>
      <div class="final-option">(C) \(4\)</div>
      <div class="final-option">(D) \(-\frac{1}{2}\)</div>
      <div class="final-option">(E) \(-\text{Re}\,z + 1\)</div>
    </div>
    <p class="muted" style="margin-top: 1rem; font-size: 0.9rem;"><strong>Verifikacija:</strong> Numericki: \(z \approx -0{,}5 + 0{,}866i\). Prvi faktor: \(2 + z - z^2 = 2 + i\sqrt{3} \approx 2 + 1{,}732i\). Drugi faktor: \(2 - z + z^2 = 2 - i\sqrt{3} \approx 2 - 1{,}732i\). Proizvod: \(2^2 + (\sqrt{3})^2 = 4 + 3 = 7\). Odgovor (A): \(4(1 + 3/4) = 7\). Sve se poklapa.</p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <strong>Direktno racunanje bez prepoznavanja kubnog korena:</strong> Mnogi ucenici pokusavaju da izmnozavaju \(z\), \(z^2\), \(z^3\) direktno kao kompleksne brojeve. Ovo vodi ka dugackim i nepreglednim racunima sa korenima, gde je lako napraviti gresku. Uvek proverite da li dati broj ima posebna algebarska svojstva pre nego sto krenete u "sirovi" racun.
    </div>
    <div class="pitfall">
      <strong>Zaboravljanje da \(z^4 = z\):</strong> Kada koristimo \(z^3 = 1\), sve vise stepene treba redukovati po modulu 3: \(z^4 = z^{3+1} = z\), \(z^5 = z^2\), itd. Greska u redukciji stepena dovodi do pogresnog rezultata za \(u^2\).
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Koliko je \(|z - z^2 + 2z^3|^2 + |2 - z + z^2|^2\) za isto \(z\)?</p>
    <details style="margin: 15px 0; background: transparent; border: 1px solid #34d399;">
      <summary style="color: #34d399;">Savet</summary>
      <div class="detail-content">
        <p>Vec znamo da su faktori \(2 + i\sqrt{3}\) i \(2 - i\sqrt{3}\). Njihovi moduli su jednaki (konjugovani su!), pa je \(|2 + i\sqrt{3}|^2 = 4 + 3 = 7\). Koliko je onda suma dva jednaka modula na kvadrat?</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('complexPlane');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const centerX = W / 2;
  const centerY = H / 2;
  const scale = 180;

  // Cube roots of unity
  const roots = [
    { re: 1, im: 0, label: '1', angle: 0 },
    { re: -0.5, im: Math.sqrt(3)/2, label: 'z', angle: 2*Math.PI/3 },
    { re: -0.5, im: -Math.sqrt(3)/2, label: 'z\u00B2', angle: 4*Math.PI/3 }
  ];

  // Draggable angle (for the highlighted z point)
  let dragAngle = 2 * Math.PI / 3;
  let isDragging = false;

  function toCanvas(re, im) {
    return { x: centerX + re * scale, y: centerY - im * scale };
  }

  function fromCanvas(cx, cy) {
    return { re: (cx - centerX) / scale, im: -(cy - centerY) / scale };
  }

  function draw() {
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -2; i <= 2; i++) {
      // Vertical
      const vx = centerX + i * scale;
      ctx.beginPath();
      ctx.moveTo(vx, 30);
      ctx.lineTo(vx, H - 30);
      ctx.stroke();
      // Horizontal
      const hy = centerY - i * scale;
      ctx.beginPath();
      ctx.moveTo(30, hy);
      ctx.lineTo(W - 30, hy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // Real axis
    ctx.beginPath();
    ctx.moveTo(30, centerY);
    ctx.lineTo(W - 30, centerY);
    ctx.stroke();
    // Imaginary axis
    ctx.beginPath();
    ctx.moveTo(centerX, 30);
    ctx.lineTo(centerX, H - 30);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re', W - 22, centerY - 10);
    ctx.fillText('Im', centerX + 18, 38);

    // Tick labels
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    for (let i = -2; i <= 2; i++) {
      if (i === 0) continue;
      ctx.fillText(i.toString(), centerX + i * scale, centerY + 20);
      ctx.fillText(i.toString(), centerX - 22, centerY - i * scale + 4);
    }
    ctx.fillText('0', centerX - 14, centerY + 18);

    // Unit circle
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.arc(centerX, centerY, scale, 0, 2 * Math.PI);
    ctx.stroke();

    // Unit circle label
    ctx.fillStyle = 'rgba(96, 165, 250, 0.4)';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('|z| = 1', centerX + scale + 8, centerY - 5);

    // Draw triangle connecting the three roots
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.35)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    const p0 = toCanvas(roots[0].re, roots[0].im);
    const p1 = toCanvas(roots[1].re, roots[1].im);
    const p2 = toCanvas(roots[2].re, roots[2].im);
    ctx.moveTo(p0.x, p0.y);
    ctx.lineTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.closePath();
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw angle arc for z (120 degrees)
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(centerX, centerY, scale * 0.25, 0, -2*Math.PI/3, true);
    ctx.stroke();
    ctx.fillStyle = '#f472b6';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('120\u00B0', centerX + 55, centerY - 25);

    // Draw the draggable z point on the unit circle
    const dragRe = Math.cos(dragAngle);
    const dragIm = Math.sin(dragAngle);
    const dragP = toCanvas(dragRe, dragIm);

    // Dashed line from origin to drag point
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(dragP.x, dragP.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Projection lines (Re and Im components)
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 3]);
    // Vertical to real axis
    ctx.beginPath();
    ctx.moveTo(dragP.x, dragP.y);
    ctx.lineTo(dragP.x, centerY);
    ctx.stroke();
    // Horizontal to imaginary axis
    ctx.beginPath();
    ctx.moveTo(dragP.x, dragP.y);
    ctx.lineTo(centerX, dragP.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Re and Im labels on projections
    ctx.fillStyle = '#34d399';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const reLabel = dragRe.toFixed(2).replace('.', ',');
    const imLabel = dragIm.toFixed(2).replace('.', ',');
    ctx.fillText('Re = ' + reLabel, dragP.x, centerY + 35);
    ctx.fillText('Im = ' + imLabel, centerX - 50, dragP.y + 4);

    // Draw static root points
    for (let i = 0; i < roots.length; i++) {
      const r = roots[i];
      const p = toCanvas(r.re, r.im);

      // Glow
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 18);
      if (i === 0) {
        grad.addColorStop(0, 'rgba(148, 163, 184, 0.4)');
      } else if (i === 1) {
        grad.addColorStop(0, 'rgba(96, 165, 250, 0.5)');
      } else {
        grad.addColorStop(0, 'rgba(167, 139, 250, 0.4)');
      }
      grad.addColorStop(1, 'rgba(0, 0, 0, 0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 18, 0, 2 * Math.PI);
      ctx.fill();

      // Point
      ctx.beginPath();
      ctx.arc(p.x, p.y, 7, 0, 2 * Math.PI);
      if (i === 0) {
        ctx.fillStyle = '#94a3b8';
      } else if (i === 1) {
        ctx.fillStyle = '#60a5fa';
      } else {
        ctx.fillStyle = '#a78bfa';
      }
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      if (i === 0) {
        ctx.fillStyle = '#94a3b8';
        ctx.fillText(r.label, p.x + 20, p.y - 15);
      } else if (i === 1) {
        ctx.fillStyle = '#60a5fa';
        ctx.fillText(r.label, p.x - 20, p.y - 15);
        // Coordinates
        ctx.font = '12px Segoe UI, system-ui, sans-serif';
        ctx.fillText('(-\u00BD, \u221A3/2)', p.x - 20, p.y - 32);
      } else {
        ctx.fillStyle = '#a78bfa';
        ctx.fillText(r.label, p.x - 20, p.y + 25);
        ctx.font = '12px Segoe UI, system-ui, sans-serif';
        ctx.fillText('(-\u00BD, -\u221A3/2)', p.x - 20, p.y + 40);
      }
    }

    // Draw result annotation box
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.3)';
    ctx.lineWidth = 1;
    const boxX = W - 215;
    const boxY = 35;
    const boxW = 195;
    const boxH = 75;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Rezultat:', boxX + 12, boxY + 22);
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('(2+z-z\u00B2)(2-z+z\u00B2) = 7', boxX + 12, boxY + 44);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Re(...) = 7', boxX + 12, boxY + 62);
  }

  draw();

  // Dragging
  function getPointerPos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    let clientX, clientY;
    if (e.touches) {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    return {
      x: (clientX - rect.left) * scaleX,
      y: (clientY - rect.top) * scaleY
    };
  }

  function handleStart(e) {
    const pos = getPointerPos(e);
    const dragP = toCanvas(Math.cos(dragAngle), Math.sin(dragAngle));
    const dx = pos.x - dragP.x;
    const dy = pos.y - dragP.y;
    if (dx * dx + dy * dy < 900) {
      isDragging = true;
      e.preventDefault();
    }
  }

  function handleMove(e) {
    if (!isDragging) return;
    e.preventDefault();
    const pos = getPointerPos(e);
    const c = fromCanvas(pos.x, pos.y);
    dragAngle = Math.atan2(c.im, c.re);
    draw();
  }

  function handleEnd() {
    if (isDragging) {
      // Snap back to 120 degrees
      dragAngle = 2 * Math.PI / 3;
      draw();
      isDragging = false;
    }
  }

  canvas.addEventListener('mousedown', handleStart);
  canvas.addEventListener('mousemove', handleMove);
  canvas.addEventListener('mouseup', handleEnd);
  canvas.addEventListener('mouseleave', handleEnd);
  canvas.addEventListener('touchstart', handleStart, { passive: false });
  canvas.addEventListener('touchmove', handleMove, { passive: false });
  canvas.addEventListener('touchend', handleEnd);

  // Make steps clickable
  const stepElements = document.querySelectorAll('.step');
  stepElements.forEach(function(el) {
    el.addEventListener('click', function() {
      stepElements.forEach(function(s) { s.classList.remove('active'); });
      el.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Realni deo proizvoda kompleksnih izraza - kubni koren jedinice","subject":"math","unit":"algebra","topic_tags":["kompleksni brojevi","kubni koreni jedinice","razlika kvadrata","realni deo","algebarski izrazi"]}
BRAINSPARK_META-->