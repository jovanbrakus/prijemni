<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna nejednačina sa smenom</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Skup svih realnih rešenja nejednačine 4^x ≤ 3·2^(√x + x) + 4^(1+√x)
je oblika (za neke realne brojeve a, b, c takve da je −∞ < a < b < c < +∞):

(A) (−∞, a] ∪ [b, +∞)
(B) (a, b]
(C) [a, b]
(D) [a, b] ∪ [c, +∞)
(E) (a, b] ∪ [c, +∞)

DOMAIN: √x zahteva x ≥ 0.

APPROACH:
1. Smena u = √x, u ≥ 0, x = u²
2. Sve baze svesti na bazu 2
3. Podeliti obe strane odgovarajućim stepenom
4. Smena za 2^v → kvadratna nejednačina

STEP 1: Smena u = √x, u ≥ 0, x = u²
  4^x = 4^(u²) = 2^(2u²)
  3·2^(√x + x) = 3·2^(u + u²)
  4^(1+√x) = 4¹·4^u = 4·2^(2u)

Nejednačina: 2^(2u²) ≤ 3·2^(u+u²) + 4·2^(2u)

STEP 2: Delimo sa 2^(2u) > 0:
  2^(2u²-2u) ≤ 3·2^(u²+u-2u) + 4
  2^(2u(u-1)) ≤ 3·2^(u²-u) + 4

STEP 3: Neka v = u² - u = u(u-1). Tada 2u(u-1) = 2v.
  2^(2v) ≤ 3·2^v + 4
  (2^v)² - 3·2^v - 4 ≤ 0

STEP 4: Neka w = 2^v > 0:
  w² - 3w - 4 ≤ 0
  (w - 4)(w + 1) ≤ 0
  -1 ≤ w ≤ 4

Pošto w = 2^v > 0, uslov w ≥ -1 je automatski ispunjen.
Preostaje: w ≤ 4, tj. 2^v ≤ 4 = 2², tj. v ≤ 2.

STEP 5: v ≤ 2 → u² - u ≤ 2 → u² - u - 2 ≤ 0
  (u - 2)(u + 1) ≤ 0 → -1 ≤ u ≤ 2

Pošto u = √x ≥ 0: 0 ≤ u ≤ 2, dakle 0 ≤ √x ≤ 2, tj. 0 ≤ x ≤ 4.

ANSWER: [0, 4] = [a, b], odgovor (C).

VERIFICATION:
- x = 0: 4^0 = 1, 3·2^0 + 4·2^0 = 3 + 4 = 7. 1 ≤ 7 ✓
- x = 4: 4^4 = 256, 3·2^(2+4) + 4·2^4 = 3·64 + 64 = 256. 256 ≤ 256 ✓
- x = 9: 4^9 = 262144, 3·2^(3+9) + 4·2^6 = 3·4096 + 256 = 12544. 262144 ≤ 12544? NE ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

/* Step styling */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

/* Check yourself */
.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

/* Key Insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

/* Final Answer */
.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

/* Challenge */
.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

/* Canvas */
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

.sub-step {
  background: rgba(56,189,248,0.04);
  border: 1px solid rgba(56,189,248,0.1);
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Eksponencijalna nejednačina sa smenom</h1>
  <p class="subtitle">Eksponencijalne nejednačine &mdash; smena promenljive, kvadratna nejednačina</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Skup svih realnih rešenja nejednačine
    </p>
    <div class="math-block">
      \[ 4^x \leq 3 \cdot 2^{\sqrt{x} + x} + 4^{1+\sqrt{x}} \]
    </div>
    <p>
      je oblika (za neke realne brojeve \(a, b, c\) takve da je \(-\infty &lt; a &lt; b &lt; c &lt; +\infty\)):
    </p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">A</div>
        <div class="value">\((-\infty, a] \cup [b, +\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">B</div>
        <div class="value">\((a, b]\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">C</div>
        <div class="value">\([a, b]\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">D</div>
        <div class="value">\([a, b] \cup [c, +\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">E</div>
        <div class="value">\((a, b] \cup [c, +\infty)\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <ol style="padding-left: 20px; color: #cbd5e1;">
      <li><strong>Domen:</strong> odrediti za koja \(x\) je izraz definisan (uslov \(\sqrt{x}\))</li>
      <li><strong>Smena \(u = \sqrt{x}\):</strong> sve izraziti preko \(u\), gde je \(u \geq 0\)</li>
      <li><strong>Svesti na bazu 2:</strong> zapisati \(4^{(\cdots)} = 2^{2(\cdots)}\)</li>
      <li><strong>Podeliti obe strane:</strong> sa \(2^{2u}\) da izolujemo zajedničku strukturu</li>
      <li><strong>Smena \(v = u^2 - u\):</strong> dobijamo oblik \(2^{2v} \leq 3 \cdot 2^v + 4\)</li>
      <li><strong>Kvadratna nejednačina:</strong> smena \(w = 2^v\) vodi do \(w^2 - 3w - 4 \leq 0\)</li>
      <li><strong>Povratak na \(x\):</strong> razmotati sve smene i naći interval</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <h2>Teorijski podsetnik</h2>
    <details>
      <summary>Pravila stepenovanja (baza 2 i 4)</summary>
      <ul>
        <li>\(4^a = (2^2)^a = 2^{2a}\)</li>
        <li>\(2^a \cdot 2^b = 2^{a+b}\)</li>
        <li>\(\frac{2^a}{2^b} = 2^{a-b}\)</li>
        <li>\((2^a)^b = 2^{ab}\)</li>
      </ul>
    </details>
    <details>
      <summary>Eksponencijalne nejednačine i smena</summary>
      <ul>
        <li>Ako je \(2^f(x) \leq 2^g(x)\), tada \(f(x) \leq g(x)\) (baza \(> 1\), funkcija rastuća)</li>
        <li>Kada se pojavi i \(2^{2v}\) i \(2^v\), koristimo smenu \(w = 2^v\), pri čemu je uvek \(w > 0\)</li>
        <li>Uslov \(w > 0\) može eliminisati deo rešenja kvadratne nejednačine</li>
      </ul>
    </details>
    <details>
      <summary>Kvadratna nejednačina \(w^2 - 3w - 4 \leq 0\)</summary>
      <ul>
        <li>Nule: \(w = \frac{3 \pm \sqrt{9+16}}{2} = \frac{3 \pm 5}{2}\), dakle \(w_1 = -1\) i \(w_2 = 4\)</li>
        <li>Parabola sa pozitivnim koeficijentom uz \(w^2\): \(\leq 0\) između nula</li>
        <li>Rešenje: \(-1 \leq w \leq 4\)</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">Grafik funkcije \(f(w) = w^2 - 3w - 4\) i oblast gde je \(f(w) \leq 0\), sa naznačenim domenom \(w > 0\).</p>
    <canvas id="vizCanvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Plava parabola: \(w^2 - 3w - 4\). Zelena zona: rešenja nejednačine. Crvena linija: \(w = 0\) (donja granica za \(w = 2^v\)).</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Domen nejednačine</h3>
        <p>U nejednačini se pojavljuje \(\sqrt{x}\), pa mora važiti:</p>
        <div class="math-block">
          \[ x \geq 0 \]
        </div>
        <p class="note">Ovo je jedini uslov za domen &mdash; sve eksponencijalne funkcije su definisane za svako realno \(x\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Smena \(u = \sqrt{x}\)</h3>
        <p>Uvedimo smenu \(u = \sqrt{x}\), gde je \(u \geq 0\) i \(x = u^2\). Tada:</p>
        <div class="sub-step">
          <p><span class="highlight-blue">Leva strana:</span> \(\;4^x = 4^{u^2} = 2^{2u^2}\)</p>
        </div>
        <div class="sub-step">
          <p><span class="highlight-blue">Desna strana, prvi sabirak:</span> \(\;3 \cdot 2^{\sqrt{x}+x} = 3 \cdot 2^{u+u^2}\)</p>
        </div>
        <div class="sub-step">
          <p><span class="highlight-blue">Desna strana, drugi sabirak:</span> \(\;4^{1+\sqrt{x}} = 4^1 \cdot 4^{u} = 4 \cdot 2^{2u}\)</p>
        </div>
        <p>Nejednačina postaje:</p>
        <div class="math-block">
          \[ 2^{2u^2} \leq 3 \cdot 2^{u + u^2} + 4 \cdot 2^{2u} \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Deljenje sa \(2^{2u}\)</h3>
        <p>Podelimo obe strane sa \(2^{2u} > 0\) (ne menja smer nejednakosti):</p>
        <div class="math-block">
          \[ \frac{2^{2u^2}}{2^{2u}} \leq 3 \cdot \frac{2^{u+u^2}}{2^{2u}} + 4 \cdot \frac{2^{2u}}{2^{2u}} \]
        </div>
        <p>Primenom pravila \(\frac{2^a}{2^b} = 2^{a-b}\):</p>
        <div class="math-block">
          \[ 2^{2u^2 - 2u} \leq 3 \cdot 2^{u^2 - u} + 4 \]
        </div>
        <p class="note">Primetimo: \(2u^2 - 2u = 2(u^2 - u)\) i \(u^2 + u - 2u = u^2 - u\). Oba eksponenta sadrže izraz \(u^2 - u\).</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Smena \(v = u^2 - u\)</h3>
        <p>Neka je \(v = u^2 - u = u(u-1)\). Tada:</p>
        <div class="sub-step">
          <p>\(2u^2 - 2u = 2v\), pa \(2^{2u^2-2u} = 2^{2v} = (2^v)^2\)</p>
        </div>
        <p>Nejednačina postaje:</p>
        <div class="math-block">
          \[ (2^v)^2 \leq 3 \cdot 2^v + 4 \]
        </div>
        <p>Odnosno, prebacivanjem na levu stranu:</p>
        <div class="math-block">
          \[ (2^v)^2 - 3 \cdot 2^v - 4 \leq 0 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Smena \(w = 2^v\) &mdash; kvadratna nejednačina</h3>
        <p>Uvedimo \(w = 2^v\), pri čemu je uvek <span class="highlight-green">\(w > 0\)</span>. Dobijamo:</p>
        <div class="math-block">
          \[ w^2 - 3w - 4 \leq 0 \]
        </div>
        <p>Faktorizacija: nalazimo nule kvadratne jednačine \(w^2 - 3w - 4 = 0\):</p>
        <div class="math-block">
          \[ w = \frac{3 \pm \sqrt{9 + 16}}{2} = \frac{3 \pm 5}{2} \implies w_1 = -1, \quad w_2 = 4 \]
        </div>
        <p>Dakle: \((w + 1)(w - 4) \leq 0\), što važi za \(-1 \leq w \leq 4\).</p>
        <p>Pošto je \(w = 2^v > 0\), uslov \(w \geq -1\) je <strong>automatski ispunjen</strong>. Preostaje samo:</p>
        <div class="math-block">
          \[ w \leq 4 \quad \Longleftrightarrow \quad 2^v \leq 4 = 2^2 \quad \Longleftrightarrow \quad v \leq 2 \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Povratak na \(u\): rešavanje \(u^2 - u \leq 2\)</h3>
        <p>Iz \(v \leq 2\) i \(v = u^2 - u\):</p>
        <div class="math-block">
          \[ u^2 - u \leq 2 \quad \Longleftrightarrow \quad u^2 - u - 2 \leq 0 \]
        </div>
        <p>Faktorizacija:</p>
        <div class="math-block">
          \[ (u - 2)(u + 1) \leq 0 \quad \Longleftrightarrow \quad -1 \leq u \leq 2 \]
        </div>
        <p>Uz uslov \(u = \sqrt{x} \geq 0\), presek daje:</p>
        <div class="math-block">
          \[ 0 \leq u \leq 2 \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" onclick="this.classList.toggle('active')">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Povratak na \(x\): konačno rešenje</h3>
        <p>Iz \(0 \leq u \leq 2\) i \(u = \sqrt{x}\), kvadriranjem (funkcija \(t \mapsto t^2\) je rastuća za \(t \geq 0\)):</p>
        <div class="math-block">
          \[ 0 \leq \sqrt{x} \leq 2 \quad \Longleftrightarrow \quad 0 \leq x \leq 4 \]
        </div>
        <p>Dakle, skup rešenja je <span class="highlight-green">\([0,\, 4]\)</span>, što je oblika \([a,\, b]\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Provera: da li granične tačke zadovoljavaju nejednačinu?</summary>
      <div class="answer">
        <p><strong>\(x = 0\):</strong> Leva strana: \(4^0 = 1\). Desna strana: \(3 \cdot 2^{0+0} + 4 \cdot 2^{0} = 3 + 4 = 7\). Važi: \(1 \leq 7\). &#10003;</p>
        <p style="margin-top: 8px;"><strong>\(x = 4\):</strong> Leva strana: \(4^4 = 256\). Desna strana: \(3 \cdot 2^{2+4} + 4 \cdot 2^{2 \cdot 2} = 3 \cdot 64 + 4 \cdot 16 = 192 + 64 = 256\). Važi: \(256 \leq 256\). &#10003;</p>
        <p style="margin-top: 8px;"><strong>\(x = 9\) (van intervala):</strong> Leva: \(4^9 = 262\,144\). Desna: \(3 \cdot 2^{12} + 4 \cdot 2^6 = 12\,288 + 256 = 12\,544\). Ne važi: \(262\,144 \not\leq 12\,544\). &#10003;</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Ključni uvid</h2>
    <p>Trostruka smena \(u = \sqrt{x}\), \(v = u^2 - u\), \(w = 2^v\) transformiše komplikovanu eksponencijalnu nejednačinu u jednostavnu kvadratnu. Kritičan momenat je prepoznavanje da je \(w = 2^v > 0\) uvek, pa se od dva uslova \(-1 \leq w \leq 4\) jedan <em>automatski</em> ispunjava.</p>
    <div class="big-formula">
      \[ 4^x \leq 3 \cdot 2^{\sqrt{x}+x} + 4^{1+\sqrt{x}} \;\;\xrightarrow{\text{smene}}\;\; w^2 - 3w - 4 \leq 0 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \([0,\, 4]\) &mdash; oblik \([a,\, b]\)
    </div>
    <div class="options-row">
      <div class="option-card" data-option="A">(A)</div>
      <div class="option-card" data-option="B">(B)</div>
      <div class="option-card correct" data-option="C">(C)</div>
      <div class="option-card" data-option="D">(D)</div>
      <div class="option-card" data-option="E">(E)</div>
    </div>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Za \(x = 0\) jednakost \(1 \leq 7\) važi (donja granica pripada skupu, uključena je &mdash; zatvorena zagrada).
      Za \(x = 4\) dobijamo jednakost \(256 = 256\) (gornja granica takođe pripada &mdash; zatvorena zagrada).
      Obe granične tačke su uključene, pa je oblik \([a, b]\), što odgovara opciji <span class="highlight-green">(C)</span>.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Najčešće greške</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Zaboravljen domen:</span>
        Potrebno je \(x \geq 0\) zbog \(\sqrt{x}\). Bez ovog uslova, mogli bismo dobiti lažna negativna rešenja.
      </li>
      <li>
        <span class="pitfall-label">Pogrešna baza:</span>
        Čest propust je zapisati \(4^{1+\sqrt{x}} = 4 \cdot 4^x\) umesto ispravnog \(4 \cdot 4^{\sqrt{x}} = 4 \cdot 2^{2\sqrt{x}}\).
      </li>
      <li>
        <span class="pitfall-label">Ignorisanje uslova \(w > 0\):</span>
        Kvadratna nejednačina daje \(-1 \leq w \leq 4\), ali \(w = 2^v\) je uvek pozitivno. Ako se ovo zaboravi, odgovor je i dalje ispravan u ovom slučaju, ali princip je važan &mdash; u drugim zadacima ovaj uslov može eliminisati deo rešenja.
      </li>
      <li>
        <span class="pitfall-label">Greška pri kvadriranju:</span>
        Kada se vraćamo od \(u\) na \(x\), kvadriranje \(0 \leq u \leq 2\) daje \(0 \leq x \leq 4\), ne \(0 \leq x \leq 2\).
      </li>
      <li>
        <span class="pitfall-label">Otvoren/zatvoren interval:</span>
        Pošto za \(x = 0\) i \(x = 4\) nejednačina važi (sa \(\leq\)), obe granice su uključene &mdash; interval je zatvoren \([0, 4]\), ne otvoren ili poluotvoren.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Šta bi se promenilo da je nejednačina bila <strong>stroga</strong>: \(4^x < 3 \cdot 2^{\sqrt{x}+x} + 4^{1+\sqrt{x}}\)?</p>
    <details>
      <summary>Prikaži odgovor</summary>
      <div style="padding-top: 12px; color: #e2e8f0;">
        <p>Sa strogom nejednačinom, na granicama bi imali:</p>
        <ul style="padding-left: 20px; margin-top: 8px;">
          <li>\(x = 0\): \(1 < 7\) &mdash; važi strogo, tačka je uključena</li>
          <li>\(x = 4\): \(256 < 256\) &mdash; <strong>ne važi</strong>, gornja granica je isključena</li>
        </ul>
        <p style="margin-top: 10px;">Skup rešenja bi bio \([0, 4)\), što je oblika \([a, b)\). Nijedna od ponuđenih opcija ne odgovara tačno ovom obliku, pa bi zadatak bio nekorektan sa strogom nejednačinom.</p>
        <p style="margin-top: 8px;">Ovo pokazuje zašto je preciznost u čitanju znaka nejednačine (\(\leq\) vs. \(<\)) ključna!</p>
      </div>
    </details>
    <p style="margin-top: 16px;">Razmislite i o sledećem: za koje vrednosti \(x\) važi <strong>jednakost</strong> \(4^x = 3 \cdot 2^{\sqrt{x}+x} + 4^{1+\sqrt{x}}\)?</p>
    <details>
      <summary>Prikaži odgovor</summary>
      <div style="padding-top: 12px; color: #e2e8f0;">
        <p>Jednakost važi kada je \(w = 4\), tj. \(2^v = 4\), tj. \(v = 2\), tj. \(u^2 - u = 2\), tj. \(u = 2\) (uz \(u \geq 0\)), tj. <span class="highlight-green">\(x = 4\)</span>.</p>
        <p style="margin-top: 8px;">Proverimo: \(4^4 = 256\) i \(3 \cdot 2^6 + 4 \cdot 2^4 = 192 + 64 = 256\). Tačno!</p>
      </div>
    </details>
  </div>

</div>

<script>
(function() {
  // Canvas: graph of f(w) = w^2 - 3w - 4 with solution region
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system
  const xMin = -3, xMax = 6;
  const yMin = -8, yMax = 12;

  function toCanvasX(x) { return (x - xMin) / (xMax - xMin) * W; }
  function toCanvasY(y) { return H - (y - yMin) / (yMax - yMin) * H; }

  function f(w) { return w * w - 3 * w - 4; }

  // Background
  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // Grid
  ctx.strokeStyle = 'rgba(51,65,85,0.4)';
  ctx.lineWidth = 0.5;
  for (let x = Math.ceil(xMin); x <= xMax; x++) {
    ctx.beginPath();
    ctx.moveTo(toCanvasX(x), 0);
    ctx.lineTo(toCanvasX(x), H);
    ctx.stroke();
  }
  for (let y = Math.ceil(yMin); y <= yMax; y++) {
    ctx.beginPath();
    ctx.moveTo(0, toCanvasY(y));
    ctx.lineTo(W, toCanvasY(y));
    ctx.stroke();
  }

  // Shade solution region: w in (0, 4] where f(w) <= 0
  ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0), toCanvasY(0));
  for (let px = 0; px <= 400; px++) {
    let w = 0 + (4 - 0) * px / 400;
    let y = f(w);
    if (y > 0) y = 0;
    ctx.lineTo(toCanvasX(w), toCanvasY(y));
  }
  ctx.lineTo(toCanvasX(4), toCanvasY(0));
  ctx.closePath();
  ctx.fill();

  // Also shade from -1 to 0 in a different color (valid mathematically but w > 0)
  ctx.fillStyle = 'rgba(244, 114, 182, 0.08)';
  ctx.beginPath();
  ctx.moveTo(toCanvasX(-1), toCanvasY(0));
  for (let px = 0; px <= 100; px++) {
    let w = -1 + (0 - (-1)) * px / 100;
    let y = f(w);
    if (y > 0) y = 0;
    ctx.lineTo(toCanvasX(w), toCanvasY(y));
  }
  ctx.lineTo(toCanvasX(0), toCanvasY(0));
  ctx.closePath();
  ctx.fill();

  // Axes
  ctx.strokeStyle = '#64748b';
  ctx.lineWidth = 1.5;
  // X-axis
  ctx.beginPath();
  ctx.moveTo(0, toCanvasY(0));
  ctx.lineTo(W, toCanvasY(0));
  ctx.stroke();
  // Y-axis
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0), 0);
  ctx.lineTo(toCanvasX(0), H);
  ctx.stroke();

  // w = 0 vertical line (domain boundary)
  ctx.strokeStyle = 'rgba(248, 113, 113, 0.6)';
  ctx.lineWidth = 2;
  ctx.setLineDash([6, 4]);
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0), toCanvasY(yMin));
  ctx.lineTo(toCanvasX(0), toCanvasY(yMax));
  ctx.stroke();
  ctx.setLineDash([]);

  // Parabola f(w) = w^2 - 3w - 4
  ctx.strokeStyle = '#60a5fa';
  ctx.lineWidth = 2.5;
  ctx.beginPath();
  let started = false;
  for (let px = 0; px < W; px++) {
    let w = xMin + (xMax - xMin) * px / W;
    let y = f(w);
    if (y < yMin - 2 || y > yMax + 2) { started = false; continue; }
    if (!started) { ctx.moveTo(px, toCanvasY(y)); started = true; }
    else ctx.lineTo(px, toCanvasY(y));
  }
  ctx.stroke();

  // Mark roots
  function drawDot(wx, wy, color, label, labelOffX, labelOffY) {
    let cx = toCanvasX(wx), cy = toCanvasY(wy);
    ctx.beginPath();
    ctx.arc(cx, cy, 6, 0, 2 * Math.PI);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = color;
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, cx + (labelOffX || 0), cy + (labelOffY || -14));
  }

  drawDot(-1, 0, '#f472b6', 'w = -1', 0, -14);
  drawDot(4, 0, '#4ade80', 'w = 4', 0, -14);

  // Mark vertex
  let vw = 1.5, vy = f(1.5);
  drawDot(vw, vy, '#a78bfa', 'min = -6,25', 0, 18);

  // Labels
  ctx.fillStyle = '#94a3b8';
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  // X-axis labels
  for (let x = Math.ceil(xMin); x <= xMax; x++) {
    if (x === 0) continue;
    ctx.fillText(x.toString(), toCanvasX(x), toCanvasY(0) + 18);
  }
  // Y-axis labels
  ctx.textAlign = 'right';
  for (let y = Math.ceil(yMin); y <= yMax; y += 2) {
    if (y === 0) continue;
    ctx.fillText(y.toString(), toCanvasX(0) - 8, toCanvasY(y) + 4);
  }

  // Legend
  ctx.textAlign = 'left';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';

  // Green region label
  ctx.fillStyle = '#4ade80';
  ctx.fillText('Rešenje: 0 < w \u2264 4', toCanvasX(0.3), toCanvasY(-3));

  // Pink region label
  ctx.fillStyle = '#f472b6';
  ctx.fillText('w < 0 (odbačeno)', toCanvasX(-2.8), toCanvasY(-2));

  // Red line label
  ctx.fillStyle = '#f87171';
  ctx.fillText('w = 2\u1D5B > 0', toCanvasX(0.15), toCanvasY(yMax - 1.2));

  // Function label
  ctx.fillStyle = '#60a5fa';
  ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
  ctx.fillText('f(w) = w\u00B2 - 3w - 4', toCanvasX(3.5), toCanvasY(8));
})();
</script>
</body>
</html>
<!--BRAINSPARK_META {"title":"Eksponencijalna nejednačina sa smenom","subject":"math","unit":"eksponencijalne_jednacine_i_nejednacine","topic_tags":["exponential_inequalities","substitution","quadratic_inequalities","domain_analysis"]} BRAINSPARK_META-->