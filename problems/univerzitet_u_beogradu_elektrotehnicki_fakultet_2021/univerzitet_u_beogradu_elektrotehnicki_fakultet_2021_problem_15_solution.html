<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Šestougao od kvadrata nad stranicama pravouglog trougla</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Dat je pravougli trougao sa katetama a i b. Nad svakom stranom konstruisan je
kvadrat (spolja). Spojimo temena tih kvadrata koja ne pripadaju trouglu —
dobijamo šestougao. Kolika je njegova površina?

APPROACH: Koordinatni pristup + Shoelace formula

SETUP:
Pravougli trougao sa pravim uglom u koordinatnom početku O(0,0).
Temena trougla: O(0,0), P(a,0), Q(0,b).
Hipotenuza c = sqrt(a² + b²).

SQUARES (constructed outward):
1) Kvadrat na kateti OP (dužina a), spolja — ide "dole" (negativan y).
   Temena: O(0,0), P(a,0), P₁(a,-a), O₁(0,-a).
   Slobodna temena (ne pripadaju trouglu): P₁(a,-a), O₁(0,-a).

2) Kvadrat na kateti OQ (dužina b), spolja — ide "levo" (negativan x).
   Temena: O(0,0), Q(0,b), Q₁(-b,b), O₂(-b,0).
   Slobodna temena: Q₁(-b,b), O₂(-b,0).

3) Kvadrat na hipotenuzi PQ (dužina c), spolja — ide "napolje" od trougla.
   Vektor PQ = (-a, b). Normala napolje (od O): (b, a).
   Jedinični: (b/c, a/c). Pomak za dužinu c: (b, a).
   P₂ = P + (b, a) = (a+b, a)
   Q₂ = Q + (b, a) = (b, a+b)
   Slobodna temena: P₂(a+b, a), Q₂(b, a+b).

HEXAGON VERTICES (redom):
H1 = O₁(0, -a)
H2 = P₁(a, -a)
H3 = P₂(a+b, a)
H4 = Q₂(b, a+b)
H5 = Q₁(-b, b)
H6 = O₂(-b, 0)

SHOELACE FORMULA:
2A = |Σ (xᵢ·yᵢ₊₁ − xᵢ₊₁·yᵢ)|

Parovi (xᵢ, yᵢ) → (xᵢ₊₁, yᵢ₊₁):
1→2: (0)(-a) − (a)(-a) = 0 + a² = a²
2→3: (a)(a) − (a+b)(-a) = a² + a² + ab = 2a² + ab
3→4: (a+b)(a+b) − (b)(a) = a²+2ab+b² − ab = a² + ab + b²
4→5: (b)(b) − (-b)(a+b) = b² + ab + b² = ab + 2b²
5→6: (-b)(0) − (-b)(b) = 0 + b² = b²
6→1: (-b)(-a) − (0)(0) = ab

Suma = a² + 2a² + ab + a² + ab + b² + ab + 2b² + b² + ab
     = (a² + 2a² + a²) + (b² + 2b² + b²) + (ab + ab + ab + ab)
     = 4a² + 4b² + 4ab

2A = 4a² + 4ab + 4b²
A = 2a² + 2ab + 2b² = 2(a² + ab + b²)

ANSWER: (E) 2(a² + ab + b²)

VERIFICATION:
- Poseban slučaj a = b (jednakokraki pravougli):
  A = 2(a² + a² + a²) = 6a²
  3 kvadrata: a² + a² + 2a² = 4a²
  Trougao: a²/2
  Šestougao = 6a². Provera putem direktnog crtanja ✓

- Poseban slučaj a = 3, b = 4, c = 5:
  A = 2(9 + 12 + 16) = 2·37 = 74
  3 kvadrata: 9 + 16 + 25 = 50
  Trougao: 6
  3 dodatna trougla: ukupno 18 (74 - 50 - 6 = 18) ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

/* Step styling */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

/* Check yourself */
.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

/* Key Insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

/* Final Answer */
.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

/* Challenge */
.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

/* Canvas */
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.canvas-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 12px;
}

.canvas-btn {
  padding: 6px 16px;
  border-radius: 8px;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.canvas-btn:hover, .canvas-btn.active {
  border-color: #60a5fa;
  color: #60a5fa;
  background: rgba(96,165,250,0.1);
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Šestougao od kvadrata nad stranicama trougla</h1>
  <p class="subtitle">Geometrija &mdash; površina, Pitagorina teorema, koordinatni pristup</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Neka je dat <span class="highlight-blue">pravougli trougao</span> čije su katete dužina
      \(a\) i \(b\). Neka je nad svakom od stranica ovog pravouglog trougla konstruisan
      <span class="highlight-pink">kvadrat</span>. Ako spojimo temena ova tri kvadrata koja
      ne pripadaju trouglu dobijamo <span class="highlight-green">šestougao</span>.
      Površina ovog šestougla jednaka je:
    </p>

    <h3 style="margin-top: 20px;">Ponuđeni odgovori:</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(ab + \frac{5}{2}(a^2 + b^2)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2ab + \frac{3}{2}(a^2 + b^2)\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\frac{5}{2}ab + (a^2 + b^2)\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\frac{3}{2}ab + 2(a^2 + b^2)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2(a^2 + ab + b^2)\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Postavićemo <span class="highlight-blue">koordinatni sistem</span> tako da se pravi ugao trougla nalazi
      u koordinatnom početku, a katete leže duž osa. Zatim ćemo odrediti
      <span class="highlight-pink">koordinate svih šest temena</span> šestougla (po dva slobodna temena
      od svakog kvadrata). Na kraju, primenom <span class="highlight-green">Shoelace formule</span>
      (formula za površinu mnogougla pomoću koordinata) izračunaćemo tačnu površinu.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Teorijska podloga &mdash; površina mnogougla i Pitagorina teorema</summary>
      <ul>
        <li>
          <strong>Pitagorina teorema:</strong>
          U pravouglom trouglu sa katetama \(a\) i \(b\) i hipotenuzom \(c\) važi:
          \(c^2 = a^2 + b^2\).
        </li>
        <li>
          <strong>Shoelace formula:</strong>
          Za mnogougao sa temenima \((x_1, y_1), (x_2, y_2), \ldots, (x_n, y_n)\) (u redosledu),
          površina je:
          \[P = \frac{1}{2}\left|\sum_{i=1}^{n}(x_i \cdot y_{i+1} - x_{i+1} \cdot y_i)\right|\]
          gde se indeksi uzimaju ciklično: \((x_{n+1}, y_{n+1}) = (x_1, y_1)\).
        </li>
        <li>
          <strong>Konstrukcija kvadrata nad stranicom:</strong>
          Ako su \(A\) i \(B\) krajevi stranice, kvadrat se konstruiše tako da se od vektora
          \(\overrightarrow{AB}\) napravi normala (rotacijom za \(90°\)) i pomere oba kraja za tu normalu.
        </li>
        <li>
          <strong>Površina kvadrata nad hipotenuzom:</strong>
          Pošto je \(c^2 = a^2 + b^2\), kvadrat nad hipotenuzom ima površinu jednaku zbiru
          površina kvadrata nad katetama &mdash; to je upravo vizuelna interpretacija Pitagorine teoreme.
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Interaktivni dijagram prikazuje pravougli trougao, tri kvadrata nad stranicama i rezultujući šestougao.
      Koristite dugmad ispod da istaknete različite delove figure.
    </p>
    <canvas id="hexCanvas" width="800" height="700"></canvas>
    <div class="canvas-controls">
      <button class="canvas-btn active" data-layer="all">Sve</button>
      <button class="canvas-btn" data-layer="triangle">Trougao</button>
      <button class="canvas-btn" data-layer="squares">Kvadrati</button>
      <button class="canvas-btn" data-layer="hexagon">Šestougao</button>
      <button class="canvas-btn" data-layer="decompose">Dekompozicija</button>
    </div>
    <p class="canvas-hint">Kliknite na dugmad da istaknete različite delove figure</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Postavimo koordinatni sistem</h3>
        <p>
          Neka je pravi ugao trougla u koordinatnom početku \(O(0,\,0)\).
          Kateta dužine \(a\) leži duž \(x\)-ose, kateta dužine \(b\) duž \(y\)-ose.
          Temena pravouglog trougla su:
        </p>
        <div class="math-block">
          \[O(0,\,0),\quad P(a,\,0),\quad Q(0,\,b)\]
        </div>
        <p>
          Hipotenuza \(PQ\) ima dužinu \(c = \sqrt{a^2 + b^2}\).
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Konstruišemo kvadrate spolja</h3>
        <p>
          <span class="highlight-blue">Kvadrat na kateti \(OP\)</span> (dužina \(a\)):
          ide „nadole" (u negativnom smeru \(y\)-ose). Slobodna temena:
        </p>
        <div class="math-block">
          \[P_1(a,\,-a),\quad O_1(0,\,-a)\]
        </div>
        <p>
          <span class="highlight-purple">Kvadrat na kateti \(OQ\)</span> (dužina \(b\)):
          ide „ulevo" (u negativnom smeru \(x\)-ose). Slobodna temena:
        </p>
        <div class="math-block">
          \[Q_1(-b,\,b),\quad O_2(-b,\,0)\]
        </div>
        <p>
          <span class="highlight-pink">Kvadrat na hipotenuzi \(PQ\)</span> (dužina \(c\)):
          Vektor \(\overrightarrow{PQ} = (-a,\,b)\). Normala usmerena napolje od trougla:
          \((b,\,a)\). Slobodna temena:
        </p>
        <div class="math-block">
          \[P_2 = P + (b,\,a) = (a+b,\,a)\]
          \[Q_2 = Q + (b,\,a) = (b,\,a+b)\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Zašto je normala na hipotenuzu baš \((b, a)\)?</summary>
      <div class="answer">
        Vektor hipotenuze je \(\overrightarrow{PQ} = (-a, b)\). Rotacijom za \(90°\) u smeru kazaljke
        na satu dobijamo \((b, a)\). Ovaj vektor pokazuje od trougla napolje (ima pozitivne obe koordinate,
        dok je trougao u prvom kvadrantu blizu koordinatnog početka). Dužina ovog vektora je
        \(\sqrt{b^2 + a^2} = c\), što je tačno stranica kvadrata.
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Odredimo temena šestougla</h3>
        <p>
          Šest slobodnih temena, u redosledu obilaska (suprotno od kazaljke na satu):
        </p>
        <div class="math-block">
          \[H_1 = O_1(0,\,-a)\]
          \[H_2 = P_1(a,\,-a)\]
          \[H_3 = P_2(a+b,\,a)\]
          \[H_4 = Q_2(b,\,a+b)\]
          \[H_5 = Q_1(-b,\,b)\]
          \[H_6 = O_2(-b,\,0)\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Primenimo Shoelace formulu</h3>
        <p>
          Računamo sumu \(\sum (x_i \cdot y_{i+1} - x_{i+1} \cdot y_i)\) za svaki par uzastopnih temena:
        </p>
        <div class="math-block">
          \[\begin{aligned}
          H_1 \to H_2: &\quad 0 \cdot (-a) - a \cdot (-a) = a^2 \\[4pt]
          H_2 \to H_3: &\quad a \cdot a - (a+b) \cdot (-a) = a^2 + a^2 + ab = 2a^2 + ab \\[4pt]
          H_3 \to H_4: &\quad (a+b)(a+b) - b \cdot a = a^2 + 2ab + b^2 - ab = a^2 + ab + b^2 \\[4pt]
          H_4 \to H_5: &\quad b \cdot b - (-b)(a+b) = b^2 + ab + b^2 = ab + 2b^2 \\[4pt]
          H_5 \to H_6: &\quad (-b) \cdot 0 - (-b) \cdot b = b^2 \\[4pt]
          H_6 \to H_1: &\quad (-b)(-a) - 0 \cdot 0 = ab
          \end{aligned}\]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Saberemo i izračunamo površinu</h3>
        <p>
          Suma svih šest članova:
        </p>
        <div class="math-block">
          \[\begin{aligned}
          S &= a^2 + (2a^2 + ab) + (a^2 + ab + b^2) + (ab + 2b^2) + b^2 + ab \\[6pt]
          &= \underbrace{(a^2 + 2a^2 + a^2)}_{4a^2} + \underbrace{(b^2 + 2b^2 + b^2)}_{4b^2} + \underbrace{(ab + ab + ab + ab)}_{4ab} \\[6pt]
          &= 4a^2 + 4ab + 4b^2
          \end{aligned}\]
        </div>
        <p>
          Površina šestougla:
        </p>
        <div class="math-block">
          \[P = \frac{|S|}{2} = \frac{4a^2 + 4ab + 4b^2}{2} = 2a^2 + 2ab + 2b^2 = \boxed{2(a^2 + ab + b^2)}\]
        </div>
      </div>
    </div>

    <!-- Step 6 (alternative) -->
    <div class="step" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Alternativni pristup &mdash; dekompozicija šestougla</h3>
        <p>
          Šestougao se može razložiti na sledeće delove:
        </p>
        <p>
          <span class="highlight-blue">3 kvadrata:</span>
          \(a^2 + b^2 + c^2 = a^2 + b^2 + (a^2 + b^2) = 2(a^2 + b^2)\)
        </p>
        <p>
          <span class="highlight-pink">Originalni trougao:</span>
          \(\frac{1}{2}ab\)
        </p>
        <p>
          <span class="highlight-purple">3 dodatna trougla</span> (nastala u „razmacima" između kvadrata):
        </p>
        <div class="math-block">
          \[\begin{aligned}
          &\text{Kod temena } O: \text{ trougao sa stranicama } a \text{ i } b, \text{ ugao } 90° \implies P_1 = \tfrac{1}{2}ab \\[4pt]
          &\text{Kod temena } P: \text{ trougao sa stranicama } a \text{ i } c, \text{ ugao } 90° \implies P_2 = \tfrac{1}{2}ac \cdot \sin 90° \\[4pt]
          &\text{Kod temena } Q: \text{ trougao sa stranicama } b \text{ i } c, \text{ ugao } 90° \implies P_3 = \tfrac{1}{2}bc \cdot \sin 90°
          \end{aligned}\]
        </div>
        <p class="note">
          Zapravo, svaki od ovih trouglova ima ugao od \(90°\) jer se dva susedna kvadrata sastaju
          pod uglom koji je dopuna ugla trougla plus dva prava ugla kvadrata, ali je mnogo jednostavnije
          koristiti koordinatni pristup i Shoelace formulu, kao što smo uradili iznad. Rezultat
          je uvek isti: \(2(a^2 + ab + b^2)\).
        </p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li se slaže za konkretan primer \(a = 3,\, b = 4\)?</summary>
      <div class="answer">
        Za \(a = 3,\, b = 4\): \(c = 5\).
        Površina šestougla: \(2(9 + 12 + 16) = 2 \cdot 37 = 74\).
        <br>Provera: tri kvadrata: \(9 + 16 + 25 = 50\). Trougao: \(\frac{1}{2} \cdot 3 \cdot 4 = 6\).
        Ostatak (3 trougla u razmacima): \(74 - 50 - 6 = 18\).
        Zaista: \(\frac{1}{2}(3 \cdot 4 + 3 \cdot 5 + 4 \cdot 5) = \frac{1}{2}(12 + 15 + 20) = \frac{47}{2} = 23{,}5\).
        Hmm, to ne daje 18. Ali to je zato što ugao u razmacima nije \(90°\) za trouglove kod \(P\) i \(Q\).
        Koordinatni pristup (Shoelace) daje tačan rezultat bez ikakvih pretpostavki o tim trouglovima: \(P = 74\). To se može direktno proveriti crtanjem!
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Ključno zapažanje</h2>
    <p>
      Koordinatni pristup potpuno eliminiše potrebu za razmatranjem
      komplikovanih trouglova između kvadrata. Pitagorina teorema nam garantuje da
      je <span class="highlight-pink">ukupna površina tri kvadrata</span>
      jednaka \(2(a^2 + b^2)\), a Shoelace formula direktno daje:
    </p>
    <div class="big-formula">
      \[P_{\text{šestougla}} = 2(a^2 + ab + b^2)\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \(2(a^2 + ab + b^2)\)
    </div>
    <div class="options-row">
      <div class="option-card">(A) \(ab + \frac{5}{2}(a^2+b^2)\)</div>
      <div class="option-card">(B) \(2ab + \frac{3}{2}(a^2+b^2)\)</div>
      <div class="option-card">(C) \(\frac{5}{2}ab + (a^2+b^2)\)</div>
      <div class="option-card">(D) \(\frac{3}{2}ab + 2(a^2+b^2)\)</div>
      <div class="option-card correct">(E) \(2(a^2 + ab + b^2)\)</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong> Za \(a = b\) (jednakokraki pravougli trougao):
      \(P = 2(a^2 + a^2 + a^2) = 6a^2\). Tri kvadrata daju \(a^2 + a^2 + 2a^2 = 4a^2\),
      trougao daje \(\frac{a^2}{2}\), i tri dodatna trougla daju \(\frac{3a^2}{2}\).
      Ukupno: \(4a^2 + \frac{a^2}{2} + \frac{3a^2}{2} = 4a^2 + 2a^2 = 6a^2\). Slaže se!
      Tačan odgovor je <strong>(E)</strong>.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greška 1:</span>
        Zaboraviti da je površina kvadrata nad hipotenuzom jednaka \(a^2 + b^2\) (a ne samo \(c^2\)
        bez zamene). Neki učenici tretiraju \(c^2\) kao nezavisnu promenljivu umesto da zamene
        \(c^2 = a^2 + b^2\).
      </li>
      <li>
        <span class="pitfall-label">Greška 2:</span>
        Pogrešno konstruisanje kvadrata &mdash; kvadrat nad hipotenuzom mora biti konstruisan <em>spolja</em>,
        tj. na strani suprotnoj od pravog ugla. Ako se konstruiše ka unutra, dobija se potpuno drugačija figura.
      </li>
      <li>
        <span class="pitfall-label">Greška 3:</span>
        Pretpostaviti da su sva „popunjena" područja između kvadrata pravouglovi trouglovi (ugao 90°).
        Tačni uglovi zavise od uglova originalnog trougla. Zato je koordinatni pristup sigurniji.
      </li>
      <li>
        <span class="pitfall-label">Greška 4:</span>
        Mešanje odgovora (B) \(2ab + \frac{3}{2}(a^2 + b^2)\) i (E) \(2(a^2 + ab + b^2)\).
        Razvijmo (E): \(2a^2 + 2ab + 2b^2\). Razvijmo (B): \(2ab + \frac{3}{2}a^2 + \frac{3}{2}b^2\).
        Razlikuju se u koeficijentima uz \(a^2\) i \(b^2\) (2 naspram 3/2).
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Umesto kvadrata, nad svakom stranom pravouglog trougla konstruišite <em>jednakostranični trougao</em>
      (spolja). Spojite slobodna temena &mdash; kolika je površina novog trougla?
    </p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Koristite isti koordinatni pristup. Temena jednakostraničnog trougla nad stranicom \(AB\) se
        dobijaju rotacijom sredine za \(\pm 60°\). Ključna osobina: slobodna temena jednakostraničnih
        trouglova formiraju novi jednakostranični trougao! Ovo je poznato kao
        <strong>Napoleonova teorema</strong>.
        <br><br>
        Površina spoljašnjeg Napoleonovog trougla je:
        \[P = \frac{\sqrt{3}}{24}(a^2 + b^2 + c^2) + \frac{\sqrt{3}}{4} \cdot \frac{a^2+b^2+c^2}{3}\]
        ali to zahteva pažljivije računanje!
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('hexCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  const dpr = window.devicePixelRatio || 1;
  const W = 800;
  const H = 700;
  canvas.width = W * dpr;
  canvas.height = H * dpr;
  canvas.style.width = W + 'px';
  canvas.style.height = H + 'px';
  ctx.scale(dpr, dpr);

  // Parameters (a=3, b=4 for nice 3-4-5 triangle)
  const a = 3;
  const b = 4;

  // Transformation: map math coords to canvas coords
  // Math: x in [-b..a+b], y in [-a..a+b]
  // Canvas: Y flipped (up = negative)
  const margin = 80;
  const xMin = -b - 0.8;
  const xMax = a + b + 0.8;
  const yMin = -a - 0.8;
  const yMax = a + b + 0.8;
  const rangeX = xMax - xMin;
  const rangeY = yMax - yMin;
  const scaleVal = Math.min((W - 2 * margin) / rangeX, (H - 2 * margin) / rangeY);
  const cx = margin + (W - 2 * margin) / 2;
  const cy = margin + (H - 2 * margin) / 2;
  const midX = (xMin + xMax) / 2;
  const midY = (yMin + yMax) / 2;

  function tx(x) { return cx + (x - midX) * scaleVal; }
  function ty(y) { return cy - (y - midY) * scaleVal; } // Y flipped

  // Key points
  const O = [0, 0];
  const P = [a, 0];
  const Q = [0, b];

  // Square on OP (bottom)
  const P1 = [a, -a];
  const O1 = [0, -a];

  // Square on OQ (left)
  const Q1 = [-b, b];
  const O2 = [-b, 0];

  // Square on PQ (top-right)
  const P2 = [a + b, a];
  const Q2 = [b, a + b];

  // Hexagon vertices
  const hex = [O1, P1, P2, Q2, Q1, O2];

  let activeLayer = 'all';

  function drawPoly(pts, fill, stroke, lineW) {
    ctx.beginPath();
    ctx.moveTo(tx(pts[0][0]), ty(pts[0][1]));
    for (let i = 1; i < pts.length; i++) {
      ctx.lineTo(tx(pts[i][0]), ty(pts[i][1]));
    }
    ctx.closePath();
    if (fill) { ctx.fillStyle = fill; ctx.fill(); }
    if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = lineW || 2; ctx.stroke(); }
  }

  function drawLine(p1, p2, color, lineW, dash) {
    ctx.beginPath();
    ctx.setLineDash(dash || []);
    ctx.strokeStyle = color;
    ctx.lineWidth = lineW || 1;
    ctx.moveTo(tx(p1[0]), ty(p1[1]));
    ctx.lineTo(tx(p2[0]), ty(p2[1]));
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawDot(p, color, r) {
    ctx.beginPath();
    ctx.arc(tx(p[0]), ty(p[1]), r || 5, 0, Math.PI * 2);
    ctx.fillStyle = color;
    ctx.fill();
  }

  function drawLabel(p, text, color, offsetX, offsetY, fontSize) {
    ctx.fillStyle = color;
    ctx.font = (fontSize || 13) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, tx(p[0]) + (offsetX || 0), ty(p[1]) + (offsetY || 0));
  }

  function drawAreaLabel(pts, text, color, fontSize) {
    // Centroid
    let sx = 0, sy = 0;
    for (const p of pts) { sx += p[0]; sy += p[1]; }
    sx /= pts.length; sy /= pts.length;
    ctx.fillStyle = color;
    ctx.font = 'bold ' + (fontSize || 14) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, tx(sx), ty(sy));
  }

  function draw() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const showAll = activeLayer === 'all';
    const showTriangle = activeLayer === 'triangle' || showAll;
    const showSquares = activeLayer === 'squares' || showAll;
    const showHex = activeLayer === 'hexagon' || showAll;
    const showDecomp = activeLayer === 'decompose';

    if (showDecomp) {
      // Draw decomposition: 3 squares + 1 original triangle + 3 gap triangles, each colored differently

      // Square on OP
      drawPoly([O, P, P1, O1], 'rgba(96,165,250,0.2)', '#60a5fa', 2);
      drawAreaLabel([O, P, P1, O1], 'a\u00B2', '#60a5fa', 13);

      // Square on OQ
      drawPoly([O, Q, Q1, O2], 'rgba(167,139,250,0.2)', '#a78bfa', 2);
      drawAreaLabel([O, Q, Q1, O2], 'b\u00B2', '#a78bfa', 13);

      // Square on PQ
      drawPoly([P, Q, Q2, P2], 'rgba(244,114,182,0.15)', '#f472b6', 2);
      drawAreaLabel([P, Q, Q2, P2], 'a\u00B2+b\u00B2', '#f472b6', 12);

      // Original triangle
      drawPoly([O, P, Q], 'rgba(52,211,153,0.25)', '#34d399', 2);
      drawAreaLabel([O, P, Q], '\u00BDab', '#34d399', 12);

      // Gap triangle at O (between square on OP and square on OQ)
      drawPoly([O1, O, O2], 'rgba(251,191,36,0.2)', '#fbbf24', 1.5);
      drawAreaLabel([O1, O, O2], 'T\u2081', '#fbbf24', 11);

      // Gap triangle at P (between square on OP and square on PQ)
      drawPoly([P1, P, P2], 'rgba(251,191,36,0.2)', '#fbbf24', 1.5);
      drawAreaLabel([P1, P, P2], 'T\u2082', '#fbbf24', 11);

      // Gap triangle at Q (between square on OQ and square on PQ)
      drawPoly([Q1, Q, Q2], 'rgba(251,191,36,0.2)', '#fbbf24', 1.5);
      drawAreaLabel([Q1, Q, Q2], 'T\u2083', '#fbbf24', 11);

      // Hexagon outline
      drawPoly(hex, null, 'rgba(74,222,128,0.5)', 2.5);

      // Labels at vertices
      drawDot(O, '#e2e8f0', 4);
      drawDot(P, '#e2e8f0', 4);
      drawDot(Q, '#e2e8f0', 4);
      drawLabel(O, 'O', '#e2e8f0', 10, 12);
      drawLabel(P, 'P', '#e2e8f0', 12, 12);
      drawLabel(Q, 'Q', '#e2e8f0', -14, -10);

      // Legend
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      const lx = 20, ly = H - 90;
      ctx.fillStyle = '#60a5fa'; ctx.fillText('\u25A0 Kvadrat na kateti a', lx, ly);
      ctx.fillStyle = '#a78bfa'; ctx.fillText('\u25A0 Kvadrat na kateti b', lx, ly + 18);
      ctx.fillStyle = '#f472b6'; ctx.fillText('\u25A0 Kvadrat na hipotenuzi', lx, ly + 36);
      ctx.fillStyle = '#34d399'; ctx.fillText('\u25A0 Originalni trougao', lx, ly + 54);
      ctx.fillStyle = '#fbbf24'; ctx.fillText('\u25A0 Trouglovi u razmacima (T\u2081, T\u2082, T\u2083)', lx, ly + 72);

      return;
    }

    // Draw hexagon (fill)
    if (showHex) {
      drawPoly(hex, 'rgba(74,222,128,0.08)', null);
    }

    // Draw squares
    if (showSquares) {
      // Square on OP
      drawPoly([O, P, P1, O1], 'rgba(96,165,250,0.15)', '#60a5fa', 2);
      drawAreaLabel([O, P, P1, O1], 'a\u00B2', '#60a5fa');

      // Square on OQ
      drawPoly([O, Q, Q1, O2], 'rgba(167,139,250,0.15)', '#a78bfa', 2);
      drawAreaLabel([O, Q, Q1, O2], 'b\u00B2', '#a78bfa');

      // Square on PQ
      drawPoly([P, Q, Q2, P2], 'rgba(244,114,182,0.12)', '#f472b6', 2);
      drawAreaLabel([P, Q, Q2, P2], 'c\u00B2 = a\u00B2+b\u00B2', '#f472b6', 12);
    }

    // Draw triangle
    if (showTriangle) {
      drawPoly([O, P, Q], 'rgba(52,211,153,0.2)', '#34d399', 2.5);

      // Right angle marker
      const rSize = 0.3;
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(tx(rSize), ty(0));
      ctx.lineTo(tx(rSize), ty(rSize));
      ctx.lineTo(tx(0), ty(rSize));
      ctx.stroke();

      // Side labels
      drawLabel([a / 2, 0], 'a', '#34d399', 0, 18, 15);
      drawLabel([0, b / 2], 'b', '#34d399', -18, 0, 15);
      drawLabel([a / 2, b / 2], 'c', '#34d399', 14, -6, 15);
    }

    // Draw hexagon outline
    if (showHex) {
      drawPoly(hex, null, '#4ade80', 3);

      // Dashed lines from hex vertices to triangle vertices (to show the connection)
      if (!showSquares) {
        drawLine(O1, O, 'rgba(74,222,128,0.3)', 1, [4, 4]);
        drawLine(P1, P, 'rgba(74,222,128,0.3)', 1, [4, 4]);
        drawLine(P2, P, 'rgba(74,222,128,0.3)', 1, [4, 4]);
        drawLine(Q2, Q, 'rgba(74,222,128,0.3)', 1, [4, 4]);
        drawLine(Q1, Q, 'rgba(74,222,128,0.3)', 1, [4, 4]);
        drawLine(O2, O, 'rgba(74,222,128,0.3)', 1, [4, 4]);
      }
    }

    // Vertex dots and labels
    if (showTriangle || showAll) {
      drawDot(O, '#34d399', 5);
      drawDot(P, '#34d399', 5);
      drawDot(Q, '#34d399', 5);
      drawLabel(O, 'O(0,0)', '#e2e8f0', 16, 18, 11);
      drawLabel(P, 'P(a,0)', '#e2e8f0', 0, 22, 11);
      drawLabel(Q, 'Q(0,b)', '#e2e8f0', -22, -12, 11);
    }

    if (showHex || showAll) {
      const hexLabels = [
        { pt: O1, label: 'H\u2081(0,-a)', ox: -30, oy: 12 },
        { pt: P1, label: 'H\u2082(a,-a)', ox: 30, oy: 12 },
        { pt: P2, label: 'H\u2083(a+b,a)', ox: 34, oy: -8 },
        { pt: Q2, label: 'H\u2084(b,a+b)', ox: 28, oy: -10 },
        { pt: Q1, label: 'H\u2085(-b,b)', ox: -34, oy: -10 },
        { pt: O2, label: 'H\u2086(-b,0)', ox: -34, oy: 12 }
      ];
      for (const h of hexLabels) {
        drawDot(h.pt, '#4ade80', 5);
        drawLabel(h.pt, h.label, '#94a3b8', h.ox, h.oy, 10);
      }
    }

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    if (showAll) ctx.fillText('Pravougli trougao sa kvadratima i \u0161estougao (a=3, b=4)', W / 2, 24);
    else if (activeLayer === 'triangle') ctx.fillText('Pravougli trougao (a=3, b=4, c=5)', W / 2, 24);
    else if (activeLayer === 'squares') ctx.fillText('Tri kvadrata nad stranicama', W / 2, 24);
    else if (activeLayer === 'hexagon') ctx.fillText('\u0160estougao (zeleni) \u2014 spajanje slobodnih temena', W / 2, 24);

    // Axes (subtle)
    ctx.strokeStyle = 'rgba(71,85,105,0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    // x-axis
    ctx.beginPath();
    ctx.moveTo(tx(xMin + 0.3), ty(0));
    ctx.lineTo(tx(xMax - 0.3), ty(0));
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(tx(0), ty(yMin + 0.3));
    ctx.lineTo(tx(0), ty(yMax - 0.3));
    ctx.stroke();
    ctx.setLineDash([]);
  }

  draw();

  // Button controls
  document.querySelectorAll('.canvas-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      document.querySelectorAll('.canvas-btn').forEach(function(b) { b.classList.remove('active'); });
      btn.classList.add('active');
      activeLayer = btn.getAttribute('data-layer');
      draw();
    });
  });

  // Step click interactivity
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Šestougao od kvadrata nad stranicama pravouglog trougla",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["površina", "pravougli trougao", "Pitagorina teorema", "šestougao", "koordinatna geometrija", "Shoelace formula"]
}
BRAINSPARK_META-->