<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Minimalna duÅ¾ina odseÄka tangente elipse</title>

<script type="text/info" id="logic-scratchpad">
Problem: Minimalna duÅ¾ina odseÄka izmeÄ‘u koordinatnih osa koji formira tangenta
na elipsu xÂ²/aÂ² + yÂ²/bÂ² = 1 (a â‰¥ b > 0) u taÄki u prvom kvadrantu.

Parametrizacija taÄke na elipsi u prvom kvadrantu:
  T = (aÂ·cos t, bÂ·sin t), t âˆˆ (0, Ï€/2)

JednaÄina tangente u toj taÄki:
  (xÂ·cos t)/a + (yÂ·sin t)/b = 1

Preseci sa koordinatnim osama:
  X-presek (y=0): x_A = a/cos t
  Y-presek (x=0): y_B = b/sin t

DuÅ¾ina odseÄka AB:
  L = âˆš(x_AÂ² + y_BÂ²) = âˆš(aÂ²/cosÂ²t + bÂ²/sinÂ²t)

Minimizujemo LÂ² = aÂ²Â·secÂ²t + bÂ²Â·cscÂ²t:
  d(LÂ²)/dt = 2aÂ²Â·secÂ²tÂ·tan t âˆ’ 2bÂ²Â·cscÂ²tÂ·cot t = 0
  aÂ²Â·sin t/cosÂ³t = bÂ²Â·cos t/sinÂ³t
  aÂ²Â·sinâ´t = bÂ²Â·cosâ´t
  tanâ´t = bÂ²/aÂ²
  tanÂ²t = b/a  (uzimamo pozitivan koren jer t âˆˆ (0, Ï€/2))
  tan t = âˆš(b/a)

Iz tanÂ²t = b/a:
  sinÂ²t = tanÂ²t/(1 + tanÂ²t) = (b/a)/(1 + b/a) = b/(a+b)
  cosÂ²t = 1/(1 + tanÂ²t) = a/(a+b)

Zamena u LÂ²:
  secÂ²t = (a+b)/a, cscÂ²t = (a+b)/b
  LÂ² = aÂ²Â·(a+b)/a + bÂ²Â·(a+b)/b = a(a+b) + b(a+b) = (a+b)(a+b) = (a+b)Â²

L_min = a + b

Odgovor: (E) a + b
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 12px;
  margin-top: 8px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 12px;
  padding: 12px 18px;
  text-align: center;
  min-width: 100px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 700;
}

.given-item .unit {
  color: #94a3b8;
  font-size: 0.8rem;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.step {
  position: relative;
  padding-left: 40px;
  margin-bottom: 24px;
}

.step-number {
  position: absolute;
  left: 0;
  top: 0;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #0f172a;
}

.step p {
  margin-bottom: 8px;
}

.insight-box {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer {
  background: rgba(52, 211, 153, 0.1);
  border: 2px solid rgba(52, 211, 153, 0.4);
  border-radius: 16px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer h2 {
  color: #34d399;
  justify-content: center;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 12px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  text-align: center;
  min-width: 90px;
}

.option-card.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.15);
}

.option-card .opt-label {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.option-card .opt-value {
  font-weight: 700;
  font-size: 1.1rem;
  color: #e2e8f0;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.pitfall-box {
  background: rgba(224, 148, 104, 0.08);
  border: 1px solid rgba(224, 148, 104, 0.25);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.pitfall-box h2 {
  color: #e09468;
}

.pitfall-box ul {
  list-style: none;
  padding-left: 0;
}

.pitfall-box li {
  padding: 6px 0 6px 24px;
  position: relative;
  color: #e2e8f0;
}

.pitfall-box li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.challenge-box h2 {
  color: #60a5fa;
}

details {
  margin-bottom: 24px;
}

details summary {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 16px 20px;
  cursor: pointer;
  font-size: 1.05rem;
  color: #e2e8f0;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

details summary::-webkit-details-marker { display: none; }

details[open] summary {
  border-radius: 12px 12px 0 0;
  margin-bottom: 0;
}

details .details-content {
  background: #1e293b;
  border: 1px solid #334155;
  border-top: none;
  border-radius: 0 0 12px 12px;
  padding: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

details .details-content ul {
  list-style: disc;
  padding-left: 20px;
}

details .details-content li {
  margin-bottom: 10px;
  color: #e2e8f0;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 80px; padding: 10px 12px; }
  .step { padding-left: 34px; }
  .final-answer .answer-value { font-size: 1.5rem; }
  .options-row { gap: 6px; }
  .option-card { min-width: 70px; padding: 8px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Minimalna duÅ¾ina odseÄka tangente elipse</h1>
  <p class="subtitle">Optimizacija duÅ¾ine odseÄka koji tangenta elipse odseca na koordinatnim osama</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Minimalna duÅ¾ina odseÄka izmeÄ‘u koordinatnih osa koji formira tangenta, koja dodiruje elipsu
    </p>
    <div class="math-box">
      \[ \frac{x^2}{a^2} + \frac{y^2}{b^2} = 1 \quad (a \geq b > 0) \]
    </div>
    <p>u taÄki koja je u prvom kvadrantu, iznosi:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( \sqrt{2(a^2+b^2)} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( \dfrac{ab}{a+b} \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( \sqrt{a^2+b^2} \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( \dfrac{b(a+b)}{a} \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( a + b \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan reÅ¡avanja</h2>
    <p>
      Parametrizujemo taÄku na elipsi u prvom kvadrantu kao \( (a\cos t,\; b\sin t) \).
      NapisaÄ‡emo jednaÄinu tangente, naÄ‡i preseke sa osama, izraziti duÅ¾inu odseÄka kao funkciju parametra \( t \),
      a zatim minimizovati tu funkciju diferenciranjem. Na kraju, zamenom optimalnog \( t \) dobijamo traÅ¾enu minimalnu duÅ¾inu.
    </p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>ğŸ“ KljuÄne formule i teoreme</summary>
    <div class="details-content">
      <ul>
        <li>
          <strong>Parametrizacija elipse:</strong> TaÄka na elipsi \( \frac{x^2}{a^2} + \frac{y^2}{b^2} = 1 \) u prvom kvadrantu moÅ¾e se zapisati kao
          \( T = (a\cos t,\; b\sin t) \), gde \( t \in (0, \pi/2) \).
        </li>
        <li>
          <strong>Tangenta na elipsu:</strong> Tangenta u taÄki \( (x_0, y_0) \) na elipsi glasi:
          \( \frac{x \cdot x_0}{a^2} + \frac{y \cdot y_0}{b^2} = 1 \).
          Za \( T = (a\cos t,\; b\sin t) \) to daje: \( \frac{x\cos t}{a} + \frac{y\sin t}{b} = 1 \).
        </li>
        <li>
          <strong>Minimizacija:</strong> Za nalaÅ¾enje minimuma glatke funkcije \( L(t) \) na otvorenom intervalu,
          traÅ¾imo taÄke u kojima je \( L'(t) = 0 \) (ili ekvivalentno \( (L^2)'(t) = 0 \), jer je \( L > 0 \)).
        </li>
        <li>
          <strong>Trigonometrijski identiteti:</strong>
          \( \sec^2 t = 1 + \tan^2 t \), \quad \( \csc^2 t = 1 + \cot^2 t \), \quad
          \( \sin^2 t = \frac{\tan^2 t}{1 + \tan^2 t} \), \quad \( \cos^2 t = \frac{1}{1 + \tan^2 t} \).
        </li>
      </ul>
    </div>
  </details>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="ellipseCanvas" height="520"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>ReÅ¡enje korak po korak</h2>

    <div class="step">
      <div class="step-number">1</div>
      <p><strong>Parametrizacija taÄke na elipsi</strong></p>
      <p>TaÄku dodira u prvom kvadrantu parametrizujemo kao:</p>
      <div class="math-box">
        \[ T = (a\cos t,\; b\sin t), \quad t \in \left(0,\; \frac{\pi}{2}\right) \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">2</div>
      <p><strong>JednaÄina tangente</strong></p>
      <p>Tangenta na elipsu u taÄki \( T \) glasi:</p>
      <div class="math-box">
        \[ \frac{x \cos t}{a} + \frac{y \sin t}{b} = 1 \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">3</div>
      <p><strong>Preseci tangente sa koordinatnim osama</strong></p>
      <p>Presek sa \( x \)-osom (\( y = 0 \)):</p>
      <div class="math-box">
        \[ \frac{x\cos t}{a} = 1 \implies x_A = \frac{a}{\cos t} \]
      </div>
      <p>Presek sa \( y \)-osom (\( x = 0 \)):</p>
      <div class="math-box">
        \[ \frac{y\sin t}{b} = 1 \implies y_B = \frac{b}{\sin t} \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">4</div>
      <p><strong>Izraz za duÅ¾inu odseÄka</strong></p>
      <p>DuÅ¾ina odseÄka \( AB \) izmeÄ‘u taÄaka \( A\!\left(\frac{a}{\cos t},\; 0\right) \) i \( B\!\left(0,\; \frac{b}{\sin t}\right) \) je:</p>
      <div class="math-box">
        \[ L(t) = \sqrt{x_A^2 + y_B^2} = \sqrt{\frac{a^2}{\cos^2 t} + \frac{b^2}{\sin^2 t}} \]
      </div>
      <p>Minimizujemo \( L^2(t) = a^2 \sec^2 t + b^2 \csc^2 t \) (poÅ¡to je \( L > 0 \), minimum \( L^2 \) daje minimum \( L \)).</p>
    </div>

    <div class="step">
      <div class="step-number">5</div>
      <p><strong>Diferenciranje i nalaÅ¾enje kritiÄne taÄke</strong></p>
      <p>IzjednaÄavamo izvod sa nulom:</p>
      <div class="math-box">
        \[ \frac{d(L^2)}{dt} = 2a^2 \sec^2 t \cdot \tan t - 2b^2 \csc^2 t \cdot \cot t = 0 \]
      </div>
      <p>Delimo sa 2 i prepisujemo:</p>
      <div class="math-box">
        \[ a^2 \cdot \frac{\sin t}{\cos^3 t} = b^2 \cdot \frac{\cos t}{\sin^3 t} \]
      </div>
      <p>Krstastim mnoÅ¾enjem:</p>
      <div class="math-box">
        \[ a^2 \sin^4 t = b^2 \cos^4 t \implies \tan^4 t = \frac{b^2}{a^2} \]
      </div>
      <p>PoÅ¡to je \( t \in (0, \pi/2) \), uzimamo pozitivan koren:</p>
      <div class="math-box">
        \[ \tan^2 t = \frac{b}{a} \implies \tan t = \sqrt{\frac{b}{a}} \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">6</div>
      <p><strong>IzraÄunavanje \( \sin^2 t \) i \( \cos^2 t \)</strong></p>
      <p>Iz \( \tan^2 t = \dfrac{b}{a} \) sledi:</p>
      <div class="math-box">
        \[ \cos^2 t = \frac{1}{1 + \tan^2 t} = \frac{1}{1 + \frac{b}{a}} = \frac{a}{a + b} \]
      </div>
      <div class="math-box">
        \[ \sin^2 t = \frac{\tan^2 t}{1 + \tan^2 t} = \frac{\frac{b}{a}}{1 + \frac{b}{a}} = \frac{b}{a + b} \]
      </div>
      <p>Odatle:</p>
      <div class="math-box">
        \[ \sec^2 t = \frac{a + b}{a}, \qquad \csc^2 t = \frac{a + b}{b} \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">7</div>
      <p><strong>Zamena u izraz za \( L^2 \)</strong></p>
      <div class="math-box">
        \[ L^2 = a^2 \cdot \frac{a+b}{a} + b^2 \cdot \frac{a+b}{b} = a(a+b) + b(a+b) = (a+b)(a+b) = (a+b)^2 \]
      </div>
      <p>KonaÄno:</p>
      <div class="math-box">
        \[ L_{\min} = \sqrt{(a+b)^2} = \boxed{a + b} \]
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>KljuÄni uvid</h2>
    <p>
      Centralna ideja je da se duÅ¾ina odseÄka tangente izraÅ¾ava preko jednog parametra \( t \), a zatim
      optimizuje. Kada se naÄ‘e optimalno \( \tan^2 t = b/a \), zamena u izraz za \( L^2 \) daje savrÅ¡en
      kvadrat \( (a+b)^2 \). Ovo elegantno reÅ¡enje pokazuje da minimalna duÅ¾ina odseÄka ne zavisi od
      "oblika" elipse na komplikovan naÄin, veÄ‡ je jednostavno zbir poluosa.
    </p>
    <p style="margin-top: 10px;">
      Geometrijski, optimalna taÄka dodira deli elipsu tako da se tangenta "ravnomerno" naslanja na obe ose
      - ne previÅ¡e strmo ni previÅ¡e blago - Å¡to je analogno nejednakosti aritmetiÄke i geometrijske sredine.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>KonaÄan odgovor</h2>
    <div class="answer-value">\( a + b \)</div>
    <p style="color: #94a3b8; margin-bottom: 12px;">TaÄan odgovor je <strong style="color:#4ade80;">(E)</strong></p>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\( \sqrt{2(a^2+b^2)} \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\( \frac{ab}{a+b} \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\( \sqrt{a^2+b^2} \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\( \frac{b(a+b)}{a} \)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(E) âœ“</div>
        <div class="opt-value">\( a + b \)</div>
      </div>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h2>ÄŒeste greÅ¡ke</h2>
    <ul>
      <li>
        <strong>PogreÅ¡no uzimanje korena iz \( \tan^4 t = b^2/a^2 \):</strong> Iz \( \tan^4 t = b^2/a^2 \) sledi
        \( \tan^2 t = b/a \) (a ne \( \tan^2 t = b^2/a^2 \)). ÄŒetvrti koren od \( b^2/a^2 \) je \( \sqrt{b/a} \),
        ne \( b/a \). GreÅ¡ka u ovom koraku dovodi do pogreÅ¡nog minimuma.
      </li>
      <li>
        <strong>Zaborav da se minimizuje \( L^2 \) umesto \( L \):</strong> Direktno diferenciranje \( L(t) \)
        sa korenom je znatno komplikovanije. PoÅ¡to je \( L > 0 \), minimum \( L \) se postiÅ¾e u istoj taÄki kao
        minimum \( L^2 \), pa je rad sa \( L^2 \) efikasniji.
      </li>
      <li>
        <strong>MeÅ¡anje \( a \) i \( b \):</strong> Uslov \( a \geq b > 0 \) znaÄi da je \( a \) duÅ¾a poluosa.
        Rezultat \( a + b \) je, sreÄ‡om, simetriÄan po \( a \) i \( b \), pa zamena ne menja odgovor,
        ali moÅ¾e dovesti do greÅ¡ke u meÄ‘ukoracima.
      </li>
      <li>
        <strong>Provera da je kritiÄna taÄka zaista minimum:</strong> Trebalo bi proveriti da je
        drugi izvod pozitivan ili da \( L^2 \to \infty \) kad \( t \to 0^+ \) i \( t \to (\pi/2)^- \),
        Äime se potvrÄ‘uje da je jedina kritiÄna taÄka globalni minimum.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2>Dodatni izazov</h2>
    <p>
      DokaÅ¾ite isti rezultat koristeÄ‡i nejednakost aritmetiÄke i geometrijske sredine (AM-GM):
      pokaÅ¾ite da za \( L^2 = a^2\sec^2 t + b^2\csc^2 t \) vaÅ¾i \( L^2 \geq (a+b)^2 \),
      i odredite kada se jednakost dostiÅ¾e.
    </p>
    <p style="margin-top: 10px;">
      <em>Savet: Koristite identitete \( \sec^2 t = 1 + \tan^2 t \) i \( \csc^2 t = 1 + \cot^2 t \),
      pa primenite AM-GM na Älanove \( a^2\tan^2 t \) i \( b^2\cot^2 t \).</em>
    </p>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('ellipseCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 520 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 520;

    ctx.clearRect(0, 0, W, H);

    // Parameters for visualization
    const a = 4;
    const b = 2.5;

    // Optimal angle
    const tanOpt = Math.sqrt(b / a);
    const tOpt = Math.atan(tanOpt);
    const cosOpt = Math.cos(tOpt);
    const sinOpt = Math.sin(tOpt);

    // Graph margins
    const marginL = 70;
    const marginR = 40;
    const marginT = 50;
    const marginB = 60;
    const gW = W - marginL - marginR;
    const gH = H - marginT - marginB;

    // Coordinate ranges
    const xMin = -1.0;
    const xMax = 7.5;
    const yMin = -1.0;
    const yMax = 7.0;

    function toScreenX(x) { return marginL + (x - xMin) / (xMax - xMin) * gW; }
    function toScreenY(y) { return marginT + (1 - (y - yMin) / (yMax - yMin)) * gH; }

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Elipsa, tangenta i odseÄak minimalne duÅ¾ine (a = 4, b = 2,5)', W / 2, 25);

    // Grid lines
    ctx.strokeStyle = 'rgba(226, 232, 240, 0.06)';
    ctx.lineWidth = 1;
    for (let y = 0; y <= 7; y += 1) {
      ctx.beginPath();
      ctx.moveTo(marginL, toScreenY(y));
      ctx.lineTo(W - marginR, toScreenY(y));
      ctx.stroke();
    }
    for (let x = 0; x <= 7; x += 1) {
      ctx.beginPath();
      ctx.moveTo(toScreenX(x), marginT);
      ctx.lineTo(toScreenX(x), H - marginB);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = 'rgba(226, 232, 240, 0.4)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(marginL, toScreenY(0));
    ctx.lineTo(W - marginR, toScreenY(0));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toScreenX(0), marginT);
    ctx.lineTo(toScreenX(0), H - marginB);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = 0; x <= 7; x += 1) {
      if (x === 0) continue;
      ctx.fillText(x.toString(), toScreenX(x), toScreenY(0) + 16);
    }
    ctx.textAlign = 'right';
    for (let y = 0; y <= 7; y += 1) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), marginL - 8, toScreenY(y) + 4);
    }
    ctx.textAlign = 'center';
    ctx.fillText('O', toScreenX(0) - 10, toScreenY(0) + 16);

    // Draw ellipse
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    const N = 200;
    for (let i = 0; i <= N; i++) {
      const angle = (2 * Math.PI * i) / N;
      const ex = a * Math.cos(angle);
      const ey = b * Math.sin(angle);
      const sx = toScreenX(ex);
      const sy = toScreenY(ey);
      if (i === 0) ctx.moveTo(sx, sy);
      else ctx.lineTo(sx, sy);
    }
    ctx.closePath();
    ctx.stroke();

    // Fill ellipse lightly
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.fill();

    // Draw a few tangent lines for comparison (non-optimal, in muted style)
    const nonOptAngles = [0.3, 0.6, 1.1, 1.35];
    for (const tn of nonOptAngles) {
      const cosN = Math.cos(tn);
      const sinN = Math.sin(tn);
      const xIntN = a / cosN;
      const yIntN = b / sinN;
      if (xIntN > 0 && xIntN < xMax && yIntN > 0 && yIntN < yMax) {
        ctx.strokeStyle = 'rgba(148, 163, 184, 0.15)';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(toScreenX(xIntN), toScreenY(0));
        ctx.lineTo(toScreenX(0), toScreenY(yIntN));
        ctx.stroke();
      }
    }

    // Optimal tangent line
    const xIntOpt = a / cosOpt;
    const yIntOpt = b / sinOpt;

    // Tangent point
    const Tx = a * cosOpt;
    const Ty = b * sinOpt;

    // Draw the optimal tangent segment (thick, colored)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(toScreenX(xIntOpt), toScreenY(0));
    ctx.lineTo(toScreenX(0), toScreenY(yIntOpt));
    ctx.stroke();

    // Highlight the tangent segment with dashed length indicator
    const midX = xIntOpt / 2;
    const midY = yIntOpt / 2;

    // Length label
    const Lmin = a + b;
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.save();
    const angle = Math.atan2(toScreenY(yIntOpt) - toScreenY(0), toScreenX(0) - toScreenX(xIntOpt));
    ctx.translate(toScreenX(midX), toScreenY(midY));
    ctx.rotate(angle);
    ctx.fillText('L = a + b = ' + Lmin.toFixed(1).replace('.', ','), 0, -12);
    ctx.restore();

    // Draw tangent point T with glow
    const glow = ctx.createRadialGradient(toScreenX(Tx), toScreenY(Ty), 0, toScreenX(Tx), toScreenY(Ty), 18);
    glow.addColorStop(0, 'rgba(167, 139, 250, 0.6)');
    glow.addColorStop(1, 'rgba(167, 139, 250, 0)');
    ctx.fillStyle = glow;
    ctx.beginPath();
    ctx.arc(toScreenX(Tx), toScreenY(Ty), 18, 0, Math.PI * 2);
    ctx.fill();

    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(toScreenX(Tx), toScreenY(Ty), 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Label T
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('T(' + Tx.toFixed(2).replace('.', ',') + '; ' + Ty.toFixed(2).replace('.', ',') + ')', toScreenX(Tx) + 10, toScreenY(Ty) - 8);

    // Draw point A on x-axis
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(toScreenX(xIntOpt), toScreenY(0), 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('A(' + xIntOpt.toFixed(2).replace('.', ',') + '; 0)', toScreenX(xIntOpt), toScreenY(0) + 30);

    // Draw point B on y-axis
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(toScreenX(0), toScreenY(yIntOpt), 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('B(0; ' + yIntOpt.toFixed(2).replace('.', ',') + ')', toScreenX(0) - 10, toScreenY(yIntOpt) + 4);

    // Axis labels at end
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - marginR + 15, toScreenY(0) + 5);
    ctx.fillText('y', toScreenX(0) + 5, marginT - 10);

    // Ellipse label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x\u00B2/16 + y\u00B2/6,25 = 1', toScreenX(a * 0.6) + 5, toScreenY(-b * 0.85));

    // Legend at bottom
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Sive linije: tangente u drugim taÄkama (duÅ¾i odseÄci) | RuÅ¾iÄasta: optimalna tangenta', W / 2, H - 15);

    // Draw right angle marker at origin between segment and axes (optional visual)
    // Not applicable since the segment goes from axis to axis through origin only if a=b

    // Draw a small plot of L(t) in a corner
    const plotL = 180;
    const plotH = 100;
    const plotX0 = W - marginR - plotL - 10;
    const plotY0 = marginT + 10;

    // Background for mini-plot
    ctx.fillStyle = 'rgba(15, 23, 42, 0.85)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(plotX0 - 10, plotY0 - 5, plotL + 20, plotH + 40, 8);
    ctx.fill();
    ctx.stroke();

    // Mini-plot title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('L(t) za t \u2208 (0, \u03C0/2)', plotX0 + plotL / 2, plotY0 + 8);

    // Mini axes
    ctx.strokeStyle = 'rgba(226, 232, 240, 0.3)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(plotX0, plotY0 + plotH + 15);
    ctx.lineTo(plotX0 + plotL, plotY0 + plotH + 15);
    ctx.stroke();

    // Plot L(t) curve
    const Lmin2 = a + b;
    const Lmax = 12;
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    let first = true;
    for (let i = 1; i < 100; i++) {
      const t = (Math.PI / 2) * i / 100;
      const ct = Math.cos(t);
      const st = Math.sin(t);
      const Lval = Math.sqrt((a * a) / (ct * ct) + (b * b) / (st * st));
      const px = plotX0 + (t / (Math.PI / 2)) * plotL;
      const py = plotY0 + plotH + 15 - ((Lval - 3) / (Lmax - 3)) * plotH;
      if (first) { ctx.moveTo(px, py); first = false; }
      else ctx.lineTo(px, py);
    }
    ctx.stroke();

    // Mark minimum
    const pxMin = plotX0 + (tOpt / (Math.PI / 2)) * plotL;
    const pyMin = plotY0 + plotH + 15 - ((Lmin2 - 3) / (Lmax - 3)) * plotH;

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(pxMin, pyMin, 4, 0, Math.PI * 2);
    ctx.fill();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 10px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('min = ' + Lmin2.toFixed(1).replace('.', ','), pxMin, pyMin - 8);

    // Mini axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '9px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('0', plotX0, plotY0 + plotH + 27);
    ctx.fillText('\u03C0/2', plotX0 + plotL, plotY0 + plotH + 27);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Minimalna duÅ¾ina odseÄka tangente elipse",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["elipsa", "tangenta", "optimizacija", "trigonometrija", "analitiÄka_geometrija", "minimizacija"]
}
BRAINSPARK_META-->