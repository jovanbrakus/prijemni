<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brojanje prirodnih brojeva sa razliƒçitim ciframa</title>

<script type="text/info" id="logic-scratchpad">
Problem: Koliko razliƒçitih prirodnih brojeva se mo≈æe napisati pomoƒáu cifara 1, 2, 3, 4, 5
tako da se svaka cifra koristi najvi≈°e jednom?

Analiza: Prirodni brojevi mogu imati 1, 2, 3, 4 ili 5 cifara.
Za svaku du≈æinu k, biramo k cifara od 5 raspolo≈æivih i rasporeƒëujemo ih ‚Äî to je V(5,k) = P(5,k) = 5!/(5-k)!.

Korak 1: Jednocifreni brojevi
  Biramo 1 cifru od 5: V(5,1) = 5!/4! = 5

Korak 2: Dvocifreni brojevi
  Biramo 2 cifre od 5 i rasporeƒëujemo: V(5,2) = 5!/3! = 5 √ó 4 = 20

Korak 3: Trocifreni brojevi
  V(5,3) = 5!/2! = 5 √ó 4 √ó 3 = 60

Korak 4: ƒåetvorocifreni brojevi
  V(5,4) = 5!/1! = 5 √ó 4 √ó 3 √ó 2 = 120

Korak 5: Petocifreni brojevi
  V(5,5) = 5!/0! = 5! = 120

Ukupno: 5 + 20 + 60 + 120 + 120 = 325

Napomena: Po≈°to su sve cifre (1-5) nenula, nema problema sa vodeƒáom nulom.

Odgovor: (A) 325
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 12px;
  margin-top: 8px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 12px;
  padding: 12px 18px;
  text-align: center;
  min-width: 100px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 700;
}

.given-item .unit {
  color: #94a3b8;
  font-size: 0.8rem;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.step {
  position: relative;
  padding-left: 40px;
  margin-bottom: 24px;
}

.step-number {
  position: absolute;
  left: 0;
  top: 0;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #0f172a;
}

.step p {
  margin-bottom: 8px;
}

.insight-box {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer {
  background: rgba(52, 211, 153, 0.1);
  border: 2px solid rgba(52, 211, 153, 0.4);
  border-radius: 16px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer h2 {
  color: #34d399;
  justify-content: center;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 12px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  text-align: center;
  min-width: 90px;
}

.option-card.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.15);
}

.option-card .opt-label {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.option-card .opt-value {
  font-weight: 700;
  font-size: 1.1rem;
  color: #e2e8f0;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.pitfall-box {
  background: rgba(224, 148, 104, 0.08);
  border: 1px solid rgba(224, 148, 104, 0.25);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.pitfall-box h2 {
  color: #e09468;
}

.pitfall-box ul {
  list-style: none;
  padding-left: 0;
}

.pitfall-box li {
  padding: 6px 0 6px 24px;
  position: relative;
  color: #e2e8f0;
}

.pitfall-box li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.challenge-box {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.challenge-box h2 {
  color: #60a5fa;
}

details {
  margin-bottom: 24px;
}

details summary {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 16px 20px;
  cursor: pointer;
  font-size: 1.05rem;
  color: #e2e8f0;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

details summary::-webkit-details-marker { display: none; }

details[open] summary {
  border-radius: 12px 12px 0 0;
  margin-bottom: 0;
}

details .details-content {
  background: #1e293b;
  border: 1px solid #334155;
  border-top: none;
  border-radius: 0 0 12px 12px;
  padding: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

details .details-content ul {
  list-style: disc;
  padding-left: 20px;
}

details .details-content li {
  margin-bottom: 10px;
  color: #e2e8f0;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.table-wrap {
  overflow-x: auto;
  margin: 14px 0;
}

.count-table {
  width: 100%;
  border-collapse: collapse;
  margin: 0 auto;
}

.count-table th,
.count-table td {
  border: 1px solid #334155;
  padding: 10px 14px;
  text-align: center;
}

.count-table th {
  background: rgba(96, 165, 250, 0.15);
  color: #60a5fa;
  font-weight: 700;
}

.count-table td {
  background: rgba(30, 41, 59, 0.6);
}

.count-table tr:last-child td {
  background: rgba(52, 211, 153, 0.12);
  color: #4ade80;
  font-weight: 700;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 80px; padding: 10px 12px; }
  .step { padding-left: 34px; }
  .final-answer .answer-value { font-size: 1.5rem; }
  .options-row { gap: 6px; }
  .option-card { min-width: 70px; padding: 8px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Brojanje prirodnih brojeva sa razliƒçitim ciframa</h1>
  <p class="subtitle">Varijacije bez ponavljanja -- kombinatorika</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Broj razliƒçitih prirodnih brojeva napisanih pomoƒáu cifara
      <span class="highlight">1, 2, 3, 4, 5</span> tako da se svaka cifra koristi
      <span class="highlight-blue">najvi≈°e jednom</span> je:
    </p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Raspolo≈æive cifre</div>
        <div class="value">{1, 2, 3, 4, 5}</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">Svaka cifra najvi≈°e jednom</div>
      </div>
      <div class="given-item">
        <div class="label">Moguƒái brojevi cifara</div>
        <div class="value">1, 2, 3, 4 ili 5</div>
      </div>
    </div>
    <h3>Ponuƒëeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">325</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">120</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">5</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">3125</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">450</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>
      Prirodni brojevi mogu imati od 1 do 5 cifara. Za svaku moguƒáu du≈æinu \( k \) (\( k = 1, 2, 3, 4, 5 \))
      prebrojiƒáemo koliko se razliƒçitih \( k \)-cifrenih brojeva mo≈æe formirati od cifara \(\{1, 2, 3, 4, 5\}\)
      bez ponavljanja. Koristimo <span class="highlight-blue">varijacije bez ponavljanja</span>
      \( V_5^k = \dfrac{5!}{(5-k)!} \). Na kraju sabiramo sve rezultate.
    </p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>üìê Kljuƒçne formule i teoreme</summary>
    <div class="details-content">
      <ul>
        <li>
          <strong>Varijacije bez ponavljanja:</strong> Broj naƒçina da se od \( n \) elemenata odabere i rasporedi
          \( k \) elemenata (bez ponavljanja) je:
          \[ V_n^k = \frac{n!}{(n-k)!} = n \cdot (n-1) \cdot (n-2) \cdots (n-k+1) \]
        </li>
        <li>
          <strong>Permutacije:</strong> Kada je \( k = n \), varijacije se svode na permutacije:
          \( V_n^n = P_n = n! \)
        </li>
        <li>
          <strong>Princip sabiranja:</strong> Ako se dogaƒëaj mo≈æe ostvariti na vi≈°e meƒëusobno iskljuƒçivih naƒçina,
          ukupan broj ishoda jednak je zbiru pojedinaƒçnih.
        </li>
        <li>
          <strong>Vodeƒáa nula:</strong> Po≈°to su sve raspolo≈æive cifre \(\{1, 2, 3, 4, 5\}\) nenulte,
          nema problema sa vodeƒáom nulom -- svaki raspored daje validan prirodni broj.
        </li>
      </ul>
    </div>
  </details>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="countCanvas" height="480"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <div class="step">
      <div class="step-number">1</div>
      <p><strong>Jednocifreni brojevi (\( k = 1 \))</strong></p>
      <p>Za jednocifrene brojeve biramo jednu od 5 cifara:</p>
      <div class="math-box">
        \[ V_5^1 = \frac{5!}{4!} = 5 \]
      </div>
      <p>To su brojevi: <span class="highlight">1, 2, 3, 4, 5</span>.</p>
    </div>

    <div class="step">
      <div class="step-number">2</div>
      <p><strong>Dvocifreni brojevi (\( k = 2 \))</strong></p>
      <p>Prvu cifru biramo na 5 naƒçina, drugu na 4 naƒçina (jer se ne sme ponoviti):</p>
      <div class="math-box">
        \[ V_5^2 = \frac{5!}{3!} = 5 \times 4 = 20 \]
      </div>
      <p>Primeri: <span class="highlight-blue">12, 13, 21, 35, 54, ...</span></p>
    </div>

    <div class="step">
      <div class="step-number">3</div>
      <p><strong>Trocifreni brojevi (\( k = 3 \))</strong></p>
      <p>Tri pozicije popunjavamo redom: 5 izbora, 4 izbora, 3 izbora:</p>
      <div class="math-box">
        \[ V_5^3 = \frac{5!}{2!} = 5 \times 4 \times 3 = 60 \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">4</div>
      <p><strong>ƒåetvorocifreni brojevi (\( k = 4 \))</strong></p>
      <p>ƒåetiri pozicije popunjavamo redom: 5, 4, 3, 2 izbora:</p>
      <div class="math-box">
        \[ V_5^4 = \frac{5!}{1!} = 5 \times 4 \times 3 \times 2 = 120 \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">5</div>
      <p><strong>Petocifreni brojevi (\( k = 5 \))</strong></p>
      <p>Koristimo sve cifre -- to su permutacije 5 elemenata:</p>
      <div class="math-box">
        \[ V_5^5 = 5! = 5 \times 4 \times 3 \times 2 \times 1 = 120 \]
      </div>
    </div>

    <div class="step">
      <div class="step-number">6</div>
      <p><strong>Sabiramo sve sluƒçajeve</strong></p>
      <p>Prema principu sabiranja, ukupan broj razliƒçitih prirodnih brojeva je:</p>
      <div class="math-box">
        \[ \text{Ukupno} = V_5^1 + V_5^2 + V_5^3 + V_5^4 + V_5^5 = 5 + 20 + 60 + 120 + 120 = 325 \]
      </div>

      <div class="table-wrap">
        <table class="count-table">
          <tr>
            <th>Broj cifara \( k \)</th>
            <th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>Ukupno</th>
          </tr>
          <tr>
            <td>Formula</td>
            <td>\( V_5^1 \)</td><td>\( V_5^2 \)</td><td>\( V_5^3 \)</td><td>\( V_5^4 \)</td><td>\( V_5^5 \)</td>
            <td>\( \sum \)</td>
          </tr>
          <tr>
            <td>Vrednost</td>
            <td>5</td><td>20</td><td>60</td><td>120</td><td>120</td>
            <td>325</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>üí° Kljuƒçni uvid</h2>
    <p>
      Postoji elegantna formula za ovaj tip problema. Ukupan broj varijacija svih du≈æina od 1 do \( n \)
      od \( n \) elemenata bez ponavljanja iznosi:
    </p>
    <div class="math-box">
      \[ \sum_{k=1}^{n} V_n^k = \sum_{k=1}^{n} \frac{n!}{(n-k)!} = n! \cdot \sum_{k=1}^{n} \frac{1}{(n-k)!}
       = n! \cdot \sum_{j=0}^{n-1} \frac{1}{j!} \]
    </div>
    <p style="margin-top: 10px;">
      Za \( n = 5 \): \(\displaystyle 5! \cdot \left(\frac{1}{0!} + \frac{1}{1!} + \frac{1}{2!} + \frac{1}{3!} + \frac{1}{4!}\right)
      = 120 \cdot \left(1 + 1 + \frac{1}{2} + \frac{1}{6} + \frac{1}{24}\right)
      = 120 \cdot \frac{65}{24} = 325 \).
    </p>
    <p style="margin-top: 10px;">
      Takoƒëe, po≈°to su sve cifre od 1 do 5 (nema nule), <strong>svaki raspored daje validan prirodni broj</strong>.
      Da je 0 bila meƒëu ciframa, morali bismo oduzeti sluƒçajeve sa vodeƒáom nulom.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konaƒçan odgovor</h2>
    <div class="answer-value">325</div>
    <p style="color: #94a3b8; margin-bottom: 12px;">Taƒçan odgovor je <strong style="color:#4ade80;">(A)</strong></p>
    <div class="options-row">
      <div class="option-card correct">
        <div class="opt-label">(A) ‚úì</div>
        <div class="opt-value">325</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div class="opt-value">120</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div class="opt-value">5</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div class="opt-value">3125</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div class="opt-value">450</div>
      </div>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h2>ƒåeste gre≈°ke</h2>
    <ul>
      <li>
        <strong>Samo permutacije (odgovor B = 120):</strong> Ako se raƒçuna samo \( 5! = 120 \),
        prebrojani su samo petocifreni brojevi. Zadatak tra≈æi <em>sve</em> prirodne brojeve,
        ukljuƒçujuƒái jednocifrene, dvocifrene, trocifrene i ƒçetvorocifrene.
      </li>
      <li>
        <strong>Samo jednocifreni (odgovor C = 5):</strong> Prebrojavanje samo cifara zanemaruje
        sve vi≈°ecifrene kombinacije.
      </li>
      <li>
        <strong>Sa ponavljanjem (odgovor D = 3125):</strong> Ako se dozvoli ponavljanje cifara,
        dobija se \( 5^5 = 3125 \) petocifrenih brojeva, ali to ne odgovara uslovu zadatka
        (svaka cifra najvi≈°e jednom). Takoƒëe bi trebalo dodati \(5^1 + 5^2 + 5^3 + 5^4\) za ostale du≈æine.
      </li>
      <li>
        <strong>Pogre≈°no sabiranje:</strong> Odgovor (E) = 450 ne odgovara nijednoj ispravnoj
        kombinatoriƒçkoj formuli za ovaj problem -- mo≈æda gre≈°ka u aritmetici.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2>Dodatni izazov üöÄ</h2>
    <p>
      Koliko razliƒçitih prirodnih brojeva se mo≈æe napisati pomoƒáu cifara
      \(\{0, 1, 2, 3, 4, 5\}\) tako da se svaka cifra koristi najvi≈°e jednom?
      <em>(Savet: sada postoji cifra 0, pa morate voditi raƒçuna o vodeƒáoj nuli!
      Za \(k\)-cifreni broj, prva cifra ne sme biti 0.)</em>
    </p>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('countCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 480 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 480;

    ctx.clearRect(0, 0, W, H);

    // Data
    const counts = [5, 20, 60, 120, 120];
    const labels = ['1-cifr.', '2-cifr.', '3-cifr.', '4-cifr.', '5-cifr.'];
    const formulas = ['V(5,1)', 'V(5,2)', 'V(5,3)', 'V(5,4)', 'V(5,5)'];
    const colors = ['#60a5fa', '#818cf8', '#a78bfa', '#c084fc', '#e879f9'];
    const maxCount = 140;

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Broj prirodnih brojeva po du≈æini', W / 2, 30);

    // Bar chart area
    const barAreaTop = 60;
    const barAreaBottom = H - 100;
    const barAreaHeight = barAreaBottom - barAreaTop;

    const barCount = 5;
    const totalBarWidth = Math.min(W - 80, 550);
    const barSpacing = totalBarWidth / barCount;
    const barWidth = barSpacing * 0.55;
    const startX = (W - totalBarWidth) / 2 + barSpacing / 2;

    for (let i = 0; i < barCount; i++) {
      const x = startX + i * barSpacing;
      const barH = (counts[i] / maxCount) * barAreaHeight;
      const y = barAreaBottom - barH;

      // Shadow
      ctx.fillStyle = 'rgba(0,0,0,0.3)';
      ctx.beginPath();
      ctx.roundRect(x - barWidth / 2 + 3, y + 3, barWidth, barH, [8, 8, 0, 0]);
      ctx.fill();

      // Bar gradient
      const grad = ctx.createLinearGradient(x, y, x, barAreaBottom);
      grad.addColorStop(0, colors[i]);
      grad.addColorStop(1, colors[i] + '50');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.roundRect(x - barWidth / 2, y, barWidth, barH, [8, 8, 0, 0]);
      ctx.fill();

      // Count value on top
      ctx.fillStyle = colors[i];
      ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(counts[i].toString(), x, y - 14);

      // Formula label
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText(formulas[i], x, y - 34);

      // Labels below
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(labels[i], x, barAreaBottom + 20);
    }

    // Dashed accumulation line
    ctx.strokeStyle = 'rgba(226, 232, 240, 0.15)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 6]);

    for (const val of [20, 60, 120]) {
      const lineY = barAreaBottom - (val / maxCount) * barAreaHeight;
      ctx.beginPath();
      ctx.moveTo(startX - barSpacing / 2, lineY);
      ctx.lineTo(startX + (barCount - 0.5) * barSpacing, lineY);
      ctx.stroke();

      ctx.fillStyle = 'rgba(148, 163, 184, 0.5)';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(val.toString(), startX - barSpacing / 2 - 6, lineY + 4);
    }
    ctx.setLineDash([]);

    // Summary line at bottom
    const sumY = barAreaBottom + 50;
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Ukupno: 5 + 20 + 60 + 120 + 120 = ', W / 2 - 30, sumY);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('325', W / 2 + 140, sumY);

    // Cumulative area on top: small cumulative dots connected
    const cumulative = [5, 25, 85, 205, 325];
    const cumMax = 360;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    for (let i = 0; i < barCount; i++) {
      const x = startX + i * barSpacing;
      const cy = barAreaBottom - (cumulative[i] / cumMax) * barAreaHeight;
      if (i === 0) ctx.moveTo(x, cy);
      else ctx.lineTo(x, cy);
    }
    ctx.stroke();

    // Dots
    for (let i = 0; i < barCount; i++) {
      const x = startX + i * barSpacing;
      const cy = barAreaBottom - (cumulative[i] / cumMax) * barAreaHeight;

      ctx.fillStyle = '#0f172a';
      ctx.beginPath();
      ctx.arc(x, cy, 6, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#34d399';
      ctx.beginPath();
      ctx.arc(x, cy, 4, 0, Math.PI * 2);
      ctx.fill();

      // Cumulative label
      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      const offset = (i < 4) ? -10 : -10;
      ctx.fillText('Œ£=' + cumulative[i], x + (i < 3 ? 28 : -28), cy + offset);
    }

    // Legend
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    const legX = startX - barSpacing / 2 + 10;
    const legY = sumY + 25;

    ctx.fillStyle = '#818cf8';
    ctx.fillRect(legX, legY - 8, 12, 12);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Broj k-cifrenih brojeva', legX + 18, legY + 2);

    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(legX + 180, legY - 2, 4, 0, Math.PI * 2);
    ctx.fill();
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(legX + 168, legY - 2);
    ctx.lineTo(legX + 192, legY - 2);
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Kumulativni zbir', legX + 198, legY + 2);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Brojanje prirodnih brojeva sa razliƒçitim ciframa",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["kombinatorika", "varijacije_bez_ponavljanja", "princip_sabiranja", "permutacije", "prebrojavanje"]
}
BRAINSPARK_META-->