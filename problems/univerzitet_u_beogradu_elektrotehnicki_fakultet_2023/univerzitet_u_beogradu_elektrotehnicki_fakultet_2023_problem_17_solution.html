<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna nejednacina sa smenom</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Naci skup svih realnih resenja nejednacine
  1/(4^(sqrt(x-1)-1)) - 5/(2^(sqrt(x-1))) + 1 >= 0

Domain: x - 1 >= 0 => x >= 1, so sqrt(x-1) >= 0.

Step 1: Let t = 2^(sqrt(x-1)), where t > 0. Since sqrt(x-1) >= 0, we have t >= 2^0 = 1.

Step 2: Rewrite 4^(sqrt(x-1)-1):
  4^(sqrt(x-1)-1) = 4^(sqrt(x-1)) / 4^1 = (2^2)^(sqrt(x-1)) / 4 = (2^(sqrt(x-1)))^2 / 4 = t^2 / 4

Step 3: Substitute into the inequality:
  1/(t^2/4) - 5/t + 1 >= 0
  4/t^2 - 5/t + 1 >= 0

Step 4: Let u = 1/t where 0 < u <= 1 (since t >= 1):
  4u^2 - 5u + 1 >= 0

Step 5: Factor:
  Discriminant = 25 - 16 = 9
  u = (5 +/- 3) / 8 => u = 1 or u = 1/4
  So: 4u^2 - 5u + 1 = (4u - 1)(u - 1) >= 0

Step 6: Sign analysis:
  (4u - 1)(u - 1) >= 0 when:
  - Both factors >= 0: u >= 1/4 AND u >= 1 => u >= 1
  - Both factors <= 0: u <= 1/4 AND u <= 1 => u <= 1/4
  So: u <= 1/4 OR u >= 1

Step 7: Apply constraint 0 < u <= 1:
  Case 1: u <= 1/4 (and u > 0) => 0 < u <= 1/4
    1/t <= 1/4 => t >= 4
    2^(sqrt(x-1)) >= 4 = 2^2
    sqrt(x-1) >= 2
    x - 1 >= 4
    x >= 5
    So x in [5, +inf)

  Case 2: u >= 1 (and u <= 1) => u = 1
    1/t = 1 => t = 1
    2^(sqrt(x-1)) = 1 = 2^0
    sqrt(x-1) = 0
    x - 1 = 0
    x = 1

Step 8: Solution set = {1} union [5, +inf)
  This is of the form {a} union [b, +inf) with a = 1, b = 5.

Answer: (C) {a} union [b, +inf) with a = 1, b = 5.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
  font-size: 1.1rem;
}

.problem-statement .problem-text {
  margin-bottom: 20px;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
}

.answer-option {
  cursor: default;
  transition: transform 0.15s;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  overflow-x: auto;
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  color: #fff;
  font-weight: 700;
  font-size: 0.95rem;
  margin-right: 10px;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.step-explanation {
  color: #cbd5e1;
  margin-bottom: 12px;
}

details {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 12px 16px;
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.insight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-left: 4px solid #60a5fa;
  border-radius: 12px;
  padding: 20px 24px;
  margin: 24px 0;
}

.insight-box .insight-title {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.15rem;
  margin-bottom: 8px;
}

.final-answer-card {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin: 28px 0;
}

.final-answer-card .label {
  color: #34d399;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 10px;
}

.final-answer-card .answer {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin-bottom: 16px;
}

.final-options {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 16px;
}

.final-option {
  padding: 8px 20px;
  border-radius: 10px;
  font-size: 1.05rem;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
}

.pitfall-item {
  background: rgba(244, 114, 182, 0.08);
  border-left: 3px solid #f472b6;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  color: #fbb6ce;
}

.pitfall-title {
  color: #f472b6;
  font-weight: 600;
  margin-bottom: 4px;
}

canvas {
  width: 100%;
  border-radius: 12px;
  touch-action: none;
  display: block;
  margin: 0 auto;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

.arrow {
  color: #60a5fa;
  margin: 0 4px;
}

.checkpoint {
  background: rgba(52, 211, 153, 0.1);
  border: 1px solid rgba(52, 211, 153, 0.25);
  border-radius: 8px;
  padding: 10px 16px;
  margin: 10px 0;
  color: #34d399;
  font-size: 0.95rem;
}

.number-line-label {
  fill: #94a3b8;
  font-size: 13px;
  font-family: 'Segoe UI', system-ui, sans-serif;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .container { padding: 10px; }
  .given-grid { grid-template-columns: 1fr; }
  .final-answer-card .answer { font-size: 1.7rem; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Eksponencijalna nejednacina sa smenom</h1>
  <p class="subtitle">Resavanje nejednacine pomocu dvostruke smene i analize znaka</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128221;</span> Tekst zadatka</div>
    <div class="problem-text">
      Skup svih realnih resenja nejednacine
      <div class="math-box">
        \[ \frac{1}{4^{\sqrt{x-1}\,-\,1}} \;-\; \frac{5}{2^{\sqrt{x-1}}} \;+\; 1 \;\geq\; 0 \]
      </div>
      je oblika (za neke \(a, b \in \mathbb{R}\), takve da je \(a &lt; b\)):
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">(A) \([a, +\infty)\)</div>
      <div class="given-item answer-option" data-option="B">(B) \((-\infty, a] \cup \{b\}\)</div>
      <div class="given-item answer-option" data-option="C">(C) \(\{a\} \cup [b, +\infty)\)</div>
      <div class="given-item answer-option" data-option="D">(D) \([a, b)\)</div>
      <div class="given-item answer-option" data-option="E">(E) \(\{a, b\}\)</div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      Uvodimo smenu \(t = 2^{\sqrt{x-1}}\) da bismo eksponencijalnu nejednacinu sveli na algebarsku.
      Zatim koristimo smenu \(u = \frac{1}{t}\) da dobijemo kvadratnu nejednacinu.
      Na kraju, analiziramo znak kvadratnog trinoma i vracamo se na promenljivu \(x\).
    </p>
    <p class="plan-text" style="margin-top: 8px;">
      <span class="arrow">&#8226;</span> Domen <span class="arrow">&#8594;</span>
      Smena \(t\) <span class="arrow">&#8594;</span>
      Smena \(u\) <span class="arrow">&#8594;</span>
      Faktorizacija <span class="arrow">&#8594;</span>
      Analiza znaka <span class="arrow">&#8594;</span>
      Povratak na \(x\)
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsecanje na teoriju</div>
    <details>
      <summary>Svojstva eksponencijalne funkcije</summary>
      <div class="math-box">
        \[ 4^a = (2^2)^a = 2^{2a} = (2^a)^2 \]
      </div>
      <p>Osnova 4 se moze zapisati preko osnove 2, sto nam omogucava zajednicku smenu.</p>
    </details>
    <details style="margin-top: 10px;">
      <summary>Analiza znaka proizvoda dva linearna izraza</summary>
      <div class="math-box">
        \[ (ax + b)(cx + d) \geq 0 \]
      </div>
      <p>Proizvod dva izraza je nenegativan kada su oba nenegativna ili su oba nepozitivna. Na brojevnoj pravoj se znak menja pri prelasku preko nula-tacaka.</p>
    </details>
    <details style="margin-top: 10px;">
      <summary>Svojstva korena i eksponencijale</summary>
      <div class="math-box">
        \[ 2^a \geq 2^b \;\Leftrightarrow\; a \geq b \quad \text{(jer je osnova } 2 > 1\text{)} \]
      </div>
      <p>Eksponencijalna funkcija sa osnovom vecom od 1 je strogo rastuca, pa cuva smer nejednacine.</p>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz resenja</div>
    <canvas id="solutionCanvas" width="900" height="520"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">1</span> Odredi domen</div>
      <p class="step-explanation">
        Izraz \(\sqrt{x - 1}\) zahteva da je podkorenski izraz nenegativan:
      </p>
      <div class="math-box">
        \[ x - 1 \geq 0 \;\;\Rightarrow\;\; x \geq 1 \]
      </div>
      <p class="step-explanation">
        Takodje, imenilac \(4^{\sqrt{x-1}-1}\) je uvek pozitivan (eksponencijalna funkcija je uvek pozitivna), pa nema dodatnih ogranicenja. Domen je \([1, +\infty)\).
      </p>
    </div>

    <!-- Step 2 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">2</span> Uvedi smenu \(t = 2^{\sqrt{x-1}}\)</div>
      <p class="step-explanation">
        Posto je \(\sqrt{x - 1} \geq 0\), sledi da je \(t = 2^{\sqrt{x-1}} \geq 2^0 = 1\), tj. \(t \geq 1\).
      </p>
      <p class="step-explanation">
        Sada izrazimo \(4^{\sqrt{x-1}-1}\) preko \(t\):
      </p>
      <div class="math-box">
        \[ 4^{\sqrt{x-1}-1} = \frac{4^{\sqrt{x-1}}}{4^1} = \frac{(2^2)^{\sqrt{x-1}}}{4} = \frac{\left(2^{\sqrt{x-1}}\right)^2}{4} = \frac{t^2}{4} \]
      </div>
      <p class="step-explanation">
        Zamenom u polaznu nejednacinu:
      </p>
      <div class="math-box">
        \[ \frac{1}{\frac{t^2}{4}} - \frac{5}{t} + 1 \geq 0 \;\;\Rightarrow\;\; \frac{4}{t^2} - \frac{5}{t} + 1 \geq 0 \]
      </div>
      <div class="checkpoint">&#10003; Kontrolna tacka: Nejednacina je sada racionalna po \(t\), gde je \(t \geq 1\).</div>
    </div>

    <!-- Step 3 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">3</span> Uvedi smenu \(u = \frac{1}{t}\)</div>
      <p class="step-explanation">
        Posto je \(t \geq 1\), sledi da je \(0 &lt; u \leq 1\). Zamenom:
      </p>
      <div class="math-box">
        \[ \frac{4}{t^2} - \frac{5}{t} + 1 = 4u^2 - 5u + 1 \geq 0 \]
      </div>
      <p class="step-explanation">
        Dobili smo kvadratnu nejednacinu po \(u\).
      </p>
    </div>

    <!-- Step 4 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">4</span> Resi kvadratnu nejednacinu</div>
      <p class="step-explanation">
        Najpre nalazimo nule trinoma \(4u^2 - 5u + 1\):
      </p>
      <div class="math-box">
        \[ u = \frac{5 \pm \sqrt{25 - 16}}{8} = \frac{5 \pm 3}{8} \]
        \[ u_1 = \frac{5 - 3}{8} = \frac{1}{4}, \qquad u_2 = \frac{5 + 3}{8} = 1 \]
      </div>
      <p class="step-explanation">
        Faktorisemo:
      </p>
      <div class="math-box">
        \[ 4u^2 - 5u + 1 = 4\!\left(u - \frac{1}{4}\right)\!(u - 1) = (4u - 1)(u - 1) \geq 0 \]
      </div>
      <details>
        <summary>Proveri sebe: Kako se faktorise?</summary>
        <p>Imamo \(4u^2 - 5u + 1\). Nule su \(u = \frac{1}{4}\) i \(u = 1\). Posto je vodeci koeficijent 4, faktorisani oblik je \(4(u - \frac{1}{4})(u - 1) = (4u - 1)(u - 1)\).</p>
      </details>
    </div>

    <!-- Step 5 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">5</span> Analiza znaka</div>
      <p class="step-explanation">
        Proizvod \((4u - 1)(u - 1) \geq 0\) vazi kada su oba faktora istog znaka:
      </p>
      <div class="math-box">
        \[ \text{Oba } \geq 0: \quad u \geq \frac{1}{4} \;\text{ i }\; u \geq 1 \;\;\Rightarrow\;\; u \geq 1 \]
        \[ \text{Oba } \leq 0: \quad u \leq \frac{1}{4} \;\text{ i }\; u \leq 1 \;\;\Rightarrow\;\; u \leq \frac{1}{4} \]
      </div>
      <p class="step-explanation">
        Dakle, resenje je \(u \leq \frac{1}{4}\) ili \(u \geq 1\).
      </p>
      <p class="step-explanation">
        Uz ogranicenje \(0 &lt; u \leq 1\), dobijamo:
      </p>
      <div class="math-box">
        \[ 0 &lt; u \leq \frac{1}{4} \quad \text{ili} \quad u = 1 \]
      </div>
      <div class="checkpoint">&#10003; Kontrolna tacka: Presek sa domenom smene suzen je na dve oblasti.</div>
    </div>

    <!-- Step 6 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">6</span> Povratak na promenljivu \(x\)</div>
      <p class="step-explanation">
        <strong>Slucaj 1:</strong> \(u = 1\), tj. \(\frac{1}{t} = 1\), tj. \(t = 1\):
      </p>
      <div class="math-box">
        \[ 2^{\sqrt{x-1}} = 1 = 2^0 \;\;\Rightarrow\;\; \sqrt{x-1} = 0 \;\;\Rightarrow\;\; x = 1 \]
      </div>
      <p class="step-explanation">
        <strong>Slucaj 2:</strong> \(0 &lt; u \leq \frac{1}{4}\), tj. \(\frac{1}{t} \leq \frac{1}{4}\), tj. \(t \geq 4\):
      </p>
      <div class="math-box">
        \[ 2^{\sqrt{x-1}} \geq 4 = 2^2 \;\;\Rightarrow\;\; \sqrt{x-1} \geq 2 \;\;\Rightarrow\;\; x - 1 \geq 4 \;\;\Rightarrow\;\; x \geq 5 \]
      </div>
      <p class="step-explanation">
        Prema tome, skup resenja je:
      </p>
      <div class="math-box">
        \[ \{1\} \cup [5, +\infty) \]
      </div>
    </div>

    <!-- Step 7 -->
    <div style="margin-bottom: 24px;">
      <div class="step-title"><span class="step-badge">7</span> Identifikuj oblik odgovora</div>
      <p class="step-explanation">
        Skup \(\{1\} \cup [5, +\infty)\) je oblika \(\{a\} \cup [b, +\infty)\) gde je \(a = 1\) i \(b = 5\).
        Posto je \(a = 1 &lt; 5 = b\), uslov \(a &lt; b\) je ispunjen.
      </p>
      <div class="math-box">
        \[ \{a\} \cup [b, +\infty) = \{1\} \cup [5, +\infty) \quad \Rightarrow \quad \text{Odgovor (C)} \]
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="insight-title">Kljucni uvid</div>
    <p>
      Nejednacina sa eksponencijalnim izrazima u imeniocu izgleda zastrasuajuce, ali dvostruka smena &mdash; najpre \(t = 2^{\sqrt{x-1}}\) pa zatim \(u = \frac{1}{t}\) &mdash; pretvara je u obicnu kvadratnu nejednacinu. Kljucno je pazljivo pratiti ogranicenja na smene: \(t \geq 1\) i \(0 &lt; u \leq 1\). Upravo ta ogranicenja "razbijaju" resenje na izolovanu tacku \(x = 1\) i polupravu \([5, +\infty)\).
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="label">Konacni odgovor</div>
    <div class="answer">\(\{1\} \cup [5, +\infty)\)</div>
    <p style="color: #94a3b8; margin-bottom: 12px;">Oblik: \(\{a\} \cup [b, +\infty)\) sa \(a = 1,\; b = 5\)</p>
    <div class="final-options">
      <div class="final-option" data-option="A">(A) \([a, +\infty)\)</div>
      <div class="final-option" data-option="B">(B) \((-\infty, a] \cup \{b\}\)</div>
      <div class="final-option correct" data-option="C">(C) \(\{a\} \cup [b, +\infty)\)</div>
      <div class="final-option" data-option="D">(D) \([a, b)\)</div>
      <div class="final-option" data-option="E">(E) \(\{a, b\}\)</div>
    </div>
    <p class="verification-note">
      Verifikacija: Za \(x = 1\): \(\frac{1}{4^{0-1}} - \frac{5}{2^0} + 1 = 4 - 5 + 1 = 0 \geq 0\) &#10004;<br>
      Za \(x = 5\): \(\frac{1}{4^{2-1}} - \frac{5}{2^2} + 1 = \frac{1}{4} - \frac{5}{4} + 1 = 0 \geq 0\) &#10004;<br>
      Za \(x = 3\): \(\sqrt{x-1} = \sqrt{2}\), \(t = 2^{\sqrt{2}} \approx 2{,}665\), \(\frac{4}{t^2} - \frac{5}{t} + 1 \approx 0{,}563 - 1{,}876 + 1 \approx -0{,}313 &lt; 0\) &#10004;
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <div class="pitfall-title">Zaboravljanje ogranicenja na smenu</div>
      <p>Posto je \(\sqrt{x-1} \geq 0\), sledi \(t \geq 1\) i \(u \leq 1\). Bez ovog ogranicenja, resenje bi bilo nepotpuno &mdash; propustili bismo cinjenicu da je \(u = 1\) (tj. \(x = 1\)) izolovano resenje.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Pogresno tumacenje \(4^{\sqrt{x-1}-1}\)</div>
      <p>Pazljivo: \(4^{\sqrt{x-1}-1} = \frac{4^{\sqrt{x-1}}}{4}\), a ne \(4^{\sqrt{x-1}} - 4^1\). Eksponent se odnosi na ceo izraz \(\sqrt{x-1} - 1\).</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Greska pri prelasku sa \(u\) na \(x\)</div>
      <p>Nejednacina \(\frac{1}{t} \leq \frac{1}{4}\) daje \(t \geq 4\) (jer su obe strane pozitivne, mnozenje sa \(4t\) cuva smer). Greska bi bila da se zakljuci \(t \leq 4\).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p class="step-explanation">
      Resi nejednacinu:
    </p>
    <div class="math-box">
      \[ 9^{\sqrt{x+2}} - 4 \cdot 3^{\sqrt{x+2}} + 3 \leq 0 \]
    </div>
    <details>
      <summary>Nagovestaj</summary>
      <p>Uvedi smenu \(t = 3^{\sqrt{x+2}}\), gde je \(t \geq 1\). Dobijas \(t^2 - 4t + 3 \leq 0\), tj. \((t-1)(t-3) \leq 0\), odakle \(1 \leq t \leq 3\). Vracanjem na \(x\) dobijas \(0 \leq \sqrt{x+2} \leq 1\), tj. \(-2 \leq x \leq -1\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('solutionCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 520 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 520;

    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok resavanja: smene i povratak', W / 2, 28);

    const boxW = Math.min(200, W * 0.26);
    const boxH = 48;
    const centerX = W / 2;

    /* Row 1: Original inequality */
    drawBox(centerX, 65, boxW * 1.5, boxH, 'Polazna nejednacina', '1/4^(sqrt(x-1)-1) - 5/2^sqrt(x-1) + 1 >= 0', '#a78bfa');

    /* Row 2: Substitution t */
    drawArrow(centerX, 65 + boxH / 2 + 2, centerX, 135 - boxH / 2);
    drawLabel(centerX + boxW * 0.9, 100, 't = 2^sqrt(x-1), t >= 1', '#94a3b8');
    drawBox(centerX, 135, boxW * 1.3, boxH, 'Smena t', '4/t^2 - 5/t + 1 >= 0', '#60a5fa');

    /* Row 3: Substitution u */
    drawArrow(centerX, 135 + boxH / 2 + 2, centerX, 205 - boxH / 2);
    drawLabel(centerX + boxW * 0.9, 170, 'u = 1/t, 0 < u <= 1', '#94a3b8');
    drawBox(centerX, 205, boxW * 1.3, boxH, 'Smena u', '4u^2 - 5u + 1 >= 0', '#60a5fa');

    /* Row 4: Factored */
    drawArrow(centerX, 205 + boxH / 2 + 2, centerX, 270 - boxH / 2);
    drawBox(centerX, 270, boxW * 1.3, boxH, 'Faktorizacija', '(4u - 1)(u - 1) >= 0', '#f472b6');

    /* Row 5: Two branches */
    var leftX = W * 0.25;
    var rightX = W * 0.75;

    drawArrow(centerX - 50, 270 + boxH / 2 + 2, leftX, 340 - boxH / 2);
    drawArrow(centerX + 50, 270 + boxH / 2 + 2, rightX, 340 - boxH / 2);

    drawBox(leftX, 340, boxW, boxH, 'u = 1', 't = 1, x = 1', '#34d399');
    drawBox(rightX, 340, boxW, boxH, '0 < u <= 1/4', 't >= 4, x >= 5', '#34d399');

    /* Row 6: Merge to final answer */
    drawArrow(leftX, 340 + boxH / 2 + 2, centerX, 415 - boxH / 2);
    drawArrow(rightX, 340 + boxH / 2 + 2, centerX, 415 - boxH / 2);

    drawBox(centerX, 415, boxW * 1.4, boxH, 'Skup resenja', '{1} U [5, +inf)', '#4ade80');

    /* Number line at the bottom */
    var nlY = 480;
    var nlLeft = W * 0.1;
    var nlRight = W * 0.9;
    var nlLen = nlRight - nlLeft;

    ctx.beginPath();
    ctx.moveTo(nlLeft, nlY);
    ctx.lineTo(nlRight, nlY);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.stroke();

    /* Arrowhead on number line */
    ctx.beginPath();
    ctx.moveTo(nlRight, nlY);
    ctx.lineTo(nlRight - 8, nlY - 4);
    ctx.lineTo(nlRight - 8, nlY + 4);
    ctx.closePath();
    ctx.fillStyle = '#475569';
    ctx.fill();

    /* Tick marks and labels */
    var points = [
      { val: 0, label: '0' },
      { val: 1, label: '1' },
      { val: 2, label: '2' },
      { val: 3, label: '3' },
      { val: 4, label: '4' },
      { val: 5, label: '5' },
      { val: 6, label: '6' },
      { val: 7, label: '7' }
    ];
    var scale = nlLen / 8;

    points.forEach(function(p) {
      var px = nlLeft + p.val * scale;
      ctx.beginPath();
      ctx.moveTo(px, nlY - 5);
      ctx.lineTo(px, nlY + 5);
      ctx.strokeStyle = '#64748b';
      ctx.lineWidth = 1;
      ctx.stroke();

      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(p.label, px, nlY + 18);
    });

    /* Draw solution regions */
    /* Point at x = 1 */
    var x1px = nlLeft + 1 * scale;
    ctx.beginPath();
    ctx.arc(x1px, nlY, 6, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    /* Ray from x = 5 to infinity */
    var x5px = nlLeft + 5 * scale;
    ctx.beginPath();
    ctx.moveTo(x5px, nlY);
    ctx.lineTo(nlRight, nlY);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 4;
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(x5px, nlY, 6, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    /* Excluded region marking (subtle dashes between 1 and 5) */
    ctx.beginPath();
    ctx.moveTo(x1px + 8, nlY - 12);
    ctx.lineTo(x5px - 8, nlY - 12);
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.4)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#f472b6';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('ne pripada skupu', (x1px + x5px) / 2, nlY - 16);

    /* Label for number line */
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', nlRight + 8, nlY + 5);

    ctx.textAlign = 'center';
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('{1} U [5, +\u221E)', (x1px + nlRight) / 2, nlY + 34);
  }

  function drawBox(x, y, w, h, title, sub, color) {
    var r = 10;
    ctx.beginPath();
    ctx.roundRect(x - w / 2, y - h / 2, w, h, r);
    ctx.fillStyle = 'rgba(30, 41, 59, 0.92)';
    ctx.fill();
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = color;
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(title, x, y - 5);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText(sub, x, y + 14);
  }

  function drawArrow(x1, y1, x2, y2) {
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    var angle = Math.atan2(y2 - y1, x2 - x1);
    var size = 7;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - size * Math.cos(angle - 0.4), y2 - size * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - size * Math.cos(angle + 0.4), y2 - size * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fillStyle = '#475569';
    ctx.fill();
  }

  function drawLabel(x, y, text, color) {
    ctx.fillStyle = color;
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText(text, x, y);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Eksponencijalna nejednacina sa dvostrukom smenom",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["eksponencijalne nejednacine", "smena promenljive", "kvadratna nejednacina", "analiza znaka", "domen funkcije"]
}
BRAINSPARK_META-->