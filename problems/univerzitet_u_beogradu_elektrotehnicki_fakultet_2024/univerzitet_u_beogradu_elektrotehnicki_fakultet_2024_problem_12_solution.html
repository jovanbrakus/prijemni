<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ugao pod kojim se vidi kruznica iz koordinatnog pocetka</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Ugao pod kojim se vidi kruznica x^2 + (y-25)^2 = 225 iz koordinatnog pocetka.

GIVEN:
- Kruznica: x^2 + (y-25)^2 = 225
- Centar: C = (0, 25)
- Poluprecnik: r = sqrt(225) = 15
- Tacka posmatranja: O = (0, 0) (koordinatni pocetak)

STEP 1: Rastojanje od O do centra C
d = sqrt(0^2 + 25^2) = 25

CHECK: d = 25 > r = 15, dakle O je van kruznice (tangente postoje)

STEP 2: Ugao izmedju tangentnih pravih
Iz tacke O povlacimo dve tangente na kruznicu.
Neka je alpha = poluugao (ugao izmedju jedne tangente i prave OC).

U pravouglom trouglu OTC (T = tacka dodira):
- OC = d = 25 (hipotenuza)
- CT = r = 15 (kateta, poluprecnik je normalan na tangentu)
- OT = sqrt(d^2 - r^2) = sqrt(625 - 225) = sqrt(400) = 20

sin(alpha) = CT/OC = 15/25 = 3/5
cos(alpha) = OT/OC = 20/25 = 4/5
tan(alpha) = CT/OT = 15/20 = 3/4

STEP 3: Pun ugao = 2*alpha
Koristimo formulu za tangens dvostrukog ugla:
tan(2*alpha) = 2*tan(alpha) / (1 - tan^2(alpha))
             = 2*(3/4) / (1 - (3/4)^2)
             = (3/2) / (1 - 9/16)
             = (3/2) / (7/16)
             = (3/2) * (16/7)
             = 48/14
             = 24/7

Dakle: 2*alpha = arctan(24/7)

VERIFICATION:
- alpha = arctan(3/4) ≈ 36.87°
- 2*alpha ≈ 73.74°
- arctan(24/7) ≈ arctan(3.4286) ≈ 73.74° ✓

ANSWER: (A) arctan(24/7)
</script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 1.5rem;
    max-width: 900px;
    margin: 0 auto;
}
h1 {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.subtitle {
    text-align: center;
    color: #94a3b8;
    margin-bottom: 2rem;
    font-size: 1.05rem;
}
.card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}
.card h2 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.card h2 .icon { font-size: 1.3rem; }
.problem-statement {
    border-left: 4px solid #a78bfa;
}
.given-grid {
    display: grid;
    gap: 0.5rem;
    margin: 1rem 0;
}
.answer-option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    cursor: pointer;
    transition: all 0.25s;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.answer-option:hover { border-color: #60a5fa; background: #162035; }
.answer-option.correct {
    border-color: #4ade80;
    background: rgba(74, 222, 128, 0.08);
}
.answer-option.incorrect {
    border-color: #f87171;
    background: rgba(248, 113, 113, 0.06);
    opacity: 0.65;
}
.option-label {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px; height: 32px;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.85rem;
    flex-shrink: 0;
}
.answer-option.correct .option-label {
    background: #4ade80; color: #0f172a;
}
.answer-option.incorrect .option-label {
    background: #475569; color: #94a3b8;
}
.answer-option:not(.correct):not(.incorrect) .option-label {
    background: #334155; color: #e2e8f0;
}
.plan-card { border-left: 4px solid #60a5fa; }
.theory-card { border-left: 4px solid #a78bfa; }
.steps-card { border-left: 4px solid #34d399; }
.insight-card { border-left: 4px solid #f472b6; }
.final-card {
    border: 2px solid #4ade80;
    background: rgba(74, 222, 128, 0.06);
}
.pitfalls-card { border-left: 4px solid #fbbf24; }
.challenge-card { border-left: 4px solid #60a5fa; }

.collapsible-toggle {
    background: none; border: none; color: #60a5fa;
    cursor: pointer; font-size: 0.95rem; display: flex;
    align-items: center; gap: 0.4rem; margin-top: 0.5rem;
    padding: 0;
}
.collapsible-toggle:hover { color: #93c5fd; }
.collapsible-content {
    max-height: 0; overflow: hidden;
    transition: max-height 0.4s ease;
}
.collapsible-content.open { max-height: 3000px; }
.collapsible-inner { padding-top: 1rem; }

.step {
    position: relative;
    padding-left: 2.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #1e293b;
}
.step:last-child { border-bottom: none; margin-bottom: 0; }
.step-badge {
    position: absolute; left: 0; top: 0;
    width: 28px; height: 28px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 0.8rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
}
.step h3 {
    font-size: 1.05rem;
    color: #60a5fa;
    margin-bottom: 0.5rem;
}
.checkpoint {
    background: rgba(52, 211, 153, 0.1);
    border: 1px solid #34d399;
    border-radius: 8px;
    padding: 0.6rem 1rem;
    margin-top: 0.75rem;
    font-size: 0.9rem;
    color: #34d399;
}
.domain-box {
    display: inline-block;
    background: rgba(96, 165, 250, 0.1);
    border: 1px solid #60a5fa;
    border-radius: 6px;
    padding: 0.4rem 0.8rem;
    margin: 0.3rem 0.2rem;
    font-size: 0.95rem;
}
.formula-box {
    display: inline-block;
    background: rgba(167, 139, 250, 0.1);
    border: 1px solid #a78bfa;
    border-radius: 6px;
    padding: 0.4rem 0.8rem;
    margin: 0.3rem 0.2rem;
    font-size: 0.95rem;
}
.summary-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
}
.summary-table th, .summary-table td {
    border: 1px solid #334155;
    padding: 0.65rem 0.85rem;
    text-align: center;
}
.summary-table th {
    background: #0f172a;
    color: #60a5fa;
    font-weight: 600;
}
.summary-table td { background: #1e293b; }

canvas#geoCanvas {
    width: 100%;
    max-width: 600px;
    display: block;
    margin: 1rem auto;
    border-radius: 8px;
    border: 1px solid #334155;
    background: #0f172a;
}
.canvas-legend {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    margin-top: 0.5rem;
    font-size: 0.9rem;
}
.legend-item {
    display: flex; align-items: center; gap: 0.4rem;
}
.legend-swatch {
    width: 18px; height: 4px; border-radius: 2px;
}
.legend-circle {
    width: 10px; height: 10px; border-radius: 50%; border: 2px solid;
}
.muted { color: #94a3b8; }
.highlight { color: #4ade80; font-weight: 600; }
ul.clean { list-style: none; padding-left: 0; }
ul.clean li { padding: 0.3rem 0; padding-left: 1.2rem; position: relative; }
ul.clean li::before {
    content: ''; position: absolute; left: 0; top: 0.7rem;
    width: 6px; height: 6px; border-radius: 50%;
    background: #60a5fa;
}
.pitfall-item {
    background: rgba(251, 191, 36, 0.07);
    border-left: 3px solid #fbbf24;
    padding: 0.6rem 1rem;
    margin: 0.5rem 0;
    border-radius: 0 8px 8px 0;
    font-size: 0.95rem;
}
.tri-values {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 0.5rem;
    margin: 0.75rem 0;
}
.tri-val {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
    text-align: center;
}
.tri-val .label { color: #94a3b8; font-size: 0.8rem; display: block; }
.tri-val .value { font-size: 1.05rem; font-weight: 600; }
@media (max-width: 600px) {
    body { padding: 1rem; }
    h1 { font-size: 1.5rem; }
    .card { padding: 1.1rem; }
}
</style>
</head>
<body>

<h1>Ugao pod kojim se vidi kruznica</h1>
<p class="subtitle">Tangente iz spoljasnje tacke na kruznicu i formula dvostrukog ugla</p>

<!-- Problem Statement -->
<div class="card problem-statement">
    <h2><span class="icon">&#128220;</span> Zadatak</h2>
    <p>Ugao pod kojim se vidi kruznica \( x^2 + (y-25)^2 = 225 \) iz koordinatnog pocetka iznosi:</p>
    <div class="given-grid">
        <div class="answer-option" data-option="A">
            <span class="option-label">A</span>
            <span>\( \arctan\dfrac{24}{7} \)</span>
        </div>
        <div class="answer-option" data-option="B">
            <span class="option-label">B</span>
            <span>\( \arctan\dfrac{24}{25} \)</span>
        </div>
        <div class="answer-option" data-option="C">
            <span class="option-label">C</span>
            <span>\( \arctan\dfrac{12}{7} \)</span>
        </div>
        <div class="answer-option" data-option="D">
            <span class="option-label">D</span>
            <span>\( \arctan\dfrac{3}{4} \)</span>
        </div>
        <div class="answer-option" data-option="E">
            <span class="option-label">E</span>
            <span>\( \arctan\dfrac{20}{9} \)</span>
        </div>
    </div>
</div>

<!-- Plan -->
<div class="card plan-card">
    <h2><span class="icon">&#128204;</span> Plan resavanja</h2>
    <ol style="padding-left:1.2rem;">
        <li>Ocitati <strong>centar i poluprecnik</strong> kruznice iz jednacine.</li>
        <li>Izracunati <strong>rastojanje</strong> od koordinatnog pocetka do centra kruznice.</li>
        <li>Konstruisati <strong>pravougli trougao</strong> sa tangentnom tackom i naci poluugao \(\alpha\).</li>
        <li>Koristiti formulu za <strong>tangens dvostrukog ugla</strong> da se nadje ugao \(2\alpha\).</li>
    </ol>
</div>

<!-- Theory -->
<div class="card theory-card">
    <h2><span class="icon">&#128218;</span> Teorijska osnova</h2>
    <button class="collapsible-toggle" id="theoryToggle">&#9660; Prikazi / sakrij teoriju</button>
    <div class="collapsible-content" id="theoryContent">
        <div class="collapsible-inner">
            <p><strong>Ugao vidjenja kruznice iz tacke:</strong> Ako je tacka \(P\) van kruznice sa centrom \(C\) i poluprecnikom \(r\), onda se iz \(P\) mogu povuci dve tangente na kruznicu. Ugao izmedju tih tangenti je <em>ugao pod kojim se vidi kruznica</em> iz tacke \(P\).</p>

            <p style="margin-top:0.75rem;"><strong>Svojstvo tangente:</strong> Tangenta na kruznicu je normalna na poluprecnik u tacki dodira. To znaci da je ugao \(\angle CTU = 90°\), gde je \(T\) tacka dodira, \(C\) centar kruznice.</p>

            <p style="margin-top:0.75rem;"><strong>Pravougli trougao \(OTC\):</strong></p>
            <ul class="clean">
                <li>Hipotenuza: \(OC = d\) (rastojanje od tacke do centra)</li>
                <li>Kateta: \(CT = r\) (poluprecnik, normalan na tangentu)</li>
                <li>Kateta: \(OT = \sqrt{d^2 - r^2}\) (duzina tangente)</li>
            </ul>

            <p style="margin-top:0.75rem;">Poluugao \(\alpha\) (ugao izmedju tangente i prave \(OC\)) zadovoljava:</p>
            \[
            \sin\alpha = \frac{r}{d}, \qquad \cos\alpha = \frac{\sqrt{d^2 - r^2}}{d}, \qquad \tan\alpha = \frac{r}{\sqrt{d^2 - r^2}}
            \]

            <p style="margin-top:0.75rem;"><strong>Formula za tangens dvostrukog ugla:</strong></p>
            \[
            \tan(2\alpha) = \frac{2\tan\alpha}{1 - \tan^2\alpha}
            \]
        </div>
    </div>
</div>

<!-- Canvas -->
<div class="card">
    <h2><span class="icon">&#128200;</span> Graficki prikaz</h2>
    <p class="muted" style="text-align:center;margin-bottom:0.5rem;">Kruznica, tangente iz koordinatnog pocetka i ugao vidjenja</p>
    <canvas id="geoCanvas" width="600" height="600"></canvas>
    <div class="canvas-legend">
        <span class="legend-item"><span class="legend-circle" style="border-color:#a78bfa; background:rgba(167,139,250,0.2);"></span> Kruznica</span>
        <span class="legend-item"><span class="legend-swatch" style="background:#f472b6;"></span> Tangente</span>
        <span class="legend-item"><span class="legend-swatch" style="background:#34d399;"></span> Poluprecnik (normala)</span>
        <span class="legend-item"><span class="legend-swatch" style="background:#fbbf24;"></span> Ugao \(2\alpha\)</span>
    </div>
</div>

<!-- Steps -->
<div class="card steps-card">
    <h2><span class="icon">&#128736;</span> Postupak</h2>

    <!-- Step 1 -->
    <div class="step">
        <div class="step-badge">1</div>
        <h3>Ocitavanje podataka iz jednacine kruznice</h3>
        <p>Jednacina kruznice je data u standardnom obliku \((x - a)^2 + (y - b)^2 = r^2\):</p>
        \[
        x^2 + (y - 25)^2 = 225
        \]
        <p>Odavde citamo:</p>
        <div class="tri-values">
            <div class="tri-val">
                <span class="label">Centar</span>
                <span class="value">\(C = (0,\; 25)\)</span>
            </div>
            <div class="tri-val">
                <span class="label">Poluprecnik</span>
                <span class="value">\(r = \sqrt{225} = 15\)</span>
            </div>
        </div>
        <div class="checkpoint">&#10003; Proveri se: \(r^2 = 15^2 = 225\) &mdash; tacno!</div>
    </div>

    <!-- Step 2 -->
    <div class="step">
        <div class="step-badge">2</div>
        <h3>Rastojanje od koordinatnog pocetka do centra</h3>
        <p>Koordinatni pocetak je tacka \(O = (0, 0)\). Rastojanje do centra \(C = (0, 25)\):</p>
        \[
        d = |OC| = \sqrt{(0 - 0)^2 + (0 - 25)^2} = \sqrt{625} = 25
        \]
        <p style="margin-top:0.5rem;">Proveravamo da li je \(O\) van kruznice:</p>
        \[
        d = 25 > r = 15 \quad \checkmark
        \]
        <p>Posto je \(d > r\), tacka \(O\) je van kruznice i mozemo povuci dve tangente.</p>
        <div class="checkpoint">&#10003; \(d = 25\), tacka je spolja &mdash; tangente postoje</div>
    </div>

    <!-- Step 3 -->
    <div class="step">
        <div class="step-badge">3</div>
        <h3>Pravougli trougao i poluugao \(\alpha\)</h3>
        <p>Neka je \(T\) tacka dodira tangente sa kruznicom. Trougao \(OTC\) je pravougli u \(T\) (jer je tangenta normalna na poluprecnik). Imamo:</p>

        <div class="tri-values">
            <div class="tri-val">
                <span class="label">Hipotenuza</span>
                <span class="value">\(OC = d = 25\)</span>
            </div>
            <div class="tri-val">
                <span class="label">Naspramna kateta</span>
                <span class="value">\(CT = r = 15\)</span>
            </div>
            <div class="tri-val">
                <span class="label">Prilez. kateta</span>
                <span class="value">\(OT = \sqrt{d^2 - r^2}\)</span>
            </div>
        </div>

        <p style="margin-top:0.75rem;">Racunamo duzinu tangente:</p>
        \[
        OT = \sqrt{d^2 - r^2} = \sqrt{25^2 - 15^2} = \sqrt{625 - 225} = \sqrt{400} = 20
        \]

        <p style="margin-top:0.75rem;">Dobijamo trojku \((15,\; 20,\; 25)\), sto je \(5 \times (3,\; 4,\; 5)\) &mdash; Pitagorina trojka!</p>

        <p style="margin-top:0.75rem;">Poluugao \(\alpha\) (ugao izmedju prave \(OC\) i tangente iz \(O\)):</p>
        \[
        \sin\alpha = \frac{CT}{OC} = \frac{15}{25} = \frac{3}{5}, \qquad \cos\alpha = \frac{OT}{OC} = \frac{20}{25} = \frac{4}{5}
        \]
        \[
        \tan\alpha = \frac{\sin\alpha}{\cos\alpha} = \frac{3/5}{4/5} = \frac{3}{4}
        \]
        <div class="checkpoint">&#10003; Proveri se: \(\sin^2\alpha + \cos^2\alpha = \frac{9}{25} + \frac{16}{25} = \frac{25}{25} = 1\) &mdash; tacno!</div>
    </div>

    <!-- Step 4 -->
    <div class="step">
        <div class="step-badge">4</div>
        <h3>Pun ugao vidjenja: \(2\alpha\)</h3>
        <p>Trazeni ugao je ugao izmedju <em>dve</em> tangente, sto je \(2\alpha\). Koristimo formulu za tangens dvostrukog ugla:</p>
        \[
        \tan(2\alpha) = \frac{2\tan\alpha}{1 - \tan^2\alpha}
        \]
        <p>Zamenjujemo \(\tan\alpha = \dfrac{3}{4}\):</p>
        \[
        \tan(2\alpha) = \frac{2 \cdot \dfrac{3}{4}}{1 - \left(\dfrac{3}{4}\right)^2} = \frac{\dfrac{3}{2}}{1 - \dfrac{9}{16}} = \frac{\dfrac{3}{2}}{\dfrac{16 - 9}{16}} = \frac{\dfrac{3}{2}}{\dfrac{7}{16}}
        \]
        <p>Delimo razlomke:</p>
        \[
        \tan(2\alpha) = \frac{3}{2} \cdot \frac{16}{7} = \frac{48}{14} = \frac{24}{7}
        \]
        <p>Dakle:</p>
        \[
        2\alpha = \arctan\frac{24}{7}
        \]
        <div class="checkpoint">&#10003; Numericka provera: \(\alpha = \arctan(3/4) \approx 36{,}87°\), pa je \(2\alpha \approx 73{,}74°\). Proveravamo: \(\arctan(24/7) \approx \arctan(3{,}4286) \approx 73{,}74°\) &mdash; tacno!</div>
    </div>

    <!-- Step 5 -->
    <div class="step">
        <div class="step-badge">5</div>
        <h3>Alternativni pristup: direktna formula</h3>
        <p>Postoji i elegantan direktan put. Neka je \(\alpha\) poluugao. Tada:</p>
        \[
        \sin\alpha = \frac{r}{d} = \frac{15}{25} = \frac{3}{5}
        \]
        <p>Za sinus dvostrukog ugla:</p>
        \[
        \sin(2\alpha) = 2\sin\alpha\cos\alpha = 2 \cdot \frac{3}{5} \cdot \frac{4}{5} = \frac{24}{25}
        \]
        <p>Za kosinus dvostrukog ugla:</p>
        \[
        \cos(2\alpha) = \cos^2\alpha - \sin^2\alpha = \frac{16}{25} - \frac{9}{25} = \frac{7}{25}
        \]
        <p>Odatle:</p>
        \[
        \tan(2\alpha) = \frac{\sin(2\alpha)}{\cos(2\alpha)} = \frac{24/25}{7/25} = \frac{24}{7}
        \]
        <div class="checkpoint">&#10003; Isti rezultat: \(\tan(2\alpha) = \dfrac{24}{7}\)</div>
    </div>
</div>

<!-- Key Insight -->
<div class="card insight-card">
    <h2><span class="icon">&#128161;</span> Kljucni uvid</h2>
    <p>Ovaj zadatak kombinuje tri vazne ideje:</p>
    <ul class="clean">
        <li><strong>Geometrija tangenti:</strong> Tangenta je normalna na poluprecnik u tacki dodira, sto stvara pravougli trougao.</li>
        <li><strong>Pitagorina trojka:</strong> Stranice trougla \((15, 20, 25) = 5 \cdot (3, 4, 5)\) daju "lepe" razlomke.</li>
        <li><strong>Formula dvostrukog ugla:</strong> Poluugao ima \(\tan\alpha = 3/4\), ali odgovor trazi pun ugao, pa koristimo formulu za \(\tan(2\alpha)\).</li>
    </ul>
    <p style="margin-top:0.75rem;">Zamka u zadatku: odgovor (D) \(\arctan\frac{3}{4}\) jeste poluugao \(\alpha\), ali trazeni je pun ugao \(2\alpha\). Pazljivo citajte sta se trazi!</p>
</div>

<!-- Final Answer -->
<div class="card final-card">
    <h2><span class="icon">&#127919;</span> Konacan odgovor</h2>
    <p style="text-align:center; font-size:1.3rem; margin:1rem 0;">
        \[
        \boxed{2\alpha = \arctan\frac{24}{7}}
        \]
    </p>
    <p style="text-align:center; font-size:1.15rem;" class="highlight">Odgovor: (A)</p>
</div>

<!-- Pitfalls -->
<div class="card pitfalls-card">
    <h2><span class="icon">&#9888;</span> Ceste greske</h2>
    <div class="pitfall-item">
        <strong>Brkanje poluugla i punog ugla:</strong> Poluugao je \(\alpha = \arctan\frac{3}{4}\) (odgovor D). Ali zadatak trazi ugao pod kojim se <em>vidi</em> kruznica &mdash; to je pun ugao \(2\alpha\) izmedju obe tangente. Uvek proverite da li se trazi polovina ili ceo ugao!
    </div>
    <div class="pitfall-item">
        <strong>Pogresan pravougli trougao:</strong> U trouglu \(OTC\), pravi ugao je kod tacke dodira \(T\), ne kod centra \(C\). Hipotenuza je \(OC = d = 25\), a poluprecnik \(CT = r = 15\) je kateta.
    </div>
    <div class="pitfall-item">
        <strong>Greska pri deljenju razlomaka:</strong> Pri racunanju \(\frac{3/2}{7/16}\) cesta greska je da se okrenuti razlomak pogresno nacrta. Pravilo: \(\frac{a/b}{c/d} = \frac{a}{b} \cdot \frac{d}{c}\). Dakle \(\frac{3/2}{7/16} = \frac{3}{2} \cdot \frac{16}{7} = \frac{48}{14} = \frac{24}{7}\).
    </div>
    <div class="pitfall-item">
        <strong>Provera da je tacka spolja:</strong> Formula vazi samo kada je \(d > r\), tj. kada je tacka van kruznice. Ovde je \(25 > 15\), pa je sve u redu. Da je \(d \leq r\), tangente ne bi ni postojale.
    </div>
</div>

<!-- Challenge -->
<div class="card challenge-card">
    <h2><span class="icon">&#127942;</span> Izazov za razmisljanje</h2>
    <p>Za koje vrednosti parametra \(a > 0\) ugao pod kojim se vidi kruznica \(x^2 + (y - a)^2 = 225\) iz koordinatnog pocetka iznosi tacno \(90°\)?</p>
    <button class="collapsible-toggle" id="challengeToggle">&#9660; Prikazi odgovor</button>
    <div class="collapsible-content" id="challengeContent">
        <div class="collapsible-inner">
            <p>Ako je ugao \(2\alpha = 90°\), onda \(\alpha = 45°\), pa \(\tan\alpha = 1\). To znaci:</p>
            \[
            \frac{r}{\sqrt{a^2 - r^2}} = 1 \implies r = \sqrt{a^2 - r^2} \implies r^2 = a^2 - r^2 \implies a^2 = 2r^2
            \]
            <p>Za \(r = 15\):</p>
            \[
            a = r\sqrt{2} = 15\sqrt{2} \approx 21{,}21
            \]
            <p>Dakle, za \(a = 15\sqrt{2}\), ugao vidjenja bi bio tacno \(90°\). U nasem zadatku \(a = 25 > 15\sqrt{2}\), pa je ugao manji od \(90°\), sto odgovara vrednosti \(\arctan\frac{24}{7} \approx 73{,}74° < 90°\).</p>
        </div>
    </div>
</div>

<script>
(function() {
    // Collapsible toggles
    function setupCollapsible(toggleId, contentId) {
        var toggle = document.getElementById(toggleId);
        var content = document.getElementById(contentId);
        if (!toggle || !content) return;
        toggle.addEventListener('click', function() {
            content.classList.toggle('open');
            toggle.textContent = content.classList.contains('open')
                ? '\u25B2 Sakrij'
                : '\u25BC Prika\u017Ei / sakrij';
        });
    }
    setupCollapsible('theoryToggle', 'theoryContent');
    setupCollapsible('challengeToggle', 'challengeContent');

    // Answer option highlighting
    var options = document.querySelectorAll('.answer-option');
    options.forEach(function(opt) {
        opt.addEventListener('click', function() {
            options.forEach(function(o) {
                if (o.getAttribute('data-option') === 'A') {
                    o.classList.add('correct');
                    o.classList.remove('incorrect');
                } else {
                    o.classList.add('incorrect');
                    o.classList.remove('correct');
                }
            });
        });
    });

    // Canvas drawing
    var canvas = document.getElementById('geoCanvas');
    if (!canvas) return;
    var dpr = window.devicePixelRatio || 1;
    var dispW = 600, dispH = 600;
    canvas.width = dispW * dpr;
    canvas.height = dispH * dpr;
    canvas.style.width = dispW + 'px';
    canvas.style.height = dispH + 'px';
    var ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    var W = dispW, H = dispH;

    // Coordinate mapping: we want to show y from -5 to 45, x from -25 to 25
    var xMin = -25, xMax = 25, yMin = -5, yMax = 45;

    function toX(x) { return (x - xMin) / (xMax - xMin) * W; }
    function toY(y) { return H - (y - yMin) / (yMax - yMin) * H; }
    function scaleLen(len) { return len / (xMax - xMin) * W; }

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1a2332';
    ctx.lineWidth = 0.5;
    for (var gx = Math.ceil(xMin / 5) * 5; gx <= Math.floor(xMax); gx += 5) {
        ctx.beginPath();
        ctx.moveTo(toX(gx), 0);
        ctx.lineTo(toX(gx), H);
        ctx.stroke();
    }
    for (var gy = Math.ceil(yMin / 5) * 5; gy <= Math.floor(yMax); gy += 5) {
        ctx.beginPath();
        ctx.moveTo(0, toY(gy));
        ctx.lineTo(W, toY(gy));
        ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(toX(xMin), toY(0));
    ctx.lineTo(toX(xMax), toY(0));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toX(0), toY(yMin));
    ctx.lineTo(toX(0), toY(yMax));
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px sans-serif';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin / 10) * 10; lx <= Math.floor(xMax); lx += 10) {
        if (lx === 0) continue;
        ctx.fillText(lx.toString(), toX(lx), toY(0) + 14);
    }
    ctx.textAlign = 'right';
    for (var ly = 10; ly <= Math.floor(yMax); ly += 10) {
        ctx.fillText(ly.toString(), toX(0) - 5, toY(ly) + 4);
    }

    // Data
    var Cx = 0, Cy = 25, r = 15;
    var Ox = 0, Oy = 0;
    var d = 25; // distance OC

    // Tangent points calculation
    // The tangent from O to circle centered at C(0,25) with radius 15:
    // The tangent point T satisfies: OT perpendicular to CT, |CT| = 15, |OC| = 25
    // T lies on circle: Tx^2 + (Ty-25)^2 = 225
    // OT . CT = 0: Tx*(Tx - 0) + Ty*(Ty - 25) = 0 => Tx^2 + Ty^2 - 25*Ty = 0
    // From circle: Tx^2 + Ty^2 - 50*Ty + 625 = 225 => Tx^2 + Ty^2 = 50*Ty - 400
    // Substituting: 50*Ty - 400 - 25*Ty = 0 => 25*Ty = 400 => Ty = 16
    // Tx^2 + (16-25)^2 = 225 => Tx^2 + 81 = 225 => Tx^2 = 144 => Tx = +-12
    var T1x = 12, T1y = 16;
    var T2x = -12, T2y = 16;

    // Draw line OC (dashed)
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(toX(Ox), toY(Oy));
    ctx.lineTo(toX(Cx), toY(Cy));
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw the circle
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(toX(Cx), toY(Cy), scaleLen(r), 0, 2 * Math.PI);
    ctx.stroke();
    // Fill circle slightly
    ctx.fillStyle = 'rgba(167, 139, 250, 0.06)';
    ctx.fill();

    // Draw radii to tangent points (green, dashed)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(toX(Cx), toY(Cy));
    ctx.lineTo(toX(T1x), toY(T1y));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toX(Cx), toY(Cy));
    ctx.lineTo(toX(T2x), toY(T2y));
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw right angle markers at T1 and T2
    function drawRightAngle(px, py, ax, ay, bx, by, size) {
        // Vector from P to A and from P to B
        var len1 = Math.sqrt((ax - px) * (ax - px) + (ay - py) * (ay - py));
        var len2 = Math.sqrt((bx - px) * (bx - px) + (by - py) * (by - py));
        var u1x = (ax - px) / len1, u1y = (ay - py) / len1;
        var u2x = (bx - px) / len2, u2y = (by - py) / len2;
        var s = size;
        ctx.strokeStyle = '#94a3b8';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(toX(px + u1x * s), toY(py + u1y * s));
        ctx.lineTo(toX(px + u1x * s + u2x * s), toY(py + u1y * s + u2y * s));
        ctx.lineTo(toX(px + u2x * s), toY(py + u2y * s));
        ctx.stroke();
    }
    drawRightAngle(T1x, T1y, Ox, Oy, Cx, Cy, 1.5);
    drawRightAngle(T2x, T2y, Ox, Oy, Cx, Cy, 1.5);

    // Draw tangent lines (pink)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(toX(Ox), toY(Oy));
    ctx.lineTo(toX(T1x), toY(T1y));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toX(Ox), toY(Oy));
    ctx.lineTo(toX(T2x), toY(T2y));
    ctx.stroke();

    // Extend tangent lines beyond T
    var ext = 1.3;
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.moveTo(toX(T1x), toY(T1y));
    ctx.lineTo(toX(T1x + (T1x - Ox) * 0.5), toY(T1y + (T1y - Oy) * 0.5));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toX(T2x), toY(T2y));
    ctx.lineTo(toX(T2x + (T2x - Ox) * 0.5), toY(T2y + (T2y - Oy) * 0.5));
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw the angle arc at O
    var angle1 = Math.atan2(T1y - Oy, T1x - Ox);
    var angle2 = Math.atan2(T2y - Oy, T2x - Ox);
    // angle1 should be smaller than angle2 for the arc to go the right way
    // angle1 = atan2(16, 12) ~ 0.927 rad ~ 53.13 deg
    // angle2 = atan2(16, -12) ~ 2.214 rad ~ 126.87 deg
    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(toX(Ox), toY(Oy), scaleLen(5), -angle2, -angle1);
    ctx.stroke();

    // Label the angle
    var midAngle = (angle1 + angle2) / 2;
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('2\u03B1', toX(Ox + 6.5 * Math.cos(midAngle)), toY(Oy + 6.5 * Math.sin(midAngle)));

    // Draw alpha labels
    var ocAngle = Math.PI / 2; // angle of OC line (straight up)
    var halfAng1 = (angle1 + ocAngle) / 2;
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px sans-serif';
    ctx.fillText('\u03B1', toX(Ox + 8.5 * Math.cos(halfAng1)), toY(Oy + 8.5 * Math.sin(halfAng1)));
    var halfAng2 = (angle2 + ocAngle) / 2;
    ctx.fillText('\u03B1', toX(Ox + 8.5 * Math.cos(halfAng2)), toY(Oy + 8.5 * Math.sin(halfAng2)));

    // Points
    function drawPoint(x, y, color, label, offX, offY) {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(toX(x), toY(y), 5, 0, 2 * Math.PI);
        ctx.fill();
        ctx.strokeStyle = '#0f172a';
        ctx.lineWidth = 1.5;
        ctx.stroke();
        ctx.fillStyle = color;
        ctx.font = 'bold 13px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(label, toX(x) + (offX || 0), toY(y) + (offY || -12));
    }

    drawPoint(Ox, Oy, '#e2e8f0', 'O (0, 0)', 30, 15);
    drawPoint(Cx, Cy, '#a78bfa', 'C (0, 25)', 40, -5);
    drawPoint(T1x, T1y, '#f472b6', 'T\u2081 (12, 16)', 50, -5);
    drawPoint(T2x, T2y, '#f472b6', 'T\u2082 (-12, 16)', -55, -5);

    // Length labels along the sides
    ctx.font = '12px sans-serif';
    ctx.textAlign = 'center';

    // OC = 25
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('d = 25', toX(Ox) + 28, toY((Oy + Cy) / 2));

    // CT1 = r = 15
    ctx.fillStyle = '#34d399';
    ctx.fillText('r = 15', toX((Cx + T1x) / 2) + 18, toY((Cy + T1y) / 2) - 2);

    // OT1 = 20
    ctx.fillStyle = '#f472b6';
    ctx.fillText('20', toX((Ox + T1x) / 2) + 12, toY((Oy + T1y) / 2) + 14);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Ugao pod kojim se vidi kruznica iz koordinatnog pocetka","subject":"math","unit":"geometry","topic_tags":["kruznica","tangente","ugao vidjenja","trigonometrija","dvostruki ugao","Pitagorina trojka","arctan"]}
BRAINSPARK_META-->