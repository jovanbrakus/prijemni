<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Granična vrednost razlomka sa korenima</title>
<script type="text/info" id="logic-scratchpad">
Problem: lim(x→2) [x√x − √2·x − 2√x + 2√2] / [x³ − 4x² + 4x]

Step 1: Factor the denominator.
x³ − 4x² + 4x = x(x² − 4x + 4) = x(x − 2)²

Step 2: Factor the numerator by grouping.
Numerator: x√x − √2·x − 2√x + 2√2
Rearrange: (x√x − 2√x) + (−√2·x + 2√2)
         = √x(x − 2) − √2(x − 2)
         = (x − 2)(√x − √2)

Step 3: Simplify the fraction.
[(x − 2)(√x − √2)] / [x(x − 2)²]
= (√x − √2) / [x(x − 2)]

Step 4: Rationalize (√x − √2)/(x − 2).
Note: x − 2 = (√x − √2)(√x + √2)
So (√x − √2)/(x − 2) = 1/(√x + √2)

Step 5: The limit becomes:
lim(x→2) 1/[x(√x + √2)]
= 1/[2(√2 + √2)]
= 1/[2 · 2√2]
= 1/(4√2)

Answer: (A) 1/(4√2)

Verification: 1/(4√2) = √2/8 ≈ 0.17678
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}
h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 10px;
}
.highlight-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  text-align: center;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
  flex: 1;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}
.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
details {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
}
details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 4px 0;
}
details summary:hover {
  color: #c4b5fd;
}
details[open] summary {
  margin-bottom: 12px;
}
.step-container {
  position: relative;
  padding-left: 50px;
  margin-bottom: 20px;
  cursor: pointer;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  border-radius: 8px;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-right: 8px;
}
.step-container:hover, .step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}
.step-badge {
  position: absolute;
  left: 8px;
  top: 12px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
}
.step-title {
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.1rem;
  margin-bottom: 6px;
}
.step-text {
  color: #e2e8f0;
  margin-bottom: 8px;
}
.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}
.final-answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
  margin: 16px 0;
}
.answer-options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}
.answer-chip {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1.05rem;
  font-weight: 600;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.8);
  color: #94a3b8;
  transition: all 0.2s;
}
.answer-chip.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}
.pitfall-card {
  border-left: 3px solid #e09468;
}
.pitfall-card h2 {
  color: #e09468;
}
.challenge-card {
  border-left: 3px solid #f472b6;
}
.challenge-card h2 {
  color: #f472b6;
}
.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 10px;
}
canvas {
  width: 100%;
  border-radius: 10px;
  display: block;
  margin: 0 auto;
}
.insight-card {
  border-left: 3px solid #60a5fa;
}
.micro-check details {
  background: rgba(52,211,153,0.06);
  border-color: rgba(52,211,153,0.2);
}
.micro-check details summary {
  color: #34d399;
}
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { padding-left: 42px; }
  .given-grid { flex-direction: column; }
  .answer-options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Granična vrednost razlomka sa korenima</h1>
  <p class="subtitle">Faktorizacija, grupisanje i racionalizacija u graničnoj vrednosti tipa \( \frac{0}{0} \)</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Granična vrednost</p>
    <div class="highlight-box">
      \[ \lim_{x \to 2} \frac{x\sqrt{x} - \sqrt{2}\,x - 2\sqrt{x} + 2\sqrt{2}}{x^3 - 4x^2 + 4x} \]
    </div>
    <p>iznosi:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Tip</div>
        <div class="value">\( \frac{0}{0} \)</div>
      </div>
      <div class="given-item">
        <div class="label">Ključna tačka</div>
        <div class="value">\( x = 2 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Metod</div>
        <div class="value">Faktorizacija</div>
      </div>
    </div>

    <h3 style="margin-top: 20px;">Ponuđeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( \dfrac{1}{4\sqrt{2}} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( \dfrac{1}{2\sqrt{2}} \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 0 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( \sqrt{2} \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( \dfrac{1}{5\sqrt{2}} \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Direktna zamena \( x = 2 \) daje neodređeni oblik \( \frac{0}{0} \). Potrebno je faktorizovati i brojilac i imenilac, skratiti zajedničke faktore, a zatim primeniti racionalizaciju da bismo uklonili preostalu neodređenost.</p>
    <ol style="margin-left: 20px; margin-top: 12px; color: #e2e8f0;">
      <li>Faktorizuj imenilac izvlačenjem \( x \) i prepoznavanjem potpunog kvadrata.</li>
      <li>Faktorizuj brojilac grupisanjem članova.</li>
      <li>Skrati zajedničke faktore \( (x - 2) \).</li>
      <li>Racionalizuj ostatak pomoću konjugata \( (\sqrt{x} + \sqrt{2}) \).</li>
      <li>Izračunaj graničnu vrednost direktnom zamenom.</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Podsetnik: Ključne formule i tehnike</summary>
      <div style="margin-top: 10px;">
        <p><strong>Neodređeni oblik \( \frac{0}{0} \):</strong></p>
        <p style="margin-top: 8px;">Kada direktna zamena daje \( \frac{0}{0} \), moramo algebarski transformisati izraz pre izračunavanja limesa.</p>

        <p style="margin-top: 14px;"><strong>Faktorizacija grupisanjem:</strong></p>
        <p style="margin-top: 8px;">Izraz \( ac + ad + bc + bd \) se može zapisati kao \( a(c+d) + b(c+d) = (a+b)(c+d) \).</p>

        <p style="margin-top: 14px;"><strong>Racionalizacija:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>\( (\sqrt{a} - \sqrt{b})(\sqrt{a} + \sqrt{b}) = a - b \)</li>
          <li>Dakle: \( \dfrac{\sqrt{a} - \sqrt{b}}{a - b} = \dfrac{1}{\sqrt{a} + \sqrt{b}} \)</li>
        </ul>

        <p style="margin-top: 14px;"><strong>Potpun kvadrat:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>\( x^2 - 4x + 4 = (x - 2)^2 \)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <h2>Vizuelni prikaz: Ponašanje funkcije oko \( x = 2 \)</h2>
    <canvas id="limitCanvas" height="460"></canvas>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-title">Proverimo da je u pitanju neodređeni oblik</div>
      <div class="step-text">
        <p>Za \( x = 2 \) računamo brojilac:</p>
        <div class="highlight-box">
          \[ 2\sqrt{2} - \sqrt{2}\cdot 2 - 2\sqrt{2} + 2\sqrt{2} = 2\sqrt{2} - 2\sqrt{2} - 2\sqrt{2} + 2\sqrt{2} = 0 \]
        </div>
        <p>Za \( x = 2 \) računamo imenilac:</p>
        <div class="highlight-box">
          \[ 2^3 - 4 \cdot 2^2 + 4 \cdot 2 = 8 - 16 + 8 = 0 \]
        </div>
        <p>Dobijamo oblik \( \frac{0}{0} \), pa je potrebna algebarska transformacija.</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-title">Faktorizacija imenioca</div>
      <div class="step-text">
        <p>Imenilac \( x^3 - 4x^2 + 4x \) faktorizujemo izvlačenjem \( x \):</p>
        <div class="highlight-box">
          \[ x^3 - 4x^2 + 4x = x(x^2 - 4x + 4) = x(x - 2)^2 \]
        </div>
        <p>Prepoznajemo potpun kvadrat: \( x^2 - 4x + 4 = (x-2)^2 \).</p>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-title">Faktorizacija brojioca grupisanjem</div>
      <div class="step-text">
        <p>Brojilac je: \( x\sqrt{x} - \sqrt{2}\,x - 2\sqrt{x} + 2\sqrt{2} \).</p>
        <p>Pregrupišimo članove:</p>
        <div class="highlight-box">
          \[ \underbrace{(x\sqrt{x} - 2\sqrt{x})}_{\text{grupa 1}} + \underbrace{(-\sqrt{2}\,x + 2\sqrt{2})}_{\text{grupa 2}} \]
        </div>
        <p>Iz prve grupe izdvajamo \( \sqrt{x} \), iz druge \( -\sqrt{2} \):</p>
        <div class="highlight-box">
          \[ \sqrt{x}(x - 2) - \sqrt{2}(x - 2) = (x - 2)(\sqrt{x} - \sqrt{2}) \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Da li je faktorizacija tačna?</summary>
        <p style="margin-top: 8px;">Pomnožimo nazad: \( (x-2)(\sqrt{x}-\sqrt{2}) = x\sqrt{x} - x\sqrt{2} - 2\sqrt{x} + 2\sqrt{2} \). Ovo se poklapa sa polaznim brojiocem!</p>
      </details>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-title">Skraćivanje faktora \( (x - 2) \)</div>
      <div class="step-text">
        <p>Sada imamo:</p>
        <div class="highlight-box">
          \[ \frac{(x - 2)(\sqrt{x} - \sqrt{2})}{x(x - 2)^2} = \frac{\sqrt{x} - \sqrt{2}}{x(x - 2)} \]
        </div>
        <p>Skratili smo jedan faktor \( (x - 2) \) iz brojioca i imenioca. Ovo je dozvoljeno jer razmatramo limes za \( x \to 2 \), ne vrednost u tački \( x = 2 \).</p>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-title">Racionalizacija: veza između \( \sqrt{x} - \sqrt{2} \) i \( x - 2 \)</div>
      <div class="step-text">
        <p>Ključno zapažanje: razliku kvadrata možemo zapisati kao:</p>
        <div class="highlight-box">
          \[ x - 2 = (\sqrt{x})^2 - (\sqrt{2})^2 = (\sqrt{x} - \sqrt{2})(\sqrt{x} + \sqrt{2}) \]
        </div>
        <p>Zamenom u razlomak:</p>
        <div class="highlight-box">
          \[ \frac{\sqrt{x} - \sqrt{2}}{x \cdot (\sqrt{x} - \sqrt{2})(\sqrt{x} + \sqrt{2})} = \frac{1}{x(\sqrt{x} + \sqrt{2})} \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Zašto smemo da skratimo \( (\sqrt{x} - \sqrt{2}) \)?</summary>
        <p style="margin-top: 8px;">U limesu za \( x \to 2 \) posmatramo vrednosti \( x \) bliske, ali različite od 2. Za \( x \neq 2 \) važi \( \sqrt{x} \neq \sqrt{2} \), pa je skraćivanje dozvoljeno.</p>
      </details>
    </div>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-title">Izračunavanje granične vrednosti</div>
      <div class="step-text">
        <p>Sada imamo izraz bez neodređenosti, pa možemo direktno zameniti \( x = 2 \):</p>
        <div class="highlight-box">
          \[ \lim_{x \to 2} \frac{1}{x(\sqrt{x} + \sqrt{2})} = \frac{1}{2(\sqrt{2} + \sqrt{2})} = \frac{1}{2 \cdot 2\sqrt{2}} = \frac{1}{4\sqrt{2}} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-title">Verifikacija: racionalizacija rezultata</div>
      <div class="step-text">
        <p>Proverimo racionalizacijom imenioca:</p>
        <div class="highlight-box">
          \[ \frac{1}{4\sqrt{2}} = \frac{1}{4\sqrt{2}} \cdot \frac{\sqrt{2}}{\sqrt{2}} = \frac{\sqrt{2}}{4 \cdot 2} = \frac{\sqrt{2}}{8} \approx 0{,}17678 \]
        </div>
        <p>Ovo se poklapa sa odgovorom <strong>(A)</strong>.</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Ključni uvid</h2>
    <p>Celokupno rešenje se svodi na prepoznavanje dve ključne strukture:</p>
    <div class="highlight-box" style="text-align: left; font-family: inherit;">
      <p><strong>1.</strong> Brojilac se faktoriše <strong>grupisanjem</strong> na \( (x-2)(\sqrt{x}-\sqrt{2}) \).</p>
      <p style="margin-top: 8px;"><strong>2.</strong> Identitet \( x - 2 = (\sqrt{x}-\sqrt{2})(\sqrt{x}+\sqrt{2}) \) omogućava <strong>potpuno skraćivanje</strong> svih faktora koji daju nulu.</p>
    </div>
    <p style="margin-top: 12px;">Imenilac sadrži \( (x-2)^2 \), a brojilac sadrži \( (x-2) \cdot (\sqrt{x}-\sqrt{2}) \), što je ekvivalentno \( (x-2)^2 \cdot \frac{1}{\sqrt{x}+\sqrt{2}} \). Upravo zato se obe nule "potiru" i limes je konačan.</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2 style="color: #4ade80;">Konačan odgovor</h2>
    <div class="final-answer-value">\( \dfrac{1}{4\sqrt{2}} = \dfrac{\sqrt{2}}{8} \)</div>

    <div class="answer-options-row">
      <div class="answer-chip correct">(A) \( \frac{1}{4\sqrt{2}} \)</div>
      <div class="answer-chip">(B) \( \frac{1}{2\sqrt{2}} \)</div>
      <div class="answer-chip">(C) \( 0 \)</div>
      <div class="answer-chip">(D) \( \sqrt{2} \)</div>
      <div class="answer-chip">(E) \( \frac{1}{5\sqrt{2}} \)</div>
    </div>

    <p class="verification">Verifikacija: \( \frac{1}{2(\sqrt{2}+\sqrt{2})} = \frac{1}{2 \cdot 2\sqrt{2}} = \frac{1}{4\sqrt{2}} = \frac{\sqrt{2}}{8} \approx 0{,}177 \;\; \checkmark \)</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <h2>Česte greške</h2>
    <ul style="margin-left: 20px; margin-top: 8px;">
      <li style="margin-bottom: 10px;"><strong>Pogrešno grupisanje:</strong> Ako članove ne pregrupišete ispravno, faktorizacija ne funkcioniše. Ključ je da se grupišu \( (x\sqrt{x} - 2\sqrt{x}) \) i \( (-\sqrt{2}\,x + 2\sqrt{2}) \), a ne na primer prvi i drugi član zajedno.</li>
      <li style="margin-bottom: 10px;"><strong>Zaboravljena racionalizacija:</strong> Nakon skraćivanja jednog \( (x-2) \), još uvek ostaje \( (x-2) \) u imeniocu i \( (\sqrt{x}-\sqrt{2}) \) u brojiocu, što je opet oblik \( \frac{0}{0} \). Mora se primeniti identitet \( x - 2 = (\sqrt{x}-\sqrt{2})(\sqrt{x}+\sqrt{2}) \).</li>
      <li style="margin-bottom: 10px;"><strong>Greška u stepenu imenioca:</strong> Imenilac sadrži \( (x-2)^2 \), ne \( (x-2) \). Ako se zanemari kvadrat, dobija se pogrešan rezultat \( \frac{1}{2\sqrt{2}} \) umesto \( \frac{1}{4\sqrt{2}} \).</li>
      <li><strong>Primena Lopitalovog pravila bez potrebe:</strong> Iako je moguće koristiti Lopitalovo pravilo, algebarski pristup je brži i elegantniji za ovaj tip zadatka na prijemnom ispitu.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Izračunaj graničnu vrednost korišćenjem smene \( t = \sqrt{x} \) (pa \( x = t^2 \), \( x \to 2 \Leftrightarrow t \to \sqrt{2} \)):</p>
    <div class="highlight-box">
      \[ \lim_{t \to \sqrt{2}} \frac{t^2 \cdot t - \sqrt{2}\,t^2 - 2t + 2\sqrt{2}}{t^2(t^2 - 2)^2} \]
    </div>
    <p>Pokaži da brojilac postaje \( t^3 - \sqrt{2}\,t^2 - 2t + 2\sqrt{2} = (t - \sqrt{2})^2(t + \sqrt{2}) \) i da se dobija isti rezultat \( \frac{1}{4\sqrt{2}} \).</p>
    <p style="margin-top: 12px; color: #94a3b8;"><em>Savet:</em> Primeni Hornerovu shemu za deljenje polinoma sa \( (t - \sqrt{2}) \).</p>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas: visualize f(x) near x = 2
  const canvas = document.getElementById('limitCanvas');
  const ctx = canvas.getContext('2d');

  function f(x) {
    if (Math.abs(x - 2) < 1e-10) return NaN;
    const num = x * Math.sqrt(x) - Math.sqrt(2) * x - 2 * Math.sqrt(x) + 2 * Math.sqrt(2);
    const den = x * x * x - 4 * x * x + 4 * x;
    return num / den;
  }

  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    const w = rect.width - 48;
    canvas.width = w * 2;
    canvas.height = 460 * 2;
    canvas.style.height = '460px';
    ctx.scale(2, 2);
    drawGraph(w);
  }

  function drawGraph(W) {
    const H = 460;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    // Graph area
    const pad = { top: 50, bottom: 60, left: 70, right: 30 };
    const gW = W - pad.left - pad.right;
    const gH = H - pad.top - pad.bottom;

    // Domain: x in [0.5, 4], y in [-0.5, 1.0]
    const xMin = 0.5, xMax = 4.0;
    const yMin = -0.3, yMax = 0.8;

    function toScreenX(x) { return pad.left + (x - xMin) / (xMax - xMin) * gW; }
    function toScreenY(y) { return pad.top + (yMax - y) / (yMax - yMin) * gH; }

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Graf funkcije f(x) = [x\u221Ax \u2212 \u221A2\u00B7x \u2212 2\u221Ax + 2\u221A2] / [x\u00B3 \u2212 4x\u00B2 + 4x]', W / 2, 24);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    // Horizontal grid
    for (let y = -0.2; y <= 0.8; y += 0.2) {
      const sy = toScreenY(y);
      ctx.beginPath();
      ctx.moveTo(pad.left, sy);
      ctx.lineTo(W - pad.right, sy);
      ctx.stroke();

      ctx.fillStyle = '#64748b';
      ctx.font = '11px Segoe UI, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(y.toFixed(1).replace('.', ','), pad.left - 8, sy + 4);
    }

    // Vertical grid
    for (let x = 1; x <= 4; x += 0.5) {
      const sx = toScreenX(x);
      ctx.beginPath();
      ctx.moveTo(sx, pad.top);
      ctx.lineTo(sx, H - pad.bottom);
      ctx.stroke();

      ctx.fillStyle = '#64748b';
      ctx.font = '11px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(x.toFixed(1).replace('.', ','), sx, H - pad.bottom + 18);
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis (y=0)
    ctx.beginPath();
    ctx.moveTo(pad.left, toScreenY(0));
    ctx.lineTo(W - pad.right, toScreenY(0));
    ctx.stroke();
    // y-axis (x=0) - not visible in range, draw left border
    ctx.beginPath();
    ctx.moveTo(pad.left, pad.top);
    ctx.lineTo(pad.left, H - pad.bottom);
    ctx.stroke();

    // x-axis label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - pad.right + 15, toScreenY(0) + 5);

    // Plot the function
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    const step = (xMax - xMin) / 800;

    for (let x = xMin; x <= xMax; x += step) {
      if (Math.abs(x - 2) < 0.015) {
        started = false;
        continue;
      }
      const y = f(x);
      if (isNaN(y) || !isFinite(y) || y < yMin - 0.5 || y > yMax + 0.5) {
        started = false;
        continue;
      }
      const sx = toScreenX(x);
      const sy = toScreenY(y);
      if (!started) {
        ctx.moveTo(sx, sy);
        started = true;
      } else {
        ctx.lineTo(sx, sy);
      }
    }
    ctx.stroke();

    // Limit point: open circle at (2, 1/(4sqrt2))
    const limitVal = 1 / (4 * Math.sqrt(2));
    const lx = toScreenX(2);
    const ly = toScreenY(limitVal);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(lx, ly, 7, 0, 2 * Math.PI);
    ctx.stroke();

    // Dashed lines to the limit point
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    // Horizontal
    ctx.beginPath();
    ctx.moveTo(pad.left, ly);
    ctx.lineTo(lx, ly);
    ctx.stroke();
    // Vertical
    ctx.beginPath();
    ctx.moveTo(lx, ly);
    ctx.lineTo(lx, toScreenY(0));
    ctx.stroke();
    ctx.setLineDash([]);

    // Label the limit value
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('L = 1/(4\u221A2) \u2248 0,177', lx + 14, ly - 8);

    // Label x = 2
    ctx.fillStyle = '#4ade80';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = 2', lx, toScreenY(0) + 30);

    // Asymptotic behavior note
    ctx.fillStyle = '#f472b6';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Funkcija nije definisana u x = 2, ali limes postoji', W / 2, H - 14);

    // Legend
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.moveTo(W - pad.right - 180, pad.top + 10);
    ctx.lineTo(W - pad.right - 140, pad.top + 10);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('f(x)', W - pad.right - 135, pad.top + 14);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(W - pad.right - 160, pad.top + 32, 5, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Granična vrednost', W - pad.right - 135, pad.top + 36);
  }

  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Granična vrednost razlomka sa korenima",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["granične vrednosti", "neodređeni oblici", "faktorizacija", "racionalizacija", "limesi"]
}
BRAINSPARK_META-->