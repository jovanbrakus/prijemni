<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Broj realnih resenja trigonometrijske jednacine na [0, 2pi]</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Broj realnih i razlicitih resenja jednacine
  tg²(x) = (1 - cos x)/(1 - sin x)
na segmentu [0, 2π].

Domain restrictions:
  - tg(x) je definisan kada cos x ≠ 0, tj. x ≠ π/2 i x ≠ 3π/2
  - Imenilac: 1 - sin x ≠ 0, tj. sin x ≠ 1, tj. x ≠ π/2
  - Kombinovano: x ≠ π/2 i x ≠ 3π/2

Step 1: Prepisemo jednacinu koristeci tg²x = sin²x / cos²x:
  sin²x / cos²x = (1 - cos x) / (1 - sin x)

Step 2: Krstasto mnozenje (cos²x ≠ 0 i 1 - sin x ≠ 0):
  sin²x · (1 - sin x) = cos²x · (1 - cos x)

Step 3: Razvijemo obe strane:
  sin²x - sin³x = cos²x - cos³x

Step 4: Preuredimo:
  sin²x - cos²x = sin³x - cos³x

Step 5: Faktorisemo levu stranu (razlika kvadrata):
  sin²x - cos²x = (sin x - cos x)(sin x + cos x)

Step 6: Faktorisemo desnu stranu (razlika kubova):
  sin³x - cos³x = (sin x - cos x)(sin²x + sin x · cos x + cos²x)
                 = (sin x - cos x)(1 + sin x · cos x)

Step 7: Jednacina postaje:
  (sin x - cos x)(sin x + cos x) = (sin x - cos x)(1 + sin x · cos x)

Step 8: Prebacimo sve na jednu stranu:
  (sin x - cos x)[(sin x + cos x) - (1 + sin x · cos x)] = 0

Step 9: Dva slucaja:
  Slucaj 1: sin x - cos x = 0  =>  sin x = cos x  =>  tg x = 1
    Na [0, 2π]: x = π/4 i x = 5π/4
    Provera domena: obe vrednosti su dozvoljene (cos(π/4) ≠ 0, sin(π/4) ≠ 1, cos(5π/4) ≠ 0, sin(5π/4) ≠ 1)

  Slucaj 2: sin x + cos x = 1 + sin x · cos x
    Uvodimo smenu s = sin x + cos x.
    Tada: sin x · cos x = (s² - 1) / 2
    Jednacina: s = 1 + (s² - 1)/2 = (s² + 1)/2
    => 2s = s² + 1
    => s² - 2s + 1 = 0
    => (s - 1)² = 0
    => s = 1

    Dakle: sin x + cos x = 1
    => √2 · sin(x + π/4) = 1
    => sin(x + π/4) = 1/√2 = √2/2
    => x + π/4 = π/4 + 2kπ  ili  x + π/4 = 3π/4 + 2kπ
    => x = 2kπ  ili  x = π/2 + 2kπ

    Na [0, 2π]:
      x = 0: Provera: tg²(0) = 0, (1-1)/(1-0) = 0. OK!
      x = π/2: Iskljuceno (tg(π/2) ne postoji i 1 - sin(π/2) = 0)
      x = 2π: Provera: tg²(2π) = 0, (1-cos(2π))/(1-sin(2π)) = 0/1 = 0. OK!

Step 10: Resenja:
  x = 0, π/4, 5π/4, 2π

  Da li su 0 i 2π razlicite tacke na segmentu [0, 2π]?
  Segment [0, 2π] je zatvoren interval realne prave, pa su 0 i 2π razlicite realne vrednosti
  (iako imaju iste trigonometrijske vrednosti). Dakle, obe su validna resenja.

Step 11: Verifikacija svih resenja:
  x = 0: tg²(0) = 0, (1-1)/(1-0) = 0. ✓
  x = π/4: tg²(π/4) = 1, (1-cos(π/4))/(1-sin(π/4)) = (1-√2/2)/(1-√2/2) = 1. ✓
  x = 5π/4: tg²(5π/4) = 1, (1-cos(5π/4))/(1-sin(5π/4)) = (1+√2/2)/(1+√2/2) = 1. ✓
  x = 2π: tg²(2π) = 0, (1-1)/(1-0) = 0. ✓

Odgovor: 4 resenja => (B) 4
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
  font-size: 1.1rem;
}

.problem-statement .problem-text {
  margin-bottom: 20px;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-weight: 600;
}

.answer-option {
  cursor: default;
  transition: transform 0.15s;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  overflow-x: auto;
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  color: #fff;
  font-weight: 700;
  font-size: 0.95rem;
  margin-right: 10px;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.step-explanation {
  color: #cbd5e1;
  margin-bottom: 12px;
}

.step-container {
  margin-bottom: 28px;
  padding: 8px 12px;
  border-left: 3px solid transparent;
  border-radius: 4px;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step-container:hover {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-container.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.06);
}

details {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 12px 16px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.insight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-left: 4px solid #60a5fa;
  border-radius: 12px;
  padding: 20px 24px;
  margin: 24px 0;
}

.insight-box .insight-title {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.15rem;
  margin-bottom: 8px;
}

.final-answer-card {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin: 28px 0;
}

.final-answer-card .label {
  color: #34d399;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 10px;
}

.final-answer-card .answer {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin-bottom: 16px;
}

.final-options {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 16px;
}

.final-option {
  padding: 8px 20px;
  border-radius: 10px;
  font-size: 1.05rem;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
}

.pitfall-item {
  background: rgba(244, 114, 182, 0.08);
  border-left: 3px solid #f472b6;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  color: #fbb6ce;
}

.pitfall-title {
  color: #f472b6;
  font-weight: 600;
  margin-bottom: 4px;
}

canvas {
  width: 100%;
  border-radius: 12px;
  touch-action: none;
  display: block;
  margin: 0 auto;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

.arrow {
  color: #60a5fa;
  margin: 0 4px;
}

.checkpoint {
  background: rgba(52, 211, 153, 0.1);
  border: 1px solid rgba(52, 211, 153, 0.25);
  border-radius: 8px;
  padding: 10px 16px;
  margin: 15px 0;
  color: #34d399;
  font-weight: 600;
}

.sub-step {
  background: rgba(96, 165, 250, 0.05);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  padding: 12px 16px;
  margin: 12px 0;
}

.sub-step-label {
  color: #60a5fa;
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 6px;
}

.solutions-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
  gap: 10px;
  margin: 14px 0;
}

.solution-value {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.25);
  border-radius: 8px;
  padding: 8px 12px;
  text-align: center;
  font-size: 1rem;
  color: #60a5fa;
  font-weight: 600;
}

.solution-value.valid {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #4ade80;
}

.solution-value.invalid {
  background: rgba(244, 114, 182, 0.1);
  border-color: #f472b6;
  color: #f472b6;
  text-decoration: line-through;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .container { padding: 10px; }
  .given-grid { grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); }
  .final-answer-card .answer { font-size: 1.7rem; }
  .solutions-grid { grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); }
}
</style>
</head>
<body>
<div class="container">

  <h1>Trigonometrijska jednacina sa tangensom</h1>
  <p class="subtitle">Resavanje jednacine tg&sup2;x = (1 &minus; cos x)/(1 &minus; sin x), analiza domena, faktorisanje, smena</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128221;</span> Tekst zadatka</div>
    <div class="problem-text">
      Broj realnih i razlicitih resenja jednacine:
      \[ \operatorname{tg}^2 x = \frac{1 - \cos x}{1 - \sin x} \]
      na segmentu \([0,\;2\pi]\) je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(3\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">veci od \(4\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      <strong>Korak 1:</strong> Odrediti domen jednacine (ogranicenja za tangens i imenilac).
      <span class="arrow">&#10132;</span>
      <strong>Korak 2:</strong> Prebaciti \(\operatorname{tg}^2 x\) u oblik \(\frac{\sin^2 x}{\cos^2 x}\) i krstasto pomnoziti.
      <span class="arrow">&#10132;</span>
      <strong>Korak 3:</strong> Faktorisati jednacinu i resiti svaki slucaj.
      <span class="arrow">&#10132;</span>
      <strong>Korak 4:</strong> Proveriti resenja u domenu i prebrojati ih.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsecanje na teoriju</div>
    <details>
      <summary>Osnovni trigonometrijski identiteti</summary>
      <div class="math-box">
        \[ \operatorname{tg}^2 x = \frac{\sin^2 x}{\cos^2 x}, \qquad \sin^2 x + \cos^2 x = 1 \]
      </div>
      <p>Tangens je definisan samo kada je \(\cos x \neq 0\), tj. za \(x \neq \frac{\pi}{2} + k\pi\).</p>
    </details>
    <details>
      <summary>Razlika kvadrata i razlika kubova</summary>
      <div class="math-box">
        \[ a^2 - b^2 = (a - b)(a + b) \]
        \[ a^3 - b^3 = (a - b)(a^2 + ab + b^2) \]
      </div>
      <p>Ove formule su kljucne za faktorisanje izraza koji sadrze sinuse i kosinuse.</p>
    </details>
    <details>
      <summary>Pomocna smena \(s = \sin x + \cos x\)</summary>
      <div class="math-box">
        \[ \sin x + \cos x = \sqrt{2}\,\sin\!\left(x + \frac{\pi}{4}\right) \]
        \[ \sin x \cdot \cos x = \frac{s^2 - 1}{2}, \quad \text{gde je } s = \sin x + \cos x \]
      </div>
      <p>Ova smena omogucava svodjenje jednacina sa \(\sin x + \cos x\) i \(\sin x \cdot \cos x\) na kvadratnu jednacinu po \(s\).</p>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz: grafici leve i desne strane</div>
    <canvas id="mainCanvas" width="900" height="560"></canvas>
    <p class="canvas-hint">Grafik prikazuje levu stranu (plavo) i desnu stranu (roze) jednacine na [0, 2&pi;]. Zelene tacke oznacavaju resenja.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-title"><span class="step-badge">1</span> Odredjivanje domena</div>
      <p class="step-explanation">
        Pre nego sto pocnemo da resavamo, moramo utvrditi za koje vrednosti \(x\) jednacina uopste ima smisla na segmentu \([0, 2\pi]\).
      </p>

      <div class="sub-step">
        <div class="sub-step-label">Uslov za tangens</div>
        <p class="step-explanation">
          \(\operatorname{tg} x\) postoji samo kada \(\cos x \neq 0\), tj:
        </p>
        <div class="math-box">
          \[ x \neq \frac{\pi}{2} \quad \text{i} \quad x \neq \frac{3\pi}{2} \]
        </div>
      </div>

      <div class="sub-step">
        <div class="sub-step-label">Uslov za imenilac</div>
        <p class="step-explanation">
          Imenilac desne strane \(1 - \sin x\) mora biti razlicit od nule:
        </p>
        <div class="math-box">
          \[ 1 - \sin x \neq 0 \quad \Longrightarrow \quad \sin x \neq 1 \quad \Longrightarrow \quad x \neq \frac{\pi}{2} \]
        </div>
      </div>

      <p class="step-explanation" style="font-weight: 600; color: #e2e8f0;">
        Kombinovano: iskljucujemo \(x = \frac{\pi}{2}\) i \(x = \frac{3\pi}{2}\) iz razmatranja.
      </p>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-title"><span class="step-badge">2</span> Prepisivanje i krstasto mnozenje</div>
      <p class="step-explanation">
        Zamenimo \(\operatorname{tg}^2 x = \frac{\sin^2 x}{\cos^2 x}\) i pomnozimo krstasto (sto smemo jer je \(\cos^2 x \neq 0\) i \(1 - \sin x \neq 0\) u domenu):
      </p>
      <div class="math-box">
        \[ \frac{\sin^2 x}{\cos^2 x} = \frac{1 - \cos x}{1 - \sin x} \]
      </div>
      <div class="math-box">
        \[ \sin^2 x \cdot (1 - \sin x) = \cos^2 x \cdot (1 - \cos x) \]
      </div>
      <p class="step-explanation">
        Razvijemo obe strane:
      </p>
      <div class="math-box">
        \[ \sin^2 x - \sin^3 x = \cos^2 x - \cos^3 x \]
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-title"><span class="step-badge">3</span> Preuredjivanje i faktorisanje</div>
      <p class="step-explanation">
        Prebacimo sve na levu stranu:
      </p>
      <div class="math-box">
        \[ \sin^2 x - \cos^2 x - \sin^3 x + \cos^3 x = 0 \]
      </div>
      <p class="step-explanation">
        Grupisemo: razliku kvadrata i razliku kubova (sa promenjenim znakom):
      </p>

      <div class="sub-step">
        <div class="sub-step-label">Razlika kvadrata</div>
        <div class="math-box">
          \[ \sin^2 x - \cos^2 x = (\sin x - \cos x)(\sin x + \cos x) \]
        </div>
      </div>

      <div class="sub-step">
        <div class="sub-step-label">Razlika kubova (sa minus)</div>
        <div class="math-box">
          \[ -\sin^3 x + \cos^3 x = -(\sin^3 x - \cos^3 x) = -(\sin x - \cos x)(\sin^2 x + \sin x \cos x + \cos^2 x) \]
        </div>
        <p class="step-explanation">
          Koristimo \(\sin^2 x + \cos^2 x = 1\):
        </p>
        <div class="math-box">
          \[ = -(\sin x - \cos x)(1 + \sin x \cos x) \]
        </div>
      </div>

      <p class="step-explanation">
        Izvlacimo zajednicki faktor \((\sin x - \cos x)\):
      </p>
      <div class="math-box">
        \[ (\sin x - \cos x)\Big[(\sin x + \cos x) - (1 + \sin x \cos x)\Big] = 0 \]
      </div>

      <details>
        <summary>Proveri se: Sta je zajednicki faktor?</summary>
        <p>Zajednicki faktor oba sabirka je \((\sin x - \cos x)\). Iz razlike kvadrata dobijamo faktor \((\sin x + \cos x)\), a iz razlike kubova faktor \((1 + \sin x\cos x)\).</p>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-title"><span class="step-badge">4</span> Slucaj 1: \(\sin x = \cos x\)</div>
      <p class="step-explanation">
        Iz prvog faktora:
      </p>
      <div class="math-box">
        \[ \sin x - \cos x = 0 \quad \Longrightarrow \quad \sin x = \cos x \quad \Longrightarrow \quad \operatorname{tg} x = 1 \]
      </div>
      <p class="step-explanation">
        Na segmentu \([0, 2\pi]\) resenja su:
      </p>
      <div class="solutions-grid">
        <div class="solution-value valid">\(x = \frac{\pi}{4}\)</div>
        <div class="solution-value valid">\(x = \frac{5\pi}{4}\)</div>
      </div>
      <p class="step-explanation" style="margin-top: 10px;">
        Obe vrednosti su u domenu (\(\cos x \neq 0\) i \(\sin x \neq 1\)).
      </p>
    </div>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-title"><span class="step-badge">5</span> Slucaj 2: \(\sin x + \cos x = 1 + \sin x \cos x\)</div>
      <p class="step-explanation">
        Uvodimo smenu \(s = \sin x + \cos x\). Tada vazi:
      </p>
      <div class="math-box">
        \[ s^2 = \sin^2 x + 2\sin x \cos x + \cos^2 x = 1 + 2\sin x \cos x \]
        \[ \Longrightarrow \quad \sin x \cos x = \frac{s^2 - 1}{2} \]
      </div>
      <p class="step-explanation">
        Uvrstavamo u jednacinu:
      </p>
      <div class="math-box">
        \[ s = 1 + \frac{s^2 - 1}{2} = \frac{2 + s^2 - 1}{2} = \frac{s^2 + 1}{2} \]
      </div>
      <p class="step-explanation">
        Mnozimo sa 2:
      </p>
      <div class="math-box">
        \[ 2s = s^2 + 1 \quad \Longrightarrow \quad s^2 - 2s + 1 = 0 \quad \Longrightarrow \quad (s - 1)^2 = 0 \]
      </div>
      <p class="step-explanation" style="font-weight: 600; color: #e2e8f0;">
        Jedino resenje je \(s = 1\), dakle \(\sin x + \cos x = 1\).
      </p>

      <details>
        <summary>Proveri se: Koliko iznosi \(s\)?</summary>
        <p>Kvadratna jednacina \(s^2 - 2s + 1 = 0\) ima dvostruki koren \(s = 1\). Proverimo: \(1^2 - 2 \cdot 1 + 1 = 0\). Tacno!</p>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-title"><span class="step-badge">6</span> Resavanje \(\sin x + \cos x = 1\)</div>
      <p class="step-explanation">
        Koristimo identitet \(\sin x + \cos x = \sqrt{2}\,\sin\!\left(x + \frac{\pi}{4}\right)\):
      </p>
      <div class="math-box">
        \[ \sqrt{2}\,\sin\!\left(x + \frac{\pi}{4}\right) = 1 \quad \Longrightarrow \quad \sin\!\left(x + \frac{\pi}{4}\right) = \frac{1}{\sqrt{2}} = \frac{\sqrt{2}}{2} \]
      </div>
      <p class="step-explanation">
        Opste resenje:
      </p>
      <div class="math-box">
        \[ x + \frac{\pi}{4} = \frac{\pi}{4} + 2k\pi \quad \Longrightarrow \quad x = 2k\pi \]
        \[ x + \frac{\pi}{4} = \frac{3\pi}{4} + 2k\pi \quad \Longrightarrow \quad x = \frac{\pi}{2} + 2k\pi \]
      </div>
      <p class="step-explanation">
        Na segmentu \([0, 2\pi]\):
      </p>
      <div class="solutions-grid">
        <div class="solution-value valid">\(x = 0\)</div>
        <div class="solution-value invalid">\(x = \frac{\pi}{2}\) (iskljuceno)</div>
        <div class="solution-value valid">\(x = 2\pi\)</div>
      </div>
      <p class="step-explanation" style="margin-top: 10px;">
        Vrednost \(x = \frac{\pi}{2}\) je iskljucena iz domena (tangens ne postoji, imenilac je nula). Vrednosti \(x = 0\) i \(x = 2\pi\) su razlicite tacke zatvorenog segmenta \([0, 2\pi]\).
      </p>
    </div>

    <!-- Step 7 -->
    <div class="step-container" data-step="7">
      <div class="step-title"><span class="step-badge">7</span> Verifikacija svih resenja</div>
      <p class="step-explanation">
        Proverimo svako resenje uvrstavanje u polaznu jednacinu:
      </p>

      <div class="sub-step">
        <div class="sub-step-label">\(x = 0\)</div>
        <div class="math-box">
          \[ \operatorname{tg}^2(0) = 0, \qquad \frac{1 - \cos 0}{1 - \sin 0} = \frac{1 - 1}{1 - 0} = \frac{0}{1} = 0 \quad \checkmark \]
        </div>
      </div>

      <div class="sub-step">
        <div class="sub-step-label">\(x = \frac{\pi}{4}\)</div>
        <div class="math-box">
          \[ \operatorname{tg}^2\!\frac{\pi}{4} = 1, \qquad \frac{1 - \cos\frac{\pi}{4}}{1 - \sin\frac{\pi}{4}} = \frac{1 - \frac{\sqrt{2}}{2}}{1 - \frac{\sqrt{2}}{2}} = 1 \quad \checkmark \]
        </div>
      </div>

      <div class="sub-step">
        <div class="sub-step-label">\(x = \frac{5\pi}{4}\)</div>
        <div class="math-box">
          \[ \operatorname{tg}^2\!\frac{5\pi}{4} = 1, \qquad \frac{1 - \cos\frac{5\pi}{4}}{1 - \sin\frac{5\pi}{4}} = \frac{1 + \frac{\sqrt{2}}{2}}{1 + \frac{\sqrt{2}}{2}} = 1 \quad \checkmark \]
        </div>
      </div>

      <div class="sub-step">
        <div class="sub-step-label">\(x = 2\pi\)</div>
        <div class="math-box">
          \[ \operatorname{tg}^2(2\pi) = 0, \qquad \frac{1 - \cos 2\pi}{1 - \sin 2\pi} = \frac{1 - 1}{1 - 0} = \frac{0}{1} = 0 \quad \checkmark \]
        </div>
      </div>

      <div class="checkpoint">
        &#10003; Sva 4 resenja zadovoljavaju polaznu jednacinu i pripadaju domenu.
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="insight-title">Kljucni uvid</div>
    <p>
      Kljuc ovog zadatka je vestina faktorisanja. Kada se jednacina svede na oblik \((\sin x - \cos x)\big[\sin x + \cos x - 1 - \sin x \cos x\big] = 0\), svaki faktor daje poseban skup resenja. Posebno elegantna je smena \(s = \sin x + \cos x\) koja drugi faktor pretvara u potpun kvadrat \((s-1)^2 = 0\). Ne zaboravite: na zatvorenom segmentu \([0, 2\pi]\) tacke \(0\) i \(2\pi\) su razlicite realne vrednosti, iako imaju iste trigonometrijske vrednosti.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="label">Konacan odgovor</div>
    <div class="answer">\(4\) resenja</div>
    <p style="color: #94a3b8; margin-bottom: 12px;">
      Resenja su: \(x \in \left\{0,\;\frac{\pi}{4},\;\frac{5\pi}{4},\;2\pi\right\}\)
    </p>
    <div class="final-options">
      <div class="final-option" data-option="A">(A) \(3\)</div>
      <div class="final-option correct" data-option="B">(B) \(4\)</div>
      <div class="final-option" data-option="C">(C) \(2\)</div>
      <div class="final-option" data-option="D">(D) \(1\)</div>
      <div class="final-option" data-option="E">(E) veci od \(4\)</div>
    </div>
    <p class="verification-note">
      Verifikacija: Iz \(\sin x = \cos x\) dobijamo 2 resenja (\(\frac{\pi}{4}\) i \(\frac{5\pi}{4}\)). Iz \(\sin x + \cos x = 1\) dobijamo jos 2 resenja (\(0\) i \(2\pi\)), dok je \(\frac{\pi}{2}\) iskljuceno iz domena. Ukupno: 4 &#10004;
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <div class="pitfall-title">Zaboravljanje da su 0 i 2&pi; razlicite tacke na segmentu</div>
      <p>Na segmentu \([0, 2\pi]\) (zatvoren interval realne prave), \(0\) i \(2\pi\) su razliciti realni brojevi, pa se broje kao dva razlicita resenja. Da je u pitanju krug (tj. interval \([0, 2\pi)\)), resenje bi bilo samo \(x = 0\).</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Propustanje provere domena</div>
      <p>Vrednost \(x = \frac{\pi}{2}\) matematicki zadovoljava jednacinu \(\sin x + \cos x = 1\), ali nije u domenu polazne jednacine (tangens ne postoji, imenilac je nula). Neiskusni ucenici mogu da ubroje ovo resenje i dobiju odgovor 5 umesto 4.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p class="step-explanation">
      Koliko resenja ima jednacina
      \[ \operatorname{tg}^2 x = \frac{1 + \cos x}{1 + \sin x} \]
      na segmentu \([0, 2\pi]\)?
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p>Postupak je analogan: prepisati \(\operatorname{tg}^2 x = \sin^2 x / \cos^2 x\), krstasto pomnoziti, a zatim faktorisati koristeci zbir kvadrata i zbir kubova. Domen iskljucuje \(x = \frac{\pi}{2}\), \(\frac{3\pi}{2}\) (tangens) i \(\sin x = -1\), tj. \(x = \frac{3\pi}{2}\) (imenilac). Razmislite koje nove jednacine dobijate iz faktorisanja.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Main canvas: plot LHS and RHS
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 560 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 560;
    const PI = Math.PI;

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('tg\u00B2(x) i (1 \u2212 cos x)/(1 \u2212 sin x) na [0, 2\u03C0]', W / 2, 24);

    // Plot area
    var padL = 60, padR = 30, padT = 50, padB = 90;
    var plotW = W - padL - padR;
    var plotH = H - padT - padB;
    var plotCenterY = padT + plotH * 0.35; // shift center up since tan can go very high

    var maxY = 6;

    function xToScreen(xVal) {
      return padL + (xVal / (2 * PI)) * plotW;
    }
    function yToScreen(yVal) {
      return plotCenterY - (yVal / maxY) * (plotH * 0.33);
    }

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var g = -2; g <= 6; g++) {
      var gy = yToScreen(g);
      if (gy > padT && gy < padT + plotH) {
        ctx.beginPath();
        ctx.moveTo(padL, gy);
        ctx.lineTo(W - padR, gy);
        ctx.stroke();
      }
    }
    // Vertical gridlines at pi/4 intervals
    for (var v = 0; v <= 8; v++) {
      var vx = xToScreen(v * PI / 4);
      ctx.beginPath();
      ctx.moveTo(vx, padT);
      ctx.lineTo(vx, padT + plotH);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis (y=0)
    var y0 = yToScreen(0);
    ctx.beginPath();
    ctx.moveTo(padL, y0);
    ctx.lineTo(W - padR, y0);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(padL, padT);
    ctx.lineTo(padL, padT + plotH);
    ctx.stroke();

    // X-axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    var xLabels = [
      {val: 0, label: '0'},
      {val: PI/4, label: '\u03C0/4'},
      {val: PI/2, label: '\u03C0/2'},
      {val: 3*PI/4, label: '3\u03C0/4'},
      {val: PI, label: '\u03C0'},
      {val: 5*PI/4, label: '5\u03C0/4'},
      {val: 3*PI/2, label: '3\u03C0/2'},
      {val: 7*PI/4, label: '7\u03C0/4'},
      {val: 2*PI, label: '2\u03C0'}
    ];
    for (var i = 0; i < xLabels.length; i++) {
      var sx = xToScreen(xLabels[i].val);
      ctx.fillText(xLabels[i].label, sx, y0 + 18);
    }

    // Y-axis labels
    ctx.textAlign = 'right';
    for (var yy = 0; yy <= 6; yy += 2) {
      var ysy = yToScreen(yy);
      if (ysy > padT && ysy < padT + plotH) {
        ctx.fillText(yy.toString(), padL - 8, ysy + 4);
      }
    }

    // Draw asymptotes at x = pi/2 and 3pi/2
    ctx.strokeStyle = 'rgba(248, 113, 113, 0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 4]);
    var asymX1 = xToScreen(PI / 2);
    ctx.beginPath();
    ctx.moveTo(asymX1, padT);
    ctx.lineTo(asymX1, padT + plotH);
    ctx.stroke();
    var asymX2 = xToScreen(3 * PI / 2);
    ctx.beginPath();
    ctx.moveTo(asymX2, padT);
    ctx.lineTo(asymX2, padT + plotH);
    ctx.stroke();
    ctx.setLineDash([]);

    // Asymptote labels
    ctx.fillStyle = 'rgba(248, 113, 113, 0.7)';
    ctx.font = '10px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('asimptota', asymX1, padT + plotH + 32);
    ctx.fillText('asimptota', asymX2, padT + plotH + 32);

    // Functions
    function lhs(x) {
      var c = Math.cos(x);
      if (Math.abs(c) < 0.01) return NaN;
      var t = Math.sin(x) / c;
      return t * t;
    }
    function rhs(x) {
      var s = Math.sin(x);
      if (Math.abs(1 - s) < 0.01) return NaN;
      return (1 - Math.cos(x)) / (1 - s);
    }

    var steps2 = Math.max(800, Math.floor(plotW * 3));

    // Clip to plot area
    ctx.save();
    ctx.beginPath();
    ctx.rect(padL, padT, plotW, plotH);
    ctx.clip();

    // Draw LHS: tg²(x) (blue)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    var prevLHS = NaN;
    for (var s1 = 0; s1 <= steps2; s1++) {
      var xVal = (s1 / steps2) * 2 * PI;
      var yVal = lhs(xVal);
      var sx2 = xToScreen(xVal);
      var sy2 = yToScreen(yVal);

      if (isNaN(yVal) || isNaN(prevLHS) || Math.abs(yVal - prevLHS) > 50) {
        ctx.stroke();
        ctx.beginPath();
        if (!isNaN(yVal)) {
          ctx.moveTo(sx2, sy2);
        }
      } else {
        ctx.lineTo(sx2, sy2);
      }
      prevLHS = yVal;
    }
    ctx.stroke();

    // Draw RHS: (1-cosx)/(1-sinx) (pink)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var prevRHS = NaN;
    var started = false;
    for (var s2 = 0; s2 <= steps2; s2++) {
      var xVal2 = (s2 / steps2) * 2 * PI;
      var yVal2 = rhs(xVal2);
      var sx3 = xToScreen(xVal2);
      var sy3 = yToScreen(yVal2);

      if (isNaN(yVal2) || isNaN(prevRHS) || Math.abs(yVal2 - prevRHS) > 50) {
        if (started) ctx.stroke();
        ctx.beginPath();
        started = false;
        if (!isNaN(yVal2)) {
          ctx.moveTo(sx3, sy3);
          started = true;
        }
      } else {
        ctx.lineTo(sx3, sy3);
        started = true;
      }
      prevRHS = yVal2;
    }
    ctx.stroke();

    ctx.restore(); // Remove clipping

    // Mark solutions
    var solutions = [0, PI / 4, 5 * PI / 4, 2 * PI];
    var solLabels = ['0', '\u03C0/4', '5\u03C0/4', '2\u03C0'];
    var solValues = [0, 1, 1, 0];

    for (var j = 0; j < solutions.length; j++) {
      var solX = xToScreen(solutions[j]);
      var solY = yToScreen(solValues[j]);

      // Vertical dashed line
      ctx.strokeStyle = 'rgba(52, 211, 153, 0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(solX, padT);
      ctx.lineTo(solX, padT + plotH);
      ctx.stroke();
      ctx.setLineDash([]);

      // Green dot
      ctx.beginPath();
      ctx.arc(solX, solY, 7, 0, 2 * PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      var labelY2 = padT + 14 + (j % 2) * 16;
      ctx.fillText(solLabels[j], solX, labelY2);
    }

    // Mark excluded point x = pi/2
    var exclX = xToScreen(PI / 2);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    var exclY = yToScreen(0);
    ctx.beginPath();
    ctx.moveTo(exclX - 7, exclY - 7);
    ctx.lineTo(exclX + 7, exclY + 7);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(exclX + 7, exclY - 7);
    ctx.lineTo(exclX - 7, exclY + 7);
    ctx.stroke();

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 10px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03C0/2 (iskljuceno)', exclX, padT + plotH + 46);

    // Legend
    var legY = H - 25;
    var legStartX = W / 2 - 220;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legStartX, legY - 6, 20, 3);
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Leva strana: tg\u00B2(x)', legStartX + 26, legY);

    var leg2X = legStartX + 180;
    ctx.fillStyle = '#f472b6';
    ctx.fillRect(leg2X, legY - 6, 20, 3);
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Desna strana: (1\u2212cos x)/(1\u2212sin x)', leg2X + 26, legY);

    // Solutions count
    ctx.beginPath();
    ctx.arc(W / 2 - 50, legY + 18, 5, 0, 2 * PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Resenja (ukupno 4)', W / 2 - 40, legY + 22);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Broj resenja trigonometrijske jednacine tg²x na segmentu [0, 2π]",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrijske jednacine", "tangens", "faktorisanje", "smena", "razlika kvadrata", "razlika kubova", "domen funkcije"]
}
BRAINSPARK_META-->