<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrija - Izračunavanje tg(α) pomoću poluugaonih formula</title>
<script>
MathJax = { tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] }, svg: { fontCache: 'global' } };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 2rem 1rem;
}
.container { max-width: 1200px; margin: 0 auto; }
h1 {
  text-align: center;
  font-size: clamp(1.6rem, 4vw, 2.4rem);
  background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 2rem;
  padding: 0.5rem 0;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 1.5rem 2rem;
  margin-bottom: 1.5rem;
}
.card h2 {
  font-size: 1.3rem;
  margin-bottom: 1rem;
  color: #60a5fa;
}
.card h3 {
  font-size: 1.1rem;
  margin-bottom: 0.8rem;
  color: #a78bfa;
}
.problem-statement {
  border-left: 4px solid #a78bfa;
  font-size: 1.1rem;
}
.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.8rem;
  margin-top: 1rem;
}
.answer-option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 0.7rem 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
  font-size: 1.05rem;
}
.answer-option:hover {
  border-color: #60a5fa;
  background: #1a2744;
}
.answer-option.selected {
  border-color: #60a5fa;
  background: #1e3a5f;
  box-shadow: 0 0 12px rgba(96, 165, 250, 0.2);
}
.badge {
  display: inline-block;
  background: linear-gradient(135deg, #a78bfa, #60a5fa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  padding: 0.2rem 0.7rem;
  border-radius: 999px;
  margin-right: 0.5rem;
}
.step {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 1.2rem 1.5rem;
  margin-bottom: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
}
.step:hover { border-color: #60a5fa; }
.step.open { border-color: #a78bfa; }
.step-header {
  display: flex;
  align-items: center;
  font-weight: 600;
}
.step-content {
  margin-top: 1rem;
  display: none;
  animation: fadeIn 0.3s ease;
}
.step.open .step-content { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-8px); } to { opacity: 1; transform: translateY(0); } }
.checkpoint {
  background: linear-gradient(135deg, #1e3a5f, #1e293b);
  border: 1px dashed #60a5fa;
  border-radius: 10px;
  padding: 1rem 1.2rem;
  margin-top: 1rem;
}
.checkpoint-btn {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  border: none;
  border-radius: 8px;
  padding: 0.5rem 1.2rem;
  cursor: pointer;
  font-weight: 600;
  font-size: 0.95rem;
  margin-top: 0.5rem;
  transition: transform 0.2s;
}
.checkpoint-btn:hover { transform: scale(1.05); }
.checkpoint-answer {
  margin-top: 0.8rem;
  display: none;
  color: #4ade80;
}
.final-answer {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, #0f2a1f, #1e293b);
  text-align: center;
  font-size: 1.2rem;
}
.final-answer .big-result {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 700;
  margin: 1rem 0;
}
.option-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.6rem;
  margin: 1rem 0;
}
.option-pill {
  padding: 0.5rem 1.2rem;
  border-radius: 999px;
  font-weight: 600;
  font-size: 1rem;
  border: 2px solid #334155;
  background: #0f172a;
  color: #94a3b8;
}
.option-pill.correct {
  border-color: #4ade80;
  background: #0f2a1f;
  color: #4ade80;
}
.key-insight {
  border-left: 4px solid #f472b6;
}
.key-insight h2 { color: #f472b6; }
.pitfalls { border-left: 4px solid #fbbf24; }
.pitfalls h2 { color: #fbbf24; }
.pitfalls ul { padding-left: 1.5rem; }
.pitfalls li { margin-bottom: 0.5rem; }
.pitfalls li::marker { color: #fbbf24; }
details {
  margin-top: 0.5rem;
}
summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 0.5rem 0;
  user-select: none;
}
summary:hover { color: #a78bfa; }
details[open] summary { margin-bottom: 0.8rem; }
canvas {
  display: block;
  margin: 1rem auto;
  border-radius: 12px;
  max-width: 100%;
}
.muted { color: #94a3b8; }
.text-green { color: #4ade80; }
.text-blue { color: #60a5fa; }
.text-purple { color: #a78bfa; }
.text-pink { color: #f472b6; }
@media (max-width: 600px) {
  .card { padding: 1rem 1.2rem; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .option-row { gap: 0.4rem; }
}
</style>
<!-- Logic Scratchpad:
  Problem: sin(α/2) = 1/√5, α ∈ (π, 2π), find tg(α).

  Since α ∈ (π, 2π), α/2 ∈ (π/2, π) — second quadrant.
  In Q2: sin > 0 (consistent with 1/√5 > 0), cos < 0.

  sin²(α/2) = 1/5
  cos²(α/2) = 1 - 1/5 = 4/5
  cos(α/2) = -2/√5 (negative in Q2)

  Double angle formulas:
  sin(α) = 2·sin(α/2)·cos(α/2) = 2·(1/√5)·(-2/√5) = -4/5
  cos(α) = 1 - 2·sin²(α/2) = 1 - 2/5 = 3/5

  Check: α ∈ (π, 2π). sin(α) = -4/5 < 0 ✓ (sin < 0 in III and IV).
  cos(α) = 3/5 > 0 ✓ (cos > 0 in IV quadrant).
  So α is in the fourth quadrant (3π/2, 2π) — consistent with both sin < 0, cos > 0.

  tg(α) = sin(α)/cos(α) = (-4/5)/(3/5) = -4/3

  Answer: (B) −4/3
-->
</head>
<body>
<div class="container">

<h1>Trigonometrija &mdash; Izračunavanje \(\operatorname{tg}(\alpha)\) pomoću poluugaonih formula</h1>

<!-- Problem Statement -->
<div class="card problem-statement">
  <h2>Zadatak</h2>
  <p>Ako je</p>
  \[\sin\frac{\alpha}{2} = \frac{1}{\sqrt{5}}, \quad \alpha \in (\pi,\, 2\pi)\]
  <p>onda je \(\operatorname{tg}(\alpha)\) jednako:</p>
  <div class="given-grid">
    <div class="answer-option" data-option="A" onclick="selectOption(this)">(A) \(\dfrac{3}{4}\)</div>
    <div class="answer-option" data-option="B" onclick="selectOption(this)">(B) \(-\dfrac{4}{3}\)</div>
    <div class="answer-option" data-option="C" onclick="selectOption(this)">(C) \(\dfrac{1}{2}\)</div>
    <div class="answer-option" data-option="D" onclick="selectOption(this)">(D) \(-\dfrac{1}{3}\)</div>
    <div class="answer-option" data-option="E" onclick="selectOption(this)">(E) \(\dfrac{7}{3}\)</div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <h2>Plan rešavanja</h2>
  <ol style="padding-left: 1.5rem;">
    <li>Odrediti u kom je kvadrantu ugao \(\frac{\alpha}{2}\) na osnovu datog opsega za \(\alpha\).</li>
    <li>Iz poznate vrednosti \(\sin\frac{\alpha}{2}\) izračunati \(\cos\frac{\alpha}{2}\), vodeći računa o znaku.</li>
    <li>Primeniti formule dvostrukog ugla za \(\sin\alpha\) i \(\cos\alpha\).</li>
    <li>Izračunati \(\operatorname{tg}(\alpha) = \dfrac{\sin\alpha}{\cos\alpha}\).</li>
  </ol>
</div>

<!-- Theory -->
<div class="card">
  <h2>Teorija</h2>
  <details>
    <summary>Formule dvostrukog ugla i znaci trigonometrijskih funkcija &mdash; klikni da vidiš</summary>
    <h3>Formule dvostrukog ugla</h3>
    <p>Ako znamo \(\sin\frac{\alpha}{2}\) i \(\cos\frac{\alpha}{2}\), možemo izračunati:</p>
    \[\sin\alpha = 2\sin\frac{\alpha}{2}\cos\frac{\alpha}{2}\]
    \[\cos\alpha = \cos^2\frac{\alpha}{2} - \sin^2\frac{\alpha}{2} = 1 - 2\sin^2\frac{\alpha}{2}\]
    <h3 style="margin-top: 1rem;">Osnovna trigonometrijska identičnost</h3>
    \[\sin^2\frac{\alpha}{2} + \cos^2\frac{\alpha}{2} = 1\]
    <h3 style="margin-top: 1rem;">Znaci po kvadrantima</h3>
    <ul style="padding-left: 1.5rem; margin: 0.5rem 0;">
      <li><strong>I kvadrant</strong> \(\left(0, \frac{\pi}{2}\right)\): \(\sin > 0\), \(\cos > 0\)</li>
      <li><strong>II kvadrant</strong> \(\left(\frac{\pi}{2}, \pi\right)\): \(\sin > 0\), \(\cos < 0\)</li>
      <li><strong>III kvadrant</strong> \(\left(\pi, \frac{3\pi}{2}\right)\): \(\sin < 0\), \(\cos < 0\)</li>
      <li><strong>IV kvadrant</strong> \(\left(\frac{3\pi}{2}, 2\pi\right)\): \(\sin < 0\), \(\cos > 0\)</li>
    </ul>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <h2>Vizuelni prikaz</h2>
  <p class="muted">Dijagram prikazuje jediničnu kružnicu sa označenim uglom \(\alpha/2\) u drugom kvadrantu, kao i uglom \(\alpha\) u četvrtom kvadrantu, zajedno sa odgovarajućim vrednostima sinusa i kosinusa.</p>
  <canvas id="mainCanvas" width="700" height="500"></canvas>
</div>

<!-- Steps -->
<div class="card">
  <h2>Rešenje korak po korak</h2>

  <div class="step open" onclick="toggleStep(this)">
    <div class="step-header">
      <span class="badge">Korak 1</span> Određivanje kvadranta ugla \(\alpha/2\)
    </div>
    <div class="step-content">
      <p>Dato je da \(\alpha \in (\pi,\, 2\pi)\). Podelimo sve sa \(2\):</p>
      \[\frac{\alpha}{2} \in \left(\frac{\pi}{2},\, \pi\right)\]
      <p>Dakle, ugao \(\frac{\alpha}{2}\) se nalazi u <strong>drugom kvadrantu</strong>.</p>
      <p>U drugom kvadrantu važi:</p>
      <ul style="padding-left: 1.5rem; margin: 0.5rem 0;">
        <li>\(\sin\frac{\alpha}{2} > 0\) &mdash; konzistentno sa \(\frac{1}{\sqrt{5}} > 0\) &check;</li>
        <li>\(\cos\frac{\alpha}{2} < 0\) &mdash; ovo je ključno za dalji račun!</li>
      </ul>
    </div>
  </div>

  <div class="step" onclick="toggleStep(this)">
    <div class="step-header">
      <span class="badge">Korak 2</span> Izračunavanje \(\cos\frac{\alpha}{2}\)
    </div>
    <div class="step-content">
      <p>Koristimo osnovnu trigonometrijsku identičnost:</p>
      \[\sin^2\frac{\alpha}{2} + \cos^2\frac{\alpha}{2} = 1\]
      <p>Uvrstimo \(\sin\frac{\alpha}{2} = \frac{1}{\sqrt{5}}\):</p>
      \[\left(\frac{1}{\sqrt{5}}\right)^2 + \cos^2\frac{\alpha}{2} = 1\]
      \[\frac{1}{5} + \cos^2\frac{\alpha}{2} = 1\]
      \[\cos^2\frac{\alpha}{2} = 1 - \frac{1}{5} = \frac{4}{5}\]
      <p>Odavde je \(\cos\frac{\alpha}{2} = \pm\frac{2}{\sqrt{5}}\). Pošto je \(\frac{\alpha}{2}\) u drugom kvadrantu gde je kosinus <strong>negativan</strong>:</p>
      \[\boxed{\cos\frac{\alpha}{2} = -\frac{2}{\sqrt{5}}}\]

      <div class="checkpoint">
        <p><strong>Proveri se:</strong> Zašto je kosinus negativan?</p>
        <button class="checkpoint-btn" onclick="event.stopPropagation(); showCheckpoint(this);">Prikaži odgovor</button>
        <div class="checkpoint-answer">
          <p>Jer se ugao \(\frac{\alpha}{2}\) nalazi u intervalu \(\left(\frac{\pi}{2},\, \pi\right)\), a to je drugi kvadrant gde su x-koordinate na jediničnoj kružnici negativne. Kosinus odgovara upravo x-koordinati, pa je \(\cos\frac{\alpha}{2} < 0\).</p>
        </div>
      </div>
    </div>
  </div>

  <div class="step" onclick="toggleStep(this)">
    <div class="step-header">
      <span class="badge">Korak 3</span> Izračunavanje \(\sin\alpha\) formulom dvostrukog ugla
    </div>
    <div class="step-content">
      <p>Primenimo formulu dvostrukog ugla:</p>
      \[\sin\alpha = 2\sin\frac{\alpha}{2}\cos\frac{\alpha}{2}\]
      <p>Uvrstimo poznate vrednosti:</p>
      \[\sin\alpha = 2 \cdot \frac{1}{\sqrt{5}} \cdot \left(-\frac{2}{\sqrt{5}}\right)\]
      \[\sin\alpha = 2 \cdot \frac{-2}{5} = -\frac{4}{5}\]
      \[\boxed{\sin\alpha = -\frac{4}{5}}\]
      <p class="muted" style="margin-top: 0.5rem;">Provera znaka: \(\alpha \in (\pi, 2\pi)\), pa je \(\sin\alpha \leq 0\). Dobili smo \(-\frac{4}{5} < 0\) &check;</p>
    </div>
  </div>

  <div class="step" onclick="toggleStep(this)">
    <div class="step-header">
      <span class="badge">Korak 4</span> Izračunavanje \(\cos\alpha\) formulom dvostrukog ugla
    </div>
    <div class="step-content">
      <p>Koristimo drugu varijantu formule dvostrukog ugla:</p>
      \[\cos\alpha = 1 - 2\sin^2\frac{\alpha}{2}\]
      <p>Uvrstimo:</p>
      \[\cos\alpha = 1 - 2 \cdot \frac{1}{5} = 1 - \frac{2}{5} = \frac{3}{5}\]
      \[\boxed{\cos\alpha = \frac{3}{5}}\]
      <p class="muted" style="margin-top: 0.5rem;">Provera: \(\sin^2\alpha + \cos^2\alpha = \frac{16}{25} + \frac{9}{25} = \frac{25}{25} = 1\) &check;</p>
      <p class="muted">Ugao \(\alpha\) ima \(\sin\alpha < 0\) i \(\cos\alpha > 0\), dakle \(\alpha\) je u <strong>IV kvadrantu</strong> \(\left(\frac{3\pi}{2}, 2\pi\right)\).</p>

      <div class="checkpoint">
        <p><strong>Proveri se:</strong> Zašto smo koristili baš formulu \(\cos\alpha = 1 - 2\sin^2\frac{\alpha}{2}\)?</p>
        <button class="checkpoint-btn" onclick="event.stopPropagation(); showCheckpoint(this);">Prikaži odgovor</button>
        <div class="checkpoint-answer">
          <p>Zato što nam je poznata vrednost \(\sin\frac{\alpha}{2}\), pa je ova formula najpraktičnija &mdash; direktno uvrstimo bez potrebe za kosinusom poluugla. Alternativno, mogli smo koristiti \(\cos\alpha = \cos^2\frac{\alpha}{2} - \sin^2\frac{\alpha}{2} = \frac{4}{5} - \frac{1}{5} = \frac{3}{5}\), što daje isti rezultat.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="step" onclick="toggleStep(this)">
    <div class="step-header">
      <span class="badge">Korak 5</span> Izračunavanje \(\operatorname{tg}(\alpha)\)
    </div>
    <div class="step-content">
      <p>Konačno, tangensna funkcija je količnik sinusa i kosinusa:</p>
      \[\operatorname{tg}(\alpha) = \frac{\sin\alpha}{\cos\alpha} = \frac{-\dfrac{4}{5}}{\dfrac{3}{5}} = -\frac{4}{5} \cdot \frac{5}{3} = -\frac{4}{3}\]
      \[\boxed{\operatorname{tg}(\alpha) = -\frac{4}{3}}\]
      <p class="muted" style="margin-top: 0.5rem;">Provera znaka: U IV kvadrantu tangens je negativan (\(\sin < 0\), \(\cos > 0\)), pa je \(\operatorname{tg} < 0\) &check;</p>
    </div>
  </div>
</div>

<!-- Key Insight -->
<div class="card key-insight">
  <h2>Ključni uvid</h2>
  <p>Celokupan zadatak se svodi na pažljivo određivanje <strong>znaka kosinusa poluugla</strong>. Mnogi učenici korektno izračunaju apsolutnu vrednost \(\cos\frac{\alpha}{2} = \frac{2}{\sqrt{5}}\), ali zaborave na minus jer ne analiziraju u kom je kvadrantu ugao \(\frac{\alpha}{2}\).</p>
  <p style="margin-top: 0.5rem;">Ključni korak je:</p>
  <ol style="padding-left: 1.5rem; margin-top: 0.5rem;">
    <li>\(\alpha \in (\pi, 2\pi)\) \(\Rightarrow\) \(\frac{\alpha}{2} \in \left(\frac{\pi}{2}, \pi\right)\) &mdash; drugi kvadrant</li>
    <li>U drugom kvadrantu kosinus je <strong>negativan</strong> \(\Rightarrow\) \(\cos\frac{\alpha}{2} = -\frac{2}{\sqrt{5}}\)</li>
  </ol>
  <p style="margin-top: 0.5rem;">Da smo uzeli pozitivan kosinus, dobili bismo \(\operatorname{tg}(\alpha) = \frac{4}{3}\), što nije među ponuđenim odgovorima (ali \(\frac{3}{4}\) jeste &mdash; zamka!).</p>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <h2 style="color: #4ade80;">Konačan odgovor</h2>
  <p>Za \(\sin\frac{\alpha}{2} = \frac{1}{\sqrt{5}}\) i \(\alpha \in (\pi, 2\pi)\), važi:</p>
  <div class="big-result">\(\operatorname{tg}(\alpha) = -\dfrac{4}{3}\)</div>
  <div class="option-row">
    <span class="option-pill">(A) \(\frac{3}{4}\)</span>
    <span class="option-pill correct">(B) \(-\frac{4}{3}\)</span>
    <span class="option-pill">(C) \(\frac{1}{2}\)</span>
    <span class="option-pill">(D) \(-\frac{1}{3}\)</span>
    <span class="option-pill">(E) \(\frac{7}{3}\)</span>
  </div>
  <p style="margin-top: 1rem;"><strong>Verifikacija:</strong> \(\sin\alpha = -\frac{4}{5}\), \(\cos\alpha = \frac{3}{5}\), pa \(\sin^2\alpha + \cos^2\alpha = \frac{16}{25} + \frac{9}{25} = 1\) &check;. Tangens: \(\frac{-4/5}{3/5} = -\frac{4}{3}\). Tačan odgovor je <strong class="text-green">(B)</strong>.</p>
</div>

<!-- Pitfalls -->
<div class="card pitfalls">
  <h2>Tipične greške</h2>
  <ul>
    <li><strong>Pogrešan znak kosinusa poluugla:</strong> Ako uzmemo \(\cos\frac{\alpha}{2} = +\frac{2}{\sqrt{5}}\) (pozitivan), dobijamo \(\sin\alpha = +\frac{4}{5}\) i \(\operatorname{tg}(\alpha) = \frac{4}{3}\), što nije tačno jer \(\frac{\alpha}{2}\) pripada drugom kvadrantu gde je kosinus negativan.</li>
    <li><strong>Zamena ugla i poluugla:</strong> Ako se pomešaju \(\alpha\) i \(\frac{\alpha}{2}\) prilikom određivanja kvadranta, dolazi se do pogrešnog znaka. Uvek prvo odrediti opseg za \(\frac{\alpha}{2}\), a zatim za \(\alpha\).</li>
    <li><strong>Računska greška u množenju razlomaka:</strong> Česta greška je da se u formuli \(2 \cdot \frac{1}{\sqrt{5}} \cdot \frac{-2}{\sqrt{5}}\) dobije pogrešan imenilac. Treba: \(\sqrt{5} \cdot \sqrt{5} = 5\), ne \(\sqrt{10}\).</li>
    <li><strong>Korišćenje pogrešne formule:</strong> Formula \(\operatorname{tg}\frac{\alpha}{2} = \frac{\sin\frac{\alpha}{2}}{\cos\frac{\alpha}{2}}\) daje tangens <em>poluugla</em>, ne celog ugla \(\alpha\). Za \(\operatorname{tg}(\alpha)\) moramo koristiti formule dvostrukog ugla.</li>
  </ul>
</div>

<!-- Challenge -->
<div class="card">
  <h2>Dodatni izazov</h2>
  <details>
    <summary>Pokušaj sam &mdash; klikni da vidiš zadatak</summary>
    <p style="margin-bottom: 1rem;">Ako je \(\cos\frac{\alpha}{2} = -\frac{1}{3}\) za \(\alpha \in (\pi, 2\pi)\), izračunaj \(\operatorname{tg}(\alpha)\).</p>
    <details>
      <summary>Prikaži rešenje</summary>
      <p>\(\frac{\alpha}{2} \in \left(\frac{\pi}{2}, \pi\right)\) &mdash; drugi kvadrant, dakle \(\sin\frac{\alpha}{2} > 0\).</p>
      <p>\(\sin^2\frac{\alpha}{2} = 1 - \frac{1}{9} = \frac{8}{9}\), pa \(\sin\frac{\alpha}{2} = \frac{2\sqrt{2}}{3}\).</p>
      <p>\(\sin\alpha = 2 \cdot \frac{2\sqrt{2}}{3} \cdot \left(-\frac{1}{3}\right) = -\frac{4\sqrt{2}}{9}\)</p>
      <p>\(\cos\alpha = 1 - 2 \cdot \frac{8}{9} = 1 - \frac{16}{9} = -\frac{7}{9}\)</p>
      <p>\(\operatorname{tg}(\alpha) = \frac{-4\sqrt{2}/9}{-7/9} = \frac{4\sqrt{2}}{7}\)</p>
    </details>
  </details>
</div>

</div>

<script>
(function() {
  // Answer option selection
  window.selectOption = function(el) {
    document.querySelectorAll('.answer-option').forEach(function(o) { o.classList.remove('selected'); });
    el.classList.add('selected');
  };

  // Step toggle
  window.toggleStep = function(el) {
    el.classList.toggle('open');
  };

  // Checkpoint reveal
  window.showCheckpoint = function(btn) {
    var answer = btn.nextElementSibling;
    answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
    btn.textContent = answer.style.display === 'block' ? 'Sakrij odgovor' : 'Prikaži odgovor';
  };

  // Canvas visualization — Unit circle with α/2 and α
  function drawCanvas() {
    var canvas = document.getElementById('mainCanvas');
    if (!canvas) return;
    var ctx = canvas.getContext('2d');
    var dpr = window.devicePixelRatio || 1;

    var displayW = Math.min(700, canvas.parentElement.clientWidth - 40);
    var displayH = 500;
    canvas.style.width = displayW + 'px';
    canvas.style.height = displayH + 'px';
    canvas.width = displayW * dpr;
    canvas.height = displayH * dpr;
    ctx.scale(dpr, dpr);

    var w = displayW;
    var h = displayH;

    // Clear
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, w, h);

    // Center and radius
    var cx = w * 0.5;
    var cy = h * 0.48;
    var R = Math.min(w, h) * 0.34;

    // Values
    var sinHalf = 1 / Math.sqrt(5);   // ≈ 0.4472
    var cosHalf = -2 / Math.sqrt(5);  // ≈ -0.8944
    var halfAngle = Math.asin(sinHalf);  // in Q1 reference
    halfAngle = Math.PI - halfAngle;     // actual angle in Q2

    var sinFull = -4 / 5;
    var cosFull = 3 / 5;
    var fullAngle = Math.atan2(sinFull, cosFull); // negative, in Q4
    if (fullAngle < 0) fullAngle += 2 * Math.PI;

    // Draw axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx - R - 30, cy);
    ctx.lineTo(cx + R + 30, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy - R - 30);
    ctx.lineTo(cx, cy + R + 30);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', cx + R + 25, cy - 8);
    ctx.fillText('y', cx + 12, cy - R - 18);

    // Quadrant labels
    ctx.fillStyle = '#334155';
    ctx.font = '12px system-ui, sans-serif';
    ctx.fillText('I', cx + R * 0.5, cy - R * 0.5);
    ctx.fillText('II', cx - R * 0.5, cy - R * 0.5);
    ctx.fillText('III', cx - R * 0.5, cy + R * 0.5);
    ctx.fillText('IV', cx + R * 0.5, cy + R * 0.5);

    // Unit circle
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    // Helper function for point on circle
    function ptOnCircle(angle) {
      return { x: cx + R * Math.cos(angle), y: cy - R * Math.sin(angle) };
    }

    // --- Draw α/2 arc (in purple) ---
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 0.25, 0, -halfAngle, true);
    ctx.stroke();

    // α/2 label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px system-ui, sans-serif';
    var labelAngle1 = halfAngle / 2;
    ctx.fillText('\u03B1/2', cx + R * 0.32 * Math.cos(labelAngle1), cy - R * 0.32 * Math.sin(labelAngle1) + 5);

    // α/2 point
    var pHalf = ptOnCircle(halfAngle);
    ctx.beginPath();
    ctx.arc(pHalf.x, pHalf.y, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();

    // α/2 radius line
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(pHalf.x, pHalf.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // α/2 projections
    // Vertical (sin)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(pHalf.x, cy);
    ctx.lineTo(pHalf.x, pHalf.y);
    ctx.stroke();

    // Horizontal (cos)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(pHalf.x, cy);
    ctx.stroke();

    // Labels for sin and cos of α/2
    ctx.font = '12px system-ui, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'left';
    ctx.fillText('sin(\u03B1/2) = 1/\u221A5', pHalf.x + 8, (cy + pHalf.y) / 2);

    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.fillText('cos(\u03B1/2) = \u22122/\u221A5', (cx + pHalf.x) / 2, cy + 18);

    // --- Draw α arc (in green) ---
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 0.18, 0, -fullAngle, true);
    ctx.stroke();

    // α label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px system-ui, sans-serif';
    var labelAngle2 = fullAngle / 2;
    ctx.fillText('\u03B1', cx + R * 0.22 * Math.cos(labelAngle2), cy - R * 0.22 * Math.sin(labelAngle2) + 5);

    // α point
    var pFull = ptOnCircle(fullAngle);
    ctx.beginPath();
    ctx.arc(pFull.x, pFull.y, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    // α radius line
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(pFull.x, pFull.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // α projections
    // Vertical (sin)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(pFull.x, cy);
    ctx.lineTo(pFull.x, pFull.y);
    ctx.stroke();

    // Horizontal (cos)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(pFull.x, cy);
    ctx.stroke();

    // Labels for sin and cos of α
    ctx.font = '12px system-ui, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'right';
    ctx.fillText('sin(\u03B1) = \u22124/5', pFull.x - 8, (cy + pFull.y) / 2 + 5);

    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.fillText('cos(\u03B1) = 3/5', (cx + pFull.x) / 2, cy - 8);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Jedinična kružnica: \u03B1/2 (II kv.) i \u03B1 (IV kv.)', w / 2, 24);

    // Legend
    var ly = h - 30;
    ctx.font = '13px system-ui, sans-serif';

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(w * 0.1, ly - 8, 16, 3);
    ctx.textAlign = 'left';
    ctx.fillText('\u03B1/2 \u2248 116,6\u00B0 (II kv.)', w * 0.1 + 22, ly);

    ctx.fillStyle = '#4ade80';
    ctx.fillRect(w * 0.5, ly - 8, 16, 3);
    ctx.fillText('\u03B1 \u2248 306,9\u00B0 (IV kv.)', w * 0.5 + 22, ly);

    // Result box
    ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    var bx = w * 0.62, by = h * 0.22, bw = w * 0.34, bh = 60;
    ctx.beginPath();
    ctx.roundRect(bx, by, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('tg(\u03B1) = sin(\u03B1)/cos(\u03B1)', bx + bw / 2, by + 22);
    ctx.font = 'bold 18px system-ui, sans-serif';
    ctx.fillText('= (\u22124/5) / (3/5) = \u22124/3', bx + bw / 2, by + 48);
  }

  // Draw on load and resize
  window.addEventListener('load', function() {
    setTimeout(drawCanvas, 100);
  });
  window.addEventListener('resize', drawCanvas);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Trigonometrija - Izračunavanje tg(α) pomoću poluugaonih formula","subject":"math","unit":"trigonometry","topic_tags":["trigonometrija","formule_dvostrukog_ugla","jedinicna_kruznica","tangens","znaci_trigonometrijskih_funkcija"]}
BRAINSPARK_META-->
