<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iracionalna jednacina sa tri korena</title>
<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Proizvod svih realnih resenja jednacine sqrt(10+x) - sqrt(5-x) = sqrt(1+x)

Step 1: Domain
  10 + x >= 0 => x >= -10
  5 - x >= 0  => x <= 5
  1 + x >= 0  => x >= -1
  Domain: x in [-1, 5]

Step 2: Isolate one radical
  sqrt(10+x) = sqrt(1+x) + sqrt(5-x)

Step 3: Square both sides
  10 + x = (1 + x) + 2*sqrt((1+x)(5-x)) + (5 - x)
  10 + x = 6 + 2*sqrt((1+x)(5-x))
  4 + x = 2*sqrt((1+x)(5-x))

  Note: 4 + x >= 0 for x >= -1 (always true in domain). Good.

Step 4: Square again
  (4 + x)^2 = 4*(1+x)*(5-x)
  16 + 8x + x^2 = 4*(5 + 4x - x^2)
  16 + 8x + x^2 = 20 + 16x - 4x^2
  5x^2 - 8x - 4 = 0

Step 5: Solve quadratic
  x = (8 +/- sqrt(64 + 80)) / 10
  x = (8 +/- sqrt(144)) / 10
  x = (8 +/- 12) / 10

  x1 = 20/10 = 2
  x2 = -4/10 = -2/5

Step 6: Check both solutions are in domain [-1, 5]
  x1 = 2: yes, 2 in [-1, 5]
  x2 = -2/5 = -0.4: yes, -0.4 in [-1, 5]

Step 7: Verify x1 = 2 in original equation
  LHS = sqrt(12) - sqrt(3) = 2*sqrt(3) - sqrt(3) = sqrt(3)
  RHS = sqrt(3)
  LHS = RHS. Valid!

Step 8: Verify x2 = -2/5 in original equation
  sqrt(10 - 2/5) - sqrt(5 + 2/5) = sqrt(1 - 2/5)
  sqrt(48/5) - sqrt(27/5) = sqrt(3/5)
  4*sqrt(3)/sqrt(5) - 3*sqrt(3)/sqrt(5) = sqrt(3)/sqrt(5)
  sqrt(3)/sqrt(5) = sqrt(3)/sqrt(5)
  LHS = RHS. Valid!

Step 9: Product
  x1 * x2 = 2 * (-2/5) = -4/5

Answer: D) -4/5

Cross-check with Vieta's formulas for 5x^2 - 8x - 4 = 0:
  Product of roots = c/a = -4/5 ‚úì
  Sum of roots = -b/a = 8/5 = 2 + (-2/5) = 10/5 - 2/5 = 8/5 ‚úì
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  h1 {
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon { font-size: 1.3rem; }
  .problem-box {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
    margin-bottom: 10px;
  }
  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .given-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 12px 16px;
    text-align: center;
  }
  .given-item .label {
    font-size: 0.85rem;
    color: #94a3b8;
    font-weight: 600;
    margin-bottom: 4px;
  }
  .given-item .value {
    font-size: 1.1rem;
    color: #e2e8f0;
    font-weight: 700;
  }
  .plan-text {
    color: #a78bfa;
    font-size: 1.05rem;
    font-style: italic;
  }
  details {
    background: #172033;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 14px 20px;
    margin: 15px 0;
  }
  details summary {
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  details summary::-webkit-details-marker { display: none; }
  details summary::before {
    content: '>';
    display: inline-block;
    transition: transform 0.2s;
    font-family: monospace;
    font-size: 1.1rem;
  }
  details[open] summary::before { transform: rotate(90deg); }
  details .inner {
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid #334155;
  }
  .step {
    border-left: 3px solid #334155;
    padding: 14px 0 14px 22px;
    margin-left: 12px;
    position: relative;
    margin-bottom: 4px;
    cursor: pointer;
    transition: border-color 0.2s;
  }
  .step:hover, .step.active { border-left-color: #4ade80; }
  .step::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 18px;
    width: 12px;
    height: 12px;
    background: #60a5fa;
    border-radius: 50%;
    border: 2px solid #0f172a;
  }
  .step:last-child { border-left-color: transparent; }
  .step:last-child:hover, .step:last-child.active { border-left-color: #4ade80; }
  .step-label {
    font-weight: 700;
    color: #60a5fa;
    font-size: 1rem;
    margin-bottom: 6px;
  }
  .math-block {
    background: rgba(56, 189, 248, 0.08);
    border: 1px solid rgba(56, 189, 248, 0.15);
    border-radius: 8px;
    padding: 12px 18px;
    margin: 10px 0;
    font-family: 'Courier New', monospace;
  }
  .checkpoint {
    background: rgba(52, 211, 153, 0.08);
    border: 1px dashed #34d399;
    border-radius: 10px;
    padding: 12px 18px;
    margin: 15px 0;
    font-size: 0.95rem;
  }
  .checkpoint summary { color: #34d399; }
  .checkpoint .inner { border-top-color: rgba(52, 211, 153, 0.3); }
  .final-answer {
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(74, 222, 128, 0.08));
    border: 2px solid #34d399;
    border-radius: 14px;
    padding: 26px 30px;
    text-align: center;
  }
  .final-answer .label {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #34d399;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .final-answer .value {
    font-size: 1.7rem;
    font-weight: 800;
    color: #4ade80;
  }
  .final-options {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 18px;
  }
  .final-opt {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 8px 18px;
    font-size: 1rem;
    color: #94a3b8;
  }
  .final-opt.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.12);
    color: #4ade80;
    font-weight: 700;
    box-shadow: 0 0 14px rgba(52, 211, 153, 0.2);
  }
  .insight-box {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .insight-box .label {
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 6px;
    font-size: 1.05rem;
  }
  .pitfall {
    background: rgba(244, 114, 182, 0.08);
    border-left: 4px solid #f472b6;
    border-radius: 0 10px 10px 0;
    padding: 14px 20px;
    margin-bottom: 10px;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(167, 139, 250, 0.06);
    border: 1px solid rgba(167, 139, 250, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .challenge-box .label {
    font-weight: 700;
    color: #a78bfa;
    margin-bottom: 6px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    background: #0c1222;
    max-width: 100%;
    touch-action: none;
  }
  .muted { color: #94a3b8; }
  .blue { color: #60a5fa; }
  .green { color: #34d399; }
  .purple { color: #a78bfa; }
  .pink { color: #f472b6; }
  @media (max-width: 700px) {
    body { padding: 12px; }
    h1 { font-size: 1.5rem; }
    .card { padding: 18px 16px; }
    .given-grid { grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); }
    .final-options { gap: 8px; }
    .final-opt { padding: 6px 12px; font-size: 0.9rem; }
    .step { padding: 12px 0 12px 16px; }
  }
</style>
</head>
<body>

<h1>Iracionalna jednacina sa tri korena</h1>
<p class="subtitle">Algebra &mdash; Resavanje iracionalnih jednacina kvadriranjem</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">üìã</span> Zadatak</div>
  <div class="problem-box">
    Proizvod svih realnih resenja jednacine \(\sqrt{10 + x} - \sqrt{5 - x} = \sqrt{1 + x}\) jednak je:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(\dfrac{2}{5}\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(\dfrac{6}{5}\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(-\dfrac{2}{5}\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(-\dfrac{4}{5}\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(\dfrac{4}{5}\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan resavanja</div>
  <p class="plan-text">
    Odredimo domen, zatim izolujemo jedan koren i dva puta kvadriramo jednacinu da eliminisemo sve korene. Dobijena kvadratna jednacina dace nam kandidate za resenja, koje cemo proveriti u originalnoj jednacini. Na kraju racunamo njihov proizvod.
  </p>
</div>

<!-- Theory Refresher -->
<div class="card">
  <div class="card-title"><span class="icon">üìñ</span> Teorijska podloga</div>
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <div class="inner">
      <ul style="list-style:disc;margin-left:20px;">
        <li><strong>Princip kvadriranja:</strong> Ako \(\sqrt{A} = B\), tada \(A = B^2\), ali samo uz uslov \(B \geq 0\). Kvadriranje moze uvesti lazna resenja, pa je provera obavezna.</li>
        <li><strong>Domen iracionalne jednacine:</strong> Izrazi pod parnim korenom moraju biti nenegativni.</li>
        <li><strong>Vietove formule:</strong> Za kvadratnu jednacinu \(ax^2 + bx + c = 0\), proizvod korena je \(\dfrac{c}{a}\), a zbir je \(-\dfrac{b}{a}\).</li>
        <li><strong>Kvadratna formula:</strong> \(x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}\)</li>
      </ul>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon">üìê</span> Vizuelni prikaz</div>
  <p class="muted" style="margin-bottom:14px;">Grafik prikazuje levu stranu (LHS) i desnu stranu (RHS) jednacine. Presecne tacke su resenja. Pomerite klizac da istrazite vrednosti.</p>
  <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:14px;">
    <label style="display:flex;align-items:center;gap:8px;">
      <span class="blue">x =</span>
      <input type="range" id="slider-x" min="-1" max="5" value="2" step="0.1" style="width:200px;">
      <span id="val-x" class="blue" style="min-width:30px;">2</span>
    </label>
  </div>
  <canvas id="canvas" width="780" height="400"></canvas>
  <p class="muted" style="margin-top:8px;text-align:center;font-size:0.88rem;">Pomerite klizac da vidite gde se LHS i RHS poklapaju.</p>
</div>

<!-- Step-by-step Solution -->
<div class="card">
  <div class="card-title"><span class="icon">‚úèÔ∏è</span> Resenje korak po korak</div>

  <div class="step" data-step="1">
    <div class="step-label">Korak 1: Odrediti domen</div>
    <p>Da bi svi koreni bili definisani, moraju vaziti sledeci uslovi:</p>
    <div class="math-block">
      \[\begin{align}
        10 + x &\geq 0 \;\Rightarrow\; x \geq -10 \\
        5 - x &\geq 0 \;\Rightarrow\; x \leq 5 \\
        1 + x &\geq 0 \;\Rightarrow\; x \geq -1
      \end{align}\]
    </div>
    <p>Presek sva tri uslova daje domen:</p>
    <div class="math-block">
      \[x \in [-1,\; 5]\]
    </div>
  </div>

  <div class="step" data-step="2">
    <div class="step-label">Korak 2: Preurediti jednacinu</div>
    <p>Prebacimo \(\sqrt{5 - x}\) na desnu stranu da izolujemo \(\sqrt{10 + x}\):</p>
    <div class="math-block">
      \[\sqrt{10 + x} = \sqrt{1 + x} + \sqrt{5 - x}\]
    </div>
    <p>Sada je leva strana jedan koren, a desna zbir dva korena. Ovo je pogodan oblik za kvadriranje.</p>
  </div>

  <div class="step" data-step="3">
    <div class="step-label">Korak 3: Prvo kvadriranje</div>
    <p>Kvadriramo obe strane. Na desnoj strani koristimo formulu \((A + B)^2 = A^2 + 2AB + B^2\):</p>
    <div class="math-block">
      \[10 + x = (1 + x) + 2\sqrt{(1+x)(5-x)} + (5 - x)\]
    </div>
    <p>Sredimo desnu stranu:</p>
    <div class="math-block">
      \[10 + x = 6 + 2\sqrt{(1+x)(5-x)}\]
    </div>
    <p>Izolujemo clan sa korenom:</p>
    <div class="math-block">
      \[4 + x = 2\sqrt{(1+x)(5-x)}\]
    </div>
    <p class="muted">Primetimo: za \(x \geq -1\) vazi \(4 + x \geq 3 > 0\), sto je u redu jer desna strana mora biti nenegativna.</p>
  </div>

  <div class="checkpoint">
    <details>
      <summary>Proveri se: Koliko je \(4 + x\) za \(x = 2\)?</summary>
      <div class="inner">
        <p>\(4 + 2 = 6\). A desna strana: \(2\sqrt{3 \cdot 3} = 2 \cdot 3 = 6\). Jednako!</p>
      </div>
    </details>
  </div>

  <div class="step" data-step="4">
    <div class="step-label">Korak 4: Drugo kvadriranje</div>
    <p>Ponovo kvadriramo obe strane:</p>
    <div class="math-block">
      \[(4 + x)^2 = 4(1 + x)(5 - x)\]
    </div>
    <p>Razvijemo levu stranu:</p>
    <div class="math-block">
      \[16 + 8x + x^2\]
    </div>
    <p>Razvijemo desnu stranu:</p>
    <div class="math-block">
      \[4(5 + 4x - x^2) = 20 + 16x - 4x^2\]
    </div>
    <p>Sve prenesemo na jednu stranu:</p>
    <div class="math-block">
      \[x^2 + 8x + 16 - 20 - 16x + 4x^2 = 0\]
    </div>
    <div class="math-block">
      \[5x^2 - 8x - 4 = 0\]
    </div>
  </div>

  <div class="step" data-step="5">
    <div class="step-label">Korak 5: Resiti kvadratnu jednacinu</div>
    <p>Primenimo kvadratnu formulu za \(5x^2 - 8x - 4 = 0\):</p>
    <div class="math-block">
      \[x = \frac{8 \pm \sqrt{64 + 80}}{10} = \frac{8 \pm \sqrt{144}}{10} = \frac{8 \pm 12}{10}\]
    </div>
    <p>Dva resenja:</p>
    <div class="math-block">
      \[x_1 = \frac{8 + 12}{10} = \frac{20}{10} = 2 \qquad x_2 = \frac{8 - 12}{10} = \frac{-4}{10} = -\frac{2}{5}\]
    </div>
    <p>Oba su u domenu \([-1,\; 5]\).</p>
  </div>

  <div class="checkpoint">
    <details>
      <summary>Proveri se: Da li oba resenja pripadaju domenu?</summary>
      <div class="inner">
        <p>\(x_1 = 2\): Da, jer \(-1 \leq 2 \leq 5\).</p>
        <p>\(x_2 = -\frac{2}{5} = -0{,}4\): Da, jer \(-1 \leq -0{,}4 \leq 5\).</p>
      </div>
    </details>
  </div>

  <div class="step" data-step="6">
    <div class="step-label">Korak 6: Provera u originalnoj jednacini</div>
    <p>Posto smo dva puta kvadrirali, moramo proveriti da nismo uveli lazna resenja.</p>
    <p><strong>Za \(x_1 = 2\):</strong></p>
    <div class="math-block">
      \[\text{LHS} = \sqrt{12} - \sqrt{3} = 2\sqrt{3} - \sqrt{3} = \sqrt{3}\]
    </div>
    <div class="math-block">
      \[\text{RHS} = \sqrt{3}\]
    </div>
    <p class="green">LHS = RHS. Resenje \(x_1 = 2\) je validno.</p>

    <p style="margin-top:14px;"><strong>Za \(x_2 = -\dfrac{2}{5}\):</strong></p>
    <div class="math-block">
      \[\text{LHS} = \sqrt{\frac{48}{5}} - \sqrt{\frac{27}{5}} = \frac{4\sqrt{3}}{\sqrt{5}} - \frac{3\sqrt{3}}{\sqrt{5}} = \frac{\sqrt{3}}{\sqrt{5}}\]
    </div>
    <div class="math-block">
      \[\text{RHS} = \sqrt{\frac{3}{5}} = \frac{\sqrt{3}}{\sqrt{5}}\]
    </div>
    <p class="green">LHS = RHS. Resenje \(x_2 = -\dfrac{2}{5}\) je validno.</p>
  </div>

  <div class="step" data-step="7">
    <div class="step-label">Korak 7: Izracunati proizvod</div>
    <p>Oba resenja su validna, pa racunamo njihov proizvod:</p>
    <div class="math-block">
      \[x_1 \cdot x_2 = 2 \cdot \left(-\frac{2}{5}\right) = -\frac{4}{5}\]
    </div>

    <details>
      <summary>Alternativa: Vietove formule</summary>
      <div class="inner">
        <p>Posto su oba korena kvadratne jednacine \(5x^2 - 8x - 4 = 0\) validna resenja originalne jednacine, mogli smo koristiti Vietovu formulu direktno:</p>
        <p>\[x_1 \cdot x_2 = \frac{c}{a} = \frac{-4}{5} = -\frac{4}{5}\]</p>
        <p class="muted">Ovo je brzi nacin, ali samo ako smo sigurni da nema laznih resenja.</p>
      </div>
    </details>
  </div>
</div>

<!-- Key Insight -->
<div class="card">
  <div class="insight-box">
    <div class="label">Kljucni uvid</div>
    <p>Kada iracionalna jednacina sadrzi tri korena, kljuc je <strong>pravilno grupisanje</strong> pre kvadriranja. Prebacivanjem jednog korena na drugu stranu, smanjujemo broj clanova i olaksavamo algebru. Takodje, ako su sva resenja dobijena kvadriranjem validna, mozemo koristiti <strong>Vietove formule</strong> za direktan odgovor bez eksplicitnog nalazenja korena.</p>
    <p style="margin-top:12px;text-align:center;font-size:1.3rem;font-weight:700;">
      <span class="green">\(x_1 \cdot x_2 = -\dfrac{4}{5}\)</span>
    </p>
  </div>
</div>

<!-- Final Answer -->
<div class="card">
  <div class="final-answer">
    <div class="label">Konacan odgovor</div>
    <div class="value">\(\displaystyle -\frac{4}{5}\)</div>
    <p style="margin-top:14px;color:#94a3b8;font-size:1rem;">
      Resenja su \(x_1 = 2\) i \(x_2 = -\dfrac{2}{5}\), a njihov proizvod je \(2 \cdot \left(-\dfrac{2}{5}\right) = -\dfrac{4}{5}\).
    </p>
  </div>
  <div class="final-options">
    <div class="final-opt">A) \(\dfrac{2}{5}\)</div>
    <div class="final-opt">B) \(\dfrac{6}{5}\)</div>
    <div class="final-opt">C) \(-\dfrac{2}{5}\)</div>
    <div class="final-opt correct">D) \(-\dfrac{4}{5}\)</div>
    <div class="final-opt">E) \(\dfrac{4}{5}\)</div>
  </div>
  <p class="muted" style="margin-top:16px;text-align:center;font-size:0.92rem;">
    <strong>Verifikacija:</strong> Zbir resenja je \(2 + (-\frac{2}{5}) = \frac{8}{5}\), sto se poklapa sa Vietovom formulom \(-\frac{b}{a} = \frac{8}{5}\). Proizvod je \(-\frac{4}{5} = \frac{c}{a}\). Sve konzistentno.
  </p>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Najcesce greske</div>
  <div class="pitfall">
    <strong>Greska 1: Izostavljanje provere resenja.</strong>
    Kvadriranje moze uvesti lazna resenja. U ovom zadatku oba su validna, ali to se ne sme pretpostavljati &mdash; uvek proverite uvrstavanjem u originalnu jednacinu.
  </div>
  <div class="pitfall">
    <strong>Greska 2: Pogresan razvoj \((1+x)(5-x)\).</strong>
    Cesta greska je pogresno mnozenje: \((1+x)(5-x) = 5 + 4x - x^2\), a NE \(5 - x^2\). Ne zaboravite srednje clanove: \(1 \cdot (-x) + x \cdot 5 = -x + 5x = 4x\).
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="challenge-box">
    <div class="label">Izazov za napredne</div>
    <p>Resiti jednacinu \(\sqrt{10 + x} + \sqrt{5 - x} = \sqrt{1 + x} + 6\) na istom domenu. Da li i ovde mozemo koristiti Vietove formule?</p>
    <details>
      <summary>Nagovestaj</summary>
      <div class="inner">
        <p>Prebacite \(\sqrt{1 + x}\) na levu stranu: \(\sqrt{10+x} - \sqrt{1+x} = 6 - \sqrt{5-x}\). Zatim kvadrirajte i postupajte analogno. Pazite: ovde kvadriranje moze dati lazna resenja, pa obavezno proverite svako u originalnoj jednacini pre primene Vietovih formula.</p>
      </div>
    </details>
  </div>
</div>

<script>
(() => {
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('slider-x');
  const valDisplay = document.getElementById('val-x');

  function lhs(x) {
    if (10 + x < 0 || 5 - x < 0) return NaN;
    return Math.sqrt(10 + x) - Math.sqrt(5 - x);
  }
  function rhs(x) {
    if (1 + x < 0) return NaN;
    return Math.sqrt(1 + x);
  }

  function draw() {
    const W = canvas.width, H = canvas.height;
    const xVal = parseFloat(slider.value);

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    var padL = 70, padR = 30, padT = 40, padB = 55;
    var gW = W - padL - padR;
    var gH = H - padT - padB;

    var xMin = -1.5, xMax = 5.5;
    var yMin = -1.5, yMax = 4.5;

    function mapX(v) { return padL + (v - xMin) / (xMax - xMin) * gW; }
    function mapY(v) { return padT + gH - (v - yMin) / (yMax - yMin) * gH; }

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      ctx.beginPath();
      ctx.moveTo(mapX(gx), padT);
      ctx.lineTo(mapX(gx), padT + gH);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      ctx.beginPath();
      ctx.moveTo(padL, mapY(gy));
      ctx.lineTo(padL + gW, mapY(gy));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(mapX(xMin), mapY(0));
    ctx.lineTo(mapX(xMax), mapY(0));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(mapX(0), mapY(yMin));
    ctx.lineTo(mapX(0), mapY(yMax));
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var gx2 = Math.ceil(xMin); gx2 <= Math.floor(xMax); gx2++) {
      ctx.fillText(gx2.toString(), mapX(gx2), mapY(0) + 6);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (var gy2 = Math.ceil(yMin); gy2 <= Math.floor(yMax); gy2++) {
      if (gy2 === 0) continue;
      ctx.fillText(gy2.toString(), mapX(0) - 8, mapY(gy2));
    }

    // Axis title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('x', mapX(xMax) - 10, mapY(0) + 6);

    // Draw domain boundary lines
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.3)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(mapX(-1), padT);
    ctx.lineTo(mapX(-1), padT + gH);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(mapX(5), padT);
    ctx.lineTo(mapX(5), padT + gH);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    ctx.fillText('x = -1', mapX(-1), padT - 4);
    ctx.fillText('x = 5', mapX(5), padT - 4);

    // Draw LHS curve: sqrt(10+x) - sqrt(5-x)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    var first = true;
    for (var px = 0; px <= gW; px += 1) {
      var xv = xMin + (px / gW) * (xMax - xMin);
      var yv = lhs(xv);
      if (isNaN(yv) || xv < -1 || xv > 5) { first = true; continue; }
      var sy = mapY(yv);
      if (sy < padT - 5 || sy > padT + gH + 5) { first = true; continue; }
      if (first) { ctx.moveTo(padL + px, sy); first = false; }
      else { ctx.lineTo(padL + px, sy); }
    }
    ctx.stroke();

    // Draw RHS curve: sqrt(1+x)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    first = true;
    for (var px2 = 0; px2 <= gW; px2 += 1) {
      var xv2 = xMin + (px2 / gW) * (xMax - xMin);
      var yv2 = rhs(xv2);
      if (isNaN(yv2) || xv2 < -1) { first = true; continue; }
      var sy2 = mapY(yv2);
      if (sy2 < padT - 5 || sy2 > padT + gH + 5) { first = true; continue; }
      if (first) { ctx.moveTo(padL + px2, sy2); first = false; }
      else { ctx.lineTo(padL + px2, sy2); }
    }
    ctx.stroke();

    // Mark intersection points
    var solutions = [2, -2/5];
    solutions.forEach(function(sol) {
      var yv3 = rhs(sol);
      var cx = mapX(sol);
      var cy = mapY(yv3);

      // Glow
      var grd = ctx.createRadialGradient(cx, cy, 0, cx, cy, 18);
      grd.addColorStop(0, 'rgba(74, 222, 128, 0.3)');
      grd.addColorStop(1, 'rgba(74, 222, 128, 0)');
      ctx.fillStyle = grd;
      ctx.beginPath();
      ctx.arc(cx, cy, 18, 0, 2 * Math.PI);
      ctx.fill();

      ctx.beginPath();
      ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();
    });

    // Labels for solutions
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillStyle = '#4ade80';
    ctx.fillText('x = 2', mapX(2) + 10, mapY(rhs(2)) - 5);
    ctx.fillText('x = -0,4', mapX(-2/5) + 10, mapY(rhs(-2/5)) - 5);

    // Slider marker
    if (xVal >= -1 && xVal <= 5) {
      var lhsV = lhs(xVal);
      var rhsV = rhs(xVal);

      // Vertical dashed line
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = 'rgba(96, 165, 250, 0.4)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(mapX(xVal), padT);
      ctx.lineTo(mapX(xVal), padT + gH);
      ctx.stroke();
      ctx.setLineDash([]);

      // Points on curves
      if (!isNaN(lhsV)) {
        ctx.beginPath();
        ctx.arc(mapX(xVal), mapY(lhsV), 4, 0, 2 * Math.PI);
        ctx.fillStyle = '#60a5fa';
        ctx.fill();
      }
      if (!isNaN(rhsV)) {
        ctx.beginPath();
        ctx.arc(mapX(xVal), mapY(rhsV), 4, 0, 2 * Math.PI);
        ctx.fillStyle = '#34d399';
        ctx.fill();
      }

      // Info box
      ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
      var boxW = 200, boxH = 56;
      var boxX = Math.min(mapX(xVal) + 15, W - boxW - 10);
      var boxY = padT + 10;
      ctx.fillRect(boxX, boxY, boxW, boxH);
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.strokeRect(boxX, boxY, boxW, boxH);

      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'top';
      ctx.fillStyle = '#60a5fa';
      ctx.fillText('LHS = ' + (isNaN(lhsV) ? 'nedefinisano' : lhsV.toFixed(4).replace('.', ',')), boxX + 10, boxY + 8);
      ctx.fillStyle = '#34d399';
      ctx.fillText('RHS = ' + (isNaN(rhsV) ? 'nedefinisano' : rhsV.toFixed(4).replace('.', ',')), boxX + 10, boxY + 28);
    }

    // Legend
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';

    // LHS legend line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(padL + 10, padT + gH + 30);
    ctx.lineTo(padL + 35, padT + gH + 30);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('LHS: \u221A(10+x) \u2212 \u221A(5\u2212x)', padL + 40, padT + gH + 35);

    // RHS legend line
    var leg2X = padL + 280;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(leg2X, padT + gH + 30);
    ctx.lineTo(leg2X + 25, padT + gH + 30);
    ctx.stroke();
    ctx.fillStyle = '#34d399';
    ctx.fillText('RHS: \u221A(1+x)', leg2X + 30, padT + gH + 35);

    // Intersection legend
    ctx.beginPath();
    ctx.arc(leg2X + 230, padT + gH + 30, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillText('Resenja', leg2X + 240, padT + gH + 35);
  }

  function formatNum(n) {
    if (Number.isInteger(n)) return n.toString();
    return n.toFixed(1).replace('.', ',');
  }

  slider.addEventListener('input', function() {
    valDisplay.textContent = formatNum(parseFloat(slider.value));
    draw();
  });

  // Step click highlighting
  var steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });

  // Touch support on canvas
  canvas.addEventListener('touchstart', function(e) { e.preventDefault(); }, { passive: false });

  // Responsive canvas
  function resizeCanvas() {
    var container = canvas.parentElement;
    var maxW = container.clientWidth - 56;
    if (maxW < 780) {
      canvas.style.width = maxW + 'px';
      canvas.style.height = (maxW * 400 / 780) + 'px';
    }
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Iracionalna jednacina sa tri korena ‚Äî proizvod resenja","subject":"math","unit":"algebra","topic_tags":["iracionalne jednacine","kvadriranje","Vietove formule","korenovanje","kvadratna jednacina"]}
BRAINSPARK_META-->