<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aritmeticka progresija - Proizvod prva dva clana</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Arithmetic progression where S_9 = S_5 + 164 and a_9 = 2*a_6 - 14.
  Find: a_1 * a_2

  Given formulas:
    a_n = a_1 + (n-1)*d
    S_n = n/2 * (2*a_1 + (n-1)*d)

  Step 1: Express S_9 and S_5
    S_9 = 9/2 * (2*a_1 + 8*d) = 9*a_1 + 36*d
    S_5 = 5/2 * (2*a_1 + 4*d) = 5*a_1 + 10*d

  Step 2: Use condition S_9 = S_5 + 164
    9*a_1 + 36*d = 5*a_1 + 10*d + 164
    4*a_1 + 26*d = 164
    Divide by 2:
    2*a_1 + 13*d = 82  ... (I)

  Step 3: Express a_9 and a_6
    a_9 = a_1 + 8*d
    a_6 = a_1 + 5*d

  Step 4: Use condition a_9 = 2*a_6 - 14
    a_1 + 8*d = 2*(a_1 + 5*d) - 14
    a_1 + 8*d = 2*a_1 + 10*d - 14
    -a_1 - 2*d = -14
    a_1 + 2*d = 14  ... (II)

  Step 5: Solve system of equations (I) and (II)
    From (II): a_1 = 14 - 2*d
    Substitute into (I):
    2*(14 - 2*d) + 13*d = 82
    28 - 4*d + 13*d = 82
    28 + 9*d = 82
    9*d = 54
    d = 6

  Step 6: Find a_1
    a_1 = 14 - 2*6 = 14 - 12 = 2

  Step 7: Find a_2
    a_2 = a_1 + d = 2 + 6 = 8

  Step 8: Compute the product
    a_1 * a_2 = 2 * 8 = 16

  Answer: A) 16

  Verification:
    a_1 = 2, d = 6
    First 9 terms: 2, 8, 14, 20, 26, 32, 38, 44, 50
    S_5 = 2 + 8 + 14 + 20 + 26 = 70
    S_9 = 70 + 32 + 38 + 44 + 50 = 234
    S_9 - S_5 = 234 - 70 = 164 ‚úì

    a_9 = 50, a_6 = 32
    2*a_6 - 14 = 2*32 - 14 = 64 - 14 = 50 = a_9 ‚úì

    a_1 * a_2 = 2 * 8 = 16 ‚úì Matches answer A.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.05rem;
  line-height: 1.8;
  color: #e2e8f0;
}

.highlight {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid rgba(96, 165, 250, 0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  font-size: 0.82rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.1rem;
  color: #e2e8f0;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.plan-card {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.08), rgba(167, 139, 250, 0.08));
  border: 1px solid rgba(96, 165, 250, 0.2);
}

.plan-text {
  font-size: 1.05rem;
  color: #e2e8f0;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

.detail-content {
  padding: 14px 18px;
  background: rgba(167, 139, 250, 0.06);
  border-radius: 10px;
  border: 1px solid rgba(167, 139, 250, 0.15);
  margin-top: 8px;
  color: #e2e8f0;
  line-height: 1.7;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 10px 0;
  border-bottom: 1px solid #334155;
  color: #e2e8f0;
}

.theory-list li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 18px;
  margin-bottom: 24px;
  padding: 18px;
  border-radius: 12px;
  background: #1e293b;
  border: 1px solid #334155;
  transition: border-color 0.2s, box-shadow 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left: 3px solid #4ade80;
  box-shadow: 0 4px 20px rgba(74, 222, 128, 0.08);
}

.step-badge {
  min-width: 34px;
  height: 34px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #fff;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 8px;
}

.step-math {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.step-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 6px;
  font-style: italic;
}

.checkpoint {
  margin: 15px 0;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint .detail-content {
  background: rgba(52, 211, 153, 0.06);
  border-color: rgba(52, 211, 153, 0.15);
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-formula {
  font-size: 1.4rem;
  margin: 18px 0;
  color: #4ade80;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(74, 222, 128, 0.12));
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 32px;
  margin-bottom: 24px;
  text-align: center;
}

.answer-label {
  font-size: 1rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 700;
  margin-bottom: 12px;
}

.answer-option-final {
  font-size: 1.1rem;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  margin-top: 16px;
  padding: 14px 18px;
  background: rgba(52, 211, 153, 0.06);
  border: 1px solid rgba(52, 211, 153, 0.15);
  border-radius: 10px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  padding: 12px 0;
  border-bottom: 1px solid #334155;
}

.pitfall:last-child {
  border-bottom: none;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.challenge-box {
  background: linear-gradient(135deg, rgba(251, 191, 36, 0.06), rgba(167, 139, 250, 0.08));
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 10px;
  font-style: italic;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { justify-content: center; }
  .container { padding: 10px; }
  .answer-value { font-size: 1.4rem; }
}
</style>
</head>
<body>

<div class="container">

  <h1>Aritmeticka progresija</h1>
  <p class="subtitle">Sistem jednacina sa zbirom i clanovima aritmeticke progresije</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <p class="problem-text">
      Zbir prvih <span class="highlight">devet</span> clanova aritmeticke progresije je za <span class="highlight">164</span> veci od zbira prvih <span class="highlight">pet</span> clanova te progresije.
      Ako je <span class="highlight-pink">deveti clan</span> za 14 manji od dvostruke vrednosti <span class="highlight-pink">sestog clana</span>, onda je proizvod prva dva clana date progresije jednak:
    </p>

    <div class="given-grid" style="margin-bottom: 16px;">
      <div class="given-item">
        <div class="label">Uslov 1</div>
        <div class="value">\( S_9 = S_5 + 164 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov 2</div>
        <div class="value">\( a_9 = 2a_6 - 14 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">\( a_1 \cdot a_2 \)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 16 \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( -12 \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 12 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( -16 \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( 20 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Iskoristicemo formule za \( n \)-ti clan i zbir prvih \( n \) clanova aritmeticke progresije da bismo od dva data uslova formirali sistem od dve jednacine sa dve nepoznate (\( a_1 \) i \( d \)). Resavanjem tog sistema dobicemo konkretne vrednosti, a zatim izracunati proizvod \( a_1 \cdot a_2 \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary><span class="icon">üìê</span> Kljucne formule za aritmeticku progresiju</summary>
      <div class="detail-content">
        <ul class="theory-list">
          <li><strong>Opsti clan:</strong> \( a_n = a_1 + (n-1) \cdot d \), gde je \( a_1 \) prvi clan, a \( d \) razlika progresije.</li>
          <li><strong>Zbir prvih \( n \) clanova:</strong> \( S_n = \dfrac{n}{2} \cdot (2a_1 + (n-1) \cdot d) \) ili ekvivalentno \( S_n = \dfrac{n \cdot (a_1 + a_n)}{2} \).</li>
          <li><strong>Drugi clan:</strong> \( a_2 = a_1 + d \), posto je to specijalan slucaj opsteg clana za \( n = 2 \).</li>
          <li><strong>Razlika uzastopnih clanova:</strong> \( a_{n+1} - a_n = d = \text{const} \) za svako \( n \) (definiciona osobina aritmeticke progresije).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz progresije</div>
    <canvas id="diagram" width="800" height="340"></canvas>
    <p class="canvas-hint">Prikaz prvih 9 clanova aritmeticke progresije sa \( a_1 = 2 \) i \( d = 6 \)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üìù</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Zapisimo formule za \( S_9 \) i \( S_5 \)</div>
        <p>Koristimo formulu za zbir prvih \( n \) clanova aritmeticke progresije:</p>
        <div class="step-math">
          \[ S_n = \frac{n}{2} \cdot (2a_1 + (n-1) \cdot d) \]
        </div>
        <p>Za \( n = 9 \):</p>
        <div class="step-math">
          \[ S_9 = \frac{9}{2} \cdot (2a_1 + 8d) = 9a_1 + 36d \]
        </div>
        <p>Za \( n = 5 \):</p>
        <div class="step-math">
          \[ S_5 = \frac{5}{2} \cdot (2a_1 + 4d) = 5a_1 + 10d \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Primenimo prvi uslov: \( S_9 = S_5 + 164 \)</div>
        <p>Uvrstimo izracunate izraze za \( S_9 \) i \( S_5 \):</p>
        <div class="step-math">
          \[ 9a_1 + 36d = 5a_1 + 10d + 164 \]
        </div>
        <p>Prebacimo sve na levu stranu:</p>
        <div class="step-math">
          \[ 9a_1 - 5a_1 + 36d - 10d = 164 \]
        </div>
        <div class="step-math">
          \[ 4a_1 + 26d = 164 \]
        </div>
        <p>Podelimo celom jednakom sa 2 da bismo je pojednostavili:</p>
        <div class="step-math">
          \[ 2a_1 + 13d = 82 \quad \ldots (I) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Koliko iznosi \( S_9 - S_5 \) u opstem obliku?</summary>
            <div class="detail-content">
              \( S_9 - S_5 = (9a_1 + 36d) - (5a_1 + 10d) = 4a_1 + 26d \). Ovo mora biti jednako 164, sto daje jednacinu (I) nakon deljenja sa 2.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Zapisimo \( a_9 \) i \( a_6 \) pomocu \( a_1 \) i \( d \)</div>
        <p>Koristimo formulu za opsti clan:</p>
        <div class="step-math">
          \[ a_9 = a_1 + 8d \]
        </div>
        <div class="step-math">
          \[ a_6 = a_1 + 5d \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Primenimo drugi uslov: \( a_9 = 2a_6 - 14 \)</div>
        <p>Uvrstimo izraze iz prethodnog koraka:</p>
        <div class="step-math">
          \[ a_1 + 8d = 2(a_1 + 5d) - 14 \]
        </div>
        <p>Raspisemo desnu stranu:</p>
        <div class="step-math">
          \[ a_1 + 8d = 2a_1 + 10d - 14 \]
        </div>
        <p>Prenesemo sve nepoznate na levu, a poznate na desnu stranu:</p>
        <div class="step-math">
          \[ a_1 - 2a_1 + 8d - 10d = -14 \]
        </div>
        <div class="step-math">
          \[ -a_1 - 2d = -14 \]
        </div>
        <p>Pomnozimo sa \( -1 \):</p>
        <div class="step-math">
          \[ a_1 + 2d = 14 \quad \ldots (II) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Sta fizicki znaci jednacina \( a_1 + 2d = 14 \)?</summary>
            <div class="detail-content">
              Po formuli za opsti clan, \( a_3 = a_1 + 2d \). Dakle, jednacina nam kaze da je <strong>treci clan progresije</strong> jednak 14. Ovo je korisna informacija za verifikaciju!
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Resimo sistem jednacina</div>
        <p>Imamo sistem:</p>
        <div class="step-math">
          \[ \begin{cases} 2a_1 + 13d = 82 & \ldots (I) \\ a_1 + 2d = 14 & \ldots (II) \end{cases} \]
        </div>
        <p>Iz jednacine (II) izrazimo \( a_1 \):</p>
        <div class="step-math">
          \[ a_1 = 14 - 2d \]
        </div>
        <p>Uvrstimo u jednacinu (I):</p>
        <div class="step-math">
          \[ 2(14 - 2d) + 13d = 82 \]
        </div>
        <div class="step-math">
          \[ 28 - 4d + 13d = 82 \]
        </div>
        <div class="step-math">
          \[ 28 + 9d = 82 \]
        </div>
        <div class="step-math">
          \[ 9d = 54 \]
        </div>
        <div class="step-math">
          \[ d = 6 \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Odredimo \( a_1 \) i \( a_2 \)</div>
        <p>Vratimo \( d = 6 \) u jednacinu (II):</p>
        <div class="step-math">
          \[ a_1 = 14 - 2 \cdot 6 = 14 - 12 = 2 \]
        </div>
        <p>Sada nalazimo drugi clan:</p>
        <div class="step-math">
          \[ a_2 = a_1 + d = 2 + 6 = 8 \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo trazeni proizvod</div>
        <div class="step-math">
          \[ a_1 \cdot a_2 = 2 \cdot 8 = 16 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Da li oba uslova vaze za \( a_1 = 2 \), \( d = 6 \)?</summary>
            <div class="detail-content">
              <p><strong>Uslov 1:</strong> \( S_9 = 9 \cdot 2 + 36 \cdot 6 = 18 + 216 = 234 \), a \( S_5 = 5 \cdot 2 + 10 \cdot 6 = 10 + 60 = 70 \). Razlika: \( 234 - 70 = 164 \). &#10003;</p>
              <p style="margin-top: 6px;"><strong>Uslov 2:</strong> \( a_9 = 2 + 8 \cdot 6 = 50 \), a \( 2a_6 - 14 = 2(2 + 5 \cdot 6) - 14 = 2 \cdot 32 - 14 = 50 \). &#10003;</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Oba uslova zadatka se prevode u <strong>linearne jednacine</strong> po \( a_1 \) i \( d \). Kljuc je u tome da se svaki uslov zapise pomocu ove dve nepoznate koristeci osnovne formule za aritmeticku progresiju. Rezultujuci sistem \( 2 \times 2 \) se lako resava supstitucijom.</p>
    <div class="insight-formula">
      \[ a_1 \cdot a_2 = 2 \cdot 8 = 16 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( a_1 \cdot a_2 = 16 \)</div>
    <div class="answer-option-final">Tacan odgovor je (A) \( 16 \)</div>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Za \( a_1 = 2 \) i \( d = 6 \), prvih 9 clanova su: 2, 8, 14, 20, 26, 32, 38, 44, 50. Njihovi zbiri su \( S_5 = 70 \) i \( S_9 = 234 \), pa je \( S_9 - S_5 = 164 \). Takodje, \( a_9 = 50 \) i \( 2a_6 - 14 = 2 \cdot 32 - 14 = 50 \). Oba uslova su ispunjena.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresna formula za zbir:</strong> Mnogi ucenici zaborave da je formula \( S_n = \frac{n}{2}(2a_1 + (n-1)d) \), a ne \( S_n = \frac{n}{2}(2a_1 + nd) \). Pazite na \( (n-1) \) umesto \( n \) uz \( d \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Greska pri rasporedjivanju znakova:</strong> Kod obrade uslova \( a_9 = 2a_6 - 14 \), pazite da pravilno raspisete \( 2(a_1 + 5d) = 2a_1 + 10d \), a ne \( 2a_1 + 5d \). Faktor 2 mnozi oba sabirka u zagradi.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Neka je data ista aritmeticka progresija (\( a_1 = 2 \), \( d = 6 \)). Za koliko je \( S_{15} \) veci od \( S_9 \)?</p>
    <details>
      <summary>Pogledaj nagovestaj</summary>
      <div class="detail-content">
        Koristite istu formulu za zbir: \( S_{15} = \frac{15}{2}(2 \cdot 2 + 14 \cdot 6) = \frac{15}{2} \cdot 88 = 660 \). Vec znamo da je \( S_9 = 234 \). Izracunajte razliku! Odgovor: \( S_{15} - S_9 = 426 \).
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const a1 = 2;
  const d = 6;
  const terms = [];
  for (let i = 0; i < 9; i++) {
    terms.push(a1 + i * d);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    const barWidth = 50;
    const gap = 30;
    const totalWidth = 9 * barWidth + 8 * gap;
    const startX = (W - totalWidth) / 2;
    const maxVal = terms[8]; // 50
    const maxBarH = 230;
    const baseY = H - 60;

    // Draw grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let v = 0; v <= 50; v += 10) {
      const y = baseY - (v / maxVal) * maxBarH;
      ctx.beginPath();
      ctx.moveTo(startX - 20, y);
      ctx.lineTo(startX + totalWidth + 10, y);
      ctx.stroke();

      // Y-axis labels
      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(v.toString(), startX - 25, y + 4);
    }

    // Draw bars
    for (let i = 0; i < 9; i++) {
      const x = startX + i * (barWidth + gap);
      const barH = (terms[i] / maxVal) * maxBarH;
      const y = baseY - barH;

      // Determine color: first 5 blue, next 4 purple (to show S5 vs S9-S5)
      let barColor, barBorder, barFill;
      if (i < 5) {
        barColor = '#60a5fa';
        barFill = 'rgba(96, 165, 250, 0.25)';
        barBorder = 'rgba(96, 165, 250, 0.7)';
      } else {
        barColor = '#a78bfa';
        barFill = 'rgba(167, 139, 250, 0.25)';
        barBorder = 'rgba(167, 139, 250, 0.7)';
      }

      // Draw bar
      ctx.fillStyle = barFill;
      ctx.fillRect(x, y, barWidth, barH);
      ctx.strokeStyle = barBorder;
      ctx.lineWidth = 2;
      ctx.strokeRect(x, y, barWidth, barH);

      // Value on top
      ctx.fillStyle = barColor;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(terms[i].toString(), x + barWidth / 2, y - 8);

      // Label below
      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('a' + (i + 1), x + barWidth / 2, baseY + 18);
    }

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    // S5 legend
    ctx.fillStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.fillRect(startX, baseY + 36, 16, 12);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.7)';
    ctx.lineWidth = 1;
    ctx.strokeRect(startX, baseY + 36, 16, 12);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('S\u2085 = 70', startX + 22, baseY + 47);

    // S9-S5 legend
    const legendX2 = startX + 140;
    ctx.fillStyle = 'rgba(167, 139, 250, 0.5)';
    ctx.fillRect(legendX2, baseY + 36, 16, 12);
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.7)';
    ctx.strokeRect(legendX2, baseY + 36, 16, 12);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('S\u2089 \u2212 S\u2085 = 164', legendX2 + 22, baseY + 47);

    // d label with arrow between first two bars
    const arrowY = baseY - (terms[0] / maxVal) * maxBarH - 30;
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    const x1 = startX + barWidth / 2;
    const x2 = startX + barWidth + gap + barWidth / 2;
    ctx.moveTo(x1, arrowY);
    ctx.lineTo(x2, arrowY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Arrow heads
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.moveTo(x2, arrowY);
    ctx.lineTo(x2 - 6, arrowY - 4);
    ctx.lineTo(x2 - 6, arrowY + 4);
    ctx.fill();

    // d = 6 label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('d = 6', (x1 + x2) / 2, arrowY - 8);

    // Highlight first two terms
    const highlightY = baseY + 28;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    const hx1 = startX - 4;
    const hx2 = startX + 2 * barWidth + gap + 4;
    ctx.beginPath();
    ctx.moveTo(hx1, highlightY);
    ctx.lineTo(hx2, highlightY);
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('a\u2081 \u00B7 a\u2082 = 2 \u00B7 8 = 16', (hx1 + hx2) / 2, highlightY + 15);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>

<script>
(() => {
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Proizvod prva dva clana aritmeticke progresije",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["aritmeticka progresija", "sistem jednacina", "zbir clanova", "opsti clan", "nizovi"]
}
BRAINSPARK_META-->