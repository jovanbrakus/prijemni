<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aritmetička i geometrijska progresija</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Brojevi a, b, c obrazuju aritmetičku progresiju (AP).
Brojevi a, b, c+3 obrazuju geometrijsku progresiju (GP) sa količnikom q = 2.
Naći a + b + c.

KORAK 1: Uslov za AP.
  a, b, c su u AP => b - a = c - b => 2b = a + c ... (1)

KORAK 2: Uslov za GP sa količnikom 2.
  a, b, c+3 su u GP sa q = 2 znači:
  b = 2a           ... (2)
  c + 3 = 2b = 4a  ... (3)

KORAK 3: Iz (3): c = 4a - 3

KORAK 4: Zamena u (1): 2b = a + c
  2(2a) = a + (4a - 3)
  4a = 5a - 3
  -a = -3
  a = 3

KORAK 5: Nalaženje b i c.
  b = 2a = 2 * 3 = 6
  c = 4a - 3 = 4 * 3 - 3 = 12 - 3 = 9

KORAK 6: Provera.
  AP: a=3, b=6, c=9. Razlika: 6-3=3, 9-6=3. OK ✓
  GP: a=3, b=6, c+3=12. Količnik: 6/3=2, 12/6=2. OK ✓

KORAK 7: Zbir.
  a + b + c = 3 + 6 + 9 = 18

Odgovor: (E) 18
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:1rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item .label{font-size:0.85rem;color:#94a3b8;font-weight:600;margin-bottom:4px}
.given-item .value{font-size:1rem;color:#e2e8f0}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-list{list-style:none;counter-reset:plan}
.plan-list li{counter-increment:plan;padding:6px 0;padding-left:32px;position:relative}
.plan-list li::before{content:counter(plan);position:absolute;left:0;top:6px;background:#60a5fa;color:#0f172a;width:22px;height:22px;border-radius:50%;font-size:0.78rem;font-weight:700;display:flex;align-items:center;justify-content:center}
details{margin:15px 0}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%;touch-action:none}
.step{margin-bottom:18px;padding:8px 12px;border-radius:8px;transition:border-left 0.2s,background 0.2s;cursor:pointer;border-left:3px solid transparent}
.step:hover,.step.active{border-left:3px solid #4ade80;background:rgba(74,222,128,0.04)}
.step:last-child{margin-bottom:0}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.math-block{background:rgba(56,189,248,0.08);border:1px solid rgba(56,189,248,0.15);border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center;font-family:'Courier New',monospace}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:15px 0;color:#93bbfc;font-weight:600}
.checkpoint summary{color:#60a5fa;font-weight:600}
.checkpoint-answer{color:#4ade80;font-weight:600;margin-top:6px}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.final-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:16px}
.final-option{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px;text-align:center;font-size:1rem;transition:all 0.2s}
.final-option.correct-option{border-color:#34d399;background:rgba(52,211,153,0.12);color:#4ade80;font-weight:700}
.verification{margin-top:16px;padding:12px 16px;background:rgba(52,211,153,0.06);border:1px solid rgba(52,211,153,0.2);border-radius:10px;color:#86efac;font-size:0.92rem}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.drag-hint{text-align:center;color:#64748b;font-size:0.82rem;margin-top:6px}
.highlight{color:#f472b6;font-weight:600}
@media(max-width:700px){
  body{padding:12px}
  h1{font-size:1.4rem}
  .given-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
  .final-options{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
}
</style>
</head>
<body>

<h1>Aritmetička i geometrijska progresija</h1>
<p class="subtitle">Algebra | Nizovi, aritmetička progresija, geometrijska progresija</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Brojevi \(a\), \(b\) i \(c\) obrazuju <span class="highlight">aritmetičku progresiju</span>, a brojevi \(a\), \(b\) i \(c + 3\) obrazuju <span class="highlight">geometrijsku progresiju</span> sa količnikom \(2\). Zbir brojeva \(a\), \(b\) i \(c\) jednak je:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(17\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(19\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(21\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(20\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(18\)</div>
    </div>
  </div>
</div>

<!-- Plan rešavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Zapisati uslov aritmetičke progresije za \(a, b, c\)</li>
    <li>Zapisati uslov geometrijske progresije sa količnikom 2 za \(a, b, c+3\)</li>
    <li>Rešiti sistem jednačina i naći \(a + b + c\)</li>
  </ol>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>&#128208; Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Aritmetička progresija (AP):</strong> Niz u kome je razlika uzastopnih članova konstantna. Za tri člana \(a, b, c\) u AP važi:</p>
      <div class="formula-box">
        \[b - a = c - b \quad \Longleftrightarrow \quad 2b = a + c\]
      </div>
      <p>Drugim rečima, srednji član je <em>aritmetička sredina</em> krajnjih.</p>
      <p><strong>Geometrijska progresija (GP):</strong> Niz u kome je količnik uzastopnih članova konstantan. Za tri člana \(p, q, r\) u GP sa količnikom \(k\):</p>
      <div class="formula-box">
        \[q = p \cdot k, \qquad r = p \cdot k^2\]
      </div>
      <p>Drugim rečima, svaki sledeći član se dobija množenjem prethodnog sa \(k\).</p>
      <p><strong>Važna napomena:</strong> Kada je količnik GP poznat (ovde \(q = 2\)), svi članovi se mogu izraziti preko prvog člana, što drastično pojednostavljuje problem.</p>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
  <div class="canvas-wrap">
    <canvas id="vizCanvas" width="760" height="420"></canvas>
  </div>
  <p class="drag-hint">Uporedni prikaz aritmetičke i geometrijske progresije</p>
</div>

<!-- Koraci rešenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Rešenje korak po korak</div>

  <div class="step" id="step1">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Uslov aritmetičke progresije</strong></p>
      <p>Brojevi \(a, b, c\) su u aritmetičkoj progresiji. To znači da je razlika između uzastopnih članova ista:</p>
      <div class="math-block">
        \[b - a = c - b\]
      </div>
      <p>Prebacimo sve na jednu stranu i sredimo:</p>
      <div class="math-block">
        \[2b = a + c \quad \ldots \text{(jednačina 1)}\]
      </div>
      <p>Ovo nam kaže da je \(b\) aritmetička sredina brojeva \(a\) i \(c\).</p>
    </div>
  </div>

  <div class="step" id="step2">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Uslov geometrijske progresije</strong></p>
      <p>Brojevi \(a, b, c+3\) čine geometrijsku progresiju sa količnikom \(q = 2\). To znači da se svaki sledeći član dobija množenjem prethodnog sa 2:</p>
      <div class="math-block">
        \[b = 2a \quad \ldots \text{(jednačina 2)}\]
      </div>
      <div class="math-block">
        \[c + 3 = 2b \quad \ldots \text{(jednačina 3)}\]
      </div>
      <p>Iz jednačine (3) odmah izrazimo \(c\):</p>
      <div class="math-block">
        \[c = 2b - 3\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Koliko je \(c\) izraženo samo preko \(a\)?</summary>
    <div class="checkpoint-answer">
      <p>Pošto je \(b = 2a\), zamenom u \(c = 2b - 3\) dobijamo: \(c = 2 \cdot 2a - 3 = 4a - 3\). &#10004;</p>
    </div>
  </details>

  <div class="step" id="step3">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Izrazimo \(b\) i \(c\) preko \(a\)</strong></p>
      <p>Iz jednačine (2) znamo \(b = 2a\). Zamenom u izraz za \(c\):</p>
      <div class="math-block">
        \[c = 2b - 3 = 2 \cdot 2a - 3 = 4a - 3\]
      </div>
      <p>Sada imamo sve tri vrednosti izražene preko \(a\):</p>
      <div class="math-block">
        \[a = a, \qquad b = 2a, \qquad c = 4a - 3\]
      </div>
    </div>
  </div>

  <div class="step" id="step4">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Primena uslova AP (jednačina 1)</strong></p>
      <p>Zamenjujemo \(b = 2a\) i \(c = 4a - 3\) u jednačinu \(2b = a + c\):</p>
      <div class="math-block">
        \[2 \cdot 2a = a + (4a - 3)\]
      </div>
      <p>Sredimo levu i desnu stranu:</p>
      <div class="math-block">
        \[4a = 5a - 3\]
      </div>
      <p>Prebacimo \(5a\) na levu stranu:</p>
      <div class="math-block">
        \[4a - 5a = -3\]
      </div>
      <div class="math-block">
        \[-a = -3\]
      </div>
      <div class="math-block">
        \[\boxed{a = 3}\]
      </div>
    </div>
  </div>

  <div class="step" id="step5">
    <div class="step-badge">KORAK 5</div>
    <div class="step-content">
      <p><strong>Nalaženje \(b\) i \(c\)</strong></p>
      <p>Zamenom \(a = 3\) u izraze iz Koraka 3:</p>
      <div class="math-block">
        \[b = 2a = 2 \cdot 3 = 6\]
      </div>
      <div class="math-block">
        \[c = 4a - 3 = 4 \cdot 3 - 3 = 12 - 3 = 9\]
      </div>
      <p>Dakle: \(a = 3\), \(b = 6\), \(c = 9\).</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Da li su \(3, 6, 9\) zaista u aritmetičkoj progresiji?</summary>
    <div class="checkpoint-answer">
      <p>\(6 - 3 = 3\) i \(9 - 6 = 3\). Razlike su jednake, dakle da &mdash; to je AP sa razlikom \(d = 3\). &#10004;</p>
    </div>
  </details>

  <div class="step" id="step6">
    <div class="step-badge">KORAK 6</div>
    <div class="step-content">
      <p><strong>Provera uslova geometrijske progresije</strong></p>
      <p>Treba da proverimo da \(a, b, c+3\), tj. \(3, 6, 12\), čine GP sa količnikom 2:</p>
      <div class="math-block">
        \[\frac{b}{a} = \frac{6}{3} = 2 \quad \checkmark\]
      </div>
      <div class="math-block">
        \[\frac{c+3}{b} = \frac{9+3}{6} = \frac{12}{6} = 2 \quad \checkmark\]
      </div>
      <p>Oba uslova su zadovoljena. Količnik je zaista 2.</p>
    </div>
  </div>

  <div class="step" id="step7">
    <div class="step-badge">KORAK 7</div>
    <div class="step-content">
      <p><strong>Izračunavanje zbira</strong></p>
      <div class="math-block">
        \[a + b + c = 3 + 6 + 9 = \boxed{18}\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Može li se zbir izračunati i bez nalaženja pojedinačnih vrednosti?</summary>
    <div class="checkpoint-answer">
      <p>Da! Pošto je \(a + b + c = a + 2a + (4a - 3) = 7a - 3\), za \(a = 3\) dobijamo \(7 \cdot 3 - 3 = 21 - 3 = 18\). &#10004;</p>
    </div>
  </details>
</div>

<!-- Ključni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
  <p class="insight-text">
    Kada je količnik geometrijske progresije poznat, svi njeni članovi se mogu izraziti preko prvog člana &mdash; i to je ključ koji drastično pojednostavljuje zadatak. Umesto sistema sa tri nepoznate, dobijamo jednu jednačinu sa jednom nepoznatom. Uslov aritmetičke progresije \(2b = a + c\) zatim daje tu jednu jednačinu koja sve zatvara.
  </p>
</div>

<!-- Konačan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konačan odgovor</div>
  <div class="final-answer-label">Zbir brojeva \(a\), \(b\) i \(c\):</div>
  <div class="final-answer-value">\(a + b + c = 3 + 6 + 9 = 18\)</div>
  <div class="final-answer-label" style="margin-top:12px">Tačan odgovor je (E)</div>
  <div class="final-options">
    <div class="final-option" data-option="A">(A) \(17\)</div>
    <div class="final-option" data-option="B">(B) \(19\)</div>
    <div class="final-option" data-option="C">(C) \(21\)</div>
    <div class="final-option" data-option="D">(D) \(20\)</div>
    <div class="final-option correct-option" data-option="E">(E) \(18\)</div>
  </div>
  <div class="verification">
    <strong>&#128269; Verifikacija:</strong> AP provera: \(3, 6, 9\) &mdash; razlika je konstantna (\(d = 3\)). GP provera: \(3, 6, 12\) &mdash; količnik je konstantan (\(q = 2\)), pri čemu je treći član \(c + 3 = 9 + 3 = 12\). Zbir: \(3 + 6 + 9 = 18\). &#10004;
  </div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguće zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Mešanje \(c\) i \(c + 3\) u geometrijskoj progresiji.</strong> Treći član GP nije \(c\), već \(c + 3\). Česta greška je pisanje \(c = 2b\) umesto ispravnog \(c + 3 = 2b\). To vodi ka pogrešnom rezultatu \(c = 12\) i zbiru 21 (odgovor C).
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Pogrešno postavljanje uslova AP.</strong> Uslov AP je \(2b = a + c\), a ne \(b = a + c\). Takođe, pažljivo treba razlikovati razliku progresije \(d\) od količnika \(q\) &mdash; u AP se sabira, u GP se množi.
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
  <p class="challenge-text">
    Brojevi \(a\), \(b\) i \(c\) obrazuju geometrijsku progresiju, a brojevi \(a + 1\), \(b\) i \(c - 1\) obrazuju aritmetičku progresiju. Ako je količnik geometrijske progresije jednak 3, koliki je zbir \(a + b + c\)?
  </p>
  <details>
    <summary>&#128161; Nagovještaj</summary>
    <div class="theory-content">
      <p>Iz GP: \(b = 3a\), \(c = 9a\). Uslov AP za \(a+1, 3a, 9a-1\): \(2 \cdot 3a = (a+1) + (9a-1)\), tj. \(6a = 10a\), pa \(a = 0\). Hmm, ali tada je GP trivijalna (\(0, 0, 0\)). Pokušaj sa količnikom 2 umesto 3 &mdash; dobijaš zanimljivije rešenje!</p>
    </div>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const BG = '#1e293b';
  const CARD_BORDER = '#334155';
  const TEXT = '#e2e8f0';
  const MUTED = '#94a3b8';
  const BLUE = '#60a5fa';
  const PURPLE = '#a78bfa';
  const GREEN = '#4ade80';
  const PINK = '#f472b6';
  const DARK = '#0f172a';

  function draw() {
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    var apValues = [3, 6, 9];
    var gpValues = [3, 6, 12];
    var apLabels = ['a = 3', 'b = 6', 'c = 9'];
    var gpLabels = ['a = 3', 'b = 6', 'c + 3 = 12'];

    var leftPad = 120;
    var rightPad = 60;
    var topSection = 40;
    var midY = H / 2;
    var sectionH = (H - 40) / 2;

    /* ===== Sekcija 1: Aritmetička progresija ===== */
    var apY = topSection + sectionH / 2;

    ctx.fillStyle = BLUE;
    ctx.font = 'bold 16px sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillText('Aritmetička', 16, apY - 22);
    ctx.fillText('progresija', 16, apY + 2);

    /* Brojevna prava za AP */
    var lineStartX = leftPad;
    var lineEndX = W - rightPad;
    var lineW = lineEndX - lineStartX;

    /* Opseg za prikaz: 0 do 14 */
    var minVal = 0;
    var maxVal = 14;
    var valRange = maxVal - minVal;

    function valToX(v) {
      return lineStartX + ((v - minVal) / valRange) * lineW;
    }

    /* Prava */
    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(lineStartX, apY);
    ctx.lineTo(lineEndX, apY);
    ctx.stroke();

    /* Oznake na pravoj */
    ctx.fillStyle = MUTED;
    ctx.font = '11px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var i = 0; i <= 14; i += 2) {
      var tx = valToX(i);
      ctx.beginPath();
      ctx.moveTo(tx, apY - 4);
      ctx.lineTo(tx, apY + 4);
      ctx.stroke();
      ctx.fillText(String(i), tx, apY + 8);
    }

    /* AP tačke */
    for (var j = 0; j < 3; j++) {
      var px = valToX(apValues[j]);

      /* Sjaj */
      var grad = ctx.createRadialGradient(px, apY, 0, px, apY, 24);
      grad.addColorStop(0, 'rgba(96,165,250,0.3)');
      grad.addColorStop(1, 'rgba(96,165,250,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(px, apY, 24, 0, Math.PI * 2);
      ctx.fill();

      /* Tačka */
      ctx.fillStyle = BLUE;
      ctx.beginPath();
      ctx.arc(px, apY, 8, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = DARK;
      ctx.font = 'bold 10px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(String(apValues[j]), px, apY);

      /* Labela iznad */
      ctx.fillStyle = TEXT;
      ctx.font = 'bold 13px sans-serif';
      ctx.textBaseline = 'bottom';
      ctx.fillText(apLabels[j], px, apY - 28);
    }

    /* Strelice za razliku d=3 */
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    for (var k = 0; k < 2; k++) {
      var x1 = valToX(apValues[k]);
      var x2 = valToX(apValues[k + 1]);
      var arcY = apY - 48;

      ctx.beginPath();
      ctx.moveTo(x1, apY - 14);
      ctx.quadraticCurveTo((x1 + x2) / 2, arcY - 20, x2, apY - 14);
      ctx.stroke();

      /* Label d=3 */
      ctx.fillStyle = GREEN;
      ctx.font = 'bold 12px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText('d = 3', (x1 + x2) / 2, arcY - 18);
    }
    ctx.setLineDash([]);

    /* Razdvojna linija */
    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(20, midY);
    ctx.lineTo(W - 20, midY);
    ctx.stroke();
    ctx.setLineDash([]);

    /* ===== Sekcija 2: Geometrijska progresija ===== */
    var gpY = midY + sectionH / 2;

    ctx.fillStyle = PURPLE;
    ctx.font = 'bold 16px sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillText('Geometrijska', 16, gpY - 22);
    ctx.fillText('progresija', 16, gpY + 2);

    /* Prava */
    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(lineStartX, gpY);
    ctx.lineTo(lineEndX, gpY);
    ctx.stroke();

    /* Oznake na pravoj */
    ctx.fillStyle = MUTED;
    ctx.font = '11px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var m = 0; m <= 14; m += 2) {
      var mx = valToX(m);
      ctx.beginPath();
      ctx.moveTo(mx, gpY - 4);
      ctx.lineTo(mx, gpY + 4);
      ctx.stroke();
      ctx.fillText(String(m), mx, gpY + 8);
    }

    /* GP tačke */
    var gpColors = [PURPLE, PURPLE, PINK];
    for (var n = 0; n < 3; n++) {
      var gx = valToX(gpValues[n]);
      var col = gpColors[n];

      /* Sjaj */
      var gGrad = ctx.createRadialGradient(gx, gpY, 0, gx, gpY, 24);
      gGrad.addColorStop(0, n === 2 ? 'rgba(244,114,182,0.3)' : 'rgba(167,139,250,0.3)');
      gGrad.addColorStop(1, n === 2 ? 'rgba(244,114,182,0)' : 'rgba(167,139,250,0)');
      ctx.fillStyle = gGrad;
      ctx.beginPath();
      ctx.arc(gx, gpY, 24, 0, Math.PI * 2);
      ctx.fill();

      /* Tačka */
      ctx.fillStyle = col;
      ctx.beginPath();
      ctx.arc(gx, gpY, 8, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = DARK;
      ctx.font = 'bold 10px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(String(gpValues[n]), gx, gpY);

      /* Labela iznad */
      ctx.fillStyle = TEXT;
      ctx.font = 'bold 13px sans-serif';
      ctx.textBaseline = 'bottom';
      ctx.fillText(gpLabels[n], gx, gpY - 28);
    }

    /* Strelice za količnik q=2 */
    ctx.strokeStyle = PINK;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    for (var p = 0; p < 2; p++) {
      var gx1 = valToX(gpValues[p]);
      var gx2 = valToX(gpValues[p + 1]);
      var gArcY = gpY - 48;

      ctx.beginPath();
      ctx.moveTo(gx1, gpY - 14);
      ctx.quadraticCurveTo((gx1 + gx2) / 2, gArcY - 20, gx2, gpY - 14);
      ctx.stroke();

      ctx.fillStyle = PINK;
      ctx.font = 'bold 12px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText('\u00d7 2', (gx1 + gx2) / 2, gArcY - 18);
    }
    ctx.setLineDash([]);

    /* Napomena ispod GP */
    ctx.fillStyle = MUTED;
    ctx.font = '12px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('c + 3 = 9 + 3 = 12 (treći član GP)', valToX(9), gpY + 30);

    /* Veza c -> c+3 */
    var cx9 = valToX(9);
    var cx12 = valToX(12);
    ctx.strokeStyle = PINK;
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.moveTo(cx9, gpY + 12);
    ctx.quadraticCurveTo((cx9 + cx12) / 2, gpY + 50, cx12, gpY + 12);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = PINK;
    ctx.font = 'bold 11px sans-serif';
    ctx.fillText('+ 3', (cx9 + cx12) / 2, gpY + 44);

    /* Oznaka za c=9 na GP pravoj */
    ctx.fillStyle = MUTED;
    ctx.strokeStyle = MUTED;
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 2]);
    ctx.beginPath();
    ctx.arc(cx9, gpY, 12, 0, Math.PI * 2);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.font = '10px sans-serif';
    ctx.textBaseline = 'bottom';
    ctx.fillText('c = 9', cx9, gpY - 44);
  }

  draw();

  /* Klik na korake */
  document.addEventListener('DOMContentLoaded', function() {
    var steps = document.querySelectorAll('.step');
    steps.forEach(function(step) {
      step.addEventListener('click', function() {
        steps.forEach(function(s) { s.classList.remove('active'); });
        step.classList.add('active');
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Aritmetička i geometrijska progresija - zbir članova","subject":"math","unit":"algebra","topic_tags":["aritmetička progresija","geometrijska progresija","sistem jednačina","nizovi"]}
BRAINSPARK_META-->