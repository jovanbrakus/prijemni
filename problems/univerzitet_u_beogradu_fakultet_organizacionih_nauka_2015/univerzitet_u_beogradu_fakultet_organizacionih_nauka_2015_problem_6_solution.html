<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oblast definisanosti kompozitne funkcije sa korenom i logaritmom</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Find integer values in the domain of f(x) = sqrt((x-1)/(3-x)) + log(3 + 5x - 2x¬≤)

For the domain, we need two conditions to hold simultaneously:

Condition 1: (x-1)/(3-x) >= 0  (argument of square root must be non-negative)
Also: 3-x ‚â† 0 => x ‚â† 3

Sign analysis for (x-1)/(3-x):
Critical points: x = 1 (numerator zero), x = 3 (denominator zero, excluded)

Interval x < 1:  numerator (x-1) < 0, denominator (3-x) > 0 => fraction < 0  NO
x = 1:  0/(3-1) = 0 >= 0  YES
Interval 1 < x < 3:  numerator > 0, denominator > 0 => fraction > 0  YES
x = 3:  denominator = 0, excluded  NO
Interval x > 3:  numerator > 0, denominator < 0 => fraction < 0  NO

Result of Condition 1: x ‚àà [1, 3)

Condition 2: 3 + 5x - 2x¬≤ > 0  (argument of logarithm must be strictly positive)
Rearranged: -2x¬≤ + 5x + 3 > 0, or 2x¬≤ - 5x - 3 < 0

Quadratic 2x¬≤ - 5x - 3 = 0:
D = 25 + 24 = 49
sqrt(D) = 7
x‚ÇÅ = (5 - 7)/4 = -2/4 = -1/2
x‚ÇÇ = (5 + 7)/4 = 12/4 = 3

Since coefficient of x¬≤ is positive (2 > 0), 2x¬≤ - 5x - 3 < 0 for x ‚àà (-1/2, 3)
So 3 + 5x - 2x¬≤ > 0 for x ‚àà (-1/2, 3)

Result of Condition 2: x ‚àà (-1/2, 3)

Intersection of conditions: [1, 3) ‚à© (-1/2, 3) = [1, 3)

Integer values in [1, 3): x = 1 and x = 2

Verification:
f(1) = sqrt(0/2) + log(3 + 5 - 2) = sqrt(0) + log(6) = 0 + log(6) ‚úì (defined)
f(2) = sqrt(1/1) + log(3 + 10 - 8) = sqrt(1) + log(5) = 1 + log(5) ‚úì (defined)
f(3) is undefined because 3-x = 0 in denominator
f(0): sqrt(-1/3) is undefined (negative under root) ‚úó

Answer: 2 integers, which is option D.
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  h1 {
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.9rem;
    font-weight: 800;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon { font-size: 1.3rem; }
  .blue { color: #60a5fa; }
  .purple { color: #a78bfa; }
  .green { color: #34d399; }
  .pink { color: #f472b6; }
  .muted { color: #94a3b8; }
  .highlight {
    background: rgba(56,189,248,0.08);
    border: 1px solid rgba(56,189,248,0.15);
    border-radius: 8px;
    padding: 14px 18px;
    margin: 12px 0;
    font-family: 'Courier New', monospace;
    overflow-x: auto;
  }
  .given-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    margin-top: 16px;
  }
  .given-item {
    background: rgba(96,165,250,0.07);
    border: 1px solid rgba(96,165,250,0.18);
    border-radius: 10px;
    padding: 10px 16px;
    text-align: center;
    min-width: 70px;
  }
  .given-item .label {
    font-size: 0.82rem;
    color: #94a3b8;
    margin-bottom: 2px;
    font-weight: 600;
  }
  .given-item .value {
    font-size: 1.05rem;
    color: #e2e8f0;
    font-weight: 700;
  }
  .step-container {
    display: flex;
    gap: 16px;
    margin-bottom: 22px;
    padding: 18px 20px;
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    cursor: pointer;
    transition: border-color 0.2s, border-left 0.2s;
    border-left: 4px solid #334155;
  }
  .step-container:hover, .step-container.active {
    border-left: 4px solid #4ade80;
  }
  .step-badge {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 0.95rem;
    flex-shrink: 0;
    margin-top: 2px;
  }
  .step-content { flex: 1; min-width: 0; }
  .step-content h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 8px;
  }
  .step-content p { margin-bottom: 8px; }
  details {
    margin: 15px 0;
    background: rgba(167,139,250,0.06);
    border: 1px solid rgba(167,139,250,0.15);
    border-radius: 10px;
    padding: 12px 16px;
  }
  details summary {
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    user-select: none;
  }
  details[open] summary { margin-bottom: 10px; }
  details p, details ul { margin-top: 6px; }
  details ul { padding-left: 20px; }
  details li { margin-bottom: 4px; }
  .insight-box {
    background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
    border: 1px solid rgba(167,139,250,0.25);
    border-radius: 14px;
    padding: 24px;
    text-align: center;
    margin-bottom: 22px;
  }
  .insight-box .label-text {
    font-size: 0.85rem;
    color: #a78bfa;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .final-answer-box {
    background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
    border: 2px solid rgba(52,211,153,0.35);
    border-radius: 16px;
    padding: 28px;
    text-align: center;
    margin-bottom: 22px;
  }
  .final-answer-box .label-text {
    font-size: 0.85rem;
    color: #34d399;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .final-answer-box .answer-value {
    font-size: 1.7rem;
    color: #4ade80;
    font-weight: 800;
  }
  .options-row {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    margin-top: 18px;
  }
  .option-card {
    background: rgba(30,41,59,0.7);
    border: 2px solid #334155;
    border-radius: 12px;
    padding: 12px 22px;
    text-align: center;
    min-width: 90px;
    transition: all 0.2s;
  }
  .option-card.correct {
    border-color: #4ade80;
    background: rgba(74,222,128,0.1);
    box-shadow: 0 0 20px rgba(74,222,128,0.15);
  }
  .option-card .opt-letter {
    font-size: 0.85rem;
    color: #94a3b8;
    font-weight: 700;
    margin-bottom: 2px;
  }
  .option-card.correct .opt-letter { color: #4ade80; }
  .option-card .opt-value {
    font-size: 1.15rem;
    font-weight: 700;
    color: #e2e8f0;
  }
  .option-card.correct .opt-value { color: #4ade80; }
  .pitfall-item {
    padding: 10px 0;
    border-bottom: 1px solid #334155;
  }
  .pitfall-item:last-child { border-bottom: none; }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 12px;
    touch-action: none;
    max-width: 100%;
  }
  .canvas-wrapper {
    background: #0c1222;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 16px;
    margin: 14px 0;
    text-align: center;
  }
  .note {
    color: #94a3b8;
    font-size: 0.9rem;
    font-style: italic;
    margin-top: 8px;
  }
  @media (max-width: 700px) {
    body { padding: 12px; }
    h1 { font-size: 1.5rem; }
    .card { padding: 16px; }
    .step-container { padding: 14px; flex-direction: column; gap: 10px; }
    .given-grid { gap: 8px; }
    .given-item { min-width: 60px; padding: 8px 10px; }
    .options-row { gap: 8px; }
    .option-card { min-width: 70px; padding: 10px 14px; }
  }
</style>
</head>
<body>

<h1>Oblast definisanosti kompozitne funkcije</h1>
<p class="subtitle">Domen funkcije sa kvadratnim korenom i logaritmom -- presek uslova</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">üìã</span><span class="blue">Tekst zadatka</span></div>
  <p>Celih brojeva koji pripadaju oblasti definisanosti funkcije</p>
  <div class="highlight">
    \[ f(x) = \sqrt{\frac{x - 1}{3 - x}} + \log(3 + 5x - 2x^2) \]
  </div>
  <p>ima:</p>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(0\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(3\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(2\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(4\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon">üó∫Ô∏è</span><span class="purple">Plan re≈°avanja</span></div>
  <p>Funkcija \( f(x) \) sadr≈æi dva dela: kvadratni koren i logaritam. Za svaki deo postaviƒáemo uslove definisanosti, a zatim naƒái presek tih uslova. Na kraju, prebrojiƒáemo cele brojeve u tom preseku.</p>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details>
    <summary>üìê Kljuƒçne formule i teoreme</summary>
    <ul>
      <li><strong>Kvadratni koren</strong> \( \sqrt{A} \) je definisan kada je \( A \geq 0 \).</li>
      <li><strong>Logaritam</strong> \( \log(B) \) je definisan kada je \( B > 0 \) (argument je strogo pozitivan).</li>
      <li><strong>Razlomak \( \frac{P}{Q} \)</strong>: imenilac mora biti razliƒçit od nule, tj. \( Q \neq 0 \).</li>
      <li><strong>Znak razlomka:</strong> \( \frac{P}{Q} \geq 0 \) va≈æi kada su \( P \) i \( Q \) istog znaka, ili kada je \( P = 0 \).</li>
      <li><strong>Kvadratna nejednaƒçina:</strong> Za \( ax^2 + bx + c < 0 \) sa \( a > 0 \), re≈°enje je interval izmeƒëu nula \( (x_1, x_2) \).</li>
    </ul>
  </details>
</div>

<!-- Visual Aid / Interactive Diagram -->
<div class="card">
  <div class="card-title"><span class="icon">üìä</span><span class="blue">Grafiƒçki prikaz uslova</span></div>
  <p class="muted" style="margin-bottom:10px;">Brojevna prava sa obele≈æenim intervalima za svaki uslov i presek.</p>
  <div class="canvas-wrapper">
    <canvas id="domainCanvas" width="780" height="340"></canvas>
  </div>
</div>

<!-- Step-by-step Solution -->
<div class="step-container" id="step1">
  <div class="step-badge">1</div>
  <div class="step-content">
    <h3>Identifikujemo uslove definisanosti</h3>
    <p>Funkcija \( f(x) \) ima dva sabirka. Da bi \( f(x) \) bila definisana, <span class="pink">oba sabirka</span> moraju biti definisana istovremeno.</p>
    <div class="highlight">
      \[ \text{Uslov 1: } \quad \frac{x - 1}{3 - x} \geq 0 \quad \text{(za koren)} \]
      \[ \text{Uslov 2: } \quad 3 + 5x - 2x^2 > 0 \quad \text{(za logaritam)} \]
    </div>
    <p class="note">Napomena: Uslov 1 automatski ukljuƒçuje i zahtev da je imenilac \( 3 - x \neq 0 \), jer bi razlomak inaƒçe bio nedefinisan.</p>
  </div>
</div>

<div class="step-container" id="step2">
  <div class="step-badge">2</div>
  <div class="step-content">
    <h3>Re≈°avamo Uslov 1: \( \frac{x-1}{3-x} \geq 0 \)</h3>
    <p>Razlomak je nenegativan kada su brojilac i imenilac istog znaka, ili kada je brojilac jednak nuli.</p>
    <p><strong>Nule i kritiƒçne taƒçke:</strong></p>
    <div class="highlight">
      \[ x - 1 = 0 \;\Rightarrow\; x = 1 \qquad (\text{brojilac}) \]
      \[ 3 - x = 0 \;\Rightarrow\; x = 3 \qquad (\text{imenilac, zabranjeno}) \]
    </div>
    <p>Pravimo tablicu znakova:</p>
    <div class="highlight">
      \[ \begin{array}{c|ccc|c}
        x & (-\infty, 1) & (1, 3) & (3, +\infty) \\ \hline
        x - 1 & - & + & + \\
        3 - x & + & + & - \\ \hline
        \dfrac{x-1}{3-x} & - & + & -
      \end{array} \]
    </div>
    <p>Na osnovu tablice i ukljuƒçujuƒái \( x = 1 \) (gde je razlomak jednak nuli):</p>
    <div class="highlight">
      \[ \text{Uslov 1:} \quad x \in \color{#60a5fa}{[1, 3)} \]
    </div>
    <details>
      <summary>üîç Proveri sebe: Za≈°to je \( x = 3 \) iskljuƒçeno?</summary>
      <p>Zato ≈°to za \( x = 3 \) imenilac \( 3 - x = 0 \), pa je razlomak nedefinisan. Koren od neƒçega nedefinisanog nema smisla.</p>
    </details>
  </div>
</div>

<div class="step-container" id="step3">
  <div class="step-badge">3</div>
  <div class="step-content">
    <h3>Re≈°avamo Uslov 2: \( 3 + 5x - 2x^2 > 0 \)</h3>
    <p>Preuredimo nejednaƒçinu mno≈æeƒái sa \(-1\) (menja se znak nejednaƒçine):</p>
    <div class="highlight">
      \[ 2x^2 - 5x - 3 < 0 \]
    </div>
    <p>Tra≈æimo nule kvadratne jednaƒçine \( 2x^2 - 5x - 3 = 0 \):</p>
    <div class="highlight">
      \[ D = (-5)^2 - 4 \cdot 2 \cdot (-3) = 25 + 24 = 49 \]
      \[ \sqrt{D} = 7 \]
      \[ x_{1{,}2} = \frac{5 \pm 7}{4} \]
    </div>
    <div class="highlight">
      \[ x_1 = \frac{5 - 7}{4} = \frac{-2}{4} = -\frac{1}{2} \qquad x_2 = \frac{5 + 7}{4} = \frac{12}{4} = 3 \]
    </div>
    <p>Po≈°to je koeficijent uz \( x^2 \) pozitivan (\( a = 2 > 0 \)), parabola je otvorena nagore, pa je izraz manji od nule <span class="pink">izmeƒëu nula</span>:</p>
    <div class="highlight">
      \[ \text{Uslov 2:} \quad x \in \color{#60a5fa}{\left(-\frac{1}{2},\; 3\right)} \]
    </div>
    <details>
      <summary>üîç Proveri sebe: Za≈°to su krajnje taƒçke iskljuƒçene?</summary>
      <p>Za \( x = -\frac{1}{2} \) i \( x = 3 \), izraz \( 3 + 5x - 2x^2 = 0 \), a logaritam od nule nije definisan. Zato koristimo <strong>stroge</strong> nejednakosti i otvorene zagrade.</p>
    </details>
  </div>
</div>

<div class="step-container" id="step4">
  <div class="step-badge">4</div>
  <div class="step-content">
    <h3>Nalazimo presek uslova</h3>
    <p>Oblast definisanosti funkcije je presek oba uslova:</p>
    <div class="highlight">
      \[ \mathcal{D}_f = [1, 3) \;\cap\; \left(-\frac{1}{2},\; 3\right) = \color{#4ade80}{[1, 3)} \]
    </div>
    <p>Interval \( [1, 3) \) je u potpunosti sadr≈æan u \( (-\frac{1}{2}, 3) \), pa presek ostaje \( [1, 3) \).</p>
    <p class="note">Oba intervala se zavr≈°avaju na \( 3 \) (iskljuƒçeno), a \( [1, 3) \) poƒçinje ‚Äûkasnije" od \( (-\frac{1}{2}, 3) \), pa on diktira poƒçetak preseka.</p>
  </div>
</div>

<div class="step-container" id="step5">
  <div class="step-badge">5</div>
  <div class="step-content">
    <h3>Brojimo cele brojeve u \( [1, 3) \)</h3>
    <p>Celi brojevi koji pripadaju intervalu \( [1, 3) \) su:</p>
    <div class="highlight">
      \[ x = 1 \quad \checkmark \qquad x = 2 \quad \checkmark \qquad x = 3 \quad \text{(nije u intervalu!)} \]
    </div>
    <p>Dakle, postoje taƒçno <span class="green" style="font-weight:800;">2</span> cela broja u oblasti definisanosti.</p>
  </div>
</div>

<!-- Verification -->
<div class="step-container" id="step6">
  <div class="step-badge">‚úì</div>
  <div class="step-content">
    <h3>Verifikacija</h3>
    <p>Proverimo da su \( x = 1 \) i \( x = 2 \) zaista u domenu:</p>
    <div class="highlight">
      \[ f(1) = \sqrt{\frac{1-1}{3-1}} + \log(3 + 5 - 2) = \sqrt{0} + \log 6 = 0 + \log 6 \approx 0{,}778 \;\; \checkmark \]
    </div>
    <div class="highlight">
      \[ f(2) = \sqrt{\frac{2-1}{3-2}} + \log(3 + 10 - 8) = \sqrt{1} + \log 5 = 1 + \log 5 \approx 1{,}699 \;\; \checkmark \]
    </div>
    <p>Proverimo da \( x = 0 \) i \( x = 3 \) nisu u domenu:</p>
    <div class="highlight">
      \[ f(0) = \sqrt{\frac{-1}{3}} + \ldots \quad \Rightarrow \quad \text{negativan broj pod korenom} \;\; \boldsymbol{\times} \]
      \[ f(3) = \sqrt{\frac{2}{0}} + \ldots \quad \Rightarrow \quad \text{deljenje nulom} \;\; \boldsymbol{\times} \]
    </div>
    <details>
      <summary>üîç Proveri sebe: A ≈°ta je sa \( x = -1 \)?</summary>
      <p>Za \( x = -1 \): razlomak pod korenom je \( \frac{-1-1}{3-(-1)} = \frac{-2}{4} = -\frac{1}{2} < 0 \). Koren negativnog broja nije definisan, pa \( x = -1 \) nije u domenu.</p>
    </details>
  </div>
</div>

<!-- Key Insight -->
<div class="insight-box">
  <div class="label-text">Kljuƒçni uvid</div>
  <p style="font-size:1.1rem; margin-bottom:10px;">Oba uslova daju intervale koji se zavr≈°avaju u \( x = 3 \), ali ni jedan ne ukljuƒçuje tu taƒçku. Koren tra≈æi \( [1, 3) \), logaritam tra≈æi \( (-\frac{1}{2}, 3) \). Presek je upravo \( [1, 3) \).</p>
  <div style="font-size:1.4rem; font-weight:800; color:#4ade80; margin-top:10px;">
    \( \mathcal{D}_f = [1,\, 3) \quad \Rightarrow \quad \text{2 cela broja: } 1 \text{ i } 2 \)
  </div>
</div>

<!-- Final Answer -->
<div class="final-answer-box">
  <div class="label-text">Konaƒçan odgovor</div>
  <div class="answer-value">D) 2</div>
  <p style="color:#94a3b8; margin-top:12px; font-size:0.95rem;">Oblast definisanosti je \( [1, 3) \), a celi brojevi u njoj su \( 1 \) i \( 2 \).</p>
  <div class="options-row">
    <div class="option-card">
      <div class="opt-letter">(A)</div>
      <div class="opt-value">0</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(B)</div>
      <div class="opt-value">3</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(C)</div>
      <div class="opt-value">1</div>
    </div>
    <div class="option-card correct">
      <div class="opt-letter">(D)</div>
      <div class="opt-value">2</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(E)</div>
      <div class="opt-value">4</div>
    </div>
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon">‚ö†Ô∏è</span><span class="pink">ƒåeste gre≈°ke</span></div>
  <div class="pitfall-item">
    <p><strong>Ukljuƒçivanje \( x = 3 \) u domen:</strong> Mnogi uƒçenici zaborave da je \( 3 - x = 0 \) za \( x = 3 \), ≈°to ƒçini razlomak nedefinisanim. Takoƒëe, \( \log(0) \) ne postoji. Zato je \( x = 3 \) iskljuƒçen iz oba uslova!</p>
  </div>
  <div class="pitfall-item">
    <p><strong>Pogre≈°an znak nejednaƒçine za logaritam:</strong> Argument logaritma mora biti <em>strogo pozitivan</em> (\( > 0 \)), ne samo nenegativan (\( \geq 0 \)). Kori≈°ƒáenje \( \geq 0 \) bi pogre≈°no ukljuƒçilo krajnje taƒçke.</p>
  </div>
  <div class="pitfall-item">
    <p><strong>Zaboravljanje da je \( [1, 3) \) podskup od \( (-\frac{1}{2}, 3) \):</strong> Neki uƒçenici komplikuju presek, ali u ovom sluƒçaju je manji interval u potpunosti sadr≈æan u veƒáem.</p>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="card-title"><span class="icon">üèÜ</span><span class="purple">Dodatni izazov</span></div>
  <p>Koliko celih brojeva pripada oblasti definisanosti funkcije \( g(x) = \sqrt{\frac{x-1}{3-x}} + \ln(3 + 5x - 2x^2) \)?</p>
  <details>
    <summary>üí° Nagove≈°taj</summary>
    <p>Pa≈æljivo! Zamena \( \log \) sa \( \ln \) (prirodni logaritam) ne menja uslov definisanosti -- argument i dalje mora biti strogo pozitivan. Odgovor je isti: 2 cela broja. Ali ≈°ta ako umesto \( 3 - x \) u imeniocu stoji \( x - 3 \)? Razmisli kako se tada menja tablica znakova!</p>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('domainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const leftVal = -1.5;
    const rightVal = 4.5;
    const range = rightVal - leftVal;
    const marginLeft = 60;
    const marginRight = 30;
    const usableW = W - marginLeft - marginRight;

    function xToPixel(v) {
      return marginLeft + ((v - leftVal) / range) * usableW;
    }

    const rows = [
      { label: 'Uslov 1', interval: [1, 3], leftClosed: true, rightClosed: false, color: '#60a5fa', y: 70 },
      { label: 'Uslov 2', interval: [-0.5, 3], leftClosed: false, rightClosed: false, color: '#a78bfa', y: 140 },
      { label: 'Presek', interval: [1, 3], leftClosed: true, rightClosed: false, color: '#4ade80', y: 210 }
    ];

    // Draw number line axis for each row
    rows.forEach(function(row) {
      // Axis line
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(marginLeft, row.y);
      ctx.lineTo(W - marginRight, row.y);
      ctx.stroke();

      // Tick marks
      for (let v = -1; v <= 4; v++) {
        const px = xToPixel(v);
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(px, row.y - 6);
        ctx.lineTo(px, row.y + 6);
        ctx.stroke();

        ctx.fillStyle = '#94a3b8';
        ctx.font = '12px "Segoe UI", system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'top';
        ctx.fillText(v.toString(), px, row.y + 9);
      }

      // Special tick for -0.5
      const halfPx = xToPixel(-0.5);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(halfPx, row.y - 4);
      ctx.lineTo(halfPx, row.y + 4);
      ctx.stroke();
      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText('-1/2', halfPx, row.y + 9);

      // Label
      ctx.fillStyle = row.color;
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.textBaseline = 'middle';
      ctx.fillText(row.label, marginLeft - 10, row.y);

      // Draw interval
      const x1 = xToPixel(row.interval[0]);
      const x2 = xToPixel(row.interval[1]);

      // Line segment
      ctx.strokeStyle = row.color;
      ctx.lineWidth = 5;
      ctx.beginPath();
      ctx.moveTo(x1, row.y);
      ctx.lineTo(x2, row.y);
      ctx.stroke();

      // Glow effect
      ctx.shadowColor = row.color;
      ctx.shadowBlur = 10;
      ctx.strokeStyle = row.color;
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(x1, row.y);
      ctx.lineTo(x2, row.y);
      ctx.stroke();
      ctx.shadowBlur = 0;

      // Endpoints
      // Left endpoint
      ctx.beginPath();
      ctx.arc(x1, row.y, 6, 0, Math.PI * 2);
      if (row.leftClosed) {
        ctx.fillStyle = row.color;
        ctx.fill();
      } else {
        ctx.fillStyle = '#0c1222';
        ctx.fill();
        ctx.strokeStyle = row.color;
        ctx.lineWidth = 2.5;
        ctx.stroke();
      }

      // Right endpoint
      ctx.beginPath();
      ctx.arc(x2, row.y, 6, 0, Math.PI * 2);
      if (row.rightClosed) {
        ctx.fillStyle = row.color;
        ctx.fill();
      } else {
        ctx.fillStyle = '#0c1222';
        ctx.fill();
        ctx.strokeStyle = row.color;
        ctx.lineWidth = 2.5;
        ctx.stroke();
      }

      // Interval notation
      var leftBracket = row.leftClosed ? '[' : '(';
      var rightBracket = row.rightClosed ? ']' : ')';
      var leftLabel = row.interval[0] === -0.5 ? '-1/2' : row.interval[0].toString();
      var rightLabel = row.interval[1].toString();
      var notation = leftBracket + leftLabel + ', ' + rightLabel + rightBracket;
      ctx.fillStyle = row.color;
      ctx.font = 'bold 13px "Courier New", monospace';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText(notation, (x1 + x2) / 2, row.y - 14);
    });

    // Mark integer points on the intersection row
    var intRow = rows[2];
    [1, 2].forEach(function(v) {
      var px = xToPixel(v);
      // Glow
      ctx.shadowColor = '#4ade80';
      ctx.shadowBlur = 15;
      ctx.beginPath();
      ctx.arc(px, intRow.y, 10, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(74, 222, 128, 0.25)';
      ctx.fill();
      ctx.shadowBlur = 0;

      // Point
      ctx.beginPath();
      ctx.arc(px, intRow.y, 5, 0, Math.PI * 2);
      ctx.fillStyle = '#4ade80';
      ctx.fill();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText('x = ' + v, px, intRow.y - 22);
    });

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Oblast definisanosti na brojevnoj pravoj', W / 2, 16);

    // Bottom legend
    var legendY = 280;
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';

    // Filled circle = included
    ctx.beginPath();
    ctx.arc(marginLeft, legendY, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#94a3b8';
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('= taƒçka pripada intervalu', marginLeft + 12, legendY);

    // Open circle = excluded
    ctx.beginPath();
    ctx.arc(marginLeft + 240, legendY, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#0c1222';
    ctx.fill();
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('= taƒçka ne pripada intervalu', marginLeft + 252, legendY);

    // Green dots legend
    var legendY2 = legendY + 25;
    ctx.shadowColor = '#4ade80';
    ctx.shadowBlur = 8;
    ctx.beginPath();
    ctx.arc(marginLeft, legendY2, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.shadowBlur = 0;
    ctx.fillStyle = '#4ade80';
    ctx.fillText('= celi brojevi u domenu (x = 1, x = 2)', marginLeft + 12, legendY2);
  }

  draw();

  // Step click interactivity
  document.querySelectorAll('.step-container').forEach(function(el) {
    el.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(function(s) {
        s.classList.remove('active');
      });
      el.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Oblast definisanosti funkcije sa korenom i logaritmom",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["oblast definisanosti", "kvadratni koren", "logaritam", "kvadratna nejednaƒçina", "nejednaƒçine sa razlomcima"]
}
BRAINSPARK_META-->