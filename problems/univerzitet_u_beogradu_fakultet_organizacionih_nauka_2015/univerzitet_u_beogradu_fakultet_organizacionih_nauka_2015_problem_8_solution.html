<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna nejednačina</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Skup svih rešenja nejednačine (1/3)^(x² − 6x + 7) > 1/9 je:

A) (2, 4)
B) (1, 5)
C) (1, 3)
D) (−∞, 1) ∪ (5, ∞)
E) (3, 5)

STEP-BY-STEP LOGIC:

1. Prepisujemo obe strane nejednačine kao stepene broja 1/3:
   Leva strana: (1/3)^(x² − 6x + 7)
   Desna strana: 1/9 = (1/3)^2

   Dakle nejednačina postaje:
   (1/3)^(x² − 6x + 7) > (1/3)^2

2. Baza je 1/3, što je pozitivan broj manji od 1 (0 < 1/3 < 1).
   Kada je baza između 0 i 1, eksponencijalna funkcija je OPADAJUĆA.
   To znači da veći eksponent daje MANJU vrednost.

   Dakle: (1/3)^a > (1/3)^b  ⟺  a < b

3. Primenjujemo ovo pravilo:
   x² − 6x + 7 < 2

4. Rešavamo kvadratnu nejednačinu:
   x² − 6x + 7 < 2
   x² − 6x + 7 − 2 < 0
   x² − 6x + 5 < 0

5. Faktorizujemo kvadratni izraz:
   x² − 6x + 5 = (x − 1)(x − 5)

   Nule: x₁ = 1, x₂ = 5

   Koeficijent uz x² je pozitivan (a = 1 > 0), pa je parabola otvorena naviše.
   Dakle izraz je negativan IZMEĐU nula: za x ∈ (1, 5).

6. (x − 1)(x − 5) < 0  ⟺  x ∈ (1, 5)

ANSWER: B) (1, 5)

Verification:
- x = 3 (sredina intervala): x² − 6x + 7 = 9 − 18 + 7 = −2 < 2 ✓
  (1/3)^(−2) = 3² = 9 > 1/9 ✓

- x = 0 (van intervala): x² − 6x + 7 = 0 − 0 + 7 = 7 > 2
  (1/3)^7 = 1/2187 < 1/9 ✓ (ne zadovoljava)

- x = 1 (granica): x² − 6x + 7 = 1 − 6 + 7 = 2 = 2
  (1/3)^2 = 1/9, nije strogo veće ✓ (ne pripada)

- x = 5 (granica): x² − 6x + 7 = 25 − 30 + 7 = 2 = 2
  (1/3)^2 = 1/9, nije strogo veće ✓ (ne pripada)

All checks confirm: B) (1, 5) ✓
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
  flex: 1;
  min-width: 80px;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
  font-weight: 600;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  border-left: 3px solid transparent;
}

.step-container:hover {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(96,165,250,0.08);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 0.95rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
  font-size: 0.97rem;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

details ul {
  list-style: none;
  padding-left: 8px;
}

details ul li {
  padding: 6px 0;
  color: #cbd5e1;
  border-left: 2px solid #334155;
  padding-left: 14px;
  margin-bottom: 4px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  justify-content: center;
  color: #a78bfa;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 1px solid rgba(52,211,153,0.25);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #4ade80;
  justify-content: center;
  margin-bottom: 20px;
}

.final-answer .answer-big {
  font-size: 1.6rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  color: #94a3b8;
  font-size: 1rem;
  min-width: 110px;
  text-align: center;
  transition: all 0.3s;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: 700;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.verification-note {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.15);
  border-radius: 10px;
  padding: 16px;
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.93rem;
  text-align: left;
}

.pitfall-item {
  background: rgba(244,114,182,0.06);
  border: 1px solid rgba(244,114,182,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin-bottom: 10px;
  color: #cbd5e1;
  font-size: 0.95rem;
}

.pitfall-item strong {
  color: #f472b6;
}

canvas {
  touch-action: none;
  border-radius: 12px;
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .step-container { padding: 12px; }
  .option-card { min-width: 90px; padding: 8px 14px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Eksponencijalna nejednačina</h1>
  <p class="subtitle">Rešavanje nejednačine sa bazom manjom od 1 i kvadratnim eksponentom</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <p>Skup svih rešenja nejednačine</p>
    <div class="math-block">
      \[\left(\frac{1}{3}\right)^{x^2 - 6x + 7} > \frac{1}{9}\]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\((2,\; 4)\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\((1,\; 5)\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\((1,\; 3)\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\((-\infty,\; 1) \cup (5,\; +\infty)\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\((3,\; 5)\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p>Obe strane nejednačine zapisaćemo kao stepene iste baze \(\frac{1}{3}\). Zatim ćemo iskoristiti činjenicu da je eksponencijalna funkcija sa bazom između 0 i 1 <span class="highlight-pink">opadajuća</span>, čime nejednačinu svodimo na kvadratnu nejednačinu.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul>
        <li>Ako je \(0 < a < 1\), funkcija \(f(x) = a^x\) je <span class="highlight-pink">strogo opadajuća</span>: veći eksponent daje manju vrednost.</li>
        <li>Za opadajuću eksponencijalnu funkciju važi: \(a^{\alpha} > a^{\beta} \iff \alpha < \beta\) (pri čemu je \(0 < a < 1\)).</li>
        <li>Kvadratna nejednačina \((x - x_1)(x - x_2) < 0\) (gde je \(x_1 < x_2\)) ima rešenje \(x \in (x_1,\; x_2)\) ako je koeficijent uz \(x^2\) pozitivan.</li>
        <li>Za proveru znaka kvadratnog trinoma koristimo tablicu znakova ili činjenicu da je parabola otvorena naviše kada je \(a > 0\).</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid: Canvas -->
  <div class="card">
    <h2>Grafički prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">Na grafiku vidimo funkciju \(f(x) = x^2 - 6x + 7\) i horizontalnu pravu \(y = 2\). Rešenje nejednačine odgovara intervalu gde je parabola <span class="highlight-green">ispod</span> te prave.</p>
    <canvas id="mainCanvas" width="700" height="450"></canvas>
    <p class="canvas-hint">Zeleni deo označava interval rešenja \((1,\; 5)\)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Svedemo desnu stranu na istu bazu</h3>
        <p>Primetimo da je \(\frac{1}{9}\) zapravo stepen broja \(\frac{1}{3}\):</p>
        <div class="math-block">
          \[\frac{1}{9} = \frac{1}{3^2} = \left(\frac{1}{3}\right)^{2}\]
        </div>
        <p>Sada nejednačina ima oblik:</p>
        <div class="math-block">
          \[\left(\frac{1}{3}\right)^{x^2 - 6x + 7} > \left(\frac{1}{3}\right)^{2}\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Primenimo svojstvo opadajuće eksponencijalne funkcije</h3>
        <p>Baza je \(\frac{1}{3}\), a važi \(0 < \frac{1}{3} < 1\), pa je funkcija \(f(t) = \left(\frac{1}{3}\right)^t\) <span class="highlight-pink">strogo opadajuća</span>.</p>
        <p>Kod opadajuće funkcije, veća vrednost funkcije znači <strong>manji</strong> argument. Dakle:</p>
        <div class="math-block">
          \[\left(\frac{1}{3}\right)^{x^2 - 6x + 7} > \left(\frac{1}{3}\right)^{2} \iff x^2 - 6x + 7 < 2\]
        </div>
        <p class="note">Ključan momenat: znak nejednakosti se obrće jer je baza manja od 1!</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details>
      <summary>Proveri sebe: Zašto se obrće znak?</summary>
      <p style="padding: 10px; color: #cbd5e1;">Eksponencijalna funkcija \(a^x\) sa bazom \(0 < a < 1\) je opadajuća. To znači: ako je \(a^m > a^n\), onda je \(m < n\). Na primer: \(\left(\frac{1}{3}\right)^1 = \frac{1}{3}\) je veće od \(\left(\frac{1}{3}\right)^2 = \frac{1}{9}\), jer je eksponent 1 manji od 2. Manja vrednost eksponenta daje veću vrednost funkcije.</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Formiramo kvadratnu nejednačinu</h3>
        <p>Prebacimo sve na levu stranu:</p>
        <div class="math-block">
          \[\begin{align}
          x^2 - 6x + 7 &< 2 \\[6pt]
          x^2 - 6x + 7 - 2 &< 0 \\[6pt]
          x^2 - 6x + 5 &< 0
          \end{align}\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Nađemo nule kvadratnog trinoma</h3>
        <p>Rešavamo jednačinu \(x^2 - 6x + 5 = 0\). Koristimo formulu za diskriminantu:</p>
        <div class="math-block">
          \[\begin{align}
          D &= b^2 - 4ac = (-6)^2 - 4 \cdot 1 \cdot 5 = 36 - 20 = 16 \\[6pt]
          x_{1{,}2} &= \frac{-b \pm \sqrt{D}}{2a} = \frac{6 \pm \sqrt{16}}{2} = \frac{6 \pm 4}{2}
          \end{align}\]
        </div>
        <p>Odavde dobijamo:</p>
        <div class="math-block">
          \[x_1 = \frac{6 - 4}{2} = 1 \qquad \text{i} \qquad x_2 = \frac{6 + 4}{2} = 5\]
        </div>
        <p class="note">Mogli smo i faktorizovati direktno: \(x^2 - 6x + 5 = (x-1)(x-5)\), jer \(1 \cdot 5 = 5\) i \(1 + 5 = 6\).</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details>
      <summary>Proveri sebe: Da li su nule tačne?</summary>
      <p style="padding: 10px; color: #cbd5e1;">Za \(x = 1\): \(1^2 - 6 \cdot 1 + 5 = 1 - 6 + 5 = 0\) (tačno). Za \(x = 5\): \(5^2 - 6 \cdot 5 + 5 = 25 - 30 + 5 = 0\) (tačno).</p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Rešimo kvadratnu nejednačinu</h3>
        <p>Imamo \((x - 1)(x - 5) < 0\). Koeficijent uz \(x^2\) je pozitivan (\(a = 1 > 0\)), pa je parabola <span class="highlight-blue">otvorena naviše</span>.</p>
        <p>Parabola je negativna (ispod \(x\)-ose) <strong>između</strong> svojih nula:</p>
        <div class="math-block">
          \[(x - 1)(x - 5) < 0 \quad \iff \quad x \in (1,\; 5)\]
        </div>
        <p class="note">Alternativno, analizom znakova: za \(x \in (1, 5)\) faktor \((x-1)\) je pozitivan, a \((x-5)\) je negativan, pa je proizvod negativan.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details>
      <summary>Proveri sebe: Uvrsti \(x = 3\) u polaznu nejednačinu</summary>
      <p style="padding: 10px; color: #cbd5e1;">Za \(x = 3\): eksponent je \(3^2 - 6 \cdot 3 + 7 = 9 - 18 + 7 = -2\). Leva strana: \(\left(\frac{1}{3}\right)^{-2} = 3^2 = 9\). Da li je \(9 > \frac{1}{9}\)? Da! Dakle \(x = 3\) jeste rešenje.</p>
    </details>

  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color: #cbd5e1; margin-bottom: 14px;">Nejednačina se svodi na obrtanje znaka nejednakosti jer je baza manja od 1:</p>
    <div class="math-block" style="background: rgba(167,139,250,0.1); border-color: rgba(167,139,250,0.2); text-align: center;">
      \[\left(\frac{1}{3}\right)^{x^2 - 6x + 7} > \left(\frac{1}{3}\right)^{2} \;\;\xRightarrow{\;0 < \frac{1}{3} < 1\;}\;\; x^2 - 6x + 7 < 2 \;\;\Longrightarrow\;\; \boxed{x \in (1,\; 5)}\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <div class="options-row">
      <div class="option-card">(A) \((2,\; 4)\)</div>
      <div class="option-card correct">(B) \((1,\; 5)\)</div>
      <div class="option-card">(C) \((1,\; 3)\)</div>
      <div class="option-card">(D) \((-\infty,\; 1) \cup (5,\; +\infty)\)</div>
      <div class="option-card">(E) \((3,\; 5)\)</div>
    </div>
    <div class="answer-big">Odgovor: B) \((1,\; 5)\)</div>

    <div class="verification-note">
      <strong style="color:#4ade80;">Verifikacija:</strong><br>
      <strong>Unutar intervala</strong> (\(x = 3\)): eksponent = \(9 - 18 + 7 = -2\), pa je \(\left(\frac{1}{3}\right)^{-2} = 9 > \frac{1}{9}\). Tačno.<br>
      <strong>Van intervala</strong> (\(x = 0\)): eksponent = \(0 - 0 + 7 = 7\), pa je \(\left(\frac{1}{3}\right)^{7} = \frac{1}{2187} < \frac{1}{9}\). Nije rešenje.<br>
      <strong>Na granici</strong> (\(x = 1\)): eksponent = \(1 - 6 + 7 = 2\), pa je \(\left(\frac{1}{3}\right)^{2} = \frac{1}{9}\). Nije strogo veće, dakle \(x = 1\) ne pripada skupu rešenja.<br>
      <strong>Odgovor D)</strong> je komplementarni skup i odgovarao bi nejednačini \(\leq\) (ili \(<\)), ali sa obrnutim smerom. To je tipična zamka!
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Najčešće greške</h2>
    <div class="pitfall-item">
      <strong>Zaboravljanje obrtanja znaka:</strong> Kada je baza između 0 i 1, eksponencijalna funkcija je opadajuća, pa se znak nejednakosti obrće. Mnogi učenici automatski prepišu \(x^2 - 6x + 7 > 2\) umesto \(< 2\), i dobiju odgovor D) koji je zapravo komplementaran tačnom.
    </div>
    <div class="pitfall-item">
      <strong>Greška u prepoznavanju baze:</strong> Ako ne uočite da je \(\frac{1}{9} = \left(\frac{1}{3}\right)^2\), ne možete primeniti pravilo poređenja eksponenata. Uvek tražite zajedničku bazu!
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>Reši nejednačinu \(\left(\frac{1}{3}\right)^{x^2 - 6x + 7} \leq \frac{1}{27}\). Kako se rešenje razlikuje od prethodnog?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="padding: 10px; color: #cbd5e1;">Primeti da je \(\frac{1}{27} = \left(\frac{1}{3}\right)^3\). Nejednačina postaje \(x^2 - 6x + 7 \geq 3\), jer sada imamo \(\leq\) umesto \(>\), i baza je opadajuća. Reši kvadratnu nejednačinu \(x^2 - 6x + 4 \geq 0\) i uporedi sa prethodnim rešenjem.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Draw the main canvas
  const canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system: math coords to canvas coords
  // x range: -1 to 8, y range: -4 to 10
  const xMin = -1, xMax = 8;
  const yMin = -4, yMax = 10;
  const padL = 55, padR = 20, padT = 20, padB = 40;
  const plotW = W - padL - padR;
  const plotH = H - padT - padB;

  function toCanvasX(x) { return padL + (x - xMin) / (xMax - xMin) * plotW; }
  function toCanvasY(y) { return padT + (yMax - y) / (yMax - yMin) * plotH; }

  function f(x) { return x * x - 6 * x + 7; }

  function draw() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), padT);
      ctx.lineTo(toCanvasX(x), H - padB);
      ctx.stroke();
    }
    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      ctx.beginPath();
      ctx.moveTo(padL, toCanvasY(y));
      ctx.lineTo(W - padR, toCanvasY(y));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(padL, toCanvasY(0));
    ctx.lineTo(W - padR, toCanvasY(0));
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), padT);
    ctx.lineTo(toCanvasX(0), H - padB);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = 0; x <= 7; x++) {
      ctx.fillText(x, toCanvasX(x), toCanvasY(0) + 16);
    }
    ctx.textAlign = 'right';
    for (let y = -2; y <= 9; y += 2) {
      if (y === 0) continue;
      ctx.fillText(y, padL - 8, toCanvasY(y) + 4);
    }

    // Shaded region: between x=1 and x=5 where f(x) < 2
    ctx.fillStyle = 'rgba(52, 211, 153, 0.12)';
    ctx.beginPath();
    ctx.moveTo(toCanvasX(1), toCanvasY(2));
    for (let px = 1; px <= 5; px += 0.05) {
      const yVal = f(px);
      ctx.lineTo(toCanvasX(px), toCanvasY(yVal));
    }
    ctx.lineTo(toCanvasX(5), toCanvasY(2));
    ctx.closePath();
    ctx.fill();

    // Horizontal line y = 2 (dashed)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 5]);
    ctx.beginPath();
    ctx.moveTo(padL, toCanvasY(2));
    ctx.lineTo(W - padR, toCanvasY(2));
    ctx.stroke();
    ctx.setLineDash([]);

    // Label y = 2
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = 2', W - padR - 45, toCanvasY(2) - 8);

    // Parabola: f(x) = x^2 - 6x + 7
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let first = true;
    for (let px = xMin; px <= xMax; px += 0.02) {
      const yVal = f(px);
      if (yVal < yMin - 2 || yVal > yMax + 2) {
        first = true;
        continue;
      }
      const cx = toCanvasX(px);
      const cy = toCanvasY(yVal);
      if (first) {
        ctx.moveTo(cx, cy);
        first = false;
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();

    // Green portion of parabola (solution region)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 3.5;
    ctx.beginPath();
    first = true;
    for (let px = 1; px <= 5; px += 0.02) {
      const yVal = f(px);
      const cx = toCanvasX(px);
      const cy = toCanvasY(yVal);
      if (first) {
        ctx.moveTo(cx, cy);
        first = false;
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();

    // Mark intersection points (1, 2) and (5, 2)
    const pts = [[1, 2], [5, 2]];
    pts.forEach(function(pt) {
      const cx = toCanvasX(pt[0]);
      const cy = toCanvasY(pt[1]);
      // Glow
      const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 16);
      grad.addColorStop(0, 'rgba(244, 114, 182, 0.4)');
      grad.addColorStop(1, 'rgba(244, 114, 182, 0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, cy, 16, 0, 2 * Math.PI);
      ctx.fill();
      // Point
      ctx.fillStyle = '#f472b6';
      ctx.beginPath();
      ctx.arc(cx, cy, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 2;
      ctx.stroke();
    });

    // Labels for points
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(1, 2)', toCanvasX(1) - 24, toCanvasY(2) - 14);
    ctx.fillText('(5, 2)', toCanvasX(5) + 24, toCanvasY(2) - 14);

    // Mark vertex (3, -2)
    const vx = toCanvasX(3);
    const vy = toCanvasY(-2);
    const vGrad = ctx.createRadialGradient(vx, vy, 0, vx, vy, 14);
    vGrad.addColorStop(0, 'rgba(96, 165, 250, 0.4)');
    vGrad.addColorStop(1, 'rgba(96, 165, 250, 0)');
    ctx.fillStyle = vGrad;
    ctx.beginPath();
    ctx.arc(vx, vy, 14, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(vx, vy, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.font = 'bold 12px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('teme (3, -2)', vx, vy + 18);

    // Parabola label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = x\u00B2 \u2212 6x + 7', toCanvasX(5.3), toCanvasY(f(6.2)) - 10);

    // Solution interval annotation on x-axis
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(1), toCanvasY(0) + 5);
    ctx.lineTo(toCanvasX(5), toCanvasY(0) + 5);
    ctx.stroke();

    // Open circles at endpoints on x-axis
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.fillStyle = '#0c1222';
    [1, 5].forEach(function(x) {
      ctx.beginPath();
      ctx.arc(toCanvasX(x), toCanvasY(0) + 5, 4, 0, 2 * Math.PI);
      ctx.fill();
      ctx.stroke();
    });

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('rešenje: (1, 5)', toCanvasX(3), toCanvasY(0) + 24);
  }

  draw();

  // Step click interaction
  var steps = document.querySelectorAll('.step-container');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Eksponencijalna nejednačina sa bazom 1/3 i kvadratnim eksponentom",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["eksponencijalne nejednačine", "kvadratne nejednačine", "opadajuća funkcija", "eksponencijalna funkcija"]
}
BRAINSPARK_META-->