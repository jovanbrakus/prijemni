<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Povr≈°ina jednakokrakog trapeza</title>
<script type="text/info" id="logic-scratchpad">
Problem: Isosceles trapezoid ABCD, AB || CD, AB = 6 (longer base), CD = 3 (shorter base).
Angle ADB = 90¬∞ (angle between leg AD and diagonal BD).
Find the area.

Setup coordinates:
- Place AB on x-axis: A = (0, 0), B = (6, 0)
- Since isosceles with CD = 3, the shorter base is centered above AB.
  The offset from each side is (6 - 3)/2 = 1.5
- D = (1.5, h), C = (4.5, h)

Condition: angle ADB = 90¬∞
Vectors from D:
  DA = A - D = (-1.5, -h)
  DB = B - D = (4.5, -h)

Dot product DA ¬∑ DB = 0:
  (-1.5)(4.5) + (-h)(-h) = 0
  -6.75 + h¬≤ = 0
  h¬≤ = 6.75 = 27/4
  h = 3‚àö3 / 2

Area of trapezoid = (AB + CD)/2 √ó h
  = (6 + 3)/2 √ó (3‚àö3/2)
  = (9/2) √ó (3‚àö3/2)
  = 27‚àö3/4

Verification:
  AD = sqrt(1.5¬≤ + h¬≤) = sqrt(2.25 + 6.75) = sqrt(9) = 3
  BD = sqrt(4.5¬≤ + h¬≤) = sqrt(20.25 + 6.75) = sqrt(27) = 3‚àö3
  Check: AD¬≤ + ... wait, angle ADB = 90¬∞ means triangle ADB has right angle at D.
  AD¬≤ + BD¬≤ should NOT equal AB¬≤ (that would be right angle at D in different sense).
  Actually, right angle at D means AD ‚ä• BD, so:
  AD¬≤ + BD¬≤ = AB¬≤? No, that's right angle at D in triangle ADB.
  Wait: In triangle ADB with right angle at D:
  AB¬≤ = AD¬≤ + BD¬≤ (by Pythagorean theorem? No!)
  Actually, Pythagorean theorem: if angle at D is 90¬∞, then AB¬≤ = AD¬≤ + BD¬≤
  AB¬≤ = 36, AD¬≤ + BD¬≤ = 9 + 27 = 36 ‚úì

  Area = 27‚àö3/4 ‚âà 27 √ó 1.732 / 4 ‚âà 46.764 / 4 ‚âà 11.69 cm¬≤

Answer: D) 27‚àö3/4 cm¬≤
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
}
h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(30,41,59,0.8);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
  flex: 1;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
.plan-card h2 { color: #a78bfa; }
details {
  margin: 15px 0;
}
details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}
details summary:hover {
  color: #93c5fd;
}
.theory-list {
  margin-top: 12px;
  padding-left: 20px;
}
.theory-list li {
  margin-bottom: 10px;
  color: #e2e8f0;
}
.step-container {
  margin-bottom: 18px;
  padding: 16px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}
.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}
.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}
.step-badge {
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #fff;
  flex-shrink: 0;
}
.step-header h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
}
.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}
.note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 6px;
}
.checkpoint {
  background: rgba(96,165,250,0.06);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}
.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}
.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}
.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}
.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}
.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 16px;
}
.final-answer-text {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}
.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}
.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
}
.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  font-weight: 700;
}
.verification {
  margin-top: 14px;
  color: #94a3b8;
  font-size: 0.92rem;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  padding: 12px;
}
.pitfall-item {
  display: flex;
  gap: 10px;
  margin-bottom: 10px;
  align-items: flex-start;
}
.pitfall-icon {
  color: #e09468;
  font-size: 1.2rem;
  flex-shrink: 0;
}
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}
.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}
.highlight-pink { color: #f472b6; font-weight: 600; }
.highlight-blue { color: #60a5fa; font-weight: 600; }
.highlight-green { color: #4ade80; font-weight: 600; }
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Povr≈°ina jednakokrakog trapeza</h1>
  <p class="subtitle">Planimetrija ‚Äî jednakokraki trapez sa pravim uglom izmeƒëu kraka i dijagonale</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      U jednakokrakom trapezu \(ABCD\) ugao izmeƒëu kraka \(AD\) i dijagonale \(BD\) jednak je
      <span class="highlight-pink">90¬∞</span>. Du≈æine osnovica trapeza su
      <span class="highlight-blue">AB = 6\,\text{cm}</span> (du≈æa) i
      <span class="highlight-blue">CD = 3\,\text{cm}</span> (kraƒáa).
      Kolika je povr≈°ina datog trapeza?
    </p>
    <div class="given-grid" style="margin-top:16px; margin-bottom:16px;">
      <div class="given-item">
        <div class="label">Du≈æa osnovica</div>
        <div class="value">\(AB = 6\,\text{cm}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Kraƒáa osnovica</div>
        <div class="value">\(CD = 3\,\text{cm}\)</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">\(\angle ADB = 90¬∞\)</div>
      </div>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(12\,\text{cm}^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(6\sqrt{3}\,\text{cm}^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{15\sqrt{2}}{2}\,\text{cm}^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{27\sqrt{3}}{4}\,\text{cm}^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(9\sqrt{2}\,\text{cm}^2\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>
      Postaviƒáemo koordinatni sistem tako da du≈æa osnovica \(AB\) le≈æi na \(x\)-osi.
      Koristeƒái uslov da je trapez jednakokrak i da je ugao \(\angle ADB = 90¬∞\),
      izraƒçunaƒáemo visinu trapeza pomoƒáu skalarnog proizvoda, a zatim primeniti formulu za povr≈°inu trapeza.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <ul class="theory-list">
        <li><strong>Povr≈°ina trapeza:</strong> \( P = \dfrac{(a + c)}{2} \cdot h \), gde su \(a\) i \(c\) osnovice, a \(h\) visina.</li>
        <li><strong>Skalarni proizvod:</strong> Dva vektora \(\vec{u}\) i \(\vec{v}\) su normalna ako va≈æi \(\vec{u} \cdot \vec{v} = 0\).</li>
        <li><strong>Jednakokraki trapez:</strong> Krakovi su jednake du≈æine (\(AD = BC\)), a kraƒáa osnovica je centrirana u odnosu na du≈æu. Pomak sa svake strane iznosi \(\dfrac{a - c}{2}\).</li>
        <li><strong>Pitagorina teorema:</strong> U pravouglom trouglu \(\triangle ADB\) sa pravim uglom u \(D\) va≈æi \(AB^2 = AD^2 + BD^2\).</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Dijagram trapeza</h2>
    <canvas id="trapezoidCanvas" width="700" height="480"></canvas>
    <p class="canvas-hint">Interaktivni dijagram jednakokrakog trapeza ABCD</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-header">
        <div class="step-badge">1</div>
        <h3>Postavljamo koordinatni sistem</h3>
      </div>
      <p>Neka du≈æa osnovica \(AB\) le≈æi na \(x\)-osi:</p>
      <div class="math-block">
        \[ A = (0,\, 0), \quad B = (6,\, 0) \]
      </div>
      <p>Po≈°to je trapez jednakokrak sa kraƒáom osnovicom \(CD = 3\), taƒçke \(D\) i \(C\) su simetriƒçno postavljene iznad \(AB\). Pomak sa svake strane je:</p>
      <div class="math-block">
        \[ \frac{AB - CD}{2} = \frac{6 - 3}{2} = 1{,}5 \]
      </div>
      <p>Dakle:</p>
      <div class="math-block">
        \[ D = (1{,}5;\, h), \quad C = (4{,}5;\, h) \]
      </div>
      <p class="note">Ovde je \(h\) visina trapeza koju treba odrediti.</p>
    </div>

    <div class="step-container" id="step2">
      <div class="step-header">
        <div class="step-badge">2</div>
        <h3>Koristimo uslov \(\angle ADB = 90¬∞\)</h3>
      </div>
      <p>Ugao \(\angle ADB\) je ugao u taƒçki \(D\) izmeƒëu krakova \(DA\) i \(DB\). Formiramo vektore iz taƒçke \(D\):</p>
      <div class="math-block">
        \[ \vec{DA} = A - D = (-1{,}5;\, -h) \]
        \[ \vec{DB} = B - D = (4{,}5;\, -h) \]
      </div>
      <p>Uslov normalnosti ‚Äî skalarni proizvod jednak nuli:</p>
      <div class="math-block">
        \[ \vec{DA} \cdot \vec{DB} = 0 \]
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-header">
        <div class="step-badge">3</div>
        <h3>Raƒçunamo skalarni proizvod</h3>
      </div>
      <div class="math-block">
        \[ (-1{,}5) \cdot 4{,}5 + (-h) \cdot (-h) = 0 \]
      </div>
      <div class="math-block">
        \[ -6{,}75 + h^2 = 0 \]
      </div>
      <div class="math-block">
        \[ h^2 = 6{,}75 = \frac{27}{4} \]
      </div>
      <div class="math-block">
        \[ h = \sqrt{\frac{27}{4}} = \frac{3\sqrt{3}}{2} \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri sebe: Kolika je visina trapeza?</summary>
      <p style="margin-top:10px;">
        Visina trapeza je \( h = \dfrac{3\sqrt{3}}{2} \approx 2{,}598 \,\text{cm} \).
      </p>
    </details>

    <div class="step-container" id="step4">
      <div class="step-header">
        <div class="step-badge">4</div>
        <h3>Proverimo du≈æinu kraka</h3>
      </div>
      <p>Za dodatnu verifikaciju, izraƒçunajmo du≈æinu kraka \(AD\):</p>
      <div class="math-block">
        \[ AD = \sqrt{1{,}5^2 + h^2} = \sqrt{2{,}25 + 6{,}75} = \sqrt{9} = 3 \]
      </div>
      <p>Krak trapeza ima du≈æinu \(3\,\text{cm}\) ‚Äî jednaku kraƒáoj osnovici. Zanimljivo!</p>
    </div>

    <div class="step-container" id="step5">
      <div class="step-header">
        <div class="step-badge">5</div>
        <h3>Verifikacija Pitagorinom teoremom</h3>
      </div>
      <p>U trouglu \(\triangle ADB\) prav ugao je u \(D\), pa mora da va≈æi:</p>
      <div class="math-block">
        \[ AB^2 = AD^2 + BD^2 \]
      </div>
      <p>Izraƒçunajmo \(BD\):</p>
      <div class="math-block">
        \[ BD = \sqrt{4{,}5^2 + h^2} = \sqrt{20{,}25 + 6{,}75} = \sqrt{27} = 3\sqrt{3} \]
      </div>
      <p>Provera:</p>
      <div class="math-block">
        \[ AD^2 + BD^2 = 9 + 27 = 36 = 6^2 = AB^2 \quad \checkmark \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri sebe: Kolika je du≈æina dijagonale BD?</summary>
      <p style="margin-top:10px;">
        \( BD = 3\sqrt{3} \approx 5{,}196 \,\text{cm} \).
      </p>
    </details>

    <div class="step-container" id="step6">
      <div class="step-header">
        <div class="step-badge">6</div>
        <h3>Raƒçunamo povr≈°inu trapeza</h3>
      </div>
      <p>Primenjujemo formulu za povr≈°inu trapeza:</p>
      <div class="math-block">
        \[ P = \frac{(AB + CD)}{2} \cdot h \]
      </div>
      <div class="math-block">
        \[ P = \frac{(6 + 3)}{2} \cdot \frac{3\sqrt{3}}{2} \]
      </div>
      <div class="math-block">
        \[ P = \frac{9}{2} \cdot \frac{3\sqrt{3}}{2} \]
      </div>
      <div class="math-block">
        \[ P = \frac{27\sqrt{3}}{4} \,\text{cm}^2 \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri sebe: Koliko pribli≈æno iznosi povr≈°ina?</summary>
      <p style="margin-top:10px;">
        \( P = \dfrac{27\sqrt{3}}{4} \approx \dfrac{27 \cdot 1{,}732}{4} \approx \dfrac{46{,}76}{4} \approx 11{,}69 \,\text{cm}^2 \)
      </p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljuƒçni uvid</h2>
    <p>Uslov \(\angle ADB = 90¬∞\) preveden u koordinatni sistem daje jednaƒçinu skalarnog proizvoda \(\vec{DA} \cdot \vec{DB} = 0\), iz koje direktno dobijamo visinu trapeza.</p>
    <div class="math-block" style="display:inline-block; margin-top:12px; font-size:1.2rem;">
      \[ h^2 = \frac{27}{4} \implies P = \frac{27\sqrt{3}}{4} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konaƒçan odgovor</h2>
    <div class="final-answer-text">
      \( P = \dfrac{27\sqrt{3}}{4} \,\text{cm}^2 \)
    </div>
    <div class="options-row">
      <div class="option-card">(A) \(12\,\text{cm}^2\)</div>
      <div class="option-card">(B) \(6\sqrt{3}\,\text{cm}^2\)</div>
      <div class="option-card">(C) \(\frac{15\sqrt{2}}{2}\,\text{cm}^2\)</div>
      <div class="option-card correct">(D) \(\dfrac{27\sqrt{3}}{4}\,\text{cm}^2\)</div>
      <div class="option-card">(E) \(9\sqrt{2}\,\text{cm}^2\)</div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Povr≈°ina je oko \(11{,}69\,\text{cm}^2\), ≈°to je razumno za trapez sa osnovicama 6 i 3 cm i visinom oko \(2{,}6\,\text{cm}\). Takoƒëe, Pitagorina teorema potvrƒëuje da je \(\angle ADB = 90¬∞\) jer \(AD^2 + BD^2 = 9 + 27 = 36 = AB^2\).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>ƒåeste gre≈°ke</h2>
    <div class="pitfall-item">
      <span class="pitfall-icon">‚ö†</span>
      <p><strong>Pogre≈°no tumaƒçenje ugla:</strong> Ugao \(\angle ADB = 90¬∞\) je ugao <em>u taƒçki D</em> izmeƒëu kraka \(AD\) i dijagonale \(BD\). Nemojte me≈°ati ovo sa uglom \(\angle ABD\) ili uglom koji dijagonala zaklapa sa osnovicom.</p>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">‚ö†</span>
      <p><strong>Pogre≈°an pomak taƒçaka:</strong> U jednakokrakom trapezu, kraƒáa osnovica je centrirana, pa je pomak \(\frac{6-3}{2} = 1{,}5\) sa svake strane, a ne 3. Pogre≈°an pomak daje pogre≈°nu visinu.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <h2>Dodatni izazov</h2>
    <p>Kolika bi bila povr≈°ina istog trapeza ako bi ugao \(\angle ADB\) iznosio \(60¬∞\) umesto \(90¬∞\)?</p>
    <details>
      <summary>üí° Nagove≈°taj</summary>
      <p style="margin-top:10px;">
        Koristite formulu za ugao izmeƒëu dva vektora: \(\cos(\angle ADB) = \dfrac{\vec{DA} \cdot \vec{DB}}{|\vec{DA}| \cdot |\vec{DB}|}\). Postavite \(\cos 60¬∞ = \frac{1}{2}\) i dobijate jednaƒçinu po \(h\) koja se mo≈æe re≈°iti.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Draw the trapezoid diagram
  const canvas = document.getElementById('trapezoidCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const W = canvas.width;
    const H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Coordinate mapping
    // Real coords: A=(0,0), B=(6,0), D=(1.5, h), C=(4.5, h), h = 3*sqrt(3)/2 ‚âà 2.598
    const h = 3 * Math.sqrt(3) / 2;
    const scale = 65;
    const originX = 140;
    const originY = H - 100;

    function toCanvas(x, y) {
      return { x: originX + x * scale, y: originY - y * scale };
    }

    const A = toCanvas(0, 0);
    const B = toCanvas(6, 0);
    const D = toCanvas(1.5, h);
    const C = toCanvas(4.5, h);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let i = 0; i <= 7; i++) {
      const gx = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(gx.x, originY + 20);
      ctx.lineTo(gx.x, originY - 4 * scale);
      ctx.stroke();
    }
    for (let j = 0; j <= 3; j++) {
      const gy = toCanvas(0, j);
      ctx.beginPath();
      ctx.moveTo(originX - 20, gy.y);
      ctx.lineTo(originX + 7 * scale, gy.y);
      ctx.stroke();
    }

    // Draw the trapezoid (filled)
    ctx.fillStyle = 'rgba(96,165,250,0.08)';
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.lineTo(D.x, D.y);
    ctx.closePath();
    ctx.fill();

    // Draw trapezoid edges
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.lineTo(D.x, D.y);
    ctx.closePath();
    ctx.stroke();

    // Draw diagonal BD
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 5]);
    ctx.beginPath();
    ctx.moveTo(B.x, B.y);
    ctx.lineTo(D.x, D.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Right angle marker at D (between DA and DB)
    const markerSize = 15;
    // Direction from D to A
    const dax = A.x - D.x;
    const day = A.y - D.y;
    const daLen = Math.sqrt(dax * dax + day * day);
    const daNx = dax / daLen;
    const daNy = day / daLen;
    // Direction from D to B
    const dbx = B.x - D.x;
    const dby = B.y - D.y;
    const dbLen = Math.sqrt(dbx * dbx + dby * dby);
    const dbNx = dbx / dbLen;
    const dbNy = dby / dbLen;

    const sq1x = D.x + daNx * markerSize;
    const sq1y = D.y + daNy * markerSize;
    const sq2x = D.x + dbNx * markerSize;
    const sq2y = D.y + dbNy * markerSize;
    const sq3x = D.x + (daNx + dbNx) * markerSize;
    const sq3y = D.y + (daNy + dbNy) * markerSize;

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(sq1x, sq1y);
    ctx.lineTo(sq3x, sq3y);
    ctx.lineTo(sq2x, sq2y);
    ctx.stroke();

    // Height (dashed line from D to AB)
    const Dfoot = toCanvas(1.5, 0);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(D.x, D.y);
    ctx.lineTo(Dfoot.x, Dfoot.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Height label
    ctx.fillStyle = '#f472b6';
    ctx.font = 'italic 15px "Segoe UI", sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('h = 3‚àö3/2', D.x - 10, (D.y + Dfoot.y) / 2);

    // Labels for bases
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('AB = 6', (A.x + B.x) / 2, A.y + 30);
    ctx.fillText('CD = 3', (D.x + C.x) / 2, D.y - 15);

    // Label for BD diagonal
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'italic 14px "Segoe UI", sans-serif';
    ctx.textAlign = 'left';
    const bdMidX = (B.x + D.x) / 2;
    const bdMidY = (B.y + D.y) / 2;
    ctx.fillText('BD = 3‚àö3', bdMidX + 8, bdMidY - 5);

    // Label AD
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 14px "Segoe UI", sans-serif';
    ctx.textAlign = 'right';
    const adMidX = (A.x + D.x) / 2;
    const adMidY = (A.y + D.y) / 2;
    ctx.fillText('AD = 3', adMidX - 8, adMidY);

    // Angle label at D
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('90¬∞', D.x + (daNx + dbNx) * 30, D.y + (daNy + dbNy) * 30);

    // Point labels
    const pts = [
      { p: A, label: 'A', dx: -15, dy: 18 },
      { p: B, label: 'B', dx: 12, dy: 18 },
      { p: C, label: 'C', dx: 12, dy: -10 },
      { p: D, label: 'D', dx: -15, dy: -10 }
    ];

    pts.forEach(({ p, label, dx, dy }) => {
      // Point glow
      ctx.beginPath();
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 12);
      grad.addColorStop(0, 'rgba(96,165,250,0.5)');
      grad.addColorStop(1, 'rgba(96,165,250,0)');
      ctx.fillStyle = grad;
      ctx.arc(p.x, p.y, 12, 0, 2 * Math.PI);
      ctx.fill();

      // Point dot
      ctx.beginPath();
      ctx.arc(p.x, p.y, 4, 0, 2 * Math.PI);
      ctx.fillStyle = '#e2e8f0';
      ctx.fill();

      // Label
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 16px "Segoe UI", sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, p.x + dx, p.y + dy);
    });

    // 1.5 offset label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('1,5', (A.x + Dfoot.x) / 2, A.y + 48);

    // Draw small bracket for the 1.5 distance
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y + 36);
    ctx.lineTo(Dfoot.x, Dfoot.y + 36);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(A.x, A.y + 32);
    ctx.lineTo(A.x, A.y + 40);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(Dfoot.x, Dfoot.y + 32);
    ctx.lineTo(Dfoot.x, Dfoot.y + 40);
    ctx.stroke();
  }

  draw();

  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Povr≈°ina jednakokrakog trapeza sa pravim uglom",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["jednakokraki trapez", "povr≈°ina trapeza", "skalarni proizvod", "Pitagorina teorema", "planimetrija"]
}
BRAINSPARK_META-->