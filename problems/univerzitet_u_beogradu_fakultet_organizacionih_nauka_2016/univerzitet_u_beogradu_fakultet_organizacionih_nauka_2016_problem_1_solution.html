<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vrednost numeričkog izraza sa korenima i stepenima</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Compute the value of:
  [ (sqrt(2^4) + cbrt(2^6)) * 2^(-1) + (-3)^2 - 1 ] / [ sqrt((-2)^2) - fifthrt((-2)^5) ]

Options: A) 5, B) 1/2, C) 3, D) 1, E) 1/4

STEP-BY-STEP LOGIC:

=== NUMERATOR ===

1. sqrt(2^4) = sqrt(16) = 4
2. cbrt(2^6) = cbrt(64) = 4
3. (4 + 4) * 2^(-1) = 8 * (1/2) = 4
4. (-3)^2 = 9
5. Numerator = 4 + 9 - 1 = 12

=== DENOMINATOR ===

1. sqrt((-2)^2) = sqrt(4) = 2
   Note: sqrt always returns non-negative value, so sqrt(4) = 2, not -2.

2. fifthrt((-2)^5) = fifthrt(-32) = -2
   Note: 5th root is odd root, so it preserves the sign. (-2)^5 = -32, and (-2)^5 = -32, so fifthrt(-32) = -2.

3. Denominator = 2 - (-2) = 2 + 2 = 4

=== RESULT ===

Expression = 12 / 4 = 3

ANSWER: C) 3

VERIFICATION:
- Numerator: (4 + 4) * 0.5 + 9 - 1 = 4 + 9 - 1 = 12 ✓
- Denominator: 2 - (-2) = 4 ✓
- 12/4 = 3 ✓

Correct answer: C) 3
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.step:hover {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Vrednost numeričkog izraza sa korenima i stepenima</h1>
  <p class="subtitle">Algebra &mdash; koreni, stepeni, redosled operacija</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Vrednost izraza</p>
    <div class="math-block">
      \[ \frac{(\sqrt{2^4} + \sqrt[3]{2^6}) \cdot 2^{-1} + (-3)^2 - 1}{\sqrt{(-2)^2} - \sqrt[5]{(-2)^5}} \]
    </div>
    <p>jednaka je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{1}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(3\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{1}{4}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Izračunaćemo posebno <span class="highlight-blue">brojilac</span> i <span class="highlight-pink">imenilac</span>
      koristeći pravila za korene i stepene. Ključ je pravilno izračunati svaki koren i obratiti pažnju na
      predznak kod neparnih korena negativnih brojeva.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i pravila</summary>
      <ul>
        <li>
          <strong>Kvadratni koren stepena:</strong>
          \[ \sqrt{a^{2n}} = |a|^n = a^n \quad \text{za } a \geq 0 \]
        </li>
        <li>
          <strong>Kubni koren stepena:</strong>
          \[ \sqrt[3]{a^3} = a \quad \text{(važi i za negativne vrednosti } a\text{)} \]
        </li>
        <li>
          <strong>Neparan koren negativnog broja:</strong>
          \[ \sqrt[2k+1]{-a} = -\sqrt[2k+1]{a} \quad \text{za } a > 0 \]
          Neparni koreni čuvaju predznak argumenta.
        </li>
        <li>
          <strong>Negativan eksponent:</strong>
          \[ a^{-n} = \frac{1}{a^n} \]
        </li>
        <li>
          <strong>Paran koren parnog stepena:</strong>
          \[ \sqrt[n]{x^n} = |x| \quad \text{za paran } n \]
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Dijagram prikazuje korak po korak izračunavanje brojioca i imenioca, sa konačnim rezultatom.
    </p>
    <canvas id="diagramCanvas" width="800" height="520"></canvas>
    <p class="canvas-hint">Tok izračunavanja: od pojedinačnih delova do konačnog rezultata</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Izračunavanje \(\sqrt{2^4}\)</h3>
        <p>
          Počinjemo od prvog člana u brojiocu. Najpre izračunamo stepen, pa onda koren:
        </p>
        <div class="math-block">
          \[ 2^4 = 16 \]
        </div>
        <div class="math-block">
          \[ \sqrt{2^4} = \sqrt{16} = 4 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izračunavanje \(\sqrt[3]{2^6}\)</h3>
        <p>
          Sada izračunamo drugi član u zagradi brojioca:
        </p>
        <div class="math-block">
          \[ 2^6 = 64 \]
        </div>
        <div class="math-block">
          \[ \sqrt[3]{2^6} = \sqrt[3]{64} = 4 \]
        </div>
        <p class="note">Napomena: \(\sqrt[3]{64} = 4\) jer je \(4^3 = 64\).</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Množenje sa \(2^{-1}\)</h3>
        <p>
          Sabiramo vrednosti iz koraka 1 i 2, pa množimo sa \(2^{-1} = \frac{1}{2}\):
        </p>
        <div class="math-block">
          \[ (\sqrt{2^4} + \sqrt[3]{2^6}) \cdot 2^{-1} = (4 + 4) \cdot \frac{1}{2} = 8 \cdot \frac{1}{2} = 4 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko je \((-3)^2\)?</summary>
      <div class="answer">
        \((-3)^2 = (-3) \cdot (-3) = 9\). Minus puta minus daje plus!
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Kompletiranje brojioca</h3>
        <p>
          Dodajemo \((-3)^2\) i oduzimamo \(1\):
        </p>
        <div class="math-block">
          \[ (-3)^2 = 9 \]
        </div>
        <div class="math-block">
          \[ \text{Brojilac} = 4 + 9 - 1 = \mathbf{12} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izračunavanje \(\sqrt{(-2)^2}\) u imeniocu</h3>
        <p>
          Prelazimo na imenilac. Kvadriranje negativnog broja daje pozitivan rezultat:
        </p>
        <div class="math-block">
          \[ (-2)^2 = 4 \]
        </div>
        <div class="math-block">
          \[ \sqrt{(-2)^2} = \sqrt{4} = 2 \]
        </div>
        <p class="note">Napomena: Kvadratni koren uvek daje nenegativnu vrednost, tako da je \(\sqrt{4} = 2\), a ne \(-2\).</p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izračunavanje \(\sqrt[5]{(-2)^5}\) u imeniocu</h3>
        <p>
          Peti koren je <span class="highlight-blue">neparan koren</span>, što znači da čuva predznak:
        </p>
        <div class="math-block">
          \[ (-2)^5 = -32 \]
        </div>
        <div class="math-block">
          \[ \sqrt[5]{(-2)^5} = \sqrt[5]{-32} = -2 \]
        </div>
        <p class="note">Napomena: \((-2)^5 = -32\) jer je \((-2)\cdot(-2)\cdot(-2)\cdot(-2)\cdot(-2) = -32\). Peti koren iz \(-32\) je \(-2\).</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliki je imenilac?</summary>
      <div class="answer">
        Imenilac \(= 2 - (-2) = 2 + 2 = 4\). Pažnja na dvostruki minus!
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Kompletiranje imenioca</h3>
        <p>
          Izračunavamo razliku dva člana imenioca. Obratite pažnju: oduzimamo negativan broj, što je isto što i sabiranje:
        </p>
        <div class="math-block">
          \[ \text{Imenilac} = \sqrt{(-2)^2} - \sqrt[5]{(-2)^5} = 2 - (-2) = 2 + 2 = \mathbf{4} \]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Konačan rezultat</h3>
        <p>
          Delimo brojilac sa imeniocem:
        </p>
        <div class="math-block">
          \[ \frac{\text{Brojilac}}{\text{Imenilac}} = \frac{12}{4} = \mathbf{3} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Numerička verifikacija</summary>
      <div class="answer">
        <p>Brojilac: \((4 + 4) \cdot 0{,}5 + 9 - 1 = 4 + 9 - 1 = 12\).</p>
        <p>Imenilac: \(2 - (-2) = 4\).</p>
        <p>Rezultat: \(12 \div 4 = 3\). Potvrđeno!</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Ključno zapažanje</h2>
    <p>
      Suština ovog zadatka leži u razlikovanju ponašanja <span class="highlight-blue">parnih</span> i
      <span class="highlight-pink">neparnih</span> korena za negativne argumente.
      Kvadratni koren \(\sqrt{(-2)^2}\) daje <strong>pozitivnu</strong> vrednost \(2\) (paran koren „gubi" predznak),
      dok peti koren \(\sqrt[5]{(-2)^5}\) daje <strong>negativnu</strong> vrednost \(-2\) (neparan koren „čuva" predznak).
      Zahvaljujući tome, imenilac postaje \(2 - (-2) = 4\), a ne nula!
    </p>
    <div class="big-formula">
      \[ \sqrt[n]{x^n} = \begin{cases} |x| & \text{za paran } n \\ x & \text{za neparan } n \end{cases} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \( 3 \)
    </div>
    <p style="color:#94a3b8; margin-bottom: 14px;">Tačan odgovor je <strong style="color:#4ade80;">C)</strong></p>
    <div class="options-row">
      <div class="option-card">(A) \(5\)</div>
      <div class="option-card">(B) \(\frac{1}{2}\)</div>
      <div class="option-card correct">(C) \(3\) &#10003;</div>
      <div class="option-card">(D) \(1\)</div>
      <div class="option-card">(E) \(\frac{1}{4}\)</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong>
      Brojilac: \((4+4) \cdot \frac{1}{2} + 9 - 1 = 4 + 9 - 1 = 12\).
      Imenilac: \(2 - (-2) = 4\).
      Količnik: \(\frac{12}{4} = 3\). Rezultat je ceo broj i poklapa se sa opcijom C, čime je rešenje potvrđeno.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greška 1:</span>
        Pisanje \(\sqrt{(-2)^2} = -2\) umesto \(+2\). Kvadratni koren po definiciji vraća nenegativnu vrednost:
        \(\sqrt{4} = 2\), bez obzira na to što je argument nastao kvadriranjem negativnog broja.
      </li>
      <li>
        <span class="pitfall-label">Greška 2:</span>
        Pisanje \(\sqrt[5]{(-2)^5} = 2\) umesto \(-2\). Za razliku od parnog korena, peti koren (neparan koren)
        čuva predznak: \(\sqrt[5]{-32} = -2\). Ova greška bi dala imenilac \(2 - 2 = 0\) i nedefinisan izraz.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Šta bi se desilo sa vrednošću izraza ako bismo u imeniocu umesto petog korena imali
      četvrti koren, tj. \(\sqrt[4]{(-2)^4}\) umesto \(\sqrt[5]{(-2)^5}\)?
    </p>
    <details>
      <summary>Nagovještaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Četvrti koren je paran, pa bi \(\sqrt[4]{(-2)^4} = |-2| = 2\). Tada bi imenilac bio
        \(2 - 2 = 0\), i izraz ne bi bio definisan! To pokazuje koliko je važno razlikovati
        parne od neparnih korena.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagramCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  function drawDiagram() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const W = rect.width;
    const H = 520;

    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    var s = Math.min(W / 800, 1);

    // Helper: rounded rectangle
    function roundedBox(x, y, w, h, rad, fillColor, strokeColor, lineW) {
      ctx.beginPath();
      ctx.moveTo(x + rad, y);
      ctx.lineTo(x + w - rad, y);
      ctx.arcTo(x + w, y, x + w, y + rad, rad);
      ctx.lineTo(x + w, y + h - rad);
      ctx.arcTo(x + w, y + h, x + w - rad, y + h, rad);
      ctx.lineTo(x + rad, y + h);
      ctx.arcTo(x, y + h, x, y + h - rad, rad);
      ctx.lineTo(x, y + rad);
      ctx.arcTo(x, y, x + rad, y, rad);
      ctx.closePath();
      if (fillColor) { ctx.fillStyle = fillColor; ctx.fill(); }
      if (strokeColor) { ctx.strokeStyle = strokeColor; ctx.lineWidth = lineW || 1.5; ctx.stroke(); }
    }

    // Helper: arrow
    function drawArrow(fromX, fromY, toX, toY, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2 * s;
      ctx.beginPath();
      ctx.moveTo(fromX, fromY);
      ctx.lineTo(toX, toY);
      ctx.stroke();
      var angle = Math.atan2(toY - fromY, toX - fromX);
      var headLen = 8 * s;
      ctx.beginPath();
      ctx.moveTo(toX, toY);
      ctx.lineTo(toX - headLen * Math.cos(angle - 0.4), toY - headLen * Math.sin(angle - 0.4));
      ctx.moveTo(toX, toY);
      ctx.lineTo(toX - headLen * Math.cos(angle + 0.4), toY - headLen * Math.sin(angle + 0.4));
      ctx.stroke();
    }

    var boxH = 52 * s;
    var smallBoxH = 44 * s;

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = (12 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('RASTAVLJANJE IZRAZA NA DELOVE', W / 2, 18 * s);

    // === ROW 1: BROJILAC and IMENILAC headers ===
    var row1Y = 32 * s;
    var colW = 320 * s;
    var colGap = 40 * s;
    var totalW = 2 * colW + colGap;
    var startX = (W - totalW) / 2;
    var brColX = startX;
    var imColX = startX + colW + colGap;

    // Brojilac header
    roundedBox(brColX, row1Y, colW, boxH, 8 * s, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)');
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold ' + (14 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('BROJILAC', brColX + colW / 2, row1Y + 22 * s);
    ctx.fillStyle = '#94a3b8';
    ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(\u221A(2\u2074) + \u00B3\u221A(2\u2076)) \u00B7 2\u207B\u00B9 + (-3)\u00B2 - 1', brColX + colW / 2, row1Y + 42 * s);

    // Imenilac header
    roundedBox(imColX, row1Y, colW, boxH, 8 * s, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold ' + (14 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('IMENILAC', imColX + colW / 2, row1Y + 22 * s);
    ctx.fillStyle = '#94a3b8';
    ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u221A((-2)\u00B2) - \u2075\u221A((-2)\u2075)', imColX + colW / 2, row1Y + 42 * s);

    // === ROW 2: Individual components ===
    var row2Y = row1Y + boxH + 30 * s;
    var fBoxW = 95 * s;
    var fGap = 12 * s;

    // Brojilac: 4 factor boxes
    var bfBoxW = 68 * s;
    var bfGap = 10 * s;
    var bfTotalW = 4 * bfBoxW + 3 * bfGap;
    var bfStartX = brColX + (colW - bfTotalW) / 2;

    var bfactors = [
      { top: '\u221A(2\u2074)', bot: '= 4', color: '#34d399' },
      { top: '\u00B3\u221A(2\u2076)', bot: '= 4', color: '#60a5fa' },
      { top: '(-3)\u00B2', bot: '= 9', color: '#a78bfa' },
      { top: '2\u207B\u00B9', bot: '= 1/2', color: '#f472b6' }
    ];

    for (var i = 0; i < 4; i++) {
      var fx = bfStartX + i * (bfBoxW + bfGap);
      drawArrow(brColX + colW / 2 - 80 * s + i * 55 * s, row1Y + boxH, fx + bfBoxW / 2, row2Y, '#475569');
      roundedBox(fx, row2Y, bfBoxW, boxH + 6 * s, 6 * s, 'rgba(52,211,153,0.05)', 'rgba(52,211,153,0.2)');
      ctx.fillStyle = '#94a3b8';
      ctx.font = (9 * s) + 'px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(bfactors[i].top, fx + bfBoxW / 2, row2Y + 18 * s);
      ctx.fillStyle = bfactors[i].color;
      ctx.font = 'bold ' + (14 * s) + 'px Segoe UI, system-ui, sans-serif';
      ctx.fillText(bfactors[i].bot, fx + bfBoxW / 2, row2Y + 42 * s);
    }

    // Imenilac: 2 factor boxes
    var ifBoxW = 130 * s;
    var ifGap = 16 * s;
    var ifTotalW = 2 * ifBoxW + ifGap;
    var ifStartX = imColX + (colW - ifTotalW) / 2;

    var ifactors = [
      { top: '\u221A((-2)\u00B2)', bot: '= 2', color: '#34d399' },
      { top: '\u2075\u221A((-2)\u2075)', bot: '= -2', color: '#f472b6' }
    ];

    for (var j = 0; j < 2; j++) {
      var ix = ifStartX + j * (ifBoxW + ifGap);
      drawArrow(imColX + colW / 2 - 50 * s + j * 100 * s, row1Y + boxH, ix + ifBoxW / 2, row2Y, '#475569');
      roundedBox(ix, row2Y, ifBoxW, boxH + 6 * s, 6 * s, 'rgba(244,114,182,0.05)', 'rgba(244,114,182,0.2)');
      ctx.fillStyle = '#94a3b8';
      ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(ifactors[j].top, ix + ifBoxW / 2, row2Y + 18 * s);
      ctx.fillStyle = ifactors[j].color;
      ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
      ctx.fillText(ifactors[j].bot, ix + ifBoxW / 2, row2Y + 42 * s);
    }

    // === ROW 3: Combined numerator and denominator ===
    var row3Y = row2Y + boxH + 6 * s + 34 * s;
    var combBoxW = 260 * s;

    // Combined numerator
    var combBrX = brColX + (colW - combBoxW) / 2;
    drawArrow(brColX + colW / 2, row2Y + boxH + 6 * s, combBrX + combBoxW / 2, row3Y, '#475569');
    roundedBox(combBrX, row3Y, combBoxW, smallBoxH + 8 * s, 8 * s, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(4 + 4) \u00B7 1/2 + 9 - 1', combBrX + combBoxW / 2, row3Y + 16 * s);
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Brojilac = 12', combBrX + combBoxW / 2, row3Y + 40 * s);

    // Combined denominator
    var combImX = imColX + (colW - combBoxW) / 2;
    drawArrow(imColX + colW / 2, row2Y + boxH + 6 * s, combImX + combBoxW / 2, row3Y, '#475569');
    roundedBox(combImX, row3Y, combBoxW, smallBoxH + 8 * s, 8 * s, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('2 - (-2) = 2 + 2', combImX + combBoxW / 2, row3Y + 16 * s);
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Imenilac = 4', combImX + combBoxW / 2, row3Y + 40 * s);

    // === ROW 4: Key calculation ===
    var row4Y = row3Y + smallBoxH + 8 * s + 34 * s;
    var keyBoxW = 300 * s;
    var keyBoxX = (W - keyBoxW) / 2;

    drawArrow(combBrX + combBoxW / 2, row3Y + smallBoxH + 8 * s, keyBoxX + keyBoxW / 2 - 40 * s, row4Y, '#475569');
    drawArrow(combImX + combBoxW / 2, row3Y + smallBoxH + 8 * s, keyBoxX + keyBoxW / 2 + 40 * s, row4Y, '#475569');

    roundedBox(keyBoxX, row4Y, keyBoxW, boxH, 8 * s, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Brojilac / Imenilac', keyBoxX + keyBoxW / 2, row4Y + 18 * s);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('12 / 4', keyBoxX + keyBoxW / 2, row4Y + 42 * s);

    // === ROW 5: Final result ===
    var row5Y = row4Y + boxH + 34 * s;
    var finalBoxW = 200 * s;
    var finalBoxX = (W - finalBoxW) / 2;

    drawArrow(keyBoxX + keyBoxW / 2, row4Y + boxH, finalBoxX + finalBoxW / 2, row5Y, '#475569');

    // Glow effect
    ctx.shadowColor = 'rgba(74,222,128,0.4)';
    ctx.shadowBlur = 20 * s;
    roundedBox(finalBoxX, row5Y, finalBoxW, boxH + 4 * s, 8 * s, 'rgba(74,222,128,0.12)', 'rgba(74,222,128,0.5)', 2);
    ctx.shadowBlur = 0;

    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Konačan rezultat', finalBoxX + finalBoxW / 2, row5Y + 20 * s);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold ' + (24 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 3', finalBoxX + finalBoxW / 2, row5Y + 48 * s);
  }

  drawDiagram();
  window.addEventListener('resize', drawDiagram);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Vrednost numeričkog izraza sa korenima i stepenima",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["koreni", "stepeni", "neparan koren", "paran koren", "redosled operacija"]
}
BRAINSPARK_META-->