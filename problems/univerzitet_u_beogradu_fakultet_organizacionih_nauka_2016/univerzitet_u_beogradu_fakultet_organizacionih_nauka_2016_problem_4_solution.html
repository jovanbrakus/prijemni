<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modul kompleksnog broja</title>
<script type="text/info" id="logic-scratchpad">
Problem: 2z + conjugate(z) + |z + 3i| = 16 - 3i

Let z = x + yi where x, y are real.

Then:
  z-bar = x - yi
  2z = 2x + 2yi
  2z + z-bar = (2x + 2yi) + (x - yi) = 3x + yi
  |z + 3i| = |x + (y+3)i| = sqrt(x^2 + (y+3)^2)  -- this is a REAL number

The equation becomes:
  3x + yi + sqrt(x^2 + (y+3)^2) = 16 - 3i

Separating real and imaginary parts:
  Imaginary part: y = -3
  Real part: 3x + sqrt(x^2 + (y+3)^2) = 16

Substituting y = -3 into the real part:
  3x + sqrt(x^2 + (-3+3)^2) = 16
  3x + sqrt(x^2) = 16
  3x + |x| = 16

Case 1: x >= 0 => |x| = x
  3x + x = 16
  4x = 16
  x = 4 (valid, x >= 0)

Case 2: x < 0 => |x| = -x
  3x - x = 16
  2x = 16
  x = 8 (contradiction, x should be < 0)

So z = 4 - 3i.

|z| = sqrt(4^2 + (-3)^2) = sqrt(16 + 9) = sqrt(25) = 5

Answer: E) |z| = 5

Verification:
  z = 4 - 3i
  z-bar = 4 + 3i
  2z = 8 - 6i
  2z + z-bar = 12 - 3i
  z + 3i = 4 - 3i + 3i = 4
  |z + 3i| = |4| = 4
  2z + z-bar + |z + 3i| = 12 - 3i + 4 = 16 - 3i  ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  border-left: 3px solid transparent;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left: 3px solid #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #fff;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.08);
  border-radius: 8px;
  list-style: none;
  user-select: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '▶ ';
  font-size: 0.8rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  content: '▼ ';
}

details .details-content {
  padding: 14px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border-left: 3px solid #60a5fa;
}

details .details-content ul {
  list-style: none;
  padding-left: 0;
}

details .details-content li {
  padding: 6px 0;
  color: #cbd5e1;
}

details .details-content li::before {
  content: '• ';
  color: #60a5fa;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  background: rgba(167,139,250,0.12);
  color: #a78bfa;
}

.checkpoint .details-content {
  border-left-color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box .insight-title {
  color: #a78bfa;
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 12px;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.final-answer .answer-value {
  color: #4ade80;
  font-size: 1.8rem;
  font-weight: 800;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 18px;
}

.option-card {
  background: rgba(30,41,59,0.8);
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 12px 20px;
  text-align: center;
  min-width: 90px;
  transition: all 0.2s;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.option-card .opt-letter {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.option-card.correct .opt-letter {
  color: #4ade80;
}

.option-card .opt-value {
  font-weight: 700;
  font-size: 1.05rem;
}

.pitfall-card {
  background: rgba(224,148,104,0.06);
  border: 1px solid rgba(224,148,104,0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.pitfall-card h2 {
  color: #e09468;
}

.pitfall-card li {
  color: #cbd5e1;
  padding: 6px 0;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding: 12px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 600px;
  border-radius: 10px;
  touch-action: none;
}

.canvas-hint {
  text-align: center;
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 80px; padding: 8px 12px; }
  .step-container { padding: 12px; }
  .options-row { gap: 8px; }
  .option-card { min-width: 70px; padding: 10px 14px; }
}
</style>
</head>
<body>
<div class="container">

<!-- Title -->
<h1>Modul kompleksnog broja</h1>
<p class="subtitle">Kompleksni brojevi - jednacina sa konjugovanim i modulom</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <h2>Postavka zadatka</h2>
  <p>Ako kompleksan broj \( z \) zadovoljava jednacinu:</p>
  <div class="math-block">
    \[ 2z + \bar{z} + |z + 3i| = 16 - 3i \]
  </div>
  <p>gde je \( i^2 = -1 \), tada je:</p>

  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\( |z| = 2\sqrt{3} \)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\( |z| = 4 \)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\( |z| = 3 \)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\( |z| = 3\sqrt{3} \)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\( |z| = 5 \)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <h2>Plan resavanja</h2>
  <p>Zapisacemo \( z = x + yi \) gde su \( x, y \in \mathbb{R} \), zatim cemo razviti levu stranu jednacine i razdvojiti realne i imaginarne delove. Izjednacavanjem sa desnom stranom dobicemo sistem jednacina iz kojeg cemo naci \( x \) i \( y \), pa izracunati \( |z| \).</p>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details>
    <summary>Kljucne formule i teoreme</summary>
    <div class="details-content">
      <ul>
        <li>Ako je \( z = x + yi \), onda je konjugovani broj \( \bar{z} = x - yi \).</li>
        <li>Modul kompleksnog broja: \( |z| = \sqrt{x^2 + y^2} \).</li>
        <li>Modul je uvek realan i nenegativan broj: \( |z + 3i| \in \mathbb{R} \), \( |z+3i| \geq 0 \).</li>
        <li>Dva kompleksna broja su jednaka ako i samo ako su im jednaki i realni i imaginarni delovi.</li>
        <li>Apsolutna vrednost: \( \sqrt{x^2} = |x| \), sto je jednako \( x \) za \( x \geq 0 \) i \( -x \) za \( x < 0 \).</li>
      </ul>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <h2>Graficki prikaz</h2>
  <canvas id="complexPlane" width="600" height="500"></canvas>
  <p class="canvas-hint">Kompleksna ravan sa resenjima jednacine</p>
</div>

<!-- Step-by-Step Solution -->
<div class="card">
  <h2>Resenje korak po korak</h2>

  <!-- Step 1 -->
  <div class="step-container" id="step1">
    <div class="step-badge">1</div>
    <div class="step-content">
      <h3>Zapisujemo \( z \) u algebarskom obliku</h3>
      <p>Neka je \( z = x + yi \), gde su \( x, y \in \mathbb{R} \).</p>
      <p>Tada je konjugovani broj:</p>
      <div class="math-block">
        \[ \bar{z} = x - yi \]
      </div>
    </div>
  </div>

  <!-- Step 2 -->
  <div class="step-container" id="step2">
    <div class="step-badge">2</div>
    <div class="step-content">
      <h3>Racunamo \( 2z + \bar{z} \)</h3>
      <p>Sabiramo:</p>
      <div class="math-block">
        \[ 2z + \bar{z} = 2(x + yi) + (x - yi) \]
      </div>
      <div class="math-block">
        \[ = 2x + 2yi + x - yi \]
      </div>
      <div class="math-block">
        \[ = 3x + yi \]
      </div>
      <p class="note">Realni deo se utrostrucuje, a imaginarni ostaje nepromenjen.</p>
    </div>
  </div>

  <!-- Step 3 -->
  <div class="step-container" id="step3">
    <div class="step-badge">3</div>
    <div class="step-content">
      <h3>Racunamo \( |z + 3i| \)</h3>
      <p>Zamenjujemo \( z = x + yi \):</p>
      <div class="math-block">
        \[ z + 3i = x + yi + 3i = x + (y + 3)i \]
      </div>
      <div class="math-block">
        \[ |z + 3i| = \sqrt{x^2 + (y+3)^2} \]
      </div>
      <p class="note">Modul je uvek <span class="highlight-pink">realan broj</span> - nema imaginarnu komponentu!</p>
    </div>
  </div>

  <!-- Checkpoint 1 -->
  <details class="checkpoint">
    <summary>Proveri se: Koji tip broja je \( |z + 3i| \)?</summary>
    <div class="details-content">
      <p>Modul kompleksnog broja je uvek <span class="highlight-green">realan nenegativan broj</span>. To znaci da kada upisemo celu levu stranu jednacine, \( |z + 3i| \) doprinosi samo realnom delu.</p>
    </div>
  </details>

  <!-- Step 4 -->
  <div class="step-container" id="step4">
    <div class="step-badge">4</div>
    <div class="step-content">
      <h3>Formiramo potpunu jednacinu</h3>
      <p>Zamenjujemo sve u polaznu jednacinu:</p>
      <div class="math-block">
        \[ \underbrace{3x + yi}_{\text{kompleksan}} + \underbrace{\sqrt{x^2 + (y+3)^2}}_{\text{realan}} = 16 - 3i \]
      </div>
      <p>Leva strana u obliku \( (\text{Re}) + (\text{Im}) \cdot i \):</p>
      <div class="math-block">
        \[ \left(3x + \sqrt{x^2 + (y+3)^2}\right) + yi = 16 - 3i \]
      </div>
    </div>
  </div>

  <!-- Step 5 -->
  <div class="step-container" id="step5">
    <div class="step-badge">5</div>
    <div class="step-content">
      <h3>Razdvajamo realne i imaginarne delove</h3>
      <p>Dva kompleksna broja su jednaka kada su im jednaki i realni i imaginarni delovi:</p>
      <div class="math-block">
        \[ \text{Im:} \quad y = -3 \]
      </div>
      <div class="math-block">
        \[ \text{Re:} \quad 3x + \sqrt{x^2 + (y+3)^2} = 16 \]
      </div>
    </div>
  </div>

  <!-- Step 6 -->
  <div class="step-container" id="step6">
    <div class="step-badge">6</div>
    <div class="step-content">
      <h3>Zamenjujemo \( y = -3 \) u realnu jednacinu</h3>
      <p>Ubacujemo \( y = -3 \):</p>
      <div class="math-block">
        \[ 3x + \sqrt{x^2 + (-3+3)^2} = 16 \]
      </div>
      <div class="math-block">
        \[ 3x + \sqrt{x^2 + 0} = 16 \]
      </div>
      <div class="math-block">
        \[ 3x + \sqrt{x^2} = 16 \]
      </div>
      <p>Podsetimo se da je \( \sqrt{x^2} = |x| \):</p>
      <div class="math-block">
        \[ 3x + |x| = 16 \]
      </div>
    </div>
  </div>

  <!-- Checkpoint 2 -->
  <details class="checkpoint">
    <summary>Proveri se: Zasto \( \sqrt{x^2} \) nije prosto \( x \)?</summary>
    <div class="details-content">
      <p>Jer \( \sqrt{x^2} = |x| \), ne \( x \). Na primer, ako je \( x = -5 \), onda \( \sqrt{(-5)^2} = \sqrt{25} = 5 = |-5| \), a ne \( -5 \). Zato moramo razmatrati dva slucaja!</p>
    </div>
  </details>

  <!-- Step 7 -->
  <div class="step-container" id="step7">
    <div class="step-badge">7</div>
    <div class="step-content">
      <h3>Slucaj 1: \( x \geq 0 \)</h3>
      <p>Kada je \( x \geq 0 \), tada \( |x| = x \):</p>
      <div class="math-block">
        \[ 3x + x = 16 \]
      </div>
      <div class="math-block">
        \[ 4x = 16 \]
      </div>
      <div class="math-block">
        \[ x = 4 \]
      </div>
      <p>Proveravamo: \( x = 4 \geq 0 \) <span class="highlight-green">- uslov je zadovoljen!</span></p>
    </div>
  </div>

  <!-- Step 8 -->
  <div class="step-container" id="step8">
    <div class="step-badge">8</div>
    <div class="step-content">
      <h3>Slucaj 2: \( x < 0 \)</h3>
      <p>Kada je \( x < 0 \), tada \( |x| = -x \):</p>
      <div class="math-block">
        \[ 3x + (-x) = 16 \]
      </div>
      <div class="math-block">
        \[ 2x = 16 \]
      </div>
      <div class="math-block">
        \[ x = 8 \]
      </div>
      <p>Ali \( x = 8 > 0 \), sto je u <span class="highlight-pink">kontradikciji</span> sa pretpostavkom \( x < 0 \). Ovaj slucaj nema resenje.</p>
    </div>
  </div>

  <!-- Step 9 -->
  <div class="step-container" id="step9">
    <div class="step-badge">9</div>
    <div class="step-content">
      <h3>Nalazimo \( z \) i racunamo \( |z| \)</h3>
      <p>Jedino resenje je \( x = 4 \), \( y = -3 \), pa:</p>
      <div class="math-block">
        \[ z = 4 - 3i \]
      </div>
      <p>Racunamo modul:</p>
      <div class="math-block">
        \[ |z| = \sqrt{4^2 + (-3)^2} = \sqrt{16 + 9} = \sqrt{25} = 5 \]
      </div>
    </div>
  </div>

  <!-- Checkpoint 3 -->
  <details class="checkpoint">
    <summary>Proveri se: Verifikacija resenja</summary>
    <div class="details-content">
      <p>Proverimo da li \( z = 4 - 3i \) zaista zadovoljava polaznu jednacinu:</p>
      <p>\( 2z = 8 - 6i \)</p>
      <p>\( \bar{z} = 4 + 3i \)</p>
      <p>\( 2z + \bar{z} = 12 - 3i \)</p>
      <p>\( z + 3i = 4 - 3i + 3i = 4 \)</p>
      <p>\( |z + 3i| = |4| = 4 \)</p>
      <p>\( 2z + \bar{z} + |z + 3i| = 12 - 3i + 4 = 16 - 3i \) <span class="highlight-green">Tacno!</span></p>
    </div>
  </details>
</div>

<!-- Key Insight -->
<div class="insight-box">
  <div class="insight-title">Kljucni uvid</div>
  <p>Modul kompleksnog broja je <span class="highlight-pink">uvek realan</span>. Zato \( |z + 3i| \) ne utice na imaginarni deo jednacine, sto nam omogucava da odmah odredimo \( y = -3 \). Nakon zamene, izraz \( \sqrt{x^2} = |x| \) se svodi na analizu po slucajevima.</p>
</div>

<!-- Final Answer -->
<div class="final-answer">
  <div class="answer-label">Konacan odgovor</div>
  <div class="answer-value">\( |z| = 5 \)</div>

  <div class="options-row">
    <div class="option-card">
      <div class="opt-letter">(A)</div>
      <div class="opt-value">\( 2\sqrt{3} \)</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(B)</div>
      <div class="opt-value">\( 4 \)</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(C)</div>
      <div class="opt-value">\( 3 \)</div>
    </div>
    <div class="option-card">
      <div class="opt-letter">(D)</div>
      <div class="opt-value">\( 3\sqrt{3} \)</div>
    </div>
    <div class="option-card correct">
      <div class="opt-letter">(E)</div>
      <div class="opt-value">\( 5 \)</div>
    </div>
  </div>

  <div class="verification">
    <strong>Verifikacija:</strong> Za \( z = 4 - 3i \): \( 2z + \bar{z} + |z+3i| = (8-6i) + (4+3i) + 4 = 16 - 3i \). Rezultat se poklapa sa desnom stranom jednacine.
  </div>
</div>

<!-- Common Pitfalls -->
<div class="pitfall-card">
  <h2>Ceste greske</h2>
  <ul>
    <li>Zaboraviti da je \( |z + 3i| \) <strong>realan broj</strong>, pa ga pogresno tretirati kao kompleksni izraz. To bi dovelo do pogresnog razdvajanja realnog i imaginarnog dela.</li>
    <li>Pisati \( \sqrt{x^2} = x \) umesto \( \sqrt{x^2} = |x| \). Mada u ovom zadatku oba slucaja daju isti rezultat (jer jedino \( x \geq 0 \) daje validno resenje), ovo je konceptualna greska koja u drugim zadacima moze dovesti do gubitka resenja.</li>
  </ul>
</div>

<!-- Optional Challenge -->
<div class="card">
  <h2>Dodatni izazov</h2>
  <p>Kako bi se promenilo resenje da jednacina glasi \( 2z + \bar{z} + |z - 3i| = 16 + 3i \)?</p>
  <details>
    <summary>Nagovesztaj</summary>
    <div class="details-content">
      <p>Postupak je analogan. Iz imaginarnog dela ponovo odredite \( y \), a zatim ubacite u realni deo. Pazite na znak: sada je \( z - 3i = x + (y-3)i \), pa se menja uslov za \( y \). Razmislite zasto desna strana ima \( +3i \) umesto \( -3i \).</p>
    </div>
  </details>
</div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas - Complex Plane
  const canvas = document.getElementById('complexPlane');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const originX = W / 2;
  const originY = H / 2 + 30;
  const scale = 40;

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -7; i <= 7; i++) {
      // Vertical
      const vx = originX + i * scale;
      ctx.beginPath();
      ctx.moveTo(vx, 0);
      ctx.lineTo(vx, H);
      ctx.stroke();
      // Horizontal
      const hy = originY - i * scale;
      ctx.beginPath();
      ctx.moveTo(0, hy);
      ctx.lineTo(W, hy);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;

    // X-axis
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();

    // Y-axis
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re', W - 20, originY - 10);
    ctx.fillText('Im', originX + 18, 20);

    // Tick marks & numbers
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.fillStyle = '#64748b';
    for (let i = -6; i <= 6; i++) {
      if (i === 0) continue;
      // X ticks
      const tx = originX + i * scale;
      ctx.beginPath();
      ctx.moveTo(tx, originY - 4);
      ctx.lineTo(tx, originY + 4);
      ctx.stroke();
      ctx.fillText(i.toString(), tx, originY + 18);

      // Y ticks
      const ty = originY - i * scale;
      if (ty > 10 && ty < H - 10) {
        ctx.beginPath();
        ctx.moveTo(originX - 4, ty);
        ctx.lineTo(originX + 4, ty);
        ctx.stroke();
        ctx.textAlign = 'right';
        ctx.fillText(i + 'i', originX - 10, ty + 4);
        ctx.textAlign = 'center';
      }
    }

    // Origin
    ctx.fillText('0', originX - 12, originY + 18);
  }

  function drawPoint(x, y, color, label, labelOffset) {
    const p = toCanvas(x, y);
    const ox = labelOffset ? labelOffset.x : 10;
    const oy = labelOffset ? labelOffset.y : -15;

    // Glow
    const gradient = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 20);
    gradient.addColorStop(0, color + '60');
    gradient.addColorStop(1, 'transparent');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(p.x, p.y, 20, 0, Math.PI * 2);
    ctx.fill();

    // Point
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(p.x, p.y, 6, 0, Math.PI * 2);
    ctx.fill();

    // Border
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(p.x, p.y, 6, 0, Math.PI * 2);
    ctx.stroke();

    // Label
    ctx.fillStyle = color;
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText(label, p.x + ox, p.y + oy);
  }

  function drawModulusLine(x, y) {
    const o = toCanvas(0, 0);
    const p = toCanvas(x, y);

    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(o.x, o.y);
    ctx.lineTo(p.x, p.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label |z| = 5
    const mx = (o.x + p.x) / 2;
    const my = (o.y + p.y) / 2;
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('|z| = 5', mx - 25, my - 10);
  }

  function drawCircle() {
    const center = toCanvas(0, 0);
    const r = 5 * scale;
    ctx.strokeStyle = 'rgba(96,165,250,0.25)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 6]);
    ctx.beginPath();
    ctx.arc(center.x, center.y, r, 0, Math.PI * 2);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label
    ctx.fillStyle = 'rgba(96,165,250,0.5)';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    const labelP = toCanvas(3.7, 3.5);
    ctx.fillText('|z| = 5', labelP.x, labelP.y);
  }

  function drawProjections(x, y) {
    const p = toCanvas(x, y);
    const px = toCanvas(x, 0);
    const py = toCanvas(0, y);

    ctx.setLineDash([3, 3]);
    ctx.strokeStyle = 'rgba(148,163,184,0.3)';
    ctx.lineWidth = 1;

    // Projection to x-axis
    ctx.beginPath();
    ctx.moveTo(p.x, p.y);
    ctx.lineTo(px.x, px.y);
    ctx.stroke();

    // Projection to y-axis
    ctx.beginPath();
    ctx.moveTo(p.x, p.y);
    ctx.lineTo(py.x, py.y);
    ctx.stroke();

    ctx.setLineDash([]);

    // Labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('4', px.x, px.y + 32);
    ctx.textAlign = 'right';
    ctx.fillText('-3i', py.x - 8, py.y + 4);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawAxes();
    drawCircle();
    drawProjections(4, -3);
    drawModulusLine(4, -3);

    // Points
    drawPoint(4, -3, '#4ade80', 'z = 4 - 3i', { x: 10, y: 20 });
    drawPoint(0, -3, '#f472b6', '-3i', { x: -40, y: -10 });
    drawPoint(0, 0, '#60a5fa', 'O', { x: -20, y: -10 });

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Kompleksna ravan', W / 2, 25);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Modul kompleksnog broja iz jednacine sa konjugovanim",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kompleksni brojevi", "modul", "konjugovani broj", "jednacina"]
}
BRAINSPARK_META-->