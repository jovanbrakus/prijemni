<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rastojanje paralelnih pravih i dijagonala kvadrata</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Paralelne stranice kvadrata pripadaju pravama:
  L1: 4x - 3y + 15 = 0
  L2: 8x - 6y + 21 = 0
Trazi se duzina dijagonale tog kvadrata.

STEP 1: Svodjenje na iste koeficijente
L2: 8x - 6y + 21 = 0  =>  delimo sa 2  =>  4x - 3y + 21/2 = 0
Sada imamo:
  L1: 4x - 3y + 15 = 0
  L2': 4x - 3y + 21/2 = 0

STEP 2: Rastojanje izmedju paralelnih pravih
Formula: d = |c1 - c2| / sqrt(a^2 + b^2)
gde su prave ax + by + c1 = 0 i ax + by + c2 = 0

a = 4, b = -3, c1 = 15, c2 = 21/2

d = |15 - 21/2| / sqrt(16 + 9)
d = |(30 - 21)/2| / sqrt(25)
d = |9/2| / 5
d = 9/10

STEP 3: Stranica kvadrata
Dve paralelne stranice kvadrata leze na ovim pravama.
Rastojanje izmedju pravih = stranica kvadrata = a = 9/10

STEP 4: Dijagonala kvadrata
d_dijagonala = a * sqrt(2) = (9/10) * sqrt(2) = 9*sqrt(2) / 10

ANSWER: A) 9*sqrt(2)/10
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}
h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
.plan-card h2 { color: #a78bfa; }
details {
  margin: 15px 0;
}
details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}
details summary:hover { color: #93c5fd; }
.theory-content ul {
  list-style: none;
  padding-left: 0;
}
.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}
.theory-content li:last-child { border-bottom: none; }
.canvas-card {
  text-align: center;
}
.canvas-card canvas {
  border-radius: 10px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}
.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  cursor: pointer;
  transition: all 0.2s;
  border-left: 3px solid transparent;
}
.step:hover, .step.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}
.step-badge {
  width: 28px;
  height: 28px;
  min-width: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  margin-top: 2px;
}
.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 6px;
}
.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}
.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}
.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}
.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}
.checkpoint summary {
  color: #34d399;
}
.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}
.insight-box h2 { color: #a78bfa; margin-bottom: 12px; }
.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}
.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 16px;
}
.final-answer-text {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 700;
  margin-bottom: 12px;
}
.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}
.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  background: rgba(51,65,85,0.5);
  border: 1px solid #475569;
  color: #94a3b8;
  font-size: 1rem;
}
.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}
.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 12px;
  border-top: 1px solid rgba(51,65,85,0.5);
}
.pitfall-box {
  background: rgba(224,148,104,0.06);
  border: 1px solid rgba(224,148,104,0.2);
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 24px;
}
.pitfall-box h2 { color: #e09468; margin-bottom: 12px; }
.pitfall-box ul {
  list-style: disc;
  padding-left: 20px;
  color: #cbd5e1;
}
.pitfall-box li { margin-bottom: 8px; }
.challenge-box {
  border: 1px dashed #60a5fa;
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 24px;
  background: rgba(96,165,250,0.04);
}
.challenge-box h2 { color: #60a5fa; margin-bottom: 12px; }
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 8px; }
  .given-grid { flex-direction: column; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Rastojanje paralelnih pravih i dijagonala kvadrata</h1>
  <p class="subtitle">Analitiƒçka geometrija - rastojanje izmeƒëu paralelnih pravih, osobine kvadrata</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Paralelne stranice kvadrata pripadaju pravama <span style="color:#f472b6;">\(4x - 3y + 15 = 0\)</span> i <span style="color:#f472b6;">\(8x - 6y + 21 = 0\)</span>. Du≈æina dijagonale tog kvadrata jednaka je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{9\sqrt{2}}{10}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{4}{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{4\sqrt{2}}{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{3}{2}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Sve≈°ƒáemo obe jednaƒçine pravih na isti oblik (iste koeficijente uz \(x\) i \(y\)), zatim ƒáemo formulom izraƒçunati rastojanje izmeƒëu paralelnih pravih. To rastojanje je stranica kvadrata, a dijagonalu dobijamo mno≈æenjem sa \(\sqrt{2}\).</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Rastojanje izmeƒëu paralelnih pravih:</strong> Za prave \(ax + by + c_1 = 0\) i \(ax + by + c_2 = 0\), rastojanje je:
          \[ d = \frac{|c_1 - c_2|}{\sqrt{a^2 + b^2}} \]</li>
          <li><strong>Dijagonala kvadrata:</strong> Ako je stranica kvadrata \(a\), dijagonala je:
          \[ d = a\sqrt{2} \]</li>
          <li><strong>Paralelnost pravih:</strong> Prave \(a_1x + b_1y + c_1 = 0\) i \(a_2x + b_2y + c_2 = 0\) su paralelne ako va≈æi \(\dfrac{a_1}{a_2} = \dfrac{b_1}{b_2}\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="500"></canvas>
    <p class="canvas-hint">Dve paralelne prave sa kvadratom ƒçije stranice le≈æe na njima</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Sreƒëivanje jednaƒçina pravih</h3>
        <p>Zapi≈°imo obe prave:</p>
        <div class="math-block">
          \[ \ell_1:\; 4x - 3y + 15 = 0 \]
          \[ \ell_2:\; 8x - 6y + 21 = 0 \]
        </div>
        <p>Primetimo da su koeficijenti uz \(x\) i \(y\) u drugoj jednaƒçini dvostruko veƒái. Delimo celu drugu jednaƒçinu sa \(2\):</p>
        <div class="math-block">
          \[ \ell_2:\; \frac{8x - 6y + 21}{2} = 0 \;\;\Rightarrow\;\; 4x - 3y + \frac{21}{2} = 0 \]
        </div>
        <p class="note">Sada obe prave imaju iste koeficijente uz \(x\) i \(y\): to su \(4\) i \(-3\).</p>
      </div>
    </div>

    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Provera paralelnosti</h3>
        <p>Prave su sada u obliku:</p>
        <div class="math-block">
          \[ \ell_1:\; 4x - 3y + 15 = 0 \]
          \[ \ell_2:\; 4x - 3y + \frac{21}{2} = 0 \]
        </div>
        <p>Koeficijenti uz \(x\) i \(y\) su identiƒçni (\(4\) i \(-3\)), a slobodni ƒçlanovi su razliƒçiti (\(15 \neq \frac{21}{2}\)), pa su prave zaista <strong>paralelne i razliƒçite</strong>.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri se: Koliki je slobodni ƒçlan druge prave nakon deljenja sa 2?</summary>
      <p style="color:#34d399; padding: 8px 0;">Slobodni ƒçlan je \(\frac{21}{2} = 10{,}5\).</p>
    </details>

    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Primena formule za rastojanje</h3>
        <p>Za prave \(ax + by + c_1 = 0\) i \(ax + by + c_2 = 0\), rastojanje je:</p>
        <div class="math-block">
          \[ d = \frac{|c_1 - c_2|}{\sqrt{a^2 + b^2}} \]
        </div>
        <p>Uvr≈°tavamo \(a = 4\), \(b = -3\), \(c_1 = 15\), \(c_2 = \frac{21}{2}\):</p>
        <div class="math-block">
          \[ d = \frac{\left|15 - \frac{21}{2}\right|}{\sqrt{4^2 + (-3)^2}} \]
        </div>
      </div>
    </div>

    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Izraƒçunavanje brojioca</h3>
        <p>Svedimo na zajedniƒçki imenilac:</p>
        <div class="math-block">
          \[ 15 - \frac{21}{2} = \frac{30}{2} - \frac{21}{2} = \frac{9}{2} \]
        </div>
        <p>Dakle, brojilac je:</p>
        <div class="math-block">
          \[ \left|\frac{9}{2}\right| = \frac{9}{2} \]
        </div>
      </div>
    </div>

    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izraƒçunavanje imenioca</h3>
        <p>Raƒçunamo:</p>
        <div class="math-block">
          \[ \sqrt{4^2 + (-3)^2} = \sqrt{16 + 9} = \sqrt{25} = 5 \]
        </div>
        <p class="note">Primetimo da je \((4, -3)\) jedan od najƒçe≈°ƒáih Pitagorinih trojki: \(3^2 + 4^2 = 5^2\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri se: Koliko je rastojanje izmeƒëu ove dve prave?</summary>
      <p style="color:#34d399; padding: 8px 0;">Rastojanje je \(\frac{9/2}{5} = \frac{9}{10}\).</p>
    </details>

    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Rastojanje = stranica kvadrata</h3>
        <p>Spajamo brojilac i imenilac:</p>
        <div class="math-block">
          \[ d = \frac{\frac{9}{2}}{5} = \frac{9}{10} \]
        </div>
        <p>Po≈°to dve stranice kvadrata le≈æe na ovim paralelnim pravama, rastojanje izmeƒëu pravih jednako je <strong>stranici kvadrata</strong>:</p>
        <div class="math-block">
          \[ a = \frac{9}{10} \]
        </div>
      </div>
    </div>

    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Dijagonala kvadrata</h3>
        <p>Dijagonala kvadrata sa stranicom \(a\) iznosi \(a\sqrt{2}\):</p>
        <div class="math-block">
          \[ d_{\text{dijag}} = a\sqrt{2} = \frac{9}{10} \cdot \sqrt{2} = \frac{9\sqrt{2}}{10} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>üîç Proveri se: Koliko je pribli≈æno \(\frac{9\sqrt{2}}{10}\)?</summary>
      <p style="color:#34d399; padding: 8px 0;">\(\frac{9 \cdot 1{,}414}{10} \approx \frac{12{,}73}{10} \approx 1{,}273\). To je razumna vrednost za dijagonalu malog kvadrata.</p>
    </details>

  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljuƒçni uvid</h2>
    <p>Kada dve stranice kvadrata le≈æe na paralelnim pravama, stranica kvadrata je jednaka rastojanju izmeƒëu tih pravih. Preostaje samo da pomno≈æimo sa \(\sqrt{2}\) da dobijemo dijagonalu!</p>
    <div class="math-block" style="display:inline-block;">
      \[ d_{\text{dijag}} = \frac{|c_1 - c_2|}{\sqrt{a^2 + b^2}} \cdot \sqrt{2} = \frac{9}{10}\sqrt{2} = \frac{9\sqrt{2}}{10} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konaƒçan odgovor</h2>
    <div class="final-answer-text">\(\dfrac{9\sqrt{2}}{10}\)</div>
    <div class="options-row">
      <div class="option-card correct">(A) \(\dfrac{9\sqrt{2}}{10}\)</div>
      <div class="option-card">(B) \(\sqrt{2}\)</div>
      <div class="option-card">(C) \(\dfrac{4}{3}\)</div>
      <div class="option-card">(D) \(\dfrac{4\sqrt{2}}{5}\)</div>
      <div class="option-card">(E) \(\dfrac{3}{2}\)</div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Stranica kvadrata \(a = \frac{9}{10} = 0{,}9\). Dijagonala \(= 0{,}9 \cdot \sqrt{2} \approx 1{,}273\). Odgovor A daje \(\frac{9\sqrt{2}}{10} \approx 1{,}273\). Taƒçno!
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h2>ƒåeste gre≈°ke</h2>
    <ul>
      <li><strong>Zaboravljanje svoƒëenja na iste koeficijente:</strong> Ako direktno primenimo formulu na \(4x - 3y + 15 = 0\) i \(8x - 6y + 21 = 0\) bez prethodnog deljenja druge jednaƒçine sa 2, dobiƒáemo pogre≈°an rezultat. Koeficijenti uz \(x\) i \(y\) moraju biti identiƒçni pre primene formule.</li>
      <li><strong>Me≈°anje stranice i dijagonale:</strong> Rastojanje izmeƒëu pravih je <em>stranica</em> kvadrata, ne dijagonala. Ne treba zaboraviti da se konaƒçno tra≈æi dijagonala, pa moramo pomno≈æiti sa \(\sqrt{2}\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Naƒëi koordinate temena tog kvadrata ako je jedno teme na pravoj \(4x - 3y + 15 = 0\) u taƒçki gde je \(x = 0\).</p>
    <details>
      <summary>Nagove≈°taj</summary>
      <p style="color:#94a3b8; padding: 8px 0;">Kada \(x = 0\) na prvoj pravoj, dobijamo \(-3y + 15 = 0\), tj. \(y = 5\), pa je jedno teme \(A(0, 5)\). Stranice kvadrata su paralelne datim pravama i normalne na njih. Vektor normale pravih je \(\vec{n} = (4, -3)\), a vektor pravca je \(\vec{v} = (3, 4)\). Koristi ove vektore normalizovane na du≈æinu stranice \(\frac{9}{10}\) da naƒëe≈° ostala temena.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system: center of canvas
  const originX = W / 2;
  const originY = H / 2;
  const scale = 60; // pixels per unit

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -6; i <= 6; i++) {
      // vertical
      const vx = originX + i * scale;
      ctx.beginPath();
      ctx.moveTo(vx, 0);
      ctx.lineTo(vx, H);
      ctx.stroke();
      // horizontal
      const hy = originY - i * scale;
      ctx.beginPath();
      ctx.moveTo(0, hy);
      ctx.lineTo(W, hy);
      ctx.stroke();
    }
    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.fillText('x', W - 15, originY - 8);
    ctx.fillText('y', originX + 8, 15);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '10px Segoe UI, sans-serif';
    for (let i = -5; i <= 5; i++) {
      if (i === 0) continue;
      const tx = originX + i * scale;
      ctx.fillText(i.toString(), tx - 4, originY + 14);
      const ty = originY - i * scale;
      ctx.fillText(i.toString(), originX + 6, ty + 4);
    }
  }

  function drawLine(a, b, c, color, label, labelX) {
    // Line: ax + by + c = 0 => y = (ax + c) / (-b) if b != 0
    // 4x - 3y + c = 0 => y = (4x + c)/3
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    const xMin = -6;
    const xMax = 6;
    const p1 = toCanvas(xMin, (a * xMin + c) / (-b));
    const p2 = toCanvas(xMax, (a * xMax + c) / (-b));
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();

    // Label
    ctx.fillStyle = color;
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    const lp = toCanvas(labelX, (a * labelX + c) / (-b));
    ctx.fillText(label, lp.x + 5, lp.y - 10);
  }

  function drawSquare() {
    // The two parallel lines: L1: 4x-3y+15=0, L2: 4x-3y+10.5=0
    // Normal direction (pointing from L1 to L2): (4,-3), normalized: (4/5, -3/5)
    // Direction along the lines: (3,4), normalized: (3/5, 4/5)
    // Side length = 9/10

    // Pick a point on L1, say x=0: y=5, so P1 = (0, 5)
    // Move along the line direction by side/2 each way
    const side = 9 / 10;
    const dirX = 3 / 5;
    const dirY = 4 / 5;
    const normX = 4 / 5;
    const normY = -3 / 5;

    // Center between the two lines at x = 0
    // L1 at x=0: y=5; L2 at x=0: y = 10.5/3 = 3.5
    // midpoint y = (5 + 3.5)/2 = 4.25
    // Let's pick the square centered at x=-1 for better visibility
    // At x=-1: L1: y = (4*(-1)+15)/3 = 11/3; L2: y = (4*(-1)+10.5)/3 = 6.5/3
    // mid: (11/3 + 6.5/3)/2 = 17.5/6 ~ 2.917

    // Actually let's pick a nice center. Take a point on L1 where x = -1.5
    // y1 = (4*(-1.5) + 15)/3 = (-6+15)/3 = 3
    // Point A = (-1.5, 3) on L1
    // Move along direction (3/5, 4/5) by side = 9/10
    // Point B = (-1.5 + 0.9*0.6, 3 + 0.9*0.8) = (-1.5 + 0.54, 3 + 0.72) = (-0.96, 3.72) on L1

    const Ax = -1.5;
    const Ay = 3;
    const Bx = Ax + side * dirX;
    const By = Ay + side * dirY;

    // Move from A along normal to L2 (normal is (4/5, -3/5))
    // Distance = 9/10
    const Dx = Ax + side * normX;
    const Dy = Ay + side * normY;
    const Cx = Bx + side * normX;
    const Cy = By + side * normY;

    // Verify D is on L2: 4*Dx - 3*Dy + 10.5
    // Dx = -1.5 + 0.72 = -0.78, Dy = 3 - 0.54 = 2.46
    // 4*(-0.78) - 3*(2.46) + 10.5 = -3.12 - 7.38 + 10.5 = 0. Correct!

    const points = [
      toCanvas(Ax, Ay),
      toCanvas(Bx, By),
      toCanvas(Cx, Cy),
      toCanvas(Dx, Dy)
    ];

    // Fill
    ctx.fillStyle = 'rgba(96, 165, 250, 0.1)';
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    ctx.lineTo(points[1].x, points[1].y);
    ctx.lineTo(points[2].x, points[2].y);
    ctx.lineTo(points[3].x, points[3].y);
    ctx.closePath();
    ctx.fill();

    // Outline
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    ctx.lineTo(points[1].x, points[1].y);
    ctx.lineTo(points[2].x, points[2].y);
    ctx.lineTo(points[3].x, points[3].y);
    ctx.closePath();
    ctx.stroke();

    // Diagonal
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    ctx.lineTo(points[2].x, points[2].y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Diagonal label
    const midDiagX = (points[0].x + points[2].x) / 2;
    const midDiagY = (points[0].y + points[2].y) / 2;
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.fillText('d = 9\u221A2/10', midDiagX + 8, midDiagY - 5);

    // Side length annotation (distance between lines)
    const midAx = (Ax + Dx) / 2;
    const midAy = (Ay + Dy) / 2;
    const pMidA = toCanvas(midAx, midAy);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(points[0].x, points[0].y);
    ctx.lineTo(points[3].x, points[3].y);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.fillText('a = 9/10', pMidA.x - 55, pMidA.y);

    // Vertex labels
    const labels = ['A', 'B', 'C', 'D'];
    const offsets = [[-15, 10], [8, 15], [8, -8], [-18, -8]];
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    for (let i = 0; i < 4; i++) {
      ctx.fillText(labels[i], points[i].x + offsets[i][0], points[i].y + offsets[i][1]);
    }

    // Small dots at vertices
    ctx.fillStyle = '#60a5fa';
    for (let i = 0; i < 4; i++) {
      ctx.beginPath();
      ctx.arc(points[i].x, points[i].y, 4, 0, Math.PI * 2);
      ctx.fill();
    }
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);
    drawGrid();
    // L1: 4x - 3y + 15 = 0
    drawLine(4, -3, 15, '#f472b6', '4x - 3y + 15 = 0', -4.5);
    // L2: 4x - 3y + 10.5 = 0 (the simplified form)
    drawLine(4, -3, 10.5, '#a78bfa', '8x - 6y + 21 = 0', 2);
    drawSquare();

    // Legend
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    const legendX = 15;
    const legendY = H - 60;

    ctx.fillStyle = '#f472b6';
    ctx.fillRect(legendX, legendY, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Prava l\u2081', legendX + 20, legendY + 5);

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(legendX, legendY + 18, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Prava l\u2082', legendX + 20, legendY + 23);

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legendX, legendY + 36, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Kvadrat', legendX + 20, legendY + 41);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Rastojanje paralelnih pravih i dijagonala kvadrata",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["analitiƒçka geometrija", "paralelne prave", "rastojanje izmeƒëu pravih", "kvadrat", "dijagonala"]
}
BRAINSPARK_META-->