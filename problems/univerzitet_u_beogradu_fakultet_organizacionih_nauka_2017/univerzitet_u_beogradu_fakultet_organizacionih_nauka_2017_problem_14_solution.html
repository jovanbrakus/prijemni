<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Obim trougla sa temenima na hiperboli i u žiži</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Prava p koja sadrži jednu žižu hiperbole 4x² - 5y² = 20 i normalna je na x-osu
seče hiperbolu u tačkama A i B. Obim trougla čija su temena A, B i žiža hiperbole
koja ne pripada pravoj p.

Options: A) 36/√5,  B) 20/√5,  C) 40/√5,  D) 28/√5,  E) 18

STEP 1: Standardni oblik hiperbole.
4x² - 5y² = 20  =>  x²/5 - y²/4 = 1
a² = 5, b² = 4
c² = a² + b² = 5 + 4 = 9  =>  c = 3
a = √5

Žiže: F₁(-3, 0) i F₂(3, 0)

STEP 2: Prava p je normalna na x-osu (dakle vertikalna) i sadrži jednu žižu.
Neka p: x = 3 (prolazi kroz F₂). Simetrija po y-osi daje isti rezultat za x = -3.

STEP 3: Presek prave p sa hiperbolom.
x = 3: 4(9) - 5y² = 20  =>  36 - 5y² = 20  =>  5y² = 16  =>  y² = 16/5
y = ±4/√5

A = (3, 4/√5), B = (3, -4/√5)

STEP 4: Druga žiža (ne pripada pravoj p) je F₁(-3, 0).
Trougao: A(3, 4/√5), B(3, -4/√5), F₁(-3, 0).

STEP 5: Dužina AB.
|AB| = |4/√5 - (-4/√5)| = 8/√5

STEP 6: Dužina AF₁ korišćenjem definicije hiperbole.
Za tačku A na desnoj grani: |AF₁| - |AF₂| = 2a = 2√5
|AF₂| = rastojanje od A(3, 4/√5) do F₂(3, 0) = 4/√5
|AF₁| = 2√5 + 4/√5 = (2·5 + 4)/√5 = 14/√5

STEP 7: Po simetriji (B je simetrično A u odnosu na x-osu):
|BF₁| = |AF₁| = 14/√5

STEP 8: Obim trougla.
O = |AB| + |AF₁| + |BF₁| = 8/√5 + 14/√5 + 14/√5 = 36/√5

VERIFICATION:
Direktno izračunavanje |AF₁|:
|AF₁| = √((3-(-3))² + (4/√5 - 0)²) = √(36 + 16/5) = √(180/5 + 16/5) = √(196/5) = 14/√5 ✓
|BF₁| = √(36 + 16/5) = 14/√5 ✓
O = 8/√5 + 14/√5 + 14/√5 = 36/√5 ✓

ANSWER: 36/√5, option A. CONFIRMED.

Additional check: 36/√5 ≈ 36/2.236 ≈ 16.1
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.82rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.plan-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.1rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
}

.theory-card ul {
  list-style: none;
  padding-left: 0;
  margin-top: 12px;
}

.theory-card li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(167,139,250,0.08);
  border-left: 3px solid #a78bfa;
  border-radius: 6px;
  line-height: 1.8;
}

.theory-card li strong {
  color: #a78bfa;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #94a3b8;
  font-size: 0.82rem;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  padding: 18px;
  border-radius: 10px;
  margin-bottom: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
  background: rgba(30,41,59,0.5);
}

.step:hover, .step.active {
  border-left: 3px solid #4ade80;
  background: rgba(30,41,59,0.9);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 6px;
  font-style: italic;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

details.checkpoint {
  margin: 18px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 8px;
  padding: 14px 18px;
}

details.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
}

details.checkpoint .answer {
  margin-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(96,165,250,0.12));
  border: 1px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #34d399;
}

.insight-formula {
  font-size: 1.3rem;
  margin: 16px 0;
}

.final-answer-card {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 1px solid rgba(52,211,153,0.35);
}

.final-answer-card h2 {
  color: #4ade80;
}

.final-answer-value {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 800;
  text-align: center;
  margin: 18px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 18px 0;
}

.final-option {
  padding: 10px 20px;
  border-radius: 8px;
  background: rgba(30,41,59,0.7);
  border: 1px solid #334155;
  color: #94a3b8;
  font-size: 1rem;
}

.final-option.correct {
  background: rgba(52,211,153,0.15);
  border: 2px solid #4ade80;
  color: #4ade80;
  font-weight: 700;
}

.verification {
  margin-top: 14px;
  padding: 14px;
  background: rgba(96,165,250,0.08);
  border-radius: 8px;
  border-left: 3px solid #60a5fa;
  color: #94a3b8;
  font-size: 0.92rem;
}

.pitfall-card {
  border-left: 3px solid #e09468;
}

.pitfall-card h2 {
  color: #e09468;
}

.pitfall-card ul {
  list-style: none;
  padding: 0;
}

.pitfall-card li {
  padding: 8px 14px;
  margin-bottom: 8px;
  background: rgba(224,148,104,0.08);
  border-radius: 6px;
  line-height: 1.6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .final-options { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Obim trougla na hiperboli</h1>
  <p class="subtitle">Analitička geometrija -- hiperbola, žiže, prava normalna na osu i obim trougla</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Prava \(p\) koja sadrži jednu žižu hiperbole \(4x^2 - 5y^2 = 20\) i normalna je na \(x\)-osu seče hiperbolu u tačkama \(A\) i \(B\). Obim trougla čija su temena tačke \(A\), \(B\) i žiža hiperbole koja ne pripada pravoj \(p\) je:
    </p>

    <div class="given-grid" style="margin-bottom: 18px;">
      <div class="given-item">
        <div class="label">Hiperbola</div>
        <div class="value">\(4x^2 - 5y^2 = 20\)</div>
      </div>
      <div class="given-item">
        <div class="label">Prava \(p\)</div>
        <div class="value">sadrži žižu, \(\perp\) na \(x\)-osu</div>
      </div>
      <div class="given-item">
        <div class="label">Traži se</div>
        <div class="value">Obim \(\triangle ABF'\)</div>
      </div>
    </div>

    <h3>Ponuđeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{36}{\sqrt{5}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{20}{\sqrt{5}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{40}{\sqrt{5}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{28}{\sqrt{5}}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(18\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Najpre ćemo svesti jednačinu hiperbole na kanonski oblik i odrediti parametre \(a\), \(b\) i \(c\) (žiže). Zatim ćemo naći presečne tačke vertikalne prave kroz žižu sa hiperbolom. Konačno, izračunaćemo obim trougla koristeći definiciju hiperbole za elegantno određivanje rastojanja.
    </p>
  </div>

  <!-- THEORY -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul>
        <li>
          <strong>Kanonski oblik hiperbole:</strong> \(\dfrac{x^2}{a^2} - \dfrac{y^2}{b^2} = 1\), gde je \(c^2 = a^2 + b^2\), a žiže su \(F_1(-c, 0)\) i \(F_2(c, 0)\).
        </li>
        <li>
          <strong>Definicija hiperbole:</strong> Za svaku tačku \(M\) na hiperboli važi \(\big||MF_1| - |MF_2|\big| = 2a\). Za tačke na desnoj grani: \(|MF_1| - |MF_2| = 2a\).
        </li>
        <li>
          <strong>Latus rectum (poluparametar):</strong> Tetiva hiperbole normalna na glavnu osu i kroz žižu ima dužinu \(\dfrac{2b^2}{a}\).
        </li>
        <li>
          <strong>Normala na osu:</strong> Prava normalna na \(x\)-osu je vertikalna prava oblika \(x = k\).
        </li>
      </ul>
    </details>
  </div>

  <!-- CANVAS DIAGRAM -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="900" height="580"></canvas>
    <p class="drag-hint">Hiperbola sa žižama, pravom \(p\) i trouglom \(ABF_1\)</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Svedimo hiperbolu na kanonski oblik</h3>
        <p>Podelimo obe strane jednačine sa 20:</p>
        <div class="math-block">
          \[4x^2 - 5y^2 = 20 \quad \Longrightarrow \quad \frac{x^2}{5} - \frac{y^2}{4} = 1\]
        </div>
        <p>Očitavamo parametre:</p>
        <div class="math-block">
          \[a^2 = 5, \quad b^2 = 4, \quad a = \sqrt{5}, \quad b = 2\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Odredimo žiže hiperbole</h3>
        <p>Linearni ekscentricitet \(c\) se računa iz veze:</p>
        <div class="math-block">
          \[c^2 = a^2 + b^2 = 5 + 4 = 9 \quad \Longrightarrow \quad c = 3\]
        </div>
        <p>Žiže hiperbole su:</p>
        <div class="math-block">
          \[F_1(-3,\; 0) \quad \text{i} \quad F_2(3,\; 0)\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koji je numerički ekscentricitet ove hiperbole?</summary>
      <div class="answer">
        \(e = \dfrac{c}{a} = \dfrac{3}{\sqrt{5}} = \dfrac{3\sqrt{5}}{5} \approx 1{,}342\). Pošto je \(e > 1\), potvrđujemo da je u pitanju hiperbola.
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Odredimo pravu \(p\)</h3>
        <p>Prava \(p\) sadrži jednu žižu i normalna je na \(x\)-osu, što znači da je vertikalna.</p>
        <p>Neka \(p\) prolazi kroz žižu \(F_2(3, 0)\). Tada je:</p>
        <div class="math-block">
          \[p: \quad x = 3\]
        </div>
        <p class="step-note">Zbog simetrije hiperbole po \(y\)-osi, izbor žiže ne utiče na konačan rezultat.</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Nađimo tačke \(A\) i \(B\)</h3>
        <p>Uvrstimo \(x = 3\) u jednačinu hiperbole:</p>
        <div class="math-block">
          \[4 \cdot 9 - 5y^2 = 20\]
        </div>
        <div class="math-block">
          \[36 - 5y^2 = 20\]
        </div>
        <div class="math-block">
          \[5y^2 = 16 \quad \Longrightarrow \quad y^2 = \frac{16}{5}\]
        </div>
        <div class="math-block">
          \[y = \pm \frac{4}{\sqrt{5}}\]
        </div>
        <p>Dakle, presečne tačke su:</p>
        <div class="math-block">
          \[A\!\left(3,\; \frac{4}{\sqrt{5}}\right) \quad \text{i} \quad B\!\left(3,\; -\frac{4}{\sqrt{5}}\right)\]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izračunajmo dužinu stranice \(|AB|\)</h3>
        <p>Tačke \(A\) i \(B\) imaju istu \(x\)-koordinatu, pa je rastojanje jednako razlici \(y\)-koordinata:</p>
        <div class="math-block">
          \[|AB| = \frac{4}{\sqrt{5}} - \left(-\frac{4}{\sqrt{5}}\right) = \frac{8}{\sqrt{5}}\]
        </div>
        <p class="step-note">Ovo je zapravo dužina latus rectum-a hiperbole: \(\dfrac{2b^2}{a} = \dfrac{2 \cdot 4}{\sqrt{5}} = \dfrac{8}{\sqrt{5}}\).</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko je \(\dfrac{8}{\sqrt{5}}\) približno?</summary>
      <div class="answer">
        \(\dfrac{8}{\sqrt{5}} \approx \dfrac{8}{2{,}236} \approx 3{,}578\).
      </div>
    </details>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izračunajmo \(|AF_2|\) i \(|BF_2|\)</h3>
        <p>Žiža \(F_2(3, 0)\) leži na pravoj \(p\), između tačaka \(A\) i \(B\). Rastojanja su:</p>
        <div class="math-block">
          \[|AF_2| = \left|\frac{4}{\sqrt{5}} - 0\right| = \frac{4}{\sqrt{5}}\]
        </div>
        <div class="math-block">
          \[|BF_2| = \left|-\frac{4}{\sqrt{5}} - 0\right| = \frac{4}{\sqrt{5}}\]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Primenimo definiciju hiperbole za \(|AF_1|\) i \(|BF_1|\)</h3>
        <p>Tačke \(A\) i \(B\) su na desnoj grani hiperbole (jer je \(x = 3 > 0\)), pa važi:</p>
        <div class="math-block">
          \[|AF_1| - |AF_2| = 2a = 2\sqrt{5}\]
        </div>
        <p>Odatle:</p>
        <div class="math-block">
          \[|AF_1| = 2\sqrt{5} + |AF_2| = 2\sqrt{5} + \frac{4}{\sqrt{5}}\]
        </div>
        <p>Svedimo na zajednički imenilac:</p>
        <div class="math-block">
          \[|AF_1| = \frac{2\sqrt{5} \cdot \sqrt{5}}{\sqrt{5}} + \frac{4}{\sqrt{5}} = \frac{10}{\sqrt{5}} + \frac{4}{\sqrt{5}} = \frac{14}{\sqrt{5}}\]
        </div>
        <p>Po simetriji hiperbole u odnosu na \(x\)-osu (tačka \(B\) je simetrična tački \(A\)):</p>
        <div class="math-block">
          \[|BF_1| = |AF_1| = \frac{14}{\sqrt{5}}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Direktno izračunaj \(|AF_1|\) formulom za rastojanje</summary>
      <div class="answer">
        \(|AF_1| = \sqrt{(3 - (-3))^2 + \left(\frac{4}{\sqrt{5}}\right)^2} = \sqrt{36 + \frac{16}{5}} = \sqrt{\frac{180 + 16}{5}} = \sqrt{\frac{196}{5}} = \frac{14}{\sqrt{5}}\). Poklapa se!
      </div>
    </details>

    <!-- Step 8 -->
    <div class="step" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Izračunajmo obim trougla</h3>
        <p>Trougao \(ABF_1\) ima stranice \(|AB|\), \(|AF_1|\) i \(|BF_1|\):</p>
        <div class="math-block">
          \[O = |AB| + |AF_1| + |BF_1|\]
        </div>
        <div class="math-block">
          \[O = \frac{8}{\sqrt{5}} + \frac{14}{\sqrt{5}} + \frac{14}{\sqrt{5}}\]
        </div>
        <div class="math-block">
          \[O = \frac{8 + 14 + 14}{\sqrt{5}} = \frac{36}{\sqrt{5}}\]
        </div>
      </div>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Umesto da računamo rastojanje \(|AF_1|\) direktno (što zahteva korene), iskoristili smo definiciju hiperbole: \(|AF_1| - |AF_2| = 2a\). Pošto je \(|AF_2|\) trivijalno (tačka i žiža dele istu \(x\)-koordinatu), odmah dobijamo \(|AF_1|\).</p>
    <div class="insight-formula">
      \[O = \frac{2b^2}{a} + 2\!\left(\frac{2b^2}{a \cdot 2} + 2a\right) = \frac{2b^2}{a} + \frac{2b^2}{a} + 4a = \frac{4b^2 + 4a^2}{a} = \frac{4(a^2 + b^2)}{a} = \frac{4c^2}{a} = \frac{36}{\sqrt{5}}\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \(\dfrac{36}{\sqrt{5}}\)
    </div>
    <div class="final-options">
      <div class="final-option correct">
        (A) \(\dfrac{36}{\sqrt{5}}\)
      </div>
      <div class="final-option">
        (B) \(\dfrac{20}{\sqrt{5}}\)
      </div>
      <div class="final-option">
        (C) \(\dfrac{40}{\sqrt{5}}\)
      </div>
      <div class="final-option">
        (D) \(\dfrac{28}{\sqrt{5}}\)
      </div>
      <div class="final-option">
        (E) \(18\)
      </div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Direktnim izračunavanjem: \(|AF_1| = \sqrt{36 + \frac{16}{5}} = \sqrt{\frac{196}{5}} = \frac{14}{\sqrt{5}}\), \(|BF_1| = \frac{14}{\sqrt{5}}\), \(|AB| = \frac{8}{\sqrt{5}}\). Zbir: \(\frac{14 + 14 + 8}{\sqrt{5}} = \frac{36}{\sqrt{5}} \approx 16{,}1\). Odgovor je opcija (A).
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card pitfall-card">
    <h2>Česte greške</h2>
    <ul>
      <li>
        <strong>Mešanje \(a^2\) i \(b^2\):</strong> U jednačini \(\frac{x^2}{5} - \frac{y^2}{4} = 1\), veći broj (5) je \(a^2\), ne \(b^2\). Kod hiperbole, \(a^2\) je uvek ispod pozitivnog člana, bez obzira na veličinu.
      </li>
      <li>
        <strong>Pogrešan predznak u definiciji hiperbole:</strong> Za tačke na desnoj grani važi \(|MF_1| - |MF_2| = +2a\) (bliža žiža daje manje rastojanje). Zamena znaka dovodi do pogrešnog rezultata.
      </li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Kolika je površina trougla \(ABF_1\)?</p>
    <details>
      <summary>Otkrij nagoveštaj</summary>
      <p style="margin-top: 10px; color: #94a3b8;">
        Trougao ima osnovu \(|AB| = \frac{8}{\sqrt{5}}\) i odgovarajuću visinu jednaku horizontalnom rastojanju od \(F_1\) do prave \(p\), tj. \(|F_1F_2| = 6\). Primeni formulu \(P = \frac{1}{2} \cdot |AB| \cdot h = \frac{1}{2} \cdot \frac{8}{\sqrt{5}} \cdot 6 = \frac{24}{\sqrt{5}}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // --- Step click highlight ---
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // --- Canvas Diagram: Hyperbola, foci, line p, points A, B, triangle ---
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Math coordinates -> canvas coordinates
  const originX = W * 0.48;
  const originY = H * 0.50;
  const scale = 55; // pixels per unit

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function drawBackground() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    // Vertical grid lines
    for (let mx = -8; mx <= 8; mx++) {
      const p = toCanvas(mx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    // Horizontal grid lines
    for (let my = -5; my <= 5; my++) {
      const p = toCanvas(0, my);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;

    // X-axis
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();

    // Y-axis
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - 15, originY - 10);
    ctx.fillText('y', originX + 14, 18);

    // Tick marks
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    for (let mx = -7; mx <= 7; mx++) {
      if (mx === 0) continue;
      const p = toCanvas(mx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, originY - 4);
      ctx.lineTo(p.x, originY + 4);
      ctx.stroke();
      ctx.fillText(String(mx), p.x, originY + 18);
    }
    for (let my = -4; my <= 4; my++) {
      if (my === 0) continue;
      const p = toCanvas(0, my);
      ctx.beginPath();
      ctx.moveTo(originX - 4, p.y);
      ctx.lineTo(originX + 4, p.y);
      ctx.stroke();
      ctx.textAlign = 'right';
      ctx.fillText(String(my), originX - 8, p.y + 4);
    }
    ctx.textAlign = 'center';
    ctx.fillText('O', originX - 12, originY + 18);
  }

  function drawHyperbola() {
    const a2 = 5;
    const b2 = 4;
    const a = Math.sqrt(a2);

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;

    // Right branch
    ctx.beginPath();
    let first = true;
    for (let t = -2.5; t <= 2.5; t += 0.02) {
      const xm = a * Math.cosh(t);
      const ym = Math.sqrt(b2) * Math.sinh(t);
      const p = toCanvas(xm, ym);
      if (p.x > W + 10 || p.x < -10 || p.y > H + 10 || p.y < -10) { first = true; continue; }
      if (first) { ctx.moveTo(p.x, p.y); first = false; }
      else ctx.lineTo(p.x, p.y);
    }
    ctx.stroke();

    // Left branch
    ctx.beginPath();
    first = true;
    for (let t = -2.5; t <= 2.5; t += 0.02) {
      const xm = -a * Math.cosh(t);
      const ym = Math.sqrt(b2) * Math.sinh(t);
      const p = toCanvas(xm, ym);
      if (p.x > W + 10 || p.x < -10 || p.y > H + 10 || p.y < -10) { first = true; continue; }
      if (first) { ctx.moveTo(p.x, p.y); first = false; }
      else ctx.lineTo(p.x, p.y);
    }
    ctx.stroke();

    // Asymptotes (dashed)
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.2)';
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 6]);
    const slope = Math.sqrt(b2 / a2); // b/a = 2/sqrt(5)
    // y = (b/a)x
    let p1 = toCanvas(-8, -8 * slope);
    let p2 = toCanvas(8, 8 * slope);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
    // y = -(b/a)x
    p1 = toCanvas(-8, 8 * slope);
    p2 = toCanvas(8, -8 * slope);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawFoci() {
    const foci = [
      { x: -3, y: 0, label: 'F\u2081(-3, 0)', color: '#f472b6' },
      { x: 3, y: 0, label: 'F\u2082(3, 0)', color: '#a78bfa' }
    ];

    foci.forEach(f => {
      const p = toCanvas(f.x, f.y);

      // Glow
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 18);
      grad.addColorStop(0, f.color + '66');
      grad.addColorStop(1, 'transparent');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 18, 0, Math.PI * 2);
      ctx.fill();

      // Point
      ctx.fillStyle = f.color;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 6, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = f.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(f.label, p.x, p.y + 24);
    });
  }

  function drawLineP() {
    const p1 = toCanvas(3, -5);
    const p2 = toCanvas(3, 5);

    ctx.strokeStyle = 'rgba(167, 139, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([8, 5]);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const labelP = toCanvas(3.2, 4.2);
    ctx.fillText('p: x = 3', labelP.x, labelP.y);
  }

  function drawPointsAB() {
    const yVal = 4 / Math.sqrt(5);
    const points = [
      { x: 3, y: yVal, label: 'A(3, 4/\u221A5)', above: true },
      { x: 3, y: -yVal, label: 'B(3, -4/\u221A5)', above: false }
    ];

    points.forEach(pt => {
      const p = toCanvas(pt.x, pt.y);

      // Glow
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 16);
      grad.addColorStop(0, '#4ade8066');
      grad.addColorStop(1, 'transparent');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 16, 0, Math.PI * 2);
      ctx.fill();

      // Point
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
      ctx.fill();
      ctx.strokeStyle = '#0c1222';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      const offsetY = pt.above ? -14 : 20;
      ctx.fillText(pt.label, p.x + 10, p.y + offsetY);
    });
  }

  function drawTriangle() {
    const yVal = 4 / Math.sqrt(5);
    const A = toCanvas(3, yVal);
    const B = toCanvas(3, -yVal);
    const F1 = toCanvas(-3, 0);

    // Fill triangle
    ctx.fillStyle = 'rgba(52, 211, 153, 0.08)';
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(F1.x, F1.y);
    ctx.closePath();
    ctx.fill();

    // Triangle edges
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(F1.x, F1.y);
    ctx.closePath();
    ctx.stroke();

    // Edge labels
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';

    // |AB| label
    const midAB = { x: A.x + 12, y: (A.y + B.y) / 2 };
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'left';
    ctx.fillText('|AB| = 8/\u221A5', midAB.x, midAB.y);

    // |AF1| label
    const midAF1 = { x: (A.x + F1.x) / 2, y: (A.y + F1.y) / 2 };
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'center';
    ctx.fillText('|AF\u2081| = 14/\u221A5', midAF1.x, midAF1.y - 10);

    // |BF1| label
    const midBF1 = { x: (B.x + F1.x) / 2, y: (B.y + F1.y) / 2 };
    ctx.fillText('|BF\u2081| = 14/\u221A5', midBF1.x, midBF1.y + 20);
  }

  function drawInfoPanel() {
    const panelX = 14;
    const panelY = 14;
    const panelW = 210;
    const panelH = 160;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.85)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(panelX, panelY, panelW, panelH, 10);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Parametri hiperbole', panelX + 12, panelY + 24);

    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#e2e8f0';
    const lines = [
      'a\u00B2 = 5,  b\u00B2 = 4,  c = 3',
      'F\u2081(-3, 0),  F\u2082(3, 0)',
      'A(3, 4/\u221A5),  B(3, -4/\u221A5)',
      '',
      '|AB| = 8/\u221A5',
      '|AF\u2081| = |BF\u2081| = 14/\u221A5',
    ];
    let ty = panelY + 48;
    lines.forEach(line => {
      if (line === '') { ty += 8; return; }
      ctx.fillText(line, panelX + 12, ty);
      ty += 20;
    });

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('O = 36/\u221A5', panelX + 12, ty + 4);
  }

  function drawHyperbolaLabel() {
    ctx.fillStyle = 'rgba(96, 165, 250, 0.7)';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const p = toCanvas(4.3, 3.6);
    ctx.fillText('x\u00B2/5 - y\u00B2/4 = 1', p.x, p.y);
  }

  function draw() {
    drawBackground();
    drawGrid();
    drawAxes();
    drawHyperbola();
    drawLineP();
    drawTriangle();
    drawFoci();
    drawPointsAB();
    drawInfoPanel();
    drawHyperbolaLabel();
  }

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Obim trougla na hiperboli sa temenima u presecima i žiži",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["hiperbola", "analitička geometrija", "žiže", "obim trougla", "konike"]
}
BRAINSPARK_META-->