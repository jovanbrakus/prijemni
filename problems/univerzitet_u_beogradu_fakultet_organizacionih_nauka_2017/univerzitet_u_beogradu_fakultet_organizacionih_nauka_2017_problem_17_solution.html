<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binomni razvoj - Sabirak nezavisan od x</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
If the sum of all binomial coefficients of the expansion (1/x + 2x)^n, x != 0, equals 2^12,
find the term that does not depend on x.

Options: A) 462, B) 924, C) 64, D) 2^7 * 231, E) 2^8 * 231

STEP 1: Find n.
The sum of all binomial coefficients C(n,0) + C(n,1) + ... + C(n,n) = 2^n.
Given that this sum equals 2^12, we get n = 12.

Note: "sum of binomial coefficients" means the sum of C(n,k) for k=0..n,
NOT the sum of the actual terms of the expansion. The binomial coefficients
are the C(n,k) values themselves. Their sum is always 2^n.

STEP 2: Write the general term of (1/x + 2x)^12.
By the binomial theorem:
T_{k+1} = C(12, k) * (1/x)^{12-k} * (2x)^k
        = C(12, k) * x^{-(12-k)} * 2^k * x^k
        = C(12, k) * 2^k * x^{k - (12 - k)}
        = C(12, k) * 2^k * x^{2k - 12}

STEP 3: Find k such that the term is independent of x.
Set the exponent of x to 0:
2k - 12 = 0
k = 6

STEP 4: Calculate the term for k = 6.
T_7 = C(12, 6) * 2^6

C(12, 6) = 12! / (6! * 6!)
         = (12 * 11 * 10 * 9 * 8 * 7) / (6 * 5 * 4 * 3 * 2 * 1)
         = 665280 / 720
         = 924

2^6 = 64

T_7 = 924 * 64 = 59136

STEP 5: Match with options.
924 = 4 * 231 = 2^2 * 231
T_7 = 2^2 * 231 * 2^6 = 2^8 * 231 = 256 * 231 = 59136

ANSWER: E) 2^8 * 231

VERIFICATION:
- Check: 2^8 * 231 = 256 * 231 = 59136
- Check: C(12,6) * 2^6 = 924 * 64 = 59136 ✓
- A) 462 = C(12,6)/2 — wrong
- B) 924 = C(12,6) without 2^6 factor — wrong
- C) 64 = 2^6 without C(12,6) — wrong
- D) 2^7 * 231 = 128 * 231 = 29568 — wrong
- E) 2^8 * 231 = 256 * 231 = 59136 ✓ CORRECT
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #cbd5e1;
  font-size: 1.05rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  font-size: 1.1rem;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details .theory-content {
  padding: 16px 0 8px 0;
}

details .theory-content ul {
  list-style: none;
  padding-left: 0;
}

details .theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid #334155;
  color: #cbd5e1;
}

details .theory-content li:last-child {
  border-bottom: none;
}

.canvas-container {
  text-align: center;
  margin: 16px 0;
}

.canvas-container canvas {
  border-radius: 12px;
  border: 1px solid #334155;
  touch-action: none;
  max-width: 100%;
}

.drag-hint {
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 8px;
  font-style: italic;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.step-container:hover,
.step-container.active {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 10px;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 15px 0;
  padding: 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
  padding: 10px 16px;
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.15);
  border-radius: 8px;
  list-style: none;
}

.checkpoint summary::-webkit-details-marker {
  display: none;
}

.checkpoint summary::before {
  content: "  ";
  margin-right: 6px;
}

.checkpoint .checkpoint-answer {
  padding: 12px 16px;
  margin-top: 6px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-box .insight-formula {
  font-size: 1.3rem;
  color: #e2e8f0;
  margin: 12px 0;
}

.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}

.final-answer-card h2 {
  color: #4ade80;
}

.final-answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 20px;
  text-align: center;
  min-width: 90px;
  transition: all 0.2s;
}

.option-card.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #4ade80;
  box-shadow: 0 0 20px rgba(52, 211, 153, 0.2);
}

.option-card .opt-label {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #4ade80;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 16px;
  text-align: left;
  padding: 14px;
  background: rgba(51, 65, 85, 0.3);
  border-radius: 8px;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid #334155;
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-list li::before {
  content: "  ";
  color: #e09468;
  margin-right: 8px;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .options-row { flex-direction: column; align-items: center; }
  .container { padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Binomni razvoj - Sabirak nezavisan od promenljive</h1>
  <p class="subtitle">Kombinatorika / Binomna teorema i opsti clan razvoja</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ako je zbir svih binomnih koeficijenata razvoja</p>
    <div class="math-block">
      \[ \left(\frac{1}{x} + 2x\right)^n, \quad x \neq 0 \]
    </div>
    <p>jednak \(2^{12}\), onda sabirak koji ne zavisi od \(x\) iznosi:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(462\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(924\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(64\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(2^7 \cdot 231\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2^8 \cdot 231\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Iz uslova o zbiru binomnih koeficijenata odredimo \(n\). Zatim napisemo opsti clan binomnog razvoja, nadjemo koji clan ne zavisi od \(x\) (eksponent od \(x\) jednak nuli), i izracunamo njegovu vrednost.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Binomna teorema:</strong> \(\displaystyle (a + b)^n = \sum_{k=0}^{n} \binom{n}{k}\, a^{n-k}\, b^k\)</li>
          <li><strong>Zbir binomnih koeficijenata:</strong> \(\displaystyle \sum_{k=0}^{n} \binom{n}{k} = 2^n\). Ovo se dobija zamenom \(a = 1\) i \(b = 1\) u binomnoj teoremi.</li>
          <li><strong>Opsti clan razvoja \((a+b)^n\):</strong> \(\displaystyle T_{k+1} = \binom{n}{k}\, a^{n-k}\, b^k\), gde \(k = 0, 1, \ldots, n\).</li>
          <li><strong>Binomni koeficijent:</strong> \(\displaystyle \binom{n}{k} = \frac{n!}{k!\,(n-k)!}\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">Paskalaov trougao prikazuje binomne koeficijente. Red \(n = 12\) sadrzi koeficijent \(\binom{12}{6} = 924\) koji ucestvuje u izrazu za sabirak nezavisan od \(x\).</p>
    <div class="canvas-container">
      <canvas id="mainCanvas" width="700" height="480"></canvas>
      <p class="drag-hint">Paskalov trougao sa istaknutim redom n = 12 i koeficijentom C(12, 6)</p>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredjivanje vrednosti \(n\)</h3>
        <p>Zbir svih binomnih koeficijenata razvoja \((a + b)^n\) jednak je:</p>
        <div class="math-block">
          \[ \sum_{k=0}^{n} \binom{n}{k} = 2^n \]
        </div>
        <p>Po uslovu zadatka, ovaj zbir iznosi \(2^{12}\). Dakle:</p>
        <div class="math-block">
          \[ 2^n = 2^{12} \implies n = 12 \]
        </div>
        <p class="note">Napomena: zbir binomnih koeficijenata ne zavisi od toga sta su \(a\) i \(b\) - uvek je \(2^n\).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Pisanje opsteg clana razvoja</h3>
        <p>Primenjujemo binomnu teoremu na \(\left(\dfrac{1}{x} + 2x\right)^{12}\). Opsti clan je:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{12}{k} \cdot \left(\frac{1}{x}\right)^{12-k} \cdot (2x)^k \]
        </div>
        <p>Raspisemo stepene:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{12}{k} \cdot x^{-(12-k)} \cdot 2^k \cdot x^k \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Sazimanje stepena od \(x\)</h3>
        <p>Kombinujemo eksponente od \(x\):</p>
        <div class="math-block">
          \[ x^{-(12-k)} \cdot x^k = x^{-(12-k)+k} = x^{2k - 12} \]
        </div>
        <p>Opsti clan dobija oblik:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{12}{k} \cdot 2^k \cdot x^{2k - 12} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliki je eksponent od \(x\) u clanu za \(k = 3\)?</summary>
      <div class="checkpoint-answer">Za \(k = 3\): eksponent je \(2 \cdot 3 - 12 = -6\), dakle \(x^{-6}\).</div>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Uslov da clan ne zavisi od \(x\)</h3>
        <p>Sabirak ne zavisi od \(x\) kada je eksponent od \(x\) jednak nuli:</p>
        <div class="math-block">
          \[ 2k - 12 = 0 \]
        </div>
        <p>Resavamo po \(k\):</p>
        <div class="math-block">
          \[ 2k = 12 \implies k = 6 \]
        </div>
        <p class="note">Dakle, trazeni sabirak je sedmi clan razvoja (\(T_7\), jer je \(k+1 = 7\)).</p>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Racunanje binomnog koeficijenta \(\binom{12}{6}\)</h3>
        <p>Koristimo formulu:</p>
        <div class="math-block">
          \[ \binom{12}{6} = \frac{12!}{6! \cdot 6!} \]
        </div>
        <p>Skracujemo:</p>
        <div class="math-block">
          \[ \binom{12}{6} = \frac{12 \cdot 11 \cdot 10 \cdot 9 \cdot 8 \cdot 7}{6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1} = \frac{665\,280}{720} = 924 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliko iznosi \(2^6\)?</summary>
      <div class="checkpoint-answer">\(2^6 = 64\)</div>
    </details>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izracunavanje trazenog sabirka</h3>
        <p>Zamenjujemo \(k = 6\) u opsti clan (uz \(x^0 = 1\)):</p>
        <div class="math-block">
          \[ T_7 = \binom{12}{6} \cdot 2^6 = 924 \cdot 64 \]
        </div>
        <p>Racunamo proizvod:</p>
        <div class="math-block">
          \[ 924 \cdot 64 = 59\,136 \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Svodjenje na oblik iz ponudjenih odgovora</h3>
        <p>Rastavimo 924 na proste cinioce:</p>
        <div class="math-block">
          \[ 924 = 4 \cdot 231 = 2^2 \cdot 231 \]
        </div>
        <p>Sada mnozimo:</p>
        <div class="math-block">
          \[ T_7 = 2^2 \cdot 231 \cdot 2^6 = 2^{2+6} \cdot 231 = 2^8 \cdot 231 \]
        </div>
        <p class="note">Proveravamo: \(2^8 \cdot 231 = 256 \cdot 231 = 59\,136\). Sve se poklapa.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zasto odgovor B) 924 nije tacan?</summary>
      <div class="checkpoint-answer">Odgovor 924 je samo binomni koeficijent \(\binom{12}{6}\). Medjutim, opsti clan sadrzi i faktor \(2^k = 2^6 = 64\), koji ne smemo zaboraviti. Tacan rezultat je \(924 \cdot 64 = 2^8 \cdot 231\).</div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p style="color: #cbd5e1;">Clan koji ne zavisi od \(x\) nastaje kada se eksponenti od \(x\) medjusobno poniste. Kljucno je ne zaboraviti faktor \(2^k\) koji dolazi iz koeficijenta \(2\) ispred \(x\) u binomnom razvoju!</p>
    <div class="insight-formula">
      \[ T_7 = \binom{12}{6} \cdot 2^6 = 924 \cdot 64 = 2^8 \cdot 231 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">
      \(2^8 \cdot 231\)
    </div>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div>\(462\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div>\(924\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\(64\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div>\(2^7 \cdot 231\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(E)</div>
        <div>\(2^8 \cdot 231\)</div>
      </div>
    </div>
    <div class="verification-note">
      <strong>Verifikacija:</strong>
      <ul style="margin-top: 8px; padding-left: 20px; list-style: disc;">
        <li>\(n = 12\) jer je zbir binomnih koeficijenata \(2^{12}\)</li>
        <li>Opsti clan: \(T_{k+1} = \binom{12}{k} \cdot 2^k \cdot x^{2k-12}\)</li>
        <li>Za \(k = 6\): eksponent od \(x\) je \(2 \cdot 6 - 12 = 0\) (ne zavisi od \(x\))</li>
        <li>\(T_7 = \binom{12}{6} \cdot 2^6 = 924 \cdot 64 = 59\,136 = 2^8 \cdot 231\)</li>
      </ul>
      <p style="margin-top: 8px;">Rezultat se poklapa sa opcijom (E).</p>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>Zaboravljanje faktora \(2^k\) u opstem clanu. Razvoj sadrzi \((2x)^k\), ne samo \(x^k\). Ako se izostavi dvojka, dobija se 924 umesto tacnog rezultata - sto je upravo zamka u odgovoru B).</li>
      <li>Pogresno tumacenje "zbira binomnih koeficijenata". Binomni koeficijenti su \(\binom{n}{k}\), a ne kompletni clanovi razvoja. Njihov zbir je uvek \(2^n\), bez obzira na konkretne vrednosti \(a\) i \(b\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p style="color: #cbd5e1;">U razvoju \(\left(\dfrac{1}{x^2} + 2x\right)^{9}\), pronadji sabirak koji ne zavisi od \(x\).</p>
    <details style="margin: 15px 0;">
      <summary style="color: #f472b6; cursor: pointer;">Prikazi nagovestaj</summary>
      <p style="padding: 12px 0; color: #cbd5e1;">Opsti clan je \(T_{k+1} = \binom{9}{k} \cdot 2^k \cdot x^{3k - 18}\). Postavi eksponent \(3k - 18 = 0\) da nadjes \(k\), a zatim izracunaj vrednost tog clana.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Main canvas - Pascal's triangle visualization
  const mainCanvas = document.getElementById('mainCanvas');
  if (mainCanvas) {
    const ctx = mainCanvas.getContext('2d');
    const W = mainCanvas.width;
    const H = mainCanvas.height;

    function drawPascal() {
      ctx.clearRect(0, 0, W, H);

      // Background
      ctx.fillStyle = '#0f172a';
      ctx.fillRect(0, 0, W, H);

      // Grid
      ctx.strokeStyle = '#1e293b';
      ctx.lineWidth = 0.5;
      for (let i = 0; i < W; i += 40) {
        ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, H); ctx.stroke();
      }
      for (let i = 0; i < H; i += 40) {
        ctx.beginPath(); ctx.moveTo(0, i); ctx.lineTo(W, i); ctx.stroke();
      }

      // Title
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI';
      ctx.textAlign = 'center';
      ctx.fillText('Paskalov trougao (redovi n = 0 do n = 12)', W / 2, 22);

      // Build Pascal's triangle up to row 12
      var triangle = [];
      for (var n = 0; n <= 12; n++) {
        triangle[n] = [];
        for (var k = 0; k <= n; k++) {
          if (k === 0 || k === n) {
            triangle[n][k] = 1;
          } else {
            triangle[n][k] = triangle[n-1][k-1] + triangle[n-1][k];
          }
        }
      }

      // Draw rows
      var startY = 42;
      var rowHeight = 33;
      var centerX = W / 2;

      for (var n = 0; n <= 12; n++) {
        var y = startY + n * rowHeight;
        var numItems = n + 1;

        // Determine spacing based on row
        var spacing;
        if (n <= 6) {
          spacing = 52;
        } else if (n <= 9) {
          spacing = 48;
        } else {
          spacing = 44;
        }

        var totalWidth = (numItems - 1) * spacing;
        var startX = centerX - totalWidth / 2;

        // Row label
        ctx.fillStyle = '#475569';
        ctx.font = '10px Segoe UI';
        ctx.textAlign = 'right';
        ctx.fillText('n=' + n, startX - 16, y + 5);

        for (var k = 0; k <= n; k++) {
          var x = startX + k * spacing;
          var val = triangle[n][k];

          // Determine styling
          var isHighlightRow = (n === 12);
          var isSpecialCell = (n === 12 && k === 6);

          if (isSpecialCell) {
            // Highlighted cell: C(12,6) = 924
            var grad = ctx.createRadialGradient(x, y, 0, x, y, 22);
            grad.addColorStop(0, 'rgba(74, 222, 128, 0.3)');
            grad.addColorStop(1, 'rgba(74, 222, 128, 0.05)');
            ctx.fillStyle = grad;
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, 2 * Math.PI);
            ctx.fill();

            ctx.strokeStyle = '#4ade80';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(x, y, 20, 0, 2 * Math.PI);
            ctx.stroke();

            ctx.fillStyle = '#4ade80';
            ctx.font = 'bold 12px Courier New';
            ctx.textAlign = 'center';
            ctx.fillText(val.toString(), x, y + 4);
          } else if (isHighlightRow) {
            // Row n=12 cells
            ctx.fillStyle = '#60a5fa';
            ctx.font = '10px Courier New';
            ctx.textAlign = 'center';
            ctx.fillText(val.toString(), x, y + 4);
          } else if (n <= 8) {
            // Normal cells for small rows
            ctx.fillStyle = '#64748b';
            ctx.font = '11px Courier New';
            ctx.textAlign = 'center';
            ctx.fillText(val.toString(), x, y + 4);
          }
          // Skip drawing values for rows 9-11 to avoid clutter (they're transitional)
          else {
            ctx.fillStyle = '#475569';
            ctx.font = '9px Courier New';
            ctx.textAlign = 'center';
            if (val < 1000) {
              ctx.fillText(val.toString(), x, y + 4);
            } else {
              // Abbreviate large numbers
              ctx.fillText(val.toString(), x, y + 4);
            }
          }
        }
      }

      // Annotation arrow pointing to C(12,6)
      var targetY = startY + 12 * rowHeight;
      var arrowX = centerX + 160;
      var arrowY = targetY - 30;

      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([4, 3]);
      ctx.beginPath();
      ctx.moveTo(arrowX, arrowY);
      ctx.lineTo(centerX + 12, targetY - 12);
      ctx.stroke();
      ctx.setLineDash([]);

      // Annotation text
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI';
      ctx.textAlign = 'left';
      ctx.fillText('C(12, 6) = 924', arrowX + 4, arrowY - 2);

      // Bottom info
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI';
      ctx.textAlign = 'center';
      ctx.fillText('Zbir reda n = 12:  C(12,0) + C(12,1) + ... + C(12,12) = 2\u00B9\u00B2 = 4096', W / 2, H - 30);

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI';
      ctx.fillText('Trazeni sabirak: C(12, 6) \u00B7 2\u2076 = 924 \u00B7 64 = 2\u2078 \u00B7 231', W / 2, H - 10);

      ctx.textAlign = 'start';
    }

    drawPascal();
  }

  // Step click highlighting
  document.querySelectorAll('.step-container').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });
})();
</script>
</div>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Binomni razvoj - Sabirak nezavisan od promenljive",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["binomna teorema", "binomni koeficijenti", "opsti clan razvoja", "Paskalov trougao", "kombinatorika"]
}
BRAINSPARK_META-->