<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stepeni kompleksnih brojeva i periodiƒçnost</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: If n is a natural number, f(n) = ((1+i)/sqrt(2))^n + ((1-i)/sqrt(2))^n and i^2 = -1,
  find f(2017) + f(2013).

  Options: A) sqrt(2), B) 0, C) 4i, D) -2*sqrt(2), E) 2*sqrt(2)

  ============================================
  STEP 1: Convert to polar (trigonometric) form
  ============================================

  z1 = (1 + i) / sqrt(2)
  |1 + i| = sqrt(1^2 + 1^2) = sqrt(2)
  |z1| = sqrt(2) / sqrt(2) = 1
  arg(z1) = arctan(1/1) = pi/4

  So z1 = cos(pi/4) + i*sin(pi/4) = e^(i*pi/4)

  z2 = (1 - i) / sqrt(2)
  |z2| = 1
  arg(z2) = -pi/4

  So z2 = cos(pi/4) - i*sin(pi/4) = e^(-i*pi/4)

  Note: z1 and z2 are complex conjugates, both on the unit circle.

  ============================================
  STEP 2: Apply De Moivre's theorem
  ============================================

  z1^n = (e^(i*pi/4))^n = e^(i*n*pi/4) = cos(n*pi/4) + i*sin(n*pi/4)
  z2^n = (e^(-i*pi/4))^n = e^(-i*n*pi/4) = cos(n*pi/4) - i*sin(n*pi/4)

  f(n) = z1^n + z2^n = 2*cos(n*pi/4)

  The imaginary parts cancel! f(n) is always real.

  ============================================
  STEP 3: Compute f(2017) and f(2013)
  ============================================

  cos(n*pi/4) is periodic with period 8 (since cos has period 2*pi, and 2*pi/(pi/4) = 8).

  2017 mod 8:
  2017 / 8 = 252 remainder 1
  2017 = 252 * 8 + 1
  So 2017 mod 8 = 1

  f(2017) = 2*cos(1*pi/4) = 2*(sqrt(2)/2) = sqrt(2)

  2013 mod 8:
  2013 / 8 = 251 remainder 5
  2013 = 251 * 8 + 5
  So 2013 mod 8 = 5

  f(2013) = 2*cos(5*pi/4) = 2*(-sqrt(2)/2) = -sqrt(2)

  ============================================
  STEP 4: Final answer
  ============================================

  f(2017) + f(2013) = sqrt(2) + (-sqrt(2)) = 0

  ANSWER: B) 0

  ============================================
  VERIFICATION
  ============================================

  Let's verify with small values:
  f(1) = 2*cos(pi/4) = sqrt(2)
  f(2) = 2*cos(pi/2) = 0
  f(3) = 2*cos(3pi/4) = -sqrt(2)
  f(4) = 2*cos(pi) = -2
  f(5) = 2*cos(5pi/4) = -sqrt(2)
  f(6) = 2*cos(3pi/2) = 0
  f(7) = 2*cos(7pi/4) = sqrt(2)
  f(8) = 2*cos(2pi) = 2

  Verify f(1) directly:
  (1+i)/sqrt(2) + (1-i)/sqrt(2) = 2/sqrt(2) = sqrt(2). Correct!

  Verify f(2) directly:
  ((1+i)/sqrt(2))^2 = (1+i)^2/2 = (1+2i-1)/2 = 2i/2 = i
  ((1-i)/sqrt(2))^2 = (1-i)^2/2 = (1-2i-1)/2 = -2i/2 = -i
  f(2) = i + (-i) = 0. Correct!

  Pattern: period 8, values are sqrt(2), 0, -sqrt(2), -2, -sqrt(2), 0, sqrt(2), 2

  Note that 2017 mod 8 = 1 and 2013 mod 8 = 5.
  f(n mod 8 = 1) = sqrt(2), f(n mod 8 = 5) = -sqrt(2)
  Sum = 0. Confirmed.

  Also note: 2017 - 2013 = 4, and f(n) + f(n+4) is always 0!
  (Because cos(x) + cos(x + pi) = 0 for any x, and shifting n by 4 adds 4*pi/4 = pi to the argument.)
  Wait, actually: f(n+4) = 2*cos((n+4)*pi/4) = 2*cos(n*pi/4 + pi) = -2*cos(n*pi/4) = -f(n)
  So f(n) + f(n+4) = 0 for ALL n. This is a beautiful insight!

  More precisely here: f(2017) + f(2013). Note 2017 = 2013 + 4.
  So f(2017) = f(2013 + 4) = -f(2013), hence f(2017) + f(2013) = 0.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 120px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
}

.answer-option {
  text-align: center;
  min-width: 120px;
  cursor: default;
}

.func-card {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid rgba(96, 165, 250, 0.12);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-size: 1.05rem;
}

.plan-text {
  font-size: 1.05rem;
  line-height: 1.8;
  color: #cbd5e1;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-size: 1.1rem;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 10px 16px;
  margin-bottom: 8px;
  background: rgba(96, 165, 250, 0.06);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  line-height: 1.8;
}

.step-container {
  margin-bottom: 20px;
  padding: 20px;
  padding-left: 24px;
  border-left: 3px solid transparent;
  border-radius: 12px;
  background: rgba(96, 165, 250, 0.03);
  transition: border-color 0.3s, background 0.3s;
}

.step-container:hover {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-header {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 12px;
}

.step-badge {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  color: #e2e8f0;
  font-weight: 600;
}

.step-text {
  margin-left: 46px;
  color: #cbd5e1;
  line-height: 1.8;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  font-size: 1.05rem;
  overflow-x: auto;
}

.step-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 8px;
  font-style: italic;
}

.highlight-result {
  color: #4ade80;
  font-weight: 600;
}

.checkpoint {
  margin: 15px 0;
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 1rem;
}

.checkpoint-content {
  margin-top: 10px;
  color: #cbd5e1;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-title {
  color: #a78bfa;
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.3rem;
  color: #4ade80;
  margin: 12px 0;
}

.final-answer-card {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.1));
  border: 2px solid rgba(74, 222, 128, 0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-value {
  color: #4ade80;
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 16px;
}

.options-review {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.option-pill {
  padding: 8px 18px;
  border-radius: 20px;
  font-size: 0.95rem;
  border: 1px solid #334155;
  background: rgba(30, 41, 59, 0.8);
  color: #94a3b8;
}

.option-pill.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.15);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  line-height: 1.7;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 12px 16px;
  margin-bottom: 8px;
  background: rgba(224, 148, 104, 0.08);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #cbd5e1;
  line-height: 1.7;
}

.pitfall-label {
  color: #e09468;
  font-weight: 600;
}

.canvas-card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 24px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.canvas-card canvas {
  border-radius: 12px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.challenge-card {
  background: rgba(167, 139, 250, 0.06);
  border: 1px solid rgba(167, 139, 250, 0.2);
}

.period-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
}

.period-table th, .period-table td {
  padding: 8px 12px;
  text-align: center;
  border: 1px solid #334155;
  font-size: 0.95rem;
}

.period-table th {
  background: rgba(96, 165, 250, 0.12);
  color: #60a5fa;
  font-weight: 600;
}

.period-table td {
  background: rgba(30, 41, 59, 0.5);
  color: #cbd5e1;
}

.period-table .highlight-cell {
  background: rgba(74, 222, 128, 0.12);
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .given-grid { flex-direction: column; }
  .answer-option { min-width: auto; }
  .step-text { margin-left: 0; margin-top: 10px; }
  .step-header { flex-wrap: wrap; }
  .options-review { flex-direction: column; align-items: center; }
  .period-table { font-size: 0.8rem; }
  .period-table th, .period-table td { padding: 5px 6px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Stepeni kompleksnih brojeva i periodicnost</h1>
  <p class="subtitle">Kompleksni brojevi u trigonometrijskom obliku, De Moavrov stav, periodicnost kosinusa</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</h2>
    <div class="problem-text">
      <p>Ako je \(n\) prirodan broj, \(i^2 = -1\) i</p>
      <div class="func-card">
        \[ f(n) = \left(\frac{1+i}{\sqrt{2}}\right)^n + \left(\frac{1-i}{\sqrt{2}}\right)^n \]
      </div>
      <p>onda je \(f(2017) + f(2013)\) jednako:</p>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(4i\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-2\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2\sqrt{2}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#127919;</span> Plan resavanja</h2>
    <p class="plan-text">
      Prevedimo kompleksne brojeve \(\frac{1+i}{\sqrt{2}}\) i \(\frac{1-i}{\sqrt{2}}\) u trigonometrijski (polarni) oblik, primenimo De Moavrov stav za stepenovanje, a zatim iskoristimo periodicnost funkcije kosinus da izracunamo \(f(2017)\) i \(f(2013)\).
    </p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>&#128208; Kljucne formule i teoreme</summary>
      <ul class="theory-list">
        <li><strong>Trigonometrijski oblik kompleksnog broja:</strong> \(z = r(\cos\varphi + i\sin\varphi)\), gde je \(r = |z|\) moduo, a \(\varphi = \arg(z)\) argument.</li>
        <li><strong>De Moavrov stav:</strong> \(\big(\cos\varphi + i\sin\varphi\big)^n = \cos(n\varphi) + i\sin(n\varphi)\) za svako \(n \in \mathbb{Z}\).</li>
        <li><strong>Ojlerova formula:</strong> \(e^{i\varphi} = \cos\varphi + i\sin\varphi\), odakle sledi \(e^{i\varphi} + e^{-i\varphi} = 2\cos\varphi\).</li>
        <li><strong>Periodicnost kosinusa:</strong> \(\cos(\alpha + 2k\pi) = \cos\alpha\) za svako \(k \in \mathbb{Z}\). Period je \(2\pi\), pa za argument \(\frac{n\pi}{4}\) period po \(n\) iznosi 8.</li>
        <li><strong>Konjugovani parovi:</strong> Ako su \(z\) i \(\bar{z}\) konjugovani kompleksni brojevi, onda je \(z^n + \bar{z}^n = 2\,\text{Re}(z^n)\) uvek realan broj.</li>
      </ul>
    </details>
  </div>

  <!-- VISUAL AID: UNIT CIRCLE -->
  <div class="canvas-card">
    <h2 class="card-title" style="justify-content: center;"><span class="icon">&#128202;</span> Kompleksni brojevi na jedinicnoj kruznici</h2>
    <canvas id="unitCircleCanvas" width="700" height="700"></canvas>
    <p class="canvas-hint">Dijagram prikazuje polozaje kompleksnih brojeva i njihovih stepena na jedinicnoj kruznici</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#128221;</span> Resenje korak po korak</h2>

    <!-- STEP 1 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">1</div>
        <h3 class="step-title">Polarni oblik kompleksnih brojeva</h3>
      </div>
      <div class="step-text">
        <p>Oznacimo:</p>
        <div class="math-block">
          \[ z_1 = \frac{1+i}{\sqrt{2}}, \qquad z_2 = \frac{1-i}{\sqrt{2}} \]
        </div>

        <p>Izracunajmo moduo broja \(z_1\):</p>
        <div class="math-block">
          \[ |z_1| = \frac{|1+i|}{\sqrt{2}} = \frac{\sqrt{1^2 + 1^2}}{\sqrt{2}} = \frac{\sqrt{2}}{\sqrt{2}} = 1 \]
        </div>

        <p>Argument broja \(z_1\): posto je \(\text{Re}(z_1) = \frac{1}{\sqrt{2}} > 0\) i \(\text{Im}(z_1) = \frac{1}{\sqrt{2}} > 0\), tacka je u prvom kvadrantu:</p>
        <div class="math-block">
          \[ \arg(z_1) = \arctan\frac{1}{1} = \frac{\pi}{4} \]
        </div>

        <p>Dakle, trigonometrijski oblik je:</p>
        <div class="math-block">
          \[ z_1 = \cos\frac{\pi}{4} + i\sin\frac{\pi}{4} \]
        </div>

        <p>Slicno, \(z_2 = \overline{z_1}\) je konjugovani broj sa modulom 1 i argumentom \(-\frac{\pi}{4}\):</p>
        <div class="math-block">
          \[ z_2 = \cos\frac{\pi}{4} - i\sin\frac{\pi}{4} = \cos\!\left(-\frac{\pi}{4}\right) + i\sin\!\left(-\frac{\pi}{4}\right) \]
        </div>

        <p class="step-note">Oba broja leze na jedinicnoj kruznici &mdash; to je kljucno jer ce i svi njihovi stepeni lezati na jedinicnoj kruznici.</p>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">2</div>
        <h3 class="step-title">Stepenovanje pomocu De Moavrovog stava</h3>
      </div>
      <div class="step-text">
        <p>Primenimo De Moavrov stav na \(z_1^n\):</p>
        <div class="math-block">
          \[ z_1^n = \left(\cos\frac{\pi}{4} + i\sin\frac{\pi}{4}\right)^n = \cos\frac{n\pi}{4} + i\sin\frac{n\pi}{4} \]
        </div>

        <p>Analogno za \(z_2^n\):</p>
        <div class="math-block">
          \[ z_2^n = \left(\cos\frac{\pi}{4} - i\sin\frac{\pi}{4}\right)^n = \cos\frac{n\pi}{4} - i\sin\frac{n\pi}{4} \]
        </div>

        <p>Sada saberimo:</p>
        <div class="math-block">
          \[ f(n) = z_1^n + z_2^n = \cos\frac{n\pi}{4} + i\sin\frac{n\pi}{4} + \cos\frac{n\pi}{4} - i\sin\frac{n\pi}{4} \]
        </div>

        <p>Imaginarni delovi se poniste, pa ostaje:</p>
        <div class="math-block">
          <span class="highlight-result">\[ f(n) = 2\cos\frac{n\pi}{4} \]</span>
        </div>

        <p class="step-note">Ovo je ocekivano: zbir konjugovanih kompleksnih brojeva je uvek realan i jednak dvostrukom realnom delu.</p>
      </div>
    </div>

    <!-- CHECKPOINT 1 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Koliko je \(f(2)\)?</summary>
      <div class="checkpoint-content">
        <p>\(f(2) = 2\cos\frac{2\pi}{4} = 2\cos\frac{\pi}{2} = 2 \cdot 0 = 0\).</p>
        <p>Proverimo direktno: \(\left(\frac{1+i}{\sqrt{2}}\right)^2 = \frac{(1+i)^2}{2} = \frac{2i}{2} = i\), i \(\left(\frac{1-i}{\sqrt{2}}\right)^2 = -i\). Zbir: \(i + (-i) = 0\). Tacno!</p>
      </div>
    </details>

    <!-- STEP 3 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">3</div>
        <h3 class="step-title">Periodicnost funkcije \(f(n)\)</h3>
      </div>
      <div class="step-text">
        <p>Posto je \(\cos\) periodicna funkcija sa periodom \(2\pi\), a nas argument je \(\frac{n\pi}{4}\), funkcija \(f(n)\) je periodicna po \(n\) sa periodom:</p>
        <div class="math-block">
          \[ \frac{n\pi}{4} \text{ poraste za } 2\pi \iff n \text{ poraste za } 8 \]
        </div>

        <p>Napisimo vrednosti \(f(n)\) za jedan ceo period:</p>

        <div style="overflow-x: auto;">
          <table class="period-table">
            <tr>
              <th>\(n \bmod 8\)</th>
              <th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th>
            </tr>
            <tr>
              <th>\(\frac{n\pi}{4}\)</th>
              <td>\(0\)</td><td>\(\frac{\pi}{4}\)</td><td>\(\frac{\pi}{2}\)</td><td>\(\frac{3\pi}{4}\)</td>
              <td>\(\pi\)</td><td>\(\frac{5\pi}{4}\)</td><td>\(\frac{3\pi}{2}\)</td><td>\(\frac{7\pi}{4}\)</td>
            </tr>
            <tr>
              <th>\(f(n)\)</th>
              <td>\(2\)</td>
              <td class="highlight-cell">\(\sqrt{2}\)</td>
              <td>\(0\)</td>
              <td>\(-\sqrt{2}\)</td>
              <td>\(-2\)</td>
              <td class="highlight-cell">\(-\sqrt{2}\)</td>
              <td>\(0\)</td>
              <td>\(\sqrt{2}\)</td>
            </tr>
          </table>
        </div>

        <p class="step-note">Oznacene su kolone za ostatke 1 i 5, koji ce nam trebati u sledecem koraku.</p>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">4</div>
        <h3 class="step-title">Odredjivanje ostataka pri deljenju sa 8</h3>
      </div>
      <div class="step-text">
        <p>Potrebni su nam \(f(2017)\) i \(f(2013)\). Odredimo ostatke:</p>

        <p><strong>Za \(n = 2017\):</strong></p>
        <div class="math-block">
          \[ 2017 = 252 \cdot 8 + 1 \implies 2017 \bmod 8 = 1 \]
        </div>

        <p><strong>Za \(n = 2013\):</strong></p>
        <div class="math-block">
          \[ 2013 = 251 \cdot 8 + 5 \implies 2013 \bmod 8 = 5 \]
        </div>

        <p>Iz tabele perioda citamo:</p>
        <div class="math-block">
          \[ f(2017) = f(1) = 2\cos\frac{\pi}{4} = 2 \cdot \frac{\sqrt{2}}{2} = \sqrt{2} \]
        </div>
        <div class="math-block">
          \[ f(2013) = f(5) = 2\cos\frac{5\pi}{4} = 2 \cdot \left(-\frac{\sqrt{2}}{2}\right) = -\sqrt{2} \]
        </div>
      </div>
    </div>

    <!-- CHECKPOINT 2 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Koliki je ostatak broja 2013 pri deljenju sa 8?</summary>
      <div class="checkpoint-content">
        <p>\(2013 \div 8 = 251\) sa ostatkom \(2013 - 251 \cdot 8 = 2013 - 2008 = 5\). Dakle, ostatak je <strong>5</strong>.</p>
      </div>
    </details>

    <!-- STEP 5 -->
    <div class="step-container">
      <div class="step-header">
        <div class="step-badge">5</div>
        <h3 class="step-title">Izracunavanje konacnog zbira</h3>
      </div>
      <div class="step-text">
        <p>Sabiramo dobijene vrednosti:</p>
        <div class="math-block">
          \[ f(2017) + f(2013) = \sqrt{2} + (-\sqrt{2}) = \sqrt{2} - \sqrt{2} \]
        </div>
        <div class="math-block">
          <span class="highlight-result">\[ f(2017) + f(2013) = 0 \]</span>
        </div>
      </div>
    </div>

    <!-- CHECKPOINT 3 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Zasto je f(n) + f(n+4) uvek jednako 0?</summary>
      <div class="checkpoint-content">
        <p>Jer je \(f(n+4) = 2\cos\frac{(n+4)\pi}{4} = 2\cos\!\left(\frac{n\pi}{4} + \pi\right) = -2\cos\frac{n\pi}{4} = -f(n)\).</p>
        <p>Posto je \(2017 = 2013 + 4\), odmah sledi \(f(2017) = -f(2013)\), pa je zbir 0.</p>
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="insight-title">Kljucni uvid</div>
    <p style="color: #cbd5e1; margin-bottom: 12px;">Razlika izmedju 2017 i 2013 je tacno 4. A za funkciju \(f(n) = 2\cos\frac{n\pi}{4}\) vazi: pomeranje argumenta za 4 dodaje \(\pi\) na ugao kosinusa, sto menja znak. Zato je \(f(n+4) = -f(n)\), pa je zbir uvek nula!</p>
    <div class="insight-formula">
      \[ f(n) + f(n+4) = 2\cos\frac{n\pi}{4} + 2\cos\!\left(\frac{n\pi}{4} + \pi\right) = 0 \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer-card">
    <div class="final-answer-label">Konacan odgovor</div>
    <div class="final-answer-value">B) \(0\)</div>
    <div class="options-review">
      <span class="option-pill">(A) \(\sqrt{2}\)</span>
      <span class="option-pill correct">(B) \(0\)</span>
      <span class="option-pill">(C) \(4i\)</span>
      <span class="option-pill">(D) \(-2\sqrt{2}\)</span>
      <span class="option-pill">(E) \(2\sqrt{2}\)</span>
    </div>
    <div class="verification-note">
      <strong>Provera:</strong> Mozemo proveriti sa malim brojevima: \(f(1) + f(5) = \sqrt{2} + (-\sqrt{2}) = 0\), \(f(2) + f(6) = 0 + 0 = 0\), \(f(3) + f(7) = -\sqrt{2} + \sqrt{2} = 0\). Zaista, \(f(n) + f(n+4) = 0\) za svako \(n\). Odgovor \(f(2017) + f(2013) = 0\) je potvrdjeno ispravan.
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</h2>
    <ul class="pitfall-list">
      <li><span class="pitfall-label">Greska 1:</span> Ne prepoznati da \(\frac{1+i}{\sqrt{2}}\) i \(\frac{1-i}{\sqrt{2}}\) leze na jedinicnoj kruznici (\(|z| = 1\)). Neki studenti pokusavaju da stepenuju algebarski, sto je neprakticno za velike eksponente poput 2017.</li>
      <li><span class="pitfall-label">Greska 2:</span> Pogresno odrediti ostatak pri deljenju sa 8. Na primer, ako se za 2013 pogresno dobije ostatak 3 umesto 5, dobija se pogresan rezultat \(f(2013) = -\sqrt{2}\) umesto \(-\sqrt{2}\) &mdash; u ovom slucaju bi bilo isto, ali za druge greske u ostatku ne bi.</li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card challenge-card">
    <h2 class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</h2>
    <p style="color: #cbd5e1; margin-bottom: 12px;">Izracunaj sumu \(f(1) + f(2) + f(3) + \cdots + f(100)\). Koliko iznosi ovaj zbir?</p>
    <details>
      <summary>Pogledaj nagovestavajuci odgovor</summary>
      <div class="checkpoint-content">
        <p>Posto se vrednosti ponavljaju sa periodom 8, izracunaj zbir jednog perioda: \(f(1) + f(2) + \cdots + f(8) = \sqrt{2} + 0 - \sqrt{2} - 2 - \sqrt{2} + 0 + \sqrt{2} + 2 = 0\). Dakle, svaki blok od 8 uzastopnih clanova daje 0. Koliko punih blokova ima u 100 clanova i sta ostaje?</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('unitCircleCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const cx = W / 2;
    const cy = H / 2;
    const R = 240;

    // Transform: y-axis points UP
    const toCanvas = (x, y) => ({ x: cx + x * R, y: cy - y * R });

    // Subtle grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -1.5; i <= 1.5; i += 0.5) {
      // Vertical
      const gv = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(gv.x, 40);
      ctx.lineTo(gv.x, H - 40);
      ctx.stroke();
      // Horizontal
      const gh = toCanvas(0, i);
      ctx.beginPath();
      ctx.moveTo(40, gh.y);
      ctx.lineTo(W - 40, gh.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // X axis
    ctx.beginPath();
    ctx.moveTo(40, cy);
    ctx.lineTo(W - 40, cy);
    ctx.stroke();
    // Y axis
    ctx.beginPath();
    ctx.moveTo(cx, 40);
    ctx.lineTo(cx, H - 40);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Re', W - 45, cy + 8);
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillText('Im', cx + 10, 48);

    // Tick marks
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    [-1, 1].forEach(v => {
      const p = toCanvas(v, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, cy - 5);
      ctx.lineTo(p.x, cy + 5);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillText(v.toString(), p.x, cy + 10);
    });
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    [-1, 1].forEach(v => {
      const p = toCanvas(0, v);
      ctx.beginPath();
      ctx.moveTo(cx - 5, p.y);
      ctx.lineTo(cx + 5, p.y);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillText(v === 1 ? 'i' : '-i', cx - 10, p.y);
    });

    // Unit circle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.stroke();

    // Glow for unit circle
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.15)';
    ctx.lineWidth = 6;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.stroke();

    // All 8 positions on the unit circle for f(n) period
    const positions = [];
    for (let k = 0; k < 8; k++) {
      const angle = k * Math.PI / 4;
      positions.push({
        x: Math.cos(angle),
        y: Math.sin(angle),
        angle: angle,
        k: k
      });
    }

    // Draw dashed lines from origin to each position
    positions.forEach((pos, idx) => {
      const p = toCanvas(pos.x, pos.y);
      ctx.setLineDash([5, 5]);
      ctx.strokeStyle = 'rgba(148, 163, 184, 0.2)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p.x, p.y);
      ctx.stroke();
      ctx.setLineDash([]);
    });

    // Labels for special angles
    const angleLabels = [
      '0', '\u03C0/4', '\u03C0/2', '3\u03C0/4',
      '\u03C0', '5\u03C0/4', '3\u03C0/2', '7\u03C0/4'
    ];

    const fValues = ['2', '\u221A2', '0', '-\u221A2', '-2', '-\u221A2', '0', '\u221A2'];

    // Draw all 8 points
    positions.forEach((pos, idx) => {
      const p = toCanvas(pos.x, pos.y);
      const isHighlighted = (idx === 1 || idx === 5);

      // Point glow
      if (isHighlighted) {
        const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 20);
        if (idx === 1) {
          grad.addColorStop(0, 'rgba(96, 165, 250, 0.5)');
          grad.addColorStop(1, 'rgba(96, 165, 250, 0)');
        } else {
          grad.addColorStop(0, 'rgba(244, 114, 182, 0.5)');
          grad.addColorStop(1, 'rgba(244, 114, 182, 0)');
        }
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(p.x, p.y, 20, 0, Math.PI * 2);
        ctx.fill();
      }

      // Point dot
      ctx.beginPath();
      ctx.arc(p.x, p.y, isHighlighted ? 7 : 5, 0, Math.PI * 2);
      if (idx === 1) {
        ctx.fillStyle = '#60a5fa';
      } else if (idx === 5) {
        ctx.fillStyle = '#f472b6';
      } else {
        ctx.fillStyle = '#94a3b8';
      }
      ctx.fill();

      // Label: angle and f value
      const labelR = R + 55;
      const lx = cx + labelR * Math.cos(pos.angle);
      const ly = cy - labelR * Math.sin(pos.angle);

      ctx.font = isHighlighted ? 'bold 13px Segoe UI, system-ui, sans-serif' : '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';

      if (idx === 1) {
        ctx.fillStyle = '#60a5fa';
      } else if (idx === 5) {
        ctx.fillStyle = '#f472b6';
      } else {
        ctx.fillStyle = '#64748b';
      }
      ctx.fillText(angleLabels[idx], lx, ly - 8);

      ctx.font = isHighlighted ? 'bold 12px Segoe UI, system-ui, sans-serif' : '11px Segoe UI, system-ui, sans-serif';
      if (isHighlighted) {
        ctx.fillStyle = '#4ade80';
      } else {
        ctx.fillStyle = '#475569';
      }
      ctx.fillText('f = ' + fValues[idx], lx, ly + 10);
    });

    // Highlight z1 and z2 with labels
    const z1 = toCanvas(Math.cos(Math.PI / 4), Math.sin(Math.PI / 4));
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('z\u2081 = (1+i)/\u221A2', z1.x + 14, z1.y - 14);

    const z2 = toCanvas(Math.cos(-Math.PI / 4), Math.sin(-Math.PI / 4));
    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('z\u2082 = (1\u2013i)/\u221A2', z2.x + 14, z2.y + 14);

    // Draw angle arcs for z1 and z2
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, 50, 0, -Math.PI / 4, true);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('\u03C0/4', cx + 55, cy - 18);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, 40, 0, Math.PI / 4, false);
    ctx.stroke();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('-\u03C0/4', cx + 45, cy + 26);

    // Draw the connection between k=1 (n mod 8=1) and k=5 (n mod 8=5) showing they're opposite
    const p1 = toCanvas(positions[1].x, positions[1].y);
    const p5 = toCanvas(positions[5].x, positions[5].y);
    ctx.setLineDash([8, 6]);
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.5)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p5.x, p5.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // "Diametrically opposite" label
    ctx.fillStyle = '#4ade80';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('dijametralno suprotni', cx - 90, cy + 90);
    ctx.fillText('(razlika = 4 \u2192 ugao +\u03C0)', cx - 90, cy + 108);

    // Annotations for n=2017 and n=2013
    const ann1 = toCanvas(positions[1].x, positions[1].y);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'bottom';
    ctx.fillText('n=2017', ann1.x - 12, ann1.y + 2);
    ctx.fillText('(ostatak 1)', ann1.x - 12, ann1.y + 18);

    const ann5 = toCanvas(positions[5].x, positions[5].y);
    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'top';
    ctx.fillText('n=2013', ann5.x - 12, ann5.y - 2);
    ctx.fillText('(ostatak 5)', ann5.x - 12, ann5.y - 18);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 17px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Pozicije stepena na jedinicnoj kruznici', W / 2, 12);

    // Legend
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';

    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(40, H - 45, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillText('n \u2261 1 (mod 8): f = \u221A2', 52, H - 40);

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(40, H - 25, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillText('n \u2261 5 (mod 8): f = -\u221A2', 52, H - 20);

    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'right';
    ctx.fillText('Zbir: \u221A2 + (-\u221A2) = 0', W - 40, H - 25);
  }

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Stepeni kompleksnih brojeva i periodicnost",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kompleksni brojevi", "De Moavrov stav", "trigonometrijski oblik", "periodicnost", "jedinicna kruznica"]
}
BRAINSPARK_META-->