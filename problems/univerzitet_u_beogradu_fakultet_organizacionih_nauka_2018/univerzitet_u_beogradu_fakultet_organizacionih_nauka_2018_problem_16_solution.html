<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Polulopta upisana u kupu</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: A right circular cone has volume 12œÄ cm¬≥ and height 4 cm. A hemisphere is inscribed
so that its flat base lies on the cone's base and it touches the lateral surface along a circle.
Find the volume of the hemisphere.

STEP 1: Find the radius of the cone base R.
  V_cone = (1/3) œÄ R¬≤ h = 12œÄ
  (1/3) œÄ R¬≤ ¬∑ 4 = 12œÄ
  (4/3) R¬≤ = 12
  R¬≤ = 9
  R = 3 cm

STEP 2: Set up the cross-section.
  Cross-section through the axis of the cone gives an isosceles triangle:
  - Apex at (0, 4)
  - Base vertices at (-3, 0) and (3, 0)
  The hemisphere appears as a semicircle centered at origin (0, 0) with radius r.

STEP 3: Find the equation of the slant side.
  Right slant line from (0, 4) to (3, 0):
  slope = (0 - 4)/(3 - 0) = -4/3
  y = 4 - (4/3)x
  Rewrite: 4x + 3y = 12, or 4x + 3y - 12 = 0

STEP 4: The semicircle is tangent to the slant line.
  Distance from center (0, 0) to line 4x + 3y - 12 = 0:
  d = |4¬∑0 + 3¬∑0 - 12| / ‚àö(4¬≤ + 3¬≤) = 12 / ‚àö25 = 12/5

  So r = 12/5 cm.

STEP 5: Compute the volume of the hemisphere.
  V = (2/3) œÄ r¬≥ = (2/3) œÄ (12/5)¬≥
  (12/5)¬≥ = 1728/125
  V = (2/3) ¬∑ œÄ ¬∑ 1728/125 = 3456œÄ/375 = 1152œÄ/125

ANSWER: D) 1152œÄ/125 cm¬≥

VERIFICATION:
  r = 12/5 = 2,4 cm < R = 3 cm ‚úì (hemisphere fits inside cone base)
  r = 2,4 < h = 4 ‚úì (hemisphere fits inside cone height)
  V_hemisphere = 1152œÄ/125 ‚âà 28,95 cm¬≥
  V_cone = 12œÄ ‚âà 37,70 cm¬≥
  V_hemisphere < V_cone ‚úì (makes sense)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.82rem;
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  min-width: 130px;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 { color: #a78bfa; }

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(56, 189, 248, 0.05);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  line-height: 1.8;
}

.canvas-container {
  text-align: center;
  margin: 10px 0;
}

.canvas-container canvas {
  border-radius: 12px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 6px;
  font-style: italic;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
}

.step:hover, .step.active {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  font-weight: 700;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.06);
  border: 1px solid rgba(167, 139, 250, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint .answer {
  padding-top: 8px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.08));
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 14px;
}

.final-answer-value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  margin: 12px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.12);
  color: #94a3b8;
  font-size: 1rem;
  min-width: 130px;
  text-align: center;
}

.option-card.correct {
  background: rgba(52, 211, 153, 0.12);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: 700;
}

.verification {
  background: rgba(52, 211, 153, 0.05);
  border: 1px solid rgba(52, 211, 153, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin-top: 16px;
  text-align: left;
}

.verification h3 { color: #34d399; margin-bottom: 8px; }

.pitfall-card {
  border-left: 3px solid #f472b6;
}

.pitfall-card h2 { color: #f472b6; }

.pitfall-card ul {
  list-style: none;
  padding: 0;
}

.pitfall-card li {
  padding: 8px 12px;
  margin-bottom: 6px;
  background: rgba(244, 114, 182, 0.05);
  border-radius: 6px;
  line-height: 1.6;
}

.pitfall-card li::before {
  content: "‚ö† ";
  color: #f472b6;
}

.challenge-card {
  border-left: 3px solid #60a5fa;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 80px; padding: 8px 12px; }
  .answer-option { min-width: 100px; }
  .step { padding: 12px; gap: 10px; }
  .option-card { min-width: 100px; padding: 8px 14px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Polulopta upisana u kupu</h1>
  <p class="subtitle">Stereometrija -- zapremina polulopt–µ upisane u pravu kupu</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      U pravu kupu zapremine \(12\pi\) cm&sup3; upisana je polulopta tako da polulopta dodiruje omotaƒç kupe po nekoj kru≈ænici i osnova polulopte pripada osnovi kupe. Ako je visina kupe du≈æine <span style="color:#60a5fa;font-weight:600;">4 cm</span>, onda je zapremina polulopte jednaka:
    </p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Zapremina kupe</div>
        <div class="value">\(12\pi\) cm&sup3;</div>
      </div>
      <div class="given-item">
        <div class="label">Visina kupe</div>
        <div class="value">\(h = 4\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Tra≈æi se</div>
        <div class="value">\(V_{\text{polulop.}}\)</div>
      </div>
    </div>

    <h3 style="margin-top:20px; color:#94a3b8; font-size:0.95rem;">Ponuƒëeni odgovori:</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{384\pi}{125}\) cm&sup3;</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{2304\pi}{125}\) cm&sup3;</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{576\pi}{125}\) cm&sup3;</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{1152\pi}{125}\) cm&sup3;</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{128\pi}{125}\) cm&sup3;</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>
      Iz zapremine kupe i visine izraƒçunaƒáemo polupreƒçnik osnove kupe. Zatim ƒáemo posmatrati aksijalni presek (presek ravni kroz osu kupe) i iz uslova tangentnosti polukruga na stranicu trougla odrediti polupreƒçnik polulopt–µ. Na kraju ƒáemo izraƒçunati zapreminu polulopt–µ.
    </p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <ul class="theory-list">
        <li>
          <strong>Zapremina prave kupe:</strong>
          \[ V_{\text{kupa}} = \frac{1}{3}\pi R^2 h \]
          gde je \(R\) polupreƒçnik osnove, a \(h\) visina kupe.
        </li>
        <li>
          <strong>Zapremina polulopt–µ:</strong>
          \[ V_{\text{polulopta}} = \frac{2}{3}\pi r^3 \]
          gde je \(r\) polupreƒçnik polulopt–µ.
        </li>
        <li>
          <strong>Rastojanje taƒçke od prave:</strong>
          Za pravu \(ax + by + c = 0\) i taƒçku \((x_0, y_0)\):
          \[ d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}} \]
        </li>
        <li>
          <strong>Aksijalni presek kupe:</strong> Ako pravu kupu preseƒçemo ravni koja sadr≈æi njenu osu, dobijamo jednakokraki trougao ƒçija je osnovica jednaka preƒçniku osnove kupe, a visina jednaka visini kupe.
        </li>
      </ul>

      <div class="canvas-container">
        <canvas id="theoryCanvas" width="350" height="260"></canvas>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <div class="canvas-container">
      <canvas id="mainCanvas" width="700" height="500"></canvas>
      <p class="canvas-hint">Prevlaƒçite klizaƒç ispod da menjate polupreƒçnik polulopt–µ i vidite kako se uklapa u kupu</p>
    </div>
    <div style="text-align:center; margin-top:12px;">
      <label style="color:#94a3b8; font-size:0.9rem;">Polupreƒçnik polulopt–µ \(r\): <span id="rDisplay" style="color:#f472b6; font-weight:700;">2,40</span> cm</label><br>
      <input type="range" id="rSlider" min="0.5" max="3.0" step="0.01" value="2.4"
        style="width: 280px; margin-top: 6px; accent-color: #a78bfa;">
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo polupreƒçnik osnove kupe</h3>
        <p>Poznata nam je zapremina kupe i njena visina. Iz formule za zapreminu kupe mo≈æemo izraziti polupreƒçnik osnove \(R\).</p>
        <div class="math-block">
          \[
          V = \frac{1}{3}\pi R^2 h = 12\pi
          \]
        </div>
        <p>Uvrstimo \(h = 4\):</p>
        <div class="math-block">
          \[
          \frac{1}{3}\pi R^2 \cdot 4 = 12\pi
          \]
        </div>
        <p>Skratimo \(\pi\) sa obe strane i sredimo:</p>
        <div class="math-block">
          \[
          \frac{4}{3} R^2 = 12 \implies R^2 = 9 \implies R = 3 \text{ cm}
          \]
        </div>
        <p class="note">Polupreƒçnik osnove kupe iznosi 3 cm.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Koliki je preƒçnik osnove kupe?</summary>
      <div class="answer">Preƒçnik je \(2R = 6\) cm.</div>
    </details>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Postavimo aksijalni presek</h3>
        <p>Presecimo kupu ravni koja sadr≈æi njenu osu. Dobijamo jednakokraki trougao sa:</p>
        <ul style="margin: 8px 0 8px 20px; color: #94a3b8;">
          <li>Vrh u taƒçki \(T(0,\, 4)\) (vrh kupe)</li>
          <li>Osnova od \(A(-3,\, 0)\) do \(B(3,\, 0)\)</li>
        </ul>
        <p>Polulopta se u ovom preseku vidi kao polukrug sa centrom u koordinatnom poƒçetku \(O(0,\, 0)\) i polupreƒçnikom \(r\).</p>
        <p class="note">Polukrug dodiruje stranicu trougla -- to je kljuƒçni uslov koji nam daje polupreƒçnik.</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Odredimo jednaƒçinu stranice kupe</h3>
        <p>Desna stranica trougla (izvodnica kupe u preseku) spaja taƒçke \(T(0,\, 4)\) i \(B(3,\, 0)\).</p>
        <div class="math-block">
          \[
          \text{Nagib: } k = \frac{0 - 4}{3 - 0} = -\frac{4}{3}
          \]
        </div>
        <p>Jednaƒçina prave:</p>
        <div class="math-block">
          \[
          y = 4 - \frac{4}{3}x \quad \Longrightarrow \quad 4x + 3y - 12 = 0
          \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Primenimo uslov tangentnosti</h3>
        <p>Polulopta dodiruje omotaƒç kupe, ≈°to znaƒçi da je polukrug tangentan na stranicu trougla. Rastojanje od centra polukruga \(O(0,\, 0)\) do prave \(4x + 3y - 12 = 0\) mora biti jednako polupreƒçniku \(r\).</p>
        <div class="math-block">
          \[
          r = \frac{|4 \cdot 0 + 3 \cdot 0 - 12|}{\sqrt{4^2 + 3^2}}
          \]
        </div>
        <p>Izraƒçunamo:</p>
        <div class="math-block">
          \[
          r = \frac{|-12|}{\sqrt{16 + 9}} = \frac{12}{\sqrt{25}} = \frac{12}{5}
          \]
        </div>
        <p style="color:#4ade80; font-weight:600;">Polupreƒçnik polulopt–µ je \(r = \dfrac{12}{5}\) cm = 2,4 cm.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Da li polulopta zaista staje u kupu?</summary>
      <div class="answer">Da! Polupreƒçnik polulopt–µ \(r = 2{,}4\) cm je manji od polupreƒçnika osnove kupe \(R = 3\) cm i manji od visine kupe \(h = 4\) cm, pa polulopta staje u kupu.</div>
    </details>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izraƒçunamo zapreminu polulopt–µ</h3>
        <p>Koristimo formulu za zapreminu polulopt–µ:</p>
        <div class="math-block">
          \[
          V_{\text{polulopta}} = \frac{2}{3}\pi r^3
          \]
        </div>
        <p>Izraƒçunamo \(r^3\):</p>
        <div class="math-block">
          \[
          r^3 = \left(\frac{12}{5}\right)^3 = \frac{12^3}{5^3} = \frac{1728}{125}
          \]
        </div>
        <p>Uvrstimo u formulu:</p>
        <div class="math-block">
          \[
          V = \frac{2}{3}\pi \cdot \frac{1728}{125} = \frac{2 \cdot 1728}{3 \cdot 125}\,\pi = \frac{3456}{375}\,\pi
          \]
        </div>
        <p>Skratimo razlomak (delimo sa 3):</p>
        <div class="math-block">
          \[
          V = \frac{1152}{125}\,\pi \text{ cm}^3
          \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Koliko pribli≈æno iznosi zapremina polulopt–µ?</summary>
      <div class="answer">\(V \approx \dfrac{1152}{125} \cdot 3{,}14 \approx 9{,}216 \cdot 3{,}14 \approx 28{,}94\) cm&sup3;, ≈°to je manje od zapremine kupe (\(12\pi \approx 37{,}70\) cm&sup3;). Logiƒçno!</div>
    </details>

  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Kljuƒçni uvid</h2>
    <p style="color:#94a3b8; margin-bottom: 12px;">Ceo zadatak se svodi na primenu formule za rastojanje taƒçke od prave u aksijalnom preseku!</p>
    <div style="font-size:1.4rem; margin: 10px 0;">
      \[ r = \frac{12}{\sqrt{4^2 + 3^2}} = \frac{12}{5} \]
    </div>
    <p style="color:#94a3b8; margin-top: 8px;">Pitagorin broj \(3, 4, 5\) ƒçini raƒçun posebno elegantnim.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer-box">
    <h2>Konaƒçan odgovor</h2>
    <div class="final-answer-value">
      \( V_{\text{polulopta}} = \dfrac{1152\pi}{125} \text{ cm}^3 \)
    </div>

    <div class="options-row">
      <div class="option-card">
        <strong>(A)</strong> \(\frac{384\pi}{125}\)
      </div>
      <div class="option-card">
        <strong>(B)</strong> \(\frac{2304\pi}{125}\)
      </div>
      <div class="option-card">
        <strong>(C)</strong> \(\frac{576\pi}{125}\)
      </div>
      <div class="option-card correct">
        <strong>(D)</strong> \(\frac{1152\pi}{125}\)
      </div>
      <div class="option-card">
        <strong>(E)</strong> \(\frac{128\pi}{125}\)
      </div>
    </div>

    <div class="verification">
      <h3>Provera</h3>
      <ul style="margin-left:18px; color:#94a3b8;">
        <li>\(r = 2{,}4 < R = 3\) -- polulopta staje u osnovu kupe ‚úì</li>
        <li>\(r = 2{,}4 < h = 4\) -- polulopta staje po visini ‚úì</li>
        <li>\(V_{\text{polulopta}} \approx 28{,}94 < V_{\text{kupa}} \approx 37{,}70\) cm&sup3; -- zapremina je manja od zapremine kupe ‚úì</li>
        <li>Imenilac 125 = \(5^3\) potiƒçe od \(\sqrt{3^2 + 4^2} = 5\) -- sve se poklapa ‚úì</li>
      </ul>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card pitfall-card">
    <h2>ƒåeste gre≈°ke</h2>
    <ul>
      <li>
        <strong>Zamena formule za zapreminu lopte i polulopt–µ:</strong> Zapremina cele lopte je \(\frac{4}{3}\pi r^3\), dok je zapremina polulopt–µ \(\frac{2}{3}\pi r^3\). Ako gre≈°kom koristite formulu za celu loptu, dobiƒáete \(\frac{2304\pi}{125}\) -- odgovor (B), koji je duplo veƒái!
      </li>
      <li>
        <strong>Pogre≈°no postavljanje uslova tangentnosti:</strong> Omotaƒç kupe dodiruje poluloptu, ≈°to znaƒçi da je rastojanje od centra polulopt–µ (centar osnove kupe) do izvodnice jednako polupreƒçniku polulopt–µ. Ne treba me≈°ati sa rastojanjem od vrha kupe.
      </li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliki deo zapremine kupe zauzima polulopta? Izrazite rezultat kao razlomak.</p>
    <details style="margin: 15px 0;">
      <summary style="color:#60a5fa; cursor:pointer;">üí° Prika≈æi nagove≈°taj</summary>
      <p style="margin-top:8px; color:#94a3b8;">
        Izraƒçunajte odnos \(\dfrac{V_{\text{polulopta}}}{V_{\text{kupa}}} = \dfrac{1152\pi/125}{12\pi}\). Skratite \(\pi\) i izraƒçunajte.
        Rezultat je \(\dfrac{1152}{1500} = \dfrac{96}{125}\), tj. polulopta zauzima ƒçak 76,8% zapremine kupe!
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // --- Theory canvas ---
  const tc = document.getElementById('theoryCanvas');
  if (tc) {
    const ctx = tc.getContext('2d');
    const W = tc.width, H = tc.height;

    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Draw a simple right triangle illustrating distance from point to line
    const ox = 50, oy = H - 40;
    const scale = 50;

    // Triangle vertices
    const A = { x: ox, y: oy };
    const B = { x: ox + 5 * scale, y: oy };
    const T = { x: ox + 2 * scale, y: oy - 3.5 * scale };

    // Line from A to B
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    // Grid
    for (let i = 0; i <= 5; i++) {
      ctx.beginPath();
      ctx.moveTo(ox + i * scale, oy);
      ctx.lineTo(ox + i * scale, oy - 4 * scale);
      ctx.stroke();
    }
    for (let i = 0; i <= 4; i++) {
      ctx.beginPath();
      ctx.moveTo(ox, oy - i * scale);
      ctx.lineTo(ox + 5 * scale, oy - i * scale);
      ctx.stroke();
    }
    ctx.setLineDash([]);

    // Line (the hypotenuse)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(T.x, T.y);
    ctx.stroke();

    // Point P
    const P = { x: ox + 1.5 * scale, y: oy - 1 * scale };
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(P.x, P.y, 5, 0, Math.PI * 2);
    ctx.fill();

    // Distance line (perpendicular from P to the line AT)
    // Line AT direction: dx = T.x - A.x, dy = T.y - A.y
    const dx = T.x - A.x, dy = T.y - A.y;
    const len2 = dx * dx + dy * dy;
    const t = ((P.x - A.x) * dx + (P.y - A.y) * dy) / len2;
    const foot = { x: A.x + t * dx, y: A.y + t * dy };

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(P.x, P.y);
    ctx.lineTo(foot.x, foot.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.fillText('P(x‚ÇÄ, y‚ÇÄ)', P.x + 8, P.y - 5);
    ctx.fillStyle = '#4ade80';
    ctx.fillText('d', (P.x + foot.x) / 2 + 8, (P.y + foot.y) / 2);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('ax + by + c = 0', A.x + 10, A.y - (T.y - A.y) * 0.3 - 15);

    // Small perpendicular marker
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(foot.x, foot.y, 3, 0, Math.PI * 2);
    ctx.fill();
  }

  // --- Main canvas ---
  const mc = document.getElementById('mainCanvas');
  const mctx = mc.getContext('2d');
  const MW = mc.width, MH = mc.height;
  const slider = document.getElementById('rSlider');
  const rDisp = document.getElementById('rDisplay');

  // Cone parameters
  const R_cone = 3; // base radius
  const h_cone = 4; // height
  const r_correct = 12 / 5; // correct hemisphere radius

  function drawScene(rVal) {
    mctx.clearRect(0, 0, MW, MH);
    mctx.fillStyle = '#0f172a';
    mctx.fillRect(0, 0, MW, MH);

    // Coordinate transform: we map the cross-section triangle to canvas
    // Triangle: apex (0, 4), base from (-3, 0) to (3, 0)
    // Canvas mapping
    const margin = 60;
    const plotW = MW - 2 * margin;
    const plotH = MH - 2 * margin;

    // Scale: we need x from -4 to 4, y from -0.5 to 5
    const xRange = 8;
    const yRange = 5.5;
    const scaleX = plotW / xRange;
    const scaleY = plotH / yRange;
    const scale = Math.min(scaleX, scaleY);

    const originX = MW / 2;
    const originY = MH - margin - 0.5 * scale;

    function toC(x, y) {
      return { x: originX + x * scale, y: originY - y * scale };
    }

    // Grid
    mctx.strokeStyle = '#1e293b';
    mctx.lineWidth = 1;
    for (let gx = -4; gx <= 4; gx++) {
      const p1 = toC(gx, -0.5);
      const p2 = toC(gx, 5);
      mctx.beginPath();
      mctx.moveTo(p1.x, p1.y);
      mctx.lineTo(p2.x, p2.y);
      mctx.stroke();
    }
    for (let gy = 0; gy <= 5; gy++) {
      const p1 = toC(-4, gy);
      const p2 = toC(4, gy);
      mctx.beginPath();
      mctx.moveTo(p1.x, p1.y);
      mctx.lineTo(p2.x, p2.y);
      mctx.stroke();
    }

    // Axes
    mctx.strokeStyle = '#475569';
    mctx.lineWidth = 1.5;
    // x-axis
    let p1 = toC(-4, 0), p2 = toC(4, 0);
    mctx.beginPath(); mctx.moveTo(p1.x, p1.y); mctx.lineTo(p2.x, p2.y); mctx.stroke();
    // y-axis
    p1 = toC(0, -0.5); p2 = toC(0, 5);
    mctx.beginPath(); mctx.moveTo(p1.x, p1.y); mctx.lineTo(p2.x, p2.y); mctx.stroke();

    // Axis labels
    mctx.font = '12px Segoe UI, sans-serif';
    mctx.fillStyle = '#64748b';
    for (let gx = -3; gx <= 3; gx++) {
      if (gx === 0) continue;
      const p = toC(gx, 0);
      mctx.fillText(gx.toString(), p.x - 4, p.y + 16);
    }
    for (let gy = 1; gy <= 4; gy++) {
      const p = toC(0, gy);
      mctx.fillText(gy.toString(), p.x + 8, p.y + 4);
    }

    // Cone triangle: apex (0,4), base (-3, 0) to (3, 0)
    const apex = toC(0, h_cone);
    const baseL = toC(-R_cone, 0);
    const baseR = toC(R_cone, 0);

    // Shaded cone interior
    mctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    mctx.beginPath();
    mctx.moveTo(apex.x, apex.y);
    mctx.lineTo(baseL.x, baseL.y);
    mctx.lineTo(baseR.x, baseR.y);
    mctx.closePath();
    mctx.fill();

    // Cone edges
    mctx.strokeStyle = '#60a5fa';
    mctx.lineWidth = 2.5;
    mctx.beginPath();
    mctx.moveTo(apex.x, apex.y);
    mctx.lineTo(baseL.x, baseL.y);
    mctx.lineTo(baseR.x, baseR.y);
    mctx.closePath();
    mctx.stroke();

    // Hemisphere semicircle
    const center = toC(0, 0);
    const radiusPx = rVal * scale;

    // Filled semicircle
    mctx.fillStyle = 'rgba(244, 114, 182, 0.12)';
    mctx.beginPath();
    mctx.arc(center.x, center.y, radiusPx, Math.PI, 0, false);
    mctx.closePath();
    mctx.fill();

    // Semicircle outline
    const isTangent = Math.abs(rVal - r_correct) < 0.05;
    mctx.strokeStyle = isTangent ? '#4ade80' : '#f472b6';
    mctx.lineWidth = 2.5;
    mctx.beginPath();
    mctx.arc(center.x, center.y, radiusPx, Math.PI, 0, false);
    mctx.closePath();
    mctx.stroke();

    // Base of semicircle
    const sLeft = toC(-rVal, 0);
    const sRight = toC(rVal, 0);
    mctx.strokeStyle = isTangent ? '#4ade80' : '#f472b6';
    mctx.lineWidth = 2;
    mctx.beginPath();
    mctx.moveTo(sLeft.x, sLeft.y);
    mctx.lineTo(sRight.x, sRight.y);
    mctx.stroke();

    // Tangent point on right side: closest point from origin to line 4x+3y=12
    // Foot of perpendicular from (0,0) to 4x+3y-12=0:
    // x = 4*12/25 = 48/25, y = 3*12/25 = 36/25
    if (isTangent) {
      const tx = 48 / 25, ty = 36 / 25;
      const tPt = toC(tx, ty);
      mctx.fillStyle = '#4ade80';
      mctx.beginPath();
      mctx.arc(tPt.x, tPt.y, 5, 0, Math.PI * 2);
      mctx.fill();

      // Perpendicular line from center to tangent point
      mctx.strokeStyle = '#4ade80';
      mctx.lineWidth = 1.5;
      mctx.setLineDash([5, 4]);
      mctx.beginPath();
      mctx.moveTo(center.x, center.y);
      mctx.lineTo(tPt.x, tPt.y);
      mctx.stroke();
      mctx.setLineDash([]);

      // Label r
      const midX = (center.x + tPt.x) / 2;
      const midY = (center.y + tPt.y) / 2;
      mctx.font = 'bold 14px Segoe UI, sans-serif';
      mctx.fillStyle = '#4ade80';
      mctx.fillText('r = 12/5', midX + 10, midY);

      // Also on left side
      const tx2 = -48 / 25, ty2 = 36 / 25;
      const tPt2 = toC(tx2, ty2);
      mctx.fillStyle = '#4ade80';
      mctx.beginPath();
      mctx.arc(tPt2.x, tPt2.y, 5, 0, Math.PI * 2);
      mctx.fill();

      mctx.strokeStyle = '#4ade80';
      mctx.lineWidth = 1.5;
      mctx.setLineDash([5, 4]);
      mctx.beginPath();
      mctx.moveTo(center.x, center.y);
      mctx.lineTo(tPt2.x, tPt2.y);
      mctx.stroke();
      mctx.setLineDash([]);
    }

    // Radius line from center going up
    const topPt = toC(0, rVal);
    mctx.strokeStyle = '#f472b6';
    mctx.lineWidth = 1.5;
    mctx.setLineDash([4, 3]);
    mctx.beginPath();
    mctx.moveTo(center.x, center.y);
    mctx.lineTo(topPt.x, topPt.y);
    mctx.stroke();
    mctx.setLineDash([]);

    // Height line
    mctx.strokeStyle = '#94a3b8';
    mctx.lineWidth = 1;
    mctx.setLineDash([4, 4]);
    mctx.beginPath();
    mctx.moveTo(center.x + 3, center.y);
    mctx.lineTo(apex.x + 3, apex.y);
    mctx.stroke();
    mctx.setLineDash([]);

    // Point labels
    mctx.font = 'bold 13px Segoe UI, sans-serif';

    mctx.fillStyle = '#60a5fa';
    mctx.fillText('T(0, 4)', apex.x + 10, apex.y + 5);
    mctx.fillText('A(-3, 0)', baseL.x - 55, baseL.y + 18);
    mctx.fillText('B(3, 0)', baseR.x + 8, baseR.y + 18);

    mctx.fillStyle = '#e2e8f0';
    mctx.fillText('O(0, 0)', center.x + 8, center.y + 18);

    mctx.fillStyle = '#94a3b8';
    mctx.fillText('h = 4', apex.x + 12, (center.y + apex.y) / 2);
    mctx.fillText('R = 3', (center.x + baseR.x) / 2, center.y + 32);

    // Vertex dots
    mctx.fillStyle = '#60a5fa';
    [apex, baseL, baseR].forEach(pt => {
      mctx.beginPath();
      mctx.arc(pt.x, pt.y, 4, 0, Math.PI * 2);
      mctx.fill();
    });

    mctx.fillStyle = '#e2e8f0';
    mctx.beginPath();
    mctx.arc(center.x, center.y, 4, 0, Math.PI * 2);
    mctx.fill();

    // Status text
    mctx.font = 'bold 14px Segoe UI, sans-serif';
    if (isTangent) {
      mctx.fillStyle = '#4ade80';
      mctx.fillText('‚úì Polulopta dodiruje omotaƒç kupe!', MW / 2 - 130, 30);
    } else if (rVal > r_correct) {
      mctx.fillStyle = '#e09468';
      mctx.fillText('Polulopta probija omotaƒç kupe', MW / 2 - 115, 30);
    } else {
      mctx.fillStyle = '#94a3b8';
      mctx.fillText('Polulopta ne dodiruje omotaƒç', MW / 2 - 110, 30);
    }

    // Legend
    const legX = MW - 200, legY = 20;
    mctx.font = '12px Segoe UI, sans-serif';

    mctx.fillStyle = '#60a5fa';
    mctx.fillRect(legX, legY, 14, 14);
    mctx.fillStyle = '#94a3b8';
    mctx.fillText('Kupa (presek)', legX + 20, legY + 12);

    mctx.fillStyle = isTangent ? '#4ade80' : '#f472b6';
    mctx.fillRect(legX, legY + 22, 14, 14);
    mctx.fillStyle = '#94a3b8';
    mctx.fillText('Polulopta (presek)', legX + 20, legY + 34);
  }

  drawScene(r_correct);

  slider.addEventListener('input', function() {
    const val = parseFloat(this.value);
    rDisp.textContent = val.toFixed(2).replace('.', ',');
    drawScene(val);
  });

  // Step click handlers
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
    step.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        steps.forEach(s => s.classList.remove('active'));
        this.classList.add('active');
      }
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Polulopta upisana u pravu kupu -- zapremina",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "zapremina", "kupa", "polulopta", "rastojanje taƒçke od prave"]
}
BRAINSPARK_META-->