<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kombinatorika ‚Äî Izbor brojeva sa ostatkom pri deljenju</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Choose 3 natural numbers less than 31 such that they do NOT all have the same remainder when divided by 3.

SOLUTION:
Natural numbers less than 31 = {1, 2, 3, ..., 30}, total = 30 numbers.

Partition by remainder mod 3:
  R0 = {3, 6, 9, 12, 15, 18, 21, 24, 27, 30} ‚Üí |R0| = 10
  R1 = {1, 4, 7, 10, 13, 16, 19, 22, 25, 28} ‚Üí |R1| = 10
  R2 = {2, 5, 8, 11, 14, 17, 20, 23, 26, 29} ‚Üí |R2| = 10

Approach: Total ways to choose 3 from 30, minus ways where all 3 have the same remainder.

Total ways = C(30, 3) = 30! / (3! * 27!) = (30 * 29 * 28) / 6 = 24360 / 6 = 4060

Ways all same remainder:
  All from R0: C(10, 3) = 120
  All from R1: C(10, 3) = 120
  All from R2: C(10, 3) = 120
  Total same = 360

Answer = 4060 - 360 = 3700

This matches option C) 3700.

VERIFICATION:
- C(30,3) = 30*29*28/6 = 24360/6 = 4060 ‚úì
- C(10,3) = 10*9*8/6 = 720/6 = 120 ‚úì
- 3*120 = 360 ‚úì
- 4060 - 360 = 3700 ‚úì
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  flex: 0 1 auto;
  min-width: 100px;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #c4b5fd;
  font-size: 1.02rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.theory-content li:last-child {
  border-bottom: none;
}

.step-container {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 14px;
  cursor: pointer;
  transition: all 0.2s;
  border-left: 3px solid transparent;
}

.step-container:hover,
.step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.05rem;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 6px;
  font-style: italic;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.checkpoint-answer {
  color: #4ade80;
  font-weight: 600;
  padding-top: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
}

.insight-formula {
  font-size: 1.3rem;
  color: #4ade80;
  margin: 14px 0;
}

.final-answer {
  text-align: center;
  border: 2px solid #4ade80;
  background: rgba(52,211,153,0.08);
}

.final-answer .answer-value {
  font-size: 2rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 18px 0;
}

.final-option {
  padding: 10px 22px;
  border-radius: 8px;
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  color: #94a3b8;
  font-size: 1rem;
}

.final-option.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: 700;
}

.verification {
  margin-top: 14px;
  padding: 12px 16px;
  background: rgba(52,211,153,0.06);
  border-radius: 8px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.pitfalls {
  border-left: 3px solid #e09468;
}

.pitfalls h2 {
  color: #e09468;
}

.pitfalls ul {
  list-style: none;
  padding-left: 0;
}

.pitfalls li {
  padding: 6px 0;
  color: #cbd5e1;
}

.pitfalls li::before {
  content: "‚ö† ";
  color: #e09468;
}

.challenge {
  border-left: 3px solid #f472b6;
}

.challenge h2 {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  width: 100%;
  max-width: 700px;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 8px 12px; }
  .step-container { flex-direction: column; gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Kombinatorika ‚Äî Izbor trojki po ostatku</h1>
  <p class="subtitle">Prebrojavanje kombinacija prirodnih brojeva prema ostatku pri deljenju</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Broj naƒçina da se izaberu <span class="highlight-blue">tri prirodna broja</span> manja od <span class="highlight-pink">31</span> tako da <span class="highlight-green">nemaju sva tri isti ostatak</span> pri deljenju sa <span class="highlight-pink">3</span>, jednak je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(3940\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(3820\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(3700\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(5700\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(1000\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Podeliƒáemo brojeve od 1 do 30 u tri grupe prema ostatku pri deljenju sa 3, zatim od ukupnog broja kombinacija oduzeti one u kojima sva tri broja pripadaju istoj grupi (princip komplementa).</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Kombinacija bez ponavljanja:</strong> Broj naƒçina da se izabere \(k\) elemenata od \(n\) bez ponavljanja je \[\binom{n}{k} = \frac{n!}{k!(n-k)!}\]</li>
          <li><strong>Princip komplementa:</strong> Ako je te≈°ko direktno prebrojati ≈æeljene ishode, va≈æi \[|A'| = |U| - |A|\] gde je \(U\) ukupan skup, \(A\) skup ne≈æeljenih ishoda, a \(A'\) skup ≈æeljenih ishoda.</li>
          <li><strong>Ostatak pri deljenju (moduo):</strong> Svaki prirodan broj pri deljenju sa 3 daje ostatak 0, 1 ili 2. To stvara particiju skupa na tri disjunktna podskupa.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="mainCanvas" width="700" height="500"></canvas>
    <p class="canvas-hint">Prikaz particije brojeva 1‚Äì30 prema ostatku pri deljenju sa 3</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Re≈°enje ‚Äî korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikujemo skup brojeva</h3>
        <p>Prirodni brojevi manji od 31 su brojevi od 1 do 30. Ukupno imamo <span class="highlight-blue">30 brojeva</span>.</p>
        <div class="math-block">
          \[ \{1, 2, 3, \ldots, 30\} \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Delimo brojeve u grupe prema ostatku pri deljenju sa 3</h3>
        <p>Svaki broj pri deljenju sa 3 daje ostatak 0, 1 ili 2:</p>
        <div class="math-block">
          <p><span class="highlight-blue">Ostatak 0:</span> \(\{3, 6, 9, 12, 15, 18, 21, 24, 27, 30\}\) ‚Äî <strong>10 brojeva</strong></p>
        </div>
        <div class="math-block">
          <p><span class="highlight-pink">Ostatak 1:</span> \(\{1, 4, 7, 10, 13, 16, 19, 22, 25, 28\}\) ‚Äî <strong>10 brojeva</strong></p>
        </div>
        <div class="math-block">
          <p><span class="highlight-green">Ostatak 2:</span> \(\{2, 5, 8, 11, 14, 17, 20, 23, 26, 29\}\) ‚Äî <strong>10 brojeva</strong></p>
        </div>
        <p class="note">Svaka grupa sadr≈æi taƒçno 10 elemenata jer u svakom uzastopnom trojcu (npr. 1,2,3) postoji taƒçno po jedan broj sa svakim ostatkom.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üß† Proveri sebe: Koliko ima brojeva u svakoj grupi?</summary>
      <p class="checkpoint-answer">Taƒçno 10 u svakoj od tri grupe. Ukupno: \(10 + 10 + 10 = 30\). ‚úì</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izraƒçunamo ukupan broj naƒçina da izaberemo 3 broja od 30</h3>
        <p>Koristimo formulu za kombinacije:</p>
        <div class="math-block">
          \[ \binom{30}{3} = \frac{30!}{3! \cdot 27!} = \frac{30 \cdot 29 \cdot 28}{3 \cdot 2 \cdot 1} \]
        </div>
        <div class="math-block">
          \[ = \frac{24360}{6} = 4060 \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Prebrojimo ne≈æeljene ishode ‚Äî sva tri isti ostatak</h3>
        <p>Koristimo princip komplementa. Ne≈æeljeni ishod je kada sva tri broja imaju <strong>isti</strong> ostatak pri deljenju sa 3.</p>
        <p>Za svaku grupu od 10 elemenata, broj naƒçina da izaberemo 3:</p>
        <div class="math-block">
          \[ \binom{10}{3} = \frac{10 \cdot 9 \cdot 8}{6} = \frac{720}{6} = 120 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Saberemo ne≈æeljene za sve tri grupe</h3>
        <p>Po≈°to imamo tri grupe (ostatak 0, 1 i 2), ukupan broj ne≈æeljenih ishoda je:</p>
        <div class="math-block">
          \[ 3 \cdot \binom{10}{3} = 3 \cdot 120 = 360 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üß† Proveri sebe: Za≈°to mno≈æimo sa 3?</summary>
      <p class="checkpoint-answer">Zato ≈°to postoje tri moguƒáe grupe (ostatak 0, 1 ili 2) i za svaku od njih raƒçunamo \(\binom{10}{3}\). To su tri disjunktna sluƒçaja.</p>
    </details>

    <!-- Step 6 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Primenimo princip komplementa</h3>
        <p>Od ukupnog broja kombinacija oduzimamo one gde sva tri imaju isti ostatak:</p>
        <div class="math-block">
          \[ \text{Tra≈æeni broj} = \binom{30}{3} - 3 \cdot \binom{10}{3} \]
        </div>
        <div class="math-block">
          \[ = 4060 - 360 = \boxed{3700} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üß† Proveri sebe: Da li rezultat ima smisla?</summary>
      <p class="checkpoint-answer">Da! Rezultat 3700 je manji od ukupnog broja \(\binom{30}{3} = 4060\), ≈°to je logiƒçno jer smo oduzeli 360 ne≈æeljenih. Takoƒëe, 3700 je mnogo veƒáe od 360, ≈°to znaƒçi da u veƒáini sluƒçajeva tri izabrana broja zaista nemaju isti ostatak ‚Äî ≈°to ima smisla jer je ‚Äûsva tri isti" restriktivniji uslov.</p>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Kljuƒçni uvid</h2>
    <p>Umesto da direktno brojimo trojke sa ‚Äûne svi isti ostatak" (≈°to je slo≈æeno jer pokriva mnogo sluƒçajeva), mnogo je elegantnije koristiti komplement ‚Äî prebrojimo one sa istim ostatkom i oduzmemo od ukupnog broja.</p>
    <div class="insight-formula">
      \[ 4060 - 3 \cdot 120 = 3700 \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konaƒçan odgovor</h2>
    <div class="answer-value">\(3700\)</div>
    <div class="final-options">
      <div class="final-option">A) 3940</div>
      <div class="final-option">B) 3820</div>
      <div class="final-option correct">C) 3700</div>
      <div class="final-option">D) 5700</div>
      <div class="final-option">E) 1000</div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Ukupno \(\binom{30}{3} = 4060\). Ne≈æeljeni: \(3 \times 120 = 360\). Razlika: \(4060 - 360 = 3700\). Rezultat pripada ponuƒëenim odgovorima ‚Äî odgovor je <strong>V) 3700</strong>.
    </div>
  </div>

  <!-- PITFALLS -->
  <div class="card pitfalls">
    <h2>ƒåeste gre≈°ke</h2>
    <ul>
      <li>Ukljuƒçivanje broja 0 ‚Äî zadatak tra≈æi <em>prirodne</em> brojeve, pa je opseg 1‚Äì30, ne 0‚Äì30. Sreƒáom, ƒçak i sa 0 (≈°to daje 11 brojeva sa ostatkom 0), proma≈°ili bismo ponuƒëene odgovore.</li>
      <li>Zbunjivanje ‚Äûmanja od 31" sa ‚Äûmanja ili jednaka 30" ‚Äî ovo je isti skup, ali treba biti oprezan pri ƒçitanju uslova.</li>
      <li>Poku≈°aj direktnog prebrojavanja umesto komplementa ‚Äî mogao bi dovesti do propu≈°tanja nekog sluƒçaja ili dvostrukog brojanja.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge">
    <h2>Dodatni izazov</h2>
    <p>Koliko ima naƒçina da se izaberu tri prirodna broja manja od 31 tako da sva tri imaju <strong>razliƒçit</strong> ostatak pri deljenju sa 3 (tj. po jedan iz svake grupe)?</p>
    <details>
      <summary>Hint</summary>
      <p>Ako biramo po jedan element iz svake od tri grupe od 10 elemenata, koristimo pravilo proizvoda: \(10 \times 10 \times 10 = 1000\). Primetite da je ovo upravo odgovor E) iz ponuƒëenih opcija!</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Canvas visualization
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const W = canvas.width;
    const H = canvas.height;

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Particija skupa {1, 2, ..., 30} prema ostatku pri deljenju sa 3', W / 2, 30);

    // Three groups configuration
    const groups = [
      {
        label: 'Ostatak 0',
        color: '#60a5fa',
        bgColor: 'rgba(96,165,250,0.1)',
        borderColor: 'rgba(96,165,250,0.4)',
        numbers: [3, 6, 9, 12, 15, 18, 21, 24, 27, 30]
      },
      {
        label: 'Ostatak 1',
        color: '#f472b6',
        bgColor: 'rgba(244,114,182,0.1)',
        borderColor: 'rgba(244,114,182,0.4)',
        numbers: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28]
      },
      {
        label: 'Ostatak 2',
        color: '#4ade80',
        bgColor: 'rgba(74,222,128,0.1)',
        borderColor: 'rgba(74,222,128,0.4)',
        numbers: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29]
      }
    ];

    const groupWidth = 200;
    const groupHeight = 320;
    const startX = (W - 3 * groupWidth - 2 * 25) / 2;
    const startY = 55;

    groups.forEach((group, gi) => {
      const gx = startX + gi * (groupWidth + 25);
      const gy = startY;

      // Group background
      ctx.fillStyle = group.bgColor;
      ctx.strokeStyle = group.borderColor;
      ctx.lineWidth = 2;

      const r = 12;
      ctx.beginPath();
      ctx.moveTo(gx + r, gy);
      ctx.lineTo(gx + groupWidth - r, gy);
      ctx.quadraticCurveTo(gx + groupWidth, gy, gx + groupWidth, gy + r);
      ctx.lineTo(gx + groupWidth, gy + groupHeight - r);
      ctx.quadraticCurveTo(gx + groupWidth, gy + groupHeight, gx + groupWidth - r, gy + groupHeight);
      ctx.lineTo(gx + r, gy + groupHeight);
      ctx.quadraticCurveTo(gx, gy + groupHeight, gx, gy + groupHeight - r);
      ctx.lineTo(gx, gy + r);
      ctx.quadraticCurveTo(gx, gy, gx + r, gy);
      ctx.closePath();
      ctx.fill();
      ctx.stroke();

      // Group label
      ctx.fillStyle = group.color;
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(group.label, gx + groupWidth / 2, gy + 28);

      // Count
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('10 brojeva', gx + groupWidth / 2, gy + 48);

      // Numbers in grid (2 columns of 5)
      const numStartY = gy + 68;
      const cellW = 80;
      const cellH = 44;

      group.numbers.forEach((num, ni) => {
        const col = ni % 2;
        const row = Math.floor(ni / 2);
        const cx = gx + 20 + col * (cellW + 10) + cellW / 2;
        const cy = numStartY + row * (cellH + 4) + cellH / 2;

        // Number cell background
        ctx.fillStyle = 'rgba(30,41,59,0.8)';
        ctx.beginPath();
        ctx.roundRect(cx - cellW / 2, cy - cellH / 2, cellW, cellH, 6);
        ctx.fill();

        // Number text
        ctx.fillStyle = group.color;
        ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(num.toString(), cx, cy);
      });

      // C(10,3) label
      ctx.fillStyle = group.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('C(10, 3) = 120', gx + groupWidth / 2, gy + groupHeight - 12);
    });

    // Summary section at bottom
    const sumY = startY + groupHeight + 30;

    // Summary box
    ctx.fillStyle = 'rgba(167,139,250,0.08)';
    ctx.strokeStyle = 'rgba(167,139,250,0.3)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(startX, sumY, 3 * groupWidth + 2 * 25, 70, 12);
    ctx.fill();
    ctx.stroke();

    const centerX = W / 2;

    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('C(30, 3) ‚àí 3 √ó C(10, 3)  =  4060 ‚àí 360  =  3700', centerX, sumY + 25);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Odgovor: 3700', centerX, sumY + 52);
  }

  draw();

  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
    step.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        steps.forEach(s => s.classList.remove('active'));
        step.classList.add('active');
      }
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Izbor tri broja sa razliƒçitim ostatkom pri deljenju sa 3",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["kombinatorika", "princip komplementa", "ostatak pri deljenju", "binomni koeficijent"]
}
BRAINSPARK_META-->