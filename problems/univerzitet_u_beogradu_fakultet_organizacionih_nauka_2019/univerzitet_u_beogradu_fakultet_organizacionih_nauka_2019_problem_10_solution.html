<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednaƒçina sa racionalnim izrazima</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Find the product of all real solutions of x^2 + x + 2/x + 4/x^2 = 2.

  Hint: substitution y = x + 2/x

  Step 1: Group terms
    x^2 + 4/x^2 + x + 2/x = 2

  Step 2: Let y = x + 2/x
    Then y^2 = (x + 2/x)^2 = x^2 + 2*x*(2/x) + 4/x^2 = x^2 + 4 + 4/x^2
    So x^2 + 4/x^2 = y^2 - 4

  Step 3: Substitute into equation
    (y^2 - 4) + y = 2
    y^2 + y - 6 = 0

  Step 4: Solve quadratic in y
    y^2 + y - 6 = 0
    (y + 3)(y - 2) = 0
    y = -3  or  y = 2

  Step 5: Case 1: y = -3 => x + 2/x = -3
    Multiply by x: x^2 + 2 = -3x
    x^2 + 3x + 2 = 0
    (x + 1)(x + 2) = 0
    x = -1  or  x = -2
    Both are nonzero, so both are valid.

  Step 6: Case 2: y = 2 => x + 2/x = 2
    Multiply by x: x^2 + 2 = 2x
    x^2 - 2x + 2 = 0
    Discriminant D = 4 - 8 = -4 < 0
    No real solutions.

  Step 7: Product of all real solutions
    x1 * x2 = (-1) * (-2) = 2

  Verification:
    For x = -1: (-1)^2 + (-1) + 2/(-1) + 4/(-1)^2 = 1 - 1 - 2 + 4 = 2 ‚úì
    For x = -2: (-2)^2 + (-2) + 2/(-2) + 4/(-2)^2 = 4 - 2 - 1 + 1 = 2 ‚úì

  Answer: A) 2
  This matches the answer key.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 12px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  background: rgba(52, 211, 153, 0.05);
  border-left-color: #34d399;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.step-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 6px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.final-opt {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
}

.final-opt.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  background: rgba(52, 211, 153, 0.06);
  border: 1px solid rgba(52, 211, 153, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
  text-align: center;
}

.checkpoint {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid rgba(96, 165, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  color: #60a5fa;
  font-size: 0.95rem;
}

.no-real {
  color: #f472b6;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }

  .card {
    padding: 18px;
  }

  .step {
    flex-direction: column;
    gap: 10px;
  }

  .given-grid {
    flex-direction: column;
  }

  .final-options {
    flex-direction: column;
    align-items: center;
  }

  .container {
    padding: 10px;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Jednaƒçina sa racionalnim izrazima</h1>
  <p class="subtitle">Algebra -- Re≈°avanje jednaƒçina smenom promenljive</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">üìù</span> Tekst zadatka</h2>
    <div class="problem-text">
      <p>Proizvod svih realnih re≈°enja jednaƒçine</p>
      <div class="highlight-box">
        \[ x^2 + x + \frac{2}{x} + \frac{4}{x^2} = 2 \]
      </div>
      <p>je:</p>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(8\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(6\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(4\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üéØ</span> Plan re≈°avanja</h2>
    <p class="plan-text">
      Primetiƒáemo da se ƒçlanovi mogu grupisati u parove \(x^2 + \frac{4}{x^2}\) i \(x + \frac{2}{x}\). Uvoƒëenjem smene \(y = x + \frac{2}{x}\) svodimo jednaƒçinu na kvadratnu po \(y\), zatim re≈°avamo za \(x\) i tra≈æimo proizvod realnih re≈°enja.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="detail-content">
        <ul style="list-style: none; padding: 0;">
          <li style="margin-bottom: 12px;">
            <strong>Kvadrat zbira:</strong> \((a + b)^2 = a^2 + 2ab + b^2\)
            <br><span style="color: #94a3b8;">Koristimo za razvijanje \(\left(x + \frac{2}{x}\right)^2\)</span>
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Kvadratna jednaƒçina:</strong> \(ax^2 + bx + c = 0\) ima re≈°enja
            \(x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}\)
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Diskriminanta:</strong> \(D = b^2 - 4ac\). Ako je \(D < 0\), nema realnih re≈°enja.
          </li>
          <li>
            <strong>Vjetov pravilo (za \(ax^2+bx+c=0\)):</strong> Proizvod korena: \(x_1 \cdot x_2 = \frac{c}{a}\)
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid / Canvas Diagram -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</h2>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">
      Graf leve strane jednaƒçine \(f(x) = x^2 + x + \frac{2}{x} + \frac{4}{x^2}\) i prava \(y = 2\). Preseci su realna re≈°enja.
    </p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üìñ</span> Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3 class="step-title">Grupisanje ƒçlanova</h3>
        <p>Preureƒëujemo jednaƒçinu tako da grupi≈°emo ƒçlanove sa istim "partnerom":</p>
        <div class="step-math">
          \[ \left(x^2 + \frac{4}{x^2}\right) + \left(x + \frac{2}{x}\right) = 2 \]
        </div>
        <p class="step-note">Primetimo da su \(x^2\) i \(\frac{4}{x^2}\) kvadrati od \(x\) i \(\frac{2}{x}\), a \(x\) i \(\frac{2}{x}\) su upravo ti bazni izrazi.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3 class="step-title">Uvoƒëenje smene</h3>
        <p>Neka je:</p>
        <div class="step-math">
          \[ y = x + \frac{2}{x} \]
        </div>
        <p>Tada kvadriramo obe strane:</p>
        <div class="step-math">
          \[ y^2 = \left(x + \frac{2}{x}\right)^2 = x^2 + 2 \cdot x \cdot \frac{2}{x} + \frac{4}{x^2} = x^2 + 4 + \frac{4}{x^2} \]
        </div>
        <p>Odatle sledi:</p>
        <div class="step-math">
          \[ x^2 + \frac{4}{x^2} = y^2 - 4 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üîé Proveri se: ≈†ta je \(x^2 + \frac{4}{x^2}\) ako je \(y = 3\)?</summary>
      <div class="detail-content">
        <p>\(y^2 - 4 = 9 - 4 = 5\). Dakle, \(x^2 + \frac{4}{x^2} = 5\).</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3 class="step-title">Zamena u polaznoj jednaƒçini</h3>
        <p>Zamenjujemo u jednaƒçinu iz koraka 1:</p>
        <div class="step-math">
          \[ (y^2 - 4) + y = 2 \]
        </div>
        <p>Sreƒëujemo:</p>
        <div class="step-math">
          \[ y^2 + y - 6 = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3 class="step-title">Re≈°avanje kvadratne jednaƒçine po \(y\)</h3>
        <p>Faktorizujemo:</p>
        <div class="step-math">
          \[ y^2 + y - 6 = (y + 3)(y - 2) = 0 \]
        </div>
        <p>Re≈°enja su:</p>
        <div class="step-math">
          \[ y_1 = -3 \qquad \text{ili} \qquad y_2 = 2 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üîé Proveri se: Da li je \((-3)^2 + (-3) - 6 = 0\)?</summary>
      <div class="detail-content">
        <p>\(9 - 3 - 6 = 0\) -- Da, taƒçno!</p>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3 class="step-title">Sluƒçaj 1: \(y = -3\)</h3>
        <p>Vraƒáamo smenu \(x + \frac{2}{x} = -3\). Mno≈æimo sa \(x\) (znamo da je \(x \neq 0\)):</p>
        <div class="step-math">
          \[ x^2 + 2 = -3x \]
        </div>
        <div class="step-math">
          \[ x^2 + 3x + 2 = 0 \]
        </div>
        <p>Faktorizujemo:</p>
        <div class="step-math">
          \[ (x + 1)(x + 2) = 0 \]
        </div>
        <p>Re≈°enja: \(x_1 = -1\) i \(x_2 = -2\).</p>
        <p class="step-note">Oba re≈°enja su razliƒçita od nule, pa su validna.</p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3 class="step-title">Sluƒçaj 2: \(y = 2\)</h3>
        <p>Vraƒáamo smenu \(x + \frac{2}{x} = 2\). Mno≈æimo sa \(x\):</p>
        <div class="step-math">
          \[ x^2 + 2 = 2x \]
        </div>
        <div class="step-math">
          \[ x^2 - 2x + 2 = 0 \]
        </div>
        <p>Raƒçunamo diskriminantu:</p>
        <div class="step-math">
          \[ D = (-2)^2 - 4 \cdot 1 \cdot 2 = 4 - 8 = -4 < 0 \]
        </div>
        <p class="no-real">Nema realnih re≈°enja u ovom sluƒçaju.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üîé Proveri se: Koliko ukupno realnih re≈°enja ima jednaƒçina?</summary>
      <div class="detail-content">
        <p>Taƒçno <strong>dva</strong> realna re≈°enja: \(x = -1\) i \(x = -2\) (oba iz prvog sluƒçaja).</p>
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3 class="step-title">Proizvod svih realnih re≈°enja</h3>
        <p>Jedina realna re≈°enja su \(x_1 = -1\) i \(x_2 = -2\). Njihov proizvod je:</p>
        <div class="step-math">
          \[ x_1 \cdot x_2 = (-1) \cdot (-2) = 2 \]
        </div>
        <p class="step-note">Alternativno, po Vijetovom pravilu za \(x^2 + 3x + 2 = 0\): proizvod korena je \(\frac{c}{a} = \frac{2}{1} = 2\).</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2 class="card-title"><span class="icon">üí°</span> Kljuƒçni uvid</h2>
    <p>Trik je u prepoznavanju strukture: jednaƒçina sadr≈æi \(x + \frac{2}{x}\) i njegov kvadrat \(x^2 + \frac{4}{x^2}\). Smenom \(y = x + \frac{2}{x}\) cela jednaƒçina postaje obiƒçna kvadratna po \(y\). Jedan od dva sluƒçaja daje negativnu diskriminantu, pa preostaju samo dva realna re≈°enja ƒçiji je proizvod:</p>
    <div class="step-math" style="font-size: 1.4rem; color: #4ade80;">
      \[ (-1) \cdot (-2) = 2 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konaƒçan odgovor</div>
    <div class="answer-value">\(2\)</div>
    <div class="answer-option">Odgovor: (A)</div>
    <div class="final-options">
      <div class="final-opt correct">(A) \(2\)</div>
      <div class="final-opt">(B) \(8\)</div>
      <div class="final-opt">(C) \(1\)</div>
      <div class="final-opt">(D) \(6\)</div>
      <div class="final-opt">(E) \(4\)</div>
    </div>
    <div class="verification-note">
      <strong>Provera:</strong> Za \(x = -1\): \(1 - 1 - 2 + 4 = 2\) ‚úì &nbsp;|&nbsp; Za \(x = -2\): \(4 - 2 - 1 + 1 = 2\) ‚úì &nbsp;|&nbsp; Proizvod: \((-1)(-2) = 2\) ‚úì
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2 class="card-title"><span class="icon">‚ö†Ô∏è</span> ƒåeste gre≈°ke</h2>
    <div class="pitfall">
      <span class="pitfall-icon">!</span>
      <p><strong>Zaboraviti da proverite diskriminantu:</strong> Mnogi uƒçenici pretpostave da oba sluƒçaja (\(y = -3\) i \(y = 2\)) daju realna re≈°enja. Sluƒçaj \(y = 2\) daje kompleksna re≈°enja koja se ne raƒçunaju u proizvod realnih korena.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">!</span>
      <p><strong>Pogre≈°na smena:</strong> Ako poku≈°ate smenu \(y = x + \frac{1}{x}\) umesto \(y = x + \frac{2}{x}\), neƒáe se lepo grupisati jer je koeficijent uz \(\frac{4}{x^2}\) upravo \(\left(\frac{2}{x}\right)^2\), a ne \(\left(\frac{1}{x}\right)^2\).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2 class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</h2>
    <p>Odredite <em>zbir</em> svih realnih re≈°enja iste jednaƒçine \(x^2 + x + \frac{2}{x} + \frac{4}{x^2} = 2\).</p>
    <details>
      <summary>Hint</summary>
      <div class="detail-content">
        <p>Veƒá znate da su realna re≈°enja \(x = -1\) i \(x = -2\). Zbir je \(-1 + (-2) = -3\). Po Vijetovom pravilu za jednaƒçinu \(x^2 + 3x + 2 = 0\): zbir korena je \(-\frac{b}{a} = -3\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlight
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram: plot f(x) = x^2 + x + 2/x + 4/x^2 and y = 2
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system
  const xMin = -5, xMax = 5;
  const yMin = -6, yMax = 14;

  function toCanvasX(x) {
    return ((x - xMin) / (xMax - xMin)) * W;
  }

  function toCanvasY(y) {
    return H - ((y - yMin) / (yMax - yMin)) * H;
  }

  function f(x) {
    if (Math.abs(x) < 0.05) return NaN;
    return x * x + x + 2 / x + 4 / (x * x);
  }

  // Background
  ctx.fillStyle = '#0c1222';
  ctx.fillRect(0, 0, W, H);

  // Grid
  ctx.strokeStyle = '#1e293b';
  ctx.lineWidth = 1;
  for (let x = Math.ceil(xMin); x <= xMax; x++) {
    ctx.beginPath();
    ctx.moveTo(toCanvasX(x), 0);
    ctx.lineTo(toCanvasX(x), H);
    ctx.stroke();
  }
  for (let y = Math.ceil(yMin); y <= yMax; y++) {
    ctx.beginPath();
    ctx.moveTo(0, toCanvasY(y));
    ctx.lineTo(W, toCanvasY(y));
    ctx.stroke();
  }

  // Axes
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 1.5;
  // x-axis
  ctx.beginPath();
  ctx.moveTo(0, toCanvasY(0));
  ctx.lineTo(W, toCanvasY(0));
  ctx.stroke();
  // y-axis
  ctx.beginPath();
  ctx.moveTo(toCanvasX(0), 0);
  ctx.lineTo(toCanvasX(0), H);
  ctx.stroke();

  // Axis labels
  ctx.fillStyle = '#94a3b8';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  for (let x = Math.ceil(xMin); x <= xMax; x++) {
    if (x === 0) continue;
    ctx.fillText(x.toString(), toCanvasX(x), toCanvasY(0) + 16);
  }
  ctx.textAlign = 'right';
  for (let y = Math.ceil(yMin); y <= yMax; y += 2) {
    if (y === 0) continue;
    ctx.fillText(y.toString(), toCanvasX(0) - 8, toCanvasY(y) + 4);
  }

  // Draw y = 2 line
  ctx.strokeStyle = '#34d399';
  ctx.lineWidth = 2;
  ctx.setLineDash([8, 4]);
  ctx.beginPath();
  ctx.moveTo(0, toCanvasY(2));
  ctx.lineTo(W, toCanvasY(2));
  ctx.stroke();
  ctx.setLineDash([]);

  // Label y=2
  ctx.fillStyle = '#34d399';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('y = 2', W - 55, toCanvasY(2) - 8);

  // Draw f(x)
  ctx.strokeStyle = '#60a5fa';
  ctx.lineWidth = 2.5;

  // Draw in two segments (x < 0 and x > 0) to handle discontinuity at x = 0
  function drawSegment(startX, endX) {
    ctx.beginPath();
    let started = false;
    const step = (endX - startX) / 800;
    for (let x = startX; x <= endX; x += step) {
      const y = f(x);
      if (isNaN(y) || y < yMin - 5 || y > yMax + 5) {
        started = false;
        continue;
      }
      const cx = toCanvasX(x);
      const cy = toCanvasY(y);
      if (!started) {
        ctx.moveTo(cx, cy);
        started = true;
      } else {
        ctx.lineTo(cx, cy);
      }
    }
    ctx.stroke();
  }

  drawSegment(xMin, -0.05);
  drawSegment(0.05, xMax);

  // Label f(x)
  ctx.fillStyle = '#60a5fa';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('f(x) = x\u00B2 + x + 2/x + 4/x\u00B2', 12, 22);

  // Mark intersection points
  const solutions = [-2, -1];
  solutions.forEach(xVal => {
    const yVal = 2;
    const cx = toCanvasX(xVal);
    const cy = toCanvasY(yVal);

    // Glow
    const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, 18);
    grad.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
    grad.addColorStop(1, 'rgba(74, 222, 128, 0)');
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(cx, cy, 18, 0, Math.PI * 2);
    ctx.fill();

    // Point
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(cx, cy, 6, 0, Math.PI * 2);
    ctx.fill();

    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, 6, 0, Math.PI * 2);
    ctx.stroke();

    // Label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = ' + xVal, cx, cy - 16);
  });

  // Legend
  ctx.fillStyle = '#94a3b8';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';

  // f(x) legend
  ctx.strokeStyle = '#60a5fa';
  ctx.lineWidth = 2.5;
  ctx.beginPath();
  ctx.moveTo(14, H - 40);
  ctx.lineTo(40, H - 40);
  ctx.stroke();
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('f(x)', 46, H - 36);

  // y=2 legend
  ctx.strokeStyle = '#34d399';
  ctx.lineWidth = 2;
  ctx.setLineDash([6, 3]);
  ctx.beginPath();
  ctx.moveTo(14, H - 20);
  ctx.lineTo(40, H - 20);
  ctx.stroke();
  ctx.setLineDash([]);
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('y = 2', 46, H - 16);

  // Solutions legend
  ctx.fillStyle = '#4ade80';
  ctx.beginPath();
  ctx.arc(26, H - 2, 5, 0, Math.PI * 2);
  ctx.fill();
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('Realna re≈°enja', 46, H - 0);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Jednaƒçina sa racionalnim izrazima - smena promenljive",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["racionalne jednaƒçine", "smena promenljive", "kvadratne jednaƒçine", "diskriminanta", "Vijetove formule"]
}
BRAINSPARK_META-->