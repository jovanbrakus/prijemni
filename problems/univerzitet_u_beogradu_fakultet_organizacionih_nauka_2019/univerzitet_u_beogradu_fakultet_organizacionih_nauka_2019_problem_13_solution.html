<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valjak upisan u zarubljenu kupu</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Truncated cone (frustum) with volume 3150*pi cm^3, base diameters 40 cm and 10 cm.
  A cylinder is inscribed so that one base lies on the larger base of the frustum,
  and the other base touches the lateral surface along its entire circumference.
  Cylinder height = cylinder diameter (h = 2r).
  Find the total surface area of the cylinder.

  Step 1: Determine the height of the truncated cone.
    R = 20 cm (larger base radius), r = 5 cm (smaller base radius)
    Volume of frustum: V = (pi * H / 3)(R^2 + R*r + r^2)
    3150*pi = (pi * H / 3)(400 + 100 + 25)
    3150*pi = (pi * H / 3)(525)
    3150 = 175*H
    H = 18 cm

  Step 2: Find the height of the full (complete) cone.
    The frustum is the bottom part of a full cone. Let H_full be the height of the full cone.
    By similar triangles: r / R = (H_full - H) / H_full
    5/20 = (H_full - 18) / H_full
    1/4 = 1 - 18/H_full
    18/H_full = 3/4
    H_full = 24 cm

  Step 3: Express radius of the cone at height z from the larger base.
    At z = 0: radius = R = 20
    At z = H = 18: radius = r = 5
    At z = H_full = 24: radius = 0 (apex)
    radius(z) = 20 * (1 - z/24) = 20 - 5z/6

  Step 4: Find the cylinder dimensions.
    The cylinder has radius r_c and height h_c = 2*r_c.
    Its bottom base is on the larger base (z = 0), radius r_c.
    Its top base at height h_c = 2*r_c must touch the lateral surface.
    This means the top circle has radius r_c = radius of cone at height 2*r_c:
    r_c = 20 - 5*(2*r_c)/6
    r_c = 20 - 10*r_c/6
    r_c = 20 - 5*r_c/3
    r_c + 5*r_c/3 = 20
    3*r_c/3 + 5*r_c/3 = 20
    8*r_c/3 = 20
    r_c = 60/8 = 15/2 = 7.5 cm
    h_c = 2 * 7.5 = 15 cm

  Step 5: Verify cylinder fits inside frustum.
    h_c = 15 < H = 18, so the cylinder is shorter than the frustum. Good.
    At bottom (z=0): cone radius = 20 > r_c = 7.5. Good.
    At top (z=15): cone radius = 20 - 5*15/6 = 20 - 75/6 = 20 - 12.5 = 7.5 = r_c. Perfect tangency.

  Step 6: Calculate total surface area of the cylinder.
    S = 2*pi*r_c^2 + 2*pi*r_c*h_c
    S = 2*pi*(15/2)^2 + 2*pi*(15/2)*15
    S = 2*pi*225/4 + 2*pi*225/2
    S = 225*pi/2 + 225*pi
    S = 225*pi/2 + 450*pi/2
    S = 675*pi/2 cm^2

  Answer: E) 675*pi/2 cm^2

  Verification:
    r_c = 7.5 cm, h_c = 15 cm
    Two bases: 2 * pi * 56.25 = 112.5*pi
    Lateral: 2 * pi * 7.5 * 15 = 225*pi
    Total: 112.5*pi + 225*pi = 337.5*pi = 675*pi/2. Correct!
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 120px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option .value {
  font-size: 1rem;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.step-container {
  margin-bottom: 20px;
  padding: 20px;
  padding-left: 60px;
  position: relative;
  border-left: 3px solid #334155;
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
  border-radius: 0 12px 12px 0;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  position: absolute;
  left: -17px;
  top: 18px;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 8px;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.1rem;
  padding: 8px 0;
  list-style: none;
}

details summary::-webkit-details-marker {
  display: none;
}

details summary::before {
  content: '\25B6';
  display: inline-block;
  margin-right: 8px;
  transition: transform 0.2s;
  font-size: 0.8rem;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details ul {
  padding-left: 24px;
  margin-top: 12px;
}

details ul li {
  margin-bottom: 10px;
  color: #e2e8f0;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 1rem;
}

.checkpoint p {
  margin-top: 8px;
  color: #34d399;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
  border: 2px solid rgba(52,211,153,0.4);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 16px;
}

.final-answer-text {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.option-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  background: rgba(56,189,248,0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  min-width: 100px;
  text-align: center;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
}

.option-card .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
}

.option-card.correct .opt-label {
  color: #34d399;
}

.verification {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfall-box {
  background: rgba(224,148,104,0.08);
  border: 1px solid rgba(224,148,104,0.25);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.pitfall-box h2 {
  color: #e09468;
}

.pitfall-box ul {
  padding-left: 24px;
  margin-top: 12px;
}

.pitfall-box li {
  margin-bottom: 8px;
}

.challenge-box {
  background: rgba(167,139,250,0.06);
  border: 1px dashed rgba(167,139,250,0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.challenge-box h2 {
  color: #a78bfa;
}

.canvas-card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 24px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.canvas-card canvas {
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 18px; }
  .step-container { padding-left: 48px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 90px; padding: 10px 12px; }
  .option-row { gap: 6px; }
  .option-card { min-width: 80px; padding: 8px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Valjak upisan u zarubljenu kupu</h1>
  <p class="subtitle">Stereometrija - zapremina zarubljene kupe, slicnost trouglova i povrsina valjka</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Tekst zadatka</h2>
    <p>
      U pravu zarubljenu kupu zapremine \( 3150\pi \) cm&sup3; ciji su precnici osnova
      <span class="highlight">40 cm</span> i <span class="highlight">10 cm</span> upisan je prav valjak
      tako da mu jedna osnova pripada vecoj osnovi kupe, a druga osnova dodiruje celim obimom omotac kupe.
      Ako je visina valjka jednaka precniku njegove osnove, povrsina valjka iznosi:
    </p>

    <h3 style="margin-top:18px; color:#94a3b8; font-size:0.95rem;">Poznate velicine</h3>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Zapremina kupe</div>
        <div class="value">\( 3150\pi \) cm&sup3;</div>
      </div>
      <div class="given-item">
        <div class="label">Precnik vece osnove</div>
        <div class="value">\( 40 \) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Precnik manje osnove</div>
        <div class="value">\( 10 \) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov za valjak</div>
        <div class="value">\( h = 2r \)</div>
      </div>
    </div>

    <h3 style="margin-top:18px; color:#94a3b8; font-size:0.95rem;">Ponudjeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( \dfrac{225\pi}{2} \) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( \dfrac{86400\pi}{121} \) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 225\pi \) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( \dfrac{2025\pi}{2} \) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( \dfrac{675\pi}{2} \) cm&sup2;</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan resavanja</h2>
    <p class="plan-text">
      Prvo cemo iz formule za zapreminu zarubljene kupe odrediti njenu visinu. Zatim cemo prosiriti
      zarubljenu kupu do pune kupe i koristiti slicnost trouglova u aksijalnom preseku da izrazimo
      poluprecnik valjka. Na kraju izracunavamo ukupnu povrsinu valjka.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul>
        <li><strong>Zapremina zarubljene kupe:</strong>
          \[ V = \frac{\pi H}{3}(R^2 + Rr + r^2) \]
          gde su \( R \) i \( r \) poluprecnici osnova, a \( H \) visina.
        </li>
        <li><strong>Slicnost trouglova u aksijalnom preseku kupe:</strong> U aksijalnom preseku pune kupe,
          poluprecnik na visini \( z \) od osnove je linearna funkcija:
          \[ \rho(z) = R\left(1 - \frac{z}{H_{\text{pune}}}\right) \]
        </li>
        <li><strong>Ukupna povrsina valjka:</strong>
          \[ S = 2\pi r_v^2 + 2\pi r_v h_v \]
          gde su \( r_v \) poluprecnik i \( h_v \) visina valjka.
        </li>
      </ul>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="canvas-card">
    <h2 style="color:#60a5fa; margin-bottom:12px;">Aksijalni presek</h2>
    <canvas id="mainCanvas" width="700" height="520"></canvas>
    <p class="canvas-hint">Dijagram prikazuje aksijalni presek zarubljene kupe sa upisanim valjkom</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container">
      <div class="step-badge">1</div>
      <h3>Odredjivanje visine zarubljene kupe</h3>
      <p>
        Poluprecnici osnova zarubljene kupe su \( R = 20 \) cm i \( r = 5 \) cm.
        Koristimo formulu za zapreminu zarubljene kupe:
      </p>
      <div class="math-block">
        \[ V = \frac{\pi H}{3}(R^2 + Rr + r^2) \]
      </div>
      <p>Uvrstimo poznate vrednosti:</p>
      <div class="math-block">
        \[ 3150\pi = \frac{\pi H}{3}(20^2 + 20 \cdot 5 + 5^2) \]
      </div>
      <div class="math-block">
        \[ 3150\pi = \frac{\pi H}{3}(400 + 100 + 25) \]
      </div>
      <div class="math-block">
        \[ 3150\pi = \frac{525\pi H}{3} = 175\pi H \]
      </div>
      <p>Skratimo \( \pi \) i dobijamo:</p>
      <div class="math-block">
        \[ H = \frac{3150}{175} = 18 \text{ cm} \]
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Kolika je visina zarubljene kupe?</summary>
      <p>\( H = 18 \) cm</p>
    </details>

    <!-- Step 2 -->
    <div class="step-container">
      <div class="step-badge">2</div>
      <h3>Odredjivanje visine pune kupe</h3>
      <p>
        Zarubljena kupa je deo pune kupe iz koje je odsecen manji konus na vrhu.
        Oznacimo visinu pune kupe sa \( H_p \). Iz slicnosti trouglova u aksijalnom preseku vazi:
      </p>
      <div class="math-block">
        \[ \frac{r}{R} = \frac{H_p - H}{H_p} \]
      </div>
      <p>Uvrstimo \( R = 20 \), \( r = 5 \), \( H = 18 \):</p>
      <div class="math-block">
        \[ \frac{5}{20} = \frac{H_p - 18}{H_p} \]
      </div>
      <div class="math-block">
        \[ \frac{1}{4} = 1 - \frac{18}{H_p} \]
      </div>
      <div class="math-block">
        \[ \frac{18}{H_p} = \frac{3}{4} \implies H_p = 24 \text{ cm} \]
      </div>
      <p class="note">Puna kupa ima visinu 24 cm, a vrh (teme) je na rastojanju 24 cm od vece osnove.</p>
    </div>

    <!-- Step 3 -->
    <div class="step-container">
      <div class="step-badge">3</div>
      <h3>Poluprecnik preseka kupe na visini \( z \)</h3>
      <p>
        Na rastojanju \( z \) od vece osnove (mereno navise), poluprecnik kupe linearno opada
        od \( R = 20 \) (na \( z = 0 \)) do \( 0 \) (na \( z = 24 \)):
      </p>
      <div class="math-block">
        \[ \rho(z) = 20\left(1 - \frac{z}{24}\right) = 20 - \frac{5z}{6} \]
      </div>
      <p class="note">Proverimo: za \( z = 18 \), \( \rho(18) = 20 - 15 = 5 \). Tacno - to je poluprecnik manje osnove.</p>
    </div>

    <!-- Step 4 -->
    <div class="step-container">
      <div class="step-badge">4</div>
      <h3>Uslov za upisani valjak</h3>
      <p>
        Neka je \( r_v \) poluprecnik valjka. Po uslovu zadatka, visina valjka je jednaka precniku:
      </p>
      <div class="math-block">
        \[ h_v = 2r_v \]
      </div>
      <p>
        Donja osnova valjka lezi na vecoj osnovi kupe (\( z = 0 \)), a gornja osnova
        na visini \( z = h_v = 2r_v \) dodiruje omotac kupe celim obimom.
      </p>
      <p>
        To znaci da je poluprecnik gornje osnove valjka jednak poluprecniku kupe na toj visini:
      </p>
      <div class="math-block">
        \[ r_v = \rho(2r_v) = 20 - \frac{5 \cdot 2r_v}{6} \]
      </div>
      <div class="math-block">
        \[ r_v = 20 - \frac{10r_v}{6} = 20 - \frac{5r_v}{3} \]
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koja jednacina povezuje \( r_v \) sa dimenzijama kupe?</summary>
      <p>\( r_v = 20 - \dfrac{5r_v}{3} \)</p>
    </details>

    <!-- Step 5 -->
    <div class="step-container">
      <div class="step-badge">5</div>
      <h3>Resavanje jednacine za \( r_v \)</h3>
      <p>Prenesemo clan sa \( r_v \) na levu stranu:</p>
      <div class="math-block">
        \[ r_v + \frac{5r_v}{3} = 20 \]
      </div>
      <div class="math-block">
        \[ \frac{3r_v + 5r_v}{3} = 20 \]
      </div>
      <div class="math-block">
        \[ \frac{8r_v}{3} = 20 \]
      </div>
      <div class="math-block">
        \[ r_v = \frac{20 \cdot 3}{8} = \frac{60}{8} = \frac{15}{2} = 7{,}5 \text{ cm} \]
      </div>
      <p>Visina valjka:</p>
      <div class="math-block">
        \[ h_v = 2r_v = 2 \cdot \frac{15}{2} = 15 \text{ cm} \]
      </div>
      <p class="note">Proverimo: \( h_v = 15 < H = 18 \), dakle valjak staje unutar zarubljene kupe.</p>
    </div>

    <!-- Step 6 -->
    <div class="step-container">
      <div class="step-badge">6</div>
      <h3>Izracunavanje povrsine valjka</h3>
      <p>Ukupna povrsina valjka se sastoji od dve osnove i omotaca:</p>
      <div class="math-block">
        \[ S = 2\pi r_v^2 + 2\pi r_v h_v \]
      </div>
      <p>Uvrstimo \( r_v = \dfrac{15}{2} \) cm i \( h_v = 15 \) cm:</p>
      <div class="math-block">
        \[ S = 2\pi \left(\frac{15}{2}\right)^2 + 2\pi \cdot \frac{15}{2} \cdot 15 \]
      </div>
      <p>Racunamo svaki deo posebno:</p>
      <div class="math-block">
        \[ S_{\text{osnove}} = 2\pi \cdot \frac{225}{4} = \frac{225\pi}{2} \]
      </div>
      <div class="math-block">
        \[ S_{\text{omotac}} = 2\pi \cdot \frac{15}{2} \cdot 15 = 225\pi = \frac{450\pi}{2} \]
      </div>
      <p>Saberemo:</p>
      <div class="math-block">
        \[ S = \frac{225\pi}{2} + \frac{450\pi}{2} = \frac{675\pi}{2} \text{ cm}^2 \]
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Kolika je povrsina omotaca valjka?</summary>
      <p>\( S_{\text{omotac}} = 2\pi \cdot \dfrac{15}{2} \cdot 15 = 225\pi \) cm&sup2;</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucni uvid</h2>
    <p style="margin:12px 0; color:#e2e8f0;">
      Tacka dodira gornje osnove valjka sa omotacem kupe omogucava nam da izjednacimo
      poluprecnik valjka sa poluprecnikom kupe na odgovarajucoj visini. Uslov \( h_v = 2r_v \)
      daje jednu jednacinu sa jednom nepoznatom.
    </p>
    <div class="math-block" style="display:inline-block; font-size:1.2rem;">
      \[ r_v = 20 - \frac{5 \cdot 2r_v}{6} \implies r_v = \frac{15}{2} \text{ cm} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-text">
      \( S = \dfrac{675\pi}{2} \) cm&sup2;
    </div>

    <div class="option-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div>\( \frac{225\pi}{2} \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div>\( \frac{86400\pi}{121} \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\( 225\pi \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div>\( \frac{2025\pi}{2} \)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(E)</div>
        <div>\( \frac{675\pi}{2} \)</div>
      </div>
    </div>

    <div class="verification">
      <strong>Provera:</strong> Poluprecnik valjka \( r_v = 7{,}5 \) cm, visina \( h_v = 15 \) cm.
      Povrsina dve osnove: \( 2\pi \cdot 56{,}25 = 112{,}5\pi \approx 353{,}4 \) cm&sup2;.
      Povrsina omotaca: \( 2\pi \cdot 7{,}5 \cdot 15 = 225\pi \approx 706{,}9 \) cm&sup2;.
      Ukupno: \( 337{,}5\pi = \frac{675\pi}{2} \approx 1060{,}3 \) cm&sup2;.
      Ovo je realan rezultat za valjak ovih dimenzija.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h2>Ceste greske</h2>
    <ul>
      <li>
        <strong>Zamena precnika i poluprecnika:</strong> U zadatku su dati <em>precnici</em> (40 i 10 cm),
        a u formule ulaze <em>poluprecnici</em> (20 i 5 cm). Ako se direktno uvrste precnici,
        dobija se pogresan rezultat.
      </li>
      <li>
        <strong>Zaboravljanje da visina valjka = precnik (ne poluprecnik):</strong>
        Uslov je \( h_v = 2r_v \), ne \( h_v = r_v \).
        Ako se postavi \( h_v = r_v \), dobija se drugacija vrednost za \( r_v \) i pogresan odgovor.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Kako bi se promenio poluprecnik valjka ako bi uslov bio \( h_v = r_v \)
    (visina jednaka <em>poluprecniku</em>)?
    Kolika bi tada bila povrsina valjka?</p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="margin-top:8px; color:#e2e8f0;">
        Postavite istu jednacinu \( r_v = 20 - \frac{5 \cdot r_v}{6} \) i resite za \( r_v \).
        Dobicete \( \frac{11r_v}{6} = 20 \), odakle \( r_v = \frac{120}{11} \) cm.
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Main canvas diagram - axial cross-section
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Coordinate system: origin at center-bottom of frustum
    const originX = W / 2;
    const originY = H - 60;
    const scale = 18; // pixels per cm

    function toCanvas(x, y) {
      return { x: originX + x * scale, y: originY - y * scale };
    }

    // Frustum dimensions (in cm)
    const R = 20, r = 5, Hf = 18;
    const Hp = 24; // full cone height

    // Draw subtle grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let i = -22; i <= 22; i += 2) {
      const p1 = toCanvas(i, 0);
      const p2 = toCanvas(i, 26);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
    for (let j = 0; j <= 26; j += 2) {
      const p1 = toCanvas(-22, j);
      const p2 = toCanvas(22, j);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }

    // Draw the axial cross-section of the full cone (dashed lines for extension)
    const apex = toCanvas(0, Hp);
    const bL = toCanvas(-R, 0);
    const bR = toCanvas(R, 0);
    const tL = toCanvas(-r, Hf);
    const tR = toCanvas(r, Hf);

    // Dashed lines: extension of frustum to apex
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(tL.x, tL.y);
    ctx.lineTo(apex.x, apex.y);
    ctx.lineTo(tR.x, tR.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Frustum trapezoid fill
    ctx.fillStyle = 'rgba(96, 165, 250, 0.07)';
    ctx.beginPath();
    ctx.moveTo(bL.x, bL.y);
    ctx.lineTo(bR.x, bR.y);
    ctx.lineTo(tR.x, tR.y);
    ctx.lineTo(tL.x, tL.y);
    ctx.closePath();
    ctx.fill();

    // Frustum outline
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bL.x, bL.y);
    ctx.lineTo(bR.x, bR.y);
    ctx.lineTo(tR.x, tR.y);
    ctx.lineTo(tL.x, tL.y);
    ctx.closePath();
    ctx.stroke();

    // Cylinder dimensions
    const rv = 7.5, hv = 15;
    const cBL = toCanvas(-rv, 0);
    const cBR = toCanvas(rv, 0);
    const cTL = toCanvas(-rv, hv);
    const cTR = toCanvas(rv, hv);

    // Cylinder fill
    ctx.fillStyle = 'rgba(52, 211, 153, 0.12)';
    ctx.beginPath();
    ctx.moveTo(cBL.x, cBL.y);
    ctx.lineTo(cBR.x, cBR.y);
    ctx.lineTo(cTR.x, cTR.y);
    ctx.lineTo(cTL.x, cTL.y);
    ctx.closePath();
    ctx.fill();

    // Cylinder outline
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(cBL.x, cBL.y);
    ctx.lineTo(cBR.x, cBR.y);
    ctx.lineTo(cTR.x, cTR.y);
    ctx.lineTo(cTL.x, cTL.y);
    ctx.closePath();
    ctx.stroke();

    // Tangency point markers (where cylinder top meets frustum lateral surface)
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(cTL.x, cTL.y, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.beginPath();
    ctx.arc(cTR.x, cTR.y, 5, 0, Math.PI * 2);
    ctx.fill();

    // Axis of symmetry (dashed)
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    const axBottom = toCanvas(0, -1);
    const axTop = toCanvas(0, Hp + 1);
    ctx.moveTo(axBottom.x, axBottom.y);
    ctx.lineTo(axTop.x, axTop.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Dimension arrows and labels
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';

    // R = 20 label (bottom)
    const rLabelL = toCanvas(-10, -2.5);
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.fillText('R = 20', rLabelL.x, rLabelL.y);

    // r = 5 label (top of frustum)
    const rSmallLabel = toCanvas(0, Hf + 1.8);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('r = 5', rSmallLabel.x, rSmallLabel.y);

    // H = 18 label (left side)
    ctx.save();
    ctx.translate(toCanvas(-R - 2.5, Hf / 2).x, toCanvas(-R - 2.5, Hf / 2).y);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.fillText('H = 18', 0, 0);
    ctx.restore();

    // H dimension arrow (left)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 1;
    const hArrowX = toCanvas(-R - 1.5, 0);
    const hArrowTop = toCanvas(-R - 1.5, Hf);
    ctx.beginPath();
    ctx.moveTo(hArrowX.x, hArrowX.y);
    ctx.lineTo(hArrowTop.x, hArrowTop.y);
    ctx.stroke();
    // Arrowheads
    ctx.beginPath();
    ctx.moveTo(hArrowX.x - 3, hArrowX.y - 5);
    ctx.lineTo(hArrowX.x, hArrowX.y);
    ctx.lineTo(hArrowX.x + 3, hArrowX.y - 5);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(hArrowTop.x - 3, hArrowTop.y + 5);
    ctx.lineTo(hArrowTop.x, hArrowTop.y);
    ctx.lineTo(hArrowTop.x + 3, hArrowTop.y + 5);
    ctx.stroke();

    // Cylinder rv = 7.5 label (inside)
    const rvLabel = toCanvas(0, hv / 2);
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'center';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('r\u1D65 = 7,5', rvLabel.x, rvLabel.y - 8);

    // Cylinder hv = 15 label (right side)
    ctx.save();
    const hvLabelPos = toCanvas(rv + 2.5, hv / 2);
    ctx.translate(hvLabelPos.x, hvLabelPos.y);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'center';
    ctx.fillText('h\u1D65 = 15', 0, 0);
    ctx.restore();

    // hv dimension arrow (right of cylinder)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1;
    const hvArrowBottom = toCanvas(rv + 1.2, 0);
    const hvArrowTop = toCanvas(rv + 1.2, hv);
    ctx.beginPath();
    ctx.moveTo(hvArrowBottom.x, hvArrowBottom.y);
    ctx.lineTo(hvArrowTop.x, hvArrowTop.y);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(hvArrowBottom.x - 3, hvArrowBottom.y - 5);
    ctx.lineTo(hvArrowBottom.x, hvArrowBottom.y);
    ctx.lineTo(hvArrowBottom.x + 3, hvArrowBottom.y - 5);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(hvArrowTop.x - 3, hvArrowTop.y + 5);
    ctx.lineTo(hvArrowTop.x, hvArrowTop.y);
    ctx.lineTo(hvArrowTop.x + 3, hvArrowTop.y + 5);
    ctx.stroke();

    // Tangency label
    ctx.fillStyle = '#f472b6';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    const tangLabel = toCanvas(rv + 4, hv + 1);
    ctx.textAlign = 'left';
    ctx.fillText('tacka dodira', tangLabel.x, tangLabel.y);

    // Apex label
    ctx.fillStyle = '#475569';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('teme kupe', apex.x, apex.y - 10);

    // Hp = 24 label (far right, dashed)
    ctx.fillStyle = '#475569';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    const hpLabel = toCanvas(R + 2.5, Hp / 2);
    ctx.save();
    ctx.translate(hpLabel.x, hpLabel.y);
    ctx.rotate(-Math.PI / 2);
    ctx.textAlign = 'center';
    ctx.fillText('Hp = 24', 0, 0);
    ctx.restore();

    // Legend
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    const legendX = 20;
    let legendY = 25;

    ctx.fillStyle = 'rgba(96, 165, 250, 0.25)';
    ctx.fillRect(legendX, legendY - 8, 16, 16);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 1.5;
    ctx.strokeRect(legendX, legendY - 8, 16, 16);
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'left';
    ctx.fillText('Zarubljena kupa', legendX + 24, legendY + 5);

    legendY += 26;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.25)';
    ctx.fillRect(legendX, legendY - 8, 16, 16);
    ctx.strokeStyle = '#34d399';
    ctx.strokeRect(legendX, legendY - 8, 16, 16);
    ctx.fillStyle = '#34d399';
    ctx.fillText('Upisani valjak', legendX + 24, legendY + 5);

    legendY += 26;
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(legendX + 8, legendY, 5, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillText('Tacka dodira', legendX + 24, legendY + 5);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Valjak upisan u zarubljenu kupu",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["zarubljena kupa", "valjak", "zapremina", "povrsina", "slicnost trouglova", "stereometrija"]
}
BRAINSPARK_META-->