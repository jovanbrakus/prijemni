<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geometrijski niz - zbir i proizvod</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Three consecutive terms of an increasing geometric sequence have sum 42
  and the sum of their reciprocals is 21/32. Find their product.

  Let the three terms be a/q, a, a*q where a is the middle term and q is the common ratio (q > 1 for increasing).

  Equation 1 (sum):
    a/q + a + a*q = 42
    a(1/q + 1 + q) = 42

  Equation 2 (sum of reciprocals):
    q/a + 1/a + 1/(a*q) = 21/32
    (1/a)(q + 1 + 1/q) = 21/32
    (1/a)(1/q + 1 + q) = 21/32

  From Eq1: a * S = 42 where S = 1/q + 1 + q
  From Eq2: (1/a) * S = 21/32

  Dividing Eq1 by Eq2:
    (a * S) / ((1/a) * S) = 42 / (21/32)
    a^2 = 42 * 32/21
    a^2 = 42 * 32 / 21
    a^2 = 2 * 32
    a^2 = 64
    a = 8 (positive, since terms of geometric sequence)

  Now find q:
  From Eq1: 8(1/q + 1 + q) = 42
    1/q + 1 + q = 42/8 = 21/4

  Let t = q + 1/q:
    t + 1 = 21/4
    t = 21/4 - 1 = 17/4

  So q + 1/q = 17/4
  Multiply by q: q^2 + 1 = 17q/4
  4q^2 + 4 = 17q
  4q^2 - 17q + 4 = 0

  Discriminant: 289 - 64 = 225 = 15^2
  q = (17 +/- 15) / 8
  q = 32/8 = 4 or q = 2/8 = 1/4

  Since the sequence is increasing, q > 1, so q = 4.

  The three terms are:
    a/q = 8/4 = 2
    a = 8
    a*q = 8*4 = 32

  Verification:
    Sum: 2 + 8 + 32 = 42 ‚úì
    Reciprocals: 1/2 + 1/8 + 1/32 = 16/32 + 4/32 + 1/32 = 21/32 ‚úì

  Product: 2 * 8 * 32 = 512

  Answer: C) 512

  Alternative approach for product:
  The product of three terms a/q, a, a*q = a^3
  Since a = 8: a^3 = 8^3 = 512
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.15rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 18px;
}

.final-opt {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  cursor: default;
}

.final-opt.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  font-style: italic;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Geometrijski niz</h1>
  <p class="subtitle">Svojstva geometrijskog niza - zbir clanova, reciprocne vrednosti i proizvod</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-text">
      <p>Ako je zbir tri broja koji su uzastopni clanovi rastuceg geometrijskog niza jednak <span style="color: #60a5fa; font-weight: 600;">42</span>, a zbir njihovih reciprocnih vrednosti jednak <span style="color: #60a5fa; font-weight: 600;">\( \frac{21}{32} \)</span>, onda njihov proizvod iznosi:</p>

      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\( 256 \)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\( 64 \)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\( 512 \)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\( \dfrac{441}{16} \)</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\( 216 \)</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Oznacicemo tri clana geometrijskog niza kao \( \frac{a}{q} \), \( a \), \( aq \). Iz uslova o zbiru i zbiru reciprocnih vrednosti formiracemo sistem jednacina, iz kojeg cemo naci srednji clan \( a \). Proizvod tri clana je uvek \( a^3 \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Osobine geometrijskog niza (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Geometrijski niz</strong> je niz u kome je odnos svakih dva uzastopna clana konstantan. Taj odnos se zove <strong>kolicnik niza</strong> \( q \).</p>
        <div class="step-math">
          \[ b_1,\; b_2,\; b_3 \quad \Rightarrow \quad b_2 = b_1 \cdot q, \quad b_3 = b_1 \cdot q^2 \]
        </div>
        <p style="margin-top: 12px;"><strong>Tri uzastopna clana</strong> se zgodno zapisuju kao:</p>
        <div class="step-math">
          \[ \frac{a}{q}, \quad a, \quad aq \]
        </div>
        <p style="margin-top: 8px;">gde je \( a \) srednji clan. Njihov <strong>proizvod</strong> je:</p>
        <div class="step-math">
          \[ \frac{a}{q} \cdot a \cdot aq = a^3 \]
        </div>
        <p style="margin-top: 8px;">Ovo je veoma korisno svojstvo: proizvod tri uzastopna clana geometrijskog niza zavisi samo od srednjeg clana!</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="380"></canvas>
    </div>
    <p class="canvas-caption">Tri clana rastuceg geometrijskog niza sa kolicnikom \( q = 4 \)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Oznacimo clanove niza</div>
        <p>Tri uzastopna clana geometrijskog niza zapisujemo u obliku koji olaksava racunanje:</p>
        <div class="step-math">
          \[ \frac{a}{q}, \quad a, \quad aq \]
        </div>
        <p>Ovde je \( a \) srednji clan, a \( q \) kolicnik niza. Posto je niz rastuci, vazi \( q > 1 \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Postavimo prvu jednacinu (zbir = 42)</div>
        <p>Zbir tri clana je 42:</p>
        <div class="step-math">
          \[ \frac{a}{q} + a + aq = 42 \]
        </div>
        <p>Iznesemo \( a \) ispred:</p>
        <div class="step-math">
          \[ a \left( \frac{1}{q} + 1 + q \right) = 42 \quad \ldots (1) \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Postavimo drugu jednacinu (zbir reciprocnih = \( \frac{21}{32} \))</div>
        <p>Reciprocne vrednosti clanova su \( \frac{q}{a} \), \( \frac{1}{a} \), \( \frac{1}{aq} \). Njihov zbir je:</p>
        <div class="step-math">
          \[ \frac{q}{a} + \frac{1}{a} + \frac{1}{aq} = \frac{21}{32} \]
        </div>
        <p>Iznesemo \( \frac{1}{a} \) ispred:</p>
        <div class="step-math">
          \[ \frac{1}{a} \left( q + 1 + \frac{1}{q} \right) = \frac{21}{32} \quad \ldots (2) \]
        </div>
        <p style="color: #94a3b8;">Primetimo da se izraz u zagradi \( \left( \frac{1}{q} + 1 + q \right) \) pojavljuje u obe jednacine!</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Sta je zajednicko u jednacinama (1) i (2)?</summary>
        <div class="detail-content">
          Obe sadrze isti izraz \( S = \frac{1}{q} + 1 + q \). U jednacini (1) taj izraz je pomnozen sa \( a \), a u jednacini (2) sa \( \frac{1}{a} \). Ovo nam omogucava da podelimo jednacine i eliminisemo \( S \).
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Podelimo jednacinu (1) sa jednacinon (2)</div>
        <p>Oznacimo \( S = \frac{1}{q} + 1 + q \). Tada je:</p>
        <div class="step-math">
          \[ \frac{a \cdot S}{\frac{1}{a} \cdot S} = \frac{42}{\frac{21}{32}} \]
        </div>
        <p>Na levoj strani se \( S \) skrati, a dobijamo:</p>
        <div class="step-math">
          \[ a^2 = 42 \cdot \frac{32}{21} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo \( a^2 \)</div>
        <p>Pojednostavimo desnu stranu. Skratimo 42 i 21:</p>
        <div class="step-math">
          \[ a^2 = \frac{42}{21} \cdot 32 = 2 \cdot 32 = 64 \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ a = 8 \]
        </div>
        <p style="color: #94a3b8;">Uzimamo pozitivnu vrednost jer su clanovi geometrijskog niza pozitivni (posto im je zbir reciprocnih pozitivan).</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koliki je proizvod tri clana ako je \( a = 8 \)?</summary>
        <div class="detail-content">
          <p>Proizvod je \( \frac{a}{q} \cdot a \cdot aq = a^3 = 8^3 = 512 \).</p>
          <p>Zapravo, vec sada znamo odgovor! Ali hajde da proverimo i nalazenje kolicnika \( q \).</p>
        </div>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Odredimo proizvod tri clana</div>
        <p>Setimo se da je proizvod tri uzastopna clana geometrijskog niza:</p>
        <div class="step-math">
          \[ \frac{a}{q} \cdot a \cdot aq = a^3 \]
        </div>
        <p>Posto je \( a = 8 \):</p>
        <div class="step-math">
          \[ a^3 = 8^3 = 512 \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Verifikacija: odredimo kolicnik \( q \) i proverimo</div>
        <p>Iz jednacine (1) sa \( a = 8 \):</p>
        <div class="step-math">
          \[ 8 \left( \frac{1}{q} + 1 + q \right) = 42 \quad \Rightarrow \quad \frac{1}{q} + 1 + q = \frac{21}{4} \]
        </div>
        <p>Odavde:</p>
        <div class="step-math">
          \[ q + \frac{1}{q} = \frac{21}{4} - 1 = \frac{17}{4} \]
        </div>
        <p>Mnozimo sa \( q \) i sredujemo:</p>
        <div class="step-math">
          \[ 4q^2 - 17q + 4 = 0 \]
        </div>
        <p>Resavamo kvadratnu jednacinu:</p>
        <div class="step-math">
          \[ q = \frac{17 \pm \sqrt{289 - 64}}{8} = \frac{17 \pm 15}{8} \]
        </div>
        <p>Dva resenja: \( q = 4 \) ili \( q = \frac{1}{4} \). Posto je niz rastuci, \( q = 4 \).</p>
        <p style="margin-top: 10px;">Clanovi su: \( \frac{8}{4} = 2 \), \( 8 \), \( 8 \cdot 4 = 32 \).</p>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <div class="step-title">Provera oba uslova</div>
        <p>Zbir clanova:</p>
        <div class="step-math">
          \[ 2 + 8 + 32 = 42 \quad \checkmark \]
        </div>
        <p>Zbir reciprocnih vrednosti:</p>
        <div class="step-math">
          \[ \frac{1}{2} + \frac{1}{8} + \frac{1}{32} = \frac{16}{32} + \frac{4}{32} + \frac{1}{32} = \frac{21}{32} \quad \checkmark \]
        </div>
        <p>Proizvod:</p>
        <div class="step-math">
          \[ 2 \cdot 8 \cdot 32 = 512 \quad \checkmark \]
        </div>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Zasto je kolicnik \( q = \frac{1}{4} \) odbacen?</summary>
        <div class="detail-content">
          Zato sto bi za \( q = \frac{1}{4} < 1 \) niz bio opadajuci (svaki sledeci clan bi bio 4 puta manji). Zadatak eksplicitno kaze da je niz <strong>rastuci</strong>, pa mora biti \( q > 1 \), odnosno \( q = 4 \).
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kljucna ideja je zapis tri uzastopna clana kao \( \frac{a}{q}, \; a, \; aq \). U tom zapisu, <strong>proizvod tri clana je uvek \( a^3 \)</strong>, bez obzira na kolicnik \( q \). Zato je dovoljno naci samo srednji clan \( a \) da bismo odredili proizvod. Deljenjem dve jednacine elegantno eliminisemo nepoznatu \( q \) i direktno nalazimo \( a^2 = 64 \).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( 2 \cdot 8 \cdot 32 = 512 \)</div>
    <div class="answer-option">Tacan odgovor je C) 512</div>
    <div class="final-options">
      <div class="final-opt">A) 256</div>
      <div class="final-opt">B) 64</div>
      <div class="final-opt correct">C) 512</div>
      <div class="final-opt">D) \( \frac{441}{16} \)</div>
      <div class="final-opt">E) 216</div>
    </div>
    <p class="verification-note">Verifikacija: clanovi 2, 8, 32 zaista cine rastuci geometrijski niz sa kolicnikom 4, njihov zbir je 42, zbir reciprocnih je \( \frac{21}{32} \), a proizvod je 512.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zapis clanova kao \( a, aq, aq^2 \):</strong> Ovaj zapis je tacan, ali komplikuje racun jer proizvod postaje \( a^3 q^3 \) i zahteva nalazenje i \( a \) i \( q \). Zapis \( \frac{a}{q}, a, aq \) je mnogo elegantniji jer je proizvod uvek \( a^3 \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboraviti uslov rastuceg niza:</strong> Kvadratna jednacina za \( q \) ima dva resenja: \( q = 4 \) i \( q = \frac{1}{4} \). Oba daju iste tri broja (2, 8, 32), ali u razlicitom redosledu. Za rastuci niz mora biti \( q > 1 \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Tri uzastopna clana rastuceg geometrijskog niza imaju zbir 26 i proizvod 216. Odredi te brojeve i kolicnik niza.</p>
    <details>
      <summary>Pogledaj nagove≈°taj</summary>
      <div class="detail-content">
        <p>Ako je proizvod \( a^3 = 216 \), onda je srednji clan \( a = 6 \). Iskoristi zbir da formiras jednacinu za \( q \): \( 6\left(\frac{1}{q} + 1 + q\right) = 26 \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    const terms = [2, 8, 32];
    const labels = ['a/q = 2', 'a = 8', 'aq = 32'];
    const colors = ['#60a5fa', '#a78bfa', '#f472b6'];

    // Bar chart
    const maxVal = 32;
    const barAreaTop = 60;
    const barAreaBottom = H - 90;
    const barAreaHeight = barAreaBottom - barAreaTop;
    const barWidth = 90;
    const totalBarSpace = barWidth * 3 + 60 * 2;
    const startX = (W - totalBarSpace) / 2;

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Clanovi geometrijskog niza: 2, 8, 32', W / 2, 30);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 4; i++) {
      const y = barAreaBottom - (i / 4) * barAreaHeight;
      ctx.beginPath();
      ctx.moveTo(startX - 20, y);
      ctx.lineTo(startX + totalBarSpace + 20, y);
      ctx.stroke();

      // Grid labels
      ctx.fillStyle = '#475569';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(String(Math.round(maxVal * i / 4)), startX - 28, y + 4);
    }

    // Bars
    terms.forEach((val, i) => {
      const x = startX + i * (barWidth + 60);
      const barH = (val / maxVal) * barAreaHeight;
      const y = barAreaBottom - barH;

      // Glow effect
      const grd = ctx.createLinearGradient(x, y, x, barAreaBottom);
      grd.addColorStop(0, colors[i]);
      grd.addColorStop(1, colors[i] + '33');
      ctx.fillStyle = grd;
      ctx.beginPath();
      ctx.roundRect(x, y, barWidth, barH, [6, 6, 0, 0]);
      ctx.fill();

      // Border
      ctx.strokeStyle = colors[i];
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.roundRect(x, y, barWidth, barH, [6, 6, 0, 0]);
      ctx.stroke();

      // Value on top
      ctx.fillStyle = colors[i];
      ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(String(val), x + barWidth / 2, y - 12);

      // Label below
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(labels[i], x + barWidth / 2, barAreaBottom + 22);
    });

    // Arrows showing multiplication by q
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);

    // Arrow from bar 1 to bar 2
    const arrow1X1 = startX + barWidth + 10;
    const arrow1X2 = startX + barWidth + 50;
    const arrowY = barAreaBottom + 50;
    ctx.beginPath();
    ctx.moveTo(arrow1X1, arrowY);
    ctx.lineTo(arrow1X2, arrowY);
    ctx.stroke();

    // Arrowhead
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(arrow1X2, arrowY);
    ctx.lineTo(arrow1X2 - 6, arrowY - 4);
    ctx.lineTo(arrow1X2 - 6, arrowY + 4);
    ctx.closePath();
    ctx.fillStyle = '#34d399';
    ctx.fill();

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u00D7 4', (arrow1X1 + arrow1X2) / 2, arrowY - 8);

    // Arrow from bar 2 to bar 3
    ctx.setLineDash([5, 3]);
    const arrow2X1 = startX + 2 * (barWidth + 60) - 50;
    const arrow2X2 = startX + 2 * (barWidth + 60) - 10;
    ctx.beginPath();
    ctx.moveTo(arrow2X1, arrowY);
    ctx.lineTo(arrow2X2, arrowY);
    ctx.stroke();

    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(arrow2X2, arrowY);
    ctx.lineTo(arrow2X2 - 6, arrowY - 4);
    ctx.lineTo(arrow2X2 - 6, arrowY + 4);
    ctx.closePath();
    ctx.fill();

    ctx.fillText('\u00D7 4', (arrow2X1 + arrow2X2) / 2, arrowY - 8);

    // Product label at bottom
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Proizvod: 2 \u00D7 8 \u00D7 32 = 512', W / 2, H - 15);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Proizvod clanova geometrijskog niza",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["geometrijski niz", "nizovi", "sistem jednacina", "reciprocne vrednosti", "kolicnik niza"]
}
BRAINSPARK_META-->