<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska jednacina sa promenom baze</title>
<script type="text/info" id="logic-scratchpad">
Problem: Zbir svih realnih resenja jednacine
  1 + log_2((x+1)/(x+2)) = (1/4) * log_{sqrt(2)}((x-2)^2)

KORAK 1: Transformacija desne strane
  log_{sqrt(2)}(a) = log_2(a) / log_2(sqrt(2)) = log_2(a) / (1/2) = 2*log_2(a)

  Desna strana = (1/4) * 2 * log_2((x-2)^2)
               = (1/2) * log_2((x-2)^2)
               = log_2(|x-2|)    (koristimo log_2(a^2)/2 = log_2(|a|))

KORAK 2: Transformacija leve strane
  1 + log_2((x+1)/(x+2)) = log_2(2) + log_2((x+1)/(x+2))
                          = log_2(2*(x+1)/(x+2))

KORAK 3: Jednacina postaje
  log_2(2(x+1)/(x+2)) = log_2(|x-2|)

  Dakle: 2(x+1)/(x+2) = |x-2|

KORAK 4: Uslovi za domen
  - (x+1)/(x+2) > 0  =>  x > -1 ili x < -2
  - x != 2 (jer (x-2)^2 mora biti > 0 za logaritam)
  - x != -2 (imenilac)
  - 2(x+1)/(x+2) > 0 (argument logaritma mora biti pozitivan -- isto kao prvi uslov)

KORAK 5: Slucaj 1: x > 2
  |x-2| = x-2
  2(x+1)/(x+2) = x-2
  2(x+1) = (x-2)(x+2) = x^2 - 4
  2x + 2 = x^2 - 4
  x^2 - 2x - 6 = 0
  x = (2 +/- sqrt(4+24))/2 = (2 +/- sqrt(28))/2 = 1 +/- sqrt(7)
  x1 = 1 + sqrt(7) ~ 3.65 -- vazi (x > 2) PRIHVATA SE
  x2 = 1 - sqrt(7) ~ -1.65 -- ne vazi (x > 2) ODBACUJE SE u ovom slucaju

KORAK 6: Slucaj 2: -1 < x < 2
  |x-2| = 2-x
  2(x+1)/(x+2) = 2-x
  2(x+1) = (2-x)(x+2) = 4 - x^2
  2x + 2 = 4 - x^2
  x^2 + 2x - 2 = 0
  x = (-2 +/- sqrt(4+8))/2 = (-2 +/- sqrt(12))/2 = -1 +/- sqrt(3)
  x3 = -1 + sqrt(3) ~ 0.73 -- vazi (-1 < 0.73 < 2) PRIHVATA SE
  x4 = -1 - sqrt(3) ~ -2.73 -- ne vazi (-1 < x < 2) ODBACUJE SE u ovom slucaju

KORAK 7: Slucaj 3: x < -2
  |x-2| = 2-x (jer x < 2)
  Ista jednacina kao u Slucaju 2: x^2 + 2x - 2 = 0
  x3 = -1 + sqrt(3) ~ 0.73 -- ne vazi (x < -2) ODBACUJE SE
  x4 = -1 - sqrt(3) ~ -2.73 -- vazi (x < -2) PRIHVATA SE
  Provera domene: x+1 = -sqrt(3) < 0, x+2 = 1-sqrt(3) < 0, pa je (x+1)/(x+2) > 0. OK.

KORAK 8: Sva resenja
  x1 = 1 + sqrt(7)
  x3 = -1 + sqrt(3)
  x4 = -1 - sqrt(3)

KORAK 9: Zbir svih resenja
  S = (1 + sqrt(7)) + (-1 + sqrt(3)) + (-1 - sqrt(3))
    = 1 + sqrt(7) - 1 + sqrt(3) - 1 - sqrt(3)
    = sqrt(7) - 1

Odgovor: B) sqrt(7) - 1

Provera sa kljucem: Tacan odgovor je B) sqrt(7) - 1. POKLAPANJE!
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-left: 4px solid transparent;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left: 4px solid #4ade80;
}

.step-badge {
  min-width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #fff;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-content p {
  margin-bottom: 8px;
  color: #cbd5e1;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

.checkpoint {
  background: rgba(52,211,153,0.08);
  border: 1px solid rgba(52,211,153,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #34d399;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box .insight-label {
  color: #a78bfa;
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 10px;
}

.final-answer-box {
  background: rgba(52,211,153,0.08);
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #4ade80;
}

.final-answer-text {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
  margin: 14px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  text-align: center;
  min-width: 70px;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  box-shadow: 0 0 18px rgba(52,211,153,0.2);
}

.option-card .opt-label {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.option-card.correct .opt-label {
  color: #4ade80;
}

.option-card .opt-value {
  font-size: 1.15rem;
  font-weight: 600;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.verification {
  background: rgba(96,165,250,0.07);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin-top: 16px;
  text-align: left;
}

.verification h3 {
  color: #60a5fa;
  font-size: 1rem;
  margin-bottom: 6px;
}

.pitfall-box {
  border-left: 4px solid #e09468;
}

.pitfall-box h2 {
  color: #e09468;
}

.pitfall-box li {
  margin-bottom: 8px;
  padding-left: 4px;
  color: #cbd5e1;
}

.pitfall-box ul {
  padding-left: 20px;
}

.challenge-box {
  border-left: 4px solid #f472b6;
}

.challenge-box h2 {
  color: #f472b6;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.case-label {
  display: inline-block;
  background: rgba(167,139,250,0.15);
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 6px;
  padding: 2px 10px;
  font-size: 0.85rem;
  color: #a78bfa;
  font-weight: 600;
  margin-bottom: 6px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px 18px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 10px 12px; }
  .step-container { padding: 12px; gap: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Logaritamska jednacina sa promenom baze</h1>
  <p class="subtitle">Algebra -- logaritmi, promena baze, apsolutna vrednost, kvadratna jednacina</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir svih realnih resenja jednacine:</p>
    <div class="math-block">
      \[
        1 + \log_2 \frac{x+1}{x+2} = \frac{1}{4}\,\log_{\sqrt{2}} (x-2)^2
      \]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt{7} - 1\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\sqrt{7} - \sqrt{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(-2\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Prevedemo obe strane jednacine na logaritme sa istom bazom 2, zatim resavamo algebarsku jednacinu sa apsolutnom vrednoscu po slucajevima. Na kraju sabiramo sva resenja koja zadovoljavaju <span class="highlight-pink">uslove domene</span>.</p>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul style="padding-left: 20px; margin-top: 12px;">
        <li style="margin-bottom: 10px;">
          <strong>Promena baze logaritma:</strong>
          \(\log_a b = \dfrac{\log_c b}{\log_c a}\). Specijalno: \(\log_{\sqrt{2}} b = \dfrac{\log_2 b}{\log_2 \sqrt{2}} = \dfrac{\log_2 b}{1/2} = 2\log_2 b\)
        </li>
        <li style="margin-bottom: 10px;">
          <strong>Sabiranje logaritama:</strong>
          \(\log_a b + \log_a c = \log_a(b \cdot c)\) i \(\log_a 1 = 0\), \(\log_a a = 1\)
        </li>
        <li style="margin-bottom: 10px;">
          <strong>Logaritam stepena:</strong>
          \(\dfrac{1}{2}\log_2(x-2)^2 = \log_2\sqrt{(x-2)^2} = \log_2|x-2|\)
        </li>
        <li style="margin-bottom: 10px;">
          <strong>Kvadratna formula:</strong>
          \(x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}\)
        </li>
      </ul>
    </details>
  </div>

  <!-- VISUAL AID / CANVAS -->
  <div class="card">
    <h2>Graficki prikaz</h2>
    <p style="margin-bottom: 12px; color: #94a3b8;">Grafici leve i desne strane jednacine (nakon svodjenja na bazu 2). Presecne tacke su resenja.</p>
    <canvas id="mainCanvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Leva strana (plava) i desna strana (roze) -- presecne tacke oznacene zeleno</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo domen</h3>
        <p>Argument logaritma mora biti pozitivan. Za levu stranu potrebno je:</p>
        <div class="math-block">
          \[ \frac{x+1}{x+2} > 0 \]
        </div>
        <p>Ovo vazi kada su brojilac i imenilac istog znaka:</p>
        <div class="math-block">
          \[ x > -1 \quad \text{ili} \quad x < -2 \]
        </div>
        <p>Za desnu stranu potrebno je \((x-2)^2 > 0\), sto znaci:</p>
        <div class="math-block">
          \[ x \neq 2 \]
        </div>
        <p>Takodje, \(x \neq -2\) jer je to imenilac razlomka.</p>
        <p class="note">Domen: \(x \in (-\infty,\, -2) \cup (-1,\, 2) \cup (2,\, +\infty)\)</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Prevedemo desnu stranu na bazu 2</h3>
        <p>Koristimo formulu za promenu baze. Posto je \(\log_2\sqrt{2} = \frac{1}{2}\), imamo:</p>
        <div class="math-block">
          \[ \log_{\sqrt{2}} (x-2)^2 = \frac{\log_2 (x-2)^2}{\log_2 \sqrt{2}} = \frac{\log_2 (x-2)^2}{\frac{1}{2}} = 2\log_2(x-2)^2 \]
        </div>
        <p>Sada desna strana jednacine postaje:</p>
        <div class="math-block">
          \[ \frac{1}{4} \cdot 2\log_2(x-2)^2 = \frac{1}{2}\log_2(x-2)^2 \]
        </div>
        <p>Primenimo pravilo \(\frac{1}{2}\log_2 a^2 = \log_2 |a|\):</p>
        <div class="math-block">
          \[ \frac{1}{2}\log_2(x-2)^2 = \log_2\sqrt{(x-2)^2} = \log_2|x-2| \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Prevedemo levu stranu</h3>
        <p>Zamenimo \(1 = \log_2 2\) i primenimo pravilo za sabiranje logaritama:</p>
        <div class="math-block">
          \[ 1 + \log_2\frac{x+1}{x+2} = \log_2 2 + \log_2\frac{x+1}{x+2} = \log_2\frac{2(x+1)}{x+2} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Kako sada izgleda jednacina?</summary>
      <p style="margin-top: 8px;">
        Jednacina je: \(\log_2\dfrac{2(x+1)}{x+2} = \log_2|x-2|\). Posto su baze iste i obe strane definisane, izjednacavamo argumente.
      </p>
    </details>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Izjednacimo argumente logaritama</h3>
        <p>Posto obe strane imaju \(\log_2\), jednacina je ekvivalentna sa:</p>
        <div class="math-block">
          \[ \frac{2(x+1)}{x+2} = |x-2| \]
        </div>
        <p class="note">Napomena: leva strana je vec pozitivna na domenu, sto je konzistentno sa \(|x-2| \geq 0\).</p>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3><span class="case-label">Slucaj 1</span> \(x > 2\): tada \(|x-2| = x - 2\)</h3>
        <p>Jednacina postaje:</p>
        <div class="math-block">
          \[ \frac{2(x+1)}{x+2} = x - 2 \]
        </div>
        <p>Pomnozimo obe strane sa \((x+2)\):</p>
        <div class="math-block">
          \[ 2(x+1) = (x-2)(x+2) \]
        </div>
        <p>Raspisemo desnu stranu (razlika kvadrata):</p>
        <div class="math-block">
          \[ 2x + 2 = x^2 - 4 \]
        </div>
        <p>Preuredimo:</p>
        <div class="math-block">
          \[ x^2 - 2x - 6 = 0 \]
        </div>
        <p>Primenimo kvadratnu formulu:</p>
        <div class="math-block">
          \[ x = \frac{2 \pm \sqrt{4 + 24}}{2} = \frac{2 \pm \sqrt{28}}{2} = \frac{2 \pm 2\sqrt{7}}{2} = 1 \pm \sqrt{7} \]
        </div>
        <p>Posto zahtevamo \(x > 2\):</p>
        <ul style="padding-left: 20px; margin-top: 6px;">
          <li>\(x = 1 + \sqrt{7} \approx 3{,}65\) -- <span class="highlight-green">zadovoljava</span> uslov \(x > 2\)</li>
          <li>\(x = 1 - \sqrt{7} \approx -1{,}65\) -- <span class="highlight-pink">ne zadovoljava</span> uslov \(x > 2\)</li>
        </ul>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3><span class="case-label">Slucaj 2</span> \(-1 < x < 2\): tada \(|x-2| = 2 - x\)</h3>
        <p>Jednacina postaje:</p>
        <div class="math-block">
          \[ \frac{2(x+1)}{x+2} = 2 - x \]
        </div>
        <p>Pomnozimo obe strane sa \((x+2)\) (pozitivno jer \(x > -1\)):</p>
        <div class="math-block">
          \[ 2(x+1) = (2-x)(x+2) \]
        </div>
        <p>Raspisemo desnu stranu:</p>
        <div class="math-block">
          \[ 2x + 2 = 2x + 4 - x^2 - 2x = 4 - x^2 \]
        </div>

        <p>Preuredimo:</p>
        <div class="math-block">
          \[ x^2 + 2x - 2 = 0 \]
        </div>
        <p>Primenimo kvadratnu formulu:</p>
        <div class="math-block">
          \[ x = \frac{-2 \pm \sqrt{4 + 8}}{2} = \frac{-2 \pm \sqrt{12}}{2} = \frac{-2 \pm 2\sqrt{3}}{2} = -1 \pm \sqrt{3} \]
        </div>
        <p>Posto zahtevamo \(-1 < x < 2\):</p>
        <ul style="padding-left: 20px; margin-top: 6px;">
          <li>\(x = -1 + \sqrt{3} \approx 0{,}73\) -- <span class="highlight-green">zadovoljava</span> uslov \(-1 < 0{,}73 < 2\)</li>
          <li>\(x = -1 - \sqrt{3} \approx -2{,}73\) -- <span class="highlight-pink">ne zadovoljava</span> uslov \(-1 < x < 2\)</li>
        </ul>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko resenja imamo do sada?</summary>
      <p style="margin-top: 8px;">
        Do sada imamo dva resenja: \(x_1 = 1 + \sqrt{7}\) i \(x_2 = -1 + \sqrt{3}\). Ali moramo proveriti i treci slucaj!
      </p>
    </details>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3><span class="case-label">Slucaj 3</span> \(x < -2\): tada \(|x-2| = 2 - x\)</h3>
        <p>Jednacina je ista kao u Slucaju 2 (jer za \(x < -2\) takodje vazi \(x < 2\)):</p>
        <div class="math-block">
          \[ x^2 + 2x - 2 = 0 \quad \Rightarrow \quad x = -1 \pm \sqrt{3} \]
        </div>
        <p>Posto zahtevamo \(x < -2\):</p>
        <ul style="padding-left: 20px; margin-top: 6px;">
          <li>\(x = -1 + \sqrt{3} \approx 0{,}73\) -- <span class="highlight-pink">ne zadovoljava</span> uslov \(x < -2\)</li>
          <li>\(x = -1 - \sqrt{3} \approx -2{,}73\) -- <span class="highlight-green">zadovoljava</span> uslov \(x < -2\)</li>
        </ul>
        <p>Proverimo domen: za \(x = -1-\sqrt{3}\) imamo \(x+1 = -\sqrt{3} < 0\) i \(x+2 = 1-\sqrt{3} < 0\), pa je \(\frac{x+1}{x+2} > 0\). Uslov je ispunjen.</p>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step-container" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Sva resenja i njihov zbir</h3>
        <p>Jednacina ima <span class="highlight-blue">tri resenja</span>:</p>
        <div class="math-block">
          \[ x_1 = 1 + \sqrt{7}, \quad x_2 = -1 + \sqrt{3}, \quad x_3 = -1 - \sqrt{3} \]
        </div>
        <p>Zbir svih resenja:</p>
        <div class="math-block">
          \[ \begin{align}
            S &= (1 + \sqrt{7}) + (-1 + \sqrt{3}) + (-1 - \sqrt{3}) \\
              &= 1 + \sqrt{7} - 1 + \sqrt{3} - 1 - \sqrt{3} \\
              &= \sqrt{7} - 1
          \end{align} \]
        </div>
        <p class="note">Primetimo da se \(\sqrt{3}\) i \(-\sqrt{3}\) poniste, a od celih brojeva ostane \(1 - 1 - 1 = -1\).</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Zasto nije odgovor D) \(\sqrt{7} - \sqrt{3}\)?</summary>
      <p style="margin-top: 8px;">
        Odgovor D bi bio tacan samo ako bismo propustili trece resenje \(x_3 = -1-\sqrt{3}\) iz Slucaja 3. Tada bismo imali samo dva resenja i zbir bi bio \((1+\sqrt{7}) + (-1+\sqrt{3}) = \sqrt{7} + \sqrt{3}\), sto takodje nije D. Kljucno je ne zaboraviti da domen \(x < -2\) takodje daje validno resenje.
      </p>
    </details>

  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="insight-label">Kljucno zapazanje</div>
    <p style="color: #cbd5e1; margin-bottom: 12px;">Apsolutna vrednost \(|x-2|\) daje <span class="highlight-blue">istu jednacinu</span> za dva razlicita intervala domene (\(-1 < x < 2\) i \(x < -2\)), ali razlicita resenja prolaze proveru u razlicitim slucajevima. Upravo zato jednacina ima <span class="highlight-green">tri</span>, a ne dva resenja!</p>
    <div class="math-block" style="display: inline-block;">
      \[ S = (1 + \sqrt{7}) + (-1 + \sqrt{3}) + (-1 - \sqrt{3}) = \sqrt{7} - 1 \]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer-box">
    <h2>Konacni odgovor</h2>
    <div class="final-answer-text">\(\sqrt{7} - 1\)</div>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(2\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(\sqrt{7} - 1\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(0\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(\sqrt{7} - \sqrt{3}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(-2\)</div>
      </div>
    </div>
    <div class="verification">
      <h3>Verifikacija</h3>
      <p style="color: #94a3b8;">Numericka provera: \(\sqrt{7} \approx 2{,}646\), pa je \(\sqrt{7} - 1 \approx 1{,}646\). Zbir resenja \(3{,}646 + 0{,}732 + (-2{,}732) = 1{,}646\). Vrednosti se poklapaju.</p>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card pitfall-box">
    <h2>Ceste greske</h2>
    <ul>
      <li><strong>Zaboravljen treci slucaj:</strong> Domen ukljucuje i \(x < -2\). Ako se taj interval ne razmotri, gubi se resenje \(x = -1 - \sqrt{3}\) i zbir bi bio pogresan.</li>
      <li><strong>Pogresna promena baze:</strong> Cesta greska je pisati \(\log_{\sqrt{2}} a = \frac{1}{2}\log_2 a\) umesto ispravnog \(\log_{\sqrt{2}} a = 2\log_2 a\). Baza \(\sqrt{2}\) je <em>manja</em> od 2, pa logaritam daje <em>vece</em> vrednosti.</li>
      <li><strong>Izostavljanje apsolutne vrednosti:</strong> Iz \(\frac{1}{2}\log_2(x-2)^2\) mora slediti \(\log_2|x-2|\), a ne \(\log_2(x-2)\). Bez apsolutne vrednosti bismo izgubili resenja za \(x < 2\).</li>
    </ul>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Resiti jednacinu \(\log_4(x+3) + \log_4(x-1) = 1\) i pronaci zbir resenja.</p>
    <details>
      <summary>Nagove≈°taj</summary>
      <p style="margin-top: 8px; color: #94a3b8;">Kombinuj logaritme u jedan: \(\log_4[(x+3)(x-1)] = 1\), sto daje \((x+3)(x-1) = 4\). Resi kvadratnu jednacinu i proveri domen (\(x > 1\)).</p>
    </details>
  </div>

</div>

<!-- CANVAS SCRIPT -->
<script>
(() => {
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const originX = W * 0.5;
  const originY = H * 0.55;
  const scaleX = 55;
  const scaleY = 40;

  function toCanvas(x, y) {
    return { x: originX + x * scaleX, y: originY - y * scaleY };
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -6; gx <= 6; gx++) {
      const p1 = toCanvas(gx, -5);
      const p2 = toCanvas(gx, 8);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
    for (let gy = -5; gy <= 8; gy++) {
      const p1 = toCanvas(-6, gy);
      const p2 = toCanvas(6, gy);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    const xl = toCanvas(-6, 0);
    const xr = toCanvas(6, 0);
    ctx.beginPath();
    ctx.moveTo(xl.x, xl.y);
    ctx.lineTo(xr.x, xr.y);
    ctx.stroke();

    const yd = toCanvas(0, -5);
    const yu = toCanvas(0, 8);
    ctx.beginPath();
    ctx.moveTo(yd.x, yd.y);
    ctx.lineTo(yu.x, yu.y);
    ctx.stroke();

    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = -5; gx <= 5; gx++) {
      if (gx === 0) continue;
      const p = toCanvas(gx, 0);
      ctx.fillText(String(gx), p.x, p.y + 16);
    }
    ctx.textAlign = 'right';
    for (let gy = -4; gy <= 7; gy++) {
      if (gy === 0) continue;
      const p = toCanvas(0, gy);
      ctx.fillText(String(gy), p.x - 8, p.y + 4);
    }

    ctx.fillStyle = '#64748b';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', toCanvas(5.7, 0).x, toCanvas(5.7, 0).y + 18);
    ctx.fillText('y', toCanvas(0, 7.5).x + 14, toCanvas(0, 7.5).y + 4);
  }

  function leftSide(x) {
    if (x <= -2 || (x > -2 && x <= -1)) return NaN;
    const arg = (x + 1) / (x + 2);
    if (arg <= 0) return NaN;
    return Math.log2(2 * arg);
  }

  function leftSideExt(x) {
    const arg = (x + 1) / (x + 2);
    if (arg <= 0 || x === -2) return NaN;
    return Math.log2(2 * arg);
  }

  function rightSide(x) {
    if (x === 2) return NaN;
    return Math.log2(Math.abs(x - 2));
  }

  function drawCurve(fn, color, dashPattern) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.setLineDash(dashPattern || []);
    ctx.beginPath();
    let drawing = false;
    const step = 0.02;
    for (let x = -5.5; x <= 5.5; x += step) {
      const y = fn(x);
      if (isNaN(y) || !isFinite(y) || Math.abs(y) > 10) {
        drawing = false;
        continue;
      }
      const p = toCanvas(x, y);
      if (!drawing) {
        ctx.moveTo(p.x, p.y);
        drawing = true;
      } else {
        ctx.lineTo(p.x, p.y);
      }
    }
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawSolution(x, label) {
    const y = rightSide(x);
    const p = toCanvas(x, y);
    ctx.beginPath();
    ctx.arc(p.x, p.y, 7, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(52,211,153,0.3)';
    ctx.fill();
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, p.x, p.y - 14);
  }

  function drawAsymptote(x, label) {
    const p1 = toCanvas(x, -5);
    const p2 = toCanvas(x, 8);
    ctx.strokeStyle = 'rgba(244,114,182,0.3)';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = 'rgba(244,114,182,0.5)';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, p1.x, toCanvas(x, 7.3).y);
  }

  function drawLegend() {
    const lx = 16;
    const ly = 16;

    ctx.fillStyle = 'rgba(30,41,59,0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const bw = 230;
    const bh = 72;
    ctx.beginPath();
    ctx.roundRect(lx, ly, bw, bh, 8);
    ctx.fill();
    ctx.stroke();

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(lx + 12, ly + 22);
    ctx.lineTo(lx + 42, ly + 22);
    ctx.stroke();

    ctx.fillStyle = '#cbd5e1';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('log\u2082[2(x+1)/(x+2)]', lx + 50, ly + 26);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(lx + 12, ly + 48);
    ctx.lineTo(lx + 42, ly + 48);
    ctx.stroke();

    ctx.fillText('log\u2082|x \u2212 2|', lx + 50, ly + 52);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawAxes();
    drawAsymptote(-2, 'x = \u22122');
    drawAsymptote(2, 'x = 2');

    drawCurve(leftSideExt, '#60a5fa');
    drawCurve(rightSide, '#f472b6');

    const x1 = 1 + Math.sqrt(7);
    const x2 = -1 + Math.sqrt(3);
    const x3 = -1 - Math.sqrt(3);
    drawSolution(x1, 'x\u2081 = 1+\u221A7');
    drawSolution(x2, 'x\u2082 = \u22121+\u221A3');
    drawSolution(x3, 'x\u2083 = \u22121\u2212\u221A3');

    drawLegend();
  }

  draw();

  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska jednacina sa promenom baze",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritmi", "promena baze logaritma", "apsolutna vrednost", "kvadratna jednacina", "domen funkcije"]
}
BRAINSPARK_META-->