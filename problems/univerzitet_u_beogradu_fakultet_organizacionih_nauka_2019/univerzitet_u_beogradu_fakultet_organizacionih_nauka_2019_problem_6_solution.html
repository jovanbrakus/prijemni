<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamski izrazi i promena osnove</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Given a = log_3(4) * log_4(5) * log_5(6) and b = log_2(81) / (1 + log_2(3)),
find log_2(a*b).

Step 1: Simplify a using the change-of-base formula.
  log_3(4) = ln4/ln3
  log_4(5) = ln5/ln4
  log_5(6) = ln6/ln5

  a = (ln4/ln3)(ln5/ln4)(ln6/ln5) = ln6/ln3 = log_3(6)

Step 2: Simplify b.
  Numerator: log_2(81) = log_2(3^4) = 4*log_2(3)
  Denominator: 1 + log_2(3) = log_2(2) + log_2(3) = log_2(6)

  b = 4*log_2(3) / log_2(6)

Step 3: Compute a*b.
  a*b = log_3(6) * [4*log_2(3) / log_2(6)]

  Using change of base: log_3(6) = ln6/ln3
  And: 4*log_2(3)/log_2(6) = 4*(ln3/ln2)/(ln6/ln2) = 4*ln3/ln6

  a*b = (ln6/ln3) * (4*ln3/ln6) = 4

Step 4: Compute log_2(a*b).
  log_2(a*b) = log_2(4) = log_2(2^2) = 2

Answer: E) 2

Verification:
  a = log_3(6) = log_3(2*3) = 1 + log_3(2) ≈ 1 + 0.6309 = 1.6309
  b = 4*log_2(3)/log_2(6) = 4*1.585/2.585 ≈ 6.340/2.585 ≈ 2.452
  a*b ≈ 1.6309 * 2.452 ≈ 4.0 ✓
  log_2(4) = 2 ✓
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 900px;
    margin: 0 auto;
  }
  h1 {
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 1.9rem;
    font-weight: 800;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .blue { color: #60a5fa; }
  .purple { color: #a78bfa; }
  .green { color: #34d399; }
  .pink { color: #f472b6; }
  .muted { color: #94a3b8; }
  .problem-statement {
    border-left: 4px solid #60a5fa;
    padding-left: 18px;
    font-size: 1.08rem;
  }
  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .given-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 14px;
    text-align: center;
  }
  .given-item .label {
    font-size: 0.85rem;
    color: #94a3b8;
    font-weight: 600;
    margin-bottom: 4px;
  }
  .given-item .value {
    font-size: 1rem;
    color: #e2e8f0;
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 6px 0 6px 36px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 6px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
  }
  details {
    margin: 15px 0;
  }
  details summary {
    cursor: pointer;
    color: #a78bfa;
    font-weight: 600;
    font-size: 1.05rem;
    padding: 8px 0;
    user-select: none;
  }
  details summary:hover { color: #c4b5fd; }
  details[open] summary { margin-bottom: 12px; }
  .theory-content p { margin-bottom: 10px; }
  .step {
    border-left: 3px solid #334155;
    padding: 14px 20px;
    margin-bottom: 22px;
    position: relative;
    cursor: pointer;
    transition: border-color 0.2s, background 0.2s;
    border-radius: 0 8px 8px 0;
  }
  .step:hover, .step.active {
    border-left-color: #34d399;
    background: rgba(52, 211, 153, 0.04);
  }
  .step-badge {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
    margin-right: 10px;
    flex-shrink: 0;
  }
  .step-title {
    font-weight: 700;
    font-size: 1.05rem;
    color: #60a5fa;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
  }
  .step p { margin-bottom: 8px; }
  .math-block {
    background: rgba(56, 189, 248, 0.08);
    border: 1px solid rgba(56, 189, 248, 0.15);
    border-radius: 8px;
    padding: 12px 16px;
    margin: 10px 0;
    overflow-x: auto;
  }
  .checkpoint {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.25);
    border-radius: 10px;
    padding: 10px 16px;
    margin: 15px 0;
    font-size: 0.95rem;
  }
  .checkpoint summary {
    color: #60a5fa;
    font-weight: 600;
    font-size: 0.95rem;
    cursor: pointer;
  }
  .checkpoint summary:hover { color: #93c5fd; }
  .insight-box {
    background: linear-gradient(135deg, rgba(167, 139, 250, 0.1), rgba(96, 165, 250, 0.1));
    border: 1px solid rgba(167, 139, 250, 0.3);
    border-radius: 14px;
    padding: 20px 24px;
  }
  .insight-formula {
    text-align: center;
    font-size: 1.3rem;
    margin: 14px 0 6px;
    color: #4ade80;
  }
  .final-answer {
    text-align: center;
    padding: 32px 28px;
    border: 2px solid #34d399;
    background: rgba(52, 211, 153, 0.06);
  }
  .final-answer .answer-label {
    color: #34d399;
    font-weight: 800;
    font-size: 1.15rem;
    letter-spacing: 1px;
    margin-bottom: 12px;
    text-transform: uppercase;
  }
  .final-answer .answer-value {
    font-size: 1.6rem;
    font-weight: 700;
    color: #4ade80;
  }
  .final-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 10px;
    margin-top: 18px;
    max-width: 650px;
    margin-left: auto;
    margin-right: auto;
  }
  .final-option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 14px;
    text-align: center;
    font-size: 1rem;
  }
  .final-option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.1);
    color: #4ade80;
    font-weight: 700;
  }
  .verification {
    margin-top: 16px;
    padding: 12px 16px;
    background: rgba(52, 211, 153, 0.06);
    border-radius: 8px;
    color: #94a3b8;
    font-size: 0.93rem;
    text-align: left;
    max-width: 650px;
    margin-left: auto;
    margin-right: auto;
  }
  .pitfall-item {
    display: flex;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid #334155;
  }
  .pitfall-item:last-child { border-bottom: none; }
  .pitfall-icon { color: #f472b6; font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }
  .pitfall-text { font-size: 0.97rem; }
  .challenge-box {
    background: rgba(244, 114, 182, 0.06);
    border: 1px solid rgba(244, 114, 182, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    max-width: 100%;
    border-radius: 10px;
    background: #0c1222;
    border: 1px solid #334155;
    touch-action: none;
  }
  .canvas-hint {
    text-align: center;
    color: #64748b;
    font-size: 0.85rem;
    margin-top: 8px;
  }
  @media (max-width: 700px) {
    body { padding: 14px; }
    h1 { font-size: 1.4rem; }
    .card { padding: 18px 16px; }
    .given-grid { grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); }
    .final-options { grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); }
    .final-answer .answer-value { font-size: 1.3rem; }
  }
</style>
</head>
<body>

<h1>Logaritamski izrazi i promena osnove</h1>
<p class="subtitle">Osobine logaritama, formula za promenu osnove, pojednostavljivanje proizvoda logaritama</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon blue">&#9998;</span> <span class="blue">Postavka zadatka</span></div>
  <p>Ako je \(a = \log_3 4 \cdot \log_4 5 \cdot \log_5 6\) i \(b = \dfrac{\log_2 81}{1 + \log_2 3}\), onda vrednost izraza \(\log_2(ab)\) iznosi:</p>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(\log_2 6\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(4\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(\log_2 9\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(2\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon purple">&#9881;</span> <span class="purple">Plan rešavanja</span></div>
  <p>Koristićemo <strong>formulu za promenu osnove logaritma</strong> da pojednostavimo proizvod logaritama u izrazu za \(a\), a zatim osobine logaritama da sredimo \(b\). Na kraju izračunavamo \(\log_2(ab)\).</p>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details>
    <summary>Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Formula za promenu osnove:</strong></p>
      <p>\[\log_a b = \frac{\ln b}{\ln a} = \frac{\log_c b}{\log_c a}\]</p>
      <p><strong>Teleskopski proizvod logaritama:</strong> Kada primenimo formulu za promenu osnove na proizvod oblika \(\log_a b \cdot \log_b c \cdot \log_c d\), dobijamo:</p>
      <p>\[\log_a b \cdot \log_b c \cdot \log_c d = \frac{\ln b}{\ln a} \cdot \frac{\ln c}{\ln b} \cdot \frac{\ln d}{\ln c} = \frac{\ln d}{\ln a} = \log_a d\]</p>
      <p>Imenilac svakog razlomka se skraćuje sa brojiocem sledećeg &mdash; kao u teleskopu!</p>
      <p><strong>Zbir logaritama:</strong></p>
      <p>\[\log_a x + \log_a y = \log_a(xy)\]</p>
      <p><strong>Logaritam stepena:</strong></p>
      <p>\[\log_a(b^n) = n \cdot \log_a b\]</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon green">&#9650;</span> <span class="green">Vizuelni prikaz</span></div>
  <canvas id="logCanvas" width="750" height="420"></canvas>
  <p class="canvas-hint">Teleskopsko skraćivanje u proizvodu logaritama</p>
</div>

<!-- Step-by-Step Solution -->
<div class="card">
  <div class="card-title"><span class="icon blue">&#128218;</span> <span class="blue">Rešenje korak po korak</span></div>

  <div class="step" id="step1">
    <div class="step-title"><span class="step-badge">1</span> Pojednostavljivanje izraza za \(a\)</div>
    <p>Primenimo formulu za promenu osnove na svaki činilac:</p>
    <div class="math-block">
      \[\log_3 4 = \frac{\ln 4}{\ln 3}, \qquad \log_4 5 = \frac{\ln 5}{\ln 4}, \qquad \log_5 6 = \frac{\ln 6}{\ln 5}\]
    </div>
  </div>

  <div class="step" id="step2">
    <div class="step-title"><span class="step-badge">2</span> Teleskopsko skraćivanje</div>
    <p>Pomnožimo sve tri razlomke. Imenilac svakog razlomka skraćuje se sa brojiocem sledećeg:</p>
    <div class="math-block">
      \[a = \frac{\ln 4}{\ln 3} \cdot \frac{\ln 5}{\ln 4} \cdot \frac{\ln 6}{\ln 5} = \frac{\cancel{\ln 4}}{\ln 3} \cdot \frac{\cancel{\ln 5}}{\cancel{\ln 4}} \cdot \frac{\ln 6}{\cancel{\ln 5}}\]
    </div>
    <p>Ostaje samo:</p>
    <div class="math-block">
      \[a = \frac{\ln 6}{\ln 3} = \log_3 6\]
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Koliko iznosi \(\log_2 3 \cdot \log_3 8\)?</summary>
    <p style="margin-top:8px;">\(\log_2 3 \cdot \log_3 8 = \frac{\ln 3}{\ln 2} \cdot \frac{\ln 8}{\ln 3} = \frac{\ln 8}{\ln 2} = \log_2 8 = 3\). Isti princip teleskopskog skraćivanja!</p>
  </details>

  <div class="step" id="step3">
    <div class="step-title"><span class="step-badge">3</span> Pojednostavljivanje brojioca od \(b\)</div>
    <p>Brojilac izraza za \(b\) je \(\log_2 81\). Kako je \(81 = 3^4\), koristimo osobinu logaritma stepena:</p>
    <div class="math-block">
      \[\log_2 81 = \log_2 3^4 = 4 \log_2 3\]
    </div>
  </div>

  <div class="step" id="step4">
    <div class="step-title"><span class="step-badge">4</span> Pojednostavljivanje imenioca od \(b\)</div>
    <p>Imenilac je \(1 + \log_2 3\). Kako je \(1 = \log_2 2\), koristimo formulu za zbir logaritama:</p>
    <div class="math-block">
      \[1 + \log_2 3 = \log_2 2 + \log_2 3 = \log_2(2 \cdot 3) = \log_2 6\]
    </div>
  </div>

  <div class="step" id="step5">
    <div class="step-title"><span class="step-badge">5</span> Konačan oblik za \(b\)</div>
    <p>Sada kombinujemo rezultate koraka 3 i 4:</p>
    <div class="math-block">
      \[b = \frac{4\log_2 3}{\log_2 6}\]
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Koliko je \(\log_2 2 + \log_2 5\)?</summary>
    <p style="margin-top:8px;">\(\log_2 2 + \log_2 5 = \log_2(2 \cdot 5) = \log_2 10\). Zbir logaritama = logaritam proizvoda.</p>
  </details>

  <div class="step" id="step6">
    <div class="step-title"><span class="step-badge">6</span> Izračunavanje proizvoda \(a \cdot b\)</div>
    <p>Zamenimo dobijene izraze:</p>
    <div class="math-block">
      \[a \cdot b = \log_3 6 \cdot \frac{4\log_2 3}{\log_2 6}\]
    </div>
    <p>Primenimo promenu osnove na \(\log_3 6 = \dfrac{\log_2 6}{\log_2 3}\):</p>
    <div class="math-block">
      \[a \cdot b = \frac{\log_2 6}{\log_2 3} \cdot \frac{4\log_2 3}{\log_2 6}\]
    </div>
  </div>

  <div class="step" id="step7">
    <div class="step-title"><span class="step-badge">7</span> Skraćivanje</div>
    <p>Primetimo da se \(\log_2 6\) i \(\log_2 3\) pojavljuju i u brojiocu i u imeniocu:</p>
    <div class="math-block">
      \[a \cdot b = \frac{\cancel{\log_2 6}}{\cancel{\log_2 3}} \cdot \frac{4 \cdot \cancel{\log_2 3}}{\cancel{\log_2 6}} = 4\]
    </div>
  </div>

  <div class="step" id="step8">
    <div class="step-title"><span class="step-badge">8</span> Konačan rezultat</div>
    <p>Sada računamo traženu vrednost:</p>
    <div class="math-block">
      \[\log_2(ab) = \log_2 4 = \log_2 2^2 = 2\]
    </div>
  </div>

  <details class="checkpoint">
    <summary>Proveri sebe: Koliko je \(\log_2 4\)?</summary>
    <p style="margin-top:8px;">\(\log_2 4 = \log_2 2^2 = 2\), jer \(2^2 = 4\).</p>
  </details>
</div>

<!-- Key Insight -->
<div class="card insight-box">
  <div class="card-title"><span class="icon purple">&#9733;</span> <span class="purple">Ključni uvid</span></div>
  <p>Proizvod uzastopnih logaritama oblika \(\log_a b \cdot \log_b c \cdot \log_c d\) se <strong>teleskopski skraćuje</strong> u \(\log_a d\). Ovo je moćna tehnika koja dramatično pojednostavljuje naizgled komplikovane izraze. Kada zatim prevedemo \(b\) u isti oblik, celokupan proizvod \(ab\) se skraćuje u jednostavan ceo broj.</p>
  <div class="insight-formula">\(\log_3 6 \cdot \dfrac{4\log_2 3}{\log_2 6} = 4 \implies \log_2(ab) = 2\)</div>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <div class="answer-label">Tačan odgovor</div>
  <div class="answer-value">E) \(\;2\)</div>
  <div class="final-options">
    <div class="final-option">(A) \(\log_2 6\)</div>
    <div class="final-option">(B) \(4\)</div>
    <div class="final-option">(C) \(\log_2 9\)</div>
    <div class="final-option">(D) \(1\)</div>
    <div class="final-option correct">(E) \(2\)</div>
  </div>
  <div class="verification">
    <strong>Verifikacija:</strong> Numerički, \(a = \log_3 6 \approx 1{,}631\) i \(b = \frac{4\log_2 3}{\log_2 6} \approx \frac{6{,}340}{2{,}585} \approx 2{,}452\). Proizvod je \(ab \approx 4{,}000\), pa \(\log_2 4 = 2\). Rezultat se poklapa.
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#9888;</span> <span class="pink">Česte greške</span></div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Zaboravljanje da je \(1 = \log_2 2\):</strong> Mnogi učenici ne prepoznaju da se \(1\) u imeniocu \(1 + \log_2 3\) može zapisati kao \(\log_2 2\), čime se omogućava primena formule za zbir logaritama.</span>
  </div>
  <div class="pitfall-item">
    <span class="pitfall-icon">&#10007;</span>
    <span class="pitfall-text"><strong>Mešanje \(ab\) sa \(\log_2(ab)\):</strong> Vrednost proizvoda \(ab = 4\), ali se traži \(\log_2(ab) = \log_2 4 = 2\). Odgovor B) \(= 4\) je zamka za one koji zaborave poslednji korak.</span>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="card-title"><span class="icon pink">&#127891;</span> <span class="pink">Izazov za razmišljanje</span></div>
  <div class="challenge-box">
    <p>Izračunaj vrednost izraza \(\log_2 3 \cdot \log_3 4 \cdot \log_4 5 \cdots \log_{n-1} n\) za proizvoljno \(n \geq 3\). Za koje \(n\) je ova vrednost ceo broj?</p>
    <details>
      <summary>Hint</summary>
      <p style="margin-top:8px;">Primeni teleskopsko skraćivanje: ceo proizvod postaje \(\log_2 n\). Ovaj izraz je ceo broj kada je \(n\) stepen dvojke, tj. \(n = 2^k\) za \(k \in \mathbb{N}\).</p>
    </details>
  </div>
</div>

<script>
(() => {
  const canvas = document.getElementById('logCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const W = canvas.width;
    const H = canvas.height;
    const dpr = window.devicePixelRatio || 1;
    canvas.style.width = W + 'px';
    canvas.style.height = H + 'px';
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    ctx.clearRect(0, 0, W, H);

    // Title
    ctx.font = 'bold 16px "Segoe UI", sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'center';
    ctx.fillText('Teleskopsko skraćivanje proizvoda logaritama', W / 2, 30);

    // Draw the telescoping product for a
    const startY = 80;
    const boxW = 90;
    const boxH = 55;
    const gap = 18;
    const totalW = 3 * boxW + 2 * gap;
    const startX = (W - totalW) / 2;

    // Label "a ="
    ctx.font = 'bold 18px "Segoe UI", sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'right';
    ctx.fillText('a =', startX - 14, startY + boxH / 2 + 6);
    ctx.textAlign = 'center';

    // Fraction boxes
    const fractions = [
      { num: 'ln 4', den: 'ln 3', numColor: '#f472b6', denColor: '#a78bfa' },
      { num: 'ln 5', den: 'ln 4', numColor: '#34d399', denColor: '#f472b6' },
      { num: 'ln 6', den: 'ln 5', numColor: '#60a5fa', denColor: '#34d399' }
    ];

    fractions.forEach((f, i) => {
      const x = startX + i * (boxW + gap);
      const cx = x + boxW / 2;

      // Box background
      ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.roundRect(x, startY, boxW, boxH, 8);
      ctx.fill();
      ctx.stroke();

      // Fraction line
      ctx.beginPath();
      ctx.moveTo(x + 10, startY + boxH / 2);
      ctx.lineTo(x + boxW - 10, startY + boxH / 2);
      ctx.strokeStyle = '#64748b';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Numerator
      ctx.font = 'bold 14px "Segoe UI", sans-serif';
      ctx.fillStyle = f.numColor;
      ctx.fillText(f.num, cx, startY + boxH / 2 - 10);

      // Denominator
      ctx.fillStyle = f.denColor;
      ctx.fillText(f.den, cx, startY + boxH / 2 + 22);

      // Multiplication dots between boxes
      if (i < 2) {
        ctx.font = 'bold 20px "Segoe UI", sans-serif';
        ctx.fillStyle = '#64748b';
        ctx.fillText('\u00D7', x + boxW + gap / 2, startY + boxH / 2 + 6);
      }
    });

    // Draw cancel lines for ln 4
    const cancelY1 = startY + boxH / 2 - 18;
    const cancelY2 = startY + boxH / 2 + 28;
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.6)';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 3]);

    // ln 4 numerator (box 0) to ln 4 denominator (box 1)
    const x0num = startX + boxW / 2;
    const x1den = startX + (boxW + gap) + boxW / 2;
    ctx.beginPath();
    ctx.moveTo(x0num + 25, startY + 12);
    ctx.quadraticCurveTo((x0num + x1den) / 2, startY - 12, x1den - 25, startY + boxH - 8);
    ctx.stroke();

    // ln 5 numerator (box 1) to ln 5 denominator (box 2)
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.6)';
    const x1num = startX + (boxW + gap) + boxW / 2;
    const x2den = startX + 2 * (boxW + gap) + boxW / 2;
    ctx.beginPath();
    ctx.moveTo(x1num + 25, startY + 12);
    ctx.quadraticCurveTo((x1num + x2den) / 2, startY - 12, x2den - 25, startY + boxH - 8);
    ctx.stroke();
    ctx.setLineDash([]);

    // Equals sign and result
    const resultX = startX + totalW + 30;
    ctx.font = 'bold 22px "Segoe UI", sans-serif';
    ctx.fillStyle = '#64748b';
    ctx.textAlign = 'center';
    ctx.fillText('=', resultX, startY + boxH / 2 + 6);

    // Result box
    const resBoxX = resultX + 22;
    const resBoxW = 80;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.1)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(resBoxX, startY, resBoxW, boxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(resBoxX + 10, startY + boxH / 2);
    ctx.lineTo(resBoxX + resBoxW - 10, startY + boxH / 2);
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.font = 'bold 14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('ln 6', resBoxX + resBoxW / 2, startY + boxH / 2 - 10);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('ln 3', resBoxX + resBoxW / 2, startY + boxH / 2 + 22);

    // Result label
    ctx.font = 'bold 15px "Segoe UI", sans-serif';
    ctx.fillStyle = '#34d399';
    ctx.fillText('= log\u2083 6', resBoxX + resBoxW / 2, startY + boxH + 22);

    // --- Section for b ---
    const secY = 185;

    ctx.font = 'bold 18px "Segoe UI", sans-serif';
    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'left';
    ctx.fillText('b =', 60, secY + 20);

    // Numerator box
    ctx.textAlign = 'center';
    const bBoxX = 130;
    const bBoxW = 260;
    const bBoxH = 70;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(bBoxX, secY - 5, bBoxW, bBoxH, 8);
    ctx.fill();
    ctx.stroke();

    // Fraction line
    ctx.beginPath();
    ctx.moveTo(bBoxX + 15, secY + bBoxH / 2 - 5);
    ctx.lineTo(bBoxX + bBoxW - 15, secY + bBoxH / 2 - 5);
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.font = '14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('log\u2082 81 = 4 \u00B7 log\u2082 3', bBoxX + bBoxW / 2, secY + bBoxH / 2 - 18);
    ctx.fillText('1 + log\u2082 3 = log\u2082 6', bBoxX + bBoxW / 2, secY + bBoxH / 2 + 14);

    // Arrow to result
    const arrowStartX = bBoxX + bBoxW + 15;
    ctx.font = 'bold 20px "Segoe UI", sans-serif';
    ctx.fillStyle = '#64748b';
    ctx.fillText('=', arrowStartX + 10, secY + bBoxH / 2);

    // Result for b
    const bResX = arrowStartX + 40;
    const bResW = 160;
    ctx.fillStyle = 'rgba(167, 139, 250, 0.1)';
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(bResX, secY - 5, bResW, bBoxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(bResX + 10, secY + bBoxH / 2 - 5);
    ctx.lineTo(bResX + bResW - 10, secY + bBoxH / 2 - 5);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.font = 'bold 14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('4 \u00B7 log\u2082 3', bResX + bResW / 2, secY + bBoxH / 2 - 18);
    ctx.fillText('log\u2082 6', bResX + bResW / 2, secY + bBoxH / 2 + 14);

    // --- Section for a*b ---
    const prodY = 290;

    ctx.font = 'bold 18px "Segoe UI", sans-serif';
    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'left';
    ctx.fillText('a \u00B7 b =', 40, prodY + 25);

    ctx.textAlign = 'center';

    // a term
    const pAx = 150;
    const pBoxW = 100;
    const pBoxH = 60;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(pAx, prodY, pBoxW, pBoxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(pAx + 10, prodY + pBoxH / 2);
    ctx.lineTo(pAx + pBoxW - 10, prodY + pBoxH / 2);
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.font = 'bold 14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('log\u2082 6', pAx + pBoxW / 2, prodY + pBoxH / 2 - 10);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('log\u2082 3', pAx + pBoxW / 2, prodY + pBoxH / 2 + 22);

    // Multiply sign
    ctx.font = 'bold 20px "Segoe UI", sans-serif';
    ctx.fillStyle = '#64748b';
    ctx.fillText('\u00D7', pAx + pBoxW + 15, prodY + pBoxH / 2 + 6);

    // b term
    const pBx = pAx + pBoxW + 32;
    const pBw = 120;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.8)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(pBx, prodY, pBw, pBoxH, 8);
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(pBx + 10, prodY + pBoxH / 2);
    ctx.lineTo(pBx + pBw - 10, prodY + pBoxH / 2);
    ctx.strokeStyle = '#64748b';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.font = 'bold 14px "Segoe UI", sans-serif';
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('4 \u00B7 log\u2082 3', pBx + pBw / 2, prodY + pBoxH / 2 - 10);
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('log\u2082 6', pBx + pBw / 2, prodY + pBoxH / 2 + 22);

    // Cancel lines in product
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.6)';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 3]);

    // log2 6 cancels
    ctx.beginPath();
    ctx.moveTo(pAx + pBoxW / 2 + 28, prodY + 8);
    ctx.quadraticCurveTo((pAx + pBoxW + pBx + pBw) / 2, prodY + pBoxH + 20, pBx + pBw / 2 + 28, prodY + pBoxH - 8);
    ctx.stroke();

    // log2 3 cancels
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.6)';
    ctx.beginPath();
    ctx.moveTo(pAx + pBoxW / 2 + 28, prodY + pBoxH - 8);
    ctx.quadraticCurveTo((pAx + pBoxW + pBx + pBw) / 2, prodY - 15, pBx + pBw / 2 - 20, prodY + 8);
    ctx.stroke();
    ctx.setLineDash([]);

    // Equals
    ctx.font = 'bold 22px "Segoe UI", sans-serif';
    ctx.fillStyle = '#64748b';
    ctx.fillText('=', pBx + pBw + 20, prodY + pBoxH / 2 + 6);

    // Result = 4
    const resX2 = pBx + pBw + 42;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(resX2, prodY + 5, 50, 50, 10);
    ctx.fill();
    ctx.stroke();

    ctx.font = 'bold 26px "Segoe UI", sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.fillText('4', resX2 + 25, prodY + 38);

    // Final result line
    const finalY = 385;
    ctx.font = 'bold 17px "Segoe UI", sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('log\u2082(ab) = log\u2082 4 = log\u2082 2\u00B2 =', W / 2 - 40, finalY);

    ctx.font = 'bold 24px "Segoe UI", sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.fillText('2', W / 2 + 115, finalY + 2);
  }

  draw();

  // Step click highlighting
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Logaritamski izrazi i promena osnove","subject":"math","unit":"algebra","topic_tags":["logaritmi","promena osnove","teleskopski proizvod","osobine logaritama"]}
BRAINSPARK_META-->