<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska jednačina — Proizvod rešenja</title>
<script type="text/info" id="logic-scratchpad">
Problem: Find the product of all solutions of the equation:
  1/(1 - log_x(16)) + 4/(1 + log_x(4)) = 1

Constraints: x > 0, x ≠ 1 (base of logarithm constraints)

Step 1: Substitution
Let t = log_x(4). Then log_x(16) = log_x(4^2) = 2·log_x(4) = 2t.

Step 2: Rewrite equation
1/(1 - 2t) + 4/(1 + t) = 1

Additional domain constraints:
  1 - 2t ≠ 0 => t ≠ 1/2
  1 + t ≠ 0 => t ≠ -1

Step 3: Multiply both sides by (1 - 2t)(1 + t)
(1 + t) + 4(1 - 2t) = (1 - 2t)(1 + t)

Left side:
  1 + t + 4 - 8t = 5 - 7t

Right side:
  1 + t - 2t - 2t^2 = 1 - t - 2t^2

Step 4: Set equal
5 - 7t = 1 - t - 2t^2
2t^2 - 7t + t + 5 - 1 = 0
2t^2 - 6t + 4 = 0
t^2 - 3t + 2 = 0
(t - 1)(t - 2) = 0

So t = 1 or t = 2.

Step 5: Back-substitute

Case t = 1: log_x(4) = 1 => x^1 = 4 => x = 4
Check t ≠ 1/2 ✓, t ≠ -1 ✓
Check x > 0 ✓, x ≠ 1 ✓

Case t = 2: log_x(4) = 2 => x^2 = 4 => x = 2 (x > 0)
Check t ≠ 1/2 ✓, t ≠ -1 ✓
Check x > 0 ✓, x ≠ 1 ✓

Step 6: Verification
x = 4: log_4(16) = 2, log_4(4) = 1
  1/(1-2) + 4/(1+1) = -1 + 2 = 1 ✓

x = 2: log_2(16) = 4, log_2(4) = 2
  1/(1-4) + 4/(1+2) = -1/3 + 4/3 = 3/3 = 1 ✓

Step 7: Product of solutions
x_1 · x_2 = 4 · 2 = 8

Answer: D) 8
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 70px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.step-container:hover {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(96, 165, 250, 0.08);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96, 165, 250, 0.08);
  border-radius: 8px;
  list-style: none;
  transition: background 0.2s;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '▶ ';
  display: inline-block;
  transition: transform 0.2s;
  font-size: 0.8em;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details summary:hover {
  background: rgba(96, 165, 250, 0.15);
}

details .details-content {
  padding: 14px 16px;
  color: #cbd5e1;
  border-left: 2px solid #334155;
  margin-left: 8px;
  margin-top: 8px;
}

details .details-content ul {
  padding-left: 20px;
}

details .details-content li {
  margin-bottom: 8px;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px;
  margin: 15px 0;
}

.checkpoint summary {
  background: rgba(167, 139, 250, 0.12);
  color: #a78bfa;
}

.checkpoint summary:hover {
  background: rgba(167, 139, 250, 0.2);
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.08));
  border: 1px solid rgba(52, 211, 153, 0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #34d399;
  margin-bottom: 16px;
}

.final-answer .answer-value {
  font-size: 1.8rem;
  font-weight: 700;
  color: #4ade80;
  margin: 12px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  font-weight: 600;
  min-width: 80px;
  text-align: center;
  transition: all 0.2s;
}

.option-card.correct {
  border-color: #4ade80;
  color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  box-shadow: 0 0 20px rgba(74, 222, 128, 0.15);
}

.verification {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.pitfall-card {
  background: rgba(224, 148, 104, 0.06);
  border: 1px solid rgba(224, 148, 104, 0.2);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
}

.pitfall-card h2 {
  color: #e09468;
  margin-bottom: 12px;
}

.pitfall-card ul {
  padding-left: 20px;
}

.pitfall-card li {
  color: #cbd5e1;
  margin-bottom: 10px;
}

.challenge-card {
  background: rgba(244, 114, 182, 0.06);
  border: 1px solid rgba(244, 114, 182, 0.2);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
}

.challenge-card h2 {
  color: #f472b6;
  margin-bottom: 12px;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 10px; padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 10px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Logaritamska jednačina — Proizvod rešenja</h1>
  <p class="subtitle">Logaritmi, smena promenljive, kvadratna jednačina</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Proizvod svih rešenja jednačine:</p>
    <div class="math-block">
      \[\frac{1}{1 - \log_x 16} + \frac{4}{1 + \log_x 4} = 1\]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(16\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(8\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(4\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p>Uvešćemo smenu \( t = \log_x 4 \), čime se \( \log_x 16 \) svodi na \( 2t \). Jednačina postaje racionalna po \( t \), koju svodimo na kvadratnu. Iz dobijenih vrednosti za \( t \) nalazimo odgovarajuće baze \( x \), a zatim računamo njihov proizvod.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul>
          <li><strong>Definicija logaritma:</strong> \( \log_x a = b \iff x^b = a \), gde je \( x > 0 \), \( x \neq 1 \), \( a > 0 \).</li>
          <li><strong>Stepen logaritma:</strong> \( \log_x a^n = n \cdot \log_x a \). Zato je \( \log_x 16 = \log_x 4^2 = 2\log_x 4 \).</li>
          <li><strong>Kvadratna jednačina:</strong> Jednačina \( at^2 + bt + c = 0 \) ima rešenja \( t = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} \). Proizvod korena je \( \dfrac{c}{a} \), zbir korena je \( -\dfrac{b}{a} \).</li>
          <li><strong>Uslov za bazu:</strong> Baza logaritma mora biti pozitivna i različita od 1, tj. \( x > 0 \) i \( x \neq 1 \).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 12px;">Graf leve strane jednačine za različite vrednosti baze \( x \). Rešenja su tačke gde je vrednost jednaka 1.</p>
    <canvas id="graphCanvas" width="700" height="400"></canvas>
    <p class="canvas-hint">Pomerajte miša preko grafika da vidite vrednosti</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Definišemo uslove i uvedemo smenu</h3>
        <p>Primetimo da je \( 16 = 4^2 \), pa je \( \log_x 16 = 2 \log_x 4 \). Uvedimo smenu:</p>
        <div class="math-block">
          \[ t = \log_x 4 \quad \Rightarrow \quad \log_x 16 = 2t \]
        </div>
        <p>Uslovi: \( x > 0 \), \( x \neq 1 \). Takođe, imenilaci moraju biti različiti od nule:</p>
        <div class="math-block">
          \[ 1 - 2t \neq 0 \quad \Rightarrow \quad t \neq \tfrac{1}{2} \]
          \[ 1 + t \neq 0 \quad \Rightarrow \quad t \neq -1 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Zapišemo jednačinu pomoću smene</h3>
        <p>Zamenom u polaznu jednačinu dobijamo:</p>
        <div class="math-block">
          \[ \frac{1}{1 - 2t} + \frac{4}{1 + t} = 1 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Pomnožimo zajedničkim imeniocem</h3>
        <p>Množimo obe strane sa \( (1 - 2t)(1 + t) \):</p>
        <div class="math-block">
          \[ (1 + t) + 4(1 - 2t) = (1 - 2t)(1 + t) \]
        </div>
        <p>Razvijamo levu stranu:</p>
        <div class="math-block">
          \[ 1 + t + 4 - 8t = 5 - 7t \]
        </div>
        <p>Razvijamo desnu stranu:</p>
        <div class="math-block">
          \[ 1 + t - 2t - 2t^2 = 1 - t - 2t^2 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Kolika je leva strana nakon razvijanja?</summary>
        <div class="details-content">
          <p>Leva strana je \( 5 - 7t \). Ako si dobio/la nešto drugačije, proveri sabirak \( 4(1 - 2t) = 4 - 8t \).</p>
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Formiramo kvadratnu jednačinu</h3>
        <p>Izjednačavamo levu i desnu stranu:</p>
        <div class="math-block">
          \[ 5 - 7t = 1 - t - 2t^2 \]
        </div>
        <p>Prebacimo sve na jednu stranu:</p>
        <div class="math-block">
          \[ 2t^2 - 7t + t + 5 - 1 = 0 \]
          \[ 2t^2 - 6t + 4 = 0 \]
        </div>
        <p>Delimo sa 2:</p>
        <div class="math-block">
          \[ t^2 - 3t + 2 = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Rešimo kvadratnu jednačinu</h3>
        <p>Faktorizujemo:</p>
        <div class="math-block">
          \[ t^2 - 3t + 2 = (t - 1)(t - 2) = 0 \]
        </div>
        <p>Rešenja su:</p>
        <div class="math-block">
          \[ t_1 = 1 \qquad \text{i} \qquad t_2 = 2 \]
        </div>
        <p class="note">Oba rešenja zadovoljavaju uslove \( t \neq \frac{1}{2} \) i \( t \neq -1 \).</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Da li su oba rešenja za \( t \) dopustiva?</summary>
        <div class="details-content">
          <p>Da! Za \( t_1 = 1 \): imenilaci su \( 1 - 2 = -1 \neq 0 \) i \( 1 + 1 = 2 \neq 0 \). Za \( t_2 = 2 \): imenilaci su \( 1 - 4 = -3 \neq 0 \) i \( 1 + 2 = 3 \neq 0 \). Oba su dopustiva.</p>
        </div>
      </details>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Vratimo se na promenljivu \( x \)</h3>
        <p><strong>Slučaj 1:</strong> \( t = 1 \), tj. \( \log_x 4 = 1 \)</p>
        <div class="math-block">
          \[ x^1 = 4 \quad \Rightarrow \quad x_1 = 4 \]
        </div>
        <p><strong>Slučaj 2:</strong> \( t = 2 \), tj. \( \log_x 4 = 2 \)</p>
        <div class="math-block">
          \[ x^2 = 4 \quad \Rightarrow \quad x = \pm 2 \]
        </div>
        <p>Pošto baza logaritma mora biti pozitivna (\( x > 0 \)), odbacujemo \( x = -2 \):</p>
        <div class="math-block">
          \[ x_2 = 2 \]
        </div>
        <p class="note">Oba rešenja zadovoljavaju i uslov \( x \neq 1 \).</p>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Izračunamo proizvod rešenja</h3>
        <div class="math-block">
          \[ x_1 \cdot x_2 = 4 \cdot 2 = 8 \]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step-container" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Verifikacija — uvrštavanje u polaznu jednačinu</h3>
        <p><strong>Za \( x = 4 \):</strong> \( \log_4 16 = 2 \), \( \log_4 4 = 1 \)</p>
        <div class="math-block">
          \[ \frac{1}{1 - 2} + \frac{4}{1 + 1} = \frac{1}{-1} + \frac{4}{2} = -1 + 2 = 1 \; \checkmark \]
        </div>
        <p><strong>Za \( x = 2 \):</strong> \( \log_2 16 = 4 \), \( \log_2 4 = 2 \)</p>
        <div class="math-block">
          \[ \frac{1}{1 - 4} + \frac{4}{1 + 2} = \frac{1}{-3} + \frac{4}{3} = \frac{-1 + 4}{3} = \frac{3}{3} = 1 \; \checkmark \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <div class="checkpoint">
      <details>
        <summary>Proveri se: Šta bi se desilo da je \( t = \frac{1}{2} \)?</summary>
        <div class="details-content">
          <p>Tada bi imenilac \( 1 - 2t = 1 - 1 = 0 \), što znači da bi prvi razlomak bio nedefinisan. Zato \( t = \frac{1}{2} \) nije dopustivo rešenje. To bi značilo \( \log_x 4 = \frac{1}{2} \), tj. \( x = 16 \) — ali upravo taj \( x \) ne bi zadovoljavao jednačinu jer deli sa nulom.</p>
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Veza \( 16 = 4^2 \) omogućava da oba logaritma izrazimo pomoću jedne smene \( t = \log_x 4 \), čime se složena logaritamska jednačina svodi na običnu kvadratnu jednačinu po \( t \).</p>
    <div class="math-block" style="display: inline-block; margin-top: 12px;">
      \[ \log_x 16 = 2\log_x 4 = 2t \quad \Rightarrow \quad t^2 - 3t + 2 = 0 \quad \Rightarrow \quad x_1 \cdot x_2 = \color{#4ade80}{8} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <p>Proizvod svih rešenja jednačine je:</p>
    <div class="answer-value">\( x_1 \cdot x_2 = 4 \cdot 2 = 8 \)</div>
    <div class="options-row">
      <div class="option-card">(A) \(1\)</div>
      <div class="option-card">(B) \(2\)</div>
      <div class="option-card">(C) \(16\)</div>
      <div class="option-card correct">(D) \(8\)</div>
      <div class="option-card">(E) \(4\)</div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Oba rešenja \( x = 4 \) i \( x = 2 \) smo uspešno uvrstili nazad u polaznu jednačinu i dobili tačnu vrednost 1. Proizvod \( 4 \cdot 2 = 8 \) odgovara ponuđenom odgovoru (D).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-card">
    <h2>Najčešće greške</h2>
    <ul>
      <li><strong>Zaboraviti uslov za bazu:</strong> Baza logaritma mora biti \( x > 0 \) i \( x \neq 1 \). U drugom slučaju (\( x^2 = 4 \)) se javlja i negativno rešenje \( x = -2 \), koje treba odbaciti.</li>
      <li><strong>Ne proveriti imenioce:</strong> Pored rešenja kvadratne jednačine, treba proveriti da nijedno ne poništava imenioce. Da se slučajno dobilo \( t = \frac{1}{2} \), to rešenje bi bilo nedopustivo jer bi \( 1 - 2t = 0 \).</li>
      <li><strong>Pogrešan znak pri razvijanju:</strong> Pažljivo raspišite \( 4(1 - 2t) = 4 - 8t \), a ne \( 4 + 8t \). Minus uz \( 8t \) je česta greška.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliki je <em>zbir</em> svih rešenja iste jednačine? A šta ako u jednačini umesto \( 16 \) i \( 4 \) stavimo \( 27 \) i \( 3 \)?</p>
    <details>
      <summary>Savet</summary>
      <div class="details-content">
        <p>Zbir rešenja je \( x_1 + x_2 = 4 + 2 = 6 \). Za varijantu sa \( 27 \) i \( 3 \): primenite istu smenu \( t = \log_x 3 \), jer \( 27 = 3^3 \), pa je \( \log_x 27 = 3t \). Jednačina postaje \( \frac{1}{1-3t} + \frac{4}{1+t} = 1 \). Rešite po \( t \), pa iz \( x^t = 3 \) nađite \( x \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Graph Canvas
  const canvas = document.getElementById('graphCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // We'll plot f(x) = 1/(1 - log_x(16)) + 4/(1 + log_x(4)) for x > 0, x != 1
  // Using change of base: log_x(a) = ln(a)/ln(x)

  const ln4 = Math.log(4);
  const ln16 = Math.log(16);

  function f(x) {
    if (x <= 0 || x === 1) return NaN;
    const lnx = Math.log(x);
    const logx16 = ln16 / lnx;
    const logx4 = ln4 / lnx;
    const d1 = 1 - logx16;
    const d2 = 1 + logx4;
    if (Math.abs(d1) < 1e-10 || Math.abs(d2) < 1e-10) return NaN;
    return 1 / d1 + 4 / d2;
  }

  // Plot range
  const xMin = 0.2;
  const xMax = 10;
  const yMin = -5;
  const yMax = 7;

  const padL = 55;
  const padR = 20;
  const padT = 25;
  const padB = 40;
  const plotW = W - padL - padR;
  const plotH = H - padT - padB;

  function toCanvasX(x) { return padL + (x - xMin) / (xMax - xMin) * plotW; }
  function toCanvasY(y) { return padT + (yMax - y) / (yMax - yMin) * plotH; }
  function fromCanvasX(cx) { return xMin + (cx - padL) / plotW * (xMax - xMin); }
  function fromCanvasY(cy) { return yMax - (cy - padT) / plotH * (yMax - yMin); }

  let mouseX = null;
  let mouseY = null;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      const cx = toCanvasX(x);
      ctx.beginPath();
      ctx.moveTo(cx, padT);
      ctx.lineTo(cx, H - padB);
      ctx.stroke();
    }
    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      const cy = toCanvasY(y);
      ctx.beginPath();
      ctx.moveTo(padL, cy);
      ctx.lineTo(W - padR, cy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis (y=0)
    const y0 = toCanvasY(0);
    ctx.beginPath();
    ctx.moveTo(padL, y0);
    ctx.lineTo(W - padR, y0);
    ctx.stroke();
    // y-axis (x=0) - but xMin=0.2, so draw at left
    const x0 = toCanvasX(0.2);
    ctx.beginPath();
    ctx.moveTo(padL, padT);
    ctx.lineTo(padL, H - padB);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = 1; x <= xMax; x++) {
      ctx.fillText(x.toString(), toCanvasX(x), H - padB + 16);
    }
    ctx.textAlign = 'right';
    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), padL - 8, toCanvasY(y) + 4);
    }

    // Label axes
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - padR + 10, y0 + 4);
    ctx.fillText('y', padL, padT - 8);

    // y = 1 line (target)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    const y1 = toCanvasY(1);
    ctx.beginPath();
    ctx.moveTo(padL, y1);
    ctx.lineTo(W - padR, y1);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#4ade80';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = 1', W - padR - 40, y1 - 8);

    // x = 1 asymptote
    ctx.strokeStyle = '#f87171';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    const x1c = toCanvasX(1);
    ctx.beginPath();
    ctx.moveTo(x1c, padT);
    ctx.lineTo(x1c, H - padB);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#f87171';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('x=1', x1c + 4, padT + 14);

    // Plot the function in segments to handle discontinuities
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    const dx = (xMax - xMin) / 600;
    let prevY = null;
    let prevCx = null;

    ctx.beginPath();
    let drawing = false;

    for (let xi = xMin; xi <= xMax; xi += dx) {
      const val = f(xi);
      const cx = toCanvasX(xi);
      const cy = toCanvasY(val);

      if (isNaN(val) || !isFinite(val) || val < yMin - 5 || val > yMax + 5 || Math.abs(xi - 1) < 0.02) {
        if (drawing) {
          ctx.stroke();
          drawing = false;
        }
        prevY = null;
        prevCx = null;
        continue;
      }

      // Detect large jumps (discontinuity)
      if (prevY !== null && Math.abs(cy - prevY) > 100) {
        if (drawing) {
          ctx.stroke();
          drawing = false;
        }
        prevY = cy;
        prevCx = cx;
        continue;
      }

      if (!drawing) {
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        drawing = true;
      } else {
        ctx.lineTo(cx, cy);
      }
      prevY = cy;
      prevCx = cx;
    }
    if (drawing) ctx.stroke();

    // Mark solutions
    const solutions = [2, 4];
    solutions.forEach(sx => {
      const scx = toCanvasX(sx);
      const scy = toCanvasY(1);
      // Glow
      const grad = ctx.createRadialGradient(scx, scy, 0, scx, scy, 18);
      grad.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
      grad.addColorStop(1, 'rgba(74, 222, 128, 0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(scx, scy, 18, 0, 2 * Math.PI);
      ctx.fill();
      // Point
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(scx, scy, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 1;
      ctx.stroke();
      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('x = ' + sx, scx, scy - 14);
    });

    // Legend
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    const legendX = padL + 10;
    const legendY = padT + 16;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legendX, legendY - 4, 16, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'left';
    ctx.fillText('f(x) = 1/(1-log_x 16) + 4/(1+log_x 4)', legendX + 22, legendY);

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX + 7, legendY + 18, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Resenja: x = 2 i x = 4', legendX + 22, legendY + 22);

    // Hover tooltip
    if (mouseX !== null && mouseX >= padL && mouseX <= W - padR && mouseY >= padT && mouseY <= H - padB) {
      const hx = fromCanvasX(mouseX);
      const hy = f(hx);
      if (!isNaN(hy) && isFinite(hy) && hy >= yMin && hy <= yMax) {
        // Crosshair
        ctx.strokeStyle = 'rgba(148, 163, 184, 0.3)';
        ctx.lineWidth = 1;
        ctx.setLineDash([3, 3]);
        ctx.beginPath();
        ctx.moveTo(mouseX, padT);
        ctx.lineTo(mouseX, H - padB);
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(padL, toCanvasY(hy));
        ctx.lineTo(W - padR, toCanvasY(hy));
        ctx.stroke();
        ctx.setLineDash([]);

        // Point
        ctx.fillStyle = '#f472b6';
        ctx.beginPath();
        ctx.arc(mouseX, toCanvasY(hy), 4, 0, 2 * Math.PI);
        ctx.fill();

        // Tooltip
        const txt = 'x = ' + hx.toFixed(2) + ',  f(x) = ' + hy.toFixed(3);
        ctx.font = '12px Segoe UI, system-ui, sans-serif';
        const tw = ctx.measureText(txt).width + 16;
        let tx = mouseX + 12;
        if (tx + tw > W - 10) tx = mouseX - tw - 12;
        let ty = toCanvasY(hy) - 20;
        if (ty < padT + 5) ty = toCanvasY(hy) + 25;
        ctx.fillStyle = 'rgba(30, 41, 59, 0.92)';
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.roundRect(tx, ty - 12, tw, 22, 5);
        ctx.fill();
        ctx.stroke();
        ctx.fillStyle = '#e2e8f0';
        ctx.textAlign = 'left';
        ctx.fillText(txt, tx + 8, ty + 4);
      }
    }
  }

  canvas.addEventListener('mousemove', (e) => {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    mouseX = (e.clientX - rect.left) * scaleX;
    mouseY = (e.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('mouseleave', () => {
    mouseX = null;
    mouseY = null;
    draw();
  });

  canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    const rect = canvas.getBoundingClientRect();
    const touch = e.touches[0];
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    mouseX = (touch.clientX - rect.left) * scaleX;
    mouseY = (touch.clientY - rect.top) * scaleY;
    draw();
  });

  canvas.addEventListener('touchend', () => {
    mouseX = null;
    mouseY = null;
    draw();
  });

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Logaritamska jednačina — Proizvod rešenja",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["logaritmi", "logaritamska jednačina", "smena promenljive", "kvadratna jednačina", "proizvod rešenja"]
}
BRAINSPARK_META-->