<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Odnos težišnih duži trougla</title>
<script type="text/info" id="logic-scratchpad">
Problem: In triangle ABC, AA₁ and CC₁ are medians, CC' is the altitude from C to AB.
Given: angle BAC = 45°, |AB| = 3·|CC'|.
Find: |AA₁| : |CC₁|.

Standard notation: a = BC, b = AC, c = AB.

Step 1: Express the altitude CC'.
Area of triangle = (1/2)·b·c·sin(A) = (1/2)·b·c·sin(45°) = (b·c·√2)/4
CC' = 2·Area / c = 2·(b·c·√2)/4 / c = (b·√2)/2

Step 2: Apply the condition |AB| = 3·|CC'|.
c = 3·(b·√2)/2 = (3b√2)/2
Therefore: c² = 9b²·2/4 = 9b²/2

Step 3: Find side a using the cosine rule.
a² = b² + c² - 2·b·c·cos(A)
cos(45°) = √2/2
2·b·c·cos(45°) = 2·b·(3b√2/2)·(√2/2) = 2·(3b²·2)/(2·2) = 3b²
a² = b² + 9b²/2 - 3b² = (2b² + 9b² - 6b²)/2 = 5b²/2

Step 4: Compute medians using the median length formula.
m_a² = (2b² + 2c² - a²)/4
     = (2b² + 2·9b²/2 - 5b²/2)/4
     = (2b² + 9b² - 5b²/2)/4
     = (4b²/2 + 18b²/2 - 5b²/2)/4
     = (17b²/2)/4
     = 17b²/8

m_c² = (2a² + 2b² - c²)/4
     = (2·5b²/2 + 2b² - 9b²/2)/4
     = (5b² + 2b² - 9b²/2)/4
     = (10b²/2 + 4b²/2 - 9b²/2)/4
     = (5b²/2)/4
     = 5b²/8

Step 5: Compute the ratio.
m_a² / m_c² = (17b²/8) / (5b²/8) = 17/5
m_a / m_c = √17 / √5

Answer: |AA₁| : |CC₁| = √17 : √5 → option C.

Verification:
Let b = 2 (for concrete check).
Then c = 3√2, a² = 10, a = √10.
CC' = 2·√2/2 = √2. Check: c = 3√2 = 3·CC'. ✓
angle A: cos(A) = (b² + c² - a²)/(2bc) = (4 + 18 - 10)/(2·2·3√2) = 12/(12√2) = 1/√2. So A = 45°. ✓

m_a = √(17·4/8) = √(17/2) = √8.5 ≈ 2.915
m_c = √(5·4/8) = √(5/2) = √2.5 ≈ 1.581
Ratio = 2.915/1.581 ≈ 1.844
√17/√5 = 4.123/2.236 ≈ 1.844 ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 10px;
}
h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.3rem;
  margin-bottom: 14px;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.13);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}
.given-item .label {
  font-size: 0.82rem;
  color: #94a3b8;
  margin-bottom: 4px;
}
.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
  font-weight: 600;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
.plan-card h2 { color: #a78bfa; }
details {
  margin: 15px 0;
}
details summary {
  cursor: pointer;
  font-weight: 600;
  color: #60a5fa;
  padding: 8px 0;
  user-select: none;
}
details summary:hover { color: #93c5fd; }
.theory-list {
  list-style: none;
  padding: 10px 0;
}
.theory-list li {
  padding: 8px 0 8px 16px;
  border-left: 2px solid #334155;
  margin-bottom: 6px;
  color: #cbd5e1;
}
.theory-list li strong { color: #a78bfa; }
.canvas-card {
  text-align: center;
}
.canvas-card canvas {
  border-radius: 10px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}
.canvas-hint {
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 8px;
}
.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 18px;
  padding: 14px 18px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}
.step-container:hover, .step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}
.step-badge {
  min-width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  flex-shrink: 0;
  margin-top: 2px;
}
.step-content { flex: 1; }
.step-content h3 {
  color: #e2e8f0;
  font-size: 1.05rem;
  margin-bottom: 8px;
}
.step-content p {
  color: #cbd5e1;
  font-size: 0.95rem;
  margin-bottom: 8px;
}
.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}
.note {
  color: #94a3b8;
  font-size: 0.87rem;
  font-style: italic;
  margin-top: 6px;
}
.checkpoint {
  background: rgba(168,139,250,0.06);
  border: 1px solid rgba(168,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}
.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}
.checkpoint .answer {
  padding: 10px 0 4px;
  color: #4ade80;
  font-weight: 600;
}
.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}
.insight-box h2 { color: #a78bfa; margin-bottom: 12px; }
.insight-formula {
  font-size: 1.3rem;
  color: #e2e8f0;
  margin: 10px 0;
}
.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.12), rgba(74,222,128,0.08));
  border: 1px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}
.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 14px;
}
.final-answer-value {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  margin: 12px 0;
}
.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}
.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 1rem;
  background: rgba(148,163,184,0.08);
  border: 1px solid #334155;
  color: #94a3b8;
}
.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
}
.verification {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 14px;
  font-style: italic;
}
.pitfalls-card {
  border-left: 3px solid #e09468;
}
.pitfalls-card h2 { color: #e09468; }
.pitfalls-card ul {
  list-style: none;
  padding: 0;
}
.pitfalls-card li {
  padding: 8px 0 8px 16px;
  border-left: 2px solid rgba(224,148,104,0.3);
  margin-bottom: 8px;
  color: #cbd5e1;
}
.challenge-card {
  border-left: 3px solid #f472b6;
}
.challenge-card h2 { color: #f472b6; }
@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 8px 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <h1>Odnos težišnih duži trougla</h1>
  <p class="subtitle">Geometrija trougla — težišne duži, visina, kosinusna teorema</p>

  <!-- Postavka zadatka -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Neka su \( AA_1 \) i \( CC_1 \) težišne duži i \( CC' \) visina trougla \( ABC \). Ako je \( \angle BAC = 45° \) i \( |AB| = 3 \cdot |CC'| \), onda je \( |AA_1| : |CC_1| \) jednako:</p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Ugao</div>
        <div class="value">\(\angle BAC = 45°\)</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">\(|AB| = 3|CC'|\)</div>
      </div>
    </div>
    <div class="given-grid" style="margin-top: 14px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2 : 1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt{17} : 2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\sqrt{17} : \sqrt{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(3 : 2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(4 : \sqrt{5}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Izrazićemo visinu \( CC' \) preko stranica trougla, zatim iz uslova \( |AB| = 3|CC'| \) dobiti vezu između stranica. Kosinusnom teoremom ćemo odrediti treću stranicu, a zatim formulama za dužinu težišne duži izračunati traženi odnos.</p>
  </div>

  <!-- Teorija -->
  <div class="card">
    <details>
      <summary>&#128208; Ključne formule i teoreme</summary>
      <ul class="theory-list">
        <li><strong>Kosinusna teorema:</strong> \( a^2 = b^2 + c^2 - 2bc\cos A \), gde je \( a \) stranica naspram ugla \( A \).</li>
        <li><strong>Površina trougla:</strong> \( P = \frac{1}{2}\,b\,c\,\sin A \).</li>
        <li><strong>Visina iz temena \( C \) na stranicu \( AB \):</strong> \( h_c = CC' = \frac{2P}{|AB|} \).</li>
        <li><strong>Formula za dužinu težišne duži:</strong> Težišna duž iz temena \( A \) na središte stranice \( BC \):
          \[ m_a^2 = \frac{2b^2 + 2c^2 - a^2}{4} \]
          Težišna duž iz temena \( C \) na središte stranice \( AB \):
          \[ m_c^2 = \frac{2a^2 + 2b^2 - c^2}{4} \]
        </li>
      </ul>
      <canvas id="theory-canvas" width="400" height="280"></canvas>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="520"></canvas>
    <p class="canvas-hint">Trougao ABC sa težišnim dužima i visinom</p>
  </div>

  <!-- Rešenje korak po korak -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Uvodimo oznake za stranice</h3>
        <p>Koristimo standardne oznake za trougao: stranica naspram temena \( A \) je \( a = BC \), naspram \( B \) je \( b = AC \), naspram \( C \) je \( c = AB \).</p>
        <p class="note">Tražimo odnos \( m_a : m_c \), gde je \( m_a = |AA_1| \) i \( m_c = |CC_1| \).</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izrazimo visinu \( CC' \)</h3>
        <p>Površina trougla preko ugla \( A \):</p>
        <div class="math-block">
          \[ P = \frac{1}{2}\,b\,c\,\sin A = \frac{1}{2}\,b\,c\,\sin 45° = \frac{bc\sqrt{2}}{4} \]
        </div>
        <p>Visina iz \( C \) na stranicu \( AB \) (dužine \( c \)):</p>
        <div class="math-block">
          \[ CC' = \frac{2P}{c} = \frac{2 \cdot \dfrac{bc\sqrt{2}}{4}}{c} = \frac{b\sqrt{2}}{2} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Primenimo uslov \( |AB| = 3 \cdot |CC'| \)</h3>
        <p>Uslov glasi \( c = 3 \cdot CC' \). Zamenom izraza za \( CC' \):</p>
        <div class="math-block">
          \[ c = 3 \cdot \frac{b\sqrt{2}}{2} = \frac{3b\sqrt{2}}{2} \]
        </div>
        <p>Kvadriramo obe strane da dobijemo vezu između \( c^2 \) i \( b^2 \):</p>
        <div class="math-block">
          \[ c^2 = \frac{9b^2 \cdot 2}{4} = \frac{9b^2}{2} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>&#9997; Proveri se — Koliko je \( c^2 \) u odnosu na \( b^2 \)?</summary>
      <div class="answer">\( c^2 = \dfrac{9b^2}{2} \), odnosno \( c^2 = 4{,}5\,b^2 \).</div>
    </details>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Nađimo \( a^2 \) pomoću kosinusne teoreme</h3>
        <p>Kosinusna teorema za ugao \( A = 45° \):</p>
        <div class="math-block">
          \[ a^2 = b^2 + c^2 - 2bc\cos 45° \]
        </div>
        <p>Izračunajmo član \( 2bc\cos 45° \). Pošto je \( c = \dfrac{3b\sqrt{2}}{2} \) i \( \cos 45° = \dfrac{\sqrt{2}}{2} \):</p>
        <div class="math-block">
          \[ 2bc\cos 45° = 2 \cdot b \cdot \frac{3b\sqrt{2}}{2} \cdot \frac{\sqrt{2}}{2} = 2 \cdot \frac{3b^2 \cdot 2}{4} = 3b^2 \]
        </div>
        <p>Zamenom u kosinusnu teoremu:</p>
        <div class="math-block">
          \[ a^2 = b^2 + \frac{9b^2}{2} - 3b^2 = \frac{2b^2 + 9b^2 - 6b^2}{2} = \frac{5b^2}{2} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izračunajmo \( m_a^2 \) (kvadrat težišne duži iz \( A \))</h3>
        <p>Formula za težišnu duž iz temena \( A \):</p>
        <div class="math-block">
          \[ m_a^2 = \frac{2b^2 + 2c^2 - a^2}{4} \]
        </div>
        <p>Zamenjujemo poznate vrednosti \( c^2 = \dfrac{9b^2}{2} \) i \( a^2 = \dfrac{5b^2}{2} \):</p>
        <div class="math-block">
          \[ m_a^2 = \frac{2b^2 + 2 \cdot \dfrac{9b^2}{2} - \dfrac{5b^2}{2}}{4} = \frac{2b^2 + 9b^2 - \dfrac{5b^2}{2}}{4} \]
        </div>
        <p>Svedemo na zajednički imenilac:</p>
        <div class="math-block">
          \[ m_a^2 = \frac{\dfrac{4b^2 + 18b^2 - 5b^2}{2}}{4} = \frac{17b^2}{8} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izračunajmo \( m_c^2 \) (kvadrat težišne duži iz \( C \))</h3>
        <p>Formula za težišnu duž iz temena \( C \):</p>
        <div class="math-block">
          \[ m_c^2 = \frac{2a^2 + 2b^2 - c^2}{4} \]
        </div>
        <p>Zamenjujemo poznate vrednosti \( a^2 = \dfrac{5b^2}{2} \) i \( c^2 = \dfrac{9b^2}{2} \):</p>
        <div class="math-block">
          \[ m_c^2 = \frac{2 \cdot \dfrac{5b^2}{2} + 2b^2 - \dfrac{9b^2}{2}}{4} = \frac{5b^2 + 2b^2 - \dfrac{9b^2}{2}}{4} \]
        </div>
        <p>Svedemo na zajednički imenilac:</p>
        <div class="math-block">
          \[ m_c^2 = \frac{\dfrac{10b^2 + 4b^2 - 9b^2}{2}}{4} = \frac{5b^2}{8} \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>&#9997; Proveri se — Koliko iznosi \( m_a^2 + m_c^2 \)?</summary>
      <div class="answer">\( m_a^2 + m_c^2 = \dfrac{17b^2}{8} + \dfrac{5b^2}{8} = \dfrac{22b^2}{8} = \dfrac{11b^2}{4} \)</div>
    </details>

    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Odredimo traženi odnos</h3>
        <p>Odnos kvadrata težišnih duži:</p>
        <div class="math-block">
          \[ \frac{m_a^2}{m_c^2} = \frac{\dfrac{17b^2}{8}}{\dfrac{5b^2}{8}} = \frac{17}{5} \]
        </div>
        <p>Korenujemo obe strane:</p>
        <div class="math-block">
          \[ \frac{m_a}{m_c} = \frac{\sqrt{17}}{\sqrt{5}} \]
        </div>
        <p>Dakle:</p>
        <div class="math-block">
          \[ |AA_1| : |CC_1| = \sqrt{17} : \sqrt{5} \]
        </div>
      </div>
    </div>
  </div>

  <!-- Ključni uvid -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color:#cbd5e1; margin-bottom:10px;">Uslov \( c = 3 \cdot CC' \) daje preciznu vezu između stranica \( b \) i \( c \), koja zajedno sa kosinusnom teoremom omogućava da se sve stranice izraze preko jednog parametra \( b \).</p>
    <div class="insight-formula">
      \[ m_a^2 = \frac{17b^2}{8}, \quad m_c^2 = \frac{5b^2}{8} \quad \Rightarrow \quad \frac{m_a}{m_c} = \frac{\sqrt{17}}{\sqrt{5}} \]
    </div>
  </div>

  <!-- Konačan odgovor -->
  <div class="final-answer-box">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">\( |AA_1| : |CC_1| = \sqrt{17} : \sqrt{5} \)</div>
    <div class="options-row">
      <div class="option-card">(A) \(2 : 1\)</div>
      <div class="option-card">(B) \(\sqrt{17} : 2\)</div>
      <div class="option-card correct">(C) \(\sqrt{17} : \sqrt{5}\)</div>
      <div class="option-card">(D) \(3 : 2\)</div>
      <div class="option-card">(E) \(4 : \sqrt{5}\)</div>
    </div>
    <p class="verification">Verifikacija: Za \( b = 2 \) dobijamo \( c = 3\sqrt{2} \), \( a = \sqrt{10} \). Ugao \( A \): \( \cos A = \frac{4 + 18 - 10}{2 \cdot 2 \cdot 3\sqrt{2}} = \frac{12}{12\sqrt{2}} = \frac{1}{\sqrt{2}} \), dakle \( A = 45° \). Visina: \( CC' = \sqrt{2} \), pa \( 3 \cdot CC' = 3\sqrt{2} = c \). Sve se poklapa.</p>
  </div>

  <!-- Česte greške -->
  <div class="card pitfalls-card">
    <h2>Česte greške</h2>
    <ul>
      <li><strong>Zamena stranica u formuli za visinu:</strong> Visina \( CC' \) pada na stranicu \( AB = c \), pa je \( CC' = \frac{2P}{c} \), a ne \( \frac{2P}{a} \) ili \( \frac{2P}{b} \). Bitno je tačno odrediti na koju stranicu pada visina.</li>
      <li><strong>Pogrešna formula za težišnu duž:</strong> Lako je zameniti koje stranice ulaze u formulu. Za medijanu iz \( A \): \( m_a^2 = \frac{2b^2 + 2c^2 - a^2}{4} \) — upravo stranica \( a \) (naspram temena \( A \)) je ona sa znakom minus.</li>
    </ul>
  </div>

  <!-- Izazov -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Ako umesto uslova \( |AB| = 3|CC'| \) važi \( |AB| = 2|CC'| \), koliki je tada odnos \( |AA_1| : |CC_1| \)?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="color:#cbd5e1; padding:8px 0;">Iz uslova \( c = 2 \cdot \frac{b\sqrt{2}}{2} = b\sqrt{2} \) sledi \( c^2 = 2b^2 \). Primeni isti postupak: nađi \( a^2 \) kosinusnom teoremom, pa izračunaj \( m_a^2 \) i \( m_c^2 \).</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Theory canvas - generic triangle with median
  const tc = document.getElementById('theory-canvas');
  if (tc) {
    const tctx = tc.getContext('2d');
    const tw = tc.width, th = tc.height;

    tctx.fillStyle = '#1e293b';
    tctx.fillRect(0, 0, tw, th);

    // Simple triangle with one median
    const tA = { x: 60, y: 220 };
    const tB = { x: 340, y: 220 };
    const tC = { x: 180, y: 50 };
    const tM = { x: (tB.x + tC.x) / 2, y: (tB.y + tC.y) / 2 }; // midpoint of BC

    // Draw triangle
    tctx.beginPath();
    tctx.moveTo(tA.x, tA.y);
    tctx.lineTo(tB.x, tB.y);
    tctx.lineTo(tC.x, tC.y);
    tctx.closePath();
    tctx.strokeStyle = '#60a5fa';
    tctx.lineWidth = 2;
    tctx.stroke();

    // Draw median from A to M
    tctx.beginPath();
    tctx.moveTo(tA.x, tA.y);
    tctx.lineTo(tM.x, tM.y);
    tctx.strokeStyle = '#4ade80';
    tctx.lineWidth = 2;
    tctx.setLineDash([6, 4]);
    tctx.stroke();
    tctx.setLineDash([]);

    // Labels
    tctx.font = 'bold 15px Segoe UI, sans-serif';
    tctx.fillStyle = '#60a5fa';
    tctx.fillText('A', tA.x - 18, tA.y + 5);
    tctx.fillText('B', tB.x + 8, tB.y + 5);
    tctx.fillText('C', tC.x - 5, tC.y - 12);
    tctx.fillStyle = '#4ade80';
    tctx.fillText('M', tM.x + 8, tM.y - 5);
    tctx.font = '12px Segoe UI, sans-serif';
    tctx.fillText('medijana', (tA.x + tM.x) / 2 - 35, (tA.y + tM.y) / 2 - 10);

    // Points
    [tA, tB, tC, tM].forEach((p, i) => {
      tctx.beginPath();
      tctx.arc(p.x, p.y, 4, 0, Math.PI * 2);
      tctx.fillStyle = i === 3 ? '#4ade80' : '#60a5fa';
      tctx.fill();
    });
  }

  // Main diagram
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  // We use b = 2 for concrete coordinates
  // A at origin, B along a direction at angle 0
  // angle BAC = 45 degrees
  // c = AB = 3*sqrt(2), so B is at (3*sqrt(2), 0)
  // b = AC = 2, angle BAC = 45 degrees, so C is at (2*cos45, 2*sin45) = (sqrt(2), sqrt(2))
  // a = BC = sqrt(10)

  // Let's place this in a nice coordinate system
  const b = 2;
  const c = 3 * Math.sqrt(2);
  // A at origin
  const Ax = 0, Ay = 0;
  const Bx = c, By = 0; // B at (3sqrt2, 0)
  const Cx = b * Math.cos(Math.PI / 4), Cy = b * Math.sin(Math.PI / 4); // C at (sqrt2, sqrt2)

  // Midpoints
  const A1x = (Bx + Cx) / 2, A1y = (By + Cy) / 2; // midpoint of BC
  const C1x = (Ax + Bx) / 2, C1y = (Ay + By) / 2; // midpoint of AB

  // Foot of altitude from C to AB (AB is along x-axis)
  const Cpx = Cx, Cpy = 0; // projection of C onto x-axis

  // Transform to canvas coordinates
  const padding = 60;
  const allX = [Ax, Bx, Cx, A1x, C1x, Cpx];
  const allY = [Ay, By, Cy, A1y, C1y, Cpy];
  const minX = Math.min(...allX) - 0.3;
  const maxX = Math.max(...allX) + 0.3;
  const minY = Math.min(...allY) - 0.3;
  const maxY = Math.max(...allY) + 0.5;

  const scaleX = (W - 2 * padding) / (maxX - minX);
  const scaleY = (H - 2 * padding) / (maxY - minY);
  const scale = Math.min(scaleX, scaleY);

  const offsetX = padding + ((W - 2 * padding) - (maxX - minX) * scale) / 2;
  const offsetY = H - padding - ((H - 2 * padding) - (maxY - minY) * scale) / 2;

  function toCanvas(x, y) {
    return {
      x: offsetX + (x - minX) * scale,
      y: offsetY - (y - minY) * scale
    };
  }

  function drawPoint(px, py, color, label, labelDx, labelDy) {
    const p = toCanvas(px, py);
    ctx.beginPath();
    ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.fillStyle = color;
    ctx.fillText(label, p.x + (labelDx || 8), p.y + (labelDy || -10));
  }

  function drawLine(x1, y1, x2, y2, color, width, dash) {
    const p1 = toCanvas(x1, y1);
    const p2 = toCanvas(x2, y2);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.strokeStyle = color;
    ctx.lineWidth = width || 2;
    if (dash) ctx.setLineDash(dash);
    else ctx.setLineDash([]);
    ctx.stroke();
    ctx.setLineDash([]);
  }

  // Background
  ctx.fillStyle = '#0c1222';
  ctx.fillRect(0, 0, W, H);

  // Subtle grid
  ctx.strokeStyle = '#1e293b';
  ctx.lineWidth = 0.5;
  for (let gx = Math.floor(minX); gx <= Math.ceil(maxX); gx += 0.5) {
    const p1 = toCanvas(gx, minY);
    const p2 = toCanvas(gx, maxY);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
  }
  for (let gy = Math.floor(minY); gy <= Math.ceil(maxY); gy += 0.5) {
    const p1 = toCanvas(minX, gy);
    const p2 = toCanvas(maxX, gy);
    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();
  }

  // Draw triangle sides
  drawLine(Ax, Ay, Bx, By, '#60a5fa', 2.5);
  drawLine(Bx, By, Cx, Cy, '#60a5fa', 2.5);
  drawLine(Cx, Cy, Ax, Ay, '#60a5fa', 2.5);

  // Draw altitude CC' (dashed red/pink)
  drawLine(Cx, Cy, Cpx, Cpy, '#f472b6', 2, [6, 4]);

  // Right angle mark at C'
  const raSize = 12;
  const cpCanvas = toCanvas(Cpx, Cpy);
  ctx.beginPath();
  ctx.moveTo(cpCanvas.x, cpCanvas.y - raSize);
  ctx.lineTo(cpCanvas.x + raSize, cpCanvas.y - raSize);
  ctx.lineTo(cpCanvas.x + raSize, cpCanvas.y);
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 1.5;
  ctx.stroke();

  // Draw median AA1 (green dashed)
  drawLine(Ax, Ay, A1x, A1y, '#4ade80', 2.5, [8, 5]);

  // Draw median CC1 (yellow/amber dashed)
  drawLine(Cx, Cy, C1x, C1y, '#a78bfa', 2.5, [8, 5]);

  // Draw angle arc at A
  const aCanvas = toCanvas(Ax, Ay);
  const arcRadius = 35;
  ctx.beginPath();
  ctx.arc(aCanvas.x, aCanvas.y, arcRadius, -Math.PI / 4, 0);
  ctx.strokeStyle = '#fbbf24';
  ctx.lineWidth = 2;
  ctx.stroke();
  // Label angle
  ctx.font = '13px Segoe UI, sans-serif';
  ctx.fillStyle = '#fbbf24';
  ctx.fillText('45°', aCanvas.x + arcRadius + 4, aCanvas.y - 8);

  // Draw points
  drawPoint(Ax, Ay, '#60a5fa', 'A', -22, 6);
  drawPoint(Bx, By, '#60a5fa', 'B', 10, 6);
  drawPoint(Cx, Cy, '#60a5fa', 'C', -5, -14);
  drawPoint(A1x, A1y, '#4ade80', 'A\u2081', 10, -8);
  drawPoint(C1x, C1y, '#a78bfa', 'C\u2081', -8, 18);
  drawPoint(Cpx, Cpy, '#f472b6', "C'", -10, 20);

  // Side labels
  function labelMidpoint(x1, y1, x2, y2, text, color, dx, dy) {
    const mx = (x1 + x2) / 2, my = (y1 + y2) / 2;
    const mp = toCanvas(mx, my);
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.fillStyle = color;
    ctx.fillText(text, mp.x + (dx || 0), mp.y + (dy || 0));
  }

  labelMidpoint(Ax, Ay, Bx, By, 'c = AB', '#94a3b8', -15, 25);
  labelMidpoint(Bx, By, Cx, Cy, 'a = BC', '#94a3b8', 12, 0);
  labelMidpoint(Cx, Cy, Ax, Ay, 'b = AC', '#94a3b8', -55, 0);

  // Legend
  const legendX = 20, legendY = 20;
  ctx.font = '12px Segoe UI, sans-serif';

  const legendItems = [
    { color: '#4ade80', label: 'AA\u2081 (medijana iz A)', dash: [8, 5] },
    { color: '#a78bfa', label: 'CC\u2081 (medijana iz C)', dash: [8, 5] },
    { color: '#f472b6', label: "CC' (visina iz C)", dash: [6, 4] }
  ];

  legendItems.forEach((item, i) => {
    const ly = legendY + i * 22;
    ctx.beginPath();
    ctx.moveTo(legendX, ly);
    ctx.lineTo(legendX + 30, ly);
    ctx.strokeStyle = item.color;
    ctx.lineWidth = 2.5;
    ctx.setLineDash(item.dash);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = item.color;
    ctx.fillText(item.label, legendX + 38, ly + 4);
  });

  // Step click interaction
  document.querySelectorAll('.step-container').forEach(step => {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Odnos težišnih duži trougla sa datim uglom i uslovom za visinu",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["trougao", "težišna duž", "medijana", "visina trougla", "kosinusna teorema", "odnos duži"]
}
BRAINSPARK_META-->