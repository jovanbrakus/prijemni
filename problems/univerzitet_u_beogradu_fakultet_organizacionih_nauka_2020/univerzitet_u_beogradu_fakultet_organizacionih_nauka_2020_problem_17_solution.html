<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rotaciono telo jednakokrakog trapeza oko srednje linije</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Jednakokraki trapez sa osnovicama a = 10 cm i b = 4 cm rotira oko srednje linije trapeza.
Zapremina tela je 36π cm³. Naci povrsinu.

SOLUTION:

1. Srednja linija trapeza (segment koji spaja sredista krakova):
   m = (a + b) / 2 = (10 + 4) / 2 = 7 cm

2. Koordinatni sistem:
   Postavimo osu rotacije (srednju liniju) duz x-ose.
   Srednja linija ide od x = -3.5 do x = 3.5.
   Duza osnovica (10 cm): od x = -5 do x = 5 na y = -h/2
   Kraca osnovica (4 cm): od x = -2 do x = 2 na y = h/2

   Temena trapeza:
   A = (-5, -h/2), B = (5, -h/2), C = (2, h/2), D = (-2, h/2)

3. Jednacine krakova:
   Desni krak: od B(5, -h/2) do C(2, h/2)
   y = h(7 - 2x) / 6

   Provera: x=5: h(7-10)/6 = -h/2 ✓, x=2: h(7-4)/6 = h/2 ✓
   Krak preseca osu (y=0) pri x = 3.5

4. Preseci pri rotaciji oko x-ose:
   Za |x| ≤ 3.5: presek je pun disk poluprecnika h/2
   Za 3.5 < x ≤ 5: presek je prstenast (anulus)
     - spoljasnjiradijus R = h/2 (od donje osnovice)
     - unutrasnji radijus r(x) = h(2x-7)/6 (od kraka)
   Za -5 ≤ x < -3.5: simetricno

5. Zapremina:
   V = ∫_{-3.5}^{3.5} π(h/2)² dx + 2∫_{3.5}^{5} π[(h/2)² - (h(2x-7)/6)²] dx

   Srednji deo: π(h²/4)(7) = 7πh²/4

   Bocni deo (jedna strana), smena u = 2x - 7:
   ∫_{3.5}^{5} π[h²/4 - h²(2x-7)²/36] dx
   = ∫_0^3 π[h²/4 - h²u²/36] (du/2)
   = (πh²/2)[u/4 - u³/108]_0^3
   = (πh²/2)[3/4 - 27/108]
   = (πh²/2)[3/4 - 1/4]
   = (πh²/2)(1/2)
   = πh²/4

   Obe strane: 2 × πh²/4 = πh²/2

   Ukupna zapremina: V = 7πh²/4 + πh²/2 = 7πh²/4 + 2πh²/4 = 9πh²/4

6. Iz V = 36π:
   9h²/4 = 36
   h² = 16
   h = 4 cm

7. Krak trapeza:
   Horizontalni raspon: (10-4)/2 = 3
   Vertikalni raspon: h = 4
   Duzina kraka: l = √(3² + 4²) = √(9+16) = √25 = 5 cm
   (Pitagorin trougao 3-4-5!)

8. Povrsina rotacionog tela:
   a) Spoljasnj cilindricna povrsina:
      Kada se tacka na y = -h/2 = -2 rotira oko x-ose, napravi krug radijusa 2.
      Ova povrsina postoji za celo x ∈ [-5, 5], duzina = 10.
      S_cil = 2π(h/2)(10) = 2π(2)(10) = 40π

   b) Unutrasnje konusne povrsine:
      Desna strana: od (3.5, 0) do (5, -h/2) = (5, -2)
      To je kupa sa vrhom na osi (r=0) i bazom r = h/2 = 2.
      Izvodnica (slant height) = √(1.5² + 2²) = √(2.25 + 4) = √6.25 = 2.5
      S_kupa = π × r × l = π × 2 × 2.5 = 5π

      Leva strana: simetricno, takodje 5π

      Ukupno unutrasnje: 2 × 5π = 10π

   c) Nema ravnih poklopaca jer se unutrasnja i spoljasnaj povrsina spajaju
      glatko (u tackama x = ±5 obe imaju radijus h/2, u x = ±3.5 kupa dodiruje osu).

   UKUPNA POVRSINA: S = 40π + 10π = 50π cm²

ANSWER: A) 50π cm²

VERIFICATION:
- h = 4 daje V = 9π(16)/4 = 36π ✓
- Krak = 5 (3-4-5 trougao) ✓
- Polovina kraka (izvodnica kupe) = 2.5 ✓
- Povrsina = 40π + 10π = 50π ✓
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.step:hover {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Rotaciono telo jednakokrakog trapeza</h1>
  <p class="subtitle">Stereometrija &mdash; zapremina i povrsina rotacionog tela, srednja linija trapeza</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Jednakokraki trapez, cije su osnovice duzina <span class="highlight-blue">\(10\) cm</span> i
      <span class="highlight-blue">\(4\) cm</span>, rotira oko <span class="highlight-pink">srednje linije trapeza</span>.
      Ako je zapremina tako dobijenog tela <span class="highlight-green">\(36\pi\) cm&sup3;</span>,
      njegova povrsina je jednaka:
    </p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Duza osnovica \(a\)</div>
        <div class="value">\(10\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Kraca osnovica \(b\)</div>
        <div class="value">\(4\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Srednja linija \(m\)</div>
        <div class="value">\(\frac{10+4}{2} = 7\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Zapremina \(V\)</div>
        <div class="value">\(36\pi\) cm&sup3;</div>
      </div>
    </div>

    <div class="given-grid" style="margin-top: 14px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(50\pi\) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(56\pi\) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(45\pi\) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(40\pi\) cm&sup2;</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(48\pi\) cm&sup2;</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>
      Postavicemo koordinatni sistem duz srednje linije (ose rotacije) i odrediti poprecne preseke
      rotacionog tela. Integracijom preseka izracunavamo zapreminu u zavisnosti od visine \(h\),
      zatim iz uslova \(V = 36\pi\) nalazimo \(h\). Na kraju racunamo ukupnu povrsinu
      kao zbir omotoace cilindra i dve bocne kupe.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul>
        <li>
          <strong>Srednja linija trapeza:</strong>
          \[ m = \frac{a + b}{2} \]
          Spaja sredista krakova, paralelna je osnovicama i nalazi se na polovini visine.
        </li>
        <li>
          <strong>Zapremina rotacionog tela (metod diskova/prstenova):</strong>
          \[ V = \int_{x_1}^{x_2} \pi \bigl[R(x)^2 - r(x)^2\bigr]\, dx \]
          gde su \(R(x)\) i \(r(x)\) spoljasnj i unutrasnji poluprecnik preseka.
        </li>
        <li>
          <strong>Omotoac kupe:</strong>
          Kupa sa poluprecnikom baze \(r\) i izvodnicom \(l\) ima omotoac:
          \[ S_{\text{kupa}} = \pi r l \]
        </li>
        <li>
          <strong>Omotoac cilindra:</strong>
          Cilindricna povrsina poluprecnika \(r\) i duzine \(L\):
          \[ S_{\text{cil}} = 2\pi r L \]
        </li>
      </ul>
      <canvas id="theoryCanvas" width="500" height="220"></canvas>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Trapez rotira oko srednje linije (prikazane crvenom). Pomeranjem klizaca menjajte visinu \(h\).
    </p>
    <canvas id="mainCanvas" width="900" height="550"></canvas>
    <div style="text-align:center; margin-top:12px;">
      <label style="color:#94a3b8; font-size:0.95rem;">Visina h:
        <input type="range" id="hSlider" min="1" max="8" step="0.1" value="4"
               style="width:200px; vertical-align:middle;">
        <span id="hValue" style="color:#60a5fa; font-weight:700;">4,0</span> cm
      </label>
    </div>
    <p class="canvas-hint">Pomerite klizac da vidite kako visina utice na oblik rotacionog tela</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Postavljamo koordinatni sistem</h3>
        <p>
          Srednja linija trapeza je osa rotacije. Postavimo je duz \(x\)-ose.
          Srednja linija ima duzinu \(m = \frac{10 + 4}{2} = 7\) cm i ide od \(x = -3{,}5\) do \(x = 3{,}5\).
        </p>
        <p>
          Duza osnovica (\(a = 10\)) je na rastojanju \(\frac{h}{2}\) ispod ose: od \(x = -5\) do \(x = 5\) pri \(y = -\frac{h}{2}\).
        </p>
        <p>
          Kraca osnovica (\(b = 4\)) je na rastojanju \(\frac{h}{2}\) iznad ose: od \(x = -2\) do \(x = 2\) pri \(y = \frac{h}{2}\).
        </p>
        <div class="math-block">
          \[ A(-5,\, -\tfrac{h}{2}),\; B(5,\, -\tfrac{h}{2}),\; C(2,\, \tfrac{h}{2}),\; D(-2,\, \tfrac{h}{2}) \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Jednacina desnog kraka</h3>
        <p>
          Desni krak ide od \(B(5, -\frac{h}{2})\) do \(C(2, \frac{h}{2})\).
          Njegova jednacina je:
        </p>
        <div class="math-block">
          \[ y = \frac{h(7 - 2x)}{6} \]
        </div>
        <p>
          Krak preseca osu \(y = 0\) pri \(7 - 2x = 0\), tj. pri \(x = 3{,}5\)
          &mdash; tacno u krajnjoj tacki srednje linije.
        </p>
        <p class="note">
          Levi krak je simetrican: preseca osu pri \(x = -3{,}5\).
        </p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Analiziramo poprecne preseke</h3>
        <p>
          Pri rotaciji, presek tela u ravni normalnoj na \(x\)-osu je:
        </p>
        <p>
          <strong>Za \(|x| \le 3{,}5\):</strong> Trapez se prostire od \(y = -\frac{h}{2}\) do \(y = \frac{h}{2}\)
          (ili do kraka). Posto presek obuhvata oba znaka \(y\), rotacijom nastaje
          <span class="highlight-blue">pun disk</span> poluprecnika \(\frac{h}{2}\).
        </p>
        <p>
          <strong>Za \(3{,}5 < x \le 5\):</strong> Trapez se prostire samo ispod ose:
          od \(y = -\frac{h}{2}\) do \(y = \frac{h(7-2x)}{6} < 0\). Rotacijom nastaje
          <span class="highlight-pink">prsten (anulus)</span> sa spoljasnjim poluprecnikom
          \(R = \frac{h}{2}\) i unutrasnjim \(r = \frac{h(2x-7)}{6}\).
        </p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliki je unutrasnji poluprecnik prstena pri \(x = 4\) ako je \(h = 4\)?</summary>
      <div class="answer">
        \( r = \frac{4(2 \cdot 4 - 7)}{6} = \frac{4 \cdot 1}{6} = \frac{2}{3} \) cm. Spoljasnj je \( R = 2 \) cm.
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Racunamo zapreminu integracijom</h3>
        <p>
          Koristeci simetriju (\(x \leftrightarrow -x\)), zapremina je:
        </p>
        <div class="math-block">
          \[ V = \underbrace{\int_{-3{,}5}^{3{,}5} \pi\!\left(\frac{h}{2}\right)^{\!2} dx}_{\text{srednji deo}} \;+\; \underbrace{2\int_{3{,}5}^{5} \pi\!\left[\left(\frac{h}{2}\right)^{\!2} - \left(\frac{h(2x-7)}{6}\right)^{\!2}\right] dx}_{\text{bocni delovi}} \]
        </div>
        <p><strong>Srednji deo:</strong></p>
        <div class="math-block">
          \[ V_{\text{sred}} = \pi \cdot \frac{h^2}{4} \cdot 7 = \frac{7\pi h^2}{4} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Racunamo bocni deo zapremine</h3>
        <p>Uvodimo smenu \(u = 2x - 7\), \(du = 2\,dx\). Za \(x = 3{,}5 \Rightarrow u = 0\), za \(x = 5 \Rightarrow u = 3\).</p>
        <div class="math-block">
          \[ V_{\text{boc}} = \int_0^3 \pi\!\left[\frac{h^2}{4} - \frac{h^2 u^2}{36}\right] \frac{du}{2} = \frac{\pi h^2}{2} \int_0^3 \!\left[\frac{1}{4} - \frac{u^2}{36}\right] du \]
        </div>
        <div class="math-block">
          \[ = \frac{\pi h^2}{2} \left[\frac{u}{4} - \frac{u^3}{108}\right]_0^3 = \frac{\pi h^2}{2}\left[\frac{3}{4} - \frac{27}{108}\right] = \frac{\pi h^2}{2}\left[\frac{3}{4} - \frac{1}{4}\right] = \frac{\pi h^2}{2} \cdot \frac{1}{2} = \frac{\pi h^2}{4} \]
        </div>
        <p>Oba bocna dela zajedno: \(2 \cdot \frac{\pi h^2}{4} = \frac{\pi h^2}{2}\).</p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Ukupna zapremina i nalazenje \(h\)</h3>
        <div class="math-block">
          \[ V = \frac{7\pi h^2}{4} + \frac{\pi h^2}{2} = \frac{7\pi h^2}{4} + \frac{2\pi h^2}{4} = \frac{9\pi h^2}{4} \]
        </div>
        <p>Iz uslova \(V = 36\pi\):</p>
        <div class="math-block">
          \[ \frac{9\pi h^2}{4} = 36\pi \]
        </div>
        <div class="math-block">
          \[ \frac{9 h^2}{4} = 36 \implies h^2 = \frac{36 \cdot 4}{9} = 16 \implies \boxed{h = 4 \text{ cm}} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Kolika je duzina kraka trapeza?</summary>
      <div class="answer">
        Horizontalni pomak kraka: \(\frac{a - b}{2} = \frac{10 - 4}{2} = 3\) cm. Visina: \(h = 4\) cm.
        Krak: \(l = \sqrt{3^2 + 4^2} = \sqrt{9 + 16} = \sqrt{25} = 5\) cm (Pitagorin trougao 3&ndash;4&ndash;5!).
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Opisujemo povrsinu rotacionog tela</h3>
        <p>Rotaciono telo ima dve vrste povrsina:</p>
        <p>
          <span class="highlight-blue">Spoljasnj cilindar:</span>
          Tacke na duzoj osnovici (\(y = -\frac{h}{2} = -2\)) pri rotaciji opisuju krug poluprecnika 2.
          Ova cilindricna povrsina obuhvata celu duzinu od \(x = -5\) do \(x = 5\), tj. duzinu 10 cm.
        </p>
        <p>
          <span class="highlight-pink">Dve unutrasnje kupe:</span>
          U bocnim delovima (\(3{,}5 < |x| \le 5\)), krak trapeza formira unutrasnju konusnu povrsinu.
          Svaka kupa ima vrh na osi (\(r = 0\) pri \(|x| = 3{,}5\)) i bazu poluprecnika \(\frac{h}{2} = 2\) pri \(|x| = 5\).
        </p>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Racunamo povrsinu cilindra</h3>
        <p>Omotoac spoljasnjeg cilindra poluprecnika \(\frac{h}{2} = 2\) cm i duzine 10 cm:</p>
        <div class="math-block">
          \[ S_{\text{cil}} = 2\pi \cdot \frac{h}{2} \cdot 10 = 2\pi \cdot 2 \cdot 10 = 40\pi \text{ cm}^2 \]
        </div>
      </div>
    </div>

    <!-- Step 9 -->
    <div class="step">
      <div class="step-badge">9</div>
      <div class="step-content">
        <h3>Racunamo povrsinu unutrasnjih kupa</h3>
        <p>
          Svaka kupa nastaje rotacijom polovine kraka: od sredista kraka (tacka na osi pri \(|x| = 3{,}5\))
          do kraja kraka (pri \(|x| = 5\)).
        </p>
        <p>Poluprecnik baze kupe: \(r = \frac{h}{2} = 2\) cm.</p>
        <p>Izvodnica (udaljenost od vrha do oboda baze):</p>
        <div class="math-block">
          \[ l = \sqrt{(5 - 3{,}5)^2 + \left(\frac{h}{2}\right)^{\!2}} = \sqrt{1{,}5^2 + 2^2} = \sqrt{2{,}25 + 4} = \sqrt{6{,}25} = 2{,}5 \text{ cm} \]
        </div>
        <p class="note">
          Ovo je tacno polovina duzine kraka (5 / 2 = 2,5), sto ima smisla jer srednja linija deli krak na dve jednake polovine.
        </p>
        <p>Omotoac jedne kupe:</p>
        <div class="math-block">
          \[ S_{\text{kupa}} = \pi r l = \pi \cdot 2 \cdot 2{,}5 = 5\pi \text{ cm}^2 \]
        </div>
        <p>Dve kupe zajedno:</p>
        <div class="math-block">
          \[ S_{\text{2 kupe}} = 2 \times 5\pi = 10\pi \text{ cm}^2 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Zasto nema ravnih poklopaca (krugova) na krajevima tela?</summary>
      <div class="answer">
        Pri \(x = \pm 5\), unutrasnja kupa i spoljasnj cilindar se spajaju na istom poluprecniku
        \(r = \frac{h}{2} = 2\), pa nema ravne povrsine &mdash; samo ostra ivica.
        Pri \(x = \pm 3{,}5\), vrh kupe dotice osu, pa se telo glatko zatvara iznutra.
      </div>
    </details>

    <!-- Step 10 -->
    <div class="step">
      <div class="step-badge">10</div>
      <div class="step-content">
        <h3>Ukupna povrsina</h3>
        <div class="math-block">
          \[ S = S_{\text{cil}} + S_{\text{2 kupe}} = 40\pi + 10\pi = \boxed{50\pi \text{ cm}^2} \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Kljucno zapazanje</h2>
    <p>
      Srednja linija deli svaki krak trapeza na dva jednaka dela. Donja polovina kraka,
      pri rotaciji oko srednje linije, formira <span class="highlight-pink">kupu</span>
      cija izvodnica je polovina kraka. Zahvaljujuci Pitagorinom trouglu 3&ndash;4&ndash;5,
      krak je tacno 5 cm, a izvodnica kupe 2,5 cm.
    </p>
    <div class="big-formula">
      \[ S = 2\pi \cdot 2 \cdot 10 + 2\pi \cdot 2 \cdot 2{,}5 = 40\pi + 10\pi = 50\pi \text{ cm}^2 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">
      \( S = 50\pi \) cm&sup2;
    </div>
    <p style="color:#94a3b8; margin-bottom: 14px;">Tacan odgovor je <strong style="color:#4ade80;">A)</strong></p>
    <div class="options-row">
      <div class="option-card correct">(A) \(50\pi\) cm&sup2; &#10003;</div>
      <div class="option-card">(B) \(56\pi\) cm&sup2;</div>
      <div class="option-card">(C) \(45\pi\) cm&sup2;</div>
      <div class="option-card">(D) \(40\pi\) cm&sup2;</div>
      <div class="option-card">(E) \(48\pi\) cm&sup2;</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong> Sa \(h = 4\) proveravamo zapreminu:
      \(V = \frac{9\pi \cdot 16}{4} = 36\pi\) cm&sup3; &mdash; tacno!
      Krak trapeza je 5 cm (Pitagorin trougao 3&ndash;4&ndash;5), sto daje
      elegantne celobrojne rezultate. Povrsina \(50\pi \approx 157\) cm&sup2; je razuman
      rezultat za telo duzine 10 cm i precnika 4 cm.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greska 1:</span>
        Pretpostaviti da je rotaciono telo prost cilindar. Telo JESTE cilindrično spolja,
        ali ima dva konusna udubljenja iznutra &mdash; bocni preseci su prstenasti (anulusi),
        ne puni diskovi. To smanjuje zapreminu, ali dodaje unutrasnju povrsinu.
      </li>
      <li>
        <span class="pitfall-label">Greska 2:</span>
        Racunati samo \(S = 40\pi\) (samo cilindar, odgovor D) i zaboraviti na unutrasnje
        konusne povrsine koje dodaju jos \(10\pi\).
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Sta bi se desilo da isti trapez rotira oko duze osnovice umesto oko srednje linije?
      Kolika bi tada bila zapremina rotacionog tela?
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Kada trapez rotira oko duze osnovice, nastaje telo koje se moze rastaviti na
        veliki konus (poluprecnik baze \(h\), poluprecnik vrha 0, duzina 5) minus
        mali konus. Zapravo, koristite formulu za zapreminu zarubljene kupe (frustuma):
        \(V = \frac{\pi h}{3}(R^2 + Rr + r^2)\), gde su \(R\) i \(r\) poluprecnici baza.
        Pazite na to da osa rotacije ne prolazi kroz unutrasnjost!
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Theory canvas: show a trapezoid with its midsegment labeled
  const tc = document.getElementById('theoryCanvas');
  if (!tc) return;
  const tctx = tc.getContext('2d');

  function drawTheory() {
    const dpr = window.devicePixelRatio || 1;
    const rect = tc.getBoundingClientRect();
    const W = rect.width;
    const H = 220;
    tc.width = W * dpr;
    tc.height = H * dpr;
    tc.style.height = H + 'px';
    tctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    tctx.clearRect(0, 0, W, H);

    tctx.fillStyle = '#0c1222';
    tctx.fillRect(0, 0, W, H);

    const cx = W / 2;
    const cy = H / 2;
    const sc = Math.min(W / 500, 1);

    // Draw trapezoid
    const aLen = 160 * sc;
    const bLen = 64 * sc;
    const th = 100 * sc;

    const Ax = cx - aLen / 2, Ay = cy + th / 2;
    const Bx = cx + aLen / 2, By = cy + th / 2;
    const Cx = cx + bLen / 2, Cy = cy - th / 2;
    const Dx = cx - bLen / 2, Dy = cy - th / 2;

    // Fill trapezoid
    tctx.beginPath();
    tctx.moveTo(Ax, Ay);
    tctx.lineTo(Bx, By);
    tctx.lineTo(Cx, Cy);
    tctx.lineTo(Dx, Dy);
    tctx.closePath();
    tctx.fillStyle = 'rgba(96,165,250,0.08)';
    tctx.fill();
    tctx.strokeStyle = '#60a5fa';
    tctx.lineWidth = 2;
    tctx.stroke();

    // Midsegment
    const mxL = (Ax + Dx) / 2;
    const myL = (Ay + Dy) / 2;
    const mxR = (Bx + Cx) / 2;
    const myR = (By + Cy) / 2;

    tctx.beginPath();
    tctx.moveTo(mxL, myL);
    tctx.lineTo(mxR, myR);
    tctx.strokeStyle = '#f472b6';
    tctx.lineWidth = 2.5;
    tctx.setLineDash([6, 4]);
    tctx.stroke();
    tctx.setLineDash([]);

    // Labels
    tctx.font = 'bold ' + (13 * sc) + 'px Segoe UI, system-ui, sans-serif';
    tctx.textAlign = 'center';

    tctx.fillStyle = '#60a5fa';
    tctx.fillText('a = 10', cx, By + 20 * sc);

    tctx.fillStyle = '#60a5fa';
    tctx.fillText('b = 4', cx, Dy - 10 * sc);

    tctx.fillStyle = '#f472b6';
    tctx.fillText('m = 7 (osa rotacije)', cx, myL - 10 * sc);

    // Height arrow
    const hx = Bx + 30 * sc;
    tctx.beginPath();
    tctx.moveTo(hx, By);
    tctx.lineTo(hx, Cy);
    tctx.strokeStyle = '#4ade80';
    tctx.lineWidth = 1.5;
    tctx.stroke();
    // Arrow heads
    tctx.beginPath();
    tctx.moveTo(hx - 4 * sc, By - 6 * sc);
    tctx.lineTo(hx, By);
    tctx.lineTo(hx + 4 * sc, By - 6 * sc);
    tctx.stroke();
    tctx.beginPath();
    tctx.moveTo(hx - 4 * sc, Cy + 6 * sc);
    tctx.lineTo(hx, Cy);
    tctx.lineTo(hx + 4 * sc, Cy + 6 * sc);
    tctx.stroke();

    tctx.fillStyle = '#4ade80';
    tctx.textAlign = 'left';
    tctx.fillText('h', hx + 6 * sc, cy + 4 * sc);

    // h/2 markers
    tctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    tctx.fillStyle = '#94a3b8';
    tctx.fillText('h/2', hx + 6 * sc, (myL + By) / 2 + 4 * sc);
    tctx.fillText('h/2', hx + 6 * sc, (myL + Cy) / 2 + 4 * sc);

    // Dashed line at midsegment height
    tctx.beginPath();
    tctx.moveTo(hx - 5 * sc, myR);
    tctx.lineTo(hx + 5 * sc, myR);
    tctx.strokeStyle = '#f472b6';
    tctx.lineWidth = 1.5;
    tctx.stroke();
  }

  drawTheory();
  window.addEventListener('resize', drawTheory);
})();
</script>

<script>
(() => {
  const canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('hSlider');
  const hValueSpan = document.getElementById('hValue');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const W = rect.width;
    const H = 550;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    ctx.clearRect(0, 0, W, H);

    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const h = parseFloat(slider.value);
    hValueSpan.textContent = h.toFixed(1).replace('.', ',');

    const sc = Math.min(W / 900, 1);

    // We'll show two views:
    // Top: the 2D trapezoid cross-section with axis
    // Bottom: the 3D rotational body (side view / cross-section)

    const topH = H * 0.45;
    const botH = H * 0.45;
    const gap = H * 0.1;

    // ========== TOP: 2D Trapezoid with axis ==========
    const topCX = W / 2;
    const topCY = topH / 2 + 10;
    const pxPerCm = Math.min((W - 80) / 12, (topH - 40) / (h + 1)) * sc;

    function toTop(x, y) {
      return { x: topCX + x * pxPerCm, y: topCY - y * pxPerCm };
    }

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let gx = -6; gx <= 6; gx++) {
      const p = toTop(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, topH + 10);
      ctx.stroke();
    }
    for (let gy = -4; gy <= 4; gy++) {
      const p = toTop(0, gy);
      if (p.y < 0 || p.y > topH + 10) continue;
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axis (midsegment)
    const axL = toTop(-6, 0);
    const axR = toTop(6, 0);
    ctx.beginPath();
    ctx.moveTo(axL.x, axL.y);
    ctx.lineTo(axR.x, axR.y);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 5]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label axis
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold ' + (12 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('osa rotacije (srednja linija)', axR.x - 5 * sc, axR.y - 8 * sc);

    // Trapezoid vertices
    const hh = h / 2;
    const tA = toTop(-5, -hh);
    const tB = toTop(5, -hh);
    const tC = toTop(2, hh);
    const tD = toTop(-2, hh);

    // Fill trapezoid
    ctx.beginPath();
    ctx.moveTo(tA.x, tA.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.lineTo(tC.x, tC.y);
    ctx.lineTo(tD.x, tD.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.1)';
    ctx.fill();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Midsegment highlighted
    const mL = toTop(-3.5, 0);
    const mR = toTop(3.5, 0);
    ctx.beginPath();
    ctx.moveTo(mL.x, mL.y);
    ctx.lineTo(mR.x, mR.y);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 3;
    ctx.stroke();

    // Points where legs cross axis
    ctx.beginPath();
    ctx.arc(mL.x, mL.y, 4 * sc, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(mR.x, mR.y, 4 * sc, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Vertex labels
    ctx.font = 'bold ' + (12 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.fillText('A', tA.x - 10 * sc, tA.y + 16 * sc);
    ctx.fillText('B', tB.x + 10 * sc, tB.y + 16 * sc);
    ctx.fillText('C', tC.x + 10 * sc, tC.y - 8 * sc);
    ctx.fillText('D', tD.x - 10 * sc, tD.y - 8 * sc);

    // Dimension labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a = 10', (tA.x + tB.x) / 2, tA.y + 16 * sc);
    ctx.fillText('b = 4', (tD.x + tC.x) / 2, tD.y - 10 * sc);
    ctx.fillText('m = 7', (mL.x + mR.x) / 2, mL.y + 16 * sc);

    // h/2 markers
    ctx.fillStyle = '#4ade80';
    ctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    const midY1 = (mL.y + tA.y) / 2;
    const midY2 = (mL.y + tD.y) / 2;
    ctx.textAlign = 'left';
    const hMarkX = tB.x + 15 * sc;
    ctx.fillText('h/2', hMarkX, midY1 + 4 * sc);
    ctx.fillText('h/2', hMarkX, midY2 + 4 * sc);

    // Section label
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold ' + (13 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Poprecni presek trapeza', W / 2, topH + 5);

    // ========== BOTTOM: 3D side view of revolution body ==========
    const botCX = W / 2;
    const botCY = topH + gap + botH / 2;
    const bsc = Math.min((W - 80) / 12, (botH - 40) / (h + 1)) * sc;

    function toBot(x, y) {
      return { x: botCX + x * bsc, y: botCY - y * bsc };
    }

    // Axis
    const baxL = toBot(-6, 0);
    const baxR = toBot(6, 0);
    ctx.beginPath();
    ctx.moveTo(baxL.x, baxL.y);
    ctx.lineTo(baxR.x, baxR.y);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Outer cylinder (from x = -5 to x = 5, radius h/2)
    const cTL = toBot(-5, hh);
    const cTR = toBot(5, hh);
    const cBL = toBot(-5, -hh);
    const cBR = toBot(5, -hh);

    // Cylinder fill
    ctx.beginPath();
    ctx.moveTo(cTL.x, cTL.y);
    ctx.lineTo(cTR.x, cTR.y);
    ctx.lineTo(cBR.x, cBR.y);
    ctx.lineTo(cBL.x, cBL.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.06)';
    ctx.fill();

    // Top line of cylinder
    ctx.beginPath();
    ctx.moveTo(cTL.x, cTL.y);
    ctx.lineTo(cTR.x, cTR.y);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Bottom line of cylinder
    ctx.beginPath();
    ctx.moveTo(cBL.x, cBL.y);
    ctx.lineTo(cBR.x, cBR.y);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Left inner cone: from (-3.5, 0) to (-5, h/2) and (-3.5, 0) to (-5, -h/2)
    // Actually: the inner surfaces go from axis point at +-3.5 to the edge of cylinder at +-5
    // Left cone: apex at (-3.5, 0), to (-5, +h/2) upper and (-5, -h/2) lower
    const lConeApex = toBot(-3.5, 0);
    const lConeT = toBot(-5, hh);
    const lConeB = toBot(-5, -hh);

    // Right cone: apex at (3.5, 0), to (5, +h/2) and (5, -h/2)
    const rConeApex = toBot(3.5, 0);
    const rConeT = toBot(5, hh);
    const rConeB = toBot(5, -hh);

    // Fill left cone hollow
    ctx.beginPath();
    ctx.moveTo(lConeApex.x, lConeApex.y);
    ctx.lineTo(lConeT.x, lConeT.y);
    ctx.lineTo(lConeB.x, lConeB.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(244,114,182,0.08)';
    ctx.fill();

    // Fill right cone hollow
    ctx.beginPath();
    ctx.moveTo(rConeApex.x, rConeApex.y);
    ctx.lineTo(rConeT.x, rConeT.y);
    ctx.lineTo(rConeB.x, rConeB.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(244,114,182,0.08)';
    ctx.fill();

    // Draw inner cone lines
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    // Left upper
    ctx.beginPath();
    ctx.moveTo(lConeApex.x, lConeApex.y);
    ctx.lineTo(lConeT.x, lConeT.y);
    ctx.stroke();
    // Left lower
    ctx.beginPath();
    ctx.moveTo(lConeApex.x, lConeApex.y);
    ctx.lineTo(lConeB.x, lConeB.y);
    ctx.stroke();
    // Right upper
    ctx.beginPath();
    ctx.moveTo(rConeApex.x, rConeApex.y);
    ctx.lineTo(rConeT.x, rConeT.y);
    ctx.stroke();
    // Right lower
    ctx.beginPath();
    ctx.moveTo(rConeApex.x, rConeApex.y);
    ctx.lineTo(rConeB.x, rConeB.y);
    ctx.stroke();

    // End caps (circles at x = -5 and x = 5) - just vertical lines in side view
    ctx.beginPath();
    ctx.moveTo(cTL.x, cTL.y);
    ctx.lineTo(cBL.x, cBL.y);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.beginPath();
    ctx.moveTo(cTR.x, cTR.y);
    ctx.lineTo(cBR.x, cBR.y);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Mark cone apexes
    ctx.beginPath();
    ctx.arc(lConeApex.x, lConeApex.y, 4 * sc, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(rConeApex.x, rConeApex.y, 4 * sc, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Dimension labels for 3D view
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    // Length 10
    const dimY = cBR.y + 20 * sc;
    ctx.beginPath();
    ctx.moveTo(cBL.x, dimY - 5 * sc);
    ctx.lineTo(cBL.x, dimY + 5 * sc);
    ctx.moveTo(cBL.x, dimY);
    ctx.lineTo(cBR.x, dimY);
    ctx.moveTo(cBR.x, dimY - 5 * sc);
    ctx.lineTo(cBR.x, dimY + 5 * sc);
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1;
    ctx.stroke();
    ctx.fillText('10 cm', (cBL.x + cBR.x) / 2, dimY + 14 * sc);

    // Radius h/2
    const rLabelX = cBR.x + 20 * sc;
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'left';
    ctx.fillText('r = h/2 = ' + (h / 2).toFixed(1).replace('.', ','), rLabelX, (cTR.y + rConeApex.y) / 2 + 4 * sc);

    // Slant height label
    const slantMidX = (rConeApex.x + rConeB.x) / 2;
    const slantMidY = (rConeApex.y + rConeB.y) / 2;
    const legH = Math.sqrt(1.5*1.5 + hh*hh);
    ctx.fillStyle = '#f472b6';
    ctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('l = ' + legH.toFixed(1).replace('.', ','), slantMidX + 15 * sc, slantMidY + 14 * sc);

    // Section label
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold ' + (13 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Bocni presek rotacionog tela', W / 2, topH + gap - 5);

    // Legend
    const legX = 14 * sc;
    let legY = topH + gap + 16 * sc;
    const legGap = 20 * sc;

    ctx.font = 'bold ' + (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legX, legY - 6 * sc, 14 * sc, 3 * sc);
    ctx.fillText('Spoljasnj cilindar (S = 2\u03C0rL)', legX + 20 * sc, legY);

    legY += legGap;
    ctx.fillStyle = '#f472b6';
    ctx.fillRect(legX, legY - 6 * sc, 14 * sc, 3 * sc);
    ctx.fillText('Unutrasnje kupe (S = \u03C0rl)', legX + 20 * sc, legY);

    // Compute and show current values
    const vol = 9 * Math.PI * h * h / 4;
    const legLen = Math.sqrt(9 + h * h);
    const halfLeg = legLen / 2;
    const surfCyl = 2 * Math.PI * (h / 2) * 10;
    const surfCones = 2 * Math.PI * (h / 2) * halfLeg;
    const surfTotal = surfCyl + surfCones;

    legY += legGap + 6 * sc;
    ctx.font = (11 * sc) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('h = ' + h.toFixed(1).replace('.', ',') + ' cm', legX, legY);
    legY += legGap;
    ctx.fillText('V = ' + (vol / Math.PI).toFixed(1).replace('.', ',') + '\u03C0 cm\u00B3', legX, legY);
    legY += legGap;
    ctx.fillText('S = ' + (surfTotal / Math.PI).toFixed(1).replace('.', ',') + '\u03C0 cm\u00B2', legX, legY);

    if (Math.abs(h - 4) < 0.15) {
      legY += legGap;
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold ' + (12 * sc) + 'px Segoe UI, system-ui, sans-serif';
      ctx.fillText('h = 4: V = 36\u03C0, S = 50\u03C0 \u2713', legX, legY);
    }
  }

  draw();
  slider.addEventListener('input', draw);
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Rotaciono telo jednakokrakog trapeza oko srednje linije",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["rotaciono telo", "zapremina", "povrsina", "trapez", "srednja linija", "kupa", "cilindar", "stereometrija"]
}
BRAINSPARK_META-->