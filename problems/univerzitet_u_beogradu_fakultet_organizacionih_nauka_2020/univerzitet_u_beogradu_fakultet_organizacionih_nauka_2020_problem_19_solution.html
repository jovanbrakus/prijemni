<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binomni razvoj — član sa x³</title>
<script type="text/info" id="logic-scratchpad">
Problem: Zbir prva tri binomna koeficijenta u razvoju
( y^(1/3)/x - x^(1/2)/y )^n, x > 0, y ≠ 0
iznosi 121. Naći član koji sadrži x^3.

Korak 1: Nalaženje n
Prva tri binomna koeficijenta su: C(n,0) = 1, C(n,1) = n, C(n,2) = n(n-1)/2.
Njihov zbir: 1 + n + n(n-1)/2 = 121
Množimo sa 2: 2 + 2n + n² - n = 242
n² + n + 2 = 242
n² + n - 240 = 0

Diskriminanta: D = 1 + 960 = 961 = 31²
n = (-1 + 31)/2 = 15  (uzimamo pozitivno rešenje, jer n mora biti prirodan broj)

Provera: 1 + 15 + 15*14/2 = 1 + 15 + 105 = 121 ✓

Korak 2: Opšti član razvoja
Binomni razvoj: (a + b)^n gde je a = y^(1/3)/x, b = -x^(1/2)/y

T_{k+1} = C(15, k) * (y^(1/3)/x)^(15-k) * (-x^(1/2)/y)^k

= C(15, k) * (-1)^k * y^((15-k)/3) * x^(-(15-k)) * x^(k/2) * y^(-k)

Stepen od x: -(15-k) + k/2 = -15 + k + k/2 = -15 + 3k/2
Stepen od y: (15-k)/3 - k = (15-k-3k)/3 = (15-4k)/3

Korak 3: Nalaženje k za x^3
-15 + 3k/2 = 3
3k/2 = 18
k = 12

Korak 4: Stepen od y za k = 12
(15 - 4*12)/3 = (15 - 48)/3 = -33/3 = -11

Korak 5: Koeficijent
C(15, 12) * (-1)^12 = C(15, 3) * 1 = (15 * 14 * 13) / (3 * 2 * 1) = 2730 / 6 = 455

Dakle, član je: 455 * x^3 * y^(-11)

Odgovor: E) 455 x³ y⁻¹¹

Provera ponuđenih odgovora:
A) -455 x³ y^(-11) — pogrešan predznak
B) 105 x³ y^(-11) — pogrešan koeficijent
C) -1365 x³ y^(-12) — pogrešan koeficijent i stepen
D) -455 x³ y^(-12) — pogrešan predznak i stepen
E) 455 x³ y^(-11) — TAČNO ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.15rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

.theory-content {
  margin-top: 12px;
  padding: 16px;
  background: rgba(96,165,250,0.05);
  border-radius: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.theory-content li:last-child {
  border-bottom: none;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  border-left: 3px solid transparent;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-number {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #fff;
  margin-top: 2px;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.checkpoint-answer {
  padding: 10px 0 4px 0;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.3rem;
  color: #4ade80;
  margin: 12px 0;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 1px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #4ade80;
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin-bottom: 16px;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 1rem;
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.verification {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
  padding: 14px;
  background: rgba(51,65,85,0.3);
  border-radius: 10px;
}

.pitfalls-card {
  border-left: 3px solid #e09468;
}

.pitfalls-card h2 {
  color: #e09468;
}

.pitfalls-card ul {
  list-style: none;
  padding-left: 0;
}

.pitfalls-card li {
  padding: 8px 0;
  color: #cbd5e1;
}

.pitfalls-card li::before {
  content: "\26A0 ";
  color: #e09468;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

.challenge-card h2 {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 8px 12px; }
  .step-container { flex-direction: column; gap: 8px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Binomni razvoj — član sa \(x^3\)</h1>
  <p class="subtitle">Binomna teorema — određivanje eksponenta, opšti član razvoja i traženje specifičnog člana</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir prva tri binomna koeficijenta u razvoju:</p>
    <div class="math-block">
      \[ \left(\frac{\sqrt[3]{y}}{x} - \frac{\sqrt{x}}{y}\right)^n, \quad x > 0, \; y \neq 0 \]
    </div>
    <p>iznosi <span style="color:#60a5fa;font-weight:600;">121</span>. Član razvoja koji sadrži \(x^3\) jednak je:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Zbir koeficijenata</div>
        <div class="value">\(121\)</div>
      </div>
      <div class="given-item">
        <div class="label">Tražimo član sa</div>
        <div class="value">\(x^3\)</div>
      </div>
    </div>

    <div class="given-grid" style="margin-top:16px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-455\, x^3 y^{-11}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(105\, x^3 y^{-11}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-1365\, x^3 y^{-12}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-455\, x^3 y^{-12}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(455\, x^3 y^{-11}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Najpre ćemo iz uslova da je zbir prva tri binomna koeficijenta jednak 121 odrediti \(n\). Zatim ćemo napisati opšti član razvoja, odrediti stepen od \(x\) u zavisnosti od \(k\), i naći koje \(k\) daje \(x^3\).</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Binomna teorema:</strong>
            \[ (a+b)^n = \sum_{k=0}^{n} \binom{n}{k} a^{n-k} b^k \]
          </li>
          <li><strong>Binomni koeficijenti:</strong>
            \[ \binom{n}{0} = 1, \quad \binom{n}{1} = n, \quad \binom{n}{2} = \frac{n(n-1)}{2} \]
          </li>
          <li><strong>Opšti član binomnog razvoja:</strong>
            \[ T_{k+1} = \binom{n}{k} \cdot a^{n-k} \cdot b^{k} \]
            gde je \(k = 0, 1, 2, \ldots, n\).
          </li>
          <li><strong>Pravila za stepene:</strong>
            \[ \sqrt[3]{y} = y^{1/3}, \quad \sqrt{x} = x^{1/2}, \quad \frac{1}{x^m} = x^{-m} \]
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="400"></canvas>
    <p class="canvas-hint">Prikaz stepena od x i y u opštem članu razvoja u zavisnosti od k</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>Postavljamo jednačinu za \(n\)</h3>
        <p>Prva tri binomna koeficijenta u razvoju \((a+b)^n\) su:</p>
        <div class="math-block">
          \[ \binom{n}{0} = 1, \quad \binom{n}{1} = n, \quad \binom{n}{2} = \frac{n(n-1)}{2} \]
        </div>
        <p>Njihov zbir jednak je 121:</p>
        <div class="math-block">
          \[ 1 + n + \frac{n(n-1)}{2} = 121 \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>Rešavamo kvadratnu jednačinu</h3>
        <p>Pomnožimo obe strane sa 2:</p>
        <div class="math-block">
          \[ 2 + 2n + n^2 - n = 242 \]
        </div>
        <p>Sredimo:</p>
        <div class="math-block">
          \[ n^2 + n - 240 = 0 \]
        </div>
        <p>Diskriminanta:</p>
        <div class="math-block">
          \[ D = 1 + 4 \cdot 240 = 961 = 31^2 \]
        </div>
        <p>Rešenja:</p>
        <div class="math-block">
          \[ n = \frac{-1 + 31}{2} = 15 \quad \text{ili} \quad n = \frac{-1 - 31}{2} = -16 \]
        </div>
        <p class="note">Pošto je \(n\) prirodan broj, uzimamo \(n = 15\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliko iznosi \(1 + 15 + \binom{15}{2}\)?</summary>
      <div class="checkpoint-answer">\(1 + 15 + 105 = 121\) — tačno se poklapa sa datim zbirom!</div>
    </details>

    <div class="step-container" id="step3">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>Zapisujemo binom u pogodnom obliku</h3>
        <p>Označimo:</p>
        <div class="math-block">
          \[ a = \frac{y^{1/3}}{x} = y^{1/3} \cdot x^{-1}, \qquad b = -\frac{x^{1/2}}{y} = -x^{1/2} \cdot y^{-1} \]
        </div>
        <p class="note">Obratite pažnju na minus ispred drugog člana — on je deo člana \(b\).</p>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>Pišemo opšti član razvoja</h3>
        <p>Opšti (\(k+1\))-vi član glasi:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{15}{k} \cdot \left(y^{1/3} \cdot x^{-1}\right)^{15-k} \cdot \left(-x^{1/2} \cdot y^{-1}\right)^k \]
        </div>
        <p>Razdvajamo činioce:</p>
        <div class="math-block">
          \[ T_{k+1} = \binom{15}{k} \cdot (-1)^k \cdot x^{-(15-k)} \cdot x^{k/2} \cdot y^{(15-k)/3} \cdot y^{-k} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>Nalazimo stepene od \(x\) i \(y\)</h3>
        <p>Stepen od \(x\) u opštem članu:</p>
        <div class="math-block">
          \[ -(15-k) + \frac{k}{2} = -15 + k + \frac{k}{2} = -15 + \frac{3k}{2} \]
        </div>
        <p>Stepen od \(y\) u opštem članu:</p>
        <div class="math-block">
          \[ \frac{15-k}{3} - k = \frac{15 - k - 3k}{3} = \frac{15 - 4k}{3} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Za \(k = 0\), koliki je stepen od \(x\)?</summary>
      <div class="checkpoint-answer">\(-15 + \frac{3 \cdot 0}{2} = -15\). Prvi član sadrži \(x^{-15}\).</div>
    </details>

    <div class="step-container" id="step6">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>Tražimo \(k\) za koje je stepen od \(x\) jednak 3</h3>
        <p>Postavljamo uslov:</p>
        <div class="math-block">
          \[ -15 + \frac{3k}{2} = 3 \]
        </div>
        <p>Rešavamo:</p>
        <div class="math-block">
          \[ \frac{3k}{2} = 18 \]
        </div>
        <div class="math-block">
          \[ k = 12 \]
        </div>
        <p class="note">Vrednost \(k = 12\) je ceo broj u opsegu \([0, 15]\), dakle član postoji.</p>
      </div>
    </div>

    <div class="step-container" id="step7">
      <div class="step-number">7</div>
      <div class="step-content">
        <h3>Nalazimo stepen od \(y\)</h3>
        <p>Za \(k = 12\):</p>
        <div class="math-block">
          \[ \frac{15 - 4 \cdot 12}{3} = \frac{15 - 48}{3} = \frac{-33}{3} = -11 \]
        </div>
        <p>Dakle, stepen od \(y\) je \(-11\).</p>
      </div>
    </div>

    <div class="step-container" id="step8">
      <div class="step-number">8</div>
      <div class="step-content">
        <h3>Računamo koeficijent</h3>
        <p>Koeficijent traženog člana je:</p>
        <div class="math-block">
          \[ \binom{15}{12} \cdot (-1)^{12} = \binom{15}{3} \cdot 1 \]
        </div>
        <p>Računamo:</p>
        <div class="math-block">
          \[ \binom{15}{3} = \frac{15 \cdot 14 \cdot 13}{3 \cdot 2 \cdot 1} = \frac{2730}{6} = 455 \]
        </div>
        <p class="note">Pošto je \((-1)^{12} = 1\), predznak je pozitivan.</p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zašto je \((-1)^{12}\) pozitivno?</summary>
      <div class="checkpoint-answer">Zato što je 12 paran broj, a svaki paran stepen od \(-1\) daje \(+1\).</div>
    </details>

    <div class="step-container" id="step9">
      <div class="step-number">9</div>
      <div class="step-content">
        <h3>Zapisujemo traženi član</h3>
        <p>Spajamo sve zajedno:</p>
        <div class="math-block">
          \[ T_{13} = 455 \cdot x^3 \cdot y^{-11} \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Stepen od \(x\) raste linearno sa \(k\): svaki sledeći član povećava stepen za \(\frac{3}{2}\). Zato je za \(x^3\) potreban korak \(k = 12\), a parnost eksponenta \((-1)^k\) određuje predznak.</p>
    <div class="insight-formula">
      \[ T_{13} = 455 \, x^3 y^{-11} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <div class="answer-value">\(455\, x^3 y^{-11}\)</div>
    <div class="options-row">
      <div class="option-card">(A) \(-455\, x^3 y^{-11}\)</div>
      <div class="option-card">(B) \(105\, x^3 y^{-11}\)</div>
      <div class="option-card">(C) \(-1365\, x^3 y^{-12}\)</div>
      <div class="option-card">(D) \(-455\, x^3 y^{-12}\)</div>
      <div class="option-card correct">(E) \(455\, x^3 y^{-11}\)</div>
    </div>
    <div class="verification">
      <strong>Verifikacija:</strong>
      <ul style="margin-top:8px;padding-left:20px;">
        <li>Zbir prvih 3 binomnih koeficijenata: \(1 + 15 + 105 = 121\) ✓</li>
        <li>Stepen od \(x\): \(-15 + \frac{3 \cdot 12}{2} = -15 + 18 = 3\) ✓</li>
        <li>Stepen od \(y\): \(\frac{15 - 48}{3} = -11\) ✓</li>
        <li>Koeficijent: \(\binom{15}{12} \cdot (+1) = 455\) ✓</li>
      </ul>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <h2>Česte greške</h2>
    <ul>
      <li><strong>Zaboravljen minus:</strong> Drugi član binoma je \(-\frac{\sqrt{x}}{y}\), ne \(+\frac{\sqrt{x}}{y}\). Minus se mora uračunati u \((-1)^k\). Za \(k = 12\) (paran) predznak je pozitivan, ali za neparne \(k\) bi bio negativan.</li>
      <li><strong>Pogrešno računanje stepena:</strong> Stepen od \(x\) ima dva doprinosa — iz prvog i iz drugog člana binoma. Lako se pogreši ako se saberu samo stepeni iz jednog od njih. Uvek zapišite oba doprinosa: \(-\!(15{-}k)\) i \(+\!\frac{k}{2}\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koji član istog razvoja sadrži \(y^{-5}\)? (Naći vrednost \(k\) i ceo član.)</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="padding:10px 0;color:#cbd5e1;">Postavite uslov za stepen od \(y\): \(\frac{15 - 4k}{3} = -5\), odakle sledi \(15 - 4k = -15\), pa \(k = \frac{30}{4}\). Da li je \(k\) ceo broj? Razmislite šta to znači.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram — plot exponents of x and y as functions of k
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Margins
    const ml = 70, mr = 30, mt = 50, mb = 60;
    const plotW = W - ml - mr;
    const plotH = H - mt - mb;

    // Data range: k from 0 to 15
    // x exponent: -15 + 3k/2, range: -15 to 7.5
    // y exponent: (15-4k)/3, range: 5 to -15
    const kMin = 0, kMax = 15;
    const expMin = -16, expMax = 8;

    function toCanvasX(k) {
      return ml + (k - kMin) / (kMax - kMin) * plotW;
    }
    function toCanvasY(exp) {
      return mt + (expMax - exp) / (expMax - expMin) * plotH;
    }

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    // Horizontal grid
    for (let e = -16; e <= 8; e += 4) {
      const y = toCanvasY(e);
      ctx.beginPath();
      ctx.moveTo(ml, y);
      ctx.lineTo(W - mr, y);
      ctx.stroke();

      ctx.fillStyle = '#475569';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(e.toString(), ml - 10, y + 4);
    }

    // Vertical grid
    for (let k = 0; k <= 15; k += 3) {
      const x = toCanvasX(k);
      ctx.beginPath();
      ctx.moveTo(x, mt);
      ctx.lineTo(x, H - mb);
      ctx.stroke();

      ctx.fillStyle = '#475569';
      ctx.font = '12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('k=' + k, x, H - mb + 20);
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(ml, mt);
    ctx.lineTo(ml, H - mb);
    ctx.stroke();
    // X-axis (at exp = 0)
    const zeroY = toCanvasY(0);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(ml, zeroY);
    ctx.lineTo(W - mr, zeroY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Plot x exponent line: -15 + 3k/2
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for (let k = 0; k <= 15; k++) {
      const ex = -15 + 3 * k / 2;
      const cx = toCanvasX(k);
      const cy = toCanvasY(ex);
      if (k === 0) ctx.moveTo(cx, cy);
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Plot y exponent line: (15 - 4k)/3
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for (let k = 0; k <= 15; k++) {
      const ey = (15 - 4 * k) / 3;
      const cx = toCanvasX(k);
      const cy = toCanvasY(ey);
      if (k === 0) ctx.moveTo(cx, cy);
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Dots for each integer k on x exponent line
    for (let k = 0; k <= 15; k++) {
      const ex = -15 + 3 * k / 2;
      const cx = toCanvasX(k);
      const cy = toCanvasY(ex);
      ctx.beginPath();
      ctx.arc(cx, cy, 3, 0, Math.PI * 2);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
    }

    // Dots for each integer k on y exponent line
    for (let k = 0; k <= 15; k++) {
      const ey = (15 - 4 * k) / 3;
      const cx = toCanvasX(k);
      const cy = toCanvasY(ey);
      ctx.beginPath();
      ctx.arc(cx, cy, 3, 0, Math.PI * 2);
      ctx.fillStyle = '#a78bfa';
      ctx.fill();
    }

    // Highlight k = 12
    const k12 = 12;
    const exX12 = -15 + 3 * k12 / 2; // = 3
    const exY12 = (15 - 4 * k12) / 3; // = -11
    const cx12 = toCanvasX(k12);

    // Vertical line at k=12
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(cx12, mt);
    ctx.lineTo(cx12, H - mb);
    ctx.stroke();
    ctx.setLineDash([]);

    // Big dot for x^3 at k=12
    const cyX12 = toCanvasY(exX12);
    ctx.beginPath();
    ctx.arc(cx12, cyX12, 7, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Label for x^3
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x\u00B3', cx12 + 12, cyX12 - 4);

    // Big dot for y^-11 at k=12
    const cyY12 = toCanvasY(exY12);
    ctx.beginPath();
    ctx.arc(cx12, cyY12, 7, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Label for y^-11
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y\u207B\u00B9\u00B9', cx12 + 12, cyY12 - 4);

    // k = 12 label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('k = 12', cx12, H - mb + 20);

    // Legend
    const legX = W - mr - 220;
    const legY = mt + 10;

    ctx.fillStyle = 'rgba(15, 23, 42, 0.85)';
    ctx.fillRect(legX - 10, legY - 5, 210, 75);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(legX - 10, legY - 5, 210, 75);

    // x exponent legend
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX, legY + 12);
    ctx.lineTo(legX + 30, legY + 12);
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Stepen od x: -15 + 3k/2', legX + 38, legY + 16);

    // y exponent legend
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(legX, legY + 38);
    ctx.lineTo(legX + 30, legY + 38);
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.fillText('Stepen od y: (15-4k)/3', legX + 38, legY + 42);

    // Target legend
    ctx.beginPath();
    ctx.arc(legX + 15, legY + 60, 5, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillStyle = '#4ade80';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.fillText('Traženi član (k = 12)', legX + 38, legY + 64);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Stepeni od x i y u zavisnosti od k (n = 15)', W / 2, 28);

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Vrednost eksponenta', ml - 45, mt - 10);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Binomni razvoj — nalaženje člana sa x³",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["binomna teorema", "binomni koeficijenti", "opšti član razvoja", "stepeni", "kvadratna jednačina"]
}
BRAINSPARK_META-->