<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neparni šestocifreni brojevi sa susednim ciframa 1 i 2</title>
<script type="text/info" id="logic-scratchpad">
Problem: Broj svih neparnih šestocifrenih brojeva sa međusobno različitim ciframa,
u kojima su 1 i 2 susedne cifre.

Pristup: Tretiramo {1,2} kao blok koji može biti "12" ili "21" (2 orijentacije).
Blok zauzima 2 susedne pozicije od 6. Preostalih 4 pozicija popunjavamo sa 4 različite
cifre iz skupa S = {0, 3, 4, 5, 6, 7, 8, 9} (8 raspoloživih cifara).

Ograničenja:
- Broj mora biti neparan (poslednja cifra je 1, 3, 5, 7 ili 9)
- Prva cifra nije 0 (šestocifren broj)
- Sve cifre su različite

Blok može početi na pozicijama 1, 2, 3, 4, 5 (5 mogućih početnih pozicija).

SLUČAJ 1: Blok na pozicijama 5-6 (blok završava na poslednjoj poziciji)
- "21": poslednja cifra = 1 (neparno) → OK
- "12": poslednja cifra = 2 (parno) → ODBACENO
Samo 1 orijentacija.
Preostale pozicije 1,2,3,4 popunjavamo sa 4 cifre iz S.
Pozicija 1 ≠ 0.
P(8,4) - P(7,3) = 8·7·6·5 - 7·6·5 = 1680 - 210 = 1470
Ukupno: 1 × 1470 = 1470

SLUČAJ 2: Blok na pozicijama 1-2
- "12": pozicija 1 = 1 ≠ 0 → OK
- "21": pozicija 1 = 2 ≠ 0 → OK
Obe orijentacije rade.
Preostale pozicije 3,4,5,6 popunjavamo iz S.
Pozicija 6 mora biti neparna: bira se iz {3,5,7,9} → 4 izbora.
Pozicije 3,4,5 iz preostalih 7 cifara S: P(7,3) = 210.
Nema ograničenja za poziciju 1 (već je iz bloka).
Po orijentaciji: 4 × 210 = 840
Obe orijentacije: 2 × 840 = 1680

SLUČAJ 3: Blok na pozicijama 2-3
Slobodne pozicije: 1, 4, 5, 6.
Pozicija 6 neparna: 4 izbora iz {3,5,7,9}.
Pozicije 1, 4, 5 iz preostalih 7 cifara S, ali pozicija 1 ≠ 0.
P(7,3) - P(6,2) = 210 - 30 = 180
Po orijentaciji: 4 × 180 = 720
Obe orijentacije: 2 × 720 = 1440

SLUČAJ 4: Blok na pozicijama 3-4
Isto kao Slučaj 3: 1440

SLUČAJ 5: Blok na pozicijama 4-5
Isto kao Slučaj 3: 1440

UKUPNO: 1470 + 1680 + 1440 + 1440 + 1440 = 7470

Odgovor: D) 7470
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.15rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card h2 {
  color: #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

.theory-content {
  margin-top: 12px;
  padding: 16px;
  background: rgba(96,165,250,0.05);
  border-radius: 10px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.theory-content li:last-child {
  border-bottom: none;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  border-left: 3px solid transparent;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-number {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #fff;
  margin-top: 2px;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.checkpoint-answer {
  padding: 10px 0 4px 0;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.3rem;
  color: #4ade80;
  margin: 12px 0;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 1px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #4ade80;
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.final-answer .answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin-bottom: 16px;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 1rem;
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  color: #94a3b8;
  transition: all 0.2s;
}

.option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  box-shadow: 0 0 20px rgba(52,211,153,0.15);
}

.verification {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
  padding: 14px;
  background: rgba(51,65,85,0.3);
  border-radius: 10px;
}

.pitfalls-card {
  border-left: 3px solid #e09468;
}

.pitfalls-card h2 {
  color: #e09468;
}

.pitfalls-card ul {
  list-style: none;
  padding-left: 0;
}

.pitfalls-card li {
  padding: 8px 0;
  color: #cbd5e1;
}

.pitfalls-card li::before {
  content: "\26A0 ";
  color: #e09468;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

.challenge-card h2 {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

.case-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 12px;
}

.case-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 8px;
  padding: 10px 14px;
  flex: 1;
  min-width: 120px;
  text-align: center;
}

.case-item .case-label {
  color: #94a3b8;
  font-size: 0.8rem;
  margin-bottom: 4px;
}

.case-item .case-val {
  color: #e2e8f0;
  font-weight: 700;
  font-size: 1.1rem;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 8px 12px; }
  .step-container { flex-direction: column; gap: 8px; }
  .case-summary { flex-direction: column; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Neparni šestocifreni brojevi sa susednim ciframa 1 i 2</h1>
  <p class="subtitle">Kombinatorika - prebrojavanje sa ograničenjima: blok tehnika, različite cifre, parnost</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Broj svih neparnih šestocifrenih brojeva sa <span style="color:#f472b6;font-weight:600;">međusobno različitim ciframa</span>, u kojima su <span style="color:#60a5fa;font-weight:600;">1 i 2 susedne cifre</span>, jednak je:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Broj cifara</div>
        <div class="value">\(6\)</div>
      </div>
      <div class="given-item">
        <div class="label">Parnost</div>
        <div class="value">Neparan</div>
      </div>
      <div class="given-item">
        <div class="label">Cifre</div>
        <div class="value">Sve različite</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">1 i 2 susedne</div>
      </div>
    </div>

    <div class="given-grid" style="margin-top:16px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(7650\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(7440\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(7560\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(7470\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(7680\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Tretiraćemo cifre 1 i 2 kao <strong>nerazdvojiv blok</strong> koji može biti "12" ili "21". Taj blok zauzima dve susedne pozicije, a preostale četiri pozicije popunjavamo ciframa iz skupa \(\{0, 3, 4, 5, 6, 7, 8, 9\}\). Razmatraćemo pet slučajeva prema poziciji bloka, vodeći računa o tome da je broj neparan (poslednja cifra neparna) i šestocifren (prva cifra nije 0).</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i pojmovi</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Permutacije bez ponavljanja:</strong> Broj načina da se izabere i rasporedi \(k\) elemenata od \(n\) različitih: \[ P(n, k) = \frac{n!}{(n-k)!} = n \cdot (n-1) \cdot \ldots \cdot (n-k+1) \]</li>
          <li><strong>Blok tehnika:</strong> Kada dva elementa moraju biti susedna, tretiramo ih kao jedan "super-element" (blok). Blok ima 2 unutrašnje permutacije (npr. "12" i "21").</li>
          <li><strong>Princip komplementa:</strong> Ako je teško direktno brojati sa ograničenjem, ponekad je lakše od ukupnog broja oduzeti one koji ne zadovoljavaju uslov. Ovde koristimo direktan pristup po slučajevima.</li>
          <li><strong>Pravilo zbira:</strong> Ako su slučajevi međusobno isključivi, ukupan broj je zbir brojeva iz svakog slučaja.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz pozicija bloka</h2>
    <canvas id="diagram" width="700" height="420"></canvas>
    <p class="canvas-hint">Pet mogućih pozicija bloka {1,2} u šestocifrenom broju</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>Definišemo blok i raspoložive cifre</h3>
        <p>Cifre 1 i 2 moraju biti susedne. Formiramo blok \(B\) koji može biti:</p>
        <div class="math-block">
          \[ B \in \{12, \; 21\} \quad \text{(2 orijentacije)} \]
        </div>
        <p>Preostale 4 pozicije popunjavamo ciframa iz skupa:</p>
        <div class="math-block">
          \[ S = \{0, 3, 4, 5, 6, 7, 8, 9\} \quad (8 \text{ cifara}) \]
        </div>
        <p class="note">Cifre 1 i 2 su već iskorišćene u bloku, pa preostaje 8 od ukupno 10 cifara.</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>Pozicije bloka</h3>
        <p>Blok zauzima 2 susedne pozicije u šestocifrenom broju. Moguće početne pozicije bloka su:</p>
        <div class="math-block">
          \[ \text{Pozicije bloka: } (1{,}2), \; (2{,}3), \; (3{,}4), \; (4{,}5), \; (5{,}6) \]
        </div>
        <p>Dakle, imamo <strong>5 slučajeva</strong> prema mestu bloka. Za svaki ćemo razmatrati ograničenja za prvu i poslednju poziciju.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zašto blok ne može početi na poziciji 6?</summary>
      <div class="checkpoint-answer">Zato što blok zauzima 2 pozicije, pa ako počne na poziciji 6, trebala bi mu i pozicija 7 - koja ne postoji u šestocifrenom broju.</div>
    </details>

    <div class="step-container" id="step3">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>Slučaj 1: Blok na pozicijama (5, 6)</h3>
        <p>Blok završava na poslednjoj poziciji. Pošto broj mora biti <strong>neparan</strong>, poslednja cifra mora biti neparna:</p>
        <div class="math-block">
          \[ \text{Blok "21"} \Rightarrow \text{poslednja cifra} = 1 \; (\text{neparno}) \; \checkmark \]
          \[ \text{Blok "12"} \Rightarrow \text{poslednja cifra} = 2 \; (\text{parno}) \; \times \]
        </div>
        <p>Samo orijentacija "21" zadovoljava uslov. Preostale pozicije 1, 2, 3, 4 popunjavamo sa 4 cifre iz \(S\) (8 cifara), pri čemu pozicija 1 ne sme biti 0.</p>
        <div class="math-block">
          \[ \text{Svih rasporeda: } P(8, 4) = 8 \cdot 7 \cdot 6 \cdot 5 = 1680 \]
        </div>
        <div class="math-block">
          \[ \text{Kad je pozicija 1 = 0: } P(7, 3) = 7 \cdot 6 \cdot 5 = 210 \]
        </div>
        <div class="math-block">
          \[ \text{Slučaj 1} = 1 \times (1680 - 210) = \mathbf{1470} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>Slučaj 2: Blok na pozicijama (1, 2)</h3>
        <p>Blok počinje na prvoj poziciji. Obe orijentacije daju prvu cifru \(\neq 0\):</p>
        <div class="math-block">
          \[ \text{"12"} \Rightarrow \text{prva cifra} = 1 \neq 0 \; \checkmark \]
          \[ \text{"21"} \Rightarrow \text{prva cifra} = 2 \neq 0 \; \checkmark \]
        </div>
        <p>Preostale pozicije 3, 4, 5, 6 popunjavamo iz \(S\). Pozicija 6 mora biti neparna.</p>
        <p>Neparne cifre u \(S\): \(\{3, 5, 7, 9\}\) - to su <strong>4 izbora</strong> za poziciju 6.</p>
        <div class="math-block">
          \[ \text{Pozicija 6: } 4 \text{ izbora} \]
        </div>
        <p>Pozicije 3, 4, 5 popunjavamo od preostalih 7 cifara iz \(S\):</p>
        <div class="math-block">
          \[ \text{Pozicije 3, 4, 5: } P(7, 3) = 7 \cdot 6 \cdot 5 = 210 \]
        </div>
        <p>Za svaku orijentaciju: \(4 \times 210 = 840\). Za obe orijentacije:</p>
        <div class="math-block">
          \[ \text{Slučaj 2} = 2 \times 840 = \mathbf{1680} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zašto u Slučaju 2 nema ograničenja za poziciju 1?</summary>
      <div class="checkpoint-answer">Zato što je pozicija 1 deo bloka - tu stoji cifra 1 ili 2, a nijedna od njih nije 0. Uslov "prva cifra \(\neq\) 0" je automatski ispunjen.</div>
    </details>

    <div class="step-container" id="step5">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>Slučaj 3: Blok na pozicijama (2, 3)</h3>
        <p>Pozicije 1, 4, 5, 6 su slobodne. Imamo dva ograničenja istovremeno:</p>
        <ul style="padding-left:20px;margin:8px 0;">
          <li>Pozicija 6 mora biti neparna: 4 izbora iz \(\{3, 5, 7, 9\}\)</li>
          <li>Pozicija 1 ne sme biti 0</li>
        </ul>
        <p>Nakon izbora cifre za poziciju 6, preostaje 7 cifara u \(S\) za pozicije 1, 4, 5.</p>
        <div class="math-block">
          \[ \text{Svih rasporeda za pozicije 1, 4, 5: } P(7, 3) = 210 \]
        </div>
        <p>Od toga, oduzimamo one gde je pozicija 1 = 0 (0 je uvek u preostalih 7 jer je neparna cifra na poziciji 6):</p>
        <div class="math-block">
          \[ \text{Kad je pozicija 1 = 0: } P(6, 2) = 6 \cdot 5 = 30 \]
        </div>
        <div class="math-block">
          \[ \text{Validnih rasporeda: } 210 - 30 = 180 \]
        </div>
        <p>Za svaku orijentaciju: \(4 \times 180 = 720\). Za obe:</p>
        <div class="math-block">
          \[ \text{Slučaj 3} = 2 \times 720 = \mathbf{1440} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step6">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>Slučajevi 4 i 5: Blok na pozicijama (3, 4) i (4, 5)</h3>
        <p>U oba slučaja, pozicije 1 i 6 su slobodne (nisu deo bloka). Struktura ograničenja je identična Slučaju 3:</p>
        <ul style="padding-left:20px;margin:8px 0;">
          <li>Pozicija 6 neparna: 4 izbora</li>
          <li>Pozicija 1 \(\neq\) 0: isti princip komplementa</li>
          <li>Preostale 2 slobodne pozicije: iz preostalih cifara</li>
        </ul>
        <p>Račun je isti kao u Slučaju 3:</p>
        <div class="math-block">
          \[ \text{Slučaj 4} = \text{Slučaj 5} = \mathbf{1440} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zašto su Slučajevi 3, 4 i 5 jednaki?</summary>
      <div class="checkpoint-answer">U sva tri slučaja blok je u "unutrašnjosti" broja (ne dodiruje ni prvu ni poslednju poziciju). Zato su ograničenja za slobodne pozicije potpuno ista: pozicija 1 \(\neq\) 0, pozicija 6 neparna, a ostatak se popunjava slobodno. Jedina razlika je gde je blok, ali to ne utiče na brojanje.</div>
    </details>

    <div class="step-container" id="step7">
      <div class="step-number">7</div>
      <div class="step-content">
        <h3>Sabiramo sve slučajeve</h3>
        <p>Svi slučajevi su međusobno isključivi (blok ne može biti na dva mesta istovremeno), pa primenjujemo pravilo zbira:</p>
        <div class="case-summary">
          <div class="case-item">
            <div class="case-label">Blok (5,6)</div>
            <div class="case-val">1470</div>
          </div>
          <div class="case-item">
            <div class="case-label">Blok (1,2)</div>
            <div class="case-val">1680</div>
          </div>
          <div class="case-item">
            <div class="case-label">Blok (2,3)</div>
            <div class="case-val">1440</div>
          </div>
          <div class="case-item">
            <div class="case-label">Blok (3,4)</div>
            <div class="case-val">1440</div>
          </div>
          <div class="case-item">
            <div class="case-label">Blok (4,5)</div>
            <div class="case-val">1440</div>
          </div>
        </div>
        <div class="math-block" style="margin-top:16px;">
          \[ \text{Ukupno} = 1470 + 1680 + 1440 + 1440 + 1440 = \mathbf{7470} \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Problem se razlaže na 5 slučajeva prema poziciji bloka. Tri "srednja" slučaja (blok ne dodiruje krajeve) daju isti rezultat. Posebnu pažnju zahtevaju granični slučajevi:</p>
    <div class="insight-formula">
      \[ \underbrace{1470}_{\text{blok na kraju}} + \underbrace{1680}_{\text{blok na početku}} + \underbrace{3 \times 1440}_{\text{blok u sredini}} = 7470 \]
    </div>
    <p style="color:#94a3b8;">Kad je blok na kraju, samo jedna orijentacija daje neparan broj. Kad je na početku, nema problema sa vodećom nulom. Kad je u sredini, oba ograničenja deluju.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <div class="answer-value">7470</div>
    <div class="options-row">
      <div class="option-card">(A) 7650</div>
      <div class="option-card">(B) 7440</div>
      <div class="option-card">(C) 7560</div>
      <div class="option-card correct">(D) 7470</div>
      <div class="option-card">(E) 7680</div>
    </div>
    <div class="verification">
      <strong>Verifikacija:</strong>
      <ul style="margin-top:8px;padding-left:20px;">
        <li>Slučaj 1 (blok na pozicijama 5-6): samo "21" je neparan, \(1 \times (P(8,4) - P(7,3)) = 1 \times 1470 = 1470\)</li>
        <li>Slučaj 2 (blok na pozicijama 1-2): \(2 \times 4 \times P(7,3) = 2 \times 840 = 1680\)</li>
        <li>Slučajevi 3, 4, 5 (srednje pozicije): \(3 \times 2 \times 4 \times 180 = 3 \times 1440 = 4320\)</li>
        <li>Zbir: \(1470 + 1680 + 4320 = 7470\) \(\checkmark\)</li>
      </ul>
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <h2>Česte greške</h2>
    <ul>
      <li><strong>Zaboraviti da blok na poziciji (5,6) ograničava parnost:</strong> Kada se blok "12" ili "21" nađe na kraju broja, poslednja cifra je fiksirana blokom. Samo "21" daje neparnu poslednju cifru (1). Mnogi studenti računaju obe orijentacije i za ovaj slučaj.</li>
      <li><strong>Ne oduzeti slučajeve sa vodećom nulom:</strong> Kada blok nije na pozicijama (1,2), pozicija 1 je slobodna i može biti 0. Obavezno oduzeti te slučajeve pomoću principa komplementa.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliko ima <em>parnih</em> šestocifrenih brojeva sa međusobno različitim ciframa u kojima su 1 i 2 susedne cifre?</p>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <p style="padding:10px 0;color:#cbd5e1;">Slična analiza, ali sada poslednja cifra mora biti parna. Pazi: kada blok završi na poziciji 6 sa "12", poslednja cifra je 2 (parna) - upravo suprotan slučaj od ovog zadatka. Za parne cifre u skupu \(S = \{0, 3, 4, 5, 6, 7, 8, 9\}\) pazi na cifru 0 jer ona može biti i poslednja (parnost) i prva (vodeća nula).</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Pozicije bloka {1, 2} u šestocifrenom broju', W / 2, 28);

    const cases = [
      { label: 'Blok (1,2)', blockStart: 0, result: '1680', orient: '2 orij.' },
      { label: 'Blok (2,3)', blockStart: 1, result: '1440', orient: '2 orij.' },
      { label: 'Blok (3,4)', blockStart: 2, result: '1440', orient: '2 orij.' },
      { label: 'Blok (4,5)', blockStart: 3, result: '1440', orient: '2 orij.' },
      { label: 'Blok (5,6)', blockStart: 4, result: '1470', orient: '1 orij.' }
    ];

    const cellW = 60;
    const cellH = 40;
    const gap = 4;
    const totalCellW = 6 * cellW + 5 * gap;
    const startX = (W - totalCellW) / 2;
    const startY = 60;
    const rowH = 68;

    cases.forEach((c, row) => {
      const y = startY + row * rowH;

      // Row label
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(c.label, startX - 14, y + cellH / 2 + 5);

      // Draw 6 cells
      for (let i = 0; i < 6; i++) {
        const x = startX + i * (cellW + gap);
        const isBlock = (i === c.blockStart || i === c.blockStart + 1);
        const isFirst = (i === 0);
        const isLast = (i === 5);

        // Cell background
        if (isBlock) {
          ctx.fillStyle = 'rgba(96, 165, 250, 0.2)';
          ctx.strokeStyle = '#60a5fa';
        } else if (isFirst) {
          ctx.fillStyle = 'rgba(244, 114, 182, 0.12)';
          ctx.strokeStyle = '#f472b6';
        } else if (isLast) {
          ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
          ctx.strokeStyle = '#4ade80';
        } else {
          ctx.fillStyle = 'rgba(51, 65, 85, 0.4)';
          ctx.strokeStyle = '#475569';
        }

        ctx.lineWidth = 2;
        const r = 6;
        ctx.beginPath();
        ctx.moveTo(x + r, y);
        ctx.lineTo(x + cellW - r, y);
        ctx.quadraticCurveTo(x + cellW, y, x + cellW, y + r);
        ctx.lineTo(x + cellW, y + cellH - r);
        ctx.quadraticCurveTo(x + cellW, y + cellH, x + cellW - r, y + cellH);
        ctx.lineTo(x + r, y + cellH);
        ctx.quadraticCurveTo(x, y + cellH, x, y + cellH - r);
        ctx.lineTo(x, y + r);
        ctx.quadraticCurveTo(x, y, x + r, y);
        ctx.closePath();
        ctx.fill();
        ctx.stroke();

        // Cell text
        ctx.textAlign = 'center';
        ctx.font = 'bold 14px Segoe UI, sans-serif';
        if (isBlock) {
          ctx.fillStyle = '#60a5fa';
          if (i === c.blockStart) {
            ctx.fillText('1', x + cellW / 2, y + cellH / 2 + 5);
          } else {
            ctx.fillText('2', x + cellW / 2, y + cellH / 2 + 5);
          }
        } else if (isFirst && !isBlock) {
          ctx.fillStyle = '#f472b6';
          ctx.fillText('\u22600', x + cellW / 2, y + cellH / 2 + 5);
        } else if (isLast && !isBlock) {
          ctx.fillStyle = '#4ade80';
          ctx.font = '12px Segoe UI, sans-serif';
          ctx.fillText('nep.', x + cellW / 2, y + cellH / 2 + 5);
        } else {
          ctx.fillStyle = '#94a3b8';
          ctx.fillText('*', x + cellW / 2, y + cellH / 2 + 5);
        }

        // Position number below first row
        if (row === 0) {
          ctx.fillStyle = '#475569';
          ctx.font = '11px Segoe UI, sans-serif';
          ctx.textAlign = 'center';
          ctx.fillText('poz. ' + (i + 1), x + cellW / 2, startY - 10);
        }
      }

      // Result on the right
      ctx.textAlign = 'left';
      const resultX = startX + totalCellW + 14;
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, sans-serif';
      ctx.fillText('= ' + c.result, resultX, y + cellH / 2 + 1);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '11px Segoe UI, sans-serif';
      ctx.fillText(c.orient, resultX, y + cellH / 2 + 16);
    });

    // Legend
    const legendY = startY + 5 * rowH + 10;

    // Block legend
    ctx.fillStyle = 'rgba(96, 165, 250, 0.2)';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.fillRect(startX, legendY, 20, 14);
    ctx.strokeRect(startX, legendY, 20, 14);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Blok {1, 2}', startX + 28, legendY + 12);

    // First pos legend
    ctx.fillStyle = 'rgba(244, 114, 182, 0.12)';
    ctx.strokeStyle = '#f472b6';
    ctx.fillRect(startX + 140, legendY, 20, 14);
    ctx.strokeRect(startX + 140, legendY, 20, 14);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Prva cifra \u22600', startX + 168, legendY + 12);

    // Last pos legend
    ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
    ctx.strokeStyle = '#4ade80';
    ctx.fillRect(startX + 310, legendY, 20, 14);
    ctx.strokeRect(startX + 310, legendY, 20, 14);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Poslednja cifra neparna', startX + 338, legendY + 12);

    // Total sum
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Ukupno: 1470 + 1680 + 1440 + 1440 + 1440 = 7470', W / 2, legendY + 50);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Neparni šestocifreni brojevi sa susednim ciframa 1 i 2",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["kombinatorika", "permutacije", "blok tehnika", "prebrojavanje", "šestocifreni brojevi"]
}
BRAINSPARK_META-->