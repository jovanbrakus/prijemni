<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompozicija funkcija i odreƒëivanje g(x)</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Given f(x/(1-x)) = x/2 for x != 1, and g(x) = f(x) + f(-x) for x != +-1.
  Find g(x).

  Step 1: Find f(x) explicitly.
    Let t = x/(1-x). We need to express x in terms of t.
    t(1-x) = x
    t - tx = x
    t = x + tx = x(1+t)
    x = t/(1+t)

    So f(t) = x/2 = t / (2(1+t))

    Therefore: f(x) = x / (2(1+x))

  Step 2: Verify f(x/(1-x)) = x/2
    f(x/(1-x)) = [x/(1-x)] / (2(1 + x/(1-x)))
    = [x/(1-x)] / (2 * (1-x+x)/(1-x))
    = [x/(1-x)] / (2/(1-x))
    = [x/(1-x)] * [(1-x)/2]
    = x/2 ‚úì

  Step 3: Find f(-x)
    f(-x) = (-x) / (2(1+(-x))) = -x / (2(1-x))

  Step 4: Compute g(x) = f(x) + f(-x)
    g(x) = x/(2(1+x)) + (-x)/(2(1-x))
    = x/(2(1+x)) - x/(2(1-x))

    Factor out x/2:
    = (x/2) * [1/(1+x) - 1/(1-x)]

    Common denominator (1+x)(1-x) = 1-x^2:
    = (x/2) * [(1-x) - (1+x)] / [(1+x)(1-x)]
    = (x/2) * [1-x-1-x] / [1-x^2]
    = (x/2) * [-2x] / [1-x^2]
    = -2x^2 / (2(1-x^2))
    = -x^2 / (1-x^2)
    = x^2 / (x^2-1)

  Step 5: Check against options
    (A) (x^2+1)/(x^2-1) -- NO
    (B) x^2/(1-x^2) = -x^2/(x^2-1) -- wrong sign
    (C) 2x/(1-x^2) -- NO
    (D) 2x/(x^2-1) -- NO
    (E) x^2/(x^2-1) -- YES ‚úì

  Verification with specific value x=2:
    f(2) = 2/(2*3) = 2/6 = 1/3
    f(-2) = -2/(2*(-1)) = -2/(-2) = 1
    g(2) = 1/3 + 1 = 4/3

    Option E: 4/(4-1) = 4/3 ‚úì
    Option B: 4/(1-4) = 4/(-3) = -4/3 ‚úó

  Answer: E
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 14px 20px;
  text-align: center;
  min-width: 80px;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 6px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step-container:hover {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #94a3b8;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.15), rgba(167, 139, 250, 0.15));
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #60a5fa;
  margin-bottom: 12px;
  font-size: 1.3rem;
}

.insight-formula {
  font-size: 1.4rem;
  color: #e2e8f0;
  margin: 16px 0;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(74, 222, 128, 0.12));
  border: 2px solid rgba(52, 211, 153, 0.4);
  border-radius: 16px;
  padding: 32px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 16px;
  font-size: 1.4rem;
}

.final-answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.option-card {
  background: rgba(30, 41, 59, 0.6);
  border: 2px solid #334155;
  border-radius: 12px;
  padding: 12px 24px;
  text-align: center;
  min-width: 90px;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  box-shadow: 0 0 20px rgba(74, 222, 128, 0.15);
}

.option-card .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #4ade80;
}

.option-card .opt-value {
  font-size: 1.1rem;
  font-weight: 600;
  color: #e2e8f0;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.pitfall-box {
  background: rgba(224, 148, 104, 0.08);
  border: 1px solid rgba(224, 148, 104, 0.25);
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 24px;
}

.pitfall-box h3 {
  color: #e09468;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.pitfall-box ul {
  padding-left: 20px;
}

.pitfall-box li {
  color: #94a3b8;
  margin-bottom: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
}

details summary:hover {
  color: #a78bfa;
}

details[open] summary {
  margin-bottom: 10px;
}

.theory-content ul {
  padding-left: 20px;
  list-style: disc;
}

.theory-content li {
  margin-bottom: 10px;
  color: #e2e8f0;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 12px;
  padding: 16px 20px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint p {
  color: #e2e8f0;
  margin-top: 8px;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52, 211, 153, 0.06);
  border-radius: 8px;
  border-left: 3px solid #34d399;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.06);
  border: 1px solid rgba(244, 114, 182, 0.2);
  border-radius: 12px;
  padding: 20px 24px;
  margin-bottom: 24px;
}

.challenge-box h3 {
  color: #f472b6;
  margin-bottom: 10px;
}

.challenge-box p {
  color: #e2e8f0;
  margin-bottom: 8px;
}

.plan-text {
  color: #e2e8f0;
  font-size: 1.05rem;
  line-height: 1.8;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

canvas {
  touch-action: none;
  display: block;
  margin: 0 auto;
  border-radius: 12px;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
  font-style: italic;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }

  .card {
    padding: 18px;
  }

  .given-grid {
    flex-direction: column;
  }

  .options-row {
    flex-direction: column;
    align-items: center;
  }

  .step-container {
    padding: 10px;
  }

  .container {
    padding: 10px;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Kompozicija funkcija i odreƒëivanje g(x)</h1>
  <p class="subtitle">Inverzna supstitucija, kompozicija funkcija i algebarsko upro≈°ƒáavanje razlomaka</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">üìã</span> Postavka zadatka</h2>
    <p>Neka je</p>
    <div class="math-block">
      \[f\!\left(\frac{x}{1-x}\right) = \frac{x}{2} \quad \text{za } x \neq 1\]
    </div>
    <p>i</p>
    <div class="math-block">
      \[g(x) = f(x) + f(-x) \quad \text{za } x \neq \pm 1\]
    </div>
    <p>Tada je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{x^2+1}{x^2-1}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{x^2}{1-x^2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{2x}{1-x^2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{2x}{x^2-1}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{x^2}{x^2-1}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üéØ</span> Plan re≈°avanja</h2>
    <p class="plan-text">
      Poznata nam je vrednost funkcije \(f\) za argument oblika \(\frac{x}{1-x}\). Da bismo na≈°li \(f(x)\),
      uve≈°ƒáemo smenu \(t = \frac{x}{1-x}\) i izraziti \(x\) preko \(t\). Zatim ƒáemo izraƒçunati \(f(x)\) i \(f(-x)\), sabrati ih i uporediti sa ponuƒëenim odgovorima.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i pojmovi</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Kompozicija funkcija:</strong> Ako je \(f(h(x)) = k(x)\), onda se \(f\) mo≈æe naƒái izra≈æavanjem argumenta \(h(x)\) kao slobodne promenljive pomoƒáu inverzne supstitucije.</li>
          <li><strong>Inverzna supstitucija:</strong> Ako je \(t = \frac{x}{1-x}\), tada iz \(t(1-x) = x\) sledi \(t = x(1+t)\), pa je \(x = \frac{t}{1+t}\).</li>
          <li><strong>Sabiranje razlomaka:</strong> \(\frac{a}{b} + \frac{c}{d} = \frac{ad + bc}{bd}\)</li>
          <li><strong>Razlika kvadrata:</strong> \((1+x)(1-x) = 1 - x^2\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üìä</span> Vizuelni prikaz re≈°avanja</h2>
    <canvas id="flowCanvas" width="700" height="340"></canvas>
    <p class="canvas-hint">Dijagram prikazuje tok izraƒçunavanja od poznate relacije do konaƒçnog rezultata</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2 class="card-title"><span class="icon">üìù</span> Re≈°enje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Uvedimo smenu da naƒëemo \(f(x)\)</h3>
        <p>Zadato nam je da je \(f\!\left(\frac{x}{1-x}\right) = \frac{x}{2}\). ≈Ωelimo da saznamo eksplicitan oblik funkcije \(f\). Neka je:</p>
        <div class="math-block">
          \[t = \frac{x}{1-x}\]
        </div>
        <p>Izrazimo \(x\) preko \(t\). Pomno≈æimo obe strane sa \((1-x)\):</p>
        <div class="math-block">
          \[t(1-x) = x\]
        </div>
        <div class="math-block">
          \[t - tx = x\]
        </div>
        <div class="math-block">
          \[t = x + tx = x(1+t)\]
        </div>
        <div class="math-block">
          \[x = \frac{t}{1+t}\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Zapi≈°imo \(f(t)\) eksplicitno</h3>
        <p>Po≈°to je \(f(t) = \frac{x}{2}\), a \(x = \frac{t}{1+t}\), dobijamo:</p>
        <div class="math-block">
          \[f(t) = \frac{1}{2} \cdot \frac{t}{1+t} = \frac{t}{2(1+t)}\]
        </div>
        <p>Zamenom \(t\) sa \(x\) (jer je \(t\) samo naziv promenljive):</p>
        <div class="math-block">
          \[f(x) = \frac{x}{2(1+x)}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Da li \(f\!\left(\frac{x}{1-x}\right) = \frac{x}{2}\)?</summary>
      <p>Zamenom \(x\) sa \(\frac{x}{1-x}\) u formulu \(f(x) = \frac{x}{2(1+x)}\):</p>
      <p>\(f\!\left(\frac{x}{1-x}\right) = \dfrac{\frac{x}{1-x}}{2\left(1 + \frac{x}{1-x}\right)} = \dfrac{\frac{x}{1-x}}{2 \cdot \frac{1}{1-x}} = \dfrac{x}{1-x} \cdot \dfrac{1-x}{2} = \dfrac{x}{2}\) ‚úì</p>
    </details>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izraƒçunajmo \(f(-x)\)</h3>
        <p>U formulu \(f(x) = \frac{x}{2(1+x)}\) uvrstimo \(-x\) umesto \(x\):</p>
        <div class="math-block">
          \[f(-x) = \frac{-x}{2(1+(-x))} = \frac{-x}{2(1-x)}\]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Saberimo \(f(x)\) i \(f(-x)\)</h3>
        <p>Sada formiramo \(g(x) = f(x) + f(-x)\):</p>
        <div class="math-block">
          \[g(x) = \frac{x}{2(1+x)} + \frac{-x}{2(1-x)}\]
        </div>
        <p>Izdvojimo zajedniƒçki faktor \(\frac{x}{2}\):</p>
        <div class="math-block">
          \[g(x) = \frac{x}{2}\left(\frac{1}{1+x} - \frac{1}{1-x}\right)\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Koliko iznosi \(\frac{1}{1+x} - \frac{1}{1-x}\)?</summary>
      <p>Zajedniƒçki imenilac je \((1+x)(1-x) = 1-x^2\):</p>
      <p>\(\dfrac{1}{1+x} - \dfrac{1}{1-x} = \dfrac{(1-x) - (1+x)}{(1+x)(1-x)} = \dfrac{-2x}{1-x^2}\)</p>
    </details>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Svedimo na zajedniƒçki imenilac</h3>
        <p>Zajedniƒçki imenilac razlomaka \(\frac{1}{1+x}\) i \(\frac{1}{1-x}\) je \((1+x)(1-x) = 1 - x^2\):</p>
        <div class="math-block">
          \[\frac{1}{1+x} - \frac{1}{1-x} = \frac{(1-x) - (1+x)}{(1+x)(1-x)}\]
        </div>
        <p>Raspi≈°imo brojilac:</p>
        <div class="math-block">
          \[(1-x) - (1+x) = 1 - x - 1 - x = -2x\]
        </div>
        <p>Dakle:</p>
        <div class="math-block">
          \[\frac{1}{1+x} - \frac{1}{1-x} = \frac{-2x}{1 - x^2}\]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Konaƒçno izraƒçunavanje \(g(x)\)</h3>
        <p>Vratimo se u izraz za \(g(x)\) i pomno≈æimo:</p>
        <div class="math-block">
          \[g(x) = \frac{x}{2} \cdot \frac{-2x}{1 - x^2}\]
        </div>
        <p>Skratimo dvojke u brojiocu:</p>
        <div class="math-block">
          \[g(x) = \frac{-2x^2}{2(1-x^2)} = \frac{-x^2}{1 - x^2}\]
        </div>
        <p>Pomno≈æimo brojilac i imenilac sa \(-1\):</p>
        <div class="math-block">
          \[g(x) = \frac{x^2}{x^2 - 1}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>üîç Proveri sebe: Koliko je \(g(2)\)?</summary>
      <p>Po formuli: \(g(2) = \frac{4}{4-1} = \frac{4}{3}\).</p>
      <p>Direktno: \(f(2) = \frac{2}{2 \cdot 3} = \frac{1}{3}\), \(f(-2) = \frac{-2}{2 \cdot (-1)} = 1\), pa \(g(2) = \frac{1}{3} + 1 = \frac{4}{3}\). ‚úì</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>üí° Kljuƒçni uvid</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">Trik ovog zadatka je inverzna supstitucija: iz date relacije \(f\!\left(\frac{x}{1-x}\right) = \frac{x}{2}\) prvo se naƒëe eksplicitna formula za \(f(x)\), a zatim se saberu \(f(x)\) i \(f(-x)\).</p>
    <div class="insight-formula">
      \[f(x) = \frac{x}{2(1+x)} \implies g(x) = f(x) + f(-x) = \frac{x^2}{x^2 - 1}\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konaƒçan odgovor</h2>
    <div class="final-answer-value">\(g(x) = \dfrac{x^2}{x^2 - 1}\)</div>

    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(\dfrac{x^2+1}{x^2-1}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(\dfrac{x^2}{1-x^2}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(\dfrac{2x}{1-x^2}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(\dfrac{2x}{x^2-1}\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(\dfrac{x^2}{x^2-1}\)</div>
      </div>
    </div>

    <div class="verification-note">
      <strong>Verifikacija:</strong> Za \(x = 2\): \(f(2) = \frac{2}{6} = \frac{1}{3}\), \(f(-2) = \frac{-2}{-2} = 1\),
      pa je \(g(2) = \frac{1}{3} + 1 = \frac{4}{3}\). Po opciji (E): \(\frac{4}{4-1} = \frac{4}{3}\). ‚úì
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h3>‚ö†Ô∏è ƒåeste gre≈°ke</h3>
    <ul>
      <li><strong>Zamena predznaka u imeniocu:</strong> Izraz \(\frac{-x^2}{1-x^2}\) je isto ≈°to i \(\frac{x^2}{x^2-1}\), ali ne i \(\frac{x^2}{1-x^2}\). Pa≈æljivo pratite predznak pri mno≈æenju sa \(-1\). Opcija (B) ima pogre≈°an predznak!</li>
      <li><strong>Pogre≈°no nala≈æenje \(f(x)\):</strong> Ako se smena ne uradi pa≈æljivo i dobije pogre≈°an izraz za \(f(x)\), ceo ostatak re≈°enja ƒáe biti netaƒçan. Obavezno proverite zamenom nazad u poƒçetnu relaciju.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h3>üöÄ Dodatni izazov</h3>
    <p>Ako je \(f\!\left(\frac{x}{1+x}\right) = x^2\) za \(x \neq -1\), odredite \(f(x)\).</p>
    <details>
      <summary>üí° Pomoƒá</summary>
      <p style="color: #e2e8f0; margin-top: 8px;">Primenite isti metod: neka je \(t = \frac{x}{1+x}\), izrazite \(x\) preko \(t\) iz jednaƒçine \(t(1+x) = x\), pa dobijte \(x = \frac{t}{1-t}\) i uvrstite u desnu stranu.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interactivity
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Canvas visualization - flow diagram
  const canvas = document.getElementById('flowCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function drawRoundedRect(x, y, w, h, r, fillColor, strokeColor) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
    if (fillColor) {
      ctx.fillStyle = fillColor;
      ctx.fill();
    }
    if (strokeColor) {
      ctx.strokeStyle = strokeColor;
      ctx.lineWidth = 2;
      ctx.stroke();
    }
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.stroke();

    const angle = Math.atan2(y2 - y1, x2 - x1);
    const headLen = 10;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - Math.PI / 6), y2 - headLen * Math.sin(angle - Math.PI / 6));
    ctx.lineTo(x2 - headLen * Math.cos(angle + Math.PI / 6), y2 - headLen * Math.sin(angle + Math.PI / 6));
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Subtle grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let i = 0; i < W; i += 40) {
      ctx.beginPath();
      ctx.moveTo(i, 0);
      ctx.lineTo(i, H);
      ctx.stroke();
    }
    for (let i = 0; i < H; i += 40) {
      ctx.beginPath();
      ctx.moveTo(0, i);
      ctx.lineTo(W, i);
      ctx.stroke();
    }

    const arrowColor = '#475569';

    // Box definitions: [x, y, w, h, line1, line2, borderColor]
    const boxes = [
      [20, 20, 185, 60, 'Poznato:', 'f(x/(1-x)) = x/2', '#60a5fa'],
      [20, 120, 185, 60, 'Smena: t = x/(1-x)', 'x = t/(1+t)', '#a78bfa'],
      [265, 120, 170, 60, 'Eksplicitno:', 'f(x) = x/(2(1+x))', '#f472b6'],
      [265, 20, 170, 60, 'Zamena -x:', 'f(-x) = -x/(2(1-x))', '#60a5fa'],
      [490, 20, 185, 60, 'Sabiranje:', 'f(x) + f(-x)', '#a78bfa'],
      [490, 120, 185, 60, 'Zajednicki imenilac:', '1/(1+x) - 1/(1-x)', '#94a3b8'],
      [265, 230, 170, 60, 'Upro≈°ƒáavanje:', '-x\u00B2/(1-x\u00B2)', '#a78bfa'],
    ];

    // Final box
    const finalX = 490, finalY = 230, finalW = 185, finalH = 65;

    // Draw boxes
    boxes.forEach(function(b) {
      drawRoundedRect(b[0], b[1], b[2], b[3], 10, 'rgba(30, 41, 59, 0.9)', b[6]);
      ctx.fillStyle = b[6];
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(b[4], b[0] + b[2] / 2, b[1] + 24);
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '600 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(b[5], b[0] + b[2] / 2, b[1] + 45);
    });

    // Final result with glow
    ctx.save();
    ctx.shadowColor = '#4ade80';
    ctx.shadowBlur = 20;
    drawRoundedRect(finalX, finalY, finalW, finalH, 10, 'rgba(74, 222, 128, 0.1)', '#4ade80');
    ctx.restore();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Rezultat:', finalX + finalW / 2, finalY + 26);
    ctx.font = 'bold 17px Segoe UI, system-ui, sans-serif';
    ctx.fillText('g(x) = x\u00B2/(x\u00B2-1)', finalX + finalW / 2, finalY + 50);

    // Arrows: box0 -> box1
    drawArrow(112, 80, 112, 120, arrowColor);
    // box1 -> box2
    drawArrow(205, 150, 265, 150, arrowColor);
    // box2 -> box3
    drawArrow(350, 120, 350, 80, arrowColor);
    // box3 -> box4
    drawArrow(435, 50, 490, 50, arrowColor);
    // box2 -> box4 (via bottom)
    drawArrow(435, 150, 490, 150, arrowColor);
    // box4 -> box5 (down)
    drawArrow(582, 80, 582, 120, arrowColor);
    // box5 -> box6
    drawArrow(490, 165, 435, 245, arrowColor);
    // box6 -> final
    drawArrow(435, 260, 490, 262, arrowColor);

    // Labels on arrows
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('inverz', 130, 102);
    ctx.fillText('uvrsti', 235, 142);
    ctx.fillText('-x \u2192 x', 375, 102);
    ctx.fillText('g(x) =', 462, 42);
    ctx.fillText('f(x)', 462, 142);
    ctx.fillText('\u00B7 x/2', 458, 220);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kompozicija funkcija i odreƒëivanje g(x)",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kompozicija funkcija", "inverzna supstitucija", "algebarski razlomci", "funkcije"]
}
BRAINSPARK_META-->