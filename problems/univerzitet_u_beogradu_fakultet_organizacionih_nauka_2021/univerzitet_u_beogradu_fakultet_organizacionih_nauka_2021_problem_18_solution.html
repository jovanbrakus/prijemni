<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Maksimalna zapremina pravilne šestostrane prizme</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script type="text/info" id="logic-scratchpad">
  Problem: Maksimalna zapremina prave pravilne šestostrane prizme površine P.

  A regular hexagonal prism has base side length a and height h.

  Step 1: Formulas for the regular hexagonal prism
    - Area of regular hexagon with side a: B = (3*sqrt(3)/2) * a^2
    - Lateral surface: L = 6 * a * h (six rectangles, each a x h)
    - Total surface area: P = 2B + L = 3*sqrt(3)*a^2 + 6ah
    - Volume: V = B * h = (3*sqrt(3)/2) * a^2 * h

  Step 2: Express h in terms of a and P
    P = 3*sqrt(3)*a^2 + 6ah
    6ah = P - 3*sqrt(3)*a^2
    h = (P - 3*sqrt(3)*a^2) / (6a)

    Constraint: h > 0 => P > 3*sqrt(3)*a^2 => a^2 < P/(3*sqrt(3)) => a < sqrt(P/(3*sqrt(3)))

  Step 3: Volume as function of a
    V(a) = (3*sqrt(3)/2) * a^2 * (P - 3*sqrt(3)*a^2) / (6a)
         = (3*sqrt(3)) / (2*6) * a * (P - 3*sqrt(3)*a^2)
         = (sqrt(3)/4) * a * (P - 3*sqrt(3)*a^2)
         = (sqrt(3)/4) * (Pa - 3*sqrt(3)*a^3)

  Step 4: Find critical point
    V'(a) = (sqrt(3)/4) * (P - 9*sqrt(3)*a^2)
    Set V'(a) = 0:
    P - 9*sqrt(3)*a^2 = 0
    a^2 = P / (9*sqrt(3))

    Check V''(a) = (sqrt(3)/4) * (-18*sqrt(3)*a) = -(18*3)/(4) * a < 0 for a > 0 => maximum

  Step 5: Find h at maximum
    h = (P - 3*sqrt(3) * P/(9*sqrt(3))) / (6 * sqrt(P/(9*sqrt(3))))
      = (P - P/3) / (6 * sqrt(P/(9*sqrt(3))))
      = (2P/3) / (6 * sqrt(P/(9*sqrt(3))))

  Step 6: Compute V_max
    V_max = (sqrt(3)/4) * a * (P - 3*sqrt(3)*a^2)
    where a = sqrt(P/(9*sqrt(3))) and P - 3*sqrt(3)*a^2 = P - P/3 = 2P/3

    V_max = (sqrt(3)/4) * sqrt(P/(9*sqrt(3))) * (2P/3)

    Let's simplify sqrt(P/(9*sqrt(3))):
    = sqrt(P) / (3 * 3^(1/4))
    = sqrt(P) / (3^(5/4))

    V_max = (sqrt(3)/4) * sqrt(P)/(3^(5/4)) * (2P/3)
          = (sqrt(3) * 2P * sqrt(P)) / (4 * 3 * 3^(5/4))
          = (2 * 3^(1/2) * P * sqrt(P)) / (12 * 3^(5/4))
          = (2 * P * sqrt(P)) / (12 * 3^(5/4 - 1/2))
          = (2 * P * sqrt(P)) / (12 * 3^(3/4))
          = (P * sqrt(P)) / (6 * 3^(3/4))

    Now: 1/3^(3/4) = 3^(-3/4) = 3^(1/4) / 3^1 = 3^(1/4) / 3

    V_max = P * sqrt(P) / (6 * 3^(3/4))
          = P * sqrt(P) * 3^(1/4) / (6 * 3)
          = (3^(1/4) / 18) * P * sqrt(P)

    This is answer (D): sqrt[4]{3}/18 * P * sqrt(P)

  Verification:
    3^(1/4) = fourth root of 3 ≈ 1.3161
    For P = 1: V_max ≈ 1.3161 / 18 ≈ 0.07312

    Direct check with a^2 = 1/(9*sqrt(3)):
    a ≈ sqrt(0.06415) ≈ 0.25328
    h = (1 - 1/3)/(6*0.25328) = 0.6667/1.5197 ≈ 0.43872
    V = (3*sqrt(3)/2) * 0.06415 * 0.43872 = 2.5981 * 0.02815 ≈ 0.07313 ✓

  Answer: (D) sqrt[4]{3}/18 * P * sqrt(P)
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 14px 18px;
  min-width: 120px;
  flex: 1;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
}

.answer-option {
  text-align: center;
  min-width: 140px;
  cursor: default;
}

.step-container {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
}

.step-container:hover {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-container.active {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-badge {
  min-width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  font-weight: 700;
  color: #0f172a;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
  list-style: none;
}

details summary::-webkit-details-marker {
  display: none;
}

details summary::before {
  content: '\25B6';
  display: inline-block;
  margin-right: 8px;
  transition: transform 0.3s;
  font-size: 0.8rem;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 16px;
  background: rgba(96, 165, 250, 0.05);
  border-radius: 10px;
  margin-top: 8px;
}

details .detail-content ul {
  list-style: none;
  padding: 0;
}

details .detail-content li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
  color: #cbd5e1;
}

details .detail-content li:last-child {
  border-bottom: none;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(167, 139, 250, 0.1));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h3 {
  color: #a78bfa;
  font-size: 1.2rem;
  margin-bottom: 12px;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.08));
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 16px;
  font-size: 1.4rem;
}

.final-answer-value {
  font-size: 1.6rem;
  color: #4ade80;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 16px 0;
}

.option-card {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  min-width: 130px;
  text-align: center;
  transition: all 0.3s ease;
}

.option-card.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.1);
  box-shadow: 0 0 20px rgba(52, 211, 153, 0.15);
}

.option-card .opt-label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #34d399;
  font-weight: 700;
}

.pitfall-box {
  background: rgba(224, 148, 104, 0.08);
  border: 1px solid rgba(224, 148, 104, 0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.pitfall-box h3 {
  color: #e09468;
  margin-bottom: 12px;
}

.pitfall-box ul {
  list-style: none;
  padding: 0;
}

.pitfall-box li {
  padding: 6px 0;
  color: #cbd5e1;
}

.pitfall-box li::before {
  content: '\26A0';
  margin-right: 8px;
  color: #e09468;
}

.canvas-wrapper {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 24px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.canvas-wrapper canvas {
  border-radius: 10px;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.verification {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 12px;
  padding: 12px;
  background: rgba(51, 65, 85, 0.3);
  border-radius: 8px;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.05);
  border: 1px solid rgba(244, 114, 182, 0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}

.challenge-box h3 {
  color: #f472b6;
  margin-bottom: 10px;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.5rem;
  }

  .card {
    padding: 18px;
  }

  .given-grid {
    flex-direction: column;
  }

  .given-item {
    min-width: auto;
  }

  .step-container {
    flex-direction: column;
    gap: 8px;
  }

  .options-row {
    flex-direction: column;
    align-items: center;
  }

  .option-card {
    width: 100%;
    max-width: 280px;
  }
}
</style>
</head>
<body>
<div class="container">

  <h1>Maksimalna zapremina pravilne šestostrane prizme</h1>
  <p class="subtitle">Optimizacija zapremine primenom diferencijalnog računa uz ograničenje površine</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</h2>
    <p>Maksimalna zapremina prave pravilne šestostrane prizme površine \(P\) iznosi:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{\sqrt[4]{3}}{9}\, P\sqrt{P}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{\sqrt{3}}{18}\, P\sqrt{P}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{\sqrt{3}}{9}\, P\sqrt{P}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{\sqrt[4]{3}}{18}\, P\sqrt{P}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{1}{18}\, P\sqrt{P}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2 class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</h2>
    <p>Izrazićemo zapreminu prizme kao funkciju jedne promenljive (stranice osnove \(a\)) koristeći uslov da je ukupna površina jednaka \(P\). Zatim ćemo naći maksimum te funkcije pomoću prvog izvoda.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>&#128208; Ključne formule i teoreme</summary>
      <div class="detail-content">
        <ul>
          <li><strong>Površina pravilnog šestougla</strong> sa stranicom \(a\): \(\displaystyle B = \frac{3\sqrt{3}}{2}\,a^2\)</li>
          <li><strong>Omotač prizme:</strong> \(M = O \cdot h\), gde je \(O\) obim osnove. Za pravilni šestougao: \(O = 6a\), pa je \(M = 6ah\)</li>
          <li><strong>Ukupna površina prizme:</strong> \(P = 2B + M = 3\sqrt{3}\,a^2 + 6ah\)</li>
          <li><strong>Zapremina prizme:</strong> \(\displaystyle V = B \cdot h = \frac{3\sqrt{3}}{2}\,a^2 \cdot h\)</li>
          <li><strong>Uslov za ekstremum:</strong> \(V'(a) = 0\), uz proveru \(V''(a) < 0\) za maksimum</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- 3D Visual Aid -->
  <div class="canvas-wrapper">
    <h2 class="card-title" style="justify-content: center;"><span class="icon">&#128302;</span> 3D vizualizacija pravilne šestostrane prizme</h2>
    <div id="three-container" style="width: 100%; max-width: 700px; height: 450px; margin: 0 auto; border-radius: 10px; overflow: hidden;"></div>
    <p class="canvas-hint">Prevucite mišem ili prstom da rotirate prizmu. Koristite točkić za zum.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#128736;</span> Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Definišemo promenljive</h3>
        <p>Neka je \(a\) dužina stranice pravilnog šestougla u osnovi, a \(h\) visina prizme.</p>
        <p>Površina pravilnog šestougla sa stranicom \(a\) je:</p>
        <div class="math-block">
          \[ B = \frac{3\sqrt{3}}{2}\,a^2 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Ukupna površina prizme</h3>
        <p>Prizma ima dve baze i omotač. Omotač čini 6 pravougaonika dimenzija \(a \times h\):</p>
        <div class="math-block">
          \[ P = 2B + 6ah = 3\sqrt{3}\,a^2 + 6ah \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Izrazimo \(h\) preko \(a\) i \(P\)</h3>
        <p>Iz jednačine za površinu izolujemo visinu:</p>
        <div class="math-block">
          \[ 6ah = P - 3\sqrt{3}\,a^2 \]
        </div>
        <div class="math-block">
          \[ h = \frac{P - 3\sqrt{3}\,a^2}{6a} \]
        </div>
        <p class="note">Uslov: \(h > 0\), dakle mora biti \(P > 3\sqrt{3}\,a^2\), tj. \(a < \sqrt{\dfrac{P}{3\sqrt{3}}}\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Kolika je zapremina pravilne šestostrane prizme?</summary>
      <div class="detail-content">
        <p>\(\displaystyle V = B \cdot h = \frac{3\sqrt{3}}{2}\,a^2 \cdot h\)</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Zapremina kao funkcija od \(a\)</h3>
        <p>Uvrštavamo izraz za \(h\) u formulu za zapreminu:</p>
        <div class="math-block">
          \[ V(a) = \frac{3\sqrt{3}}{2}\,a^2 \cdot \frac{P - 3\sqrt{3}\,a^2}{6a} \]
        </div>
        <p>Skraćujemo \(a\):</p>
        <div class="math-block">
          \[ V(a) = \frac{3\sqrt{3}}{12}\,a\,(P - 3\sqrt{3}\,a^2) \]
        </div>
        <div class="math-block">
          \[ V(a) = \frac{\sqrt{3}}{4}\,a\,(P - 3\sqrt{3}\,a^2) \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Raspisujemo zapreminu</h3>
        <p>Množimo zagrade:</p>
        <div class="math-block">
          \[ V(a) = \frac{\sqrt{3}}{4}\left(Pa - 3\sqrt{3}\,a^3\right) \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Nalazimo prvi izvod i izjednačavamo sa nulom</h3>
        <p>Diferenciramo po \(a\):</p>
        <div class="math-block">
          \[ V'(a) = \frac{\sqrt{3}}{4}\left(P - 9\sqrt{3}\,a^2\right) \]
        </div>
        <p>Uslov za ekstremum: \(V'(a) = 0\)</p>
        <div class="math-block">
          \[ P - 9\sqrt{3}\,a^2 = 0 \]
        </div>
        <div class="math-block">
          \[ a^2 = \frac{P}{9\sqrt{3}} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Kako znamo da je ovo maksimum, a ne minimum?</summary>
      <div class="detail-content">
        <p>Drugi izvod je \(V''(a) = \dfrac{\sqrt{3}}{4} \cdot (-18\sqrt{3}\,a) = -\dfrac{18 \cdot 3}{4}\,a < 0\) za \(a > 0\).</p>
        <p>Pošto je \(V''(a) < 0\), ovo je zaista maksimum.</p>
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Uvrštavamo u izraz za zapreminu</h3>
        <p>Za \(a^2 = \dfrac{P}{9\sqrt{3}}\), računamo vrednost \(P - 3\sqrt{3}\,a^2\):</p>
        <div class="math-block">
          \[ P - 3\sqrt{3} \cdot \frac{P}{9\sqrt{3}} = P - \frac{P}{3} = \frac{2P}{3} \]
        </div>
        <p>Sada uvrštavamo u zapreminu:</p>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt{3}}{4} \cdot a \cdot \frac{2P}{3} = \frac{\sqrt{3}\,P}{6}\cdot a \]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Izrazimo \(a\) preko \(P\)</h3>
        <p>Iz \(a^2 = \dfrac{P}{9\sqrt{3}}\) sledi:</p>
        <div class="math-block">
          \[ a = \sqrt{\frac{P}{9\sqrt{3}}} = \frac{\sqrt{P}}{3 \cdot 3^{1/4}} = \frac{\sqrt{P}}{3^{5/4}} \]
        </div>
        <p class="note">Objašnjenje: \(\sqrt{9\sqrt{3}} = \sqrt{9 \cdot 3^{1/2}} = \sqrt{3^2 \cdot 3^{1/2}} = \sqrt{3^{5/2}} = 3^{5/4}\)</p>
      </div>
    </div>

    <!-- Step 9 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">9</div>
      <div class="step-content">
        <h3>Konačan račun za \(V_{\max}\)</h3>
        <p>Uvrštavamo \(a = \dfrac{\sqrt{P}}{3^{5/4}}\) u izraz za zapreminu:</p>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt{3}\,P}{6} \cdot \frac{\sqrt{P}}{3^{5/4}} \]
        </div>
        <div class="math-block">
          \[ V_{\max} = \frac{3^{1/2} \cdot P\sqrt{P}}{6 \cdot 3^{5/4}} \]
        </div>
        <p>Sređujemo eksponente od 3:</p>
        <div class="math-block">
          \[ \frac{3^{1/2}}{3^{5/4}} = 3^{1/2 - 5/4} = 3^{2/4 - 5/4} = 3^{-3/4} = \frac{1}{3^{3/4}} \]
        </div>
        <div class="math-block">
          \[ V_{\max} = \frac{P\sqrt{P}}{6 \cdot 3^{3/4}} \]
        </div>
      </div>
    </div>

    <!-- Step 10 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">10</div>
      <div class="step-content">
        <h3>Sređivanje u oblik iz odgovora</h3>
        <p>Preoblikujemo \(\dfrac{1}{3^{3/4}}\) tako da u brojiocu bude \(\sqrt[4]{3}\):</p>
        <div class="math-block">
          \[ \frac{1}{3^{3/4}} = \frac{3^{1/4}}{3^{3/4} \cdot 3^{1/4}} = \frac{3^{1/4}}{3^{4/4}} = \frac{\sqrt[4]{3}}{3} \]
        </div>
        <p>Konačno:</p>
        <div class="math-block">
          \[ V_{\max} = \frac{\sqrt[4]{3}}{6 \cdot 3}\,P\sqrt{P} = \frac{\sqrt[4]{3}}{18}\,P\sqrt{P} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>&#9989; Proveri sebe: Koliki je odnos \(h/a\) pri maksimalnoj zapremini?</summary>
      <div class="detail-content">
        <p>Iz \(h = \dfrac{P - 3\sqrt{3}\,a^2}{6a}\) i \(3\sqrt{3}\,a^2 = \dfrac{P}{3}\):</p>
        <p>\(\displaystyle h = \frac{2P/3}{6a} = \frac{P}{9a}\), a \(a^2 = \dfrac{P}{9\sqrt{3}}\) pa \(P = 9\sqrt{3}\,a^2\).</p>
        <p>\(\displaystyle h = \frac{9\sqrt{3}\,a^2}{9a} = \sqrt{3}\,a\)</p>
        <p>Dakle, pri maksimalnoj zapremini važi \(h = \sqrt{3}\,a\).</p>
      </div>
    </details>

  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h3>&#128161; Ključni uvid</h3>
    <p>Racionalizacijom razlomka sa stepenima od trojke dobijamo elegantan rezultat:</p>
    <div class="math-block" style="font-size: 1.3rem; text-align: center;">
      \[ V_{\max} = \frac{\sqrt[4]{3}}{18}\,P\sqrt{P} \]
    </div>
    <p style="color: #94a3b8; margin-top: 8px;">Optimalni odnos visine i stranice osnove je \(h = \sqrt{3}\,a\), što znači da je visina prizme jednaka prečniku upisanog kruga osnove!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>&#127919; Konačan odgovor</h2>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div>\(\dfrac{\sqrt[4]{3}}{9}\,P\sqrt{P}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div>\(\dfrac{\sqrt{3}}{18}\,P\sqrt{P}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\(\dfrac{\sqrt{3}}{9}\,P\sqrt{P}\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(D) &#10004;</div>
        <div>\(\dfrac{\sqrt[4]{3}}{18}\,P\sqrt{P}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div>\(\dfrac{1}{18}\,P\sqrt{P}\)</div>
      </div>
    </div>
    <div class="final-answer-value">
      \(\displaystyle V_{\max} = \frac{\sqrt[4]{3}}{18}\,P\sqrt{P}\)
    </div>
    <div class="verification">
      <strong>Verifikacija:</strong> Za \(P = 1\): \(V_{\max} = \dfrac{\sqrt[4]{3}}{18} \approx \dfrac{1{,}3161}{18} \approx 0{,}0731\). Direktnim izračunavanjem sa \(a \approx 0{,}2533\) i \(h \approx 0{,}4387\) dobijamo \(V \approx 0{,}0731\). &#10004;
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h3>Česte greške</h3>
    <ul>
      <li>Pogrešno računanje površine pravilnog šestougla -- pravilni šestougao se sastoji od 6 jednakostraničnih trouglova, pa je \(B = 6 \cdot \frac{\sqrt{3}}{4}a^2 = \frac{3\sqrt{3}}{2}a^2\), a ne \(B = \frac{\sqrt{3}}{4}a^2\) (to je jednakostranični trougao) ili \(3\sqrt{3}\,a^2\) (dvostruko više).</li>
      <li>Greška pri sređivanju stepena od 3: lako je pomešati \(\sqrt{3}\) i \(\sqrt[4]{3}\). Ključ: \(\dfrac{3^{1/2}}{3^{5/4}} = 3^{-3/4}\), a \(3^{-3/4} = \dfrac{3^{1/4}}{3}\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <h3>&#127775; Izazov za razmišljanje</h3>
    <p>Kako bi se promenio rezultat da umesto pravilne šestostrane prizme imamo pravilnu <em>četvorostranu</em> prizmu (kocku kao poseban slučaj)? Da li je maksimalna zapremina veća ili manja za istu površinu \(P\)?</p>
    <details>
      <summary>&#128161; Nagoveštaj</summary>
      <div class="detail-content">
        <p>Za pravilnu četvorostranu prizmu: \(P = 2a^2 + 4ah\), \(V = a^2h\). Izrazi \(h\) iz \(P\), napravi \(V(a)\) i nađi maksimum. Uporedi sa rezultatom za šestostranu prizmu -- šestougao je "okrugliji" od kvadrata, pa bolje koristi zapreminu.</p>
      </div>
    </details>
  </div>

</div>

<!-- Three.js 3D Visualization Script -->
<script>
(() => {
  const container = document.getElementById('three-container');
  if (!container || typeof THREE === 'undefined') return;

  const width = container.clientWidth;
  const height = 450;

  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x0c1222);

  const camera = new THREE.PerspectiveCamera(45, width / height, 0.1, 100);
  camera.position.set(4, 3, 5);
  camera.lookAt(0, 0, 0);

  const renderer = new THREE.WebGLRenderer({ antialias: true });
  renderer.setSize(width, height);
  renderer.setPixelRatio(window.devicePixelRatio);
  container.appendChild(renderer.domElement);

  // Lighting
  const ambientLight = new THREE.AmbientLight(0x404060, 0.6);
  scene.add(ambientLight);
  const directionalLight = new THREE.DirectionalLight(0x60a5fa, 0.8);
  directionalLight.position.set(5, 8, 5);
  scene.add(directionalLight);
  const pointLight = new THREE.PointLight(0xa78bfa, 0.5, 20);
  pointLight.position.set(-3, 4, -2);
  scene.add(pointLight);

  // Create hexagonal prism
  const a = 1.2; // side length
  const h = 1.2 * Math.sqrt(3); // optimal h = sqrt(3) * a

  // Hexagonal prism geometry
  const shape = new THREE.Shape();
  for (let i = 0; i < 6; i++) {
    const angle = (Math.PI / 3) * i - Math.PI / 6;
    const x = a * Math.cos(angle);
    const y = a * Math.sin(angle);
    if (i === 0) shape.moveTo(x, y);
    else shape.lineTo(x, y);
  }
  shape.closePath();

  const extrudeSettings = {
    steps: 1,
    depth: h,
    bevelEnabled: false
  };

  const geometry = new THREE.ExtrudeGeometry(shape, extrudeSettings);
  geometry.translate(0, 0, -h / 2);

  // Rotate so the prism stands upright (extrude goes along Z, we want Y)
  geometry.rotateX(-Math.PI / 2);

  const material = new THREE.MeshPhongMaterial({
    color: 0x1e40af,
    transparent: true,
    opacity: 0.35,
    side: THREE.DoubleSide,
    shininess: 80
  });

  const prism = new THREE.Mesh(geometry, material);
  scene.add(prism);

  // Wireframe edges
  const edgesGeo = new THREE.EdgesGeometry(geometry);
  const edgesMat = new THREE.LineBasicMaterial({ color: 0x60a5fa, linewidth: 2 });
  const edges = new THREE.LineSegments(edgesGeo, edgesMat);
  scene.add(edges);

  // Add labels using sprites
  function makeTextSprite(text, color) {
    const canvas2 = document.createElement('canvas');
    canvas2.width = 256;
    canvas2.height = 128;
    const ctx = canvas2.getContext('2d');
    ctx.font = 'bold 48px Segoe UI, sans-serif';
    ctx.fillStyle = color;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(text, 128, 64);
    const texture = new THREE.CanvasTexture(canvas2);
    const mat = new THREE.SpriteMaterial({ map: texture, transparent: true });
    const sprite = new THREE.Sprite(mat);
    sprite.scale.set(1.2, 0.6, 1);
    return sprite;
  }

  // Label 'a' on a base edge
  const labelA = makeTextSprite('a', '#4ade80');
  const angle0 = -Math.PI / 6;
  const angle1 = -Math.PI / 6 + Math.PI / 3;
  labelA.position.set(
    a * (Math.cos(angle0) + Math.cos(angle1)) / 2,
    -h / 2 - 0.15,
    a * (Math.sin(angle0) + Math.sin(angle1)) / 2
  );
  scene.add(labelA);

  // Label 'h' on a vertical edge
  const labelH = makeTextSprite('h', '#f472b6');
  labelH.position.set(a * Math.cos(angle0) + 0.3, 0, a * Math.sin(angle0));
  scene.add(labelH);

  // Draw dashed line for height indicator
  const dashMat = new THREE.LineDashedMaterial({ color: 0xf472b6, dashSize: 0.1, gapSize: 0.05 });
  const dashGeo = new THREE.BufferGeometry().setFromPoints([
    new THREE.Vector3(a * Math.cos(angle0) + 0.15, -h/2, a * Math.sin(angle0)),
    new THREE.Vector3(a * Math.cos(angle0) + 0.15, h/2, a * Math.sin(angle0))
  ]);
  const dashLine = new THREE.LineSegments(dashGeo, dashMat);
  dashLine.computeLineDistances();
  scene.add(dashLine);

  // Axis helper (subtle)
  const axisLen = 2.5;
  const axMat = new THREE.LineBasicMaterial({ color: 0x334155 });
  function addAxis(x1, y1, z1, x2, y2, z2) {
    const g = new THREE.BufferGeometry().setFromPoints([
      new THREE.Vector3(x1, y1, z1), new THREE.Vector3(x2, y2, z2)
    ]);
    scene.add(new THREE.Line(g, axMat));
  }
  addAxis(-axisLen, 0, 0, axisLen, 0, 0);
  addAxis(0, -axisLen, 0, 0, axisLen, 0);
  addAxis(0, 0, -axisLen, 0, 0, axisLen);

  // Ground grid
  const gridHelper = new THREE.GridHelper(6, 12, 0x1e293b, 0x1e293b);
  gridHelper.position.y = -h / 2;
  scene.add(gridHelper);

  // Simple orbit controls (manual implementation)
  let isDragging = false;
  let prevX = 0, prevY = 0;
  let rotX = 0.4, rotY = 0.5;
  let dist = 7;

  function updateCamera() {
    camera.position.x = dist * Math.sin(rotY) * Math.cos(rotX);
    camera.position.y = dist * Math.sin(rotX);
    camera.position.z = dist * Math.cos(rotY) * Math.cos(rotX);
    camera.lookAt(0, 0, 0);
  }
  updateCamera();

  const canvasEl = renderer.domElement;
  canvasEl.style.touchAction = 'none';

  canvasEl.addEventListener('pointerdown', (e) => {
    isDragging = true;
    prevX = e.clientX;
    prevY = e.clientY;
    canvasEl.setPointerCapture(e.pointerId);
  });

  canvasEl.addEventListener('pointermove', (e) => {
    if (!isDragging) return;
    const dx = e.clientX - prevX;
    const dy = e.clientY - prevY;
    rotY += dx * 0.008;
    rotX += dy * 0.008;
    rotX = Math.max(-Math.PI / 2.5, Math.min(Math.PI / 2.5, rotX));
    prevX = e.clientX;
    prevY = e.clientY;
    updateCamera();
  });

  canvasEl.addEventListener('pointerup', () => { isDragging = false; });
  canvasEl.addEventListener('pointercancel', () => { isDragging = false; });

  canvasEl.addEventListener('wheel', (e) => {
    e.preventDefault();
    dist += e.deltaY * 0.005;
    dist = Math.max(3, Math.min(15, dist));
    updateCamera();
  }, { passive: false });

  // Auto-rotate when not dragging
  let autoRotate = true;
  canvasEl.addEventListener('pointerdown', () => { autoRotate = false; });

  function animate() {
    requestAnimationFrame(animate);
    if (autoRotate) {
      rotY += 0.003;
      updateCamera();
    }
    renderer.render(scene, camera);
  }
  animate();

  // Resize handling
  window.addEventListener('resize', () => {
    const w = container.clientWidth;
    camera.aspect = w / height;
    camera.updateProjectionMatrix();
    renderer.setSize(w, height);
  });

  // Step click highlighting
  document.querySelectorAll('.step-container').forEach(step => {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>

</div>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Maksimalna zapremina pravilne šestostrane prizme",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["optimizacija", "zapremina", "prizma", "pravilni šestougao", "diferencijalni račun", "ekstremne vrednosti"]
}
BRAINSPARK_META-->