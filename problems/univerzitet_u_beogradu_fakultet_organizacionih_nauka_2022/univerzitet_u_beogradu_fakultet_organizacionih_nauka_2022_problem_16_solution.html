<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zapremina rotacionog tela iz kvadrata sa isecenim trouglovima</title>

  <script type="text/info" id="logic-scratchpad">
    Problem: Kvadrat ABCD, stranica a=2 cm. Iz njega su isecena dva trougla:
      - Trougao 1: temena B i sredista stranica AB i BC
      - Trougao 2: temena D i sredista stranica CD i DA
    Rotacija preostalog dela oko prave koja sadrzi stranicu AB.
    Trazimo zapreminu nastalog rotacionog tela.

    Koordinatni sistem: AB je duz ose y (osa rotacije = x=0).
      A = (0, 0), B = (0, 2), C = (2, 2), D = (2, 0)

    Sredista stranica:
      M_AB = srediste AB = (0, 1)
      M_BC = srediste BC = (1, 2)
      M_CD = srediste CD = (2, 1)
      M_DA = srediste DA = (1, 0)

    Trougao 1: B(0,2), M_AB(0,1), M_BC(1,2)
      Ivice: x=0 (od y=1 do y=2), y=2 (od x=0 do x=1), i hipotenuza x=y-1 (od (0,1) do (1,2))
      Unutrasnjost pri visini y (1<=y<=2): x od 0 do y-1

    Trougao 2: D(2,0), M_CD(2,1), M_DA(1,0)
      Ivice: x=2 (od y=0 do y=1), y=0 (od x=1 do x=2), i hipotenuza x=y+1 (od (1,0) do (2,1))
      Unutrasnjost pri visini y (0<=y<=1): x od y+1 do 2

    Preostali deo (sestostrougao):
      Temena: A(0,0), M_AB(0,1), M_BC(1,2), C(2,2), M_CD(2,1), M_DA(1,0)

    Pri rotaciji oko y-ose (x=0), koristimo metod diskova/prstenova:
      V = pi * integral (R_spolj^2 - R_unut^2) dy

    Za 0 <= y <= 1:
      Preostali deo: x od 0 do y+1
      R_unut = 0, R_spolj = y + 1

      V1 = pi * integral od 0 do 1 od (y+1)^2 dy
         = pi * [(y+1)^3 / 3] od 0 do 1
         = pi * (8/3 - 1/3) = 7*pi/3

    Za 1 <= y <= 2:
      Preostali deo: x od y-1 do 2
      R_unut = y - 1, R_spolj = 2

      V2 = pi * integral od 1 do 2 od (4 - (y-1)^2) dy
      Smena u = y-1:
         = pi * integral od 0 do 1 od (4 - u^2) du
         = pi * [4u - u^3/3] od 0 do 1
         = pi * (4 - 1/3) = 11*pi/3

    Ukupna zapremina:
      V = V1 + V2 = 7*pi/3 + 11*pi/3 = 18*pi/3 = 6*pi cm^3

    Odgovor: V = 6*pi cm^3, sto je opcija C).

    Verifikacija: Zapremina punog kvadrata rotiranog oko AB bi bila cilindar radijusa 2
    i visine 2, tj. pi*4*2 = 8*pi. Isecanjem dva trougla se zapravo smanjuje za 2*pi,
    sto daje 6*pi. Alternativna provera:
    - Pun cilindar: pi*R^2*h = pi*4*2 = 8*pi
    - Trougao 2 (D, M_CD, M_DA) rotiran oko ose: ovaj trougao ima tacke daleko od ose,
      pa mu je zapremina rotacije znacajna.
    - Trougao 1 (B, M_AB, M_BC) rotiran oko ose: ovaj trougao ima jednu ivicu NA osi,
      pa mu je zapremina rotacije mala.

    Preciznija provera:
    Zapremina rotacije Trougla 1 (temena na osi):
      = pi * integral od 1 do 2 od (y-1)^2 dy = pi * [u^3/3] od 0 do 1 = pi/3

    Zapremina rotacije Trougla 2 (daleko od ose):
      = pi * integral od 0 do 1 od (4 - (y+1)^2) dy
      = pi * integral od 0 do 1 od (4 - y^2 - 2y - 1) dy
      = pi * integral od 0 do 1 od (3 - 2y - y^2) dy
      = pi * [3y - y^2 - y^3/3] od 0 do 1
      = pi * (3 - 1 - 1/3) = 5*pi/3

    Pun cilindar - Trougao 1 - Trougao 2 = 8*pi - pi/3 - 5*pi/3
    = 8*pi - 6*pi/3 = 8*pi - 2*pi = 6*pi  âœ“

    Odgovor se poklapa: 6*pi cm^3, opcija C.
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.7;
      padding: 24px 20px 60px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 1rem;
      margin-bottom: 32px;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title .icon {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .problem-statement .card-title .icon { background: #1d4ed8; color: #93c5fd; }

    .problem-text {
      font-size: 1.05rem;
      color: #e2e8f0;
      margin-bottom: 18px;
    }

    .given-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    .given-item {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 10px 16px;
      min-width: 100px;
    }

    .given-item .label {
      font-size: 0.78rem;
      color: #94a3b8;
      margin-bottom: 2px;
    }

    .given-item .value {
      font-weight: 700;
      color: #e2e8f0;
      font-size: 1rem;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 1px solid #475569;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 0.95rem;
      color: #cbd5e1;
      cursor: default;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .given-item.answer-option .label {
      font-weight: 600;
    }

    .plan-card .card-title .icon { background: #0e7490; color: #67e8f9; }

    .plan-text {
      color: #94a3b8;
      font-style: italic;
    }

    details {
      border: 1px solid #334155;
      border-radius: 10px;
      overflow: hidden;
      margin: 15px 0;
    }

    summary {
      background: #1e293b;
      padding: 12px 18px;
      cursor: pointer;
      font-weight: 600;
      color: #a78bfa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    summary::-webkit-details-marker { display: none; }

    summary::before {
      content: '\25B6';
      font-size: 0.7rem;
      transition: transform 0.2s;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .details-body {
      background: #0f172a;
      padding: 16px 20px;
      border-top: 1px solid #334155;
    }

    .formula-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      margin-top: 8px;
    }

    .formula-box {
      background: #1e293b;
      border-left: 3px solid #60a5fa;
      border-radius: 8px;
      padding: 12px 16px;
      color: #93c5fd;
      font-size: 0.95rem;
    }

    .formula-box .formula-label {
      color: #94a3b8;
      font-size: 0.82rem;
      margin-bottom: 4px;
    }

    canvas {
      display: block;
      width: 100%;
      border-radius: 10px;
      touch-action: none;
      cursor: default;
    }

    .canvas-hint {
      color: #64748b;
      font-size: 0.82rem;
      margin-top: 8px;
    }

    .steps-container { display: flex; flex-direction: column; gap: 20px; }

    .step {
      display: flex;
      gap: 18px;
      align-items: flex-start;
      cursor: pointer;
      padding: 4px;
      border-left: 3px solid transparent;
      transition: border-color 0.2s, background 0.2s;
      border-radius: 4px;
    }

    .step:hover, .step.active {
      border-left-color: #34d399;
      background: rgba(52, 211, 153, 0.04);
    }

    .step-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1d4ed8, #7c3aed);
      color: #fff;
      font-weight: 800;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .step-content { flex: 1; }

    .step-title {
      font-weight: 700;
      font-size: 1rem;
      color: #c4b5fd;
      margin-bottom: 6px;
    }

    .step-text {
      color: #cbd5e1;
      margin-bottom: 10px;
    }

    .math-block {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 14px 18px;
      margin: 10px 0;
      overflow-x: auto;
    }

    .math-block.highlight {
      border-left: 3px solid #60a5fa;
    }

    .math-block.result {
      border-left: 3px solid #34d399;
    }

    .checkpoint {
      margin: 15px 0;
    }

    .checkpoint summary {
      color: #34d399;
      font-size: 0.9rem;
    }

    .checkpoint .details-body {
      font-size: 0.9rem;
      color: #94a3b8;
    }

    .key-insight {
      background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
      border: 1px solid #4f46e5;
      border-radius: 14px;
      padding: 20px 26px;
      margin-bottom: 22px;
    }

    .key-insight .insight-title {
      font-size: 1rem;
      font-weight: 700;
      color: #a78bfa;
      margin-bottom: 10px;
    }

    .key-insight .insight-formula {
      text-align: center;
      font-size: 1.3rem;
      padding: 10px;
    }

    .final-answer {
      background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.08));
      border: 2px solid #34d399;
      border-radius: 14px;
      padding: 24px 28px;
      margin-bottom: 22px;
      text-align: center;
    }

    .final-answer .answer-label {
      font-size: 0.9rem;
      color: #94a3b8;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .final-answer .answer-value {
      font-size: 1.8rem;
      font-weight: 800;
      color: #4ade80;
      margin-bottom: 12px;
    }

    .final-answer .answer-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 14px;
    }

    .final-answer .option-pill {
      padding: 6px 18px;
      border-radius: 20px;
      font-size: 0.95rem;
      font-weight: 600;
      border: 1px solid #475569;
      color: #94a3b8;
      background: #1e293b;
    }

    .final-answer .option-pill.correct {
      border-color: #34d399;
      color: #4ade80;
      background: rgba(52,211,153,0.15);
    }

    .verification {
      margin-top: 14px;
      font-size: 0.88rem;
      color: #94a3b8;
      font-style: italic;
    }

    .pitfall-card {
      border-left: 3px solid #e09468;
    }

    .pitfall-card .card-title {
      color: #e09468;
    }

    .pitfall-card .card-title .icon {
      background: #78350f;
      color: #e09468;
    }

    .pitfall-item {
      color: #cbd5e1;
      margin-bottom: 8px;
      padding-left: 16px;
      position: relative;
    }

    .pitfall-item::before {
      content: '\26A0';
      position: absolute;
      left: 0;
      color: #e09468;
      font-size: 0.8rem;
    }

    .challenge-card .card-title .icon { background: #4c1d95; color: #c4b5fd; }

    @media (max-width: 700px) {
      h1 { font-size: 1.5rem; }
      .card { padding: 16px 18px; }
      .given-grid { flex-direction: column; }
      .step { flex-direction: column; gap: 10px; }
      .formula-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>
<div class="container">

  <!-- a. Naslov i podnaslov -->
  <h1>Zapremina rotacionog tela iz kvadrata</h1>
  <p class="subtitle">Stereometrija - rotacija ravne figure oko ose, metod diskova i prstenova</p>

  <!-- b. Tekst zadatka -->
  <div class="card problem-statement">
    <div class="card-title">
      <span class="icon">Z</span>
      Tekst zadatka
    </div>
    <p class="problem-text">
      Iz kvadrata \(ABCD\), cija stranica je duzine <span style="color:#60a5fa;font-weight:700;">2 cm</span>,
      isecena su dva trougla cija su temena tacka \(B\) i sredista stranica \(AB\) i \(BC\),
      odnosno tacka \(D\) i sredista stranica \(CD\) i \(DA\).
      Zapremina tela nastalog rotacijom preostalog dela kvadrata oko prave koja sadrzi stranicu \(AB\) jednaka je:
    </p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Stranica kvadrata</div>
        <div class="value">\(a = 2\) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Osa rotacije</div>
        <div class="value">Prava \(AB\)</div>
      </div>
    </div>
    <div class="given-grid" style="margin-top:12px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(4\pi\) cm\(^3\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(5\pi\) cm\(^3\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(6\pi\) cm\(^3\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(7\pi\) cm\(^3\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(8\pi\) cm\(^3\)</div>
      </div>
    </div>
  </div>

  <!-- c. Plan -->
  <div class="card plan-card">
    <div class="card-title">
      <span class="icon">P</span>
      Plan resavanja
    </div>
    <p class="plan-text">
      Postavicemo koordinatni sistem tako da se stranica \(AB\) poklapa sa \(y\)-osom. Odredimo preostalu figuru
      nakon isecanja dva trougla, a zatim izracunamo zapreminu rotacionog tela metodom diskova (prstenova),
      integraljenjem po \(y\).
    </p>
  </div>

  <!-- d. Teorija -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="details-body">
        <div class="formula-grid">
          <div class="formula-box">
            <div class="formula-label">Zapremina rotacionog tela (metod diskova)</div>
            \[V = \pi \int_a^b [R(y)]^2\,dy\]
          </div>
          <div class="formula-box">
            <div class="formula-label">Zapremina rotacionog tela (metod prstenova)</div>
            \[V = \pi \int_a^b \left[R_{\text{spolj}}^2(y) - R_{\text{unut}}^2(y)\right]dy\]
          </div>
          <div class="formula-box">
            <div class="formula-label">Zapremina cilindra</div>
            \[V_{\text{cil}} = \pi r^2 h\]
          </div>
          <div class="formula-box">
            <div class="formula-label">Zapremina kupe</div>
            \[V_{\text{kupe}} = \frac{1}{3}\pi r^2 h\]
          </div>
        </div>
      </div>
    </details>
  </div>

  <!-- e. Vizuelni prikaz -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#4c1d95;color:#c4b5fd;">D</span>
      Dijagram
    </div>
    <canvas id="mainCanvas" width="800" height="500"></canvas>
    <p class="canvas-hint">Leva strana prikazuje kvadrat sa isecenim trouglovima. Desna strana prikazuje poprecne preseke rotacionog tela.</p>
  </div>

  <!-- f. Korak po korak -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#1d4ed8;color:#93c5fd;">R</span>
      Resenje korak po korak
    </div>

    <div class="steps-container">

      <!-- Korak 1 -->
      <div class="step">
        <div class="step-badge">1</div>
        <div class="step-content">
          <h3 class="step-title">Postavljanje koordinatnog sistema</h3>
          <p class="step-text">
            Stranica \(AB\) je osa rotacije. Postavimo je duz \(y\)-ose, tako da:
          </p>
          <div class="math-block highlight">
            \[\begin{align}
              A &= (0,\,0) \\
              B &= (0,\,2) \\
              C &= (2,\,2) \\
              D &= (2,\,0)
            \end{align}\]
          </div>
          <p class="step-text">
            Osa rotacije je \(y\)-osa, tj. prava \(x = 0\).
          </p>
        </div>
      </div>

      <!-- Korak 2 -->
      <div class="step">
        <div class="step-badge">2</div>
        <div class="step-content">
          <h3 class="step-title">Odredjivanje sredista stranica</h3>
          <p class="step-text">
            Nalazimo sredista onih stranica koje su temena isecenih trouglova:
          </p>
          <div class="math-block highlight">
            \[\begin{align}
              M_{AB} &= \text{srediste } AB = (0,\,1) \\
              M_{BC} &= \text{srediste } BC = (1,\,2) \\
              M_{CD} &= \text{srediste } CD = (2,\,1) \\
              M_{DA} &= \text{srediste } DA = (1,\,0)
            \end{align}\]
          </div>
        </div>
      </div>

      <!-- Korak 3 -->
      <div class="step">
        <div class="step-badge">3</div>
        <div class="step-content">
          <h3 class="step-title">Identifikacija isecenih trouglova</h3>
          <p class="step-text">
            <strong>Trougao 1</strong> ima temena: \(B(0,2)\), \(M_{AB}(0,1)\) i \(M_{BC}(1,2)\).
            Ovaj trougao lezi u gornje-levom uglu kvadrata.
          </p>
          <p class="step-text">
            <strong>Trougao 2</strong> ima temena: \(D(2,0)\), \(M_{CD}(2,1)\) i \(M_{DA}(1,0)\).
            Ovaj trougao lezi u donje-desnom uglu kvadrata.
          </p>
          <p class="step-text">
            Preostala figura (sestostrougao) ima temena:
          </p>
          <div class="math-block highlight">
            \[A(0,0) \to M_{AB}(0,1) \to M_{BC}(1,2) \to C(2,2) \to M_{CD}(2,1) \to M_{DA}(1,0) \to A\]
          </div>
        </div>
      </div>

      <!-- Checkpoint 1 -->
      <details class="checkpoint">
        <summary>Proveri sebe: Kolika je povrsina svakog isecenog trougla?</summary>
        <div class="details-body">
          Svaki iseceni trougao je pravougli jednakokraki sa katetama duzine 1 cm.
          Povrsina svakog je \(\frac{1}{2} \cdot 1 \cdot 1 = \frac{1}{2}\) cm\(^2\).
          Ukupno iseceno: 1 cm\(^2\), preostala povrsina: \(4 - 1 = 3\) cm\(^2\).
        </div>
      </details>

      <!-- Korak 4 -->
      <div class="step">
        <div class="step-badge">4</div>
        <div class="step-content">
          <h3 class="step-title">Jednacine granicnih linija</h3>
          <p class="step-text">
            Hipotenuza Trougla 1 ide od \(M_{AB}(0,1)\) do \(M_{BC}(1,2)\). Njena jednacina je:
          </p>
          <div class="math-block highlight">
            \[x = y - 1 \quad (1 \le y \le 2)\]
          </div>
          <p class="step-text">
            Hipotenuza Trougla 2 ide od \(M_{DA}(1,0)\) do \(M_{CD}(2,1)\). Njena jednacina je:
          </p>
          <div class="math-block highlight">
            \[x = y + 1 \quad (0 \le y \le 1)\]
          </div>
        </div>
      </div>

      <!-- Korak 5 -->
      <div class="step">
        <div class="step-badge">5</div>
        <div class="step-content">
          <h3 class="step-title">Poprecni preseci za rotaciju (0 &le; y &le; 1)</h3>
          <p class="step-text">
            U opsegu \(0 \le y \le 1\), preostala figura se prostire od \(x = 0\) (leva ivica, na osi rotacije)
            do \(x = y + 1\) (hipotenuza Trougla 2).
          </p>
          <p class="step-text">
            Pri rotaciji oko \(y\)-ose nastaje pun disk (jer leva granica dodiruje osu):
          </p>
          <div class="math-block highlight">
            \[R(y) = y + 1, \quad R_{\text{unut}} = 0\]
          </div>
          <div class="math-block result">
            \[V_1 = \pi \int_0^1 (y+1)^2\,dy\]
          </div>
        </div>
      </div>

      <!-- Korak 6 -->
      <div class="step">
        <div class="step-badge">6</div>
        <div class="step-content">
          <h3 class="step-title">Izracunavanje \(V_1\)</h3>
          <p class="step-text">
            Racunamo integral:
          </p>
          <div class="math-block highlight">
            \[\begin{align}
              V_1 &= \pi \int_0^1 (y+1)^2\,dy \\[6pt]
                  &= \pi \left[\frac{(y+1)^3}{3}\right]_0^1 \\[6pt]
                  &= \pi \left(\frac{2^3}{3} - \frac{1^3}{3}\right) \\[6pt]
                  &= \pi \left(\frac{8}{3} - \frac{1}{3}\right)
            \end{align}\]
          </div>
          <div class="math-block result">
            \[V_1 = \frac{7\pi}{3}\]
          </div>
        </div>
      </div>

      <!-- Checkpoint 2 -->
      <details class="checkpoint">
        <summary>Proveri sebe: Kakav oblik nastaje pri rotaciji u opsegu \(0 \le y \le 1\)?</summary>
        <div class="details-body">
          Nastaje zarubljena kupa (frustum) jer se poluprecnik menja linearno od \(R = 1\) (pri \(y = 0\)) do \(R = 2\) (pri \(y = 1\)).
          Zapremina zarubljene kupe: \(\frac{\pi h}{3}(R_1^2 + R_1 R_2 + R_2^2) = \frac{\pi}{3}(1 + 2 + 4) = \frac{7\pi}{3}\). Poklapaju se!
        </div>
      </details>

      <!-- Korak 7 -->
      <div class="step">
        <div class="step-badge">7</div>
        <div class="step-content">
          <h3 class="step-title">Poprecni preseci za rotaciju (1 &le; y &le; 2)</h3>
          <p class="step-text">
            U opsegu \(1 \le y \le 2\), preostala figura se prostire od \(x = y - 1\) (hipotenuza Trougla 1)
            do \(x = 2\) (desna ivica kvadrata).
          </p>
          <p class="step-text">
            Pri rotaciji nastaje prsten (annulus) sa unutrasnjim i spoljasnjim poluprecnikom:
          </p>
          <div class="math-block highlight">
            \[R_{\text{spolj}} = 2, \quad R_{\text{unut}} = y - 1\]
          </div>
          <div class="math-block result">
            \[V_2 = \pi \int_1^2 \left[4 - (y-1)^2\right]\,dy\]
          </div>
        </div>
      </div>

      <!-- Korak 8 -->
      <div class="step">
        <div class="step-badge">8</div>
        <div class="step-content">
          <h3 class="step-title">Izracunavanje \(V_2\)</h3>
          <p class="step-text">
            Uvodimo smenu \(u = y - 1\), pa je \(du = dy\). Granice: \(u = 0\) do \(u = 1\).
          </p>
          <div class="math-block highlight">
            \[\begin{align}
              V_2 &= \pi \int_0^1 (4 - u^2)\,du \\[6pt]
                  &= \pi \left[4u - \frac{u^3}{3}\right]_0^1 \\[6pt]
                  &= \pi \left(4 - \frac{1}{3}\right)
            \end{align}\]
          </div>
          <div class="math-block result">
            \[V_2 = \frac{11\pi}{3}\]
          </div>
        </div>
      </div>

      <!-- Korak 9 -->
      <div class="step">
        <div class="step-badge">9</div>
        <div class="step-content">
          <h3 class="step-title">Ukupna zapremina</h3>
          <p class="step-text">
            Sabiramo oba dela:
          </p>
          <div class="math-block highlight">
            \[\begin{align}
              V &= V_1 + V_2 \\[6pt]
                &= \frac{7\pi}{3} + \frac{11\pi}{3} \\[6pt]
                &= \frac{18\pi}{3}
            \end{align}\]
          </div>
          <div class="math-block result">
            \[\boxed{V = 6\pi \text{ cm}^3}\]
          </div>
        </div>
      </div>

      <!-- Checkpoint 3 -->
      <details class="checkpoint">
        <summary>Proveri sebe: Da li odgovor ima smisla?</summary>
        <div class="details-body">
          <p>Zapremina cilindra nastalog rotacijom punog kvadrata bila bi \(\pi \cdot 2^2 \cdot 2 = 8\pi\) cm\(^3\).</p>
          <p>Iseceni delovi smanjuju zapreminu za \(\frac{\pi}{3} + \frac{5\pi}{3} = 2\pi\) cm\(^3\).</p>
          <p>Dakle: \(8\pi - 2\pi = 6\pi\) cm\(^3\). Poklapaju se!</p>
        </div>
      </details>

    </div>
  </div>

  <!-- g. Kljucni uvid -->
  <div class="key-insight">
    <div class="insight-title">Kljucni uvid</div>
    <p style="color:#cbd5e1;margin-bottom:10px;">
      Dva isecena trougla su simetricno postavljena u odnosu na centar kvadrata, ali imaju
      veoma razlicite doprinose zapremini rotacije. Trougao blizu ose (Trougao 1) oduzima samo
      \(\frac{\pi}{3}\) cm\(^3\), dok Trougao 2 (daleko od ose) oduzima citavih \(\frac{5\pi}{3}\) cm\(^3\)
      - pet puta vise! Sto je figura dalje od ose rotacije, veci je njen doprinos zapremini.
    </p>
    <div class="insight-formula">
      \[V = \frac{7\pi}{3} + \frac{11\pi}{3} = 6\pi \text{ cm}^3\]
    </div>
  </div>

  <!-- h. Konacni odgovor -->
  <div class="final-answer">
    <div class="answer-label">Konacni odgovor</div>
    <div class="answer-value">\(V = 6\pi\) cm\(^3\)</div>
    <div class="answer-options">
      <span class="option-pill">(A) \(4\pi\)</span>
      <span class="option-pill">(B) \(5\pi\)</span>
      <span class="option-pill correct">(C) \(6\pi\)</span>
      <span class="option-pill">(D) \(7\pi\)</span>
      <span class="option-pill">(E) \(8\pi\)</span>
    </div>
    <p class="verification">
      Verifikacija: Pun cilindar ima zapreminu \(8\pi\). Rotacije isecenih trouglova daju
      \(\frac{\pi}{3}\) i \(\frac{5\pi}{3}\), ukupno \(2\pi\). Razlika: \(8\pi - 2\pi = 6\pi\). Odgovor se poklapa.
    </p>
  </div>

  <!-- i. Ceste greske -->
  <div class="card pitfall-card">
    <div class="card-title">
      <span class="icon">!</span>
      Ceste greske
    </div>
    <div class="pitfall-item">
      Zaboravljanje da se u drugom opsegu (\(1 \le y \le 2\)) formira prsten, a ne pun disk.
      Trougao 1 se nalazi na osi rotacije, pa stvara rupu u sredini tela.
    </div>
    <div class="pitfall-item" style="margin-top:10px;">
      Mesanje spoljasnjeg i unutrasnjeg poluprecnika. Kljucno je da \(R_{\text{spolj}}\) uvek odgovara
      tacki najudaljenikoj od ose, a \(R_{\text{unut}}\) najblizoj.
    </div>
  </div>

  <!-- j. Dodatni izazov -->
  <div class="card challenge-card">
    <div class="card-title">
      <span class="icon">+</span>
      Dodatni izazov
    </div>
    <p class="step-text">
      Kolika bi bila zapremina ako se ista preostala figura rotira oko prave koja sadrzi stranicu \(CD\)
      umesto oko \(AB\)?
    </p>
    <details style="margin:15px 0;">
      <summary>Nagovesaj</summary>
      <div class="details-body">
        Primetite simetriju problema. Sada bi Trougao 2 bio blizu ose rotacije (i oduzimao malu zapreminu),
        a Trougao 1 daleko od nje (i oduzimao veliku zapreminu). Zbog centralne simetrije isecenih trouglova
        u kvadratu, rezultat bi bio isti: \(6\pi\) cm\(^3\).
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const W = canvas.width;
    const H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // --- LEFT SIDE: 2D view of the square with cut triangles ---
    const leftCx = W * 0.25;
    const topY = 60;
    const sqSize = 280;
    const sq = {
      x: leftCx - sqSize / 2,
      y: topY,
      w: sqSize,
      h: sqSize
    };

    // In our coordinate system: A=(0,0)->bottom-left, B=(0,2)->top-left, C=(2,2)->top-right, D=(2,0)->bottom-right
    // On canvas: y-axis is flipped, so A=bottom-left of square, B=top-left
    function toLeft(px, py) {
      return {
        x: sq.x + (px / 2) * sqSize,
        y: sq.y + sqSize - (py / 2) * sqSize
      };
    }

    // Draw grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = 0; i <= 4; i++) {
      const gx = sq.x + (i / 4) * sqSize;
      ctx.beginPath(); ctx.moveTo(gx, sq.y); ctx.lineTo(gx, sq.y + sqSize); ctx.stroke();
      const gy = sq.y + (i / 4) * sqSize;
      ctx.beginPath(); ctx.moveTo(sq.x, gy); ctx.lineTo(sq.x + sqSize, gy); ctx.stroke();
    }

    // Rotation axis (AB = left side of square)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 3;
    ctx.setLineDash([8, 4]);
    const axA = toLeft(0, 0);
    const axB = toLeft(0, 2);
    ctx.beginPath(); ctx.moveTo(axA.x, axA.y); ctx.lineTo(axB.x, axB.y); ctx.stroke();
    ctx.setLineDash([]);

    // Label axis
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('osa rotacije', axA.x - 45, (axA.y + axB.y) / 2);

    // Remaining hexagonal shape
    const pA = toLeft(0, 0);
    const pMab = toLeft(0, 1);
    const pMbc = toLeft(1, 2);
    const pC = toLeft(2, 2);
    const pMcd = toLeft(2, 1);
    const pMda = toLeft(1, 0);

    // Fill remaining shape
    ctx.fillStyle = 'rgba(96, 165, 250, 0.15)';
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pMab.x, pMab.y);
    ctx.lineTo(pMbc.x, pMbc.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.lineTo(pMcd.x, pMcd.y);
    ctx.lineTo(pMda.x, pMda.y);
    ctx.closePath();
    ctx.fill();

    // Outline remaining shape
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pMab.x, pMab.y);
    ctx.lineTo(pMbc.x, pMbc.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.lineTo(pMcd.x, pMcd.y);
    ctx.lineTo(pMda.x, pMda.y);
    ctx.closePath();
    ctx.stroke();

    // Draw cut triangles (hatched)
    function drawCutTriangle(p1, p2, p3) {
      ctx.fillStyle = 'rgba(239, 68, 68, 0.12)';
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.lineTo(p3.x, p3.y);
      ctx.closePath();
      ctx.fill();

      ctx.strokeStyle = '#ef4444';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.lineTo(p3.x, p3.y);
      ctx.closePath();
      ctx.stroke();
      ctx.setLineDash([]);
    }

    const pB = toLeft(0, 2);
    const pD = toLeft(2, 0);
    drawCutTriangle(pB, pMab, pMbc);
    drawCutTriangle(pD, pMcd, pMda);

    // Square outline (faint)
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.strokeRect(sq.x, sq.y, sqSize, sqSize);

    // Labels
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    const labelOffset = 18;

    ctx.fillStyle = '#4ade80';
    ctx.fillText('A', pA.x - labelOffset, pA.y + labelOffset);
    ctx.fillText('B', pB.x - labelOffset, pB.y - 8);
    ctx.fillText('C', pC.x + labelOffset, pC.y - 8);
    ctx.fillText('D', pD.x + labelOffset, pD.y + labelOffset);

    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.fillText('M_AB', pMab.x - 30, pMab.y + 4);
    ctx.fillText('M_BC', pMbc.x + 4, pMbc.y - 12);
    ctx.fillText('M_CD', pMcd.x + 30, pMcd.y + 4);
    ctx.fillText('M_DA', pMda.x + 4, pMda.y + 18);

    // Dot at each vertex
    const dots = [pA, pB, pC, pD, pMab, pMbc, pMcd, pMda];
    dots.forEach((p, i) => {
      ctx.fillStyle = i < 4 ? '#4ade80' : '#fbbf24';
      ctx.beginPath();
      ctx.arc(p.x, p.y, 4, 0, Math.PI * 2);
      ctx.fill();
    });

    // --- RIGHT SIDE: Cross-section view showing rotation profile ---
    const rightCx = W * 0.7;
    const profileBottom = sq.y + sqSize;
    const profileTop = sq.y;
    const profileH = sqSize;
    const profileW = 200;
    const profileLeft = rightCx - profileW / 2;

    // Title
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Profil rotacionog tela', rightCx, profileTop - 20);

    // y-axis (rotation axis)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 3]);
    ctx.beginPath();
    ctx.moveTo(profileLeft, profileTop - 10);
    ctx.lineTo(profileLeft, profileBottom + 10);
    ctx.stroke();
    ctx.setLineDash([]);

    function toProfile(x, y) {
      return {
        x: profileLeft + (x / 2.5) * profileW,
        y: profileBottom - (y / 2) * profileH
      };
    }

    // Draw the right-side profile of the rotation body
    // For 0<=y<=1: outer boundary x = y+1, inner = 0
    // For 1<=y<=2: outer = 2, inner = y-1

    // Right profile line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    // Bottom: from (0,0) along outer edge
    let pt = toProfile(0, 0);
    ctx.moveTo(pt.x, pt.y);
    // Outer right: y from 0 to 1, x = y+1
    for (let y = 0; y <= 1; y += 0.02) {
      pt = toProfile(y + 1, y);
      ctx.lineTo(pt.x, pt.y);
    }
    // y from 1 to 2, x = 2
    for (let y = 1; y <= 2; y += 0.02) {
      pt = toProfile(2, y);
      ctx.lineTo(pt.x, pt.y);
    }
    ctx.stroke();

    // Inner profile line (only for 1<=y<=2)
    ctx.strokeStyle = '#ef4444';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    pt = toProfile(0, 1);
    ctx.moveTo(pt.x, pt.y);
    for (let y = 1; y <= 2; y += 0.02) {
      pt = toProfile(y - 1, y);
      ctx.lineTo(pt.x, pt.y);
    }
    ctx.stroke();
    ctx.setLineDash([]);

    // Fill regions
    // Region 1: 0<=y<=1 (disk)
    ctx.fillStyle = 'rgba(96, 165, 250, 0.1)';
    ctx.beginPath();
    pt = toProfile(0, 0);
    ctx.moveTo(pt.x, pt.y);
    for (let y = 0; y <= 1; y += 0.02) {
      pt = toProfile(y + 1, y);
      ctx.lineTo(pt.x, pt.y);
    }
    pt = toProfile(0, 1);
    ctx.lineTo(pt.x, pt.y);
    ctx.closePath();
    ctx.fill();

    // Region 2: 1<=y<=2 (washer)
    ctx.fillStyle = 'rgba(167, 139, 250, 0.1)';
    ctx.beginPath();
    for (let y = 1; y <= 2; y += 0.02) {
      pt = toProfile(y - 1, y);
      ctx.lineTo(pt.x, pt.y);
    }
    pt = toProfile(2, 2);
    ctx.lineTo(pt.x, pt.y);
    for (let y = 2; y >= 1; y -= 0.02) {
      pt = toProfile(2, y);
      ctx.lineTo(pt.x, pt.y);
    }
    ctx.closePath();
    ctx.fill();

    // Labels on right side
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    pt = toProfile(1.5, 0.3);
    ctx.fillText('V\u2081: disk', pt.x + 8, pt.y);
    ctx.fillText('R = y+1', pt.x + 8, pt.y + 16);

    ctx.fillStyle = '#a78bfa';
    pt = toProfile(1.8, 1.7);
    ctx.fillText('V\u2082: prsten', pt.x + 8, pt.y);
    ctx.fillText('R_spolj = 2', pt.x + 8, pt.y + 16);

    ctx.fillStyle = '#ef4444';
    pt = toProfile(0.3, 1.5);
    ctx.fillText('R_unut = y\u22121', pt.x + 8, pt.y);

    // y-axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    pt = toProfile(0, 0);
    ctx.fillText('y=0', pt.x - 6, pt.y + 4);
    pt = toProfile(0, 1);
    ctx.fillText('y=1', pt.x - 6, pt.y + 4);
    pt = toProfile(0, 2);
    ctx.fillText('y=2', pt.x - 6, pt.y + 4);

    // Horizontal dashed lines at y=0, y=1, y=2
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    [0, 1, 2].forEach(y => {
      const p1 = toProfile(0, y);
      const p2 = toProfile(2.4, y);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    });
    ctx.setLineDash([]);

    // Key dots on profile
    const keyPts = [
      { x: 1, y: 0, color: '#4ade80', lbl: '(1,0)' },
      { x: 2, y: 1, color: '#4ade80', lbl: '(2,1)' },
      { x: 2, y: 2, color: '#4ade80', lbl: '(2,2)' },
      { x: 0, y: 1, color: '#fbbf24', lbl: '(0,1)' },
      { x: 1, y: 2, color: '#fbbf24', lbl: '(1,2)' }
    ];
    keyPts.forEach(kp => {
      pt = toProfile(kp.x, kp.y);
      ctx.fillStyle = kp.color;
      ctx.beginPath();
      ctx.arc(pt.x, pt.y, 4, 0, Math.PI * 2);
      ctx.fill();
    });
  }

  draw();

  // Step click highlighting
  document.querySelectorAll('.step').forEach(step => {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>

</div>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zapremina rotacionog tela iz kvadrata sa isecenim trouglovima",
  "subject": "math",
  "unit": "calculus",
  "topic_tags": ["zapremina rotacionog tela", "integracija", "metod diskova i prstenova", "stereometrija", "rotacija ravne figure"]
}
BRAINSPARK_META-->