<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simetrala ugla u oštruglom trouglu</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: In acute triangle ABC, the angle bisector from vertex A meets side BC at point D.
  Given: |AB| = |AD| = |DC| = 2 cm.
  Find: perimeter of triangle ABC.

  Step 1: Set up angle notation.
    Let angle BAC = 2α. Since AD is the bisector of angle A, we have angle BAD = angle DAC = α.

  Step 2: Analyze triangle ABD (isosceles since AB = AD = 2).
    In triangle ABD:
      angle BAD = α
      Since AB = AD, the base angles are equal: angle ABD = angle ADB
      angle ABD = angle ADB = (180° - α)/2 = 90° - α/2

  Step 3: Analyze triangle ADC (isosceles since AD = DC = 2).
    In triangle ADC:
      angle DAC = α
      Since AD = DC, the base angles are equal: angle DCA = angle DAC = α
      angle ADC = 180° - 2α

  Step 4: Use the supplementary angle condition at D.
    angle ADB + angle ADC = 180°  (angles on a straight line BC)
    (90° - α/2) + (180° - 2α) = 180°
    90° - α/2 + 180° - 2α = 180°
    270° - 5α/2 = 180°
    5α/2 = 90°
    α = 36°

  Step 5: Determine all angles of triangle ABC.
    angle BAC = 2α = 72°
    angle ABC = angle ABD = 90° - α/2 = 90° - 18° = 72°
    angle BCA = angle DCA = α = 36°
    Check: 72° + 72° + 36° = 180° ✓
    All angles < 90° → triangle is acute ✓

  Step 6: Find BD using the sine rule in triangle ABD.
    BD / sin(BAD) = AB / sin(ADB)
    BD / sin 36° = 2 / sin 72°

    Since sin 72° = 2 sin 36° cos 36°:
    BD = 2 sin 36° / (2 sin 36° cos 36°) = 1 / cos 36°

    cos 36° = (1 + √5)/4. Let me verify: cos 36° ≈ 0.80902, (1 + 2.236)/4 = 3.236/4 = 0.809 ✓

    BD = 4 / (1 + √5) = 4(√5 - 1) / ((√5 + 1)(√5 - 1)) = 4(√5 - 1) / 4 = √5 - 1

    Numerically: √5 - 1 ≈ 1.236

  Step 7: Find AC using the sine rule in triangle ADC.
    AC / sin(ADC) = DC / sin(DCA)
    AC / sin 108° = 2 / sin 36°

    sin 108° = sin 72° = 2 sin 36° cos 36°:
    AC = 2 · 2 sin 36° cos 36° / sin 36° = 4 cos 36° = 4 · (1 + √5)/4 = 1 + √5

    Numerically: 1 + √5 ≈ 3.236

  Step 8: Compute BC and the perimeter.
    BC = BD + DC = (√5 - 1) + 2 = √5 + 1
    Numerically: √5 + 1 ≈ 3.236

    Perimeter = AB + BC + AC = 2 + (√5 + 1) + (1 + √5) = 4 + 2√5

    Numerically: 4 + 2 · 2.236 = 4 + 4.472 = 8.472

  Step 9: Verify answer.
    Answer E) 4 + 2√5 ≈ 8.472 ✓

    Cross-check: Triangle is isosceles with AB = 2, AC = BC = 1 + √5 ≈ 3.236.
    angle A = angle B = 72°, angle C = 36°. All acute. ✓

    Check with cosine rule: AB² = AC² + BC² - 2·AC·BC·cos C
    4 = (1+√5)² + (1+√5)² - 2(1+√5)²·cos 36°
    4 = 2(1+√5)² - 2(1+√5)²·cos 36°
    4 = 2(1+√5)²(1 - cos 36°)
    (1+√5)² = 6+2√5
    4 = 2(6+2√5)(1 - (1+√5)/4)
    4 = 2(6+2√5)·(3-√5)/4
    4 = (6+2√5)(3-√5)/2
    8 = (6+2√5)(3-√5) = 18 - 6√5 + 6√5 - 2·5 = 18 - 10 = 8 ✓

  Answer: E) 4 + 2√5
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.1rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.2);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
  font-weight: 600;
}

.answer-option {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.2);
  cursor: default;
}

.plan-card {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(167, 139, 250, 0.1));
  border: 1px solid rgba(96, 165, 250, 0.25);
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.15rem;
  color: #a78bfa;
  font-weight: 600;
  padding: 8px 0;
}

.theory-card summary:hover {
  color: #c4b5fd;
}

.theory-content {
  padding: 16px 0;
  line-height: 1.9;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 12px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 10px;
  font-style: italic;
}

.step-container {
  display: flex;
  gap: 16px;
  padding: 18px;
  border-radius: 12px;
  margin-bottom: 16px;
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step-container:hover {
  background: rgba(96, 165, 250, 0.05);
  border-left-color: #4ade80;
}

.step-number {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 10px;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-size: 1.05rem;
  overflow-x: auto;
}

.step-note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details.checkpoint {
  margin: 15px 0;
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
}

details.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
}

details.checkpoint .checkpoint-answer {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(167, 139, 250, 0.2);
  color: #c4b5fd;
}

.insight-card {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(96, 165, 250, 0.12));
  border: 1px solid rgba(52, 211, 153, 0.3);
  text-align: center;
  padding: 32px 28px;
}

.insight-card .insight-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.08));
  border: 1px solid rgba(52, 211, 153, 0.35);
  text-align: center;
}

.final-answer-card .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  margin-bottom: 8px;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.final-answer-card .answer-value {
  font-size: 2rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.final-answer-card .answer-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-answer-card .option-card {
  padding: 10px 20px;
  border-radius: 10px;
  border: 1px solid #334155;
  background: rgba(30, 41, 59, 0.8);
  color: #94a3b8;
  font-size: 1rem;
  transition: all 0.2s;
}

.final-answer-card .option-card.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.15);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  margin-top: 20px;
  padding: 16px;
  background: rgba(96, 165, 250, 0.08);
  border-radius: 10px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfalls-card ul {
  list-style: none;
  padding: 0;
}

.pitfalls-card li {
  padding: 10px 0;
  padding-left: 20px;
  position: relative;
  color: #cbd5e1;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
}

.pitfalls-card li:last-child {
  border-bottom: none;
}

.pitfalls-card li::before {
  content: '!';
  position: absolute;
  left: 0;
  top: 10px;
  color: #e09468;
  font-weight: 700;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }

  .card {
    padding: 18px;
  }

  .container {
    padding: 10px;
  }

  .given-grid {
    gap: 8px;
  }

  .given-item {
    min-width: 60px;
    padding: 8px 12px;
  }

  .step-container {
    padding: 12px;
  }

  .final-answer-card .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- a. Title & Subtitle -->
  <h1>Simetrala ugla u oštruglom trouglu</h1>
  <p class="subtitle">Geometrija trougla, simetrala ugla, jednakokraki trouglovi i sinusna teorema</p>

  <!-- b. Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title"><span class="icon">&#128208;</span> Postavka zadatka</h2>
    <div class="problem-text">
      <p>U oštruglom trouglu \(ABC\), simetrala unutrašnjeg ugla kod temena \(A\) seče stranicu \(BC\) u tački \(D\). Ako je \(|AB| = |AD| = |DC| = 2\) cm, onda je obim datog trougla jednak (u cm):</p>

      <div class="given-grid" style="margin-bottom: 18px;">
        <div class="given-item">
          <div class="label">\(|AB|\)</div>
          <div class="value">2 cm</div>
        </div>
        <div class="given-item">
          <div class="label">\(|AD|\)</div>
          <div class="value">2 cm</div>
        </div>
        <div class="given-item">
          <div class="label">\(|DC|\)</div>
          <div class="value">2 cm</div>
        </div>
        <div class="given-item">
          <div class="label">AD</div>
          <div class="value">simetrala \(\angle A\)</div>
        </div>
      </div>

      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\(8\)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\(6 + \sqrt{5}\)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\(4\sqrt{5}\)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\(9\)</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\(4 + 2\sqrt{5}\)</div>
        </div>
      </div>
    </div>
  </div>

  <!-- c. Plan -->
  <div class="card plan-card">
    <h2 class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</h2>
    <p>Označićemo ugao \(\angle BAC = 2\alpha\) i iskoristiti činjenicu da su trouglovi \(ABD\) i \(ADC\) jednakokraki. Iz uslova da su uglovi kod tačke \(D\) suplementni, naći ćemo \(\alpha\), a zatim sinusnom teoremom odrediti nepoznate stranice \(BD\) i \(AC\).</p>
  </div>

  <!-- d. Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>&#128208; Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Simetrala ugla:</strong> Simetrala unutrašnjeg ugla trougla deli naspramnu stranicu u odnosu susednih stranica (teorema o simetrali ugla).</li>
          <li><strong>Jednakokraki trougao:</strong> Ako su dve stranice trougla jednake, onda su i uglovi naspram tih stranica jednaki.</li>
          <li><strong>Sinusna teorema:</strong> U trouglu \(ABC\) važi: \[\frac{a}{\sin A} = \frac{b}{\sin B} = \frac{c}{\sin C}\]</li>
          <li><strong>Suplementni uglovi:</strong> Uglovi na pravoj zbir imaju \(180°\): ako tačka \(D\) leži na \(BC\), onda \(\angle ADB + \angle ADC = 180°\).</li>
          <li><strong>Poznata vrednost:</strong> \(\cos 36° = \frac{1 + \sqrt{5}}{4}\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- e. Visual Aid / Interactive Diagram -->
  <div class="card canvas-card">
    <h2 class="card-title"><span class="icon">&#128208;</span> Dijagram trougla</h2>
    <canvas id="triangle-canvas" width="700" height="480"></canvas>
    <p class="drag-hint">Prevucite teme A da vidite kako se trougao menja (ostali odnosi se čuvaju).</p>
  </div>

  <!-- f. Step-by-Step Solution -->
  <div class="card">
    <h2 class="card-title"><span class="icon">&#9997;</span> Rešenje korak po korak</h2>

    <div class="step-container">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>Označavanje uglova</h3>
        <p>Neka je \(\angle BAC = 2\alpha\). Pošto je \(AD\) simetrala ugla \(A\), važi:</p>
        <div class="math-block">
          \[\angle BAD = \angle DAC = \alpha\]
        </div>
      </div>
    </div>

    <div class="step-container">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>Trougao \(ABD\) je jednakokraki</h3>
        <p>Pošto je \(|AB| = |AD| = 2\), trougao \(ABD\) je jednakokraki. Bazni uglovi su jednaki:</p>
        <div class="math-block">
          \[\angle ABD = \angle ADB = \frac{180° - \alpha}{2} = 90° - \frac{\alpha}{2}\]
        </div>
      </div>
    </div>

    <div class="step-container">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>Trougao \(ADC\) je jednakokraki</h3>
        <p>Pošto je \(|AD| = |DC| = 2\), trougao \(ADC\) je takođe jednakokraki. Bazni uglovi su jednaki:</p>
        <div class="math-block">
          \[\angle DCA = \angle DAC = \alpha\]
        </div>
        <p>Iz zbira uglova u trouglu \(ADC\):</p>
        <div class="math-block">
          \[\angle ADC = 180° - 2\alpha\]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>&#9989; Proveri se: Koliki je zbir \(\angle ADB + \angle ADC\)?</summary>
      <div class="checkpoint-answer">
        Tačka \(D\) leži na pravoj \(BC\), pa su uglovi \(\angle ADB\) i \(\angle ADC\) suplementni: \(\angle ADB + \angle ADC = 180°\).
      </div>
    </details>

    <div class="step-container">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>Jednačina za \(\alpha\)</h3>
        <p>Uglovi \(\angle ADB\) i \(\angle ADC\) su suplementni (leže na pravoj \(BC\)):</p>
        <div class="math-block">
          \[\angle ADB + \angle ADC = 180°\]
        </div>
        <p>Zamenom izraza iz koraka 2 i 3:</p>
        <div class="math-block">
          \[\left(90° - \frac{\alpha}{2}\right) + (180° - 2\alpha) = 180°\]
        </div>
        <p>Sredimo jednačinu:</p>
        <div class="math-block">
          \[270° - \frac{5\alpha}{2} = 180°\]
        </div>
        <div class="math-block">
          \[\frac{5\alpha}{2} = 90° \quad \Rightarrow \quad \alpha = 36°\]
        </div>
      </div>
    </div>

    <div class="step-container">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>Uglovi trougla \(ABC\)</h3>
        <p>Sada poznajemo sve uglove:</p>
        <div class="math-block">
          \[\angle BAC = 2\alpha = 72°, \quad \angle ABC = 90° - \frac{\alpha}{2} = 72°, \quad \angle BCA = \alpha = 36°\]
        </div>
        <p class="step-note">Provera: \(72° + 72° + 36° = 180°\). Svi uglovi su manji od \(90°\), pa je trougao zaista oštrougli.</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>&#9989; Proveri se: Koji tip trougla je \(ABC\) s obzirom na stranice?</summary>
      <div class="checkpoint-answer">
        Pošto su \(\angle A = \angle B = 72°\), trougao je jednakokraki sa \(|AC| = |BC|\).
      </div>
    </details>

    <div class="step-container">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>Nalaženje \(|BD|\) sinusnom teoremom</h3>
        <p>U trouglu \(ABD\) primenjujemo sinusnu teoremu:</p>
        <div class="math-block">
          \[\frac{|BD|}{\sin(\angle BAD)} = \frac{|AB|}{\sin(\angle ADB)}\]
        </div>
        <div class="math-block">
          \[\frac{|BD|}{\sin 36°} = \frac{2}{\sin 72°}\]
        </div>
        <p>Koristimo formulu za dupli ugao: \(\sin 72° = 2\sin 36° \cos 36°\):</p>
        <div class="math-block">
          \[|BD| = \frac{2\sin 36°}{2\sin 36° \cos 36°} = \frac{1}{\cos 36°}\]
        </div>
        <p>Poznata vrednost \(\cos 36° = \frac{1+\sqrt{5}}{4}\), pa:</p>
        <div class="math-block">
          \[|BD| = \frac{4}{1 + \sqrt{5}} = \frac{4(\sqrt{5}-1)}{(\sqrt{5}+1)(\sqrt{5}-1)} = \frac{4(\sqrt{5}-1)}{4} = \sqrt{5} - 1\]
        </div>
      </div>
    </div>

    <div class="step-container">
      <div class="step-number">7</div>
      <div class="step-content">
        <h3>Nalaženje \(|AC|\) sinusnom teoremom</h3>
        <p>U trouglu \(ADC\) primenjujemo sinusnu teoremu:</p>
        <div class="math-block">
          \[\frac{|AC|}{\sin(\angle ADC)} = \frac{|DC|}{\sin(\angle DCA)}\]
        </div>
        <div class="math-block">
          \[\frac{|AC|}{\sin 108°} = \frac{2}{\sin 36°}\]
        </div>
        <p>Pošto je \(\sin 108° = \sin 72° = 2\sin 36° \cos 36°\):</p>
        <div class="math-block">
          \[|AC| = \frac{2 \cdot 2\sin 36° \cos 36°}{\sin 36°} = 4\cos 36° = 4 \cdot \frac{1+\sqrt{5}}{4} = 1 + \sqrt{5}\]
        </div>
      </div>
    </div>

    <div class="step-container">
      <div class="step-number">8</div>
      <div class="step-content">
        <h3>Računanje obima</h3>
        <p>Prvo nađimo \(|BC|\):</p>
        <div class="math-block">
          \[|BC| = |BD| + |DC| = (\sqrt{5} - 1) + 2 = \sqrt{5} + 1\]
        </div>
        <p>Obim trougla:</p>
        <div class="math-block">
          \[O = |AB| + |BC| + |AC| = 2 + (\sqrt{5} + 1) + (1 + \sqrt{5}) = 4 + 2\sqrt{5}\]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>&#9989; Proveri se: Koliko je \(4 + 2\sqrt{5}\) numerički?</summary>
      <div class="checkpoint-answer">
        \(\sqrt{5} \approx 2{,}236\), pa je \(4 + 2\sqrt{5} \approx 4 + 4{,}472 = 8{,}472\) cm.
      </div>
    </details>
  </div>

  <!-- g. Key Insight -->
  <div class="card insight-card">
    <h2 class="card-title" style="justify-content: center;"><span class="icon">&#128161;</span> Ključni uvid</h2>
    <p style="color: #94a3b8; margin-bottom: 12px;">Tri jednake dužine \(|AB| = |AD| = |DC| = 2\) formiraju dva jednakokraka trougla. Uslov suplementnosti uglova kod tačke \(D\) jedinstvenoim određuje \(\alpha = 36°\), što je ugao povezan sa pravilnim petouglom i zlatnim presekom \(\varphi = \frac{1+\sqrt{5}}{2}\).</p>
    <div class="insight-formula">
      \[O = 4 + 2\sqrt{5}\]
    </div>
  </div>

  <!-- h. Final Answer -->
  <div class="card final-answer-card">
    <div class="answer-label">Konačan odgovor</div>
    <div class="answer-value">\(O = 4 + 2\sqrt{5}\) cm</div>
    <div class="answer-options">
      <div class="option-card">(A) \(8\)</div>
      <div class="option-card">(B) \(6 + \sqrt{5}\)</div>
      <div class="option-card">(C) \(4\sqrt{5}\)</div>
      <div class="option-card">(D) \(9\)</div>
      <div class="option-card correct">(E) \(4 + 2\sqrt{5}\)</div>
    </div>
    <div class="verification-note">
      <strong>Provera:</strong> Kosinusnom teoremom u trouglu \(ABC\) za stranicu \(AB = 2\):
      \[|AB|^2 = |AC|^2 + |BC|^2 - 2 \cdot |AC| \cdot |BC| \cdot \cos(\angle C)\]
      \[4 = (1+\sqrt{5})^2 + (1+\sqrt{5})^2 - 2(1+\sqrt{5})^2 \cos 36°\]
      \[4 = 2(6+2\sqrt{5})\left(1 - \frac{1+\sqrt{5}}{4}\right) = 2(6+2\sqrt{5}) \cdot \frac{3-\sqrt{5}}{4}\]
      \[= \frac{(6+2\sqrt{5})(3-\sqrt{5})}{2} = \frac{18 - 6\sqrt{5} + 6\sqrt{5} - 10}{2} = \frac{8}{2} = 4 \; \checkmark\]
    </div>
  </div>

  <!-- i. Common Pitfalls -->
  <div class="card pitfalls-card">
    <h2 class="card-title"><span class="icon">&#9888;</span> Česte greške</h2>
    <ul>
      <li><strong>Pogrešna identifikacija jednakokrakih trouglova:</strong> Lako je prevideti da su oba trougla \(ABD\) i \(ADC\) jednakokraka. Ključ je pažljivo uočiti koje su stranice jednake: \(AB = AD\) u prvom, a \(AD = DC\) u drugom.</li>
      <li><strong>Zamena \(\cos 36°\) sa \(\cos 30°\) ili \(\cos 45°\):</strong> Vrednost \(\cos 36° = \frac{1+\sqrt{5}}{4}\) nije standardna iz tablice. Mnogi učenici pribegavaju aproksimaciji ili koriste pogrešnu vrednost.</li>
    </ul>
  </div>

  <!-- j. Optional Challenge -->
  <div class="card challenge-card">
    <h2 class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</h2>
    <p>Ako bi umesto \(|AB| = |AD| = |DC| = 2\) bilo \(|AB| = |AD| = |DC| = a\), koliki bi bio obim trougla u funkciji od \(a\)?</p>
    <details>
      <summary>Savet</summary>
      <p style="margin-top: 10px; color: #94a3b8;">Svi uglovi ostaju isti (\(72°, 72°, 36°\)), jer odnosi stranica ne zavise od apsolutne veličine. Razmislite o tome kako se svaki rezultat skalira sa faktorom \(a/2\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('triangle-canvas');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  // Triangle vertices based on computed values
  // AB = 2, AC = 1+sqrt5 ≈ 3.236, BC = 1+sqrt5 ≈ 3.236
  // angle A = 72°, angle B = 72°, angle C = 36°
  // BD = sqrt5 - 1 ≈ 1.236, DC = 2

  const scale = 100;
  const sqrt5 = Math.sqrt(5);

  // Place B at origin, C to the right on x-axis
  const BC = sqrt5 + 1;
  const BD_len = sqrt5 - 1;
  const DC_len = 2;
  const AB_len = 2;
  const AC_len = 1 + sqrt5;
  const AD_len = 2;

  // B at left, C at right
  const Bx = 0, By = 0;
  const Cx = BC * scale, Cy = 0;

  // A: angle B = 72°, AB = 2
  const angleB = 72 * Math.PI / 180;
  const Ax_base = AB_len * Math.cos(angleB) * scale;
  const Ay_base = AB_len * Math.sin(angleB) * scale;

  // D on BC: BD = sqrt5 - 1
  const Dx_base = BD_len * scale;
  const Dy_base = 0;

  // Center the drawing
  const centerX = (Bx + Cx + Ax_base) / 3;
  const centerY = (By + Cy + Ay_base) / 3;
  const offsetX = W / 2 - centerX;
  const offsetY = H / 2 + centerY - 40;

  function toCanvas(x, y) {
    return { x: offsetX + x, y: offsetY - y };
  }

  // Draggable point A
  let dragA = { x: Ax_base, y: Ay_base };
  let isDragging = false;

  function getTrianglePoints() {
    const B = toCanvas(Bx, By);
    const C = toCanvas(Cx, Cy);
    const A = toCanvas(dragA.x, dragA.y);

    // D divides BC such that BD/DC = AB/AC (angle bisector theorem)
    // But we keep D fixed at the correct position for the actual solution
    const D = toCanvas(Dx_base, Dy_base);

    return { A, B, C, D };
  }

  function drawAngleArc(cx, cy, startAngle, endAngle, radius, color, label) {
    ctx.beginPath();
    ctx.arc(cx, cy, radius, -endAngle, -startAngle);
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.stroke();

    if (label) {
      const midAngle = -(startAngle + endAngle) / 2;
      const lx = cx + (radius + 14) * Math.cos(midAngle);
      const ly = cy + (radius + 14) * Math.sin(midAngle);
      ctx.fillStyle = color;
      ctx.font = '13px Segoe UI';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, lx, ly);
    }
  }

  function drawLengthLabel(p1, p2, label, color, offset) {
    const mx = (p1.x + p2.x) / 2 + (offset ? offset.x : 0);
    const my = (p1.y + p2.y) / 2 + (offset ? offset.y : 0);
    ctx.fillStyle = color;
    ctx.font = 'bold 14px Segoe UI';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(label, mx, my);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const { A, B, C, D } = getTrianglePoints();

    // Draw triangle fill
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96, 165, 250, 0.06)';
    ctx.fill();

    // Draw triangle sides
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Draw bisector AD (dashed)
    ctx.beginPath();
    ctx.setLineDash([6, 4]);
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(D.x, D.y);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.setLineDash([]);

    // Mark equal segments with tick marks
    // AB = AD = DC = 2
    function drawTick(p1, p2, numTicks, color) {
      const mx = (p1.x + p2.x) / 2;
      const my = (p1.y + p2.y) / 2;
      const dx = p2.x - p1.x;
      const dy = p2.y - p1.y;
      const len = Math.sqrt(dx * dx + dy * dy);
      const nx = -dy / len;
      const ny = dx / len;
      const tickLen = 8;
      const spacing = 6;

      for (let i = 0; i < numTicks; i++) {
        const offset = (i - (numTicks - 1) / 2) * spacing;
        const cx = mx + (dx / len) * offset;
        const cy = my + (dy / len) * offset;
        ctx.beginPath();
        ctx.moveTo(cx - nx * tickLen, cy - ny * tickLen);
        ctx.lineTo(cx + nx * tickLen, cy + ny * tickLen);
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.stroke();
      }
    }

    drawTick(A, B, 1, '#4ade80');
    drawTick(A, D, 1, '#4ade80');
    drawTick(D, C, 1, '#4ade80');

    // Angle arcs at vertex A (bisected angle)
    const angleAB = Math.atan2(-(B.y - A.y), B.x - A.x);
    const angleAD = Math.atan2(-(D.y - A.y), D.x - A.x);
    const angleAC = Math.atan2(-(C.y - A.y), C.x - A.x);

    drawAngleArc(A.x, A.y, Math.min(angleAB, angleAD), Math.max(angleAB, angleAD), 30, '#a78bfa', '\u03b1');
    drawAngleArc(A.x, A.y, Math.min(angleAD, angleAC), Math.max(angleAD, angleAC), 35, '#a78bfa', '\u03b1');

    // Angle arc at B
    const angleBA = Math.atan2(-(A.y - B.y), A.x - B.x);
    const angleBC = Math.atan2(-(C.y - B.y), C.x - B.x);
    drawAngleArc(B.x, B.y, Math.min(angleBC, angleBA), Math.max(angleBC, angleBA), 28, '#60a5fa', '72\u00b0');

    // Angle arc at C
    const angleCB = Math.atan2(-(B.y - C.y), B.x - C.x);
    const angleCA = Math.atan2(-(A.y - C.y), A.x - C.x);
    drawAngleArc(C.x, C.y, Math.min(angleCA, angleCB), Math.max(angleCA, angleCB), 28, '#34d399', '36\u00b0');

    // Length labels
    drawLengthLabel(A, B, '2', '#4ade80', { x: -18, y: 0 });
    drawLengthLabel(A, D, '2', '#f472b6', { x: 14, y: -8 });
    drawLengthLabel(D, C, '2', '#4ade80', { x: 0, y: 18 });
    drawLengthLabel(B, D, '\u221a5 \u2212 1', '#94a3b8', { x: 0, y: 18 });

    // AC label
    const acMid = { x: (A.x + C.x) / 2, y: (A.y + C.y) / 2 };
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI';
    ctx.textAlign = 'center';
    ctx.fillText('1 + \u221a5', acMid.x + 20, acMid.y);

    // Point labels
    function drawPoint(p, label, color, offX, offY) {
      // Glow
      const grd = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 12);
      grd.addColorStop(0, color + '60');
      grd.addColorStop(1, 'transparent');
      ctx.fillStyle = grd;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 12, 0, Math.PI * 2);
      ctx.fill();

      // Dot
      ctx.beginPath();
      ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 18px Segoe UI';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(label, p.x + offX, p.y + offY);
    }

    drawPoint(A, 'A', '#60a5fa', 0, -22);
    drawPoint(B, 'B', '#60a5fa', -18, 14);
    drawPoint(C, 'C', '#60a5fa', 18, 14);
    drawPoint(D, 'D', '#f472b6', 0, 20);
  }

  draw();

  // Drag functionality for point A
  function getMousePos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = canvas.width / rect.width;
    const scaleY = canvas.height / rect.height;
    const clientX = e.touches ? e.touches[0].clientX : e.clientX;
    const clientY = e.touches ? e.touches[0].clientY : e.clientY;
    return {
      x: (clientX - rect.left) * scaleX,
      y: (clientY - rect.top) * scaleY
    };
  }

  function isNearA(pos) {
    const A = toCanvas(dragA.x, dragA.y);
    const dx = pos.x - A.x;
    const dy = pos.y - A.y;
    return dx * dx + dy * dy < 400;
  }

  function onStart(e) {
    const pos = getMousePos(e);
    if (isNearA(pos)) {
      isDragging = true;
      e.preventDefault();
    }
  }

  function onMove(e) {
    if (!isDragging) return;
    e.preventDefault();
    const pos = getMousePos(e);
    // Convert canvas coords back to math coords
    dragA.x = pos.x - offsetX;
    dragA.y = offsetY - pos.y;
    // Keep A above BC line and within canvas
    if (dragA.y < 40) dragA.y = 40;
    if (dragA.y > H - 60) dragA.y = H - 60;
    draw();
  }

  function onEnd() {
    if (isDragging) {
      isDragging = false;
      // Snap back to original position
      dragA.x = Ax_base;
      dragA.y = Ay_base;
      draw();
    }
  }

  canvas.addEventListener('mousedown', onStart);
  canvas.addEventListener('mousemove', onMove);
  canvas.addEventListener('mouseup', onEnd);
  canvas.addEventListener('mouseleave', onEnd);
  canvas.addEventListener('touchstart', onStart, { passive: false });
  canvas.addEventListener('touchmove', onMove, { passive: false });
  canvas.addEventListener('touchend', onEnd);

  // Step click highlight
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.style.borderLeftColor = 'transparent');
      this.style.borderLeftColor = '#4ade80';
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Simetrala ugla u oštruglom trouglu - obim trougla",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["simetrala ugla", "jednakokraki trougao", "sinusna teorema", "obim trougla", "uglovi trougla"]
}
BRAINSPARK_META-->