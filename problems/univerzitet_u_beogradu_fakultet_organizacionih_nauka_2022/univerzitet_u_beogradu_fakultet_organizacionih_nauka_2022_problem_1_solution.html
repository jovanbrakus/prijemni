<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stepenovanje i racionalni eksponenti</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Vrednost izraza [(0,2)^{-1} * 2^{0,5}) : (5/3)]^2 * (-3)^{-2} = ?

Ponudjeni odgovori: A) 4, B) 3, C) 5, D) 2, E) 1

STEP-BY-STEP LOGIC:

1. Izracunajmo (0,2)^{-1}:
   0,2 = 1/5
   (1/5)^{-1} = 5

2. Izracunajmo 2^{0,5}:
   2^{0,5} = 2^{1/2} = sqrt(2)

3. Pomnozimo rezultate koraka 1 i 2:
   5 * sqrt(2) = 5*sqrt(2)

4. Podelimo sa 5/3 (deljenje razlomkom = mnozenje reciprocnom vrednoscu):
   5*sqrt(2) : (5/3) = 5*sqrt(2) * (3/5) = 3*sqrt(2)

5. Kvadrirajmo rezultat iz koraka 4:
   (3*sqrt(2))^2 = 9 * 2 = 18

6. Izracunajmo (-3)^{-2}:
   (-3)^{-2} = 1/(-3)^2 = 1/9

7. Konacno mnozenje:
   18 * (1/9) = 18/9 = 2

ANSWER: 2

Verifikacija protiv ponudjenih odgovora:
A) 4 ≠ 2 ✗
B) 3 ≠ 2 ✗
C) 5 ≠ 2 ✗
D) 2 = 2 ✓
E) 1 ≠ 2 ✗

Tacan odgovor: D) 2 ✓

Dodatna provera pojedinih koraka:
- (0,2)^{-1} = 5: Provera: 5 * 0,2 = 1 ✓
- 2^{0,5} = sqrt(2) ≈ 1,4142: Provera: 1,4142^2 ≈ 2 ✓
- 5*sqrt(2) / (5/3) = 5*sqrt(2) * 3/5 = 3*sqrt(2): Provera: petice se skrate ✓
- (3*sqrt(2))^2 = 3^2 * (sqrt(2))^2 = 9*2 = 18 ✓
- (-3)^{-2} = 1/9: Provera: (-3)^2 = 9, pa reciprocno = 1/9 ✓
- 18 * 1/9 = 2 ✓

Sve se poklapa. Odgovor je D) 2.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.step:hover {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <h1>Stepenovanje i racionalni eksponenti</h1>
  <p class="subtitle">Algebra &mdash; negativni i racionalni eksponenti, operacije sa stepenima</p>

  <!-- Postavka zadatka -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Vrednost izraza
    </p>
    <div class="math-block">
      \[ \left[\left((0{,}2)^{-1} \cdot 2^{0{,}5}\right) : \frac{5}{3}\right]^2 \cdot (-3)^{-2} \]
    </div>
    <p>jednaka je:</p>

    <div class="given-grid" style="margin-top: 14px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(3\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(1\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>
      Resicemo izraz korak po korak, od unutrasnjih zagrada ka spoljasnjim.
      Prvo cemo obraditi negativni eksponent i racionalni eksponent, zatim izvrsiti deljenje razlomkom,
      pa kvadriranje, i na kraju mnozenje sa poslednjim faktorom.
    </p>
  </div>

  <!-- Teorijski podsetnik -->
  <div class="card theory-card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul>
        <li>
          <strong>Negativni eksponent:</strong>
          \[ a^{-n} = \frac{1}{a^n} \quad (a \neq 0) \]
          Posebno: \(\left(\frac{1}{a}\right)^{-1} = a\).
        </li>
        <li>
          <strong>Racionalni eksponent (kvadratni koren):</strong>
          \[ a^{1/2} = \sqrt{a} \]
          Dakle \(2^{0{,}5} = 2^{1/2} = \sqrt{2}\).
        </li>
        <li>
          <strong>Deljenje razlomkom:</strong>
          \[ a : \frac{b}{c} = a \cdot \frac{c}{b} \]
        </li>
        <li>
          <strong>Stepen proizvoda:</strong>
          \[ (a \cdot b)^n = a^n \cdot b^n \]
          Posebno: \((a\sqrt{b})^2 = a^2 \cdot b\).
        </li>
      </ul>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Dijagram prikazuje tok izracunavanja &mdash; od unutrasnjih zagrada do konacnog rezultata.
    </p>
    <canvas id="diagramCanvas" width="800" height="420"></canvas>
    <p class="canvas-hint">Tok izracunavanja izraza korak po korak</p>
  </div>

  <!-- Resenje korak po korak -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Izracunajmo \((0{,}2)^{-1}\)</h3>
        <p>
          Broj \(0{,}2\) zapisujemo kao razlomak:
        </p>
        <div class="math-block">
          \[ 0{,}2 = \frac{1}{5} \]
        </div>
        <p>
          Primenimo pravilo za negativni eksponent \(a^{-1} = \frac{1}{a}\):
        </p>
        <div class="math-block">
          \[ (0{,}2)^{-1} = \left(\frac{1}{5}\right)^{-1} = 5 \]
        </div>
        <p class="note">
          Negativni eksponent \(-1\) znaci &bdquo;reciprocna vrednost&ldquo;. Reciprocna vrednost od \(\frac{1}{5}\) je \(5\).
        </p>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izracunajmo \(2^{0{,}5}\)</h3>
        <p>
          Eksponent \(0{,}5\) znaci \(\frac{1}{2}\), pa je:
        </p>
        <div class="math-block">
          \[ 2^{0{,}5} = 2^{1/2} = \sqrt{2} \]
        </div>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Pomnozimo rezultate unutar zagrade</h3>
        <p>
          Sada mnozimo rezultate koraka 1 i 2:
        </p>
        <div class="math-block">
          \[ (0{,}2)^{-1} \cdot 2^{0{,}5} = 5 \cdot \sqrt{2} = 5\sqrt{2} \]
        </div>
      </div>
    </div>

    <!-- Kontrolna tacka 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Kolika je vrednost izraza u unutrasnjoj zagradi?</summary>
      <div class="answer">
        Vrednost unutrasnje zagrade je \(5\sqrt{2}\).
      </div>
    </details>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Podelimo sa \(\frac{5}{3}\)</h3>
        <p>
          Deljenje razlomkom je isto sto i mnozenje reciprocnom vrednoscu:
        </p>
        <div class="math-block">
          \[ 5\sqrt{2} : \frac{5}{3} = 5\sqrt{2} \cdot \frac{3}{5} \]
        </div>
        <p>
          Petice se skracuju:
        </p>
        <div class="math-block">
          \[ \frac{5 \cdot 3}{5} \cdot \sqrt{2} = 3\sqrt{2} \]
        </div>
      </div>
    </div>

    <!-- Korak 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Kvadrirajmo rezultat</h3>
        <p>
          Sada kvadriramo \(3\sqrt{2}\). Koristimo pravilo \((ab)^2 = a^2 \cdot b^2\):
        </p>
        <div class="math-block">
          \[ \left(3\sqrt{2}\right)^2 = 3^2 \cdot \left(\sqrt{2}\right)^2 = 9 \cdot 2 = 18 \]
        </div>
        <p class="note">
          Kvadrat korena iz dva je upravo dva: \((\sqrt{2})^2 = 2\). To je definicija kvadratnog korena!
        </p>
      </div>
    </div>

    <!-- Kontrolna tacka 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Kolika je vrednost izraza u uglastoj zagradi na kvadrat?</summary>
      <div class="answer">
        Vrednost je \(\left[3\sqrt{2}\right]^2 = 18\).
      </div>
    </details>

    <!-- Korak 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izracunajmo \((-3)^{-2}\)</h3>
        <p>
          Negativni eksponent \(-2\) znaci reciprocnu vrednost kvadrata:
        </p>
        <div class="math-block">
          \[ (-3)^{-2} = \frac{1}{(-3)^2} = \frac{1}{9} \]
        </div>
        <p class="note">
          Paznja: \((-3)^2 = (-3) \cdot (-3) = 9\), jer je minus puta minus jednako plus.
        </p>
      </div>
    </div>

    <!-- Korak 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Konacno mnozenje</h3>
        <p>
          Pomnozimo rezultate koraka 5 i 6:
        </p>
        <div class="math-block">
          \[ 18 \cdot \frac{1}{9} = \frac{18}{9} = 2 \]
        </div>
      </div>
    </div>

    <!-- Kontrolna tacka 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li se rezultat poklapa sa nekim od ponudjenih odgovora?</summary>
      <div class="answer">
        Da! Rezultat \(2\) odgovara opciji <strong>(D)</strong>.
      </div>
    </details>
  </div>

  <!-- Kljucno zapazanje -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Kljucno zapazanje</h2>
    <p>
      Koren iz dva (\(\sqrt{2}\)) se provlaci kroz ceo izraz, ali se na kraju savrseno ponisti
      zahvaljujuci kvadriranju. Kljuc je u tome da <span class="highlight-blue">ne moramo znati numericku vrednost
      korena iz dva</span> &mdash; dovoljno je primeniti algebarska pravila i sve se lepo skrati.
    </p>
    <div class="big-formula">
      \[ \left(3\sqrt{2}\right)^2 \cdot \frac{1}{9} = 9 \cdot 2 \cdot \frac{1}{9} = 2 \]
    </div>
    <p style="color: #94a3b8; margin-top: 12px;">
      Devetke se skrate, a \((\sqrt{2})^2 = 2\).
    </p>
  </div>

  <!-- Konacan odgovor -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">
      2
    </div>
    <p style="color:#94a3b8; margin-bottom: 14px;">Tacan odgovor je <strong style="color:#4ade80;">D)</strong></p>
    <div class="options-row">
      <div class="option-card">(A) 4</div>
      <div class="option-card">(B) 3</div>
      <div class="option-card">(C) 5</div>
      <div class="option-card correct">(D) 2 &#10003;</div>
      <div class="option-card">(E) 1</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong>
      Proverimo ponovo ceo izraz uz numericke vrednosti:
      \((0{,}2)^{-1} = 5\), zatim \(5 \cdot \sqrt{2} \approx 7{,}07\).
      Deljenje: \(7{,}07 : \frac{5}{3} = 7{,}07 \cdot 0{,}6 \approx 4{,}24\).
      Kvadriranje: \(4{,}24^2 \approx 18\).
      Na kraju: \(18 \cdot \frac{1}{9} = 2\). Sve se poklapa!
    </p>
  </div>

  <!-- Ceste greske -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greska 1:</span>
        Pogresno tumacenje \((-3)^{-2}\) &mdash; neki ucenici izracunaju \(-3^{-2} = -\frac{1}{9}\)
        umesto \(\frac{1}{9}\). Zagrade su kljucne: \((-3)^{-2} = \frac{1}{(-3)^2} = \frac{1}{9}\),
        jer je paran stepen negativnog broja uvek pozitivan.
      </li>
      <li>
        <span class="pitfall-label">Greska 2:</span>
        Zaboravljanje da je deljenje razlomkom isto sto i mnozenje reciprocnom vrednoscu.
        Umesto \(5\sqrt{2} : \frac{5}{3} = 5\sqrt{2} \cdot \frac{3}{5}\), neki ucenici množe sa
        \(\frac{5}{3}\) i dobijaju pogresan rezultat \(\frac{25\sqrt{2}}{3}\).
      </li>
    </ul>
  </div>

  <!-- Dodatni izazov -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Izracunaj vrednost izraza:
      \[ \left[\left((0{,}5)^{-2} \cdot 3^{0{,}5}\right) : \frac{4}{3}\right]^2 \cdot (-6)^{-2} \]
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Pristupi na isti nacin: \((0{,}5)^{-2} = \left(\frac{1}{2}\right)^{-2} = 2^2 = 4\).
        Zatim \(4 \cdot \sqrt{3} : \frac{4}{3} = 4\sqrt{3} \cdot \frac{3}{4} = 3\sqrt{3}\).
        Pa \((3\sqrt{3})^2 = 27\). I na kraju \(27 \cdot \frac{1}{36} = \frac{3}{4}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagramCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  function drawDiagram() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const W = rect.width;
    const H = 420;

    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    ctx.clearRect(0, 0, W, H);

    // Pozadina
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    var s = Math.min(W / 800, 1);

    // Pomocne funkcije
    function roundedBox(x, y, w, h, rad, fillColor, strokeColor, lineW) {
      ctx.beginPath();
      ctx.moveTo(x + rad, y);
      ctx.lineTo(x + w - rad, y);
      ctx.arcTo(x + w, y, x + w, y + rad, rad);
      ctx.lineTo(x + w, y + h - rad);
      ctx.arcTo(x + w, y + h, x + w - rad, y + h, rad);
      ctx.lineTo(x + rad, y + h);
      ctx.arcTo(x, y + h, x, y + h - rad, rad);
      ctx.lineTo(x, y + rad);
      ctx.arcTo(x, y, x + rad, y, rad);
      ctx.closePath();
      if (fillColor) { ctx.fillStyle = fillColor; ctx.fill(); }
      if (strokeColor) { ctx.strokeStyle = strokeColor; ctx.lineWidth = lineW || 1.5; ctx.stroke(); }
    }

    function drawArrow(fromX, fromY, toX, toY, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2 * s;
      ctx.beginPath();
      ctx.moveTo(fromX, fromY);
      ctx.lineTo(toX, toY);
      ctx.stroke();
      var angle = Math.atan2(toY - fromY, toX - fromX);
      var headLen = 8 * s;
      ctx.beginPath();
      ctx.moveTo(toX, toY);
      ctx.lineTo(toX - headLen * Math.cos(angle - 0.4), toY - headLen * Math.sin(angle - 0.4));
      ctx.moveTo(toX, toY);
      ctx.lineTo(toX - headLen * Math.cos(angle + 0.4), toY - headLen * Math.sin(angle + 0.4));
      ctx.stroke();
    }

    // Naslov
    ctx.fillStyle = '#94a3b8';
    ctx.font = (14 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok izracunavanja izraza', W / 2, 24 * s);

    // --- Red 1: Unutrasnji delovi ---
    var boxW = 140 * s;
    var boxH = 55 * s;
    var gap = 30 * s;
    var row1Y = 48 * s;

    // Kutija 1: (0,2)^{-1}
    var bx1 = W / 2 - boxW - gap / 2 - boxW / 2 - gap / 2;
    roundedBox(bx1, row1Y, boxW, boxH, 8 * s, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(0,2)\u207B\u00B9', bx1 + boxW / 2, row1Y + 20 * s);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 5', bx1 + boxW / 2, row1Y + 42 * s);

    // Kutija 2: 2^{0,5}
    var bx2 = W / 2 - boxW / 2;
    roundedBox(bx2, row1Y, boxW, boxH, 8 * s, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('2\u2070\u02B3\u2075', bx2 + boxW / 2, row1Y + 20 * s);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= \u221A2', bx2 + boxW / 2, row1Y + 42 * s);

    // Kutija 3: (-3)^{-2}
    var bx3 = W / 2 + boxW / 2 + gap;
    roundedBox(bx3, row1Y, boxW, boxH, 8 * s, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(-3)\u207B\u00B2', bx3 + boxW / 2, row1Y + 20 * s);
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 1/9', bx3 + boxW / 2, row1Y + 42 * s);

    // --- Red 2: Mnozenje ---
    var row2Y = row1Y + boxH + 40 * s;
    var bx4 = W / 2 - boxW - gap / 2;
    roundedBox(bx4, row2Y, boxW, boxH, 8 * s, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('5 \u00B7 \u221A2', bx4 + boxW / 2, row2Y + 20 * s);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 5\u221A2', bx4 + boxW / 2, row2Y + 42 * s);

    // Strelice od kutija 1 i 2 ka kutiji 4
    drawArrow(bx1 + boxW / 2, row1Y + boxH, bx4 + boxW / 4, row2Y, '#475569');
    drawArrow(bx2 + boxW / 2, row1Y + boxH, bx4 + 3 * boxW / 4, row2Y, '#475569');

    // --- Red 2 desno: Deljenje ---
    var bx5 = W / 2 + gap / 2;
    roundedBox(bx5, row2Y, boxW, boxH, 8 * s, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('5\u221A2 : 5/3', bx5 + boxW / 2, row2Y + 20 * s);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 3\u221A2', bx5 + boxW / 2, row2Y + 42 * s);

    // Strelica od kutije 4 ka kutiji 5
    drawArrow(bx4 + boxW, row2Y + boxH / 2, bx5, row2Y + boxH / 2, '#475569');

    // --- Red 3: Kvadriranje ---
    var row3Y = row2Y + boxH + 40 * s;
    var bx6 = W / 2 - boxW / 2 - gap / 2 - boxW / 4;
    roundedBox(bx6, row3Y, boxW, boxH, 8 * s, 'rgba(52,211,153,0.08)', 'rgba(52,211,153,0.3)');
    ctx.fillStyle = '#94a3b8';
    ctx.font = (11 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(3\u221A2)\u00B2', bx6 + boxW / 2, row3Y + 20 * s);
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold ' + (16 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 18', bx6 + boxW / 2, row3Y + 42 * s);

    // Strelica od kutije 5 ka kutiji 6
    drawArrow(bx5 + boxW / 2, row2Y + boxH, bx6 + boxW / 2, row3Y, '#475569');

    // --- Red 4: Konacni rezultat ---
    var row4Y = row3Y + boxH + 40 * s;
    var bx7W = 180 * s;
    var bx7H = 60 * s;
    var bx7 = W / 2 - bx7W / 2;
    roundedBox(bx7, row4Y, bx7W, bx7H, 10 * s, 'rgba(74,222,128,0.12)', '#4ade80', 2.5);
    ctx.fillStyle = '#94a3b8';
    ctx.font = (12 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('18 \u00B7 1/9', bx7 + bx7W / 2, row4Y + 22 * s);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold ' + (20 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 2', bx7 + bx7W / 2, row4Y + 48 * s);

    // Strelice od kutije 6 i kutije 3 ka konacnom rezultatu
    drawArrow(bx6 + boxW / 2, row3Y + boxH, bx7 + bx7W / 3, row4Y, '#475569');
    drawArrow(bx3 + boxW / 2, row1Y + boxH, bx3 + boxW / 2, row1Y + boxH + 15 * s, '#475569');

    // Vertikalna linija od kutije 3 nadole
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5 * s;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.moveTo(bx3 + boxW / 2, row1Y + boxH + 10 * s);
    ctx.lineTo(bx3 + boxW / 2, row4Y - 5 * s);
    ctx.stroke();
    ctx.setLineDash([]);

    // Strelica od isprekidane linije ka konacnom rezultatu
    drawArrow(bx3 + boxW / 2, row4Y - 5 * s, bx7 + 2 * bx7W / 3, row4Y, '#475569');

    // Oznake koraka
    ctx.font = (10 * s) + 'px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#64748b';
    ctx.textAlign = 'center';
    ctx.fillText('Korak 1', bx1 + boxW / 2, row1Y - 6 * s);
    ctx.fillText('Korak 2', bx2 + boxW / 2, row1Y - 6 * s);
    ctx.fillText('Korak 6', bx3 + boxW / 2, row1Y - 6 * s);
    ctx.fillText('Korak 3', bx4 + boxW / 2, row2Y - 6 * s);
    ctx.fillText('Korak 4', bx5 + boxW / 2, row2Y - 6 * s);
    ctx.fillText('Korak 5', bx6 + boxW / 2, row3Y - 6 * s);
    ctx.fillText('Korak 7', bx7 + bx7W / 2, row4Y - 8 * s);
  }

  drawDiagram();
  window.addEventListener('resize', drawDiagram);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Stepenovanje sa negativnim i racionalnim eksponentima",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["stepenovanje", "negativni eksponent", "racionalni eksponent", "kvadratni koren", "deljenje razlomkom"]
}
BRAINSPARK_META-->