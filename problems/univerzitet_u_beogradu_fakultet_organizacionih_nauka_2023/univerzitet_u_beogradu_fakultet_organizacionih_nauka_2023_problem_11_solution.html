<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijska jednačina - Broj realnih rešenja</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Find the number of real solutions of:
  (√3 - 1)sin x + √3 cos x = sin x · tan x
on the interval (-π, 3π/2].

STEP 1: Domain restriction
tan x = sin x / cos x, so cos x ≠ 0
=> x ≠ ±π/2, 3π/2 (within the interval)
Also x = 3π/2 is at the boundary but cos(3π/2) = 0, so it's excluded anyway.

STEP 2: Rewrite the equation
RHS = sin x · (sin x / cos x) = sin²x / cos x

Multiply both sides by cos x (cos x ≠ 0):
(√3 - 1)sin x cos x + √3 cos²x = sin²x

STEP 3: Use double-angle identities
sin x cos x = (1/2)sin 2x
cos²x = (1 + cos 2x)/2
sin²x = (1 - cos 2x)/2

Substituting:
(√3 - 1)(sin 2x)/2 + √3(1 + cos 2x)/2 = (1 - cos 2x)/2

Multiply by 2:
(√3 - 1)sin 2x + √3(1 + cos 2x) = 1 - cos 2x
(√3 - 1)sin 2x + √3 + √3 cos 2x = 1 - cos 2x
(√3 - 1)sin 2x + (√3 + 1)cos 2x = 1 - √3

STEP 4: Solve A sin θ + B cos θ = C
A = √3 - 1, B = √3 + 1, θ = 2x
R = √(A² + B²) = √((3-2√3+1) + (3+2√3+1)) = √(4-2√3+4+2√3) = √8 = 2√2

Phase angle φ: cos φ = A/R = (√3-1)/(2√2), sin φ = B/R = (√3+1)/(2√2)

Note: cos 75° = cos(45°+30°) = (√6-√2)/4 = √2(√3-1)/4 = (√3-1)/(2√2)
And sin 75° = sin(45°+30°) = (√6+√2)/4 = (√3+1)/(2√2)
So φ = 75° = 5π/12

The equation becomes: 2√2 sin(2x + 5π/12) = 1 - √3

sin(2x + 5π/12) = (1-√3)/(2√2) = -(√3-1)/(2√2) = -cos 75° = -sin 15° = sin(-π/12)

STEP 5: Solve sin α = sin β
sin(2x + 5π/12) = sin(-π/12)

Case 1: 2x + 5π/12 = -π/12 + 2kπ
  2x = -π/12 - 5π/12 + 2kπ = -6π/12 + 2kπ = -π/2 + 2kπ
  x = -π/4 + kπ

Case 2: 2x + 5π/12 = π - (-π/12) + 2kπ = π + π/12 + 2kπ
  2x = π + π/12 - 5π/12 + 2kπ = π - 4π/12 + 2kπ = π - π/3 + 2kπ = 2π/3 + 2kπ
  x = π/3 + kπ

STEP 6: Find solutions in (-π, 3π/2]

Case 1: x = -π/4 + kπ
  k = -1: x = -π/4 - π = -5π/4 ≈ -3.93 < -π ✗
  k = 0: x = -π/4 ≈ -0.785, in (-π, 3π/2] ✓
  k = 1: x = 3π/4 ≈ 2.356, in (-π, 3π/2] ✓
  k = 2: x = 7π/4 ≈ 5.50 > 3π/2 ≈ 4.71 ✗

Case 2: x = π/3 + kπ
  k = -1: x = π/3 - π = -2π/3 ≈ -2.09, -π < -2π/3 ✓
  k = 0: x = π/3 ≈ 1.047, in (-π, 3π/2] ✓
  k = 1: x = π/3 + π = 4π/3 ≈ 4.19, 4.19 < 4.71 ✓
  k = 2: x = π/3 + 2π = 7π/3 ≈ 7.33 > 4.71 ✗

STEP 7: Verify cos x ≠ 0 for each solution
  x = -2π/3: cos(-2π/3) = -1/2 ≠ 0 ✓
  x = -π/4: cos(-π/4) = √2/2 ≠ 0 ✓
  x = π/3: cos(π/3) = 1/2 ≠ 0 ✓
  x = 3π/4: cos(3π/4) = -√2/2 ≠ 0 ✓
  x = 4π/3: cos(4π/3) = -1/2 ≠ 0 ✓

All 5 solutions are valid.

VERIFICATION of x = -π/4:
LHS = (√3-1)sin(-π/4) + √3 cos(-π/4) = (√3-1)(-√2/2) + √3(√2/2)
    = (-√6/2 + √2/2 + √6/2) = √2/2
RHS = sin(-π/4)tan(-π/4) = (-√2/2)(-1) = √2/2 ✓

ANSWER: 5 solutions → B) 5
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  min-height: 100vh;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 30px 20px;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 14px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 10px 16px;
  min-width: 70px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 12px 0;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 14px 18px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  transition: all 0.2s;
  cursor: pointer;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.04);
  border-left-color: #4ade80;
}

.step-number {
  width: 28px;
  height: 28px;
  min-width: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  font-weight: 700;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

.theory-card details {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.12);
  border-radius: 10px;
  padding: 14px 18px;
}

.theory-card ul {
  margin-top: 10px;
  padding-left: 20px;
}

.theory-card li {
  margin-bottom: 10px;
  color: #cbd5e1;
}

.checkpoint {
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #34d399;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 22px 26px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 1px solid rgba(52,211,153,0.25);
  border-radius: 14px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.final-answer h2 {
  color: #4ade80;
}

.answer-highlight {
  color: #4ade80;
  font-size: 1.4rem;
  font-weight: 700;
  margin: 12px 0;
}

.options-display {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.option-card {
  padding: 10px 18px;
  border-radius: 10px;
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  color: #94a3b8;
  font-size: 1rem;
}

.option-card.correct {
  background: rgba(52,211,153,0.12);
  border-color: rgba(52,211,153,0.4);
  color: #4ade80;
  font-weight: 700;
}

.pitfall {
  background: rgba(224,148,104,0.06);
  border: 1px solid rgba(224,148,104,0.15);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.pitfall h2 {
  color: #e09468;
}

.pitfall ul {
  padding-left: 20px;
  margin-top: 10px;
}

.pitfall li {
  margin-bottom: 8px;
  color: #cbd5e1;
}

.challenge-card {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 24px;
}

.challenge-card h2 {
  color: #a78bfa;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

.solution-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin: 10px 0;
}

.solution-tag {
  background: rgba(96,165,250,0.1);
  border: 1px solid rgba(96,165,250,0.2);
  border-radius: 8px;
  padding: 6px 14px;
  color: #93c5fd;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 18px 12px; }
  .card { padding: 16px 14px; }
  .step-container { padding: 10px 12px; }
  .given-grid { gap: 6px; }
  .given-item { min-width: 55px; padding: 8px 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Trigonometrijska jednačina sa tangensnom funkcijom</h1>
  <p class="subtitle">Rešavanje trigonometrijske jednačine sa sinusom, kosinusom i tangensom na zadatom intervalu</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Broj svih realnih rešenja jednačine</p>
    <div class="math-block">
      \[ (\sqrt{3} - 1)\sin x + \sqrt{3}\cos x = \sin x \cdot \tg x \]
    </div>
    <p>na intervalu \(\left(-\pi,\; \dfrac{3\pi}{2}\right]\) jednak je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p>Prvo ćemo zameniti \(\tg x = \dfrac{\sin x}{\cos x}\) i pomnožiti jednačinu sa \(\cos x\), uz uslov da \(\cos x \neq 0\). Zatim ćemo upotrebiti formule za dvostruki ugao da svedemo jednačinu na oblik \(R\sin(2x + \varphi) = C\) i odrediti sva rešenja na datom intervalu.</p>
  </div>

  <!-- THEORY -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul>
        <li><strong>Veza tangensa:</strong> \(\tg x = \dfrac{\sin x}{\cos x}\), uz uslov \(\cos x \neq 0\)</li>
        <li><strong>Formule za dvostruki ugao:</strong>
          \[\sin x \cos x = \frac{1}{2}\sin 2x, \quad \cos^2 x = \frac{1+\cos 2x}{2}, \quad \sin^2 x = \frac{1-\cos 2x}{2}\]
        </li>
        <li><strong>Pomoćni ugao (linearna kombinacija):</strong> Za \(A\sin\theta + B\cos\theta = C\), važi
          \[R\sin(\theta + \varphi) = C, \quad \text{gde je } R = \sqrt{A^2 + B^2}\]
          a \(\varphi\) se određuje iz \(\cos\varphi = \frac{A}{R}\), \(\sin\varphi = \frac{B}{R}\)
        </li>
        <li><strong>Rešenje jednačine \(\sin\alpha = \sin\beta\):</strong>
          \[\alpha = \beta + 2k\pi \quad \text{ili} \quad \alpha = \pi - \beta + 2k\pi, \quad k \in \mathbb{Z}\]
        </li>
      </ul>
    </details>
  </div>

  <!-- VISUAL AID: Unit circle with solutions -->
  <div class="card">
    <h2>Vizuelni prikaz rešenja na jediničnoj kružnici</h2>
    <canvas id="mainCanvas" width="700" height="500"></canvas>
    <p class="canvas-hint">Prikaz svih 5 rešenja jednačine na intervalu \((-\pi,\; \frac{3\pi}{2}]\)</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- STEP 1 -->
    <div class="step-container" id="step1">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>Određivanje domena</h3>
        <p>Pošto se u jednačini pojavljuje \(\tg x = \dfrac{\sin x}{\cos x}\), moramo zahtevati da \(\cos x \neq 0\).</p>
        <p>To znači da je:</p>
        <div class="math-block">
          \[ x \neq \frac{\pi}{2} + k\pi, \quad k \in \mathbb{Z} \]
        </div>
        <p>Na intervalu \(\left(-\pi, \frac{3\pi}{2}\right]\) to isključuje vrednosti \(x = -\frac{\pi}{2}\), \(x = \frac{\pi}{2}\) i \(x = \frac{3\pi}{2}\).</p>
        <p class="note">Napomena: \(x = \frac{3\pi}{2}\) je na granici intervala, ali \(\cos\frac{3\pi}{2} = 0\), pa ne pripada domenu.</p>
      </div>
    </div>

    <!-- STEP 2 -->
    <div class="step-container" id="step2">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>Zamena tangensa i množenje sa \(\cos x\)</h3>
        <p>Zamenimo \(\tg x = \frac{\sin x}{\cos x}\) u desnoj strani:</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\sin x + \sqrt{3}\cos x = \frac{\sin^2 x}{\cos x} \]
        </div>
        <p>Pomnožimo obe strane sa \(\cos x\) (što je dopušteno jer je \(\cos x \neq 0\)):</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\sin x \cos x + \sqrt{3}\cos^2 x = \sin^2 x \]
        </div>
      </div>
    </div>

    <!-- STEP 3 -->
    <div class="step-container" id="step3">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>Primena formula za dvostruki ugao</h3>
        <p>Koristimo identitete:</p>
        <div class="math-block">
          \[ \sin x \cos x = \tfrac{1}{2}\sin 2x, \quad \cos^2 x = \tfrac{1+\cos 2x}{2}, \quad \sin^2 x = \tfrac{1-\cos 2x}{2} \]
        </div>
        <p>Zamenom dobijamo:</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\cdot\frac{\sin 2x}{2} + \sqrt{3}\cdot\frac{1+\cos 2x}{2} = \frac{1-\cos 2x}{2} \]
        </div>
        <p>Pomnožimo celom jednačinom sa 2:</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\sin 2x + \sqrt{3}(1+\cos 2x) = 1-\cos 2x \]
        </div>
      </div>
    </div>

    <!-- STEP 4 -->
    <div class="step-container" id="step4">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>Sređivanje jednačine</h3>
        <p>Raspisujemo levu stranu:</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\sin 2x + \sqrt{3} + \sqrt{3}\cos 2x = 1 - \cos 2x \]
        </div>
        <p>Prebacujemo sve na levu stranu i grupišemo:</p>
        <div class="math-block">
          \[ (\sqrt{3}-1)\sin 2x + (\sqrt{3}+1)\cos 2x = 1 - \sqrt{3} \]
        </div>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Kolika je vrednost \((\sqrt{3}-1)^2 + (\sqrt{3}+1)^2\)?</summary>
        <p style="margin-top:8px; color:#cbd5e1;">
          \((\sqrt{3}-1)^2 = 4 - 2\sqrt{3}\) i \((\sqrt{3}+1)^2 = 4 + 2\sqrt{3}\). Zbir je \(8\). Dakle \(R = \sqrt{8} = 2\sqrt{2}\).
        </p>
      </details>
    </div>

    <!-- STEP 5 -->
    <div class="step-container" id="step5">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>Metoda pomoćnog ugla</h3>
        <p>Jednačinu oblika \(A\sin\theta + B\cos\theta = C\) svodi se na \(R\sin(\theta + \varphi) = C\), gde je:</p>
        <div class="math-block">
          \[ A = \sqrt{3}-1, \quad B = \sqrt{3}+1, \quad R = \sqrt{A^2+B^2} = 2\sqrt{2} \]
        </div>
        <p>Ugao \(\varphi\) se određuje iz:</p>
        <div class="math-block">
          \[ \cos\varphi = \frac{\sqrt{3}-1}{2\sqrt{2}}, \quad \sin\varphi = \frac{\sqrt{3}+1}{2\sqrt{2}} \]
        </div>
        <p>Prepoznajemo da je \(\cos 75° = \frac{\sqrt{6}-\sqrt{2}}{4} = \frac{\sqrt{3}-1}{2\sqrt{2}}\) i \(\sin 75° = \frac{\sqrt{6}+\sqrt{2}}{4} = \frac{\sqrt{3}+1}{2\sqrt{2}}\), pa je:</p>
        <div class="math-block">
          \[ \varphi = 75° = \frac{5\pi}{12} \]
        </div>
      </div>
    </div>

    <!-- STEP 6 -->
    <div class="step-container" id="step6">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>Formiranje i rešavanje sinusne jednačine</h3>
        <p>Jednačina sada glasi:</p>
        <div class="math-block">
          \[ 2\sqrt{2}\,\sin\!\left(2x + \frac{5\pi}{12}\right) = 1 - \sqrt{3} \]
        </div>
        <p>Delimo sa \(2\sqrt{2}\):</p>
        <div class="math-block">
          \[ \sin\!\left(2x + \frac{5\pi}{12}\right) = \frac{1-\sqrt{3}}{2\sqrt{2}} = -\frac{\sqrt{3}-1}{2\sqrt{2}} = -\cos 75° \]
        </div>
        <p>Pošto je \(\cos 75° = \sin 15°\), važi:</p>
        <div class="math-block">
          \[ \sin\!\left(2x + \frac{5\pi}{12}\right) = -\sin\frac{\pi}{12} = \sin\!\left(-\frac{\pi}{12}\right) \]
        </div>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Koja su dva slučaja za \(\sin\alpha = \sin\beta\)?</summary>
        <p style="margin-top:8px; color:#cbd5e1;">
          Slučaj 1: \(\alpha = \beta + 2k\pi\). Slučaj 2: \(\alpha = \pi - \beta + 2k\pi\), gde je \(k \in \mathbb{Z}\).
        </p>
      </details>
    </div>

    <!-- STEP 7 -->
    <div class="step-container" id="step7">
      <div class="step-number">7</div>
      <div class="step-content">
        <h3>Nalaženje opšteg rešenja - Slučaj 1</h3>
        <p>Iz \(\sin\alpha = \sin\beta\) gde je \(\alpha = 2x + \frac{5\pi}{12}\) i \(\beta = -\frac{\pi}{12}\):</p>
        <div class="math-block">
          \[ 2x + \frac{5\pi}{12} = -\frac{\pi}{12} + 2k\pi \]
        </div>
        <p>Rešavamo po \(x\):</p>
        <div class="math-block">
          \[ 2x = -\frac{\pi}{12} - \frac{5\pi}{12} + 2k\pi = -\frac{6\pi}{12} + 2k\pi = -\frac{\pi}{2} + 2k\pi \]
        </div>
        <div class="math-block">
          \[ \boxed{x = -\frac{\pi}{4} + k\pi, \quad k \in \mathbb{Z}} \]
        </div>
      </div>
    </div>

    <!-- STEP 8 -->
    <div class="step-container" id="step8">
      <div class="step-number">8</div>
      <div class="step-content">
        <h3>Nalaženje opšteg rešenja - Slučaj 2</h3>
        <p>Drugi slučaj:</p>
        <div class="math-block">
          \[ 2x + \frac{5\pi}{12} = \pi - \left(-\frac{\pi}{12}\right) + 2k\pi = \pi + \frac{\pi}{12} + 2k\pi \]
        </div>
        <p>Rešavamo po \(x\):</p>
        <div class="math-block">
          \[ 2x = \pi + \frac{\pi}{12} - \frac{5\pi}{12} + 2k\pi = \pi - \frac{4\pi}{12} + 2k\pi = \frac{2\pi}{3} + 2k\pi \]
        </div>
        <div class="math-block">
          \[ \boxed{x = \frac{\pi}{3} + k\pi, \quad k \in \mathbb{Z}} \]
        </div>
      </div>
    </div>

    <!-- STEP 9 -->
    <div class="step-container" id="step9">
      <div class="step-number">9</div>
      <div class="step-content">
        <h3>Odabir rešenja na intervalu \(\left(-\pi, \frac{3\pi}{2}\right]\)</h3>
        <p><strong>Iz prvog slučaja</strong> \(x = -\frac{\pi}{4} + k\pi\):</p>
        <div class="math-block">
          \[\begin{align}
          k = 0: &\quad x = -\frac{\pi}{4} \approx -0{,}785 \quad \checkmark \\[4pt]
          k = 1: &\quad x = \frac{3\pi}{4} \approx 2{,}356 \quad \checkmark \\[4pt]
          k = -1: &\quad x = -\frac{5\pi}{4} \approx -3{,}93 \quad (\text{manje od } -\pi) \quad \times \\[4pt]
          k = 2: &\quad x = \frac{7\pi}{4} \approx 5{,}50 \quad (\text{veće od } \tfrac{3\pi}{2}) \quad \times
          \end{align}\]
        </div>
        <p><strong>Iz drugog slučaja</strong> \(x = \frac{\pi}{3} + k\pi\):</p>
        <div class="math-block">
          \[\begin{align}
          k = -1: &\quad x = -\frac{2\pi}{3} \approx -2{,}094 \quad \checkmark \\[4pt]
          k = 0: &\quad x = \frac{\pi}{3} \approx 1{,}047 \quad \checkmark \\[4pt]
          k = 1: &\quad x = \frac{4\pi}{3} \approx 4{,}189 \quad \checkmark \\[4pt]
          k = 2: &\quad x = \frac{7\pi}{3} \approx 7{,}33 \quad (\text{veće od } \tfrac{3\pi}{2}) \quad \times
          \end{align}\]
        </div>
      </div>
    </div>

    <!-- STEP 10 -->
    <div class="step-container" id="step10">
      <div class="step-number">10</div>
      <div class="step-content">
        <h3>Provera uslova domena</h3>
        <p>Za svako rešenje proveravamo da li je \(\cos x \neq 0\):</p>
        <div class="math-block">
          \[\begin{align}
          x = -\frac{2\pi}{3}: &\quad \cos\!\left(-\frac{2\pi}{3}\right) = -\frac{1}{2} \neq 0 \quad \checkmark \\[4pt]
          x = -\frac{\pi}{4}: &\quad \cos\!\left(-\frac{\pi}{4}\right) = \frac{\sqrt{2}}{2} \neq 0 \quad \checkmark \\[4pt]
          x = \frac{\pi}{3}: &\quad \cos\frac{\pi}{3} = \frac{1}{2} \neq 0 \quad \checkmark \\[4pt]
          x = \frac{3\pi}{4}: &\quad \cos\frac{3\pi}{4} = -\frac{\sqrt{2}}{2} \neq 0 \quad \checkmark \\[4pt]
          x = \frac{4\pi}{3}: &\quad \cos\frac{4\pi}{3} = -\frac{1}{2} \neq 0 \quad \checkmark
          \end{align}\]
        </div>
        <p>Svih <strong>5 rešenja</strong> zadovoljava uslov domena.</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>Proveri sebe: Verifikacija za \(x = -\frac{\pi}{4}\)</summary>
        <p style="margin-top:8px; color:#cbd5e1;">
          Leva strana: \((\sqrt{3}-1)\sin\!\left(-\frac{\pi}{4}\right) + \sqrt{3}\cos\!\left(-\frac{\pi}{4}\right) = (\sqrt{3}-1)\!\left(-\frac{\sqrt{2}}{2}\right) + \sqrt{3}\cdot\frac{\sqrt{2}}{2} = \frac{\sqrt{2}}{2}\)
        </p>
        <p style="color:#cbd5e1;">
          Desna strana: \(\sin\!\left(-\frac{\pi}{4}\right)\cdot\tg\!\left(-\frac{\pi}{4}\right) = \left(-\frac{\sqrt{2}}{2}\right)\cdot(-1) = \frac{\sqrt{2}}{2}\) &nbsp; \(\checkmark\)
        </p>
      </details>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="margin-top: 12px; color: #cbd5e1;">Jednačina se svodi na sinusnu jednačinu po dvostrukom uglu, dajući dve familije rešenja:</p>
    <div class="math-block" style="display:inline-block; margin-top:12px;">
      \[ x = -\frac{\pi}{4} + k\pi \quad \text{i} \quad x = \frac{\pi}{3} + k\pi \]
    </div>
    <p style="margin-top: 12px; color: #cbd5e1;">Na intervalu \(\left(-\pi, \frac{3\pi}{2}\right]\) nalazimo po <span style="color:#4ade80; font-weight:700;">2</span> rešenja iz prve i <span style="color:#4ade80; font-weight:700;">3</span> iz druge familije, ukupno <span style="color:#4ade80; font-weight:700; font-size:1.2rem;">5</span>.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <p class="answer-highlight">Broj svih realnih rešenja je 5.</p>
    <p>Rešenja su:</p>
    <div class="solution-list">
      <span class="solution-tag">\(x = -\dfrac{2\pi}{3}\)</span>
      <span class="solution-tag">\(x = -\dfrac{\pi}{4}\)</span>
      <span class="solution-tag">\(x = \dfrac{\pi}{3}\)</span>
      <span class="solution-tag">\(x = \dfrac{3\pi}{4}\)</span>
      <span class="solution-tag">\(x = \dfrac{4\pi}{3}\)</span>
    </div>

    <div class="options-display" style="margin-top:18px;">
      <div class="option-card">(A) 4</div>
      <div class="option-card correct">(B) 5</div>
      <div class="option-card">(C) 1</div>
      <div class="option-card">(D) 2</div>
      <div class="option-card">(E) 3</div>
    </div>

    <p style="margin-top:16px;" class="note">Verifikacija: Prva familija daje 2 rešenja (za \(k=0\) i \(k=1\)), a druga 3 (za \(k=-1, 0, 1\)). Nijedno rešenje ne pada u tačku gde je \(\cos x = 0\), tako da nema lažnih rešenja.</p>
  </div>

  <!-- PITFALLS -->
  <div class="pitfall">
    <h2>Najčešće greške</h2>
    <ul>
      <li><strong>Zaboravljanje uslova domena:</strong> Množenje sa \(\cos x\) je dopušteno samo ako \(\cos x \neq 0\). Treba obavezno proveriti da nijedno dobijeno rešenje ne poništava imenilac.</li>
      <li><strong>Pogrešne granice intervala:</strong> Interval je \((-\pi, \frac{3\pi}{2}]\) — leva granica \(-\pi\) nije uključena (otvoren interval), a desna \(\frac{3\pi}{2}\) jeste (zatvoren), ali \(\cos\frac{3\pi}{2}=0\), pa se ionako isključuje.</li>
      <li><strong>Pogrešan pomoćni ugao:</strong> Ugao \(\varphi = \frac{5\pi}{12}\) (tj. \(75°\)) se dobija iz poznatih vrednosti \(\cos 75°\) i \(\sin 75°\). Greška u prepoznavanju ovog ugla vodi do pogrešnih rešenja.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliko bi rešenja imala ista jednačina na intervalu \([0, 2\pi)\)?</p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="margin-top:8px; color:#cbd5e1;">Iz prve familije \(x = -\frac{\pi}{4}+k\pi\) na \([0, 2\pi)\) dobijamo \(x = \frac{3\pi}{4}\) i \(x = \frac{7\pi}{4}\). Iz druge \(x = \frac{\pi}{3}+k\pi\) dobijamo \(x = \frac{\pi}{3}\) i \(x = \frac{4\pi}{3}\). Koliko je to ukupno?</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Main canvas: Unit circle with solutions marked
  const canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const cx = W / 2;
  const cy = H / 2 + 10;
  const R = Math.min(W, H) * 0.36;

  // Solutions
  const solutions = [
    { x: -2*Math.PI/3, label: '-2\u03c0/3', family: 2 },
    { x: -Math.PI/4, label: '-\u03c0/4', family: 1 },
    { x: Math.PI/3, label: '\u03c0/3', family: 2 },
    { x: 3*Math.PI/4, label: '3\u03c0/4', family: 1 },
    { x: 4*Math.PI/3, label: '4\u03c0/3', family: 2 }
  ];

  // Excluded points
  const excluded = [
    { x: -Math.PI/2, label: '-\u03c0/2' },
    { x: Math.PI/2, label: '\u03c0/2' },
    { x: 3*Math.PI/2, label: '3\u03c0/2' }
  ];

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -5; i <= 5; i++) {
      const gx = cx + i * (R / 3);
      ctx.beginPath();
      ctx.moveTo(gx, 0);
      ctx.lineTo(gx, H);
      ctx.stroke();
      const gy = cy + i * (R / 3);
      ctx.beginPath();
      ctx.moveTo(0, gy);
      ctx.lineTo(W, gy);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(0, cy);
    ctx.lineTo(W, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, 0);
    ctx.lineTo(cx, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', W - 18, cy - 10);
    ctx.textAlign = 'center';
    ctx.fillText('y', cx + 14, 18);

    // Unit circle
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    // Arc showing the interval (-π, 3π/2]
    // From angle -π (exclusive) to 3π/2 (inclusive), going counterclockwise is not standard
    // Let's show it as a highlighted arc
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.25)';
    ctx.lineWidth = 6;
    ctx.beginPath();
    // Canvas angles: 0 is right, positive clockwise
    // Math angle θ maps to canvas angle -θ
    // Interval (-π, 3π/2] = from -π to 3π/2
    // On canvas: from π (left) going clockwise down past -π/2 bottom to -3π/2 = top
    // Actually let's draw from angle π (= -π on canvas) counterclockwise to -3π/2
    // canvas angle for math angle θ is -θ
    // -π -> canvas: -(-π) = π
    // 3π/2 -> canvas: -(3π/2) = -3π/2 = π/2 (going counterclockwise on canvas)
    // We want counterclockwise on math circle = clockwise on canvas
    ctx.arc(cx, cy, R, Math.PI, -3*Math.PI/2, true);
    ctx.stroke();

    // Draw excluded points (where cos x = 0)
    excluded.forEach(pt => {
      const px = cx + R * Math.cos(pt.x);
      const py = cy - R * Math.sin(pt.x);
      ctx.strokeStyle = '#ef4444';
      ctx.lineWidth = 2;
      const s = 7;
      ctx.beginPath();
      ctx.moveTo(px - s, py - s);
      ctx.lineTo(px + s, py + s);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(px + s, py - s);
      ctx.lineTo(px - s, py + s);
      ctx.stroke();
    });

    // Draw solution points
    const family1Color = '#60a5fa';
    const family2Color = '#a78bfa';

    solutions.forEach((sol, i) => {
      const px = cx + R * Math.cos(sol.x);
      const py = cy - R * Math.sin(sol.x);

      const color = sol.family === 1 ? family1Color : family2Color;

      // Line from center to point
      ctx.strokeStyle = color + '40';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(px, py);
      ctx.stroke();
      ctx.setLineDash([]);

      // Glow
      const grad = ctx.createRadialGradient(px, py, 0, px, py, 16);
      grad.addColorStop(0, color + '60');
      grad.addColorStop(1, color + '00');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(px, py, 16, 0, 2 * Math.PI);
      ctx.fill();

      // Dot
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(px, py, 6, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';

      // Position label to avoid overlapping
      const labelR = R + 28;
      const lx = cx + labelR * Math.cos(sol.x);
      const ly = cy - labelR * Math.sin(sol.x);
      ctx.fillText('x = ' + sol.label, lx, ly + 4);
    });

    // Legend
    const legendX = 20;
    const legendY = H - 70;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const lw = 260;
    const lh = 64;
    const lr = 8;
    ctx.beginPath();
    ctx.roundRect(legendX, legendY, lw, lh, lr);
    ctx.fill();
    ctx.stroke();

    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';

    // Family 1
    ctx.fillStyle = family1Color;
    ctx.beginPath();
    ctx.arc(legendX + 14, legendY + 18, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#cbd5e1';
    ctx.fillText('x = -\u03c0/4 + k\u03c0  (2 rešenja)', legendX + 26, legendY + 22);

    // Family 2
    ctx.fillStyle = family2Color;
    ctx.beginPath();
    ctx.arc(legendX + 14, legendY + 42, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#cbd5e1';
    ctx.fillText('x = \u03c0/3 + k\u03c0  (3 rešenja)', legendX + 26, legendY + 46);

    // Excluded legend
    const exLegX = W - 200;
    const exLegY = H - 40;
    ctx.strokeStyle = '#ef4444';
    ctx.lineWidth = 2;
    const es = 5;
    ctx.beginPath();
    ctx.moveTo(exLegX - es, exLegY - es);
    ctx.lineTo(exLegX + es, exLegY + es);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(exLegX + es, exLegY - es);
    ctx.lineTo(exLegX - es, exLegY + es);
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('cos x = 0 (isključeno)', exLegX + 14, exLegY + 4);

    // Key angles on circle
    ctx.fillStyle = '#64748b';
    ctx.font = '11px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('0', cx + R + 16, cy + 4);
    ctx.fillText('\u03c0', cx - R - 16, cy + 4);
    ctx.fillText('\u03c0/2', cx, cy - R - 10);
    ctx.fillText('3\u03c0/2', cx, cy + R + 16);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijska jednačina sa tangensnom funkcijom - broj rešenja na intervalu",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrijska jednačina", "tangens", "pomoćni ugao", "dvostruki ugao", "sinusna jednačina", "jedinična kružnica"]
}
BRAINSPARK_META-->