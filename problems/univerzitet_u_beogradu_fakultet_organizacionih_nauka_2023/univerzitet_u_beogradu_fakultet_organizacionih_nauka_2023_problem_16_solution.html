<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Odnos povrsine omotaca i osnove pravilne sestostrane piramide</title>

  <script type="text/info" id="logic-scratchpad">
    Problem: Pravilna sestostrana piramida. Visina H = 3a, gde je a stranica osnove.
    Trazi se odnos: P_omotac / P_osnova

    Osnova: pravilni sestostrougao sa stranicom a.

    Korak 1: Povrsina osnove pravilnog sestostrougla
      Pravilni sestostrougao sa stranicom a:
      P_osnova = (3 * sqrt(3) / 2) * a^2

    Korak 2: Apotema pravilnog sestostrougla (rastojanje od centra do sredine stranice)
      Apotema d = a * sqrt(3) / 2

    Korak 3: Bočna apotema piramide (visina bočne strane = kosina visina od vrha do sredine
      ivice osnove)
      Formiramo pravougli trougao: katete su H = 3a i d = a*sqrt(3)/2, a hipotenuza je bočna apotema h_b.
      h_b = sqrt(H^2 + d^2) = sqrt(9a^2 + 3a^2/4) = sqrt(36a^2/4 + 3a^2/4) = sqrt(39a^2/4)
      h_b = a * sqrt(39) / 2

    Korak 4: Povrsina omotaca
      Omotac se sastoji od 6 jednakih jednakokrakih trouglova.
      Svaki trougao ima osnovu a i visinu h_b = a*sqrt(39)/2.
      P_jednog_trougla = (1/2) * a * h_b = (1/2) * a * a*sqrt(39)/2 = a^2 * sqrt(39) / 4

      P_omotac = 6 * a^2 * sqrt(39) / 4 = 3 * a^2 * sqrt(39) / 2

    Korak 5: Odnos
      P_omotac / P_osnova = (3a^2 * sqrt(39) / 2) / (3*sqrt(3)*a^2 / 2)
                          = sqrt(39) / sqrt(3)
                          = sqrt(39/3)
                          = sqrt(13)

    Dakle odnos je sqrt(13) : 1

    Odgovor: B) sqrt(13) : 1

    Provera: sqrt(13) ≈ 3,606, sto je razumno za piramidu cija je visina 3 puta veca od stranice.
    Ostale opcije:
      A) 2*sqrt(3) ≈ 3,464
      B) sqrt(13) ≈ 3,606  <-- TACAN
      C) 2*sqrt(11)/sqrt(3) ≈ 3,830
      D) 3*sqrt(2) ≈ 4,243
      E) 2*sqrt(10)/sqrt(3) ≈ 3,651
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.7;
      padding: 24px 20px 60px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 1rem;
      margin-bottom: 32px;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title .icon {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .problem-statement .card-title .icon { background: #1d4ed8; color: #93c5fd; }

    .problem-text {
      font-size: 1.05rem;
      color: #e2e8f0;
      margin-bottom: 18px;
    }

    .given-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 1px solid #475569;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 0.95rem;
      color: #cbd5e1;
      cursor: default;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .given-item.answer-option .label {
      font-weight: 600;
    }

    .plan-card .card-title .icon { background: #0e7490; color: #67e8f9; }

    .plan-text {
      color: #94a3b8;
      font-style: italic;
    }

    details {
      border: 1px solid #334155;
      border-radius: 10px;
      overflow: hidden;
      margin: 15px 0;
    }

    summary {
      background: #1e293b;
      padding: 12px 18px;
      cursor: pointer;
      font-weight: 600;
      color: #a78bfa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    summary::-webkit-details-marker { display: none; }

    summary::before {
      content: '\25B6';
      font-size: 0.7rem;
      transition: transform 0.2s;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .details-body {
      background: #0f172a;
      padding: 16px 20px;
      border-top: 1px solid #334155;
    }

    .formula-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      margin-top: 8px;
    }

    .formula-box {
      background: #1e293b;
      border-left: 3px solid #60a5fa;
      border-radius: 8px;
      padding: 12px 16px;
      color: #93c5fd;
      font-size: 0.95rem;
    }

    .formula-box .formula-label {
      color: #94a3b8;
      font-size: 0.82rem;
      margin-bottom: 4px;
    }

    canvas {
      display: block;
      width: 100%;
      border-radius: 10px;
      touch-action: none;
      cursor: default;
    }

    .canvas-hint {
      color: #64748b;
      font-size: 0.82rem;
      margin-top: 8px;
    }

    .steps-container { display: flex; flex-direction: column; gap: 20px; }

    .step {
      display: flex;
      gap: 18px;
      align-items: flex-start;
    }

    .step-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1d4ed8, #7c3aed);
      color: #fff;
      font-weight: 800;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .step-content { flex: 1; }

    .step-title {
      font-weight: 700;
      font-size: 1rem;
      color: #c4b5fd;
      margin-bottom: 6px;
    }

    .step-text {
      color: #cbd5e1;
      margin-bottom: 10px;
    }

    .math-block {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 14px 18px;
      margin: 10px 0;
      overflow-x: auto;
    }

    .math-block.highlight {
      border-left: 3px solid #60a5fa;
    }

    .math-block.result {
      border-left: 3px solid #34d399;
    }

    .checkpoint {
      margin: 15px 0;
    }

    .checkpoint summary {
      color: #34d399;
      font-size: 0.9rem;
    }

    .checkpoint .details-body {
      font-size: 0.9rem;
      color: #94a3b8;
    }

    .key-insight {
      background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
      border: 1px solid #4f46e5;
      border-radius: 14px;
      padding: 20px 26px;
      margin-bottom: 22px;
    }

    .key-insight .insight-title {
      font-size: 1rem;
      font-weight: 700;
      color: #a78bfa;
      margin-bottom: 10px;
    }

    .key-insight p { color: #cbd5e1; }

    .final-answer-card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
      text-align: center;
    }

    .final-answer-card .answer-label {
      color: #94a3b8;
      margin-bottom: 10px;
      font-size: 0.95rem;
    }

    .final-answer-value {
      font-size: 2.5rem;
      font-weight: 900;
      color: #34d399;
      margin-bottom: 18px;
      letter-spacing: 1px;
    }

    .verification-note {
      color: #94a3b8;
      font-size: 0.9rem;
      margin-top: 14px;
      text-align: left;
      background: #0f172a;
      padding: 12px 16px;
      border-radius: 8px;
      border-left: 3px solid #34d399;
    }

    .options-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    .opt-pill {
      padding: 8px 20px;
      border-radius: 9px;
      font-size: 0.95rem;
      font-weight: 600;
      border: 1.5px solid #475569;
      color: #94a3b8;
      background: #0f172a;
    }

    .opt-pill.correct {
      border-color: #34d399;
      color: #34d399;
      background: rgba(52,211,153,0.08);
    }

    .pitfall-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin-bottom: 10px;
      color: #fca5a5;
      font-size: 0.97rem;
    }

    .pitfall-icon {
      background: #7f1d1d;
      color: #fca5a5;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 0.85rem;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .challenge-card {
      background: #1e293b;
      border: 1px dashed #475569;
      border-radius: 12px;
      padding: 18px 22px;
    }

    .challenge-title {
      color: #f472b6;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .challenge-text { color: #cbd5e1; }

    @media (max-width: 700px) {
      h1 { font-size: 1.45rem; }
      .step { flex-direction: column; gap: 8px; }
      .final-answer-value { font-size: 1.9rem; }
      .given-grid { flex-direction: column; }
    }
  </style>
</head>
<body>
<div class="container">

  <h1>Odnos povrsina pravilne sestostrane piramide</h1>
  <p class="subtitle">Stereometrija — pravilna sestostrana piramida, povrsina omotaca i osnove</p>

  <!-- Tekst zadatka -->
  <div class="card problem-statement">
    <div class="card-title">
      <span class="icon">Z</span>
      Postavka zadatka
    </div>
    <p class="problem-text">
      Ako je duzina visine prave pravilne sestostrane piramide tri puta veca od duzine stranice njene osnove, tada je odnos povrsine omotaca i povrsine osnove te piramide jednak:
    </p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A"><div class="label">(A)</div><div class="value">\(2\sqrt{3} : 1\)</div></div>
      <div class="given-item answer-option" data-option="B"><div class="label">(B)</div><div class="value">\(\sqrt{13} : 1\)</div></div>
      <div class="given-item answer-option" data-option="C"><div class="label">(C)</div><div class="value">\(2\sqrt{11} : \sqrt{3}\)</div></div>
      <div class="given-item answer-option" data-option="D"><div class="label">(D)</div><div class="value">\(3\sqrt{2} : 1\)</div></div>
      <div class="given-item answer-option" data-option="E"><div class="label">(E)</div><div class="value">\(2\sqrt{10} : \sqrt{3}\)</div></div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <div class="card-title">
      <span class="icon" style="background:#065f46;color:#6ee7b7;">P</span>
      Plan resavanja
    </div>
    <p class="plan-text">
      Oznacicemo stranicu osnove sa \(a\), pa je visina \(H = 3a\). Izracunacemo apotemu osnove, zatim bocnu apotemu piramide (preko Pitagorine teoreme), pa pojedinacno povrsinu omotaca i osnove. Na kraju cemo izracunati njihov odnos.
    </p>
  </div>

  <!-- Teorija -->
  <details style="margin-bottom:22px;">
    <summary>Kljucne formule i teoreme</summary>
    <div class="details-body">
      <div class="formula-grid">
        <div class="formula-box">
          <div class="formula-label">Povrsina pravilnog sestostrougla (stranica \(a\))</div>
          \[P_{\text{osnova}} = \frac{3\sqrt{3}}{2}\,a^2\]
        </div>
        <div class="formula-box">
          <div class="formula-label">Apotema pravilnog sestostrougla</div>
          \[d = \frac{a\sqrt{3}}{2}\]
          Rastojanje od centra do sredista stranice.
        </div>
        <div class="formula-box">
          <div class="formula-label">Povrsina omotaca pravilne piramide</div>
          \[P_{\text{omotac}} = \frac{1}{2} \cdot O \cdot h_b\]
          gde je \(O\) obim osnove, a \(h_b\) bocna apotema (visina bocne strane).
        </div>
        <div class="formula-box">
          <div class="formula-label">Pitagorina teorema</div>
          \[h_b = \sqrt{H^2 + d^2}\]
          Bocna apotema iz visine piramide i apoteme osnove.
        </div>
      </div>
      <canvas id="theoryCanvas" width="500" height="240"></canvas>
      <p style="color:#64748b; font-size:0.8rem; margin-top:6px; text-align:center;">Pravougli trougao: visina piramide \(H\), apotema osnove \(d\) i bocna apotema \(h_b\)</p>
    </div>
  </details>

  <!-- Vizuelni prikaz -->
  <div class="card" style="padding:18px 22px;">
    <div class="card-title">
      <span class="icon" style="background:#4c1d95;color:#c4b5fd;">D</span>
      Vizuelni prikaz piramide
    </div>
    <canvas id="pyramidCanvas" width="720" height="480"></canvas>
    <p class="canvas-hint">Prikaz pravilne sestostrane piramide sa oznacenim kljucnim merama.</p>
  </div>

  <!-- Korak po korak -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#7c3aed;color:#ddd6fe;">K</span>
      Resenje korak po korak
    </div>
    <div class="steps-container">

      <!-- Korak 1 -->
      <div class="step">
        <div class="step-badge">1</div>
        <div class="step-content">
          <div class="step-title">Uvodimo oznake</div>
          <p class="step-text">
            Neka je \(a\) duzina stranice osnove pravilne sestostrane piramide. Prema uslovu zadatka, visina piramide je:
          </p>
          <div class="math-block highlight">
            \[H = 3a\]
          </div>
        </div>
      </div>

      <!-- Korak 2 -->
      <div class="step">
        <div class="step-badge">2</div>
        <div class="step-content">
          <div class="step-title">Povrsina osnove</div>
          <p class="step-text">
            Osnova je pravilan sestostrougao sa stranicom \(a\). Povrsina pravilnog sestostrougla je:
          </p>
          <div class="math-block highlight">
            \[P_{\text{osnova}} = \frac{3\sqrt{3}}{2}\,a^2\]
          </div>
          <p class="step-text">
            Ovo se dobija jer se pravilni sestostrougao moze razloziti na 6 jednakostranicnih trouglova, svaki sa stranicom \(a\) i povrsinom \(\frac{\sqrt{3}}{4}a^2\).
          </p>
        </div>
      </div>

      <!-- Korak 3 -->
      <div class="step">
        <div class="step-badge">3</div>
        <div class="step-content">
          <div class="step-title">Apotema osnove</div>
          <p class="step-text">
            Apotema pravilnog sestostrougla je rastojanje od centra do sredista jedne stranice. Za pravilan sestostrougao sa stranicom \(a\):
          </p>
          <div class="math-block highlight">
            \[d = \frac{a\sqrt{3}}{2}\]
          </div>

          <details class="checkpoint">
            <summary>Proveri sebe: Kako se dobija apotema sestostrougla?</summary>
            <div class="details-body">
              Pravilan sestostrougao se sastoji od 6 jednakostranicnih trouglova. Apotema sestostrougla je visina jednog od tih trouglova. Za jednakostranicni trougao sa stranicom \(a\), visina je \(\frac{a\sqrt{3}}{2}\).
            </div>
          </details>
        </div>
      </div>

      <!-- Korak 4 -->
      <div class="step">
        <div class="step-badge">4</div>
        <div class="step-content">
          <div class="step-title">Bocna apotema piramide (kosina visina)</div>
          <p class="step-text">
            Bocna apotema \(h_b\) je rastojanje od vrha piramide do sredista ivice osnove. Ona je hipotenuza pravouglog trougla cije su katete visina piramide \(H\) i apotema osnove \(d\):
          </p>
          <div class="math-block">
            \[h_b = \sqrt{H^2 + d^2}\]
          </div>
          <p class="step-text">
            Uvrstimo poznate vrednosti:
          </p>
          <div class="math-block">
            \[h_b = \sqrt{(3a)^2 + \left(\frac{a\sqrt{3}}{2}\right)^2}\]
          </div>
          <div class="math-block">
            \[h_b = \sqrt{9a^2 + \frac{3a^2}{4}}\]
          </div>
          <p class="step-text">
            Svedemo na zajednicki imenilac:
          </p>
          <div class="math-block">
            \[h_b = \sqrt{\frac{36a^2}{4} + \frac{3a^2}{4}} = \sqrt{\frac{39a^2}{4}}\]
          </div>
          <div class="math-block highlight">
            \[h_b = \frac{a\sqrt{39}}{2}\]
          </div>
        </div>
      </div>

      <!-- Korak 5 -->
      <div class="step">
        <div class="step-badge">5</div>
        <div class="step-content">
          <div class="step-title">Povrsina omotaca</div>
          <p class="step-text">
            Omotac se sastoji od 6 jednakih jednakokrakih trouglova. Svaki trougao ima osnovu \(a\) i visinu \(h_b\). Ukupna povrsina omotaca je:
          </p>
          <div class="math-block">
            \[P_{\text{omotac}} = 6 \cdot \frac{1}{2} \cdot a \cdot h_b = 3a \cdot h_b\]
          </div>
          <p class="step-text">
            Ili ekvivalentno, koristeci formulu sa obimom osnove \(O = 6a\):
          </p>
          <div class="math-block">
            \[P_{\text{omotac}} = \frac{1}{2} \cdot O \cdot h_b = \frac{1}{2} \cdot 6a \cdot \frac{a\sqrt{39}}{2}\]
          </div>
          <div class="math-block highlight">
            \[P_{\text{omotac}} = \frac{3a^2\sqrt{39}}{2}\]
          </div>
        </div>
      </div>

      <!-- Korak 6 -->
      <div class="step">
        <div class="step-badge">6</div>
        <div class="step-content">
          <div class="step-title">Racunanje odnosa</div>
          <p class="step-text">
            Sada racunamo trazeni odnos:
          </p>
          <div class="math-block">
            \[\frac{P_{\text{omotac}}}{P_{\text{osnova}}} = \frac{\dfrac{3a^2\sqrt{39}}{2}}{\dfrac{3\sqrt{3}\,a^2}{2}}\]
          </div>
          <p class="step-text">
            Skracujemo \(\frac{3a^2}{2}\) u brojiocu i imeniocu:
          </p>
          <div class="math-block">
            \[\frac{P_{\text{omotac}}}{P_{\text{osnova}}} = \frac{\sqrt{39}}{\sqrt{3}}\]
          </div>
          <p class="step-text">
            Pojednostavimo razlomak pod korenom:
          </p>
          <div class="math-block result">
            \[\frac{\sqrt{39}}{\sqrt{3}} = \sqrt{\frac{39}{3}} = \sqrt{13}\]
          </div>

          <details class="checkpoint">
            <summary>Proveri sebe: Koliko je priblizno \(\sqrt{13}\)?</summary>
            <div class="details-body">
              \(\sqrt{13} \approx 3{,}606\). To znaci da je povrsina omotaca oko 3,6 puta veca od povrsine osnove, sto je razumno za visoku piramidu (\(H = 3a\)).
            </div>
          </details>
        </div>
      </div>

      <!-- Korak 7 -->
      <div class="step">
        <div class="step-badge">7</div>
        <div class="step-content">
          <div class="step-title">Zakljucak</div>
          <p class="step-text">
            Odnos povrsine omotaca i povrsine osnove pravilne sestostrane piramide je:
          </p>
          <div class="math-block result">
            \[\frac{P_{\text{omotac}}}{P_{\text{osnova}}} = \sqrt{13} : 1\]
          </div>

          <details class="checkpoint">
            <summary>Proveri sebe: Zasto je \(\frac{\sqrt{39}}{\sqrt{3}} = \sqrt{13}\)?</summary>
            <div class="details-body">
              Koristimo pravilo: \(\frac{\sqrt{a}}{\sqrt{b}} = \sqrt{\frac{a}{b}}\). Dakle, \(\frac{\sqrt{39}}{\sqrt{3}} = \sqrt{\frac{39}{3}} = \sqrt{13}\).
              Alternativno: \(\sqrt{39} = \sqrt{13 \cdot 3} = \sqrt{13} \cdot \sqrt{3}\), pa je \(\frac{\sqrt{13} \cdot \sqrt{3}}{\sqrt{3}} = \sqrt{13}\).
            </div>
          </details>
        </div>
      </div>

    </div>
  </div>

  <!-- Kljucni uvid -->
  <div class="key-insight">
    <div class="insight-title">Kljucni uvid</div>
    <p>
      Ceo zadatak se svodi na Pitagorinu teoremu u pravouglom trouglu koji formiraju visina piramide \(H\), apotema osnove \(d\) i bocna apotema \(h_b\). Kada se izracuna bocna apotema, odnos povrsina se jednostavno skracuje na \(\frac{\sqrt{39}}{\sqrt{3}} = \sqrt{13}\).
    </p>
    <p style="margin-top:10px;">
      Kljucno je ne mesati <strong>apotemu osnove</strong> (rastojanje od centra do sredista stranice) sa <strong>poluprecnikom opisanog kruga</strong> (rastojanje od centra do temena), jer bi to dalo pogresan rezultat!
    </p>
  </div>

  <!-- Konacni odgovor -->
  <div class="final-answer-card">
    <div class="answer-label">Konacan odgovor</div>
    <div class="final-answer-value">\(\sqrt{13} : 1\)</div>
    <div class="options-row">
      <div class="opt-pill">(A) \(2\sqrt{3} : 1\)</div>
      <div class="opt-pill correct">(B) \(\sqrt{13} : 1\)</div>
      <div class="opt-pill">(C) \(2\sqrt{11} : \sqrt{3}\)</div>
      <div class="opt-pill">(D) \(3\sqrt{2} : 1\)</div>
      <div class="opt-pill">(E) \(2\sqrt{10} : \sqrt{3}\)</div>
    </div>
    <div class="verification-note">
      <strong>Provera:</strong> \(\sqrt{13} \approx 3{,}606\). Povrsina omotaca visoke piramide (\(H = 3a\)) treba da bude znacajno veca od povrsine osnove, sto se poklapa sa rezultatom. Takodje, nijedna od ostalih opcija ne daje istu numericku vrednost: \(2\sqrt{3} \approx 3{,}464\), \(\frac{2\sqrt{11}}{\sqrt{3}} \approx 3{,}830\), \(3\sqrt{2} \approx 4{,}243\), \(\frac{2\sqrt{10}}{\sqrt{3}} \approx 3{,}651\).
    </div>
  </div>

  <!-- Ceste greske -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#7f1d1d;color:#fca5a5;">!</span>
      Ceste greske
    </div>
    <div class="pitfalls">
      <div class="pitfall-item">
        <span class="pitfall-icon">!</span>
        <span>
          <strong>Koriscenje poluprecnika opisanog kruga umesto apoteme:</strong> Kod pravilnog sestostrougla, poluprecnik opisanog kruga je \(R = a\), a apotema je \(d = \frac{a\sqrt{3}}{2}\). Ako koristimo \(R = a\) umesto \(d\), dobijamo \(h_b = \sqrt{9a^2 + a^2} = a\sqrt{10}\), sto vodi na pogresan odnos \(\frac{2\sqrt{10}}{\sqrt{3}}\) (opcija E).
        </span>
      </div>
      <div class="pitfall-item">
        <span class="pitfall-icon">!</span>
        <span>
          <strong>Pogresna formula za povrsinu sestostrougla:</strong> Povrsina pravilnog sestostrougla sa stranicom \(a\) je \(\frac{3\sqrt{3}}{2}a^2\), a ne \(6a^2\) ili \(3a^2\). Greska u povrsini osnove direktno kvari odnos.
        </span>
      </div>
    </div>
  </div>

  <!-- Dodatni izazov -->
  <div class="challenge-card">
    <div class="challenge-title">Dodatni izazov</div>
    <p class="challenge-text">
      Za koliko puta se povecava zapremina pravilne sestostrane piramide ako se visina utrostruci (tj. \(H = 3a\) umesto \(H = a\)), a stranica osnove ostane ista?
    </p>
    <details style="margin-top:12px;">
      <summary>Pogledaj uput</summary>
      <div class="details-body">
        Zapremina piramide je \(V = \frac{1}{3} \cdot P_{\text{osnova}} \cdot H\). Posto povrsina osnove ostaje ista, zapremina je proporcionalna visini. Ako se visina utrostruci, zapremina se takodje utrostruci.
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Theory canvas: right triangle showing H, d, h_b
  const tc = document.getElementById('theoryCanvas');
  if (tc) {
    const tctx = tc.getContext('2d');
    const dpr = window.devicePixelRatio || 1;

    function resizeTheory() {
      const parent = tc.parentElement;
      const displayW = Math.min(parent.getBoundingClientRect().width - 40, 500);
      const displayH = displayW * 240 / 500;
      tc.style.width = displayW + 'px';
      tc.style.height = displayH + 'px';
      tc.width = displayW * dpr;
      tc.height = displayH * dpr;
      tctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }

    function drawTheory() {
      const W = tc.width / dpr;
      const H = tc.height / dpr;
      tctx.clearRect(0, 0, W, H);
      tctx.fillStyle = '#0f172a';
      tctx.fillRect(0, 0, W, H);

      const cx = W * 0.35;
      const bottom = H * 0.82;
      const top = H * 0.12;
      const right = W * 0.75;

      // Right angle marker
      const markerSize = 14;
      tctx.strokeStyle = '#4ade80';
      tctx.lineWidth = 1.5;
      tctx.beginPath();
      tctx.moveTo(cx + markerSize, bottom);
      tctx.lineTo(cx + markerSize, bottom - markerSize);
      tctx.lineTo(cx, bottom - markerSize);
      tctx.stroke();

      // Triangle: bottom-left (base of pyramid), top (apex), bottom-right (midpoint of edge)
      // Vertical leg: H (height)
      tctx.strokeStyle = '#60a5fa';
      tctx.lineWidth = 2.5;
      tctx.beginPath();
      tctx.moveTo(cx, bottom);
      tctx.lineTo(cx, top);
      tctx.stroke();

      // Horizontal leg: d (apothem)
      tctx.strokeStyle = '#f472b6';
      tctx.lineWidth = 2.5;
      tctx.beginPath();
      tctx.moveTo(cx, bottom);
      tctx.lineTo(right, bottom);
      tctx.stroke();

      // Hypotenuse: h_b (slant height)
      tctx.strokeStyle = '#34d399';
      tctx.lineWidth = 2.5;
      tctx.beginPath();
      tctx.moveTo(cx, top);
      tctx.lineTo(right, bottom);
      tctx.stroke();

      // Labels
      tctx.font = 'bold 14px Segoe UI, sans-serif';
      tctx.textAlign = 'center';

      // H label
      tctx.fillStyle = '#60a5fa';
      tctx.fillText('H = 3a', cx - 32, (top + bottom) / 2);

      // d label
      tctx.fillStyle = '#f472b6';
      tctx.fillText('d = a\u221A3/2', (cx + right) / 2, bottom + 20);

      // h_b label
      tctx.fillStyle = '#34d399';
      tctx.save();
      const midX = (cx + right) / 2;
      const midY = (top + bottom) / 2;
      tctx.fillText('h\u2095 = a\u221A39/2', midX + 40, midY - 10);
      tctx.restore();

      // Points
      const pts = [[cx, bottom], [cx, top], [right, bottom]];
      const ptLabels = ['O (centar osnove)', 'V (vrh)', 'M (srediste stranice)'];
      const ptColors = ['#94a3b8', '#94a3b8', '#94a3b8'];
      for (let i = 0; i < pts.length; i++) {
        tctx.beginPath();
        tctx.arc(pts[i][0], pts[i][1], 4, 0, 2 * Math.PI);
        tctx.fillStyle = '#e2e8f0';
        tctx.fill();
      }

      tctx.font = '11px Segoe UI, sans-serif';
      tctx.fillStyle = '#94a3b8';
      tctx.textAlign = 'left';
      tctx.fillText('O (centar)', cx + 6, bottom - 8);
      tctx.fillText('V (vrh)', cx + 6, top + 4);
      tctx.fillText('M (sr. stranice)', right + 6, bottom - 4);
    }

    resizeTheory();
    drawTheory();
    window.addEventListener('resize', function() { resizeTheory(); drawTheory(); });
  }

  // Main pyramid canvas
  const canvas = document.getElementById('pyramidCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const dpr = window.devicePixelRatio || 1;

  function resizeCanvas() {
    const parent = canvas.parentElement;
    const displayW = Math.min(parent.getBoundingClientRect().width - 44, 720);
    const displayH = displayW * 480 / 720;
    canvas.style.width = displayW + 'px';
    canvas.style.height = displayH + 'px';
    canvas.width = displayW * dpr;
    canvas.height = displayH * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  function draw() {
    const W = canvas.width / dpr;
    const H = canvas.height / dpr;
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Isometric-style projection of hexagonal pyramid
    const cx = W * 0.48;
    const baseY = H * 0.78;
    const apexY = H * 0.1;
    const apexX = cx;

    // Hexagon parameters (pseudo-3D)
    const hexR = Math.min(W * 0.22, 160);
    const tilt = 0.35; // vertical squash for 3D effect

    // Hexagon vertices
    const hexPts = [];
    for (let i = 0; i < 6; i++) {
      const angle = Math.PI / 6 + (i * Math.PI) / 3;
      hexPts.push({
        x: cx + hexR * Math.cos(angle),
        y: baseY + hexR * Math.sin(angle) * tilt
      });
    }

    // Determine front/back edges
    // Back edges first (farther vertices - those with lower y)
    const backIndices = [];
    const frontIndices = [];
    for (let i = 0; i < 6; i++) {
      if (hexPts[i].y < baseY) {
        backIndices.push(i);
      } else {
        frontIndices.push(i);
      }
    }

    // Draw back lateral edges (dashed)
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.3)';
    ctx.lineWidth = 1.5;
    for (const i of backIndices) {
      ctx.beginPath();
      ctx.moveTo(apexX, apexY);
      ctx.lineTo(hexPts[i].x, hexPts[i].y);
      ctx.stroke();
    }

    // Draw back base edges (dashed)
    for (const i of backIndices) {
      const next = (i + 1) % 6;
      if (backIndices.includes(next)) {
        ctx.beginPath();
        ctx.moveTo(hexPts[i].x, hexPts[i].y);
        ctx.lineTo(hexPts[next].x, hexPts[next].y);
        ctx.stroke();
      }
    }
    ctx.setLineDash([]);

    // Draw front base edges (solid)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    for (let i = 0; i < 6; i++) {
      const next = (i + 1) % 6;
      if (frontIndices.includes(i) || frontIndices.includes(next)) {
        if (!(backIndices.includes(i) && backIndices.includes(next))) {
          ctx.beginPath();
          ctx.moveTo(hexPts[i].x, hexPts[i].y);
          ctx.lineTo(hexPts[next].x, hexPts[next].y);
          ctx.stroke();
        }
      }
    }

    // Draw front lateral edges (solid)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    for (const i of frontIndices) {
      ctx.beginPath();
      ctx.moveTo(apexX, apexY);
      ctx.lineTo(hexPts[i].x, hexPts[i].y);
      ctx.stroke();
    }
    // Also draw edges connecting back to front
    for (const i of backIndices) {
      const next = (i + 1) % 6;
      const prev = (i + 5) % 6;
      if (frontIndices.includes(next)) {
        ctx.beginPath();
        ctx.moveTo(apexX, apexY);
        ctx.lineTo(hexPts[i].x, hexPts[i].y);
        ctx.strokeStyle = 'rgba(167, 139, 250, 0.5)';
        ctx.stroke();
      }
    }

    // Height line (vertical from apex to center)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(apexX, apexY);
    ctx.lineTo(cx, baseY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Apothem line (center to midpoint of front bottom edge)
    // Find a front edge and its midpoint
    const frontEdgeIdx = frontIndices.length > 1 ? frontIndices[Math.floor(frontIndices.length / 2)] : frontIndices[0];
    const nextIdx = (frontEdgeIdx + 1) % 6;
    const midEdge = {
      x: (hexPts[frontEdgeIdx].x + hexPts[nextIdx].x) / 2,
      y: (hexPts[frontEdgeIdx].y + hexPts[nextIdx].y) / 2
    };

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(cx, baseY);
    ctx.lineTo(midEdge.x, midEdge.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Slant height line (apex to midpoint of front edge)
    ctx.strokeStyle = '#fbbf24';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(apexX, apexY);
    ctx.lineTo(midEdge.x, midEdge.y);
    ctx.stroke();

    // Points
    // Apex
    ctx.beginPath();
    ctx.arc(apexX, apexY, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#e2e8f0';
    ctx.fill();

    // Center
    ctx.beginPath();
    ctx.arc(cx, baseY, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#34d399';
    ctx.fill();

    // Midpoint of edge
    ctx.beginPath();
    ctx.arc(midEdge.x, midEdge.y, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#fbbf24';
    ctx.fill();

    // Hex vertices
    for (let i = 0; i < 6; i++) {
      ctx.beginPath();
      ctx.arc(hexPts[i].x, hexPts[i].y, 3, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
    }

    // Labels
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';

    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('V (vrh)', apexX + 5, apexY - 12);

    ctx.fillStyle = '#34d399';
    ctx.fillText('O', cx - 14, baseY + 5);

    ctx.fillStyle = '#fbbf24';
    ctx.fillText('M', midEdge.x + 16, midEdge.y + 5);

    // Label H
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('H = 3a', apexX + 10, (apexY + baseY) / 2);

    // Label d (apothem)
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    const dMidX = (cx + midEdge.x) / 2;
    const dMidY = (baseY + midEdge.y) / 2;
    ctx.fillText('d = a\u221A3/2', dMidX, dMidY + 16);

    // Label h_b (slant height)
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    const hbMidX = (apexX + midEdge.x) / 2;
    const hbMidY = (apexY + midEdge.y) / 2;
    ctx.fillText('h\u2095 = a\u221A39/2', hbMidX - 50, hbMidY);

    // Label a (base edge)
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    const aLabelX = (hexPts[frontEdgeIdx].x + hexPts[nextIdx].x) / 2;
    const aLabelY = (hexPts[frontEdgeIdx].y + hexPts[nextIdx].y) / 2;
    ctx.fillText('a', aLabelX, aLabelY + 18);

    // Right angle marker at O
    const rightSize = 10;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    const dirX = (midEdge.x - cx);
    const dirY = (midEdge.y - baseY);
    const len = Math.sqrt(dirX * dirX + dirY * dirY);
    const ux = dirX / len;
    const uy = dirY / len;
    ctx.beginPath();
    ctx.moveTo(cx + ux * rightSize, baseY + uy * rightSize);
    ctx.lineTo(cx + ux * rightSize + 0 * rightSize, baseY + uy * rightSize - 1 * rightSize);
    ctx.lineTo(cx + 0 * rightSize, baseY - 1 * rightSize);
    ctx.stroke();

    // Legend
    const legX = W - 185;
    const legY = 18;
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legX, legY, 16, 3);
    ctx.fillText('Osnova (a)', legX + 22, legY + 5);

    ctx.fillStyle = '#34d399';
    ctx.fillRect(legX, legY + 18, 16, 3);
    ctx.fillText('Visina (H = 3a)', legX + 22, legY + 23);

    ctx.fillStyle = '#f472b6';
    ctx.fillRect(legX, legY + 36, 16, 3);
    ctx.fillText('Apotema (d)', legX + 22, legY + 41);

    ctx.fillStyle = '#fbbf24';
    ctx.fillRect(legX, legY + 54, 16, 3);
    ctx.fillText('Bocna apotema (h\u2095)', legX + 22, legY + 59);
  }

  resizeCanvas();
  draw();
  window.addEventListener('resize', function() { resizeCanvas(); draw(); });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Odnos povrsina pravilne sestostrane piramide",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "pravilna piramida", "sestostrana piramida", "povrsina omotaca", "apotema", "Pitagorina teorema"]
}
BRAINSPARK_META-->