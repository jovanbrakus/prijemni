<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Povrsina trougla u kvadratu</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Square ABCD with side 1 cm. Points M on AB, N on BC, P on DA.
  AM:MB = 2:1, BN:NC = 3:2, DP:PA = 4:3.
  Find area of triangle MNP.

  Step 1: Set up coordinates.
  Let A = (0, 0), B = (1, 0), C = (1, 1), D = (0, 1).

  Step 2: Find coordinates of M, N, P.
  M on AB with AM:MB = 2:1:
    AM = 2/3 of AB, so M = A + (2/3)(B - A) = (0,0) + (2/3)(1,0) = (2/3, 0)

  N on BC with BN:NC = 3:2:
    BN = 3/5 of BC, so N = B + (3/5)(C - B) = (1,0) + (3/5)(0,1) = (1, 3/5)

  P on DA with DP:PA = 4:3:
    DP = 4/7 of DA, so P = D + (4/7)(A - D) = (0,1) + (4/7)(0,-1) = (0, 1 - 4/7) = (0, 3/7)

  Step 3: Calculate area using the Shoelace formula.
  Area = (1/2)|x_M(y_N - y_P) + x_N(y_P - y_M) + x_P(y_M - y_N)|

  Compute each term:
    x_M(y_N - y_P) = (2/3)(3/5 - 3/7) = (2/3)(21/35 - 15/35) = (2/3)(6/35) = 12/105 = 4/35
    x_N(y_P - y_M) = 1 * (3/7 - 0) = 3/7 = 15/35
    x_P(y_M - y_N) = 0 * (0 - 3/5) = 0

  Area = (1/2)|4/35 + 15/35 + 0| = (1/2)(19/35) = 19/70

  Answer: A) 19/70 cm^2

  Verification: 19/70 ‚âà 0.2714 cm^2
  The square has area 1 cm^2, so the triangle is about 27.1% of the square.
  This seems reasonable for a triangle connecting points on three sides of the square.

  Cross-check with other answers:
  B) 2/7 = 20/70 ‚âà 0.2857
  C) 3/10 = 21/70 = 0.3
  D) 9/35 = 18/70 ‚âà 0.2571
  E) 11/35 = 22/70 ‚âà 0.3143

  Alternative verification: compute area as square minus three corner triangles.
  Triangle AMP: vertices A(0,0), M(2/3,0), P(0,3/7)
    Area = (1/2)(2/3)(3/7) = (1/2)(6/21) = (1/2)(2/7) = 1/7

  Triangle MBN: vertices M(2/3,0), B(1,0), N(1,3/5)
    Area = (1/2)(1 - 2/3)(3/5) = (1/2)(1/3)(3/5) = (1/2)(1/5) = 1/10

  Triangle NCP (need to check): Actually, P is on DA and N is on BC.
  The region between N, C, D, P needs to be computed.

  Wait, let me think about this differently. The three corner triangles that complement MNP inside the square are:

  Triangle AMP: A(0,0), M(2/3,0), P(0,3/7)
  Triangle MBN: M(2/3,0), B(1,0), N(1,3/5)
  Quadrilateral NCDP: N(1,3/5), C(1,1), D(0,1), P(0,3/7)

  Area of AMP = (1/2)(2/3)(3/7) = 1/7
  Area of MBN = (1/2)(1/3)(3/5) = 1/10
  Area of NCDP = area of trapezoid with parallel sides NC and DP, distance 1 between them.
    NC = 1 - 3/5 = 2/5 (vertical along x=1)
    DP = 1 - 3/7 = 4/7 (vertical along x=0)
    Actually this is a trapezoid with vertices N(1,3/5), C(1,1), D(0,1), P(0,3/7).
    Using shoelace:
    Area = (1/2)|1*(1-3/7) + 1*(1-3/5) + 0*(3/7-1) + 0*(3/5-1)|
    Wait, let me just do the shoelace properly:
    = (1/2)|x_N(y_C - y_P) + x_C(y_D - y_N) + x_D(y_P - y_C) + x_P(y_N - y_D)|
    = (1/2)|1*(1 - 3/7) + 1*(1 - 3/5) + 0*(3/7 - 1) + 0*(3/5 - 1)|
    = (1/2)|1*(4/7) + 1*(2/5)|
    = (1/2)(4/7 + 2/5)
    = (1/2)(20/35 + 14/35)
    = (1/2)(34/35)
    = 17/35

  Total of three regions: 1/7 + 1/10 + 17/35
  = 10/70 + 7/70 + 34/70
  = 51/70

  Area of MNP = 1 - 51/70 = 19/70. Confirmed!

  Answer: A) 19/70 cm^2
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.problem-text {
  font-size: 1.1rem;
  line-height: 1.8;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  text-align: center;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-letter {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  font-style: italic;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Povrsina trougla u kvadratu</h1>
  <p class="subtitle">Analiticka geometrija ‚Äî koordinate tacaka i formula za povrsinu trougla</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Postavka zadatka</div>
    <div class="problem-text">
      <p>Na stranicama \( AB \), \( BC \) i \( DA \) kvadrata \( ABCD \) redom su date tacke \( M \), \( N \) i \( P \) tako da vazi:</p>
      <div class="highlight-box">
        \( AM : MB = 2 : 1 \), \quad \( BN : NC = 3 : 2 \), \quad \( DP : PA = 4 : 3 \)
      </div>
      <p>Ako je duzina stranice kvadrata <span style="color: #60a5fa; font-weight: 600;">1 cm</span>, onda je povrsina trougla \( MNP \) jednaka:</p>

      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
          <div class="label">(A)</div>
          <div class="value">\(\dfrac{19}{70}\) cm¬≤</div>
        </div>
        <div class="given-item answer-option" data-option="B">
          <div class="label">(B)</div>
          <div class="value">\(\dfrac{2}{7}\) cm¬≤</div>
        </div>
        <div class="given-item answer-option" data-option="C">
          <div class="label">(C)</div>
          <div class="value">\(\dfrac{3}{10}\) cm¬≤</div>
        </div>
        <div class="given-item answer-option" data-option="D">
          <div class="label">(D)</div>
          <div class="value">\(\dfrac{9}{35}\) cm¬≤</div>
        </div>
        <div class="given-item answer-option" data-option="E">
          <div class="label">(E)</div>
          <div class="value">\(\dfrac{11}{35}\) cm¬≤</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Postavicemo koordinatni sistem tako da teme \( A \) bude u koordinatnom pocetku. Odredimo koordinate tacaka \( M \), \( N \) i \( P \) koristeci date odnose deljenja stranica, a zatim izracunamo povrsinu trougla \( MNP \) pomocu formule sa koordinatama (Solejsova formula).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div class="detail-content">
        <ul style="margin-left: 20px; list-style: disc;">
          <li style="margin-bottom: 12px;"><strong>Deljenje duzi u datom odnosu:</strong> Ako tacka \( T \) deli duz \( XY \) u odnosu \( m : n \) od \( X \) ka \( Y \), onda je:
            \[ T = X + \frac{m}{m + n} \cdot (Y - X) \]
          </li>
          <li style="margin-bottom: 12px;"><strong>Povrsina trougla pomocu koordinata (Solejsova formula):</strong> Za trougao sa temenima \( (x_1, y_1) \), \( (x_2, y_2) \), \( (x_3, y_3) \):
            \[ P = \frac{1}{2} \left| x_1(y_2 - y_3) + x_2(y_3 - y_1) + x_3(y_1 - y_2) \right| \]
          </li>
          <li style="margin-bottom: 12px;"><strong>Alternativni pristup:</strong> Povrsina trougla upisanog u kvadrat moze se izracunati kao razlika povrsine kvadrata i zbira povrsina sporednih figura (trouglova i trapeza).
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìê</span> Interaktivni dijagram</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="600" height="600"></canvas>
    </div>
    <p class="canvas-caption">Kvadrat \( ABCD \) sa temenima trougla \( MNP \). Prevucite tacke da istrazite kako se polozaji menjaju.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Postavimo koordinatni sistem</div>
        <p>Neka je kvadrat \( ABCD \) sa stranicom 1 cm. Postavimo koordinatni sistem tako da:</p>
        <div class="step-math">
          \[ A = (0,\; 0), \quad B = (1,\; 0), \quad C = (1,\; 1), \quad D = (0,\; 1) \]
        </div>
        <p>Stranice kvadrata leze na koordinatnim osama i pravama \( x = 1 \) i \( y = 1 \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Odredimo koordinate tacke \( M \)</div>
        <p>Tacka \( M \) lezi na stranici \( AB \) tako da je \( AM : MB = 2 : 1 \).</p>
        <p>To znaci da \( M \) deli stranicu \( AB \) u odnosu \( 2 : 1 \) od \( A \) ka \( B \):</p>
        <div class="step-math">
          \[ M = A + \frac{2}{2+1} \cdot (B - A) = (0,\;0) + \frac{2}{3} \cdot (1,\;0) = \left(\frac{2}{3},\; 0\right) \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Odredimo koordinate tacke \( N \)</div>
        <p>Tacka \( N \) lezi na stranici \( BC \) tako da je \( BN : NC = 3 : 2 \).</p>
        <p>To znaci da \( N \) deli stranicu \( BC \) u odnosu \( 3 : 2 \) od \( B \) ka \( C \):</p>
        <div class="step-math">
          \[ N = B + \frac{3}{3+2} \cdot (C - B) = (1,\;0) + \frac{3}{5} \cdot (0,\;1) = \left(1,\; \frac{3}{5}\right) \]
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Odredimo koordinate tacke \( P \)</div>
        <p>Tacka \( P \) lezi na stranici \( DA \) tako da je \( DP : PA = 4 : 3 \).</p>
        <p>To znaci da \( P \) deli stranicu \( DA \) u odnosu \( 4 : 3 \) od \( D \) ka \( A \):</p>
        <div class="step-math">
          \[ P = D + \frac{4}{4+3} \cdot (A - D) = (0,\;1) + \frac{4}{7} \cdot (0,\;-1) = \left(0,\; 1 - \frac{4}{7}\right) = \left(0,\; \frac{3}{7}\right) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Da li su koordinate tacno odredjene?</summary>
            <div class="detail-content">
              <p>Proverimo: \( M = \left(\frac{2}{3},\; 0\right) \) lezi na \( AB \) (y-koordinata je 0). ‚úì</p>
              <p>\( N = \left(1,\; \frac{3}{5}\right) \) lezi na \( BC \) (x-koordinata je 1, a \( 0 < \frac{3}{5} < 1 \)). ‚úì</p>
              <p>\( P = \left(0,\; \frac{3}{7}\right) \) lezi na \( DA \) (x-koordinata je 0, a \( 0 < \frac{3}{7} < 1 \)). ‚úì</p>
              <p style="margin-top: 8px;">Takodje, proverimo odnose:</p>
              <p>\( AM = \frac{2}{3} \), \( MB = \frac{1}{3} \), odnos je \( 2:1 \). ‚úì</p>
              <p>\( BN = \frac{3}{5} \), \( NC = \frac{2}{5} \), odnos je \( 3:2 \). ‚úì</p>
              <p>\( DP = 1 - \frac{3}{7} = \frac{4}{7} \), \( PA = \frac{3}{7} \), odnos je \( 4:3 \). ‚úì</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Primenimo Solejsovu formulu</div>
        <p>Povrsina trougla sa temenima \( M(x_1, y_1) \), \( N(x_2, y_2) \), \( P(x_3, y_3) \) je:</p>
        <div class="step-math">
          \[ P_{MNP} = \frac{1}{2} \left| x_1(y_2 - y_3) + x_2(y_3 - y_1) + x_3(y_1 - y_2) \right| \]
        </div>
        <p>Uvrstimo nase koordinate \( M\!\left(\frac{2}{3},\; 0\right) \), \( N\!\left(1,\; \frac{3}{5}\right) \), \( P\!\left(0,\; \frac{3}{7}\right) \):</p>
        <div class="step-math">
          \[ P_{MNP} = \frac{1}{2} \left| \frac{2}{3}\left(\frac{3}{5} - \frac{3}{7}\right) + 1 \cdot \left(\frac{3}{7} - 0\right) + 0 \cdot \left(0 - \frac{3}{5}\right) \right| \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo razliku \( \frac{3}{5} - \frac{3}{7} \)</div>
        <p>Svedemo na zajednicki imenilac (35):</p>
        <div class="step-math">
          \[ \frac{3}{5} - \frac{3}{7} = \frac{21}{35} - \frac{15}{35} = \frac{6}{35} \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo svaki clan formule</div>
        <p>Sada racunamo svaki sabirak zasebno:</p>
        <div class="step-math">
          \[ \frac{2}{3} \cdot \frac{6}{35} = \frac{12}{105} = \frac{4}{35} \]
        </div>
        <div class="step-math">
          \[ 1 \cdot \frac{3}{7} = \frac{3}{7} = \frac{15}{35} \]
        </div>
        <div class="step-math">
          \[ 0 \cdot \left(-\frac{3}{5}\right) = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-badge">8</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo konacnu povrsinu</div>
        <p>Saberemo sve clanove i pomnozimo sa \( \frac{1}{2} \):</p>
        <div class="step-math">
          \[ P_{MNP} = \frac{1}{2} \left| \frac{4}{35} + \frac{15}{35} + 0 \right| = \frac{1}{2} \cdot \frac{19}{35} = \frac{19}{70} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Verifikacija alternativnim putem</summary>
            <div class="detail-content">
              <p>Mozemo proveriti rezultat tako sto od povrsine kvadrata oduzmemo sporedne figure:</p>
              <p style="margin-top: 8px;"><strong>Trougao \( AMP \):</strong> \( P_{AMP} = \frac{1}{2} \cdot \frac{2}{3} \cdot \frac{3}{7} = \frac{1}{2} \cdot \frac{2}{7} = \frac{1}{7} \)</p>
              <p><strong>Trougao \( MBN \):</strong> \( P_{MBN} = \frac{1}{2} \cdot \frac{1}{3} \cdot \frac{3}{5} = \frac{1}{2} \cdot \frac{1}{5} = \frac{1}{10} \)</p>
              <p><strong>Trapez \( NCDP \):</strong> \( P_{NCDP} = \frac{1}{2}\left(\frac{2}{5} + \frac{4}{7}\right) \cdot 1 = \frac{1}{2} \cdot \frac{34}{35} = \frac{17}{35} \)</p>
              <p style="margin-top: 8px;">Zbir: \( \frac{1}{7} + \frac{1}{10} + \frac{17}{35} = \frac{10}{70} + \frac{7}{70} + \frac{34}{70} = \frac{51}{70} \)</p>
              <p>\( P_{MNP} = 1 - \frac{51}{70} = \frac{19}{70} \) ‚úì</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kada se trazi povrsina trougla upisanog u kvadrat, postoje dva elegantna pristupa: <strong>direktno izracunavanje</strong> pomocu Solejsove formule (pogotovo kada znamo koordinate svih temena) i <strong>oduzimanje sporednih figura</strong> od povrsine kvadrata. Oba pristupa daju isti rezultat, a drugi metod sluzi kao odlicna provera. Kljucno je pravilno odrediti koordinate tacaka iz datih odnosa deljenja stranica.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( P_{MNP} = \dfrac{19}{70} \text{ cm}^2 \)</div>
    <div class="answer-letter">Tacan odgovor je A)</div>
    <div class="final-options">
      <div class="final-option correct">A) \(\frac{19}{70}\) cm¬≤</div>
      <div class="final-option">B) \(\frac{2}{7}\) cm¬≤</div>
      <div class="final-option">C) \(\frac{3}{10}\) cm¬≤</div>
      <div class="final-option">D) \(\frac{9}{35}\) cm¬≤</div>
      <div class="final-option">E) \(\frac{11}{35}\) cm¬≤</div>
    </div>
    <p class="verification-note">Verifikacija: \( \frac{19}{70} \approx 0{,}271 \) cm¬≤, sto je oko 27% povrsine kvadrata ‚Äî razuman rezultat za trougao koji spaja tacke na tri stranice kvadrata.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresno tumacenje odnosa \( DP : PA = 4 : 3 \):</strong> Tacka \( P \) deli stranicu \( DA \) od \( D \) ka \( A \), pa je \( DP = \frac{4}{7} \) i \( PA = \frac{3}{7} \). Cesta greska je meriti od \( A \) ka \( D \), sto daje pogresnu y-koordinatu (\( \frac{4}{7} \) umesto \( \frac{3}{7} \)).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Greska pri svodjenju razlomaka na zajednicki imenilac:</strong> U Solejsovoj formuli pojavljuju se razlomci sa imenilacima 3, 5 i 7. Zajednicki imenilac je 105 (ili 35 za medjukorake). Racunska greska u sabiranje razlomaka je cesta i vodi do pogresnog rezultata.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Ako se odnosi promene u \( AM : MB = 1 : 2 \), \( BN : NC = 1 : 1 \) i \( DP : PA = 1 : 1 \), kolika je povrsina trougla \( MNP \)?</p>
    <details>
      <summary>Pogledaj naputak</summary>
      <div class="detail-content">
        <p>Koristite isti pristup: \( M = \left(\frac{1}{3},\; 0\right) \), \( N = \left(1,\; \frac{1}{2}\right) \), \( P = \left(0,\; \frac{1}{2}\right) \).</p>
        <p style="margin-top: 8px;">Primenite Solejsovu formulu i dobicete \( P_{MNP} = \frac{1}{2}\left|\frac{1}{3} \cdot 0 + 1 \cdot \frac{1}{2} + 0 \cdot (-\frac{1}{2})\right| = \frac{1}{4} \) cm¬≤.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Square coordinates in math space (0,0) to (1,1)
  // Canvas mapping: Y-axis points UP
  const padding = 80;
  const squareSize = W - 2 * padding;
  const scale = squareSize;
  const originX = padding;
  const originY = H - padding;

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  // Default positions from the problem
  const defaultM = { x: 2/3, y: 0 };
  const defaultN = { x: 1, y: 3/5 };
  const defaultP = { x: 0, y: 3/7 };

  // Draggable points (parameters t in [0,1] for position along respective side)
  let tM = 2/3;  // M along AB: x = tM, y = 0
  let tN = 3/5;  // N along BC: x = 1, y = tN
  let tP = 3/7;  // P along DA: x = 0, y = tP (measuring from A upward, PA = tP)

  let dragging = null;
  const dragRadius = 18;

  function getPoints() {
    return {
      M: { x: tM, y: 0 },
      N: { x: 1, y: tN },
      P: { x: 0, y: tP }
    };
  }

  function triangleArea(p1, p2, p3) {
    return 0.5 * Math.abs(
      p1.x * (p2.y - p3.y) +
      p2.x * (p3.y - p1.y) +
      p3.x * (p1.y - p2.y)
    );
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    const pts = getPoints();
    const Mc = toCanvas(pts.M.x, pts.M.y);
    const Nc = toCanvas(pts.N.x, pts.N.y);
    const Pc = toCanvas(pts.P.x, pts.P.y);

    // Square vertices
    const A = toCanvas(0, 0);
    const B = toCanvas(1, 0);
    const C = toCanvas(1, 1);
    const D = toCanvas(0, 1);

    // Draw grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 0.5;
    for (let i = 0; i <= 10; i++) {
      const frac = i / 10;
      const from = toCanvas(frac, 0);
      const to = toCanvas(frac, 1);
      ctx.beginPath();
      ctx.moveTo(from.x, from.y);
      ctx.lineTo(to.x, to.y);
      ctx.stroke();
      const from2 = toCanvas(0, frac);
      const to2 = toCanvas(1, frac);
      ctx.beginPath();
      ctx.moveTo(from2.x, from2.y);
      ctx.lineTo(to2.x, to2.y);
      ctx.stroke();
    }

    // Draw square
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(B.x, B.y);
    ctx.lineTo(C.x, C.y);
    ctx.lineTo(D.x, D.y);
    ctx.closePath();
    ctx.stroke();

    // Fill triangle MNP
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.beginPath();
    ctx.moveTo(Mc.x, Mc.y);
    ctx.lineTo(Nc.x, Nc.y);
    ctx.lineTo(Pc.x, Pc.y);
    ctx.closePath();
    ctx.fill();

    // Draw triangle MNP edges
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(Mc.x, Mc.y);
    ctx.lineTo(Nc.x, Nc.y);
    ctx.lineTo(Pc.x, Pc.y);
    ctx.closePath();
    ctx.stroke();

    // Draw dashed lines for the side divisions
    ctx.setLineDash([5, 5]);
    ctx.lineWidth = 1;

    // AM segment highlight
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.5)';
    ctx.beginPath();
    ctx.moveTo(A.x, A.y);
    ctx.lineTo(Mc.x, Mc.y);
    ctx.stroke();

    // BN segment highlight
    ctx.beginPath();
    ctx.moveTo(B.x, B.y);
    ctx.lineTo(Nc.x, Nc.y);
    ctx.stroke();

    // DP segment highlight
    ctx.beginPath();
    ctx.moveTo(D.x, D.y);
    ctx.lineTo(Pc.x, Pc.y);
    ctx.stroke();

    ctx.setLineDash([]);

    // Label square vertices
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('A', A.x - 18, A.y + 18);
    ctx.fillText('B', B.x + 18, B.y + 18);
    ctx.fillText('C', C.x + 18, C.y - 18);
    ctx.fillText('D', D.x - 18, D.y - 18);

    // Draw point M
    ctx.fillStyle = '#34d399';
    ctx.beginPath();
    ctx.arc(Mc.x, Mc.y, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('M', Mc.x, Mc.y + 24);

    // Draw point N
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(Nc.x, Nc.y, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('N', Nc.x + 22, Nc.y);

    // Draw point P
    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(Pc.x, Pc.y, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('P', Pc.x - 22, Pc.y);

    // Side division labels
    ctx.font = '13px Segoe UI, system-ui, sans-serif';

    // AM:MB ratio
    var amRatio = tM;
    var mbRatio = 1 - tM;
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'center';
    var midAM = toCanvas(tM / 2, 0);
    var midMB = toCanvas(tM + (1 - tM) / 2, 0);
    if (Math.abs(tM - 2/3) < 0.01) {
      ctx.fillText('2', midAM.x, midAM.y + 18);
      ctx.fillText('1', midMB.x, midMB.y + 18);
    }

    // BN:NC ratio
    if (Math.abs(tN - 3/5) < 0.01) {
      var midBN = toCanvas(1, tN / 2);
      var midNC = toCanvas(1, tN + (1 - tN) / 2);
      ctx.fillText('3', midBN.x + 18, midBN.y);
      ctx.fillText('2', midNC.x + 18, midNC.y);
    }

    // DP:PA ratio
    if (Math.abs(tP - 3/7) < 0.01) {
      var midDP = toCanvas(0, 1 - (1 - tP) / 2);
      var midPA = toCanvas(0, tP / 2);
      ctx.fillText('4', midDP.x - 18, midDP.y);
      ctx.fillText('3', midPA.x - 18, midPA.y);
    }

    // Area text
    var area = triangleArea(pts.M, pts.N, pts.P);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    var areaStr = area.toFixed(4).replace('.', ',');
    ctx.fillText('P(MNP) = ' + areaStr + ' cm\u00B2', W / 2, 30);

    // Show fraction if at default position
    if (Math.abs(tM - 2/3) < 0.01 && Math.abs(tN - 3/5) < 0.01 && Math.abs(tP - 3/7) < 0.01) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.fillText('P(MNP) = 19/70 cm\u00B2', W / 2, 56);
    }

    // Coordinate labels near points
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    var mx = pts.M.x.toFixed(2).replace('.', ',');
    var ny = pts.N.y.toFixed(2).replace('.', ',');
    var py = pts.P.y.toFixed(2).replace('.', ',');
    ctx.fillText('(' + mx + '; 0)', Mc.x, Mc.y + 40);
    ctx.fillText('(1; ' + ny + ')', Nc.x + 22, Nc.y + 22);
    ctx.fillText('(0; ' + py + ')', Pc.x - 22, Pc.y + 22);
  }

  function getMousePos(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var scaleY = H / rect.height;
    return {
      x: (e.clientX - rect.left) * scaleX,
      y: (e.clientY - rect.top) * scaleY
    };
  }

  function getTouchPos(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var scaleY = H / rect.height;
    var touch = e.touches[0];
    return {
      x: (touch.clientX - rect.left) * scaleX,
      y: (touch.clientY - rect.top) * scaleY
    };
  }

  function hitTest(pos) {
    var pts = getPoints();
    var Mc = toCanvas(pts.M.x, pts.M.y);
    var Nc = toCanvas(pts.N.x, pts.N.y);
    var Pc = toCanvas(pts.P.x, pts.P.y);

    var dM = Math.hypot(pos.x - Mc.x, pos.y - Mc.y);
    var dN = Math.hypot(pos.x - Nc.x, pos.y - Nc.y);
    var dP = Math.hypot(pos.x - Pc.x, pos.y - Pc.y);

    if (dM < dragRadius) return 'M';
    if (dN < dragRadius) return 'N';
    if (dP < dragRadius) return 'P';
    return null;
  }

  function updateDrag(pos) {
    // Convert canvas pixel to math coordinate
    var mx = (pos.x - originX) / scale;
    var my = (originY - pos.y) / scale;

    if (dragging === 'M') {
      tM = Math.max(0.05, Math.min(0.95, mx));
    } else if (dragging === 'N') {
      tN = Math.max(0.05, Math.min(0.95, my));
    } else if (dragging === 'P') {
      tP = Math.max(0.05, Math.min(0.95, my));
    }
    draw();
  }

  canvas.addEventListener('mousedown', function(e) {
    var pos = getMousePos(e);
    dragging = hitTest(pos);
  });

  canvas.addEventListener('mousemove', function(e) {
    if (!dragging) {
      var pos = getMousePos(e);
      var hit = hitTest(pos);
      canvas.style.cursor = hit ? 'grab' : 'default';
      return;
    }
    canvas.style.cursor = 'grabbing';
    var pos = getMousePos(e);
    updateDrag(pos);
  });

  canvas.addEventListener('mouseup', function() {
    dragging = null;
    canvas.style.cursor = 'default';
  });

  canvas.addEventListener('mouseleave', function() {
    dragging = null;
    canvas.style.cursor = 'default';
  });

  // Touch events
  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    var pos = getTouchPos(e);
    dragging = hitTest(pos);
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (!dragging) return;
    var pos = getTouchPos(e);
    updateDrag(pos);
  });

  canvas.addEventListener('touchend', function(e) {
    e.preventDefault();
    dragging = null;
  });

  // Double-click to reset
  canvas.addEventListener('dblclick', function() {
    tM = 2/3;
    tN = 3/5;
    tP = 3/7;
    draw();
  });

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Povrsina trougla u kvadratu sa datim odnosima deljenja stranica",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["geometrija", "povrsina trougla", "koordinatni sistem", "Solejsova formula", "kvadrat", "deljenje duzi u odnosu"]
}
BRAINSPARK_META-->