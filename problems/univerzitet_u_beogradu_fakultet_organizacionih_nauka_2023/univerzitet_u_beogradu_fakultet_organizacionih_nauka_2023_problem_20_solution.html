<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Broj razliƒçitih tokova teniskog meƒça</title>
<script type="text/info" id="logic-scratchpad">
Problem: Djokovic beats Nadal 6:3, 6:4 in a tennis match. Find the number of different ways the score could have progressed game by game.

Key insight: In each set, the winner wins the LAST game. So the last game is fixed. We only need to count arrangements of the previous games.

SET 1 (6:3):
- Total games: 6 + 3 = 9
- The 9th (last) game MUST be won by Djokovic (he clinches the set).
- In the first 8 games, Djokovic won 5 and Nadal won 3.
- Number of arrangements = C(8, 3) = 8! / (3! * 5!) = (8*7*6) / (3*2*1) = 336/6 = 56

SET 2 (6:4):
- Total games: 6 + 4 = 10
- The 10th (last) game MUST be won by Djokovic.
- In the first 9 games, Djokovic won 5 and Nadal won 4.
- Number of arrangements = C(9, 4) = 9! / (4! * 5!) = (9*8*7*6) / (4*3*2*1) = 3024/24 = 126

TOTAL ways for the match = 56 * 126 = 7056

Check: 84^2 = 7056. YES!

Also check other options:
72^2 = 5184 - NO
96^2 = 9216 - NO
90^2 = 8100 - NO
78^2 = 6084 - NO
84^2 = 7056 - YES

Answer: E) 84^2
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}
h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 90px;
  text-align: center;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}
.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}
.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: all 0.25s ease;
  cursor: pointer;
}
.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}
.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  margin-top: 2px;
}
.step-content {
  flex: 1;
}
.step-content h3 {
  margin-bottom: 8px;
}
.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}
.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}
details {
  margin: 15px 0;
}
details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 14px;
  background: rgba(96,165,250,0.08);
  border-radius: 8px;
  list-style: none;
  user-select: none;
}
details summary::-webkit-details-marker { display: none; }
details summary::before {
  content: '‚ñ∂ ';
  display: inline-block;
  transition: transform 0.2s;
}
details[open] summary::before {
  transform: rotate(90deg);
}
details .details-content {
  padding: 14px 16px;
  margin-top: 8px;
  background: rgba(96,165,250,0.04);
  border-radius: 8px;
  border: 1px solid rgba(96,165,250,0.1);
}
details .details-content ul {
  padding-left: 20px;
}
details .details-content li {
  margin-bottom: 10px;
  color: #cbd5e1;
}
.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}
.checkpoint summary {
  background: rgba(167,139,250,0.1);
  color: #a78bfa;
}
.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}
.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 14px;
}
.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.35);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}
.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 16px;
}
.final-answer-text {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  margin: 12px 0;
}
.answer-options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 18px;
}
.answer-opt {
  padding: 10px 20px;
  border-radius: 10px;
  background: rgba(96,165,250,0.06);
  border: 1px solid #334155;
  color: #94a3b8;
  font-size: 1rem;
}
.answer-opt.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: 700;
}
.pitfall-box {
  background: rgba(224,148,104,0.06);
  border: 1px solid rgba(224,148,104,0.2);
  border-radius: 12px;
  padding: 20px;
  margin-bottom: 24px;
}
.pitfall-box h2 {
  color: #e09468;
  margin-bottom: 12px;
}
.pitfall-box ul {
  padding-left: 20px;
}
.pitfall-box li {
  color: #cbd5e1;
  margin-bottom: 8px;
}
.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}
.highlight-green {
  color: #4ade80;
  font-weight: 600;
}
.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}
.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 10px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-text { font-size: 1.4rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>–ë—Ä–æ—ò —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö —Ç–æ–∫–æ–≤–∞ —Ç–µ–Ω–∏—Å–∫–æ–≥ –º–µ—á–∞</h1>
  <p class="subtitle">–ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞ ‚Äî –±—Ä–æ—ò–∞—ö–µ —É—Ä–µ—í–µ–Ω–∏—Ö –Ω–∏–∑–æ–≤–∞ —Å–∞ —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∏–º –∑–∞–≤—Ä—à–µ—Ç–∫–æ–º</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>–ü–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–¥–∞—Ç–∫–∞</h2>
    <p>
      –£ —ò–µ–¥–Ω–æ–º —Ç–µ–Ω–∏—Å–∫–æ–º –º–µ—á—É –Ç–æ–∫–æ–≤–∏—õ —ò–µ –ø–æ–±–µ–¥–∏–æ –ù–∞–¥–∞–ª–∞ —É –¥–≤–∞ —Å–µ—Ç–∞, —Ä–µ–∑—É–ª—Ç–∞—Ç–æ–º
      <span class="highlight-blue">6:3</span>, <span class="highlight-blue">6:4</span> —É –≥–µ–º–æ–≤–∏–º–∞
      (—Å–µ—Ç –¥–æ–±–∏—ò–∞ –∏–≥—Ä–∞—á –∫–æ—ò–∏ –ø—Ä–≤–∏ –æ—Å–≤–æ—ò–∏ 6 –≥–µ–º–æ–≤–∞ —É —Ç–æ–º —Å–µ—Ç—É).
      –ë—Ä–æ—ò —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö –Ω–∞—á–∏–Ω–∞ –Ω–∞ –∫–æ—ò–µ —Å–µ –º–æ–≥–∞–æ –∫—Ä–µ—Ç–∞—Ç–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç –æ–≤–æ–≥ –º–µ—á–∞ –ø–æ –≥–µ–º–æ–≤–∏–º–∞ —ò–µ–¥–Ω–∞–∫ —ò–µ:
    </p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(72^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(96^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(90^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(78^2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(84^2\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>–ü–ª–∞–Ω —Ä–µ—à–∞–≤–∞—ö–∞</h2>
    <p>
      –ó–∞ —Å–≤–∞–∫–∏ —Å–µ—Ç —õ–µ–º–æ –æ–¥—Ä–µ–¥–∏—Ç–∏ –∫–æ–ª–∏–∫–æ —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö —Ä–µ–¥–æ—Å–ª–µ–¥–∞ –æ—Å–≤–∞—ò–∞—ö–∞ –≥–µ–º–æ–≤–∞ –ø–æ—Å—Ç–æ—ò–∏, –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ —á–∏—ö–µ–Ω–∏—Ü—É
      –¥–∞ <span class="highlight-pink">–ø–æ–±–µ–¥–Ω–∏–∫ –º–æ—Ä–∞ –æ—Å–≤–æ—ò–∏—Ç–∏ –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º</span> —É —Å–µ—Ç—É.
      –ó–∞—Ç–∏–º –º–Ω–æ–∂–∏–º–æ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ –æ–±–∞ —Å–µ—Ç–∞.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê –ö—ô—É—á–Ω–µ —Ñ–æ—Ä–º—É–ª–µ –∏ —Ç–µ–æ—Ä–µ–º–µ</summary>
      <div class="details-content">
        <ul>
          <li>
            <strong>–ë–∏–Ω–æ–º–Ω–∏ –∫–æ–µ—Ñ–∏—Ü–∏—ò–µ–Ω—Ç:</strong> –ë—Ä–æ—ò –Ω–∞—á–∏–Ω–∞ –¥–∞ —Å–µ –∏–∑ \(n\) –µ–ª–µ–º–µ–Ω–∞—Ç–∞ –∏–∑–∞–±–µ—Ä–µ \(k\) –µ–ª–µ–º–µ–Ω–∞—Ç–∞:
            \[\binom{n}{k} = \frac{n!}{k!(n-k)!}\]
          </li>
          <li>
            <strong>–ü—Ä–∏–Ω—Ü–∏–ø –º–Ω–æ–∂–µ—ö–∞:</strong> –ê–∫–æ —Å–µ —ò–µ–¥–∞–Ω –¥–æ–≥–∞—í–∞—ò –º–æ–∂–µ –¥–µ—Å–∏—Ç–∏ –Ω–∞ \(m\) –Ω–∞—á–∏–Ω–∞, –∞ –Ω–µ–∑–∞–≤–∏—Å–∞–Ω –¥—Ä—É–≥–∏ –Ω–∞ \(n\) –Ω–∞—á–∏–Ω–∞,
            –æ–Ω–¥–∞ —Å–µ –æ–±–∞ –º–æ–≥—É –¥–µ—Å–∏—Ç–∏ –Ω–∞ \(m \cdot n\) –Ω–∞—á–∏–Ω–∞.
          </li>
          <li>
            <strong>–ö—ô—É—á–Ω–∏ —É–≤–∏–¥ –∑–∞ —Å–ø–æ—Ä—Ç—Å–∫–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ:</strong> –ê–∫–æ –∏–≥—Ä–∞—á –ê –ø–æ–±–µ—í—É—ò–µ —Ä–µ–∑—É–ª—Ç–∞—Ç–æ–º \(a:b\),
            –æ–Ω–¥–∞ —ò–µ <em>–ø–æ—Å–ª–µ–¥—ö–∏ –ø–æ–µ–Ω/–≥–µ–º</em> –æ–±–∞–≤–µ–∑–Ω–æ –æ—Å–≤–æ—ò–µ–Ω –æ–¥ –ê. –ü—Ä–µ—Ç—Ö–æ–¥–Ω–∏—Ö \((a-1)+b\) –ø–æ–µ–Ω–∞ —Å–µ
            –º–æ–∂–µ —Ä–∞—Å–ø–æ—Ä–µ–¥–∏—Ç–∏ –Ω–∞ \(\binom{a-1+b}{b}\) –Ω–∞—á–∏–Ω–∞.
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>–í–∏–∑—É–µ–ª–Ω–∏ –ø—Ä–∏–∫–∞–∑ ‚Äî –º–æ–≥—É—õ–∏ —Ç–æ–∫–æ–≤–∏ —Å–µ—Ç–∞</h2>
    <p style="color:#94a3b8; margin-bottom:14px;">
      –î–∏—ò–∞–≥—Ä–∞–º –∏—Å–ø–æ–¥ –ø—Ä–∏–∫–∞–∑—É—ò–µ —Ä–µ—à–µ—Ç–∫–∞—Å—Ç–∏ –ø—É—Ç (lattice path) –∑–∞ –æ–±–∞ —Å–µ—Ç–∞.
      –°–≤–∞–∫–∞ –ø—É—Ç–∞—ö–∞ –æ–¥ –¥–æ—ö–µ–≥ –ª–µ–≤–æ–≥ –¥–æ –≥–æ—Ä—ö–µ–≥ –¥–µ—Å–Ω–æ–≥ —É–≥–ª–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—ô–∞ —ò–µ–¥–∞–Ω –º–æ–≥—É—õ–∏ —Ç–æ–∫ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞.
      –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –¥—É–≥–º–∞–¥ –∏—Å–ø–æ–¥ –¥–∞ –≤–∏–¥–∏—Ç–µ —Å–≤–∞–∫–∏ —Å–µ—Ç –∑–∞—Å–µ–±–Ω–æ.
    </p>
    <div style="text-align:center; margin-bottom:12px;">
      <button id="btn-set1" style="padding:8px 20px; margin:0 6px; border-radius:8px; border:1px solid #60a5fa; background:rgba(96,165,250,0.15); color:#60a5fa; cursor:pointer; font-size:0.95rem; font-weight:600;">–°–µ—Ç 1 (6:3)</button>
      <button id="btn-set2" style="padding:8px 20px; margin:0 6px; border-radius:8px; border:1px solid #334155; background:rgba(96,165,250,0.05); color:#94a3b8; cursor:pointer; font-size:0.95rem;">–°–µ—Ç 2 (6:4)</button>
    </div>
    <canvas id="lattice-canvas" width="700" height="480"></canvas>
    <p class="canvas-hint">–°–≤–∞–∫–∞ –ø—É—Ç–∞—ö–∞ –ø–æ —Ä–µ—à–µ—Ç–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤—ô–∞ —ò–µ–¥–∞–Ω –º–æ–≥—É—õ–∏ —Ä–µ–¥–æ—Å–ª–µ–¥ –≥–µ–º–æ–≤–∞</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>–†–µ—à–µ—ö–µ ‚Äî –∫–æ—Ä–∞–∫ –ø–æ –∫–æ—Ä–∞–∫</h2>

    <!-- Step 1 -->
    <div class="step-container" id="step-1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>–†–∞–∑—É–º–µ–≤–∞—ö–µ –ø—Ä–æ–±–ª–µ–º–∞</h3>
        <p>
          –ú–µ—á —Å–µ —Å–∞—Å—Ç–æ—ò–∏ –æ–¥ –¥–≤–∞ —Å–µ—Ç–∞. –£ —Å–≤–∞–∫–æ–º —Å–µ—Ç—É, –∏–≥—Ä–∞—á–∏ –Ω–∞–∏–∑–º–µ–Ω–∏—á–Ω–æ –æ—Å–≤–∞—ò–∞—ò—É –≥–µ–º–æ–≤–µ.
          –†–µ–∑—É–ª—Ç–∞—Ç —Å–µ—Ç–∞ —ò–µ –∫–æ–Ω–∞—á–∞–Ω –∫–∞–¥–∞ —ò–µ–¥–∞–Ω –∏–≥—Ä–∞—á –æ—Å–≤–æ—ò–∏ 6 –≥–µ–º–æ–≤–∞.
        </p>
        <p>
          <span class="highlight-blue">–°–µ—Ç 1:</span> –Ç–æ–∫–æ–≤–∏—õ 6, –ù–∞–¥–∞–ª 3 ‚Üí —É–∫—É–ø–Ω–æ 9 –≥–µ–º–æ–≤–∞.<br>
          <span class="highlight-blue">–°–µ—Ç 2:</span> –Ç–æ–∫–æ–≤–∏—õ 6, –ù–∞–¥–∞–ª 4 ‚Üí —É–∫—É–ø–Ω–æ 10 –≥–µ–º–æ–≤–∞.
        </p>
        <p class="note">
          –ü–∏—Ç–∞–º–æ —Å–µ: –Ω–∞ –∫–æ–ª–∏–∫–æ —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö –Ω–∞—á–∏–Ω–∞ —Å–µ –º–æ–≥–∞–æ –æ–¥–≤–∏—ò–∞—Ç–∏ –æ–≤–∞—ò –º–µ—á –ø–æ –≥–µ–º–æ–≤–∏–º–∞?
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" id="step-2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>–ö—ô—É—á–Ω–æ –∑–∞–ø–∞–∂–∞—ö–µ ‚Äî –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º</h3>
        <p>
          –ü–æ—à—Ç–æ –Ç–æ–∫–æ–≤–∏—õ –ø–æ–±–µ—í—É—ò–µ —É —Å–µ—Ç—É, –æ–Ω <span class="highlight-pink">–º–æ—Ä–∞ –æ—Å–≤–æ—ò–∏—Ç–∏ –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º</span>.
          –°–µ—Ç —Å–µ –∑–∞–≤—Ä—à–∞–≤–∞ —á–∏–º —ò–µ–¥–∞–Ω –∏–≥—Ä–∞—á –¥–æ—Å—Ç–∏–≥–Ω–µ 6 –≥–µ–º–æ–≤–∞ ‚Äî —Ç–æ –∑–Ω–∞—á–∏ –¥–∞ —ò–µ 6. –≥–µ–º –Ç–æ–∫–æ–≤–∏—õ–∞ —É–≤–µ–∫ –Ω–∞ –∫—Ä–∞—ò—É.
        </p>
        <p>
          –î–∞–∫–ª–µ, —Å–∞–º–æ –ø—Ä–µ—Ç—Ö–æ–¥–Ω–µ –≥–µ–º–æ–≤–µ —Ç—Ä–µ–±–∞ —Ä–∞—Å–ø–æ—Ä–µ–¥–∏—Ç–∏, –∞ –ø–æ—Å–ª–µ–¥—ö–∏ —ò–µ —Ñ–∏–∫—Å–∏—Ä–∞–Ω.
        </p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" id="step-3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>–ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–≤–æ–≥ —Å–µ—Ç–∞ (6:3)</h3>
        <p>
          –£–∫—É–ø–Ω–æ 9 –≥–µ–º–æ–≤–∞, –æ–¥ —Ç–æ–≥–∞ –Ç–æ–∫–æ–≤–∏—õ –æ—Å–≤–∞—ò–∞ 6, –∞ –ù–∞–¥–∞–ª 3.
          –ü–æ—à—Ç–æ —ò–µ –ø–æ—Å–ª–µ–¥—ö–∏ (9.) –≥–µ–º –Ç–æ–∫–æ–≤–∏—õ–µ–≤, –ø—Ä–µ–æ—Å—Ç–∞–ª–∏—Ö <span class="highlight-blue">8 –≥–µ–º–æ–≤–∞</span>
          —Ç—Ä–µ–±–∞ —Ä–∞—Å–ø–æ—Ä–µ–¥–∏—Ç–∏: 5 –Ç–æ–∫–æ–≤–∏—õ–µ–≤–∏—Ö –∏ 3 –ù–∞–¥–∞–ª–æ–≤–∞.
        </p>
        <div class="math-block">
          \[N_1 = \binom{8}{3} = \frac{8!}{3! \cdot 5!}\]
        </div>
        <p>–ò–∑—Ä–∞—á—É–Ω–∞–≤–∞–º–æ:</p>
        <div class="math-block">
          \[\binom{8}{3} = \frac{8 \cdot 7 \cdot 6}{3 \cdot 2 \cdot 1} = \frac{336}{6} = 56\]
        </div>
        <p class="note">
          –ú–æ–∂–µ–º–æ –±–∏—Ä–∞—Ç–∏ –∏ \(\binom{8}{5}\) ‚Äî —Ä–µ–∑—É–ª—Ç–∞—Ç —ò–µ –∏—Å—Ç–∏, —ò–µ—Ä \(\binom{8}{3} = \binom{8}{5}\).
        </p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <div class="checkpoint">
      <details>
        <summary>üß† –ü—Ä–æ–≤–µ—Ä–∏ —Å–µ–±–µ: –ó–∞—à—Ç–æ –±–∏—Ä–∞–º–æ –∏–∑ 8, –∞ –Ω–µ –∏–∑ 9?</summary>
        <div class="details-content">
          <p>
            –ó–∞—Ç–æ —à—Ç–æ —ò–µ <strong>9. –≥–µ–º —Ñ–∏–∫—Å–∏—Ä–∞–Ω</strong> ‚Äî —Ç–æ —ò–µ –≥–µ–º —É –∫–æ–º–µ –Ç–æ–∫–æ–≤–∏—õ –æ—Å–≤–∞—ò–∞ —Å–µ—Ç.
            –†–∞—Å–ø–æ—Ä–µ—í—É—ò–µ–º–æ —Å–∞–º–æ –ø—Ä–≤–∏—Ö 8 –≥–µ–º–æ–≤–∞, —É –∫–æ—ò–∏–º–∞ —ò–µ –Ç–æ–∫–æ–≤–∏—õ –æ—Å–≤–æ—ò–∏–æ 5, –∞ –ù–∞–¥–∞–ª 3.
          </p>
        </div>
      </details>
    </div>

    <!-- Step 4 -->
    <div class="step-container" id="step-4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>–ê–Ω–∞–ª–∏–∑–∞ –¥—Ä—É–≥–æ–≥ —Å–µ—Ç–∞ (6:4)</h3>
        <p>
          –£–∫—É–ø–Ω–æ 10 –≥–µ–º–æ–≤–∞: –Ç–æ–∫–æ–≤–∏—õ 6, –ù–∞–¥–∞–ª 4.
          –ü–æ—Å–ª–µ–¥—ö–∏ (10.) –≥–µ–º —ò–µ –Ç–æ–∫–æ–≤–∏—õ–µ–≤. –ü—Ä–µ–æ—Å—Ç–∞–ª–∏—Ö <span class="highlight-blue">9 –≥–µ–º–æ–≤–∞</span>
          —Ç—Ä–µ–±–∞ —Ä–∞—Å–ø–æ—Ä–µ–¥–∏—Ç–∏: 5 –Ç–æ–∫–æ–≤–∏—õ–µ–≤–∏—Ö –∏ 4 –ù–∞–¥–∞–ª–æ–≤–∞.
        </p>
        <div class="math-block">
          \[N_2 = \binom{9}{4} = \frac{9!}{4! \cdot 5!}\]
        </div>
        <p>–ò–∑—Ä–∞—á—É–Ω–∞–≤–∞–º–æ:</p>
        <div class="math-block">
          \[\binom{9}{4} = \frac{9 \cdot 8 \cdot 7 \cdot 6}{4 \cdot 3 \cdot 2 \cdot 1} = \frac{3024}{24} = 126\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <div class="checkpoint">
      <details>
        <summary>üß† –ü—Ä–æ–≤–µ—Ä–∏ —Å–µ–±–µ: –ö–æ–ª–∏–∫–æ –Ω–∞—á–∏–Ω–∞ –∑–∞ –æ–±–∞ —Å–µ—Ç–∞ —É–∫—É–ø–Ω–æ?</summary>
        <div class="details-content">
          <p>
            –ü—Ä–∏–º–µ–Ω–∏–º–æ <strong>–ø—Ä–∏–Ω—Ü–∏–ø –º–Ω–æ–∂–µ—ö–∞</strong>: —Ç–æ–∫–æ–≤–∏ —Å–µ—Ç–æ–≤–∞ —Å—É –Ω–µ–∑–∞–≤–∏—Å–Ω–∏, –ø–∞ —É–∫—É–ø–∞–Ω –±—Ä–æ—ò –Ω–∞—á–∏–Ω–∞ —ò–µ
            \(N_1 \cdot N_2 = 56 \cdot 126\).
          </p>
        </div>
      </details>
    </div>

    <!-- Step 5 -->
    <div class="step-container" id="step-5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>–£–∫—É–ø–∞–Ω –±—Ä–æ—ò —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö —Ç–æ–∫–æ–≤–∞ –º–µ—á–∞</h3>
        <p>
          –°–µ—Ç–æ–≤–∏ —Å—É –Ω–µ–∑–∞–≤–∏—Å–Ω–∏ ‚Äî —Ç–æ–∫ —ò–µ–¥–Ω–æ–≥ –Ω–µ —É—Ç–∏—á–µ –Ω–∞ —Ç–æ–∫ –¥—Ä—É–≥–æ–≥. –ü—Ä–∏–º–µ–Ω–æ–º <span class="highlight-pink">–ø—Ä–∏–Ω—Ü–∏–ø–∞ –º–Ω–æ–∂–µ—ö–∞</span>:
        </p>
        <div class="math-block">
          \[N = N_1 \cdot N_2 = 56 \cdot 126\]
        </div>
        <p>–†–∞—á—É–Ω–∞–º–æ –ø—Ä–æ–∏–∑–≤–æ–¥:</p>
        <div class="math-block">
          \[56 \cdot 126 = 56 \cdot 100 + 56 \cdot 26 = 5600 + 1456 = 7056\]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step-container" id="step-6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>–î–æ–≤–æ—í–µ—ö–µ —É –æ–±–ª–∏–∫ –ø–æ–Ω—É—í–µ–Ω–∏—Ö –æ–¥–≥–æ–≤–æ—Ä–∞</h3>
        <p>
          –û–¥–≥–æ–≤–æ—Ä–∏ —Å—É –¥–∞—Ç–∏ —É –æ–±–ª–∏–∫—É –∫–≤–∞–¥—Ä–∞—Ç–∞. –ü—Ä–æ–≤–µ—Ä–∏–º–æ –¥–∞ –ª–∏ —ò–µ 7056 –ø–æ—Ç–ø—É–Ω –∫–≤–∞–¥—Ä–∞—Ç:
        </p>
        <div class="math-block">
          \[84^2 = 84 \cdot 84 = 7056 \quad \checkmark\]
        </div>
        <p>
          –ú–æ–∂–µ–º–æ –∏ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏—ò–µ –≤–∏–¥–µ—Ç–∏ –∑–∞—à—Ç–æ: —Ä–∞—Å—Ç–∞–≤–∏–º–æ –Ω–∞ –ø—Ä–æ—Å—Ç–µ —Ñ–∞–∫—Ç–æ—Ä–µ.
        </p>
        <div class="math-block">
          \[\begin{align}
          56 &= 8 \cdot 7 = 2^3 \cdot 7 \\
          126 &= 2 \cdot 63 = 2 \cdot 9 \cdot 7 = 2 \cdot 3^2 \cdot 7 \\
          56 \cdot 126 &= 2^4 \cdot 3^2 \cdot 7^2 = (2^2 \cdot 3 \cdot 7)^2 = (4 \cdot 21)^2 = 84^2
          \end{align}\]
        </div>
        <p class="note">
          –õ–µ–ø–æ! –ü—Ä–æ–∏–∑–≤–æ–¥ —Å–µ –ø—Ä–∏—Ä–æ–¥–Ω–æ —Ä–∞—Å–ø–∞–¥–∞ –Ω–∞ –ø–æ—Ç–ø—É–Ω –∫–≤–∞–¥—Ä–∞—Ç.
        </p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <div class="checkpoint">
      <details>
        <summary>üß† –ü—Ä–æ–≤–µ—Ä–∏ —Å–µ–±–µ: –ö–æ–ª–∏–∫–æ —ò–µ \(\sqrt{7056}\)?</summary>
        <div class="details-content">
          <p>
            \(\sqrt{7056} = 84\), —ò–µ—Ä \(84 \times 84 = 7056\). –û–¥–≥–æ–≤–æ—Ä —ò–µ \(84^2\).
          </p>
        </div>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>–ö—ô—É—á–Ω–∏ —É–≤–∏–¥</h2>
    <p style="color:#cbd5e1; margin-bottom:14px;">
      –ë—Ä–æ—ò –Ω–∞—á–∏–Ω–∞ –∑–∞ —Ç–æ–∫ —Å–µ—Ç–∞ \(a{:}b\) (–≥–¥–µ –ø–æ–±–µ–¥–Ω–∏–∫ –æ—Å–≤–∞—ò–∞ \(a\) –≥–µ–º–æ–≤–∞) —ò–µ–¥–Ω–∞–∫ —ò–µ
      \(\binom{a+b-1}{b}\), —ò–µ—Ä —ò–µ –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º —Ñ–∏–∫—Å–∏—Ä–∞–Ω.
    </p>
    <div class="math-block" style="display:inline-block; font-size:1.1rem;">
      \[\binom{8}{3} \cdot \binom{9}{4} = 56 \cdot 126 = 7056 = \color{#4ade80}{84^2}\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>–ö–æ–Ω–∞—á–∞–Ω –æ–¥–≥–æ–≤–æ—Ä</h2>
    <div class="final-answer-text">\(84^2\)</div>
    <div class="answer-options-final">
      <div class="answer-opt">(A) \(72^2\)</div>
      <div class="answer-opt">(B) \(96^2\)</div>
      <div class="answer-opt">(C) \(90^2\)</div>
      <div class="answer-opt">(D) \(78^2\)</div>
      <div class="answer-opt correct">(–ï) \(84^2\) ‚úì</div>
    </div>
    <p style="color:#94a3b8; margin-top:16px; font-size:0.95rem;">
      <strong>–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—ò–∞:</strong> –ü—Ä–æ–≤–µ—Ä–∏–º–æ –¥–∏–º–µ–Ω–∑–∏–æ–Ω–∞–ª–Ω–æ ‚Äî —Å–µ—Ç 6:3 –∏–º–∞ 9 –≥–µ–º–æ–≤–∞ –∏ 56 —Ä–∞—Å–ø–æ—Ä–µ–¥–∞,
      —Å–µ—Ç 6:4 –∏–º–∞ 10 –≥–µ–º–æ–≤–∞ –∏ 126 —Ä–∞—Å–ø–æ—Ä–µ–¥–∞. –ü—Ä–æ–∏–∑–≤–æ–¥ 56 √ó 126 = 7056 = 84¬≤. –°–≤–µ —Å–µ –ø–æ–∫–ª–∞–ø–∞.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="pitfall-box">
    <h2>–ß–µ—Å—Ç–µ –≥—Ä–µ—à–∫–µ</h2>
    <ul>
      <li>
        <strong>–ó–∞–±–æ—Ä–∞–≤–∏—Ç–∏ –¥–∞ —ò–µ –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º —Ñ–∏–∫—Å–∏—Ä–∞–Ω:</strong> –ê–∫–æ –±–∏—Å–º–æ —Ä–∞—á—É–Ω–∞–ª–∏ \(\binom{9}{3}\) —É–º–µ—Å—Ç–æ
        \(\binom{8}{3}\), –¥–æ–±–∏–ª–∏ –±–∏—Å–º–æ –ø—Ä–µ–≤–∏—à–µ ‚Äî —É–∫—ô—É—á–∏–ª–∏ –±–∏—Å–º–æ –∏ —Å—Ü–µ–Ω–∞—Ä–∏—ò–µ –≥–¥–µ –Ç–æ–∫–æ–≤–∏—õ –∏–º–∞ 6 –≥–µ–º–æ–≤–∞
        –ø—Ä–µ –∫—Ä–∞—ò–∞, –∞ –º–µ—á —Å–µ ‚Äû–Ω–∞—Å—Ç–∞–≤—ô–∞", —à—Ç–æ —ò–µ –Ω–µ–º–æ–≥—É—õ–µ.
      </li>
      <li>
        <strong>–ó–±—É–Ω–∏—Ç–∏ —Å–µ —Å–∞ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—ò–∞–º–∞:</strong> –û–≤–¥–µ –Ω–µ –∫–æ—Ä–∏—Å—Ç–∏–º–æ –ø–µ—Ä–º—É—Ç–∞—Ü–∏—ò–µ —Å–≤–∏—Ö –≥–µ–º–æ–≤–∞
        (–≥–µ–º–æ–≤–∏ –∏—Å—Ç–æ–≥ –∏–≥—Ä–∞—á–∞ —Å—É –º–µ—í—É—Å–æ–±–Ω–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–∏), –≤–µ—õ –∫–æ–º–±–∏–Ω–∞—Ü–∏—ò–µ ‚Äî –±–∏—Ä–∞–º–æ <em>–ø–æ–∑–∏—Ü–∏—ò–µ</em>
        –∑–∞ –≥–µ–º–æ–≤–µ —ò–µ–¥–Ω–æ–≥ –∏–≥—Ä–∞—á–∞.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <h2>–î–æ–¥–∞—Ç–Ω–∏ –∏–∑–∞–∑–æ–≤</h2>
    <p>
      –î–∞ —ò–µ –Ç–æ–∫–æ–≤–∏—õ –ø–æ–±–µ–¥–∏–æ —Ä–µ–∑—É–ª—Ç–∞—Ç–æ–º <strong>6:4, 3:6, 6:3</strong> (—É —Ç—Ä–∏ —Å–µ—Ç–∞, –≥–¥–µ –ù–∞–¥–∞–ª
      –¥–æ–±–∏—ò–∞ –¥—Ä—É–≥–∏ —Å–µ—Ç), –∫–æ–ª–∏–∫–æ –±–∏ —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö —Ç–æ–∫–æ–≤–∞ –∏–º–∞–æ —Ü–µ–æ –º–µ—á?
    </p>
    <details>
      <summary>–ù–∞–≥–æ–≤–µ—à—Ç–∞—ò</summary>
      <div class="details-content">
        <p>
          –ö–æ—Ä–∏—Å—Ç–∏ –∏—Å—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞ —Å–≤–∞–∫–∏ —Å–µ—Ç. –ó–∞ —Å–µ—Ç 3:6 (–ù–∞–¥–∞–ª –ø–æ–±–µ—í—É—ò–µ), –ø–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º —ò–µ –ù–∞–¥–∞–ª–æ–≤,
          –ø–∞ —Ä–∞—Å–ø–æ—Ä–µ—í—É—ò–µ–º–æ 3 –Ç–æ–∫–æ–≤–∏—õ–µ–≤–∞ –∏ 5 –ù–∞–¥–∞–ª–æ–≤–∏—Ö –≥–µ–º–æ–≤–∞ —É 8 –ø–æ–∑–∏—Ü–∏—ò–∞: \(\binom{8}{3} = 56\).
          –£–∫—É–ø–Ω–æ: \(\binom{9}{4} \cdot \binom{8}{3} \cdot \binom{8}{3} = 126 \cdot 56 \cdot 56\).
        </p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Canvas drawing for lattice path visualization
  const canvas = document.getElementById('lattice-canvas');
  const ctx = canvas.getContext('2d');
  let currentSet = 1;

  const btnSet1 = document.getElementById('btn-set1');
  const btnSet2 = document.getElementById('btn-set2');

  btnSet1.addEventListener('click', () => {
    currentSet = 1;
    btnSet1.style.borderColor = '#60a5fa';
    btnSet1.style.background = 'rgba(96,165,250,0.15)';
    btnSet1.style.color = '#60a5fa';
    btnSet1.style.fontWeight = '600';
    btnSet2.style.borderColor = '#334155';
    btnSet2.style.background = 'rgba(96,165,250,0.05)';
    btnSet2.style.color = '#94a3b8';
    btnSet2.style.fontWeight = 'normal';
    drawLattice();
  });

  btnSet2.addEventListener('click', () => {
    currentSet = 2;
    btnSet2.style.borderColor = '#60a5fa';
    btnSet2.style.background = 'rgba(96,165,250,0.15)';
    btnSet2.style.color = '#60a5fa';
    btnSet2.style.fontWeight = '600';
    btnSet1.style.borderColor = '#334155';
    btnSet1.style.background = 'rgba(96,165,250,0.05)';
    btnSet1.style.color = '#94a3b8';
    btnSet1.style.fontWeight = 'normal';
    drawLattice();
  });

  function drawLattice() {
    const W = canvas.width;
    const H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    let djoWins, nadWins, binomResult;
    if (currentSet === 1) {
      djoWins = 6; nadWins = 3; binomResult = 56;
    } else {
      djoWins = 6; nadWins = 4; binomResult = 126;
    }

    const maxX = djoWins;
    const maxY = nadWins;

    const marginLeft = 70;
    const marginBottom = 60;
    const marginTop = 50;
    const marginRight = 80;

    const cellW = (W - marginLeft - marginRight) / maxX;
    const cellH = (H - marginTop - marginBottom) / maxY;

    const toCanvasX = (x) => marginLeft + x * cellW;
    const toCanvasY = (y) => H - marginBottom - y * cellH;

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = 0; x <= maxX; x++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), toCanvasY(0));
      ctx.lineTo(toCanvasX(x), toCanvasY(maxY));
      ctx.stroke();
    }
    for (let y = 0; y <= maxY; y++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), toCanvasY(y));
      ctx.lineTo(toCanvasX(maxX), toCanvasY(y));
      ctx.stroke();
    }

    // Grid dots
    ctx.fillStyle = '#334155';
    for (let x = 0; x <= maxX; x++) {
      for (let y = 0; y <= maxY; y++) {
        // Skip the forbidden zone: x=6 before reaching (6, nadWins) except the endpoint column
        if (x === maxX && y < maxY) continue; // Djokovic already won, can't continue
        if (y === maxY && x < maxX - 1) continue; // Nadal would have won (but he doesn't)
        ctx.beginPath();
        ctx.arc(toCanvasX(x), toCanvasY(y), 4, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    // Draw some sample paths
    const paths = generateSamplePaths(maxX - 1, maxY, 5);

    const pathColors = [
      'rgba(96,165,250,0.4)',
      'rgba(167,139,250,0.4)',
      'rgba(244,114,182,0.35)',
      'rgba(52,211,153,0.35)',
      'rgba(251,191,36,0.3)'
    ];

    paths.forEach((path, idx) => {
      ctx.strokeStyle = pathColors[idx % pathColors.length];
      ctx.lineWidth = 2.5;
      ctx.setLineDash([]);
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), toCanvasY(0));
      let cx = 0, cy = 0;
      for (let i = 0; i < path.length; i++) {
        if (path[i] === 'D') cx++;
        else cy++;
        ctx.lineTo(toCanvasX(cx), toCanvasY(cy));
      }
      // Last game: Djokovic wins
      cx++;
      ctx.lineTo(toCanvasX(cx), toCanvasY(cy));
      ctx.stroke();
    });

    // Highlight start and end points
    // Start
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(toCanvasX(0), toCanvasY(0), 8, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#0c1222';
    ctx.font = 'bold 10px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('0:0', toCanvasX(0), toCanvasY(0));

    // End
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(toCanvasX(maxX), toCanvasY(maxY), 10, 0, Math.PI * 2);
    ctx.fill();

    // Glow for end point
    const grd = ctx.createRadialGradient(toCanvasX(maxX), toCanvasY(maxY), 5, toCanvasX(maxX), toCanvasY(maxY), 25);
    grd.addColorStop(0, 'rgba(74,222,128,0.3)');
    grd.addColorStop(1, 'rgba(74,222,128,0)');
    ctx.fillStyle = grd;
    ctx.beginPath();
    ctx.arc(toCanvasX(maxX), toCanvasY(maxY), 25, 0, Math.PI * 2);
    ctx.fill();

    ctx.fillStyle = '#0c1222';
    ctx.font = 'bold 11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText(maxX + ':' + maxY, toCanvasX(maxX), toCanvasY(maxY));

    // Critical point: (maxX-1, maxY) ‚Äî the point before last game
    const critX = maxX - 1;
    const critY = maxY;
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(toCanvasX(critX), toCanvasY(critY), 7, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#0c1222';
    ctx.font = 'bold 9px Segoe UI, sans-serif';
    ctx.fillText(critX + ':' + critY, toCanvasX(critX), toCanvasY(critY));

    // Arrow from critical point to end
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(toCanvasX(critX) + 10, toCanvasY(critY));
    ctx.lineTo(toCanvasX(maxX) - 12, toCanvasY(maxY));
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw arrowhead
    const ax = toCanvasX(maxX) - 12;
    const ay = toCanvasY(maxY);
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.moveTo(ax + 8, ay);
    ctx.lineTo(ax - 2, ay - 5);
    ctx.lineTo(ax - 2, ay + 5);
    ctx.closePath();
    ctx.fill();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (let x = 0; x <= maxX; x++) {
      ctx.fillText(x.toString(), toCanvasX(x), H - marginBottom + 12);
    }
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.fillText('–Ç–æ–∫–æ–≤–∏—õ (–≥–µ–º–æ–≤–∏)', toCanvasX(maxX / 2), H - 18);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let y = 0; y <= maxY; y++) {
      ctx.fillText(y.toString(), marginLeft - 14, toCanvasY(y));
    }
    ctx.save();
    ctx.translate(18, toCanvasY(maxY / 2));
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('–ù–∞–¥–∞–ª (–≥–µ–º–æ–≤–∏)', 0, 0);
    ctx.restore();

    // Info text
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    const setLabel = currentSet === 1 ? '–°–µ—Ç 1: 6:3' : '–°–µ—Ç 2: 6:4';
    ctx.fillText(setLabel, marginLeft, 14);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'right';
    const countLabel = '–ë—Ä–æ—ò –ø—É—Ç–∞—ö–∞: ' + binomResult;
    ctx.fillText(countLabel, W - 20, 14);

    // Legend for critical point
    ctx.fillStyle = '#f472b6';
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('‚Üê –ü—Ä–µ –ø–æ—Å–ª–µ–¥—ö–µ–≥ –≥–µ–º–∞', toCanvasX(critX) + 12, toCanvasY(critY) - 5);

    ctx.fillStyle = '#4ade80';
    ctx.fillText('–ü–æ—Å–ª–µ–¥—ö–∏ –≥–µ–º (—Ñ–∏–∫—Å–∏—Ä–∞–Ω)', toCanvasX(maxX) + 14, toCanvasY(maxY) - 5);
  }

  function generateSamplePaths(djokoWins, nadalWins, count) {
    // Generate deterministic but varied sample paths
    const paths = [];
    const total = djokoWins + nadalWins;

    // Seed-based pseudo-random for reproducibility
    let seed = djokoWins * 100 + nadalWins * 10 + 42;
    function rand() {
      seed = (seed * 1103515245 + 12345) & 0x7fffffff;
      return (seed % 1000) / 1000;
    }

    for (let p = 0; p < count; p++) {
      let d = djokoWins;
      let n = nadalWins;
      const path = [];
      for (let i = 0; i < total; i++) {
        if (d === 0) { path.push('N'); n--; }
        else if (n === 0) { path.push('D'); d--; }
        else {
          // Bias varies per path for diversity
          const bias = 0.3 + p * 0.12;
          if (rand() < bias) {
            path.push('D'); d--;
          } else {
            path.push('N'); n--;
          }
        }
      }
      paths.push(path);
    }
    return paths;
  }

  // Step container click interaction
  document.querySelectorAll('.step-container').forEach(step => {
    step.addEventListener('click', () => {
      document.querySelectorAll('.step-container').forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Initial draw
  drawLattice();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "–ë—Ä–æ—ò —Ä–∞–∑–ª–∏—á–∏—Ç–∏—Ö —Ç–æ–∫–æ–≤–∞ —Ç–µ–Ω–∏—Å–∫–æ–≥ –º–µ—á–∞ –ø–æ –≥–µ–º–æ–≤–∏–º–∞",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["–∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–∏–∫–∞", "–±–∏–Ω–æ–º–Ω–∏ –∫–æ–µ—Ñ–∏—Ü–∏—ò–µ–Ω—Ç", "–ø—Ä–∏–Ω—Ü–∏–ø –º–Ω–æ–∂–µ—ö–∞", "–±—Ä–æ—ò–∞—ö–µ –ø—É—Ç–∞—ö–∞", "—Ç–µ–Ω–∏—Å"]
}
BRAINSPARK_META-->