<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Proizvod inverznih funkcija</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Given:
  f(x) = x/(x+5), x != -5
  g(x) = 5/(5-x), x != 5
  h(x) = f^{-1}(x) * g^{-1}(x), x != 0, x != 1

Find h(x).

STEP 1: Find f^{-1}(x)
Let y = f(x) = x/(x+5)
  y(x+5) = x
  yx + 5y = x
  5y = x - yx
  5y = x(1 - y)
  x = 5y / (1 - y)
So f^{-1}(x) = 5x / (1 - x), for x != 1

STEP 2: Find g^{-1}(x)
Let y = g(x) = 5/(5-x)
  y(5 - x) = 5
  5y - yx = 5
  yx = 5y - 5
  x = 5(y - 1) / y = (5y - 5) / y
So g^{-1}(x) = 5(x - 1) / x, for x != 0

STEP 3: Compute h(x) = f^{-1}(x) * g^{-1}(x)
  h(x) = [5x / (1 - x)] * [5(x - 1) / x]
       = [5x * 5(x - 1)] / [(1 - x) * x]
       = 25x(x - 1) / [x(1 - x)]

Cancel x (x != 0):
       = 25(x - 1) / (1 - x)

Note: (x - 1) = -(1 - x), so:
       = 25 * (-(1 - x)) / (1 - x)
       = -25

ANSWER: (E) h(x) = -25

VERIFICATION:
Pick x = 2:
  f^{-1}(2) = 5*2 / (1-2) = 10 / (-1) = -10
  g^{-1}(2) = 5*(2-1) / 2 = 5/2 = 2.5
  h(2) = -10 * 2.5 = -25. Correct!

Pick x = 1/2:
  f^{-1}(1/2) = 5*(1/2) / (1 - 1/2) = 2.5 / 0.5 = 5
  g^{-1}(1/2) = 5*(1/2 - 1) / (1/2) = 5*(-1/2) / (1/2) = -5
  h(1/2) = 5 * (-5) = -25. Correct!
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.section-label {
  color: #60a5fa;
  margin: 16px 0 8px;
  font-size: 1.15rem;
  font-weight: 700;
}

.section-label.purple { color: #a78bfa; }
.section-label.pink { color: #f472b6; }
.section-label.green { color: #4ade80; }

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Proizvod inverznih funkcija</h1>
  <p class="subtitle">Inverzne funkcije &mdash; nalazenje inverza i njihov proizvod</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Ako je \( f(x) = \dfrac{x}{x+5} \) za \( x \neq -5 \), \( g(x) = \dfrac{5}{5-x} \) za \( x \neq 5 \) i
      \( h(x) = f^{-1}(x) \cdot g^{-1}(x) \) za \( x \neq 0 \) i \( x \neq 1 \), gde su \( f^{-1} \) i \( g^{-1} \)
      odgovarajuce inverzne funkcije, onda je:
    </p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(h(x) = -1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(h(x) = 1\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(h(x) = 5\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(h(x) = -5\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(h(x) = -25\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>
      Potrebno je pronaci inverzne funkcije \( f^{-1}(x) \) i \( g^{-1}(x) \), a zatim izracunati njihov proizvod.
      Koristicemo standardnu tehniku invertovanja: zamenimo \( x \) i \( y \) pa resimo po \( y \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Kljucne formule i pojmovi</summary>
      <ul>
        <li>
          <strong>Inverzna funkcija:</strong>
          Ako je \( y = f(x) \), onda je \( f^{-1} \) funkcija za koju vazi \( x = f^{-1}(y) \).
          Dobijamo je tako sto iz jednacine \( y = f(x) \) izrazimo \( x \) preko \( y \).
        </li>
        <li>
          <strong>Tehnika nalazenja inverza:</strong>
          Zapisemo \( y = f(x) \), zatim resimo jednacinu po \( x \). Dobijeni izraz za \( x \) u funkciji od \( y \) daje \( f^{-1}(y) \).
        </li>
        <li>
          <strong>Korisna algebarska identitet:</strong>
          \( (x - 1) = -(1 - x) \) &mdash; ovo omogucava skracivanje razlomaka sa suprotnim faktorima.
        </li>
        <li>
          <strong>Domen inverzne funkcije:</strong>
          Domen od \( f^{-1} \) je jednak kodomenumu (slici) od \( f \), i obrnuto.
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Graficki prikaz funkcija \( f \), \( g \) i njihovih inverza, sa rezultatom proizvoda.
    </p>
    <canvas id="diagramCanvas" width="800" height="520"></canvas>
    <p class="canvas-hint">Shematski tok nalazenja inverznih funkcija i njihovog proizvoda</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Part I -->
    <h3 class="section-label">I deo: Nalazenje inverzne funkcije \( f^{-1}(x) \)</h3>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Postavimo jednacinu \( y = f(x) \)</h3>
        <p>
          Polazimo od definicije funkcije \( f \) i zapisujemo:
        </p>
        <div class="math-block">
          \[ y = \frac{x}{x + 5} \]
        </div>
        <p>
          Cilj je da izrazimo \( x \) preko \( y \).
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Resimo po \( x \)</h3>
        <p>
          Pomnozimo obe strane sa \( (x + 5) \), a zatim grupistemo clanove sa \( x \):
        </p>
        <div class="math-block">
          \[\begin{align}
            y(x + 5) &= x \\[6pt]
            yx + 5y &= x \\[6pt]
            5y &= x - yx \\[6pt]
            5y &= x(1 - y) \\[6pt]
            x &= \frac{5y}{1 - y}
          \end{align}\]
        </div>
        <p>
          Dakle, inverzna funkcija je:
        </p>
        <div class="math-block">
          \[ \boxed{f^{-1}(x) = \frac{5x}{1 - x}}, \quad x \neq 1 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li je inverz tacan?</summary>
      <div class="answer">
        Proverimo: \( f(2) = \frac{2}{2+5} = \frac{2}{7} \).
        Onda bi trebalo da bude \( f^{-1}\!\left(\frac{2}{7}\right) = 2 \).
        Racunamo: \( \frac{5 \cdot \frac{2}{7}}{1 - \frac{2}{7}} = \frac{\frac{10}{7}}{\frac{5}{7}} = \frac{10}{5} = 2 \). Tacno!
      </div>
    </details>

    <!-- Part II -->
    <h3 class="section-label purple">II deo: Nalazenje inverzne funkcije \( g^{-1}(x) \)</h3>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Postavimo jednacinu \( y = g(x) \)</h3>
        <p>
          Polazimo od definicije funkcije \( g \):
        </p>
        <div class="math-block">
          \[ y = \frac{5}{5 - x} \]
        </div>
        <p>
          Ponovo izrazavamo \( x \) preko \( y \).
        </p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Resimo po \( x \)</h3>
        <p>
          Pomnozimo obe strane sa \( (5 - x) \) i sredimo:
        </p>
        <div class="math-block">
          \[\begin{align}
            y(5 - x) &= 5 \\[6pt]
            5y - yx &= 5 \\[6pt]
            yx &= 5y - 5 \\[6pt]
            x &= \frac{5y - 5}{y} = \frac{5(y - 1)}{y}
          \end{align}\]
        </div>
        <p>
          Dakle, inverzna funkcija je:
        </p>
        <div class="math-block">
          \[ \boxed{g^{-1}(x) = \frac{5(x - 1)}{x}}, \quad x \neq 0 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li je inverz tacan?</summary>
      <div class="answer">
        Proverimo: \( g(3) = \frac{5}{5-3} = \frac{5}{2} \).
        Onda bi trebalo da bude \( g^{-1}\!\left(\frac{5}{2}\right) = 3 \).
        Racunamo: \( \frac{5\left(\frac{5}{2} - 1\right)}{\frac{5}{2}} = \frac{5 \cdot \frac{3}{2}}{\frac{5}{2}} = \frac{\frac{15}{2}}{\frac{5}{2}} = 3 \). Tacno!
      </div>
    </details>

    <!-- Part III -->
    <h3 class="section-label pink">III deo: Racunanje proizvoda \( h(x) = f^{-1}(x) \cdot g^{-1}(x) \)</h3>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Zapisimo proizvod inverznih funkcija</h3>
        <p>
          Ubacujemo izraze za obe inverzne funkcije:
        </p>
        <div class="math-block">
          \[ h(x) = \frac{5x}{1 - x} \cdot \frac{5(x - 1)}{x} \]
        </div>
        <p>
          Pomnozimo brojioce medjusobno i imenioce medjusobno:
        </p>
        <div class="math-block">
          \[ h(x) = \frac{5x \cdot 5(x - 1)}{(1 - x) \cdot x} = \frac{25x(x - 1)}{x(1 - x)} \]
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Skratimo \( x \) iz brojioca i imenioca</h3>
        <p>
          Posto je \( x \neq 0 \), mozemo skratiti \( x \):
        </p>
        <div class="math-block">
          \[ h(x) = \frac{25\cancel{x}(x - 1)}{\cancel{x}(1 - x)} = \frac{25(x - 1)}{1 - x} \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Uocimo da su \( (x-1) \) i \( (1-x) \) suprotni faktori</h3>
        <p>
          Kljucno zapazanje: \( (x - 1) = -(1 - x) \). Zamenom:
        </p>
        <div class="math-block">
          \[\begin{align}
            h(x) &= \frac{25 \cdot (x - 1)}{1 - x} \\[8pt]
                 &= \frac{25 \cdot \bigl(-(1 - x)\bigr)}{1 - x} \\[8pt]
                 &= \frac{-25 \cdot \cancel{(1 - x)}}{\cancel{(1 - x)}} \\[8pt]
                 &= -25
          \end{align}\]
        </div>
        <p class="note">
          Skracivanje je dozvoljeno jer je \( x \neq 1 \), pa je \( (1 - x) \neq 0 \).
        </p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Numericka provera za \( x = 2 \)</summary>
      <div class="answer">
        \( f^{-1}(2) = \frac{5 \cdot 2}{1 - 2} = \frac{10}{-1} = -10 \).
        \( g^{-1}(2) = \frac{5(2 - 1)}{2} = \frac{5}{2} \).
        Proizvod: \( (-10) \cdot \frac{5}{2} = -25 \). Tacno!
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Kljucno zapazanje</h2>
    <p>
      Razlomak \( \frac{x-1}{1-x} \) je uvek jednak \( -1 \) (za \( x \neq 1 \)),
      jer su brojioc i imenioc <span class="highlight-pink">suprotni brojevi</span>.
      Ovo je kljuc koji pretvara ceo proizvod u konstantu.
    </p>
    <div class="big-formula">
      \[ h(x) = \frac{5x}{1-x} \cdot \frac{5(x-1)}{x} = 25 \cdot \frac{x-1}{1-x} = \boxed{-25} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">
      \( h(x) = -25 \)
    </div>
    <div class="options-row">
      <div class="option-card">(A) \(h(x) = -1\)</div>
      <div class="option-card">(B) \(h(x) = 1\)</div>
      <div class="option-card">(C) \(h(x) = 5\)</div>
      <div class="option-card">(D) \(h(x) = -5\)</div>
      <div class="option-card correct">(E) \(h(x) = -25\)</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong>
      Za \( x = \frac{1}{2} \):
      \( f^{-1}\!\left(\frac{1}{2}\right) = \frac{5 \cdot \frac{1}{2}}{1 - \frac{1}{2}} = \frac{\frac{5}{2}}{\frac{1}{2}} = 5 \).
      \( g^{-1}\!\left(\frac{1}{2}\right) = \frac{5\left(\frac{1}{2} - 1\right)}{\frac{1}{2}} = \frac{5 \cdot \left(-\frac{1}{2}\right)}{\frac{1}{2}} = -5 \).
      Proizvod: \( 5 \cdot (-5) = -25 \). Poklapa se sa opcijom <strong>(E)</strong>.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greska 1:</span>
        Pogresan predznak pri invertovanju. Kod \( g^{-1}(x) = \frac{5(x-1)}{x} \) ucenik moze pogresno dobiti
        \( \frac{5(x+1)}{x} \) ako ne pazi na minus prilikom prebaciivanja clanova.
      </li>
      <li>
        <span class="pitfall-label">Greska 2:</span>
        Neprepoznavanje suprotnih faktora. Izraz \( \frac{x-1}{1-x} \) mora se prepoznati kao \( -1 \),
        a ne pokusavati da se skrati na drugi nacin. Ako se previdi, dolazi se do pogresnog zakljucka.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Neka je \( f(x) = \frac{x}{x+3} \) i \( g(x) = \frac{3}{3-x} \). Koliko iznosi
      \( f^{-1}(x) \cdot g^{-1}(x) \)?
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Isti pristup: nadjite \( f^{-1}(x) = \frac{3x}{1-x} \) i \( g^{-1}(x) = \frac{3(x-1)}{x} \).
        Proizvod ce opet sadrzati faktor \( \frac{x-1}{1-x} = -1 \), ali sada sa koeficijentom \( 3 \cdot 3 = 9 \).
        Rezultat: \( -9 \).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Diagram visualization
  const canvas = document.getElementById('diagramCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  const dpr = window.devicePixelRatio || 1;
  canvas.width = 800 * dpr;
  canvas.height = 520 * dpr;
  ctx.scale(dpr, dpr);

  const W = 800;
  const H = 520;

  function drawRoundedRect(x, y, w, h, r, fillColor, strokeColor) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
    if (fillColor) {
      ctx.fillStyle = fillColor;
      ctx.fill();
    }
    if (strokeColor) {
      ctx.strokeStyle = strokeColor;
      ctx.lineWidth = 1.5;
      ctx.stroke();
    }
  }

  function drawArrow(fromX, fromY, toX, toY, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(fromX, fromY);
    ctx.lineTo(toX, toY);
    ctx.stroke();

    var angle = Math.atan2(toY - fromY, toX - fromX);
    var headLen = 8;
    ctx.beginPath();
    ctx.moveTo(toX, toY);
    ctx.lineTo(toX - headLen * Math.cos(angle - 0.4), toY - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(toX, toY);
    ctx.lineTo(toX - headLen * Math.cos(angle + 0.4), toY - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  function draw() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok nalazenja h(x) = f\u207B\u00B9(x) \u00B7 g\u207B\u00B9(x)', W / 2, 24);

    var boxW = 280;
    var boxH = 44;
    var gap = 20;

    // ======= ROW 1: Two original functions side by side =======
    var leftX = 30;
    var rightX = 490;
    var startY = 48;

    // Left: f(x)
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Funkcija f', leftX + boxW / 2, startY);

    var y1 = startY + 10;
    drawRoundedRect(leftX, y1, boxW, boxH, 8, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('f(x) = x / (x + 5)', leftX + boxW / 2, y1 + 27);

    // Right: g(x)
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Funkcija g', rightX + boxW / 2, startY);

    drawRoundedRect(rightX, y1, boxW, boxH, 8, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('g(x) = 5 / (5 \u2212 x)', rightX + boxW / 2, y1 + 27);

    // ======= ROW 2: Inversion steps =======
    var y2 = y1 + boxH + gap;

    // Arrows
    drawArrow(leftX + boxW / 2, y1 + boxH, leftX + boxW / 2, y2, '#475569');
    drawArrow(rightX + boxW / 2, y1 + boxH, rightX + boxW / 2, y2, '#475569');

    // Left inversion note
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Invertujemo: y = x/(x+5) \u2192 x = 5y/(1\u2212y)', leftX + boxW / 2, y2 + 12);

    // Right inversion note
    ctx.fillText('Invertujemo: y = 5/(5\u2212x) \u2192 x = 5(y\u22121)/y', rightX + boxW / 2, y2 + 12);

    // ======= ROW 3: Inverse functions =======
    var y3 = y2 + 28;
    var invBoxW = 260;

    drawRoundedRect(leftX + 10, y3, invBoxW, 40, 8, 'rgba(96,165,250,0.12)', 'rgba(96,165,250,0.4)');
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('f\u207B\u00B9(x) = 5x / (1 \u2212 x)', leftX + 10 + invBoxW / 2, y3 + 25);

    drawRoundedRect(rightX + 10, y3, invBoxW, 40, 8, 'rgba(167,139,250,0.12)', 'rgba(167,139,250,0.4)');
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('g\u207B\u00B9(x) = 5(x\u22121) / x', rightX + 10 + invBoxW / 2, y3 + 25);

    // ======= ROW 4: Multiplication =======
    var multY = y3 + 40 + gap + 10;
    var multBoxW = 380;
    var multX = (W - multBoxW) / 2;

    // Multiplication symbol
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 22px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u00D7', W / 2, multY - 12);

    // Arrows from both inverses down to multiplication
    drawArrow(leftX + 10 + invBoxW / 2, y3 + 40, W / 2 - 50, multY - 2, '#60a5fa');
    drawArrow(rightX + 10 + invBoxW / 2, y3 + 40, W / 2 + 50, multY - 2, '#a78bfa');

    drawRoundedRect(multX, multY, multBoxW, 48, 8, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Proizvod:', W / 2, multY + 16);
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(x) = [5x / (1\u2212x)] \u00B7 [5(x\u22121) / x]', W / 2, multY + 38);

    // ======= ROW 5: Simplification =======
    var simpY = multY + 48 + gap;

    drawArrow(W / 2, multY + 48, W / 2, simpY, '#475569');

    var simpBoxW = 340;
    var simpX = (W - simpBoxW) / 2;
    drawRoundedRect(simpX, simpY, simpBoxW, 50, 8, 'rgba(56,189,248,0.06)', 'rgba(56,189,248,0.2)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Skracujemo x, ostaje:', W / 2, simpY + 17);
    ctx.fillStyle = '#cbd5e1';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(x) = 25(x\u22121) / (1\u2212x)', W / 2, simpY + 40);

    // ======= ROW 6: Key identity =======
    var idY = simpY + 50 + gap;

    drawArrow(W / 2, simpY + 50, W / 2, idY, '#475569');

    var idBoxW = 300;
    var idX = (W - idBoxW) / 2;
    drawRoundedRect(idX, idY, idBoxW, 44, 8, 'rgba(244,114,182,0.06)', 'rgba(244,114,182,0.2)');
    ctx.fillStyle = '#f472b6';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(x \u2212 1) = \u2212(1 \u2212 x), pa je razlomak = \u22121', W / 2, idY + 27);

    // ======= ROW 7: Final result =======
    var finalY = idY + 44 + gap;

    drawArrow(W / 2, idY + 44, W / 2, finalY, '#4ade80');

    var finalBoxW = 200;
    var finalX = (W - finalBoxW) / 2;
    drawRoundedRect(finalX, finalY, finalBoxW, 50, 10, 'rgba(74,222,128,0.1)', 'rgba(74,222,128,0.4)');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 22px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(x) = \u221225', W / 2, finalY + 32);

    // Final label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Odgovor: (E)', W / 2, finalY + 68);
  }

  draw();

  // Step click interactivity
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Proizvod inverznih funkcija",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["inverzne funkcije", "kompozicija funkcija", "algebarski razlomci", "suprotni faktori", "racionalni izrazi"]
}
BRAINSPARK_META-->