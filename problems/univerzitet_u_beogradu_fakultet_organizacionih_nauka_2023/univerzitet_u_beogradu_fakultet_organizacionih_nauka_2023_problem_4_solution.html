<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednacina sa kompleksnim brojem — proizvod z i konjugovanog</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Ako je z^2 - |z|^2 + 4*Im(z) = 2 - 6i, i^2 = -1, onda je z * conjugate(z) jednako?
Options: A) 5, B) 10, C) 1, D) 2, E) 17

Let z = x + yi, where x, y are real numbers.

Key identities:
  z^2 = (x + yi)^2 = x^2 - y^2 + 2xyi
  |z|^2 = x^2 + y^2  (this is a real number)
  Im(z) = y
  z * conjugate(z) = |z|^2 = x^2 + y^2

Substituting into the equation:
  z^2 - |z|^2 + 4*Im(z) = 2 - 6i
  (x^2 - y^2 + 2xyi) - (x^2 + y^2) + 4y = 2 - 6i

Separate real and imaginary parts:
  Real part: x^2 - y^2 - x^2 - y^2 + 4y = 2
           => -2y^2 + 4y = 2
           => -2y^2 + 4y - 2 = 0
           => y^2 - 2y + 1 = 0
           => (y - 1)^2 = 0
           => y = 1

  Imaginary part: 2xy = -6
           => xy = -3
           => x = -3/y = -3/1 = -3

So z = -3 + i.

Therefore: z * conjugate(z) = |z|^2 = (-3)^2 + 1^2 = 9 + 1 = 10

Answer: B) 10

Verification:
  z = -3 + i
  z^2 = (-3+i)^2 = 9 - 6i + i^2 = 9 - 6i - 1 = 8 - 6i
  |z|^2 = 9 + 1 = 10
  Im(z) = 1
  z^2 - |z|^2 + 4*Im(z) = (8-6i) - 10 + 4 = 2 - 6i  CONFIRMED
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.1rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.2rem;
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-text {
  font-size: 1.1rem;
  line-height: 1.8;
  background: #172033;
  border-left: 4px solid #60a5fa;
  padding: 18px 22px;
  border-radius: 0 10px 10px 0;
  margin-bottom: 16px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  padding: 10px 0;
  user-select: none;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

details summary::before {
  content: '>';
  display: inline-block;
  transition: transform 0.2s;
  font-family: monospace;
  font-size: 1.1rem;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .inner {
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid #334155;
}

.step {
  border-left: 3px solid #334155;
  padding: 14px 0 14px 22px;
  margin-left: 12px;
  position: relative;
  margin-bottom: 4px;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 18px;
  width: 12px;
  height: 12px;
  background: #60a5fa;
  border-radius: 50%;
  border: 2px solid #0f172a;
}

.step:last-of-type {
  border-left-color: transparent;
}

.step-label {
  font-weight: 700;
  color: #f472b6;
  font-size: 1.05rem;
  margin-bottom: 6px;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px dashed #a78bfa;
  border-radius: 10px;
  padding: 12px 18px;
  margin: 15px 0;
  font-size: 0.95rem;
}

.checkpoint details {
  margin: 0;
}

.checkpoint details summary {
  color: #34d399;
  padding: 4px 0;
  font-size: 0.95rem;
}

.checkpoint .inner {
  border-top-color: rgba(52, 211, 153, 0.3);
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 14px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.insight-formula {
  text-align: center;
  font-size: 1.3rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(74, 222, 128, 0.06));
  border: 2px solid #34d399;
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  font-size: 0.9rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  color: #34d399;
  font-weight: 700;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 1.8rem;
  font-weight: 800;
}

.final-answer-box .answer-detail {
  color: #94a3b8;
  font-size: 1rem;
  margin-top: 12px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 18px;
}

.final-option {
  background: rgba(51, 65, 85, 0.5);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 8px 18px;
  font-size: 1rem;
  color: #94a3b8;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border-left: 4px solid #f472b6;
  border-radius: 0 10px 10px 0;
  padding: 14px 20px;
  margin-bottom: 12px;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.06);
  border: 1px solid rgba(244, 114, 182, 0.25);
  border-radius: 14px;
  padding: 22px 26px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.verification-note {
  background: rgba(52, 211, 153, 0.06);
  border: 1px solid rgba(52, 211, 153, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin-top: 14px;
  font-size: 0.95rem;
  color: #94a3b8;
}

.muted { color: #94a3b8; }
.blue { color: #60a5fa; }
.green { color: #34d399; }
.purple { color: #a78bfa; }
.pink { color: #f472b6; }

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 10px; }
  .card { padding: 18px 16px; }
  .given-grid { flex-direction: column; }
  .final-options { flex-direction: column; align-items: center; }
  .step { padding-left: 16px; }
  .final-answer-box .answer-value { font-size: 1.4rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Jednacina sa kompleksnim brojem</h1>
  <p class="subtitle">Kompleksni brojevi — algebarski oblik, modul, imaginarni deo, konjugovani broj</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#x1F4CB;</span> Postavka zadatka</div>
    <div class="problem-text">
      Ako je \( z^2 - |z|^2 + 4 \cdot \text{Im}\, z = 2 - 6i \), \( i^2 = -1 \), onda je \( z \cdot \bar{z} \) jednako:
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(10\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(17\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F3AF;</span> Plan resavanja</div>
    <p class="plan-text">
      Zapisacemo \( z = x + yi \) u algebarskom obliku, uvrsticemo u jednacinu, a zatim cemo izjednaciti realne i imaginarne delove leve i desne strane. To ce nam dati sistem od dve jednacine sa dve nepoznate (\( x \) i \( y \)), iz kojeg cemo odrediti \( z \cdot \bar{z} = |z|^2 = x^2 + y^2 \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4D0;</span> Teorijska podloga</div>
    <details>
      <summary>Kljucne formule za kompleksne brojeve</summary>
      <div class="inner">
        <p>Za kompleksan broj \( z = x + yi \), gde su \( x, y \in \mathbb{R} \):</p>
        <ul style="margin: 12px 0 12px 20px; color: #94a3b8;">
          <li><strong style="color:#60a5fa;">Kvadrat:</strong> \( z^2 = (x+yi)^2 = x^2 - y^2 + 2xyi \)</li>
          <li style="margin-top:6px;"><strong style="color:#60a5fa;">Modul na kvadrat:</strong> \( |z|^2 = x^2 + y^2 \) (realan broj!)</li>
          <li style="margin-top:6px;"><strong style="color:#60a5fa;">Imaginarni deo:</strong> \( \text{Im}\, z = y \)</li>
          <li style="margin-top:6px;"><strong style="color:#60a5fa;">Konjugovani broj:</strong> \( \bar{z} = x - yi \)</li>
          <li style="margin-top:6px;"><strong style="color:#60a5fa;">Proizvod sa konjugovanim:</strong> \( z \cdot \bar{z} = |z|^2 = x^2 + y^2 \)</li>
        </ul>
        <p class="muted">Kljucna cinjenica: <strong style="color:#e2e8f0;">\( z \cdot \bar{z} = |z|^2 \)</strong>, dakle trazimo upravo modul na kvadrat.</p>
      </div>
    </details>
    <details>
      <summary>Jednakost dva kompleksna broja</summary>
      <div class="inner">
        <p>Dva kompleksna broja su jednaka ako i samo ako su im jednaki i realni i imaginarni delovi:</p>
        \[ a + bi = c + di \iff a = c \;\text{ i }\; b = d \]
        <p class="muted" style="margin-top:8px;">Ovo je osnovna tehnika za resavanje jednacina sa kompleksnim brojevima: izjednacavanje realnih i imaginarnih delova.</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4CA;</span> Vizuelni prikaz u kompleksnoj ravni</div>
    <p class="muted" style="margin-bottom:14px;">Tacka \( z = -3 + i \) u Gausovoj ravni. Modul \( |z| = \sqrt{10} \) je rastojanje od koordinatnog pocetka.</p>
    <canvas id="diagram" width="700" height="420"></canvas>
    <p class="canvas-caption">Kompleksna ravan: \( z = -3 + i \), \( |z|^2 = z \cdot \bar{z} = 10 \)</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x270F;&#xFE0F;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-label">Korak 1: Zapisimo \( z \) u algebarskom obliku</div>
      <p>Neka je \( z = x + yi \), gde su \( x \) i \( y \) realni brojevi. Tada su:</p>
      <div class="step-math">
        \[ z^2 = (x + yi)^2 = x^2 - y^2 + 2xyi \]
      </div>
      <div class="step-math">
        \[ |z|^2 = x^2 + y^2, \qquad \text{Im}\, z = y \]
      </div>
      <p class="muted">Primetimo da je \( |z|^2 \) uvek <strong style="color:#e2e8f0;">realan broj</strong>, dok \( z^2 \) ima i realni i imaginarni deo.</p>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-label">Korak 2: Uvrstimo u polaznu jednacinu</div>
      <p>Zamenjujemo sve izraze u jednacini \( z^2 - |z|^2 + 4 \cdot \text{Im}\, z = 2 - 6i \):</p>
      <div class="step-math">
        \[ (x^2 - y^2 + 2xyi) - (x^2 + y^2) + 4y = 2 - 6i \]
      </div>
      <p>Sredimo levu stranu — grupisemo realne i imaginarne delove:</p>
      <div class="step-math">
        \[ \underbrace{x^2 - y^2 - x^2 - y^2 + 4y}_{\text{realni deo}} + \underbrace{2xy}_{\text{imaginarni deo}} \cdot i = 2 - 6i \]
      </div>
      <p>Uprostimo realni deo. Primetimo da se \( x^2 \) skrati:</p>
      <div class="step-math">
        \[ (-2y^2 + 4y) + 2xy \cdot i = 2 - 6i \]
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-label">Korak 3: Izjednacimo realne i imaginarne delove</div>
      <p>Dva kompleksna broja su jednaka kada su im jednaki i realni i imaginarni delovi. Dobijamo sistem:</p>
      <div class="step-math">
        \[ \begin{cases} -2y^2 + 4y = 2 & \text{(realni deo)} \\ 2xy = -6 & \text{(imaginarni deo)} \end{cases} \]
      </div>

      <div class="checkpoint">
        <details>
          <summary>Proveri sebe: Zasto se \( x^2 \) ponistilo u realnom delu?</summary>
          <div class="inner">
            <p>Zato sto iz \( z^2 \) dobijamo \( +x^2 \) (prvi clan kvadrata binoma), a \( |z|^2 = x^2 + y^2 \) donosi \( -x^2 \). Kada ih saberemo: \( x^2 - x^2 = 0 \). To je srecna okolnost koja nam drasticno olaksava racun!</p>
          </div>
        </details>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-label">Korak 4: Resimo prvu jednacinu po \( y \)</div>
      <p>Iz prve jednacine:</p>
      <div class="step-math">
        \[ -2y^2 + 4y = 2 \]
      </div>
      <p>Podelimo obe strane sa \( -2 \):</p>
      <div class="step-math">
        \[ y^2 - 2y = -1 \]
      </div>
      <p>Prebacimo sve na jednu stranu:</p>
      <div class="step-math">
        \[ y^2 - 2y + 1 = 0 \]
      </div>
      <p>Prepoznajemo potpun kvadrat:</p>
      <div class="step-math">
        \[ (y - 1)^2 = 0 \implies y = 1 \]
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-label">Korak 5: Odredimo \( x \) iz druge jednacine</div>
      <p>Uvrstimo \( y = 1 \) u drugu jednacinu \( 2xy = -6 \):</p>
      <div class="step-math">
        \[ 2x \cdot 1 = -6 \implies 2x = -6 \implies x = -3 \]
      </div>
      <p>Dakle, kompleksan broj je:</p>
      <div class="step-math">
        \[ z = -3 + i \]
      </div>

      <div class="checkpoint">
        <details>
          <summary>Proveri sebe: Koliko je \( z \cdot \bar{z} \) za \( z = -3 + i \)?</summary>
          <div class="inner">
            <p>\( \bar{z} = -3 - i \), pa: \( z \cdot \bar{z} = (-3+i)(-3-i) = (-3)^2 - (i)^2 = 9 - (-1) = 9 + 1 = 10 \).</p>
            <p style="margin-top:6px;">Ili, direktno: \( z \cdot \bar{z} = |z|^2 = x^2 + y^2 = 9 + 1 = 10 \).</p>
          </div>
        </details>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-label">Korak 6: Izracunamo \( z \cdot \bar{z} \)</div>
      <p>Sada je odgovor direktan:</p>
      <div class="step-math">
        \[ z \cdot \bar{z} = |z|^2 = x^2 + y^2 = (-3)^2 + 1^2 = 9 + 1 = 10 \]
      </div>

      <div class="checkpoint">
        <details>
          <summary>Verifikacija: Proverimo da \( z = -3 + i \) zadovoljava polaznu jednacinu</summary>
          <div class="inner">
            <p>Izracunajmo svaki clan:</p>
            <p>\( z^2 = (-3+i)^2 = 9 - 6i + i^2 = 9 - 6i - 1 = 8 - 6i \)</p>
            <p style="margin-top:4px;">\( |z|^2 = 9 + 1 = 10 \)</p>
            <p style="margin-top:4px;">\( \text{Im}\, z = 1 \)</p>
            <p style="margin-top:8px;">Uvrstimo: \( (8-6i) - 10 + 4 \cdot 1 = 8 - 6i - 10 + 4 = 2 - 6i \; \checkmark \)</p>
          </div>
        </details>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#x1F4A1;</span> Kljucni uvid</div>
    <p>Primetimo nesto interesantno: u realnom delu jednacine, <strong>\( x^2 \) se ponistilo</strong>! To znaci da smo mogli da odredimo \( y \) potpuno nezavisno od \( x \). Ovo je posledica toga sto \( z^2 \) i \( |z|^2 \) dele isti clan \( x^2 \) u realnom delu, ali sa razlicitim predznakom za \( y^2 \).</p>
    <div class="insight-formula">
      \[ z \cdot \bar{z} = |z|^2 = (-3)^2 + 1^2 = 10 \]
    </div>
    <p class="muted">Zapamti: \( z \cdot \bar{z} \) je <strong style="color:#e2e8f0;">uvek realan i nenegativan broj</strong> — to je upravo kvadrat modula.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( z \cdot \bar{z} = 10 \)</div>
    <div class="final-options">
      <div class="final-option">A) \(5\)</div>
      <div class="final-option correct">B) \(10\)</div>
      <div class="final-option">C) \(1\)</div>
      <div class="final-option">D) \(2\)</div>
      <div class="final-option">E) \(17\)</div>
    </div>
    <div class="verification-note">
      <strong style="color:#34d399;">Provera:</strong> \( z = -3 + i \), pa \( z^2 - |z|^2 + 4 \cdot \text{Im}\,z = (8-6i) - 10 + 4 = 2 - 6i \;\checkmark \)
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Ceste greske</div>
    <div class="pitfall">
      <strong>Mesanje \( z^2 \) i \( |z|^2 \):</strong>
      \( z^2 \) je kompleksan broj (rezultat mnozenja \( z \cdot z \)), dok je \( |z|^2 = z \cdot \bar{z} \) uvek <em>realan</em> broj. Cesta greska je tretirati \( |z|^2 \) kao kompleksan izraz. U ovom zadatku, \( |z|^2 \) doprinosi samo realnom delu jednacine.
    </div>
    <div class="pitfall">
      <strong>Greska pri kvadriranju binoma:</strong>
      Kod racunanja \( z^2 = (x + yi)^2 \), ne smemo zaboraviti da je \( i^2 = -1 \). Dakle: \( (x+yi)^2 = x^2 + 2xyi + y^2 i^2 = x^2 - y^2 + 2xyi \), a ne \( x^2 + y^2 + 2xyi \).
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="challenge-box">
      <div class="card-title"><span class="icon">&#x1F3C6;</span> Dodatni izazov</div>
      <p>Sta ako jednacina glasi \( z^2 + |z|^2 + 4 \cdot \text{Im}\, z = 2 - 6i \) (sa \( + \) umesto \( - \) ispred \( |z|^2 \))? Da li i tada mozemo odrediti \( z \cdot \bar{z} \)?</p>
      <details>
        <summary>Pogledaj nagovestaj</summary>
        <div class="inner">
          <p>Postupak je isti: zapisi \( z = x + yi \) i izjednaci realne i imaginarne delove. Ovog puta se \( x^2 \) nece ponistiti u realnom delu — dobicete \( 2x^2 - 2y^2 + 4y = 2 \) i \( 2xy = -6 \). Resavanje je malo komplikovanije jer imate dve zavisne jednacine, ali iz druge jednacine \( x = -3/y \) mozete zameniti u prvu i dobiti jednacinu cetvrtog stepena po \( y \).</p>
        </div>
      </details>
    </div>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Point z = -3 + i, conjugate = -3 - i
  const zx = -3, zy = 1;
  const czx = -3, czy = -1;

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Coordinate system
    const originX = W * 0.55;
    const originY = H * 0.48;
    const scale = 55;

    const toCanvas = (x, y) => ({
      x: originX + x * scale,
      y: originY - y * scale
    });

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -6; gx <= 4; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let gy = -4; gy <= 4; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re', W - 25, originY - 10);
    ctx.fillText('Im', originX + 18, 18);

    // Tick marks and numbers
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = -5; gx <= 3; gx++) {
      if (gx === 0) continue;
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, originY - 4);
      ctx.lineTo(p.x, originY + 4);
      ctx.stroke();
      ctx.fillText(String(gx), p.x, originY + 18);
    }
    ctx.textAlign = 'right';
    for (let gy = -3; gy <= 3; gy++) {
      if (gy === 0) continue;
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(originX - 4, p.y);
      ctx.lineTo(originX + 4, p.y);
      ctx.stroke();
      ctx.fillText(String(gy), originX - 10, p.y + 4);
    }
    // Origin label
    ctx.textAlign = 'right';
    ctx.fillText('O', originX - 10, originY + 18);

    // Circle of radius sqrt(10) (|z| = sqrt(10))
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(originX, originY, Math.sqrt(10) * scale, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label the circle
    ctx.fillStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const circLabelAngle = Math.PI * 0.15;
    const circR = Math.sqrt(10) * scale;
    ctx.fillText('|z| = \u221A10', originX + circR * Math.cos(circLabelAngle) + 6, originY - circR * Math.sin(circLabelAngle));

    // Draw line from origin to z (modulus vector)
    const pz = toCanvas(zx, zy);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(originX, originY);
    ctx.lineTo(pz.x, pz.y);
    ctx.stroke();

    // Dashed projections from z to axes
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.35)';
    ctx.lineWidth = 1;
    // Vertical projection (to real axis)
    ctx.beginPath();
    ctx.moveTo(pz.x, pz.y);
    ctx.lineTo(pz.x, originY);
    ctx.stroke();
    // Horizontal projection (to imaginary axis)
    ctx.beginPath();
    ctx.moveTo(pz.x, pz.y);
    ctx.lineTo(originX, pz.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Projection labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = \u22123', pz.x, originY + 34);
    ctx.textAlign = 'right';
    ctx.fillText('y = 1', originX - 16, pz.y + 4);

    // Draw z point with glow
    ctx.beginPath();
    ctx.arc(pz.x, pz.y, 16, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(96, 165, 250, 0.12)';
    ctx.fill();

    ctx.beginPath();
    ctx.arc(pz.x, pz.y, 7, 0, 2 * Math.PI);
    ctx.fillStyle = '#60a5fa';
    ctx.fill();

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('z = \u22123 + i', pz.x + 14, pz.y - 10);

    // Draw conjugate z-bar = -3 - i
    const pcz = toCanvas(czx, czy);

    // Line from origin to conjugate
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(originX, originY);
    ctx.lineTo(pcz.x, pcz.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Conjugate point with glow
    ctx.beginPath();
    ctx.arc(pcz.x, pcz.y, 14, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(167, 139, 250, 0.12)';
    ctx.fill();

    ctx.beginPath();
    ctx.arc(pcz.x, pcz.y, 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('z\u0305 = \u22123 \u2212 i', pcz.x + 14, pcz.y + 16);

    // Symmetry line (real axis reflection)
    ctx.strokeStyle = 'rgba(167, 139, 250, 0.15)';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 5]);
    ctx.beginPath();
    ctx.moveTo(pz.x, pz.y);
    ctx.lineTo(pcz.x, pcz.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Angle arc from positive real axis
    const angle = Math.atan2(zy, zx);
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(originX, originY, 30, 0, -angle, angle > 0);
    ctx.stroke();

    // Result info box in top right
    const infoX = W * 0.72;
    const infoY = 30;
    const lh = 24;

    // Background for info
    ctx.fillStyle = 'rgba(30, 41, 59, 0.85)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const boxW = 175;
    const boxH = 125;
    const rx = 10;
    ctx.beginPath();
    ctx.moveTo(infoX - 12 + rx, infoY - 10);
    ctx.lineTo(infoX - 12 + boxW - rx, infoY - 10);
    ctx.quadraticCurveTo(infoX - 12 + boxW, infoY - 10, infoX - 12 + boxW, infoY - 10 + rx);
    ctx.lineTo(infoX - 12 + boxW, infoY - 10 + boxH - rx);
    ctx.quadraticCurveTo(infoX - 12 + boxW, infoY - 10 + boxH, infoX - 12 + boxW - rx, infoY - 10 + boxH);
    ctx.lineTo(infoX - 12 + rx, infoY - 10 + boxH);
    ctx.quadraticCurveTo(infoX - 12, infoY - 10 + boxH, infoX - 12, infoY - 10 + boxH - rx);
    ctx.lineTo(infoX - 12, infoY - 10 + rx);
    ctx.quadraticCurveTo(infoX - 12, infoY - 10, infoX - 12 + rx, infoY - 10);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.textAlign = 'left';
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Rezultat', infoX, infoY + 8);

    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('z = \u22123 + i', infoX, infoY + 8 + 1.3 * lh);

    ctx.fillStyle = '#a78bfa';
    ctx.fillText('z\u0305 = \u22123 \u2212 i', infoX, infoY + 8 + 2.3 * lh);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('z \u00B7 z\u0305 = 10', infoX, infoY + 8 + 3.6 * lh);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(\u22123)\u00B2 + 1\u00B2 = 9+1', infoX, infoY + 8 + 4.5 * lh);
  }

  draw();

  // Redraw on resize for responsiveness
  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(function() {
      const container = canvas.parentElement;
      const maxW = container.clientWidth - 56;
      if (maxW < 700) {
        canvas.style.width = maxW + 'px';
        canvas.style.height = (maxW * 420 / 700) + 'px';
      }
    }, 100);
  });

  // Initial responsive check
  const container = canvas.parentElement;
  const maxW = container.clientWidth - 56;
  if (maxW < 700) {
    canvas.style.width = maxW + 'px';
    canvas.style.height = (maxW * 420 / 700) + 'px';
  }

  // Step click highlighting
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Jednacina sa kompleksnim brojem — proizvod z i konjugovanog",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kompleksni brojevi", "algebarski oblik", "modul kompleksnog broja", "konjugovani broj", "sistem jednacina"]
}
BRAINSPARK_META-->