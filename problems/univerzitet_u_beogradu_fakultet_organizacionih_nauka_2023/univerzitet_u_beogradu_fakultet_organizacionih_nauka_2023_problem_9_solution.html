<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Racionalna nejednačina — zbir celobrojnih rešenja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Find the sum of all integer solutions of the inequality
  (8x - 3) / [(x+1)^2 (x+3)(x-2)] >= 1 / [(x+1)(x-2)]

Step 1: Domain restrictions
  Denominator zeros: x = -1, x = -3, x = 2
  Domain: R \ {-3, -1, 2}

Step 2: Move everything to one side
  (8x - 3) / [(x+1)^2 (x+3)(x-2)] - 1 / [(x+1)(x-2)] >= 0

Step 3: Common denominator = (x+1)^2 (x+3)(x-2)
  The right fraction needs to be multiplied by (x+1)(x+3) / (x+1)(x+3):
  [8x - 3 - (x+1)(x+3)] / [(x+1)^2 (x+3)(x-2)] >= 0

Step 4: Expand numerator
  (x+1)(x+3) = x^2 + 4x + 3
  Numerator = 8x - 3 - x^2 - 4x - 3 = -x^2 + 4x - 6
  Factor out -1: -(x^2 - 4x + 6)

Step 5: Analyze x^2 - 4x + 6
  Discriminant D = 16 - 24 = -8 < 0
  Since leading coefficient > 0 and D < 0, x^2 - 4x + 6 > 0 for all x.
  Therefore -(x^2 - 4x + 6) < 0 for all x.
  The numerator is ALWAYS NEGATIVE.

Step 6: Sign analysis of the inequality
  We need: [negative] / [(x+1)^2 (x+3)(x-2)] >= 0
  Since (x+1)^2 > 0 for x != -1, we can simplify to:
  [negative] / [(positive)(x+3)(x-2)] >= 0
  This requires (x+3)(x-2) <= 0 (to make overall expression non-negative).
  But equality can't happen because numerator is strictly negative (never zero).

  Actually, let me reconsider: the inequality is >= 0.
  numerator < 0 always.
  (x+1)^2 > 0 always (for x != -1).
  So sign of fraction = sign of [(-1) / ((x+3)(x-2))]
  For this to be >= 0, we need (x+3)(x-2) < 0 (strictly, since numerator never 0).
  (x+3)(x-2) < 0 when -3 < x < 2.

Step 7: Solution set
  -3 < x < 2, with x != -1.
  i.e., (-3, 2) \ {-1}

Step 8: Integer solutions in (-3, 2) \ {-1}
  Integers in (-3, 2): -2, -1, 0, 1
  Exclude -1: -2, 0, 1

Step 9: Sum
  -2 + 0 + 1 = -1

Answer: D) -1
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 10px;
}

h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #cbd5e1;
  font-size: 1rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
  list-style: none;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '▸ ';
  transition: transform 0.2s;
}

details[open] summary::before {
  content: '▾ ';
}

details .theory-content {
  padding: 12px 0 4px 8px;
}

details .theory-content li {
  color: #cbd5e1;
  margin-bottom: 10px;
  list-style: none;
  padding-left: 12px;
  border-left: 2px solid #334155;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all 0.2s;
}

.step-container:hover, .step-container.active {
  background: rgba(96, 165, 250, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
  font-size: 0.97rem;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.88rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 15px 0;
  padding: 14px 18px;
  background: rgba(167, 139, 250, 0.06);
  border: 1px solid rgba(167, 139, 250, 0.15);
  border-radius: 10px;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint .answer {
  padding: 10px 0 2px 4px;
  color: #cbd5e1;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  justify-content: center;
  color: #a78bfa;
}

.insight-box .big-formula {
  font-size: 1.3rem;
  margin: 16px 0;
  color: #e2e8f0;
}

.final-answer {
  text-align: center;
  border: 1px solid rgba(52, 211, 153, 0.3);
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.08));
}

.final-answer h2 {
  color: #34d399;
  justify-content: center;
}

.final-answer .answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin: 20px 0;
}

.option-card {
  padding: 10px 20px;
  border-radius: 10px;
  border: 1px solid #334155;
  background: #1e293b;
  text-align: center;
  min-width: 70px;
}

.option-card.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.12);
  box-shadow: 0 0 20px rgba(52, 211, 153, 0.15);
}

.option-card .opt-label {
  font-size: 0.8rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.option-card.correct .opt-label {
  color: #34d399;
}

.option-card .opt-value {
  font-size: 1.05rem;
  font-weight: 600;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.verification {
  margin-top: 16px;
  padding: 14px;
  background: rgba(52, 211, 153, 0.06);
  border-radius: 8px;
  border-left: 3px solid #34d399;
  color: #94a3b8;
  font-size: 0.92rem;
}

.pitfall-list {
  list-style: none;
}

.pitfall-list li {
  padding: 10px 14px;
  margin-bottom: 8px;
  background: rgba(224, 148, 104, 0.06);
  border-left: 3px solid #e09468;
  border-radius: 0 8px 8px 0;
  color: #cbd5e1;
  font-size: 0.95rem;
}

.challenge-box {
  border-left: 3px solid #f472b6;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.82rem;
  margin-top: 8px;
}

.sign-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
  font-size: 0.95rem;
}

.sign-table th, .sign-table td {
  border: 1px solid #334155;
  padding: 8px 12px;
  text-align: center;
}

.sign-table th {
  background: rgba(96, 165, 250, 0.1);
  color: #60a5fa;
  font-weight: 600;
}

.sign-table td {
  color: #cbd5e1;
}

.sign-plus { color: #4ade80; font-weight: 700; }
.sign-minus { color: #f87171; font-weight: 700; }
.sign-zero { color: #fbbf24; font-weight: 700; }
.sign-undef { color: #94a3b8; }

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 60px; padding: 8px 12px; }
  .options-row { gap: 8px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Racionalna nejednačina sa razlomcima</h1>
  <p class="subtitle">Rešavanje racionalne nejednačine sa zajedničkim imeniocem i analiza znaka</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir svih celobrojnih rešenja nejednačine:</p>
    <div class="math-block">
      \[\frac{8x - 3}{(x+1)^2(x+3)(x-2)} \geq \frac{1}{(x+1)(x-2)}\]
    </div>
    <p>jednak je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-3\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-1\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Prebacićemo sve na jednu stranu, svesti na zajednički imenilac, analizirati znak brojioca i imenioca, i odrediti skup rešenja. Na kraju sabiramo celobrojna rešenja iz tog skupa.</p>
  </div>

  <!-- THEORY -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Racionalna nejednačina:</strong> Nejednačinu oblika \(\frac{P(x)}{Q(x)} \geq 0\) rešavamo tako što sve prebacimo na jednu stranu, svedemo na zajednički imenilac, a zatim analiziramo znak brojioca i imenioca.</li>
          <li><strong>Diskriminanta kvadratnog trinoma:</strong> Za \(ax^2 + bx + c\), diskriminanta je \(D = b^2 - 4ac\). Ako je \(D < 0\) i \(a > 0\), tada je \(ax^2 + bx + c > 0\) za svako \(x \in \mathbb{R}\).</li>
          <li><strong>Znak proizvoda:</strong> Izraz \((x - a)(x - b)\) sa \(a < b\) je negativan za \(x \in (a, b)\), a pozitivan za \(x < a\) ili \(x > b\).</li>
          <li><strong>Kvadrat realnog broja:</strong> \((x+1)^2 \geq 0\) za svako \(x\), pri čemu je \((x+1)^2 > 0\) za \(x \neq -1\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- VISUAL AID -->
  <div class="card canvas-card">
    <h2>Grafički prikaz — brojna prava i znaci</h2>
    <canvas id="numberLineCanvas" width="800" height="340"></canvas>
    <p class="canvas-hint">Brojna prava prikazuje kritične tačke, znak izraza i skup rešenja</p>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredi domen</h3>
        <p>Imenilac ne sme biti nula. Razmotrimo obe strane nejednačine:</p>
        <div class="math-block">
          \[(x+1)^2(x+3)(x-2) \neq 0 \quad \text{i} \quad (x+1)(x-2) \neq 0\]
        </div>
        <p>Dakle, zabranjene vrednosti su:</p>
        <div class="math-block">
          \[x \neq -3, \quad x \neq -1, \quad x \neq 2\]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Prebaci sve na jednu stranu</h3>
        <p>Oduzimamo desnu stranu od leve:</p>
        <div class="math-block">
          \[\frac{8x - 3}{(x+1)^2(x+3)(x-2)} - \frac{1}{(x+1)(x-2)} \geq 0\]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Svedi na zajednički imenilac</h3>
        <p>Zajednički imenilac je \((x+1)^2(x+3)(x-2)\). Drugi razlomak proširujemo sa \((x+1)(x+3)\):</p>
        <div class="math-block">
          \[\frac{8x - 3}{(x+1)^2(x+3)(x-2)} - \frac{(x+1)(x+3)}{(x+1)^2(x+3)(x-2)} \geq 0\]
        </div>
        <p>Sada možemo spojiti u jedan razlomak:</p>
        <div class="math-block">
          \[\frac{8x - 3 - (x+1)(x+3)}{(x+1)^2(x+3)(x-2)} \geq 0\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliko je \((x+1)(x+3)\)?</summary>
      <div class="answer">
        <p>\((x+1)(x+3) = x^2 + 3x + x + 3 = x^2 + 4x + 3\)</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Razvij i pojednostavi brojilac</h3>
        <p>Razvijamo \((x+1)(x+3)\):</p>
        <div class="math-block">
          \[(x+1)(x+3) = x^2 + 4x + 3\]
        </div>
        <p>Zamenjujemo u brojilac:</p>
        <div class="math-block">
          \[8x - 3 - (x^2 + 4x + 3) = 8x - 3 - x^2 - 4x - 3\]
        </div>
        <p>Sređujemo:</p>
        <div class="math-block">
          \[= -x^2 + 4x - 6\]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Analiziraj znak brojioca</h3>
        <p>Izvedimo \(-1\) ispred da dobijemo standardni oblik:</p>
        <div class="math-block">
          \[-x^2 + 4x - 6 = -(x^2 - 4x + 6)\]
        </div>
        <p>Računamo diskriminantu trinoma \(x^2 - 4x + 6\):</p>
        <div class="math-block">
          \[D = (-4)^2 - 4 \cdot 1 \cdot 6 = 16 - 24 = -8 < 0\]
        </div>
        <p>Pošto je \(D < 0\) i vodeći koeficijent je pozitivan (\(a = 1 > 0\)), važi \(x^2 - 4x + 6 > 0\) za svako \(x \in \mathbb{R}\).</p>
        <p>Dakle:</p>
        <div class="math-block">
          \[-(x^2 - 4x + 6) < 0 \quad \text{za svako } x \in \mathbb{R}\]
        </div>
        <p class="note">Brojilac je uvek strogo negativan — nikada nije nula, niti pozitivan.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koji je znak \((x+1)^2\) za \(x \neq -1\)?</summary>
      <div class="answer">
        <p>Uvek pozitivan! Kvadrat realnog broja je nenegativan, a za \(x \neq -1\) je strogo pozitivan: \((x+1)^2 > 0\).</p>
      </div>
    </details>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Odredi znak celokupnog izraza</h3>
        <p>Naša nejednačina je sada:</p>
        <div class="math-block">
          \[\frac{\overbrace{-(x^2 - 4x + 6)}^{< 0}}{\underbrace{(x+1)^2}_{> 0} \cdot (x+3)(x-2)} \geq 0\]
        </div>
        <p>Pošto je brojilac uvek negativan, a \((x+1)^2\) uvek pozitivno (za \(x \neq -1\)), znak celokupnog izraza zavisi samo od \((x+3)(x-2)\).</p>
        <p>Da bi razlomak bio \(\geq 0\), a brojilac je negativan, imenilac mora biti negativan:</p>
        <div class="math-block">
          \[(x+3)(x-2) < 0\]
        </div>
        <p class="note">Strogo manje od nule, jer je jednakost nemoguća — brojilac nikada nije nula.</p>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step-container" data-step="7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Reši \((x+3)(x-2) < 0\)</h3>
        <p>Nule su \(x = -3\) i \(x = 2\). Proizvod dva linearna izraza je negativan između nula:</p>
        <div class="math-block">
          \[(x+3)(x-2) < 0 \iff x \in (-3,\; 2)\]
        </div>
        <p>Uz ograničenja domena (\(x \neq -3, -1, 2\)), konačan skup rešenja je:</p>
        <div class="math-block">
          \[x \in (-3,\; 2) \setminus \{-1\}\]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step-container" data-step="8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Pronađi celobrojna rešenja i izračunaj zbir</h3>
        <p>Celi brojevi u intervalu \((-3,\; 2)\) su: \(-2,\; -1,\; 0,\; 1\).</p>
        <p>Ali \(x = -1\) nije u domenu, pa ga izbacujemo. Ostaju:</p>
        <div class="math-block">
          \[x \in \{-2,\; 0,\; 1\}\]
        </div>
        <p>Njihov zbir je:</p>
        <div class="math-block">
          \[-2 + 0 + 1 = -1\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Da li \(x = -2\) zadovoljava originalnu nejednačinu?</summary>
      <div class="answer">
        <p>Leva strana: \(\frac{8(-2)-3}{(-2+1)^2(-2+3)(-2-2)} = \frac{-19}{1 \cdot 1 \cdot (-4)} = \frac{-19}{-4} = \frac{19}{4}\)</p>
        <p>Desna strana: \(\frac{1}{(-2+1)(-2-2)} = \frac{1}{(-1)(-4)} = \frac{1}{4}\)</p>
        <p>\(\frac{19}{4} \geq \frac{1}{4}\) — tačno!</p>
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Brojilac \(-x^2 + 4x - 6\) je uvek negativan (diskriminanta \(D = -8 < 0\)), pa se ceo problem svodi na pitanje kada je imenilac negativan. Faktor \((x+1)^2\) je uvek pozitivan, pa jedino \((x+3)(x-2)\) određuje znak.</p>
    <div class="big-formula">
      \[\underbrace{-x^2 + 4x - 6}_{\text{uvek } < 0} \;\Big/\; \underbrace{(x+1)^2}_{\text{uvek } > 0} \cdot \underbrace{(x+3)(x-2)}_{\text{ovde odlučuje!}} \geq 0\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <h2>Konačan odgovor</h2>
    <p>Celobrojna rešenja su \(x \in \{-2,\; 0,\; 1\}\), a njihov zbir:</p>
    <div class="answer-value">\(-2 + 0 + 1 = -1\)</div>

    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\(1\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\(0\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\(-3\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\(-1\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(E)</div>
        <div class="opt-value">\(3\)</div>
      </div>
    </div>

    <div class="verification">
      <strong>Verifikacija:</strong> Proverili smo da \(x = -2\) zadovoljava nejednačinu. Analogno se može proveriti za \(x = 0\) i \(x = 1\). Za \(x = -1\) imenilac je nula (nije u domenu), a za \(x = -3\) i \(x = 2\) takođe. Zbir \(-2 + 0 + 1 = -1\) odgovara opciji (D).
    </div>
  </div>

  <!-- PITFALLS -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li><strong>Zaboraviti da se isključi \(x = -1\) iz rešenja.</strong> Pošto se \(-1\) nalazi u intervalu \((-3, 2)\), lako je prevideti da je to zabranjena vrednost. Bez isključivanja, zbir bi bio \(-2 + (-1) + 0 + 1 = -2\), što ne odgovara nijednom ponuđenom odgovoru.</li>
      <li><strong>Pogrešno svesti na zajednički imenilac.</strong> Drugi razlomak treba proširiti sa \((x+1)(x+3)\), ne samo sa \((x+1)\) ili \((x+3)\). Ako se ovo pogrešno uradi, brojilac će biti drugačiji.</li>
      <li><strong>Uključiti krajnje tačke \(x = -3\) i \(x = 2\).</strong> Obe su zabranjene vrednosti (imenilac je nula), pa ne pripadaju skupu rešenja.</li>
    </ul>
  </div>

  <!-- CHALLENGE -->
  <div class="card challenge-box">
    <h2>Dodatni izazov</h2>
    <p>Šta bi bilo da je nejednačina <strong>stroga</strong>, tj. bez jednakosti: \(\frac{8x-3}{(x+1)^2(x+3)(x-2)} > \frac{1}{(x+1)(x-2)}\)?</p>
    <details>
      <summary>Hint</summary>
      <div class="theory-content">
        <ul>
          <li>Razmislite: da li se skup rešenja uopšte menja? Pošto je brojilac uvek strogo negativan (nikada nula), jednakost \(\frac{f(x)}{g(x)} = 0\) nikada nije ispunjena, pa je skup rešenja stroge i nestroge nejednačine isti!</li>
        </ul>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.toggle('active');
    });
  });

  // Number line canvas
  const canvas = document.getElementById('numberLineCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const lineY = 120;
    const leftPad = 60;
    const rightPad = 60;
    const lineW = W - leftPad - rightPad;

    // Map x values to canvas coordinates
    // Range: -5 to 4
    const xMin = -5;
    const xMax = 4;
    const toCanvasX = (x) => leftPad + ((x - xMin) / (xMax - xMin)) * lineW;

    // Draw number line
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(leftPad - 20, lineY);
    ctx.lineTo(W - rightPad + 20, lineY);
    ctx.stroke();

    // Arrow at right end
    ctx.beginPath();
    ctx.moveTo(W - rightPad + 20, lineY);
    ctx.lineTo(W - rightPad + 12, lineY - 6);
    ctx.moveTo(W - rightPad + 20, lineY);
    ctx.lineTo(W - rightPad + 12, lineY + 6);
    ctx.stroke();

    // Tick marks for integers
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let i = -4; i <= 3; i++) {
      const cx = toCanvasX(i);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, lineY - 5);
      ctx.lineTo(cx, lineY + 5);
      ctx.stroke();
      if (i !== -3 && i !== -1 && i !== 2) {
        ctx.fillText(i.toString(), cx, lineY + 22);
      }
    }

    // Critical points
    const critPoints = [
      { x: -3, label: '-3', type: 'open', color: '#f87171' },
      { x: -1, label: '-1', type: 'open', color: '#f87171' },
      { x: 2, label: '2', type: 'open', color: '#f87171' }
    ];

    critPoints.forEach(pt => {
      const cx = toCanvasX(pt.x);
      // Open circle
      ctx.beginPath();
      ctx.arc(cx, lineY, 7, 0, Math.PI * 2);
      ctx.fillStyle = '#0c1222';
      ctx.fill();
      ctx.strokeStyle = pt.color;
      ctx.lineWidth = 2.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = pt.color;
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(pt.label, cx, lineY + 24);
    });

    // Integer solution points
    const solPoints = [
      { x: -2, label: '-2' },
      { x: 0, label: '0' },
      { x: 1, label: '1' }
    ];

    solPoints.forEach(pt => {
      const cx = toCanvasX(pt.x);
      // Filled circle with glow
      ctx.beginPath();
      ctx.arc(cx, lineY, 8, 0, Math.PI * 2);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
      ctx.strokeStyle = '#22c55e';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Glow
      const grad = ctx.createRadialGradient(cx, lineY, 4, cx, lineY, 18);
      grad.addColorStop(0, 'rgba(74,222,128,0.3)');
      grad.addColorStop(1, 'rgba(74,222,128,0)');
      ctx.fillStyle = grad;
      ctx.beginPath();
      ctx.arc(cx, lineY, 18, 0, Math.PI * 2);
      ctx.fill();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(pt.label, cx, lineY - 18);
    });

    // Solution interval highlight
    const x1 = toCanvasX(-3);
    const x2 = toCanvasX(-1);
    const x3 = toCanvasX(-1);
    const x4 = toCanvasX(2);

    // Highlight (-3, -1)
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    ctx.fillRect(x1, lineY - 40, x2 - x1, 80);

    // Highlight (-1, 2)
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    ctx.fillRect(x3, lineY - 40, x4 - x3, 80);

    // Dashed lines from critical points
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(248, 113, 113, 0.3)';
    ctx.lineWidth = 1;
    critPoints.forEach(pt => {
      const cx = toCanvasX(pt.x);
      ctx.beginPath();
      ctx.moveTo(cx, lineY - 40);
      ctx.lineTo(cx, lineY + 40);
      ctx.stroke();
    });
    ctx.setLineDash([]);

    // Sign analysis section
    const signY = 190;
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Znak (x+3)(x-2):', leftPad - 10, signY);

    // Signs in each interval
    const intervals = [
      { xMid: -4, sign: '+', color: '#4ade80' },
      { xMid: -2, sign: '\u2212', color: '#f87171' },
      { xMid: 0.5, sign: '\u2212', color: '#f87171' },
      { xMid: 3, sign: '+', color: '#4ade80' }
    ];

    ctx.font = 'bold 22px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    intervals.forEach(iv => {
      const cx = toCanvasX(iv.xMid);
      ctx.fillStyle = iv.color;
      ctx.fillText(iv.sign, cx, signY + 2);
    });

    // Fraction sign
    const fracY = 240;
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Znak razlomka:', leftPad - 10, fracY);

    const fracIntervals = [
      { xMid: -4, sign: '\u2212', color: '#f87171' },
      { xMid: -2, sign: '+', color: '#4ade80' },
      { xMid: 0.5, sign: '+', color: '#4ade80' },
      { xMid: 3, sign: '\u2212', color: '#f87171' }
    ];

    ctx.font = 'bold 22px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    fracIntervals.forEach(iv => {
      const cx = toCanvasX(iv.xMid);
      ctx.fillStyle = iv.color;
      ctx.fillText(iv.sign, cx, fracY + 2);
    });

    // Legend
    const legY = 290;
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';

    // Green dot legend
    ctx.beginPath();
    ctx.arc(leftPad + 10, legY, 6, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'left';
    ctx.fillText('Celobrojno rešenje', leftPad + 24, legY + 5);

    // Open circle legend
    ctx.beginPath();
    ctx.arc(leftPad + 200, legY, 6, 0, Math.PI * 2);
    ctx.fillStyle = '#0c1222';
    ctx.fill();
    ctx.strokeStyle = '#f87171';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Zabranjena vrednost (ne pripada domenu)', leftPad + 214, legY + 5);

    // Sum label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Zbir: (-2) + 0 + 1 = -1', W / 2, legY + 35);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Racionalna nejednačina — zbir celobrojnih rešenja",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["racionalne nejednačine", "analiza znaka", "domen funkcije", "diskriminanta", "celobrojna rešenja"]
}
BRAINSPARK_META-->