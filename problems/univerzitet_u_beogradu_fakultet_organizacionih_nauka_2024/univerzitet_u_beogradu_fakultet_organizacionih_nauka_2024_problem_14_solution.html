<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Povrsina trougla odredjenog dodirnim tackama hiperbole i kruznice</title>

<script type="text/info" id="logic-scratchpad">
Problem: Hiperbola x^2/4 - y^2/3 = 1, kruznica x^2 + (y-7)^2 = 32.
A i B su dodirne tacke hiperbole i kruznice (tacke u kojima su zajednicke tangente).
C je presecna tacka zajednickih tangenti u tackama A i B.
Trazi se: povrsina trougla ABC.

KORAK 1: Parametri hiperbole.
  a^2 = 4, b^2 = 3, c^2 = a^2 + b^2 = 7, c = sqrt(7).
  Centar hiperbole: O_h(0, 0).

KORAK 2: Parametri kruznice.
  Centar: S(0, 7), poluprecnik: r = sqrt(32) = 4*sqrt(2).

KORAK 3: Tangenta hiperbole u tacki (x0, y0) na hiperboli.
  Jednacina: x*x0/4 - y*y0/3 = 1.
  Prepisujemo u obliku: (x0/4)*x - (y0/3)*y - 1 = 0.

KORAK 4: Ova tangenta mora biti tangenta i na kruznicu.
  Rastojanje centra kruznice S(0, 7) od prave (x0/4)*x - (y0/3)*y - 1 = 0
  mora biti jednako r = 4*sqrt(2).

  d = |0 - 7*y0/3 - 1| / sqrt(x0^2/16 + y0^2/9) = 4*sqrt(2)

KORAK 5: Izracunavamo imenilac.
  Posto (x0, y0) lezi na hiperboli: x0^2/4 - y0^2/3 = 1, tj. x0^2 = 4 + 4*y0^2/3.
  x0^2/16 + y0^2/9 = (4 + 4*y0^2/3)/16 + y0^2/9
    = 1/4 + y0^2/12 + y0^2/9
    = 1/4 + (3*y0^2 + 4*y0^2)/36
    = 1/4 + 7*y0^2/36
    = (9 + 7*y0^2)/36

KORAK 6: Postavljamo jednacinu.
  |(7*y0 + 3)/3|^2 / ((9 + 7*y0^2)/36) = 32

  (7*y0 + 3)^2 / 9 * 36 / (9 + 7*y0^2) = 32
  4*(7*y0 + 3)^2 / (9 + 7*y0^2) = 32
  (7*y0 + 3)^2 / (9 + 7*y0^2) = 8
  (7*y0 + 3)^2 = 8*(9 + 7*y0^2)
  49*y0^2 + 42*y0 + 9 = 72 + 56*y0^2
  -7*y0^2 + 42*y0 - 63 = 0
  y0^2 - 6*y0 + 9 = 0
  (y0 - 3)^2 = 0
  y0 = 3

KORAK 7: Nalazimo x0.
  x0^2 = 4 + 4*9/3 = 4 + 12 = 16
  x0 = +/- 4

  Dakle A(4, 3) i B(-4, 3) (ili obrnuto, simetrija po y-osi).

KORAK 8: Nalazimo presek tangenti — tacku C.
  Tangenta u A(4, 3): (4/4)*x - (3/3)*y = 1 => x - y = 1
  Tangenta u B(-4, 3): (-4/4)*x - (3/3)*y = 1 => -x - y = 1

  Sistem: x - y = 1 i -x - y = 1.
  Sabiranjem: -2y = 2, y = -1.
  Oduzimanjem: 2x = 0, x = 0.
  C(0, -1).

KORAK 9: Povrsina trougla ABC.
  A(4, 3), B(-4, 3), C(0, -1).
  Osnova AB: |AB| = sqrt((4-(-4))^2 + (3-3)^2) = sqrt(64) = 8.
  (AB je horizontalna duz na y = 3.)
  Visina od C do AB: h = |3 - (-1)| = 4.
  P = (1/2) * 8 * 4 = 16.

VERIFIKACIJA:
  1) A(4,3) na hiperboli: 16/4 - 9/3 = 4 - 3 = 1. OK.
  2) A(4,3) na kruznici: 16 + (3-7)^2 = 16 + 16 = 32. OK.
  3) Tangenta u A: x - y = 1, tj. x - y - 1 = 0.
     Rastojanje S(0,7) od ove prave: |0 - 7 - 1|/sqrt(2) = 8/sqrt(2) = 4*sqrt(2). OK.
  4) B(-4,3) na hiperboli: 16/4 - 9/3 = 1. OK.
  5) B(-4,3) na kruznici: 16 + 16 = 32. OK.
  6) C(0,-1) je presek tangenti: x - y = 1 => 0 - (-1) = 1 OK; -x - y = 1 => 0 + 1 = 1 OK.

Odgovor: E) 16.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: all 0.3s ease;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
}

.answer-option {
  cursor: default;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-note {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  padding: 12px 16px;
  background: rgba(51, 65, 85, 0.4);
  border-radius: 8px;
  text-align: left;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Povrsina trougla odredjenog dodirnim tackama hiperbole i kruznice</h1>
  <p class="subtitle">Analiticka geometrija — hiperbola, kruznica i zajednicke tangente</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128203;</span> Tekst zadatka</div>
    <p style="font-size: 1.15rem; line-height: 1.8;">
      Ako su \( A \) i \( B \) dodirne tacke hiperbole \( \dfrac{x^2}{4} - \dfrac{y^2}{3} = 1 \) i kruznice \( x^2 + (y - 7)^2 = 32 \), a \( C \) presecna tacka njihovih zajednickih tangenti u tackama \( A \) i \( B \), tada je povrsina trougla \( ABC \) jednaka:
    </p>

    <div class="given-grid" style="margin-top: 14px; margin-bottom: 10px;">
      <div class="given-item">
        <div class="label">Hiperbola</div>
        <div class="value">\( \dfrac{x^2}{4} - \dfrac{y^2}{3} = 1 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Kruznica</div>
        <div class="value">\( x^2 + (y - 7)^2 = 32 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Dodirne tacke</div>
        <div class="value">\( A,\, B \)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">\( P_{\triangle ABC} \)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 8\sqrt{2} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 14 \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 8 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 12 \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( 16 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      Prvo odredjujemo parametre hiperbole i kruznice. Zatim zapisujemo jednacinu tangente hiperbole u opstoj tacki i zahtevamo da ta ista prava bude tangenta i na kruznicu (rastojanje centra kruznice od prave jednako poluprecniku). Resavamo dobijenu jednacinu za koordinate dodirnih tacaka. Na kraju nalazimo presek tangenti i racunamo povrsinu trougla.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>&#128208; Kljucne formule i teoreme</summary>
      <div class="detail-content">
        <p>Formule koje su nam potrebne u ovom zadatku:</p>
        <ul style="margin: 12px 0 0 20px; list-style: none;">
          <li style="margin-bottom: 12px;">
            <strong>Jednacina hiperbole:</strong>
            \[ \frac{x^2}{a^2} - \frac{y^2}{b^2} = 1, \qquad c^2 = a^2 + b^2 \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Tangenta hiperbole u tacki \( (x_0,\, y_0) \):</strong>
            \[ \frac{x \cdot x_0}{a^2} - \frac{y \cdot y_0}{b^2} = 1 \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Jednacina kruznice:</strong>
            \[ (x - p)^2 + (y - q)^2 = r^2, \qquad \text{centar } S(p,\, q),\; \text{poluprecnik } r \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Uslov tangentnosti:</strong> Prava je tangenta na kruznicu ako i samo ako je rastojanje centra kruznice od te prave jednako poluprecniku:
            \[ d(S,\, \ell) = r \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Rastojanje tacke od prave \( Ax + By + C = 0 \):</strong>
            \[ d = \frac{|Ax_0 + By_0 + C|}{\sqrt{A^2 + B^2}} \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Povrsina trougla:</strong>
            \[ P = \frac{1}{2} \cdot |AB| \cdot h \]
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid: Canvas -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz — hiperbola, kruznica i trougao ABC</div>
    <div class="canvas-wrapper">
      <canvas id="geometryCanvas" width="700" height="650"></canvas>
    </div>
    <p class="canvas-caption">Hiperbola \( \frac{x^2}{4} - \frac{y^2}{3} = 1 \), kruznica \( x^2 + (y-7)^2 = 32 \), dodirne tacke \( A \) i \( B \), tangente i trougao \( ABC \). Prevlacite mis da istrazite.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128290;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Parametri hiperbole i kruznice</div>
        <p>Iz jednacine hiperbole \( \dfrac{x^2}{4} - \dfrac{y^2}{3} = 1 \) citamo:</p>
        <div class="step-math">
          \[ a^2 = 4,\quad b^2 = 3,\quad c^2 = a^2 + b^2 = 7 \]
        </div>
        <p>Centar hiperbole je \( O_h(0,\, 0) \), poluose \( a = 2 \), \( b = \sqrt{3} \).</p>
        <p style="margin-top: 10px;">Iz jednacine kruznice \( x^2 + (y - 7)^2 = 32 \) citamo:</p>
        <div class="step-math">
          \[ S(0,\, 7),\qquad r = \sqrt{32} = 4\sqrt{2} \]
        </div>
        <p style="color: #94a3b8; font-size: 0.95rem;">Obe krive su simetricne u odnosu na \( y \)-osu. To znaci da ce dodirne tacke biti simetricne, a presek tangenti lezati na \( y \)-osi.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Jednacina tangente hiperbole u tacki \( (x_0,\, y_0) \)</div>
        <p>Za tacku \( (x_0,\, y_0) \) na hiperboli, tangenta glasi:</p>
        <div class="step-math">
          \[ \frac{x \cdot x_0}{4} - \frac{y \cdot y_0}{3} = 1 \]
        </div>
        <p>Prepisujemo u standardni oblik \( Ax + By + C = 0 \):</p>
        <div class="highlight-box">
          \[ \frac{x_0}{4}\, x \;-\; \frac{y_0}{3}\, y \;-\; 1 = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Uslov tangentnosti na kruznicu</div>
        <p>Ova prava mora biti tangenta i na kruznicu sa centrom \( S(0,\, 7) \) i poluprecnikom \( r = 4\sqrt{2} \). Rastojanje centra od prave mora biti \( r \):</p>
        <div class="step-math">
          \[ d(S,\, \ell) = \frac{\left|\frac{x_0}{4} \cdot 0 - \frac{y_0}{3} \cdot 7 - 1\right|}{\sqrt{\frac{x_0^2}{16} + \frac{y_0^2}{9}}} = 4\sqrt{2} \]
        </div>
        <p>Sredimo brojilac:</p>
        <div class="step-math">
          \[ \left| -\frac{7y_0}{3} - 1 \right| = \frac{|7y_0 + 3|}{3} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je ovo ujedno tangenta i na hiperbolu?</summary>
            <div class="detail-content">
              Koristili smo formulu za tangentu hiperbole u tacki \( (x_0, y_0) \), pa je tangentnost na hiperbolu vec ugradjena u jednacinu. Sada samo trazimo dodatni uslov da ta ista prava bude tangenta i na kruznicu.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunavanje imenioca koristeci jednacinu hiperbole</div>
        <p>Posto tacka \( (x_0,\, y_0) \) lezi na hiperboli, vazi \( \frac{x_0^2}{4} = 1 + \frac{y_0^2}{3} \), tj.:</p>
        <div class="step-math">
          \[ x_0^2 = 4 + \frac{4y_0^2}{3} \]
        </div>
        <p>Zamenjujemo u imenilac:</p>
        <div class="step-math">
          \[ \frac{x_0^2}{16} + \frac{y_0^2}{9} = \frac{4 + \frac{4y_0^2}{3}}{16} + \frac{y_0^2}{9} = \frac{1}{4} + \frac{y_0^2}{12} + \frac{y_0^2}{9} \]
        </div>
        <p>Svodimo na zajednicki imenilac 36:</p>
        <div class="step-math">
          \[ = \frac{9}{36} + \frac{3y_0^2}{36} + \frac{4y_0^2}{36} = \frac{9 + 7y_0^2}{36} \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Resavanje jednacine za \( y_0 \)</div>
        <p>Kvadriramo uslov tangentnosti \( d^2 = 32 \):</p>
        <div class="step-math">
          \[ \frac{(7y_0 + 3)^2}{9} \cdot \frac{36}{9 + 7y_0^2} = 32 \]
        </div>
        <p>Sredimo:</p>
        <div class="step-math">
          \[ \frac{4(7y_0 + 3)^2}{9 + 7y_0^2} = 32 \implies (7y_0 + 3)^2 = 8(9 + 7y_0^2) \]
        </div>
        <p>Raspisujemo:</p>
        <div class="step-math">
          \[ 49y_0^2 + 42y_0 + 9 = 72 + 56y_0^2 \]
        </div>
        <div class="step-math">
          \[ -7y_0^2 + 42y_0 - 63 = 0 \quad \Longrightarrow \quad y_0^2 - 6y_0 + 9 = 0 \]
        </div>
        <div class="highlight-box">
          \[ (y_0 - 3)^2 = 0 \quad \Longrightarrow \quad y_0 = 3 \]
        </div>
        <p style="color: #94a3b8; font-size: 0.95rem;">Dvostruki koren! Ovo znaci da postoji tacno jedna vrednost \( y_0 \), sto je u skladu sa simetrijom: obe dodirne tacke imaju istu \( y \)-koordinatu.</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Sta znaci to sto je diskriminanta jednaka nuli?</summary>
            <div class="detail-content">
              Diskriminanta \( D = 0 \) znaci da postoji tacno jedna vrednost \( y_0 = 3 \). Posto \( x_0^2 = 16 \) daje \( x_0 = \pm 4 \), dobijamo tacno dve dodirne tacke, simetricne u odnosu na \( y \)-osu. To je geometrijski ocekivano.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Odredjivanje tacaka \( A \), \( B \) i \( C \)</div>
        <p>Za \( y_0 = 3 \) nalazimo \( x_0 \):</p>
        <div class="step-math">
          \[ x_0^2 = 4 + \frac{4 \cdot 9}{3} = 4 + 12 = 16 \quad \Longrightarrow \quad x_0 = \pm 4 \]
        </div>
        <div class="highlight-box">
          \[ A(4,\, 3), \qquad B(-4,\, 3) \]
        </div>

        <p style="margin-top: 16px;"><strong>Verifikacija:</strong> Proverimo da obe tacke leze i na hiperboli i na kruznici:</p>
        <div class="step-math">
          \[ \text{Hiperbola: } \frac{16}{4} - \frac{9}{3} = 4 - 3 = 1 \;\checkmark \]
        </div>
        <div class="step-math">
          \[ \text{Kruznica: } 16 + (3 - 7)^2 = 16 + 16 = 32 \;\checkmark \]
        </div>

        <p style="margin-top: 16px;">Tangente u tackama \( A \) i \( B \):</p>
        <div class="step-math">
          \[ t_A:\; \frac{4x}{4} - \frac{3y}{3} = 1 \;\Longrightarrow\; x - y = 1 \]
        </div>
        <div class="step-math">
          \[ t_B:\; \frac{-4x}{4} - \frac{3y}{3} = 1 \;\Longrightarrow\; -x - y = 1 \]
        </div>

        <p style="margin-top: 16px;">Presek tangenti daje tacku \( C \):</p>
        <div class="step-math">
          \[ \begin{cases} x - y = 1 \\ -x - y = 1 \end{cases} \]
        </div>
        <p>Sabiranjem: \( -2y = 2 \Rightarrow y = -1 \). Oduzimanjem: \( 2x = 0 \Rightarrow x = 0 \).</p>
        <div class="highlight-box">
          \[ C(0,\, -1) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Potvrdi da tangente prolaze kroz ispravne tacke</summary>
            <div class="detail-content">
              <p>\( t_A:\; x - y = 1 \). Tacka \( A(4, 3) \): \( 4 - 3 = 1 \;\checkmark \). Tacka \( C(0, -1) \): \( 0 - (-1) = 1 \;\checkmark \).</p>
              <p>\( t_B:\; -x - y = 1 \). Tacka \( B(-4, 3) \): \( 4 - 3 = 1 \;\checkmark \). Tacka \( C(0, -1) \): \( 0 + 1 = 1 \;\checkmark \).</p>
              <p>Rastojanje \( S(0, 7) \) od \( t_A \): \( \frac{|0 - 7 - 1|}{\sqrt{2}} = \frac{8}{\sqrt{2}} = 4\sqrt{2} = r \;\checkmark \)</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Povrsina trougla \( ABC \)</div>
        <p>Tacke trougla su: \( A(4,\, 3) \), \( B(-4,\, 3) \), \( C(0,\, -1) \).</p>
        <p style="margin-top: 8px;">Stranica \( AB \) je horizontalna (obe tacke imaju \( y = 3 \)):</p>
        <div class="step-math">
          \[ |AB| = |4 - (-4)| = 8 \]
        </div>
        <p>Visina od \( C \) na pravu \( y = 3 \):</p>
        <div class="step-math">
          \[ h = |3 - (-1)| = 4 \]
        </div>
        <p>Povrsina:</p>
        <div class="step-math">
          \[ P_{\triangle ABC} = \frac{1}{2} \cdot |AB| \cdot h = \frac{1}{2} \cdot 8 \cdot 4 = 16 \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Simetrija obe krive u odnosu na \( y \)-osu je kljucna. Ona garantuje da su dodirne tacke \( A \) i \( B \) simetricne (\( x_0 = \pm 4 \), isti \( y_0 = 3 \)), pa je stranica \( AB \) horizontalna, a presek tangenti lezi na \( y \)-osi. Dvostruki koren \( (y_0 - 3)^2 = 0 \) nije slucajnost — to je posledica geometrijske konfiguracije gde je centar kruznice na osi simetrije hiperbole.</p>
    <div class="step-math" style="margin-top: 16px;">
      \[ A(4,\, 3),\; B(-4,\, 3),\; C(0,\, -1) \;\longrightarrow\; P = \tfrac{1}{2} \cdot 8 \cdot 4 = 16 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( P_{\triangle ABC} = 16 \)</div>
    <div class="answer-note">Tacan odgovor je (E)</div>
    <div class="final-options">
      <div class="final-option">(A) \( 8\sqrt{2} \)</div>
      <div class="final-option">(B) \( 14 \)</div>
      <div class="final-option">(C) \( 8 \)</div>
      <div class="final-option">(D) \( 12 \)</div>
      <div class="final-option correct">(E) \( 16 \)</div>
    </div>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Tacke \( A(4,\, 3) \) i \( B(-4,\, 3) \) leze i na hiperboli (\( 16/4 - 9/3 = 1 \)) i na kruznici (\( 16 + 16 = 32 \)). Tangente \( x - y = 1 \) i \( -x - y = 1 \) su zajednicke tangente (rastojanje \( S(0,\, 7) \) od svake je \( 4\sqrt{2} = r \)). Presek tangenti je \( C(0,\, -1) \), a povrsina trougla sa osnovom \( |AB| = 8 \) i visinom \( h = 4 \) je \( \frac{1}{2} \cdot 8 \cdot 4 = 16 \).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Koristiti formulu tangente za kruznicu umesto za hiperbolu:</strong> Tangenta na kruznicu u tacki \( (x_0,\, y_0) \) je \( x \cdot x_0 + (y - 7)(y_0 - 7) = 32 \), sto je drugacija formula. Moramo koristiti formulu tangente hiperbole jer je uslov da tacka lezi na hiperboli, a tangenta mora dotaci obe krive.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Zaboraviti da tacke moraju lezati i na kruznici:</strong> Neke zajednicke tangente hiperbole i kruznice ne moraju prolaziti kroz tacke na kruznici. Ovde se eksplicitno traze <em>dodirne tacke</em> obe krive, tj. presecne tacke hiperbole i kruznice u kojima su tangente zajednicke.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Racunska greska pri sredjivanju imenioca:</strong> Cesta greska je zaboraviti zamenu \( x_0^2 \) pomocu jednacine hiperbole, sto vodi ka preterano slozenom sistemu umesto elegantne jednacine sa jednim nepoznatim \( y_0 \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Pogresno izracunavanje povrsine:</strong> Trougao \( ABC \) je jednakokraki, ne jednakostranican. Osnova je \( |AB| = 8 \), a visina je vertikalno rastojanje od \( C(0,\, -1) \) do prave \( y = 3 \), sto je \( 4 \), ne \( 3 \) ili \( 7 \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Ako se poluprecnik kruznice promeni na \( r' = \sqrt{50} \) (a centar ostane \( S(0,\, 7) \)), kolika je tada povrsina trougla \( A'B'C' \) formiranog na isti nacin?</p>
    <details>
      <summary>Pogledaj resenje</summary>
      <div class="detail-content">
        <p>Ponavljamo postupak sa \( r'^2 = 50 \). Jednacina postaje:</p>
        <p>\[ \frac{4(7y_0 + 3)^2}{9 + 7y_0^2} = 50 \]</p>
        <p>\[ 4(49y_0^2 + 42y_0 + 9) = 50(9 + 7y_0^2) \]</p>
        <p>\[ 196y_0^2 + 168y_0 + 36 = 450 + 350y_0^2 \]</p>
        <p>\[ -154y_0^2 + 168y_0 - 414 = 0 \quad \Longrightarrow \quad 77y_0^2 - 84y_0 + 207 = 0 \]</p>
        <p>Diskriminanta: \( D = 84^2 - 4 \cdot 77 \cdot 207 = 7056 - 63756 = -56700 < 0 \).</p>
        <p>Nema realnih resenja — za ovaj poluprecnik ne postoje zajednicke tacke dodira! Samo za specificno podesene parametre (kao u originalnom zadatku) postoji elegantna konfiguracija.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  var canvas = document.getElementById('geometryCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  // Coordinate mapping: math range x in [-8, 8], y in [-4, 13]
  var xMin = -8, xMax = 8, yMin = -4, yMax = 13;
  var scaleVal = Math.min(W / (xMax - xMin), H / (yMax - yMin)) * 0.88;
  var originX = W / 2 - ((xMin + xMax) / 2) * scaleVal;
  var originY = H / 2 + ((yMin + yMax) / 2) * scaleVal;

  // Mouse tracking for hover effects
  var mouseX = -1000, mouseY = -1000;

  function toCanvas(mx, my) {
    return [originX + mx * scaleVal, originY - my * scaleVal];
  }

  function toMath(cx, cy) {
    return [(cx - originX) / scaleVal, (originY - cy) / scaleVal];
  }

  // Key points in math coords
  var A = [4, 3];
  var B = [-4, 3];
  var C = [0, -1];
  var S = [0, 7]; // Circle center
  var Oh = [0, 0]; // Hyperbola center
  var a = 2, b = Math.sqrt(3);
  var rCircle = 4 * Math.sqrt(2);

  var hoveredPoint = null;

  function dist(cx, cy, px, py) {
    return Math.sqrt((cx - px) * (cx - px) + (cy - py) * (cy - py));
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    var i;
    for (i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
      var gx = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(gx[0], 0);
      ctx.lineTo(gx[0], H);
      ctx.stroke();
    }
    for (i = Math.ceil(yMin); i <= Math.floor(yMax); i++) {
      var gy = toCanvas(0, i);
      ctx.beginPath();
      ctx.moveTo(0, gy[1]);
      ctx.lineTo(W, gy[1]);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    var axL = toCanvas(xMin, 0);
    var axR = toCanvas(xMax, 0);
    var axB = toCanvas(0, yMin);
    var axT = toCanvas(0, yMax);
    ctx.beginPath();
    ctx.moveTo(axL[0], axL[1]);
    ctx.lineTo(axR[0], axR[1]);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(axB[0], axB[1]);
    ctx.lineTo(axT[0], axT[1]);
    ctx.stroke();

    // Axis tick labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
      if (i === 0) continue;
      var tx = toCanvas(i, 0);
      ctx.fillText(String(i), tx[0], tx[1] + 15);
    }
    ctx.textAlign = 'right';
    for (i = Math.ceil(yMin); i <= Math.floor(yMax); i++) {
      if (i === 0) continue;
      var ty = toCanvas(0, i);
      ctx.fillText(String(i), ty[0] - 8, ty[1] + 4);
    }

    // Axis letters
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', axR[0] - 4, axR[1] - 10);
    ctx.fillText('y', axT[0] + 10, axT[1] + 14);

    // Fill triangle ABC
    var pA = toCanvas(A[0], A[1]);
    var pB = toCanvas(B[0], B[1]);
    var pC = toCanvas(C[0], C[1]);
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    ctx.beginPath();
    ctx.moveTo(pA[0], pA[1]);
    ctx.lineTo(pB[0], pB[1]);
    ctx.lineTo(pC[0], pC[1]);
    ctx.closePath();
    ctx.fill();

    // Triangle edges
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.5)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(pA[0], pA[1]);
    ctx.lineTo(pB[0], pB[1]);
    ctx.lineTo(pC[0], pC[1]);
    ctx.closePath();
    ctx.stroke();

    // Draw hyperbola (right branch and left branch)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;

    // Right branch: x = a*cosh(t), y = b*sinh(t)
    ctx.beginPath();
    var first = true;
    for (var t = -3; t <= 3; t += 0.02) {
      var hx = a * Math.cosh(t);
      var hy = b * Math.sinh(t);
      if (hy < yMin - 1 || hy > yMax + 1) continue;
      if (hx > xMax + 1) continue;
      var hp = toCanvas(hx, hy);
      if (first) { ctx.moveTo(hp[0], hp[1]); first = false; }
      else ctx.lineTo(hp[0], hp[1]);
    }
    ctx.stroke();

    // Left branch: x = -a*cosh(t), y = b*sinh(t)
    ctx.beginPath();
    first = true;
    for (var t2 = -3; t2 <= 3; t2 += 0.02) {
      var hx2 = -a * Math.cosh(t2);
      var hy2 = b * Math.sinh(t2);
      if (hy2 < yMin - 1 || hy2 > yMax + 1) continue;
      if (hx2 < xMin - 1) continue;
      var hp2 = toCanvas(hx2, hy2);
      if (first) { ctx.moveTo(hp2[0], hp2[1]); first = false; }
      else ctx.lineTo(hp2[0], hp2[1]);
    }
    ctx.stroke();

    // Draw circle
    var sc = toCanvas(S[0], S[1]);
    var rPx = rCircle * scaleVal;

    // Circle fill
    ctx.fillStyle = 'rgba(244, 114, 182, 0.04)';
    ctx.beginPath();
    ctx.arc(sc[0], sc[1], rPx, 0, 2 * Math.PI);
    ctx.fill();

    // Circle glow
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.25)';
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.arc(sc[0], sc[1], rPx, 0, 2 * Math.PI);
    ctx.stroke();

    // Circle
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(sc[0], sc[1], rPx, 0, 2 * Math.PI);
    ctx.stroke();

    // Tangent lines through A and C, and B and C (extended)
    // t_A: x - y = 1, direction (1, 1)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.8;
    var tA1 = toCanvas(-3, -4);
    var tA2 = toCanvas(8, 7);
    ctx.beginPath();
    ctx.moveTo(tA1[0], tA1[1]);
    ctx.lineTo(tA2[0], tA2[1]);
    ctx.stroke();

    // t_B: -x - y = 1, i.e. y = -x - 1, direction (1, -1)
    var tB1 = toCanvas(-8, 7);
    var tB2 = toCanvas(3, -4);
    ctx.beginPath();
    ctx.moveTo(tB1[0], tB1[1]);
    ctx.lineTo(tB2[0], tB2[1]);
    ctx.stroke();

    // Tangent labels
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'italic bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    var tAlbl = toCanvas(6.5, 5.5);
    ctx.fillText('t_A', tAlbl[0] + 4, tAlbl[1] - 4);
    var tBlbl = toCanvas(-6.5, 5.5);
    ctx.textAlign = 'right';
    ctx.fillText('t_B', tBlbl[0] - 4, tBlbl[1] - 4);

    // Height indicator: dashed from C to (0,3) on AB
    var pH = toCanvas(0, 3);
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(pC[0], pC[1]);
    ctx.lineTo(pH[0], pH[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Height label "h = 4"
    var hMid = toCanvas(0.3, 1);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('h = 4', hMid[0] + 6, hMid[1]);

    // Base label "|AB| = 8"
    var baseMid = toCanvas(0, 3.5);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('|AB| = 8', baseMid[0], baseMid[1] - 4);

    // Right angle mark at foot of height (0, 3)
    var sz = 10;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(pH[0], pH[1] - sz);
    ctx.lineTo(pH[0] + sz, pH[1] - sz);
    ctx.lineTo(pH[0] + sz, pH[1]);
    ctx.stroke();

    // Draw labeled points
    function drawPt(coords, color, label, offX, offY, align) {
      var p = toCanvas(coords[0], coords[1]);
      var isHovered = dist(mouseX, mouseY, p[0], p[1]) < 20;

      // Glow
      ctx.globalAlpha = isHovered ? 0.6 : 0.3;
      ctx.beginPath();
      ctx.arc(p[0], p[1], isHovered ? 22 : 16, 0, 2 * Math.PI);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.globalAlpha = 1.0;

      // Point
      ctx.beginPath();
      ctx.arc(p[0], p[1], isHovered ? 8 : 6, 0, 2 * Math.PI);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.strokeStyle = '#e2e8f0';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = color;
      ctx.font = isHovered ? 'bold 15px Segoe UI, system-ui, sans-serif' : 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = align || 'left';
      ctx.fillText(label, p[0] + (offX || 10), p[1] + (offY || -12));

      if (isHovered) {
        hoveredPoint = { name: label, coords: coords };
      }
    }

    hoveredPoint = null;
    drawPt(A, '#34d399', 'A(4, 3)', 10, -12, 'left');
    drawPt(B, '#34d399', 'B(\u22124, 3)', -10, -12, 'right');
    drawPt(C, '#fbbf24', 'C(0, \u22121)', 10, 18, 'left');
    drawPt(S, '#f472b6', 'S(0, 7)', 10, -12, 'left');
    drawPt(Oh, '#94a3b8', 'O(0, 0)', -10, 18, 'right');

    // Legend box
    var boxW = 260;
    var boxH = 108;
    var boxX = W - boxW - 15;
    var boxY = 15;
    ctx.fillStyle = 'rgba(30, 41, 59, 0.92)';
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 10);
    ctx.fill();
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 10);
    ctx.stroke();

    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    var items = [
      { color: '#60a5fa', text: 'Hiperbola x\u00B2/4 \u2212 y\u00B2/3 = 1' },
      { color: '#f472b6', text: 'Kruznica x\u00B2 + (y\u22127)\u00B2 = 32' },
      { color: '#a78bfa', text: 'Zajednicke tangente t_A, t_B' },
      { color: '#4ade80', text: 'Trougao ABC, P = 16' },
    ];
    for (var j = 0; j < items.length; j++) {
      var ly = boxY + 18 + j * 22;
      ctx.fillStyle = items[j].color;
      ctx.fillRect(boxX + 12, ly - 2, 16, 3);
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText(items[j].text, boxX + 36, ly + 3);
    }

    // Hover tooltip
    if (hoveredPoint) {
      var tip = hoveredPoint.name + ' = (' + hoveredPoint.coords[0] + ', ' + hoveredPoint.coords[1] + ')';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      var tw = ctx.measureText(tip).width + 16;
      var tipX = Math.min(mouseX + 15, W - tw - 5);
      var tipY = Math.max(mouseY - 30, 15);
      ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
      ctx.beginPath();
      ctx.roundRect(tipX, tipY, tw, 26, 6);
      ctx.fill();
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.roundRect(tipX, tipY, tw, 26, 6);
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.textAlign = 'left';
      ctx.fillText(tip, tipX + 8, tipY + 18);
    }
  }

  draw();

  canvas.addEventListener('mousemove', function(e) {
    var rect = canvas.getBoundingClientRect();
    mouseX = (e.clientX - rect.left) * (W / rect.width);
    mouseY = (e.clientY - rect.top) * (H / rect.height);
    draw();
  });

  canvas.addEventListener('mouseleave', function() {
    mouseX = -1000;
    mouseY = -1000;
    draw();
  });

  // Step click highlighting
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Povrsina trougla odredjenog dodirnim tackama hiperbole i kruznice",
  "subject": "math",
  "unit": "analytic_geometry",
  "topic_tags": ["analiticka geometrija", "hiperbola", "kruznica", "tangenta", "povrsina trougla", "zajednicke tangente"]
}
BRAINSPARK_META-->