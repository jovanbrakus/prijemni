<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Realni deo kompleksnog izraza z = (1-i)^2025 / (1+i)^2024</title>
<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Ako je z = (1-i)^2025 / (1+i)^2024, i^2 = -1, onda je Re(z) jednak:
A) 0   B) sqrt(2)/2   C) 1   D) 2   E) sqrt(2)

Expected answer from key: C) 1

Step 1: Express (1-i) and (1+i) in polar form.
  1+i: |1+i| = sqrt(2), arg = pi/4
       1+i = sqrt(2) * e^(i*pi/4)
  1-i: |1-i| = sqrt(2), arg = -pi/4
       1-i = sqrt(2) * e^(-i*pi/4)

Step 2: Compute the powers.
  (1-i)^2025 = (sqrt(2))^2025 * e^(-i*2025*pi/4)
             = 2^(2025/2) * e^(-i*2025*pi/4)
  (1+i)^2024 = (sqrt(2))^2024 * e^(i*2024*pi/4)
             = 2^(2024/2) * e^(i*2024*pi/4)
             = 2^1012 * e^(i*506*pi)

Step 3: Divide.
  z = 2^(2025/2) / 2^(1012) * e^(-i*2025*pi/4 - i*2024*pi/4)
    = 2^(2025/2 - 1012) * e^(-i*(2025+2024)*pi/4)
    = 2^(2025/2 - 2024/2) * e^(-i*4049*pi/4)
    = 2^(1/2) * e^(-i*4049*pi/4)
    = sqrt(2) * e^(-i*4049*pi/4)

Step 4: Simplify the angle -4049*pi/4.
  4049 / 8 = 506 remainder 1   (since 506*8 = 4048, 4049-4048 = 1)
  So -4049*pi/4 = -506*2*pi - pi/4
  Since 506 is even, e^(-i*506*2*pi) = 1.
  Thus e^(-i*4049*pi/4) = e^(-i*pi/4) = cos(-pi/4) + i*sin(-pi/4)
                        = sqrt(2)/2 - i*sqrt(2)/2

Step 5: Compute z.
  z = sqrt(2) * (sqrt(2)/2 - i*sqrt(2)/2)
    = sqrt(2) * sqrt(2)/2 - i * sqrt(2) * sqrt(2)/2
    = 2/2 - i*2/2
    = 1 - i

Step 6: Re(z) = 1.

Verification: answer matches C) 1. CONFIRMED.

Alternative verification using algebraic approach:
  Note (1-i)/(1+i) = (1-i)^2 / ((1+i)(1-i)) = (1-2i+i^2)/(1-i^2) = (-2i)/2 = -i
  So z = (1-i)^2025 / (1+i)^2024 = (1-i)^2024 * (1-i) / (1+i)^2024
       = ((1-i)/(1+i))^2024 * (1-i)
       = (-i)^2024 * (1-i)
  Now (-i)^2024 = ((-i)^4)^506 = 1^506 = 1    [since (-i)^4 = i^4 = 1]
  So z = 1 * (1-i) = 1 - i
  Re(z) = 1. CONFIRMED again.
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 860px;
    margin: 0 auto;
  }
  h1 {
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon {
    font-size: 1.3rem;
  }
  .problem-box {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
    margin-bottom: 10px;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 16px;
    font-size: 1rem;
    transition: all 0.2s;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.1);
    box-shadow: 0 0 12px rgba(52, 211, 153, 0.15);
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 6px 0 6px 36px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 6px;
    width: 26px;
    height: 26px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.82rem;
    font-weight: 700;
    color: #0f172a;
  }
  details {
    background: #172033;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 14px 20px;
    margin-bottom: 10px;
  }
  details summary {
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  details summary::before {
    content: '>';
    display: inline-block;
    transition: transform 0.2s;
    font-family: monospace;
    font-size: 1.1rem;
  }
  details[open] summary::before {
    transform: rotate(90deg);
  }
  details .inner {
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid #334155;
  }
  .step {
    border-left: 3px solid #334155;
    padding: 14px 0 14px 22px;
    margin-left: 12px;
    position: relative;
    margin-bottom: 4px;
  }
  .step::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 18px;
    width: 12px;
    height: 12px;
    background: #60a5fa;
    border-radius: 50%;
    border: 2px solid #0f172a;
  }
  .step:last-child { border-left-color: transparent; }
  .step-label {
    font-weight: 700;
    color: #60a5fa;
    font-size: 1rem;
    margin-bottom: 6px;
  }
  .checkpoint {
    background: rgba(167, 139, 250, 0.1);
    border: 1px dashed #a78bfa;
    border-radius: 10px;
    padding: 12px 18px;
    margin: 12px 0 4px;
    font-size: 0.95rem;
    color: #a78bfa;
  }
  .checkpoint strong { color: #c4b5fd; }
  .final-answer {
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(74, 222, 128, 0.08));
    border: 2px solid #34d399;
    border-radius: 14px;
    padding: 26px 30px;
    text-align: center;
  }
  .final-answer .label {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #34d399;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .final-answer .value {
    font-size: 1.7rem;
    font-weight: 800;
    color: #4ade80;
  }
  .insight-box {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .insight-box .label {
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 6px;
    font-size: 1.05rem;
  }
  .pitfall {
    background: rgba(244, 114, 182, 0.08);
    border-left: 4px solid #f472b6;
    border-radius: 0 10px 10px 0;
    padding: 14px 20px;
    margin-bottom: 10px;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(167, 139, 250, 0.06);
    border: 1px solid rgba(167, 139, 250, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .challenge-box .label {
    font-weight: 700;
    color: #a78bfa;
    margin-bottom: 6px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    background: #0f172a;
    max-width: 100%;
    touch-action: none;
  }
  .muted { color: #94a3b8; }
  .blue { color: #60a5fa; }
  .green { color: #34d399; }
  .purple { color: #a78bfa; }
  .pink { color: #f472b6; }
  @media (max-width: 600px) {
    body { padding: 12px; }
    h1 { font-size: 1.5rem; }
    .card { padding: 18px 16px; }
    .option-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<h1>Realni deo količnika stepena kompleksnih brojeva</h1>
<p class="subtitle">Kompleksni brojevi &mdash; Polarni oblik, De Moavrov obrazac, deljenje</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#x1F4CB;</span> Zadatak</div>
  <div class="problem-box">
    Ako je \(\displaystyle z = \frac{(1-i)^{2025}}{(1+i)^{2024}}\), \(i^2 = -1\), onda je \(\text{Re}\,z\) jednak:
  </div>
  <div class="option-grid">
    <div class="option" data-option="A">A) \(0\)</div>
    <div class="option" data-option="B">B) \(\dfrac{\sqrt{2}}{2}\)</div>
    <div class="option correct" data-option="C">C) \(1\)</div>
    <div class="option" data-option="D">D) \(2\)</div>
    <div class="option" data-option="E">E) \(\sqrt{2}\)</div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon">&#x1F5FA;&#xFE0F;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Prepiši količnik kao \(\left(\frac{1-i}{1+i}\right)^{2024} \cdot (1-i)\).</li>
    <li>Uprosti razlomak \(\frac{1-i}{1+i}\) množenjem konjugatom imenioca &mdash; dobij \(-i\).</li>
    <li>Izračunaj \((-i)^{2024}\) koristeći periodičnost stepena imaginarne jedinice.</li>
    <li>Pomnoži rezultat sa \((1-i)\) i izdvoj realni deo.</li>
    <li>Alternativno: koristi polarni oblik i De Moavrov obrazac za verifikaciju.</li>
  </ol>
</div>

<!-- Theory Refresher -->
<div class="card">
  <div class="card-title"><span class="icon">&#x1F4D6;</span> Teorijska podloga</div>
  <details>
    <summary>Množenje konjugovanim imeniocem</summary>
    <div class="inner">
      <p>Da bismo podelili dva kompleksna broja, množimo i brojilac i imenilac <strong>konjugatom imenioca</strong>:</p>
      \[\frac{a+bi}{c+di} = \frac{(a+bi)(c-di)}{c^2+d^2}\]
      <p class="muted" style="margin-top:8px;">Imenilac postaje realan broj \(c^2 + d^2\). Konjugat od \(1+i\) je \(1-i\), a konjugat od \(1-i\) je \(1+i\).</p>
    </div>
  </details>
  <details>
    <summary>Stepeni imaginarne jedinice \(i\)</summary>
    <div class="inner">
      <p>Stepeni od \(i\) se ponavljaju sa periodom 4:</p>
      \[i^0 = 1, \quad i^1 = i, \quad i^2 = -1, \quad i^3 = -i, \quad i^4 = 1, \quad \ldots\]
      <p>Isto važi i za \(-i\): stepeni od \(-i\) se takođe ponavljaju sa periodom 4:</p>
      \[(-i)^0 = 1, \quad (-i)^1 = -i, \quad (-i)^2 = -1, \quad (-i)^3 = i, \quad (-i)^4 = 1, \quad \ldots\]
      <p class="muted" style="margin-top:8px;">Za veliki eksponent \(n\), dovoljno je izračunati \(n \bmod 4\).</p>
    </div>
  </details>
  <details>
    <summary>Trigonometrijski oblik i De Moavrov obrazac</summary>
    <div class="inner">
      <p>Svaki kompleksan broj \(z = x + yi\) može se zapisati kao:</p>
      \[z = r(\cos\varphi + i\sin\varphi), \quad r = |z| = \sqrt{x^2+y^2}\]
      <p>De Moavrov obrazac za stepenovanje:</p>
      \[\left[r(\cos\varphi + i\sin\varphi)\right]^n = r^n(\cos n\varphi + i\sin n\varphi)\]
      <p class="muted" style="margin-top:8px;">Za deljenje stepena istih modula, razlika eksponenata daje modul rezultata, a razlika uglova daje argument.</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon">&#x1F4D0;</span> Vizuelni prikaz</div>
  <p class="muted" style="margin-bottom:14px;">Kompleksna ravan prikazuje \(1-i\), \(1+i\), njihov količnik \(-i\), i konačan rezultat \(z = 1-i\). Klizačem menjate eksponent \(n\) da vidite kako se \(\left(\frac{1-i}{1+i}\right)^n \cdot (1-i)\) ponaša.</p>
  <div style="display:flex;gap:16px;flex-wrap:wrap;margin-bottom:14px;">
    <label style="display:flex;align-items:center;gap:8px;">
      <span class="blue">n =</span>
      <input type="range" id="slider-n" min="0" max="16" value="8" style="width:200px;">
      <span id="val-n" class="blue">8</span>
    </label>
  </div>
  <canvas id="canvas" width="700" height="420"></canvas>
  <div id="canvas-info" style="margin-top:12px;text-align:center;font-size:0.95rem;color:#94a3b8;"></div>
</div>

<!-- Step-by-step Solution -->
<div class="card">
  <div class="card-title"><span class="icon">&#x270F;&#xFE0F;</span> Rešenje korak po korak</div>

  <div class="step">
    <div class="step-label">Korak 1: Prepiši izraz u pogodniji oblik</div>
    <p>Rastavimo stepen u brojiocu na \((1-i)^{2025} = (1-i)^{2024} \cdot (1-i)\):</p>
    \[z = \frac{(1-i)^{2025}}{(1+i)^{2024}} = \frac{(1-i)^{2024} \cdot (1-i)}{(1+i)^{2024}} = \left(\frac{1-i}{1+i}\right)^{2024} \cdot (1-i)\]
    <p class="muted">Sada je dovoljno da izračunamo vrednost \(\frac{1-i}{1+i}\), stepenujemo je na \(2024\), i pomnožimo sa \((1-i)\).</p>
  </div>

  <div class="step">
    <div class="step-label">Korak 2: Uprosti razlomak \(\dfrac{1-i}{1+i}\)</div>
    <p>Množimo brojilac i imenilac konjugatom imenioca, tj. brojem \(1-i\):</p>
    \[\frac{1-i}{1+i} = \frac{(1-i)(1-i)}{(1+i)(1-i)} = \frac{(1-i)^2}{1^2 - i^2}\]
    <p><strong>Brojilac</strong> &mdash; kvadrat binoma:</p>
    \[(1-i)^2 = 1 - 2i + i^2 = 1 - 2i + (-1) = -2i\]
    <p><strong>Imenilac</strong> &mdash; razlika kvadrata:</p>
    \[(1+i)(1-i) = 1 - i^2 = 1 - (-1) = 2\]
    <p>Dakle:</p>
    \[\frac{1-i}{1+i} = \frac{-2i}{2} = -i\]
    <div class="checkpoint">
      <strong>Proveri se!</strong> Pomnožimo \(-i\) sa imeniocem: \(-i \cdot (1+i) = -i - i^2 = -i + 1 = 1 - i\). Dobili smo brojilac &mdash; tačno!
    </div>
  </div>

  <div class="step">
    <div class="step-label">Korak 3: Izračunaj \((-i)^{2024}\)</div>
    <p>Zamenjujemo u izraz:</p>
    \[z = (-i)^{2024} \cdot (1-i)\]
    <p>Stepeni od \(-i\) se ponavljaju sa periodom \(4\). Tražimo ostatak:</p>
    \[2024 = 4 \cdot 506 + 0\]
    <p>Dakle, \(2024 \bmod 4 = 0\), pa:</p>
    \[(-i)^{2024} = \left[(-i)^4\right]^{506}\]
    <p>Izračunajmo \((-i)^4\):</p>
    \[(-i)^1 = -i, \quad (-i)^2 = (-i)(-i) = i^2 = -1, \quad (-i)^3 = (-1)(-i) = i, \quad (-i)^4 = (i)(-i) = -i^2 = 1\]
    <p>Prema tome:</p>
    \[(-i)^{2024} = 1^{506} = 1\]
    <div class="checkpoint">
      <strong>Proveri se!</strong> Alternativno: \((-i)^{2024} = (-1)^{2024} \cdot i^{2024} = 1 \cdot (i^4)^{506} = 1 \cdot 1 = 1\). Potvrđeno!
    </div>
  </div>

  <div class="step">
    <div class="step-label">Korak 4: Izračunaj konačnu vrednost \(z\)</div>
    <p>Zamena u izraz daje:</p>
    \[z = 1 \cdot (1-i) = 1 - i\]
    <p>Realni deo:</p>
    \[\text{Re}\,z = \text{Re}(1-i) = 1\]
  </div>

  <div class="step">
    <div class="step-label">Korak 5 (verifikacija): Polarni oblik i De Moavrov obrazac</div>
    <p>Kao alternativnu proveru, koristimo trigonometrijski oblik:</p>
    \[1-i = \sqrt{2}\left(\cos\left(-\frac{\pi}{4}\right) + i\sin\left(-\frac{\pi}{4}\right)\right), \qquad 1+i = \sqrt{2}\left(\cos\frac{\pi}{4} + i\sin\frac{\pi}{4}\right)\]
    <p>Stepenujemo i delimo:</p>
    \[z = \frac{(\sqrt{2})^{2025} \cdot e^{-i \cdot 2025\pi/4}}{(\sqrt{2})^{2024} \cdot e^{i \cdot 2024\pi/4}} = \sqrt{2} \cdot e^{-i\,(2025+2024)\pi/4} = \sqrt{2} \cdot e^{-i \cdot 4049\pi/4}\]
    <p>Svedemo argument: \(4049 = 8 \cdot 506 + 1\), pa:</p>
    \[e^{-i \cdot 4049\pi/4} = e^{-i \cdot (506 \cdot 2\pi + \pi/4)} = e^{-i\pi/4} = \cos\frac{\pi}{4} - i\sin\frac{\pi}{4} = \frac{\sqrt{2}}{2} - i\frac{\sqrt{2}}{2}\]
    <p>Konačno:</p>
    \[z = \sqrt{2} \cdot \left(\frac{\sqrt{2}}{2} - i\frac{\sqrt{2}}{2}\right) = \frac{2}{2} - i\frac{2}{2} = 1 - i\]
    <p>Oba postupka daju isti rezultat: \(\text{Re}\,z = 1\).</p>
    <div class="checkpoint">
      <strong>Proveri se!</strong> Potvrdimo modul: \(|z| = |1-i| = \sqrt{2}\). Sa druge strane, \(|z| = \frac{(\sqrt{2})^{2025}}{(\sqrt{2})^{2024}} = \sqrt{2}\). Moduli se slažu!
    </div>
  </div>
</div>

<!-- Key Insight -->
<div class="card">
  <div class="insight-box">
    <div class="label">Ključni uvid</div>
    <p>Ceo zadatak se dramatično uprostio zahvaljujući jednom opažanju: <strong>količnik \(\frac{1-i}{1+i}\) jednak je \(-i\)</strong>. Pošto je \(-i\) kompleksan broj jediničnog modula, svi njegovi stepeni su takođe modula \(1\), a periodičnost je samo \(4\).</p>
    <p style="margin-top:8px;">Budući da je \(2024\) deljiv sa \(4\), dobijamo \((-i)^{2024} = 1\), pa se ceo izraz svodi na jednostavan rezultat \(z = 1-i\). Umesto rada sa ogromnim stepenima, dovoljno je poznavanje <strong>periodičnosti stepena imaginarne jedinice</strong>.</p>
  </div>
</div>

<!-- Final Answer -->
<div class="card">
  <div class="final-answer">
    <div class="label">Konačan odgovor</div>
    <div class="value">
      C) \(\;1\)
    </div>
    <p style="margin-top:14px;color:#94a3b8;font-size:1rem;">
      \(\displaystyle z = \frac{(1-i)^{2025}}{(1+i)^{2024}} = (-i)^{2024} \cdot (1-i) = 1 \cdot (1-i) = 1 - i \implies \text{Re}\,z = 1\)
    </p>
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Najčešće greške</div>
  <div class="pitfall">
    <strong>Greška 1: Pogrešno pojednostavljenje \(\frac{1-i}{1+i}\).</strong>
    Mnogi učenici neispravno "skrate" \(i\) ili dobiju pogrešan predznak. Jedini pouzdan metod je množenje konjugatom imenioca. Rezultat je \(-i\), ne \(i\), ne \(-1\), ne \(1\).
  </div>
  <div class="pitfall">
    <strong>Greška 2: Pogrešno rastavljanje eksponenata.</strong>
    U izrazu \(\frac{(1-i)^{2025}}{(1+i)^{2024}}\), eksponenti u brojiocu i imeniocu su <em>različiti</em> (2025 vs. 2024). Česta greška je pretpostaviti da su isti i "skratiti" čitav razlomak. Ključno je napisati \((1-i)^{2025} = (1-i)^{2024} \cdot (1-i)\) pre skraćivanja.
  </div>
  <div class="pitfall">
    <strong>Greška 3: Pogrešan ostatak pri deljenju sa 4.</strong>
    Kod računanja \((-i)^{2024}\), greška u aritmetici (npr. zaključak da je \(2024 \bmod 4 = 2\)) vodi na potpuno pogrešan rezultat. Proveri: \(2024 \div 4 = 506\) bez ostatka.
  </div>
  <div class="pitfall">
    <strong>Greška 4: Zbunjivanje \(\text{Re}\,z\) i \(|z|\).</strong>
    Rezultat je \(z = 1-i\), pa je \(\text{Re}\,z = 1\), a \(|z| = \sqrt{2}\). Ako neko greškom odgovori \(\sqrt{2}\) (odgovor E), verovatno je izračunao modul umesto realnog dela.
  </div>
</div>

<!-- Challenge -->
<div class="card">
  <div class="challenge-box">
    <div class="label">Dodatni izazov</div>
    <p>Pokušaj da odgovoriš na sledeća pitanja:</p>
    <ul style="margin-top:8px;margin-left:20px;color:#94a3b8;">
      <li>Koliko je \(\text{Im}(z)\)? (Odgovor: \(-1\), jer je \(z = 1-i\).)</li>
      <li>Šta ako je eksponent u brojiocu \(2024\), a u imeniocu \(2025\)? Tj. koliko je \(\text{Re}\!\left(\frac{(1-i)^{2024}}{(1+i)^{2025}}\right)\)?</li>
      <li>Za koje vrednosti \(n \in \mathbb{N}\) važi \(\frac{(1-i)^{n+1}}{(1+i)^n} \in \mathbb{R}\)? Hint: to se svodi na \((-i)^n \cdot (1-i) \in \mathbb{R}\).</li>
      <li>Generalizuj: dokaži da za sve \(n \in \mathbb{N}\) važi \(\frac{(1-i)^{n+1}}{(1+i)^n} = (-i)^n \cdot (1-i)\) i ispitaj šta se dešava za \(n \equiv 0, 1, 2, 3 \pmod{4}\).</li>
    </ul>
  </div>
</div>

<script>
(function() {
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  var sliderN = document.getElementById('slider-n');
  var valN = document.getElementById('val-n');
  var info = document.getElementById('canvas-info');

  function draw() {
    var W = canvas.width, H = canvas.height;
    var n = parseInt(sliderN.value);
    var cx = W * 0.42;
    var cy = H * 0.5;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Compute z = (-i)^n * (1-i) for display
    // (-i)^n: period 4, values: 1, -i, -1, i
    var nMod4 = ((n % 4) + 4) % 4;
    var negIPowers = [{re:1, im:0}, {re:0, im:-1}, {re:-1, im:0}, {re:0, im:1}];
    var negIn = negIPowers[nMod4];
    // Multiply by (1-i)
    var zRe = negIn.re * 1 - negIn.im * (-1);
    var zIm = negIn.re * (-1) + negIn.im * 1;

    // Key points to display
    var keyPoints = [
      {re: 1, im: 0, label: '1', color: '#94a3b8'},
      {re: 1, im: 1, label: '1+i', color: '#60a5fa'},
      {re: 1, im: -1, label: '1-i', color: '#a78bfa'},
      {re: 0, im: -1, label: '-i', color: '#f472b6'}
    ];

    // Add the result point
    var resultPoint = {re: zRe, im: zIm, label: 'z', color: '#4ade80'};

    // Scale: max coordinate we want to show
    var maxCoord = 2.5;
    var scale = Math.min((cx - 50) / maxCoord, (cy - 50) / maxCoord);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var g = -3; g <= 3; g++) {
      var gx = cx + g * scale;
      var gy = cy - g * scale;
      ctx.beginPath(); ctx.moveTo(gx, 0); ctx.lineTo(gx, H); ctx.stroke();
      ctx.beginPath(); ctx.moveTo(0, gy); ctx.lineTo(W, gy); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(W, cy); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, H); ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re', W * 0.58, cy - 10);
    ctx.fillText('Im', cx + 16, 18);

    // Unit circle
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.arc(cx, cy, scale, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Circle of radius sqrt(2) where 1+i and 1-i lie
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.25)';
    ctx.beginPath();
    ctx.arc(cx, cy, Math.sqrt(2) * scale, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw key points
    for (var p = 0; p < keyPoints.length; p++) {
      var pt = keyPoints[p];
      var px = cx + pt.re * scale;
      var py = cy - pt.im * scale;

      ctx.beginPath();
      ctx.arc(px, py, 5, 0, 2 * Math.PI);
      ctx.fillStyle = pt.color;
      ctx.fill();

      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = pt.color;
      ctx.textAlign = 'left';
      ctx.fillText(pt.label, px + 10, py - 8);
    }

    // Draw result point (larger)
    var rpx = cx + resultPoint.re * scale;
    var rpy = cy - resultPoint.im * scale;

    // Glow
    ctx.beginPath();
    ctx.arc(rpx, rpy, 14, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(74, 222, 128, 0.15)';
    ctx.fill();

    ctx.beginPath();
    ctx.arc(rpx, rpy, 8, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();

    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'left';
    ctx.fillText('z = ' + zRe + (zIm >= 0 ? '+' : '') + zIm + 'i', rpx + 14, rpy - 10);

    // Projection lines from result
    ctx.setLineDash([3, 3]);
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.3)';
    ctx.lineWidth = 1;
    ctx.beginPath(); ctx.moveTo(rpx, rpy); ctx.lineTo(rpx, cy); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(rpx, rpy); ctx.lineTo(cx, rpy); ctx.stroke();
    ctx.setLineDash([]);

    // Re projection label
    ctx.fillStyle = '#34d399';
    ctx.beginPath(); ctx.arc(rpx, cy, 3, 0, 2 * Math.PI); ctx.fill();
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re(z)=' + zRe, rpx, cy + 18);

    // Draw arrow from origin to -i showing the ratio (1-i)/(1+i)
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.5)';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + 0 * scale, cy - (-1) * scale);
    ctx.stroke();

    // Info panel (right side)
    var infoX = W * 0.66;
    var infoY = 28;
    var lh = 22;

    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Izračunavanje za n = ' + n, infoX, infoY);

    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.fillText('(1-i)/(1+i) = -i', infoX, infoY + 1.5 * lh);

    ctx.fillStyle = '#a78bfa';
    var negIPowerLabels = ['1', '-i', '-1', 'i'];
    ctx.fillText('(-i)^' + n + ' = ' + negIPowerLabels[nMod4], infoX, infoY + 2.5 * lh);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText(n + ' mod 4 = ' + nMod4, infoX, infoY + 3.5 * lh);

    ctx.fillStyle = '#334155';
    ctx.fillRect(infoX - 4, infoY + 4.3 * lh, 180, 1);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('z = ' + negIPowerLabels[nMod4] + ' \u00B7 (1-i)', infoX, infoY + 5.3 * lh);

    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('= ' + zRe + (zIm >= 0 ? ' + ' : ' \u2212 ') + Math.abs(zIm) + 'i', infoX, infoY + 6.3 * lh);

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Re(z) = ' + zRe, infoX, infoY + 7.8 * lh);
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('Im(z) = ' + zIm, infoX, infoY + 8.8 * lh);

    // Separator
    ctx.fillStyle = '#334155';
    ctx.fillRect(infoX - 4, infoY + 9.8 * lh, 180, 1);

    // For n=2024
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Za n = 2024 (zadatak):', infoX, infoY + 10.8 * lh);
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('2024 mod 4 = 0', infoX, infoY + 11.8 * lh);
    ctx.fillText('(-i)^2024 = 1', infoX, infoY + 12.8 * lh);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('z = 1\u00B7(1-i) = 1-i', infoX, infoY + 14 * lh);
    ctx.fillText('Re(z) = 1', infoX, infoY + 15 * lh);

    // Bottom info
    info.innerHTML =
      '<span style="color:#f472b6">((1-i)/(1+i))</span> = <span style="color:#f472b6">-i</span> &nbsp;&rarr;&nbsp; ' +
      '<span style="color:#a78bfa">(-i)<sup>' + n + '</sup></span> = <span style="color:#a78bfa">' + negIPowerLabels[nMod4] + '</span> &nbsp;&rarr;&nbsp; ' +
      '<span style="color:#4ade80">z = ' + zRe + (zIm >= 0 ? '+' : '') + zIm + 'i</span>, &nbsp; ' +
      '<strong style="color:#4ade80">Re(z) = ' + zRe + '</strong>';
  }

  sliderN.addEventListener('input', function() {
    valN.textContent = sliderN.value;
    draw();
  });

  canvas.addEventListener('touchstart', function(e) { e.preventDefault(); }, { passive: false });

  function resizeCanvas() {
    var container = canvas.parentElement;
    var maxW = container.clientWidth - 56;
    if (maxW < 700) {
      canvas.style.width = maxW + 'px';
      canvas.style.height = (maxW * 420 / 700) + 'px';
    }
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Realni deo količnika (1-i)^2025 / (1+i)^2024","subject":"math","unit":"complex_numbers","topic_tags":["kompleksni brojevi","trigonometrijski oblik","De Moavrov obrazac","stepenovanje kompleksnih brojeva","imaginarna jedinica"]}
BRAINSPARK_META-->