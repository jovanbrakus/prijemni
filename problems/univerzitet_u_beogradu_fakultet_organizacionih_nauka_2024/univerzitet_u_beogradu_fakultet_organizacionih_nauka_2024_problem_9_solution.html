<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir prva četiri člana geometrijskog niza</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Geometrijski niz. Zbir prva dva člana je 16, razlika trećeg i prvog je 32.
Naći zbir prva četiri člana.

KORAK 1: Formiranje sistema jednačina.
  Neka je a prvi član, q količnik geometrijskog niza.
  Članovi niza: a, aq, aq², aq³, ...

  Uslov 1: a + aq = 16  =>  a(1 + q) = 16
  Uslov 2: aq² - a = 32  =>  a(q² - 1) = 32

KORAK 2: Faktorizacija i deljenje.
  a(q² - 1) = a(q - 1)(q + 1) = 32

  Delimo jednačinu 2 sa jednačinom 1:
  a(q - 1)(q + 1) / (a(1 + q)) = 32 / 16
  (q - 1) = 2
  q = 3

KORAK 3: Nalaženje prvog člana.
  a(1 + q) = 16
  a(1 + 3) = 16
  4a = 16
  a = 4

KORAK 4: Zbir prva četiri člana.
  S₄ = a(q⁴ - 1)/(q - 1) = 4 · (81 - 1) / (3 - 1) = 4 · 80 / 2 = 4 · 40 = 160

VERIFIKACIJA:
  Članovi niza: a₁ = 4, a₂ = 12, a₃ = 36, a₄ = 108
  Provera uslova 1: a₁ + a₂ = 4 + 12 = 16 ✓
  Provera uslova 2: a₃ - a₁ = 36 - 4 = 32 ✓
  Zbir: 4 + 12 + 36 + 108 = 160 ✓

Odgovor: (E) 160
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:1rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item .label{font-size:0.85rem;color:#94a3b8;font-weight:600;margin-bottom:4px}
.given-item .value{font-size:1rem;color:#e2e8f0}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-list{list-style:none;counter-reset:plan}
.plan-list li{counter-increment:plan;padding:6px 0;padding-left:32px;position:relative}
.plan-list li::before{content:counter(plan);position:absolute;left:0;top:6px;background:#60a5fa;color:#0f172a;width:22px;height:22px;border-radius:50%;font-size:0.78rem;font-weight:700;display:flex;align-items:center;justify-content:center}
details{margin:15px 0}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%;touch-action:none}
.step{margin-bottom:18px;padding:8px 12px;border-radius:8px;transition:border-left 0.2s,background 0.2s;cursor:pointer;border-left:3px solid transparent}
.step:hover,.step.active{border-left:3px solid #4ade80;background:rgba(74,222,128,0.04)}
.step:last-child{margin-bottom:0}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.math-block{background:rgba(56,189,248,0.08);border:1px solid rgba(56,189,248,0.15);border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center;font-family:'Courier New',monospace}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:15px 0;color:#93bbfc;font-weight:600}
.checkpoint summary{color:#60a5fa;font-weight:600}
.checkpoint-answer{color:#4ade80;font-weight:600;margin-top:6px}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.final-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:16px}
.final-option{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px;text-align:center;font-size:1rem;transition:all 0.2s}
.final-option.correct-option{border-color:#34d399;background:rgba(52,211,153,0.12);color:#4ade80;font-weight:700}
.verification{margin-top:16px;padding:12px 16px;background:rgba(52,211,153,0.06);border:1px solid rgba(52,211,153,0.2);border-radius:10px;color:#86efac;font-size:0.92rem}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.drag-hint{text-align:center;color:#64748b;font-size:0.82rem;margin-top:6px}
@media(max-width:700px){
  body{padding:12px}
  h1{font-size:1.4rem}
  .given-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
  .final-options{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
}
</style>
</head>
<body>

<h1>Zbir prva četiri člana geometrijskog niza</h1>
<p class="subtitle">Algebra | Geometrijski nizovi, sistemi jednačina</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Zbir prva dva člana geometrijskog niza je \(16\), a razlika trećeg i prvog člana je \(32\). Zbir prva četiri člana tog niza jednak je:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(192\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(128\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(144\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(176\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(160\)</div>
    </div>
  </div>
</div>

<!-- Plan rešavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Postaviti sistem jednačina sa nepoznatima \(a\) (prvi član) i \(q\) (količnik)</li>
    <li>Iskoristiti faktorizaciju razlike kvadrata za pojednostavljenje</li>
    <li>Deljenjem jednačina naći količnik \(q\), zatim prvi član \(a\)</li>
    <li>Primeniti formulu za zbir prvih \(n\) članova geometrijskog niza</li>
  </ol>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>&#128208; Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Geometrijski niz</strong> je niz kod koga je količnik svaka dva uzastopna člana konstantan. Ako je prvi član \(a\) i količnik \(q\), tada su članovi:</p>
      <div class="formula-box">
        \[a_1 = a, \quad a_2 = aq, \quad a_3 = aq^2, \quad a_4 = aq^3, \quad \ldots\]
      </div>
      <p><strong>Opšti član:</strong></p>
      <div class="formula-box">
        \[a_n = a \cdot q^{n-1}\]
      </div>
      <p><strong>Zbir prvih \(n\) članova</strong> (za \(q \neq 1\)):</p>
      <div class="formula-box">
        \[S_n = a \cdot \frac{q^n - 1}{q - 1}\]
      </div>
      <p><strong>Razlika kvadrata:</strong> \(q^2 - 1 = (q - 1)(q + 1)\) &mdash; ključna identičnost za ovaj zadatak.</p>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
  <div class="canvas-wrap">
    <canvas id="vizCanvas" width="760" height="440"></canvas>
  </div>
  <p class="drag-hint">Članovi geometrijskog niza i njihov zbir</p>
</div>

<!-- Koraci rešenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Rešenje korak po korak</div>

  <div class="step" id="step1">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Postavljanje sistema jednačina</strong></p>
      <p>Neka je \(a\) prvi član, a \(q\) količnik geometrijskog niza. Tada su članovi niza:</p>
      <div class="math-block">
        \[a_1 = a, \quad a_2 = aq, \quad a_3 = aq^2, \quad a_4 = aq^3\]
      </div>
      <p>Iz uslova zadatka formiramo sistem:</p>
      <div class="math-block">
        \[\begin{cases} a + aq = 16 \\ aq^2 - a = 32 \end{cases}\]
      </div>
      <p>Izlučujemo \(a\) u obe jednačine:</p>
      <div class="math-block">
        \[\begin{cases} a(1 + q) = 16 & \quad \cdots (1) \\ a(q^2 - 1) = 32 & \quad \cdots (2) \end{cases}\]
      </div>
    </div>
  </div>

  <div class="step" id="step2">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Faktorizacija i deljenje jednačina</strong></p>
      <p>Primenjujemo formulu za razliku kvadrata na izraz \(q^2 - 1\):</p>
      <div class="math-block">
        \[q^2 - 1 = (q - 1)(q + 1)\]
      </div>
      <p>Pa jednačina (2) postaje:</p>
      <div class="math-block">
        \[a(q - 1)(q + 1) = 32\]
      </div>
      <p>Sada delimo jednačinu (2) sa jednačinom (1):</p>
      <div class="math-block">
        \[\frac{a(q - 1)(q + 1)}{a(1 + q)} = \frac{32}{16}\]
      </div>
      <p>Skraćujemo \(a\) i \((1 + q)\) (uz uslov \(a \neq 0\) i \(q \neq -1\)):</p>
      <div class="math-block">
        \[q - 1 = 2\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Zašto smemo skratiti \((1 + q)\)?</summary>
    <div class="checkpoint-answer">
      Ako bi bilo \(q = -1\), tada bi \(a(1 + q) = 0\), što je u kontradikciji sa uslovom \(a(1 + q) = 16 \neq 0\). Dakle, \(q \neq -1\), pa je skraćivanje dozvoljeno. &#10004;
    </div>
  </details>

  <div class="step" id="step3">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Nalaženje količnika \(q\)</strong></p>
      <div class="math-block">
        \[q - 1 = 2 \implies q = 3\]
      </div>
    </div>
  </div>

  <div class="step" id="step4">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Nalaženje prvog člana \(a\)</strong></p>
      <p>Vraćamo \(q = 3\) u jednačinu (1):</p>
      <div class="math-block">
        \[a(1 + 3) = 16 \implies 4a = 16 \implies a = 4\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Da li dobijene vrednosti zadovoljavaju oba uslova?</summary>
    <div class="checkpoint-answer">
      <p>Uslov 1: \(a + aq = 4 + 4 \cdot 3 = 4 + 12 = 16\) &#10004;</p>
      <p>Uslov 2: \(aq^2 - a = 4 \cdot 9 - 4 = 36 - 4 = 32\) &#10004;</p>
    </div>
  </details>

  <div class="step" id="step5">
    <div class="step-badge">KORAK 5</div>
    <div class="step-content">
      <p><strong>Izračunavanje zbira prva četiri člana</strong></p>
      <p>Primenjujemo formulu za zbir geometrijskog niza:</p>
      <div class="math-block">
        \[S_4 = a \cdot \frac{q^4 - 1}{q - 1} = 4 \cdot \frac{3^4 - 1}{3 - 1}\]
      </div>
      <p>Računamo stepen:</p>
      <div class="math-block">
        \[3^4 = 81\]
      </div>
      <p>Zamenjujemo:</p>
      <div class="math-block">
        \[S_4 = 4 \cdot \frac{81 - 1}{2} = 4 \cdot \frac{80}{2} = 4 \cdot 40 = 160\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Izračunaj zbir direktno sabiranjem članova</summary>
    <div class="checkpoint-answer">
      <p>Članovi: \(a_1 = 4\), \(a_2 = 12\), \(a_3 = 36\), \(a_4 = 108\)</p>
      <p>\(4 + 12 + 36 + 108 = 160\) &#10004;</p>
    </div>
  </details>
</div>

<!-- Ključni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
  <p class="insight-text">
    Ključ za elegantno rešavanje je prepoznavanje da se \(q^2 - 1\) može faktorisati kao \((q - 1)(q + 1)\). Time se u drugoj jednačini pojavljuje faktor \((1 + q)\) koji je isti kao u prvoj jednačini, što omogućava jednostavno deljenje i neposredno nalaženje količnika \(q\).
  </p>
</div>

<!-- Konačan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konačan odgovor</div>
  <div class="final-answer-label">Zbir prva četiri člana geometrijskog niza jednak je:</div>
  <div class="final-answer-value">\(S_4 = 4 + 12 + 36 + 108 = 160\)</div>
  <div class="final-answer-label" style="margin-top:12px">Tačan odgovor je (E)</div>
  <div class="final-options">
    <div class="final-option" data-option="A">(A) \(192\)</div>
    <div class="final-option" data-option="B">(B) \(128\)</div>
    <div class="final-option" data-option="C">(C) \(144\)</div>
    <div class="final-option" data-option="D">(D) \(176\)</div>
    <div class="final-option correct-option" data-option="E">(E) \(160\)</div>
  </div>
  <div class="verification">
    <strong>&#128269; Verifikacija:</strong> Geometrijski niz sa \(a = 4\) i \(q = 3\) daje članove \(4,\; 12,\; 36,\; 108\). Provera: \(4 + 12 = 16\) &#10004;, \(36 - 4 = 32\) &#10004;, zbir \(= 160\) &#10004;.
  </div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguće zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Zaboraviti faktorizaciju \(q^2 - 1\).</strong> Bez nje, sistem postaje teži za rešavanje &mdash; dobijamo kvadratnu jednačinu umesto linearne. Korišćenjem \(q^2 - 1 = (q-1)(q+1)\) direktno se dolazi do \(q - 1 = 2\).
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Pogrešan raspored uslova.</strong> Drugi uslov kaže da je <em>razlika trećeg i prvog</em> člana 32, tj. \(aq^2 - a = 32\), a ne \(a - aq^2 = 32\). Redosled je bitan &mdash; ako se zameni, dobija se \(q^2 - 1 = -8\), što nema realnih rešenja.
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Greška pri izračunavanju stepena.</strong> Često se \(3^4\) pogrešno računa kao \(3 \cdot 4 = 12\) umesto \(3 \cdot 3 \cdot 3 \cdot 3 = 81\). Uvek proveriti stepenovanje korak po korak: \(3^2 = 9\), \(3^3 = 27\), \(3^4 = 81\).
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Izazov za razmišljanje</div>
  <p class="challenge-text">
    Da li postoji još jedan geometrijski niz koji zadovoljava iste uslove? Razmotri mogućnost da količnik bude negativan ili da prvi član bude negativan.
  </p>
  <details>
    <summary>&#128161; Nagovještaj</summary>
    <div class="theory-content">
      <p>Iz jednačine \(q - 1 = 2\) dobijamo jedinstveno rešenje \(q = 3\), a zatim i \(a = 4\). Dakle, geometrijski niz je jedinstven. Međutim, razmisli: da je uslov bio \(|aq^2 - a| = 32\) (apsolutna vrednost razlike), tada bismo imali i slučaj \(a(q^2 - 1) = -32\), što daje \(q - 1 = -2\), tj. \(q = -1\) &mdash; ali to je nemoguće jer \(a(1 + q) = 16 \neq 0\).</p>
    </div>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const BG = '#1e293b';
  const CARD_BORDER = '#334155';
  const TEXT = '#e2e8f0';
  const MUTED = '#94a3b8';
  const BLUE = '#60a5fa';
  const PURPLE = '#a78bfa';
  const GREEN = '#4ade80';
  const RED = '#f87171';
  const DARK = '#0f172a';

  function draw() {
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    var members = [4, 12, 36, 108];
    var maxVal = 108;
    var barLeft = 100;
    var barRight = W - 40;
    var barW = barRight - barLeft;
    var barTop = 60;
    var barArea = 220;

    /* Naslov */
    ctx.fillStyle = MUTED;
    ctx.font = 'bold 14px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Članovi geometrijskog niza: a = 4, q = 3', W / 2, 12);

    /* Boje za svaki bar */
    var barColors = [BLUE, PURPLE, GREEN, '#fbbf24'];
    var labels = ['a\u2081 = 4', 'a\u2082 = 12', 'a\u2083 = 36', 'a\u2084 = 108'];

    var gap = 30;
    var totalGaps = (members.length - 1) * gap;
    var singleBarW = (barW - totalGaps) / members.length;

    /* Nacrtaj barove */
    for (var i = 0; i < members.length; i++) {
      var barH = (members[i] / maxVal) * (barArea - 20);
      var x = barLeft + i * (singleBarW + gap);
      var y = barTop + barArea - barH;

      /* Senka */
      ctx.fillStyle = 'rgba(0,0,0,0.3)';
      ctx.beginPath();
      ctx.roundRect(x + 3, y + 3, singleBarW, barH, 8);
      ctx.fill();

      /* Bar */
      ctx.fillStyle = barColors[i];
      ctx.globalAlpha = 0.85;
      ctx.beginPath();
      ctx.roundRect(x, y, singleBarW, barH, 8);
      ctx.fill();
      ctx.globalAlpha = 1;

      /* Vrednost iznad bara */
      ctx.fillStyle = barColors[i];
      ctx.font = 'bold 18px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText(String(members[i]), x + singleBarW / 2, y - 8);

      /* Labela ispod bara */
      ctx.fillStyle = TEXT;
      ctx.font = 'bold 13px sans-serif';
      ctx.textBaseline = 'top';
      ctx.fillText(labels[i], x + singleBarW / 2, barTop + barArea + 10);
    }

    /* Strelice sa množiocem x3 */
    var arrowY = barTop + barArea + 38;
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 12px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';

    for (var j = 0; j < members.length - 1; j++) {
      var x1 = barLeft + j * (singleBarW + gap) + singleBarW / 2;
      var x2 = barLeft + (j + 1) * (singleBarW + gap) + singleBarW / 2;
      var midX = (x1 + x2) / 2;

      /* Luk strelice */
      ctx.beginPath();
      ctx.moveTo(x1 + 10, arrowY);
      ctx.quadraticCurveTo(midX, arrowY + 22, x2 - 10, arrowY);
      ctx.stroke();

      /* Vrh strelice */
      ctx.beginPath();
      ctx.moveTo(x2 - 10, arrowY);
      ctx.lineTo(x2 - 16, arrowY - 4);
      ctx.lineTo(x2 - 16, arrowY + 4);
      ctx.closePath();
      ctx.fill();

      /* Tekst x3 */
      ctx.fillStyle = '#fbbf24';
      ctx.fillText('\u00D73', midX, arrowY + 24);
      ctx.fillStyle = '#94a3b8';
    }

    /* ===== DONJI DEO: Provera uslova i zbir ===== */
    var secTop = arrowY + 60;

    /* Okvir za uslove */
    var boxLeft = 40;
    var boxW = W - 80;
    var boxH = 110;

    ctx.fillStyle = DARK;
    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.roundRect(boxLeft, secTop, boxW, boxH, 12);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = MUTED;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Provera uslova', W / 2, secTop + 10);

    /* Uslov 1 */
    ctx.fillStyle = GREEN;
    ctx.font = '14px sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Uslov 1:  a\u2081 + a\u2082 = 4 + 12 = 16  \u2714', boxLeft + 30, secTop + 36);

    /* Uslov 2 */
    ctx.fillText('Uslov 2:  a\u2083 \u2212 a\u2081 = 36 \u2212 4 = 32  \u2714', boxLeft + 30, secTop + 60);

    /* Zbir */
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 14px sans-serif';
    ctx.fillText('Zbir:  4 + 12 + 36 + 108 = 160  \u2714', boxLeft + 30, secTop + 86);

    /* ===== Formula deo ===== */
    var fTop = secTop + boxH + 20;

    ctx.fillStyle = DARK;
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.roundRect(boxLeft, fTop, boxW, 44, 12);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = GREEN;
    ctx.font = 'bold 15px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('S\u2084 = a \u00B7 (q\u2074 \u2212 1)/(q \u2212 1) = 4 \u00B7 (81 \u2212 1)/2 = 4 \u00B7 40 = 160', W / 2, fTop + 22);
  }

  draw();

  /* Klik na odgovore */
  document.addEventListener('DOMContentLoaded', function() {
    var options = document.querySelectorAll('.answer-option');
    options.forEach(function(opt) {
      opt.addEventListener('click', function() {
        options.forEach(function(o) { o.classList.remove('correct'); o.style.borderColor = ''; });
        if (opt.getAttribute('data-option') === 'E') {
          opt.classList.add('correct');
        } else {
          opt.style.borderColor = '#f87171';
          setTimeout(function() { opt.style.borderColor = ''; }, 1200);
        }
      });
    });

    var steps = document.querySelectorAll('.step');
    steps.forEach(function(step) {
      step.addEventListener('click', function() {
        steps.forEach(function(s) { s.classList.remove('active'); });
        step.classList.add('active');
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Zbir prva četiri člana geometrijskog niza","subject":"math","unit":"algebra","topic_tags":["geometrijski niz","sistemi jednačina","razlika kvadrata","zbir geometrijskog niza"]}
BRAINSPARK_META-->