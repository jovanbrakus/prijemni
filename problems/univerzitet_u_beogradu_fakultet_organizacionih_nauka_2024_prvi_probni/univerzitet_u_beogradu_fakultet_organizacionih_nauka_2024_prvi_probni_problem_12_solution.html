<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rastojanje izmedju zize parabole i tangente</title>

<script type="text/info" id="logic-scratchpad">
Problem: Rastojanje izmedju zize parabole y^2 = 2px i njene tangente y = x + 1.

Korak 1: Odrediti parametar p iz uslova tangentnosti.
Zamenom y = x + 1 u y^2 = 2px:
  (x + 1)^2 = 2px
  x^2 + 2x + 1 = 2px
  x^2 + (2 - 2p)x + 1 = 0

Za tangentu, diskriminanta mora biti 0:
  D = (2 - 2p)^2 - 4 = 0
  4 - 8p + 4p^2 - 4 = 0
  4p^2 - 8p = 0
  4p(p - 2) = 0
  p = 0 (odbacujemo) ili p = 2

Korak 2: Parabola i ziza
Parabola: y^2 = 4x (jer 2p = 4)
Ziza: F(p/2, 0) = F(1, 0)

Korak 3: Tangenta u opstem obliku
y = x + 1 => x - y + 1 = 0

Korak 4: Rastojanje tacke od prave
d = |1*1 + (-1)*0 + 1| / sqrt(1^2 + (-1)^2)
  = |1 + 0 + 1| / sqrt(2)
  = 2 / sqrt(2)
  = sqrt(2)

Verifikacija:
- Tacka dodira: x^2 - 2x + 1 = 0 => (x-1)^2 = 0 => x = 1, y = 2
- Provera: 2^2 = 4 = 4*1. OK!
- Tangenta u T(1,2): y'(implicit) = 2/y = 2/2 = 1, y - 2 = 1*(x - 1) => y = x + 1. OK!

Odgovor: B) sqrt(2)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-highlight {
  margin: 8px 0;
  display: block;
  padding: 10px 16px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #f472b6;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.pitfall-text {
  color: #cbd5e1;
}

.challenge-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .given-grid { grid-template-columns: 1fr 1fr 1fr; }
  .step-content { margin-left: 0; margin-top: 8px; }
  .final-answer-value { font-size: 1.7rem; }
  .final-options { gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.95rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- NASLOV -->
  <h1>Rastojanje izmedju zize parabole i tangente</h1>
  <p class="subtitle">Odredjivanje parametra parabole iz uslova tangentnosti i primena formule za rastojanje tacke od prave</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</div>
    <div class="problem-text">
      Rastojanje izmedju zize parabole \(y^2 = 2px\) i njene tangente \(y = x + 1\) jednako je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(2\sqrt{3}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\sqrt{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2\sqrt{2}\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <p class="plan-text">
      Koristimo cinjenicu da je data prava tangenta parabole. Zamenom \(y = x + 1\) u jednacinu parabole
      dobijamo kvadratnu jednacinu cija diskriminanta mora biti nula (uslov tangentnosti).
      Iz toga odredjujemo parametar \(p\), a samim tim i polozaj zize.
      Na kraju primenjujemo formulu za rastojanje tacke od prave.
    </p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Parabola \(y^2 = 2px\) &mdash; osnovni elementi</summary>
      <p style="margin-top: 8px;">
        Parabola \(y^2 = 2px\) (gde je \(p > 0\)) ima:
        <ul style="margin: 8px 0 0 20px;">
          <li>Teme u koordinatnom pocetku \(O(0, 0)\)</li>
          <li>Zizu u tacki \(F\!\left(\dfrac{p}{2},\, 0\right)\)</li>
          <li>Direktrisu \(x = -\dfrac{p}{2}\)</li>
        </ul>
      </p>
    </details>
    <details>
      <summary>Uslov tangentnosti prave i parabole</summary>
      <p style="margin-top: 8px;">
        Prava je tangenta krive ako je <strong>dodiruje u tacno jednoj tacki</strong>.
        Zamenom jednacine prave u jednacinu parabole dobijamo kvadratnu jednacinu.
        Uslov tangentnosti je da diskriminanta te kvadratne jednacine bude jednaka nuli:
        \[D = 0\]
        Alternativno, tangenta parabole \(y^2 = 2px\) sa koeficijentom pravca \(m \neq 0\) ima oblik
        \(y = mx + \dfrac{p}{2m}\).
      </p>
    </details>
    <details>
      <summary>Rastojanje tacke od prave</summary>
      <p style="margin-top: 8px;">
        Rastojanje tacke \(M(x_0, y_0)\) od prave \(Ax + By + C = 0\) je:
        \[d = \frac{|Ax_0 + By_0 + C|}{\sqrt{A^2 + B^2}}\]
      </p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Graficki prikaz</div>
    <canvas id="diagram-canvas" width="700" height="500"></canvas>
    <p class="canvas-caption">Parabola \(y^2 = 4x\), tangenta \(y = x + 1\), ziza \(F(1,\, 0)\) i rastojanje \(d = \sqrt{2}\).</p>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Odrediti parametar \(p\) iz uslova tangentnosti</div>
      </div>
      <div class="step-content">
        <p>Zamenimo \(y = x + 1\) u jednacinu parabole \(y^2 = 2px\):</p>
        <div class="math-highlight">
          \[(x + 1)^2 = 2px\]
        </div>
        <p>Razvijemo levu stranu:</p>
        <div class="math-highlight">
          \[x^2 + 2x + 1 = 2px\]
        </div>
        <p>Prebacimo sve na jednu stranu:</p>
        <div class="math-highlight">
          \[x^2 + (2 - 2p)x + 1 = 0\]
        </div>
        <p>Posto je prava tangenta parabole, ova kvadratna jednacina ima tacno jedno resenje, pa diskriminanta mora biti nula:</p>
        <div class="math-highlight">
          \[D = (2 - 2p)^2 - 4 \cdot 1 \cdot 1 = 0\]
        </div>
        <div class="math-highlight">
          \[4 - 8p + 4p^2 - 4 = 0\]
        </div>
        <div class="math-highlight">
          \[4p^2 - 8p = 0 \quad \Longrightarrow \quad 4p(p - 2) = 0\]
        </div>
        <p>Odavde: \(p = 0\) ili \(p = 2\). Posto \(p = 0\) ne daje parabolu (degenerisani slucaj), uzimamo:</p>
        <div class="math-highlight">
          \[\boxed{p = 2}\]
        </div>

        <details>
          <summary>&#9989; Alternativni pristup: formula za tangentu</summary>
          <p style="margin-top: 8px;">
            Tangenta parabole \(y^2 = 2px\) sa koeficijentom pravca \(m\) ima oblik
            \(y = mx + \dfrac{p}{2m}\). Za nasu tangentu \(y = x + 1\) vazi \(m = 1\) i slobodan clan je \(1\).
            Dakle: \(\dfrac{p}{2 \cdot 1} = 1\), odakle \(p = 2\).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Odrediti jednacinu parabole i polozaj zize</div>
      </div>
      <div class="step-content">
        <p>Za \(p = 2\), jednacina parabole glasi:</p>
        <div class="math-highlight">
          \[y^2 = 2 \cdot 2 \cdot x = 4x\]
        </div>
        <p>Ziza parabole \(y^2 = 2px\) se nalazi u tacki \(F\!\left(\dfrac{p}{2},\, 0\right)\), dakle:</p>
        <div class="math-highlight">
          \[F\!\left(\frac{2}{2},\, 0\right) = F(1,\, 0)\]
        </div>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Zapisati tangentu u opstem obliku</div>
      </div>
      <div class="step-content">
        <p>Tangenta \(y = x + 1\) u opstem obliku prave \(Ax + By + C = 0\):</p>
        <div class="math-highlight">
          \[x - y + 1 = 0\]
        </div>
        <p>Koeficijenti: \(A = 1,\; B = -1,\; C = 1\).</p>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Izracunati rastojanje od zize do tangente</div>
      </div>
      <div class="step-content">
        <p>Primenjujemo formulu za rastojanje tacke \(F(1, 0)\) od prave \(x - y + 1 = 0\):</p>
        <div class="math-highlight">
          \[d = \frac{|A \cdot x_F + B \cdot y_F + C|}{\sqrt{A^2 + B^2}} = \frac{|1 \cdot 1 + (-1) \cdot 0 + 1|}{\sqrt{1^2 + (-1)^2}}\]
        </div>
        <div class="math-highlight">
          \[d = \frac{|1 + 0 + 1|}{\sqrt{1 + 1}} = \frac{2}{\sqrt{2}} = \frac{2\sqrt{2}}{2} = \sqrt{2}\]
        </div>

        <details>
          <summary>&#9989; Detaljno pojednostavljenje razlomka</summary>
          <p style="margin-top: 8px;">
            Racionalizujemo imenilac:
            \[\frac{2}{\sqrt{2}} = \frac{2}{\sqrt{2}} \cdot \frac{\sqrt{2}}{\sqrt{2}} = \frac{2\sqrt{2}}{2} = \sqrt{2}\]
            Alternativno: \(\dfrac{2}{\sqrt{2}} = \dfrac{\sqrt{4}}{\sqrt{2}} = \sqrt{\dfrac{4}{2}} = \sqrt{2}\).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">5</div>
        <div class="step-title">Verifikacija: tacka dodira</div>
      </div>
      <div class="step-content">
        <p>Proverimo rezultat nalazeci tacku dodira. Iz koraka 1, za \(p = 2\):</p>
        <div class="math-highlight">
          \[x^2 + (2 - 4)x + 1 = 0 \quad \Longrightarrow \quad x^2 - 2x + 1 = 0 \quad \Longrightarrow \quad (x - 1)^2 = 0\]
        </div>
        <p>Dakle, \(x = 1\), a \(y = x + 1 = 2\). Tacka dodira je \(T(1,\, 2)\).</p>
        <p>Provera da \(T\) lezi na paraboli: \(y^2 = 4 = 4 \cdot 1 = 4x\). &#10004;</p>

        <details>
          <summary>&#9989; Provera tangente pomocu izvoda</summary>
          <p style="margin-top: 8px;">
            Iz \(y^2 = 4x\) implicitnim diferenciranjem: \(2y \cdot y' = 4\), pa \(y' = \dfrac{2}{y}\).
            U tacki \(T(1, 2)\): \(y' = \dfrac{2}{2} = 1\).
            Jednacina tangente: \(y - 2 = 1 \cdot (x - 1)\), tj. \(y = x + 1\). &#10004;
          </p>
        </details>
      </div>
    </div>
  </div>

  <!-- KLJUCNI UVID -->
  <div class="key-insight">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>
      Kljuc zadatka je prepoznati da parametar \(p\) nije dat eksplicitno, vec ga treba odrediti
      iz cinjenice da je \(y = x + 1\) tangenta parabole. Uslov tangentnosti (diskriminanta jednaka nuli)
      daje \(p = 2\). Tek nakon toga mozemo naci zizu \(F(1,\, 0)\) i primeniti formulu za rastojanje.
      Postoji i elegantnija formula: tangenta parabole \(y^2 = 2px\) sa nagibom \(m\) ima oblik
      \(y = mx + \dfrac{p}{2m}\), iz cega se \(p\) dobija direktno poredjanjem slobodnih clanova.
    </p>
  </div>

  <!-- KONACAN ODGOVOR -->
  <div class="card final-answer-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">&#127919;</span> Konacan odgovor</div>
    <p style="color: #94a3b8; margin-bottom: 8px;">Rastojanje izmedju zize parabole i njene tangente je:</p>
    <div class="final-answer-value">\(\sqrt{2}\)</div>
    <div class="final-options">
      <div class="final-option">(A) \(2\sqrt{3}\)</div>
      <div class="final-option correct-option">(B) \(\sqrt{2}\)</div>
      <div class="final-option">(C) \(2\)</div>
      <div class="final-option">(D) \(4\)</div>
      <div class="final-option">(E) \(2\sqrt{2}\)</div>
    </div>
    <p class="verification-note">
      Parabola: \(y^2 = 4x\), ziza: \(F(1,\, 0)\), tangenta: \(x - y + 1 = 0\), tacka dodira: \(T(1,\, 2)\). &#10004;
    </p>
  </div>

  <!-- CESTE GRESKE -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Pretpostaviti konkretnu vrednost \(p\):</strong>
        <span class="pitfall-text">
          Neki studenti uzmu \(p = 1\) bez provere, sto daje pogresan polozaj zize \(F(\tfrac{1}{2}, 0)\)
          i pogresan rezultat. Parametar \(p\) mora se odrediti iz uslova da je data prava zaista tangenta.
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Mesanje \(\frac{p}{2}\) i \(p\) za polozaj zize:</strong>
        <span class="pitfall-text">
          Za parabolu \(y^2 = 2px\), ziza je u \(F\!\left(\tfrac{p}{2}, 0\right)\), a ne u \(F(p, 0)\).
          Ako se uzme \(F(2, 0)\) umesto \(F(1, 0)\), dobija se \(d = \tfrac{3}{\sqrt{2}} = \tfrac{3\sqrt{2}}{2}\),
          sto ne odgovara nijednom ponudjenom odgovoru.
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Pogresno pojednostavljenje \(\frac{2}{\sqrt{2}}\):</strong>
        <span class="pitfall-text">
          Rezultat \(\dfrac{2}{\sqrt{2}}\) treba pojednostaviti na \(\sqrt{2}\).
          Cesta greska je pisanje \(\dfrac{2}{\sqrt{2}} = 2\sqrt{2}\) (deljenje zamenjeno mnozenjem),
          sto bi vodilo na pogresan odgovor (E).
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Pogresan oblik jednacine prave:</strong>
        <span class="pitfall-text">
          Greska u prebacivanju \(y = x + 1\) u opsti oblik &mdash; na primer, pisanje \(x + y - 1 = 0\)
          umesto \(x - y + 1 = 0\) &mdash; menja rezultat u formuli za rastojanje.
        </span>
      </div>
    </div>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127947;</span> Dodatni izazov</div>
    <p class="challenge-text">
      Odrediti rastojanje izmedju zize parabole \(y^2 = 2px\) i njene tangente \(y = 2x + \dfrac{1}{2}\).
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="margin-top: 8px;">
        Postupak je isti: iz formule za tangentu \(y = mx + \dfrac{p}{2m}\) sa \(m = 2\) i slobodnim clanom
        \(\dfrac{1}{2}\), dobijamo \(\dfrac{p}{4} = \dfrac{1}{2}\), tj. \(p = 2\).
        Ziza je ponovo \(F(1, 0)\). Tangenta u opstem obliku: \(2x - y + \dfrac{1}{2} = 0\), tj. \(4x - 2y + 1 = 0\).
        Rastojanje: \(d = \dfrac{|4 \cdot 1 - 2 \cdot 0 + 1|}{\sqrt{16 + 4}} = \dfrac{5}{\sqrt{20}} = \dfrac{5}{2\sqrt{5}} = \dfrac{\sqrt{5}}{2}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  var canvas = document.getElementById('diagram-canvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');

  function draw() {
    var dpr = window.devicePixelRatio || 1;
    var rect = canvas.getBoundingClientRect();
    var CW = rect.width;
    var CH = Math.min(rect.height, CW * 0.72);
    canvas.width = CW * dpr;
    canvas.height = CH * dpr;
    canvas.style.height = CH + 'px';
    ctx.scale(dpr, dpr);
    var W = CW;
    var H = CH;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    var mLeft = 56;
    var mRight = 30;
    var mTop = 28;
    var mBottom = 44;
    var plotW = W - mLeft - mRight;
    var plotH = H - mTop - mBottom;

    var xMin = -2;
    var xMax = 6;
    var yMin = -3.5;
    var yMax = 5.5;

    function toScreen(x, y) {
      return [
        mLeft + (x - xMin) / (xMax - xMin) * plotW,
        mTop + (1 - (y - yMin) / (yMax - yMin)) * plotH
      ];
    }

    // Background for plot area
    ctx.fillStyle = '#0d1829';
    ctx.beginPath();
    if (ctx.roundRect) {
      ctx.roundRect(mLeft, mTop, plotW, plotH, 8);
    } else {
      ctx.rect(mLeft, mTop, plotW, plotH);
    }
    ctx.fill();

    // Grid lines
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = '#1e3a5f';
    ctx.lineWidth = 0.7;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      var gp1 = toScreen(gx, yMin);
      var gp2 = toScreen(gx, yMax);
      ctx.beginPath();
      ctx.moveTo(gp1[0], gp1[1]);
      ctx.lineTo(gp2[0], gp2[1]);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
      var gp3 = toScreen(xMin, gy);
      var gp4 = toScreen(xMax, gy);
      ctx.beginPath();
      ctx.moveTo(gp3[0], gp3[1]);
      ctx.lineTo(gp4[0], gp4[1]);
      ctx.stroke();
    }
    ctx.setLineDash([]);

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    var ax0 = toScreen(xMin, 0);
    var ax1 = toScreen(xMax, 0);
    ctx.beginPath();
    ctx.moveTo(ax0[0], ax0[1]);
    ctx.lineTo(ax1[0], ax1[1]);
    ctx.stroke();
    var ay0 = toScreen(0, yMin);
    var ay1 = toScreen(0, yMax);
    ctx.beginPath();
    ctx.moveTo(ay0[0], ay0[1]);
    ctx.lineTo(ay1[0], ay1[1]);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var tx = Math.ceil(xMin); tx <= Math.floor(xMax); tx++) {
      if (tx === 0) continue;
      var tp = toScreen(tx, 0);
      ctx.beginPath();
      ctx.moveTo(tp[0], tp[1] - 3);
      ctx.lineTo(tp[0], tp[1] + 3);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillStyle = '#64748b';
      ctx.fillText('' + tx, tp[0], tp[1] + 5);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (var ty = Math.ceil(yMin); ty <= Math.floor(yMax); ty++) {
      if (ty === 0) continue;
      var tp2 = toScreen(0, ty);
      ctx.beginPath();
      ctx.moveTo(tp2[0] - 3, tp2[1]);
      ctx.lineTo(tp2[0] + 3, tp2[1]);
      ctx.strokeStyle = '#475569';
      ctx.lineWidth = 1;
      ctx.stroke();
      ctx.fillStyle = '#64748b';
      ctx.fillText('' + ty, tp2[0] - 6, tp2[1]);
    }

    // Axis names
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'italic 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    var xLabel = toScreen(xMax, 0);
    ctx.fillText('x', xLabel[0] + 6, xLabel[1]);
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    var yLabel = toScreen(0, yMax);
    ctx.fillText('y', yLabel[0], yLabel[1] - 6);

    // Clip to plot area
    ctx.save();
    ctx.beginPath();
    ctx.rect(mLeft, mTop, plotW, plotH);
    ctx.clip();

    // Draw directrix x = -1
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    var dx0 = toScreen(-1, yMin);
    var dx1 = toScreen(-1, yMax);
    ctx.beginPath();
    ctx.moveTo(dx0[0], dx0[1]);
    ctx.lineTo(dx1[0], dx1[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label directrix
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    var labelDx = toScreen(-1, yMax - 0.3);
    ctx.fillText('x = \u22121', labelDx[0], labelDx[1]);

    // Draw parabola y^2 = 4x => x = y^2/4
    ctx.beginPath();
    var N = 500;
    var started = false;
    for (var i = 0; i <= N; i++) {
      var yy = yMin + (yMax - yMin) * i / N;
      var xx = yy * yy / 4;
      if (xx > xMax + 1) continue;
      var sp = toScreen(xx, yy);
      if (!started) {
        ctx.moveTo(sp[0], sp[1]);
        started = true;
      } else {
        ctx.lineTo(sp[0], sp[1]);
      }
    }
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.stroke();

    // Label parabola
    var labelP = toScreen(3.5, 3.9);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('y\u00B2 = 4x', labelP[0], labelP[1]);

    // Draw tangent line y = x + 1
    var tl0 = toScreen(xMin, xMin + 1);
    var tl1 = toScreen(yMax - 1, yMax);
    ctx.beginPath();
    ctx.moveTo(tl0[0], tl0[1]);
    ctx.lineTo(tl1[0], tl1[1]);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Label tangent
    var labelT = toScreen(3.0, 4.4);
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('y = x + 1', labelT[0], labelT[1]);

    ctx.restore(); // Remove clip

    // Draw touch point T(1, 2)
    var tPt = toScreen(1, 2);
    var grd2 = ctx.createRadialGradient(tPt[0], tPt[1], 0, tPt[0], tPt[1], 16);
    grd2.addColorStop(0, 'rgba(52, 211, 153, 0.35)');
    grd2.addColorStop(1, 'rgba(52, 211, 153, 0)');
    ctx.beginPath();
    ctx.arc(tPt[0], tPt[1], 16, 0, 2 * Math.PI);
    ctx.fillStyle = grd2;
    ctx.fill();

    ctx.beginPath();
    ctx.arc(tPt[0], tPt[1], 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#34d399';
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('T(1, 2)', tPt[0] + 10, tPt[1] - 6);

    // Draw focus point F(1, 0)
    var fp = toScreen(1, 0);
    var grd = ctx.createRadialGradient(fp[0], fp[1], 0, fp[0], fp[1], 18);
    grd.addColorStop(0, 'rgba(250, 204, 21, 0.4)');
    grd.addColorStop(1, 'rgba(250, 204, 21, 0)');
    ctx.beginPath();
    ctx.arc(fp[0], fp[1], 18, 0, 2 * Math.PI);
    ctx.fillStyle = grd;
    ctx.fill();

    ctx.beginPath();
    ctx.arc(fp[0], fp[1], 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#facc15';
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = '#facc15';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('F(1, 0)', fp[0] + 10, fp[1] + 4);

    // Foot of perpendicular from F(1,0) to line x - y + 1 = 0
    // P(0, 1)
    var pp = toScreen(0, 1);

    // Draw perpendicular distance line from F to foot P
    ctx.setLineDash([5, 4]);
    ctx.strokeStyle = '#facc15';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(fp[0], fp[1]);
    ctx.lineTo(pp[0], pp[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Small right angle mark at foot P
    var sq = 8;
    var dxF = sq / Math.sqrt(2);
    var dyF = sq / Math.sqrt(2);
    ctx.strokeStyle = '#facc15';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(pp[0] + dxF, pp[1] + dyF);
    ctx.lineTo(pp[0] + dxF + dxF, pp[1] + dyF - dyF);
    ctx.lineTo(pp[0] + dxF, pp[1] - dyF);
    ctx.stroke();

    // Label foot P
    ctx.fillStyle = '#facc15';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'bottom';
    ctx.fillText('P(0, 1)', pp[0] - 8, pp[1] - 6);

    // Foot point
    ctx.beginPath();
    ctx.arc(pp[0], pp[1], 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Distance label at midpoint
    var midX = (fp[0] + pp[0]) / 2;
    var midY = (fp[1] + pp[1]) / 2;
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('d = \u221A2', midX + 10, midY - 2);

    // Title in canvas
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    ctx.fillText('Parabola y\u00B2 = 4x sa tangentom i zizom', mLeft + 8, mTop + 8);

    // Answer label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('d = \u221A2 \u2713', W - mRight - 8, mTop + 8);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Rastojanje izmedju zize parabole i tangente",
  "subject": "math",
  "unit": "analytic_geometry",
  "topic_tags": ["parabola", "tangenta", "ziza", "rastojanje tacke od prave", "uslov tangentnosti", "diskriminanta", "konike"]
}
BRAINSPARK_META-->