<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rastojanje žiže parabole od tangente</title>

  <script type="text/info" id="logic-scratchpad">
    Zadatak: Parabola y^2 = 2px, tangenta y = x + 1.
    Naći rastojanje između žiže i tangente.

    Korak 1: Odrediti p iz uslova tangencije.
    Opšti oblik tangente parabole y^2 = 2px sa koeficijentom pravca m:
      y = mx + p/(2m)
    Tangenta je y = x + 1, dakle m = 1, slobodni clan = 1.
    Uslov: p/(2m) = 1  =>  p/(2*1) = 1  =>  p = 2.

    Korak 2: Koordinate žiže.
    Žiža parabole y^2 = 2px je F(p/2, 0) = F(1, 0).

    Korak 3: Rastojanje od tačke F(1, 0) do prave x - y + 1 = 0.
    Tangenta y = x + 1 => x - y + 1 = 0.
    Formula: d = |ax0 + by0 + c| / sqrt(a^2 + b^2)
           = |1*1 + (-1)*0 + 1| / sqrt(1 + 1)
           = |1 + 0 + 1| / sqrt(2)
           = 2 / sqrt(2)
           = sqrt(2)

    Odgovor: B) sqrt(2)
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      padding: 24px 16px 48px;
      line-height: 1.6;
    }

    .container {
      max-width: 820px;
      margin: 0 auto;
    }

    .title-section {
      text-align: center;
      margin-bottom: 32px;
    }

    .title-section h1 {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .title-section p {
      color: #94a3b8;
      font-size: 1rem;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 24px;
      margin-bottom: 20px;
    }

    .card h2 {
      font-size: 1.1rem;
      font-weight: 600;
      color: #60a5fa;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card h2 .icon {
      font-size: 1.2rem;
    }

    .problem-statement {
      border-left: 4px solid #60a5fa;
    }

    .problem-text {
      font-size: 1.05rem;
      color: #e2e8f0;
      margin-bottom: 18px;
      line-height: 1.8;
    }

    .given-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin-top: 12px;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 10px 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 0.95rem;
      color: #cbd5e1;
    }

    .given-item.answer-option:hover {
      border-color: #60a5fa;
      color: #60a5fa;
      background: #1e293b;
    }

    .given-item.answer-option.correct {
      border-color: #34d399;
      background: rgba(52, 211, 153, 0.12);
      color: #4ade80;
      font-weight: 700;
    }

    .plan-text {
      color: #cbd5e1;
      font-size: 1rem;
    }

    details {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      margin-top: 4px;
    }

    details summary {
      cursor: pointer;
      padding: 12px 16px;
      font-weight: 600;
      color: #a78bfa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    details summary::-webkit-details-marker { display: none; }

    details summary::before {
      content: '\25B6';
      font-size: 0.7rem;
      transition: transform 0.2s;
      color: #a78bfa;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .theory-body {
      padding: 0 16px 16px;
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .theory-body p {
      margin-bottom: 10px;
    }

    .theory-body .rule {
      background: #1e293b;
      border-left: 3px solid #a78bfa;
      padding: 8px 14px;
      border-radius: 0 8px 8px 0;
      margin: 8px 0;
      font-size: 0.92rem;
    }

    .canvas-wrapper {
      border-radius: 10px;
      overflow: hidden;
      background: #0f172a;
      border: 1px solid #334155;
    }

    canvas {
      display: block;
      width: 100%;
      touch-action: none;
    }

    .step-list {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .step {
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }

    .step-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.95rem;
      flex-shrink: 0;
      color: #0f172a;
    }

    .step-content {
      flex: 1;
    }

    .step-content h3 {
      font-size: 0.95rem;
      font-weight: 600;
      color: #60a5fa;
      margin-bottom: 6px;
    }

    .step-content p {
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .checkpoint-details {
      margin-top: 10px;
    }

    .insight-box {
      background: linear-gradient(135deg, rgba(167,139,250,0.12), rgba(96,165,250,0.12));
      border: 1px solid #a78bfa;
      border-radius: 12px;
      padding: 18px 22px;
      color: #e2e8f0;
    }

    .insight-box p {
      font-size: 0.97rem;
      line-height: 1.7;
    }

    .final-answer-box {
      border: 2px solid #34d399;
      border-radius: 14px;
      padding: 22px 24px;
      background: rgba(52, 211, 153, 0.08);
    }

    .final-answer-box h2 {
      color: #4ade80;
    }

    .final-answer-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin-top: 12px;
    }

    .final-opt {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 10px 8px;
      text-align: center;
      font-size: 0.95rem;
      color: #94a3b8;
    }

    .final-opt.correct {
      border-color: #34d399;
      background: rgba(52, 211, 153, 0.15);
      color: #4ade80;
      font-weight: 700;
    }

    .pitfalls-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .pitfalls-list li {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .pitfalls-list li::before {
      content: '!';
      background: #f472b6;
      color: #0f172a;
      font-weight: 900;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 0.8rem;
    }

    .challenge-box {
      background: rgba(244,114,182,0.08);
      border: 1px solid #f472b6;
      border-radius: 12px;
      padding: 18px 22px;
      color: #e2e8f0;
      font-size: 0.95rem;
    }

    .challenge-box h2 {
      color: #f472b6;
    }

    @media (max-width: 700px) {
      .title-section h1 { font-size: 1.5rem; }
      .given-grid { grid-template-columns: repeat(3, 1fr); }
      .final-answer-grid { grid-template-columns: repeat(3, 1fr); }
      .card { padding: 16px; }
    }
  </style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <div class="title-section">
    <h1>Rastojanje zize parabole od tangente</h1>
    <p>Primena uslova tangencije i formule za rastojanje tacke od prave</p>
  </div>

  <!-- Postavljanje zadatka -->
  <div class="card problem-statement">
    <h2><span class="icon">&#x1F4CB;</span> Zadatak</h2>
    <div class="problem-text">
      Rastojanje izmedju zize parabole \(y^2 = 2px\) i njene tangente \(y = x + 1\) jednako je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">A) \(2\sqrt{3}\)</div>
      <div class="given-item answer-option" data-option="B">B) \(\sqrt{2}\)</div>
      <div class="given-item answer-option" data-option="C">C) \(2\)</div>
      <div class="given-item answer-option" data-option="D">D) \(4\)</div>
      <div class="given-item answer-option" data-option="E">E) \(2\sqrt{2}\)</div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2><span class="icon">&#x1F5FA;</span> Plan resavanja</h2>
    <p class="plan-text">
      Iz uslova tangencije odredjujemo parametar \(p\), a zatim nalazimo koordinate zize \(F\!\left(\tfrac{p}{2},\,0\right)\).
      Na kraju primenjujemo formulu za rastojanje tacke od prave da bismo izracunali trazeno rastojanje.
    </p>
  </div>

  <!-- Teorija -->
  <div class="card">
    <h2><span class="icon">&#x1F4D6;</span> Podsetnik iz teorije</h2>
    <details>
      <summary>Prikazi teorijska pravila o paraboli i tangentama</summary>
      <div class="theory-body">
        <div class="rule">
          <strong>Standardna parabola:</strong>
          \(y^2 = 2px\) ima zizu \(F\!\left(\tfrac{p}{2},\,0\right)\) i direktrisu \(x = -\tfrac{p}{2}\).
        </div>
        <div class="rule">
          <strong>Uslov tangencije:</strong>
          Prava \(y = mx + c\) tangira parabolu \(y^2 = 2px\) ako i samo ako
          \[c = \frac{p}{2m}.\]
        </div>
        <div class="rule">
          <strong>Rastojanje tacke od prave:</strong>
          Rastojanje tacke \(T(x_0, y_0)\) od prave \(ax + by + c = 0\) je
          \[d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}}.\]
        </div>
      </div>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="card">
    <h2><span class="icon">&#x1F3A8;</span> Vizuelni prikaz</h2>
    <div class="canvas-wrapper">
      <canvas id="diagramCanvas" width="760" height="400"></canvas>
    </div>
  </div>

  <!-- Resenje korak po korak -->
  <div class="card">
    <h2><span class="icon">&#x1F522;</span> Resenje korak po korak</h2>
    <div class="step-list">

      <div class="step">
        <div class="step-badge">1</div>
        <div class="step-content">
          <h3>Pisanje prave u obliku pogodnom za uslov tangencije</h3>
          <p>
            Tangenta je \(y = x + 1\), dakle koeficijent pravca je \(m = 1\),
            a slobodan clan je \(c = 1\).
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">2</div>
        <div class="step-content">
          <h3>Odredjivanje parametra \(p\) iz uslova tangencije</h3>
          <p>
            Prava \(y = mx + c\) tangira \(y^2 = 2px\) kada je \(c = \dfrac{p}{2m}\).
            Uvrstavamo \(m = 1\), \(c = 1\):
            \[1 = \frac{p}{2 \cdot 1} \implies p = 2.\]
          </p>
          <details class="checkpoint-details">
            <summary>Provera: zasto vazi uslov tangencije?</summary>
            <div class="theory-body">
              <p>
                Supstitucijom \(y = x + 1\) u \(y^2 = 2px\) dobijamo:
                \[(x+1)^2 = 2px \implies x^2 + 2x + 1 = 2px \implies x^2 + (2-2p)x + 1 = 0.\]
                Da bi prava bila tangenta, discriminanta mora biti nula:
                \[\Delta = (2 - 2p)^2 - 4 = 0 \implies 4(1-p)^2 = 4 \implies (1-p)^2 = 1.\]
                Dakle \(1 - p = \pm 1\), sto daje \(p = 0\) (odbacujemo, jer \(p \neq 0\)) ili \(p = 2\). Potvrdjeno!
              </p>
            </div>
          </details>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">3</div>
        <div class="step-content">
          <h3>Koordinate zize parabole</h3>
          <p>
            Za \(p = 2\), ziza je \(F\!\left(\dfrac{p}{2},\, 0\right) = F(1,\, 0)\).
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">4</div>
        <div class="step-content">
          <h3>Pisanje tangente u opstem obliku</h3>
          <p>
            \(y = x + 1\) prepisujemo kao \(x - y + 1 = 0\),
            dakle \(a = 1\), \(b = -1\), \(c = 1\).
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">5</div>
        <div class="step-content">
          <h3>Primena formule za rastojanje</h3>
          <p>
            Rastojanje tacke \(F(1, 0)\) od prave \(x - y + 1 = 0\):
            \[
              d = \frac{|1 \cdot 1 + (-1) \cdot 0 + 1|}{\sqrt{1^2 + (-1)^2}}
                = \frac{|1 + 0 + 1|}{\sqrt{2}}
                = \frac{2}{\sqrt{2}}
                = \frac{2\sqrt{2}}{2}
                = \sqrt{2}.
            \]
          </p>
          <details class="checkpoint-details">
            <summary>Detaljno pojednostavljenje razlomka</summary>
            <div class="theory-body">
              <p>
                \(\dfrac{2}{\sqrt{2}} = \dfrac{2}{\sqrt{2}} \cdot \dfrac{\sqrt{2}}{\sqrt{2}} = \dfrac{2\sqrt{2}}{2} = \sqrt{2}.\)
                Alternativno: \(\dfrac{2}{\sqrt{2}} = \sqrt{4} \cdot \dfrac{1}{\sqrt{2}} = \sqrt{\dfrac{4}{2}} = \sqrt{2}\).
              </p>
            </div>
          </details>
        </div>
      </div>

    </div>
  </div>

  <!-- Kljucna napomena -->
  <div class="card">
    <h2><span class="icon">&#x1F4A1;</span> Kljucna napomena</h2>
    <div class="insight-box">
      <p>
        Postoji elegantna veza izmedju parametra parabole i uslova tangencije:
        za parabolu \(y^2 = 2px\), svaka tangenta sa koeficijentom pravca \(m \neq 0\)
        ima oblik \(y = mx + \tfrac{p}{2m}\). Slobodan clan jedinstveno odredjuje \(p\).
        Cim znamo \(p\), ziza je odmah odredjena — ne moramo resavati nikakvu drugu jednacinu.
      </p>
    </div>
  </div>

  <!-- Konacni odgovor -->
  <div class="card final-answer-box">
    <h2><span class="icon">&#x2705;</span> Konacni odgovor</h2>
    <p style="color:#cbd5e1; margin-bottom:4px;">
      Iz uslova tangencije: \(p = 2\), ziza \(F(1,\,0)\).
      Rastojanje od prave \(x - y + 1 = 0\):
      \[d = \frac{|1 + 1|}{\sqrt{2}} = \frac{2}{\sqrt{2}} = \mathbf{\sqrt{2}}.\]
    </p>
    <div class="final-answer-grid" style="margin-top:16px;">
      <div class="final-opt">A) \(2\sqrt{3}\)</div>
      <div class="final-opt correct">B) \(\sqrt{2}\) &#x2713;</div>
      <div class="final-opt">C) \(2\)</div>
      <div class="final-opt">D) \(4\)</div>
      <div class="final-opt">E) \(2\sqrt{2}\)</div>
    </div>
  </div>

  <!-- Ceste greske -->
  <div class="card">
    <h2><span class="icon">&#x26A0;</span> Ceste greske</h2>
    <ul class="pitfalls-list">
      <li>Zanemarivanje uslova tangencije i pretpostavljanje da je \(p\) dat direktno iz jednacine parabole bez izracunavanja.</li>
      <li>Pogresno odredjivanje koordinata zize: za \(y^2 = 2px\) ziza je \(\left(\tfrac{p}{2}, 0\right)\), a ne \((p, 0)\) ni \((2p, 0)\).</li>
      <li>Pogresno pisanje prave u opstem obliku: \(y = x + 1\) postaje \(x - y + 1 = 0\), a ne \(-x + y - 1 = 0\) (mada oba daju isti rezultat u formuli, vazno je biti pazan sa predznacima).</li>
      <li>Zaboravljanje da se \(\dfrac{2}{\sqrt{2}}\) uprosti na \(\sqrt{2}\), pa se odabere odgovor \(2\sqrt{2}\) ili \(2\).</li>
    </ul>
  </div>

  <!-- Izazov -->
  <div class="card">
    <h2><span class="icon">&#x1F3C6;</span> Dodatni izazov</h2>
    <div class="challenge-box">
      <p>
        Nadjite rastojanje izmedju zize parabole \(x^2 = 4py\) i njene tangente \(y = 2x - 3\).
        <br><br>
        (Savet: za horizontalnu parabolu \(x^2 = 4py\) uslov tangencije za pravu \(y = mx + c\)
        je \(c = -pm^2\), a ziza je u tacki \((0,\,p)\).)
      </p>
    </div>
  </div>

</div><!-- /container -->

<script>
(() => {
  // --- Interaktivni dijagram ---
  const canvas = document.getElementById('diagramCanvas');
  const ctx = canvas.getContext('2d');
  const W = 760, H = 400;

  // Koordinatni sistem: centar = (originX, originY), skala px/jedinica
  const originX = 200, originY = 220, scale = 70;

  function toCanvas(x, y) {
    return [originX + x * scale, originY - y * scale];
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    const angle = Math.atan2(y2 - y1, x2 - x1);
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - 10 * Math.cos(angle - 0.35), y2 - 10 * Math.sin(angle - 0.35));
    ctx.lineTo(x2 - 10 * Math.cos(angle + 0.35), y2 - 10 * Math.sin(angle + 0.35));
    ctx.closePath();
    ctx.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Pozadina
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Mreza
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -2; gx <= 6; gx++) {
      const [cx] = toCanvas(gx, 0);
      ctx.beginPath(); ctx.moveTo(cx, 0); ctx.lineTo(cx, H); ctx.stroke();
    }
    for (let gy = -3; gy <= 3; gy++) {
      const [, cy] = toCanvas(0, gy);
      ctx.beginPath(); ctx.moveTo(0, cy); ctx.lineTo(W, cy); ctx.stroke();
    }

    // Ose
    drawArrow(originX - 20, originY, originX + 5.5 * scale, originY, '#475569');
    drawArrow(originX, originY + 30, originX, originY - 3.2 * scale, '#475569');

    // Oznake osa
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', originX + 5.5 * scale + 6, originY + 5);
    ctx.textAlign = 'center';
    ctx.fillText('y', originX, originY - 3.2 * scale - 10);

    // Vrednosti na osama
    ctx.fillStyle = '#64748b';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    for (let gx = -1; gx <= 5; gx++) {
      if (gx === 0) continue;
      const [cx] = toCanvas(gx, 0);
      ctx.textAlign = 'center';
      ctx.fillText(String(gx), cx, originY + 16);
    }
    for (let gy = -3; gy <= 3; gy++) {
      if (gy === 0) continue;
      const [, cy] = toCanvas(0, gy);
      ctx.textAlign = 'right';
      ctx.fillText(String(gy), originX - 6, cy + 4);
    }

    // Parabola y^2 = 4x  (p=2)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let py = -3.2; py <= 3.2; py += 0.02) {
      const px = py * py / 4; // y^2 = 4x => x = y^2/4
      const [cx, cy] = toCanvas(px, py);
      if (first) { ctx.moveTo(cx, cy); first = false; }
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Oznaka parabole
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const [lx, ly] = toCanvas(2.56, 3.2);
    ctx.fillText('y\u00B2 = 4x', lx + 4, ly - 4);

    // Tangenta y = x + 1, iscrtati od x = -1 do x = 4
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    const [tx0, ty0] = toCanvas(-1.5, -0.5);
    const [tx1, ty1] = toCanvas(3.5, 4.5);
    ctx.moveTo(tx0, ty0);
    ctx.lineTo(tx1, ty1);
    ctx.stroke();
    ctx.setLineDash([]);

    // Oznaka tangente
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const [ttx, tty] = toCanvas(2.6, 3.6);
    ctx.fillText('y = x + 1', ttx + 6, tty);

    // Ziza F(1, 0)
    const [fx, fy] = toCanvas(1, 0);
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(fx, fy, 7, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('F(1, 0)', fx + 10, fy - 10);

    // Teziste prave y = x + 1 najbliize tacki F(1,0):
    // Normala kroz F(1,0) na pravu x - y + 1 = 0 ima smer (1,-1),
    // parametarski: (1+t, -t), uvrstiti u x-y+1=0:
    // (1+t) - (-t) + 1 = 0 => 1+t+t+1 = 0 => 2t = -2 => t=-1
    // Najbliza tacka: (1+(-1), -(-1)) = (0, 1)
    const [nx, ny] = toCanvas(0, 1);

    // Normala (rastojanje)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath();
    ctx.moveTo(fx, fy);
    ctx.lineTo(nx, ny);
    ctx.stroke();
    ctx.setLineDash([]);

    // Tacka na pravoj najbliiza zizi
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(nx, ny, 5, 0, 2 * Math.PI);
    ctx.fill();

    // Oznaka rastojanja
    const midX = (fx + nx) / 2;
    const midY = (fy + ny) / 2;
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('d = \u221A2', midX - 8, midY - 6);

    // Legenda
    const legX = W - 200, legY = 20;
    ctx.fillStyle = 'rgba(30,41,59,0.92)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(legX, legY, 188, 80, 8);
    ctx.fill();
    ctx.stroke();

    ctx.font = '12px Segoe UI, system-ui, sans-serif';

    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath(); ctx.moveTo(legX + 10, legY + 20); ctx.lineTo(legX + 38, legY + 20); ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.textAlign = 'left';
    ctx.fillText('Parabola y\u00B2 = 4x', legX + 44, legY + 24);

    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([6, 4]);
    ctx.beginPath(); ctx.moveTo(legX + 10, legY + 42); ctx.lineTo(legX + 38, legY + 42); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Tangenta y = x + 1', legX + 44, legY + 46);

    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.beginPath(); ctx.moveTo(legX + 10, legY + 62); ctx.lineTo(legX + 38, legY + 62); ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#34d399';
    ctx.fillText('Rastojanje d = \u221A2', legX + 44, legY + 66);

    // Napomena
    ctx.fillStyle = '#475569';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Parabola: y\u00B2 = 2px sa p = 2, dakle y\u00B2 = 4x', 10, H - 10);
  }

  draw();

  // Skaliranje na resize
  window.addEventListener('resize', () => {
    const rect = canvas.getBoundingClientRect();
    canvas.style.width = '100%';
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Rastojanje zize parabole od tangente","subject":"math","unit":"geometry","topic_tags":["parabola","krivulje_drugog_reda","ziza","tangenta","rastojanje_od_prave","analiticka_geometrija"]}
BRAINSPARK_META-->
