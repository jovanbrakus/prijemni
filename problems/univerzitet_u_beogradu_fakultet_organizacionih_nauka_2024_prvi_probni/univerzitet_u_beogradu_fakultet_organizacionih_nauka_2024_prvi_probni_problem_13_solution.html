<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski izraz sa koplementnim uglovima</title>

<script type="text/info" id="logic-scratchpad">
Problem: Vrednost izraza (sin^2(21°) + sin(48°)) / (cos^2(21°) * sin(45°))

KORAK 1: Prepoznati koplementni ugao.
  sin(48°) = sin(90° - 42°) = cos(42°)
  cos(42°) = cos(2 * 21°)

KORAK 2: Primeniti formulu kosinusa dvostrukog ugla.
  cos(2 * 21°) = 1 - 2*sin^2(21°)

  Dakle: sin(48°) = 1 - 2*sin^2(21°)

KORAK 3: Zameniti u brojilac.
  sin^2(21°) + sin(48°)
  = sin^2(21°) + 1 - 2*sin^2(21°)
  = 1 - sin^2(21°)
  = cos^2(21°)    [Pitagorin identitet]

KORAK 4: Zameniti u ceo izraz.
  (sin^2(21°) + sin(48°)) / (cos^2(21°) * sin(45°))
  = cos^2(21°) / (cos^2(21°) * sin(45°))
  = 1 / sin(45°)

KORAK 5: Izracunati vrednost.
  sin(45°) = sqrt(2)/2

  1 / sin(45°) = 1 / (sqrt(2)/2) = 2 / sqrt(2) = 2 * sqrt(2) / 2 = sqrt(2)

VERIFIKACIJA:
  Numericka provjera:
  sin(21°) ≈ 0.3584, cos(21°) ≈ 0.9336, sin(48°) ≈ 0.7431, sin(45°) ≈ 0.7071
  Brojilac: sin^2(21°) + sin(48°) ≈ 0.1284 + 0.7431 = 0.8715
  Imenilac: cos^2(21°) * sin(45°) ≈ 0.8716 * 0.7071 ≈ 0.6161
  Izraz ≈ 0.8715 / 0.6161 ≈ 1.4142 ≈ sqrt(2). POTVRDJENO.

Tacan odgovor: A) sqrt(2).

Kljucni koraci:
  1. sin(48°) = cos(42°) = cos(2*21°) = 1 - 2*sin^2(21°)  [koplementni ugao + dupli ugao]
  2. Brojilac postaje cos^2(21°)  [Pitagorin identitet]
  3. cos^2(21°) se skrati  [kraticenje]
  4. 1/sin(45°) = sqrt(2)  [poznata vrednost]
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: all 0.3s ease;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
}

.answer-option {
  cursor: default;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-size: 1.1rem;
  text-align: center;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-note {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  padding: 12px 16px;
  background: rgba(51, 65, 85, 0.4);
  border-radius: 8px;
  text-align: left;
}

.chain-row {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin: 16px 0;
  font-size: 0.95rem;
}

.chain-item {
  background: rgba(51, 65, 85, 0.7);
  border: 1px solid #475569;
  border-radius: 8px;
  padding: 8px 14px;
  text-align: center;
}

.chain-arrow {
  color: #60a5fa;
  font-size: 1.2rem;
  font-weight: bold;
}

.chain-label {
  color: #94a3b8;
  font-size: 0.8rem;
  display: block;
  margin-bottom: 2px;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
  .chain-row {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Trigonometrijski izraz sa koplementnim uglovima</h1>
  <p class="subtitle">Trigonometrija — koplementni uglovi, formula dvostrukog ugla, Pitagorin identitet</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128203;</span> Tekst zadatka</div>
    <p style="font-size: 1.15rem; line-height: 1.8;">
      Vrednost izraza
      \[
        \frac{\sin^2 21° + \sin 48°}{\cos^2 21° \cdot \sin 45°}
      \]
      jednaka je:
    </p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( \sqrt{2} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 1 \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 2 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 2\sqrt{2} \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( \dfrac{1}{2} \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      Kljuc je prepoznati da je \(48° = 90° - 42° = 90° - 2 \cdot 21°\). To znaci da \(\sin 48° = \cos(2 \cdot 21°)\), sto mozemo razviti formulom kosinusa dvostrukog ugla. Na taj nacin ce brojilac da se uprosti u \(\cos^2 21°\), koji se skrati sa imeniocem, i ostace samo \(\frac{1}{\sin 45°}\).
    </p>
  </div>

  <!-- Theory -->
  <div class="card">
    <details>
      <summary>&#128208; Kljucne formule i teoreme</summary>
      <div class="detail-content">
        <p>Formule potrebne u ovom zadatku:</p>
        <ul style="margin: 12px 0 0 20px; list-style: none;">
          <li style="margin-bottom: 12px;">
            <strong>Koplementni uglovi:</strong>
            \[ \sin(90° - \varphi) = \cos\varphi \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Kosinus dvostrukog ugla:</strong>
            \[ \cos(2\varphi) = 1 - 2\sin^2\varphi \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Pitagorin trigonometrijski identitet:</strong>
            \[ \sin^2\varphi + \cos^2\varphi = 1 \quad\Longrightarrow\quad 1 - \sin^2\varphi = \cos^2\varphi \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Poznata vrednost:</strong>
            \[ \sin 45° = \frac{\sqrt{2}}{2} \]
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz: veza izmedju uglova 21°, 42° i 48°</div>
    <div class="canvas-wrapper">
      <canvas id="angleCanvas" width="680" height="420"></canvas>
    </div>
    <p class="canvas-caption">Dijagram prikazuje vezu: \(\sin 48° = \cos 42° = \cos(2 \cdot 21°) = 1 - 2\sin^2 21°\). Kliknite na dugmice da animirate transformacije.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128290;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Prepoznavanje koplementnog ugla</div>
        <p>Primetimo da je \(48° + 42° = 90°\), tj. \(48°\) i \(42°\) su koplementni uglovi. Primenjujemo vezu izmedju sinusa i kosinusa koplementnih uglova:</p>
        <div class="step-math">
          \[ \sin 48° = \sin(90° - 42°) = \cos 42° \]
        </div>
        <p>Dalje, primetimo da je \(42° = 2 \cdot 21°\), pa mozemo pisati:</p>
        <div class="step-math">
          \[ \sin 48° = \cos(2 \cdot 21°) \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Primena formule kosinusa dvostrukog ugla</div>
        <p>Koristimo formulu \(\cos(2\varphi) = 1 - 2\sin^2\varphi\) sa \(\varphi = 21°\):</p>
        <div class="step-math">
          \[ \cos(2 \cdot 21°) = 1 - 2\sin^2 21° \]
        </div>
        <p>Dakle:</p>
        <div class="step-math">
          \[ \sin 48° = 1 - 2\sin^2 21° \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Postoje li jos oblici formule kosinusa dvostrukog ugla?</summary>
            <div class="detail-content">
              Da! Imamo tri ekvivalentna oblika:
              \[\cos(2\varphi) = \cos^2\varphi - \sin^2\varphi = 1 - 2\sin^2\varphi = 2\cos^2\varphi - 1\]
              Za ovaj zadatak najkorisniji je oblik \(1 - 2\sin^2\varphi\) jer nam u brojiocu stoji \(\sin^2 21°\).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Upravljanje brojioca — primena Pitagorinog identiteta</div>
        <p>Zamenjujemo dobijenu vezu za \(\sin 48°\) u brojilac:</p>
        <div class="step-math">
          \[ \sin^2 21° + \sin 48° = \sin^2 21° + (1 - 2\sin^2 21°) \]
        </div>
        <p>Sredimo algebarski izraz (otvorimo zagrade i skupimo slicne clanove):</p>
        <div class="step-math">
          \[ = \sin^2 21° + 1 - 2\sin^2 21° = 1 - \sin^2 21° \]
        </div>
        <p>Primenjujemo Pitagorin trigonometrijski identitet \(1 - \sin^2\varphi = \cos^2\varphi\):</p>
        <div class="step-math">
          \[ 1 - \sin^2 21° = \cos^2 21° \]
        </div>
        <p>Dakle, <strong>brojilac iznosi tacno \(\cos^2 21°\)</strong>.</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Kraticenje sa imeniocem</div>
        <p>Sada zamenjujemo u ceo izraz:</p>
        <div class="step-math">
          \[ \frac{\sin^2 21° + \sin 48°}{\cos^2 21° \cdot \sin 45°} = \frac{\cos^2 21°}{\cos^2 21° \cdot \sin 45°} \]
        </div>
        <p>Skratimo \(\cos^2 21°\) iz brojioca i imenioca (uz napomenu da je \(\cos 21° \neq 0\)):</p>
        <div class="step-math">
          \[ = \frac{1}{\sin 45°} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Smemo li skratiti cos^2(21°)?</summary>
            <div class="detail-content">
              Da. Posto je \(21°\) iz intervala \((0°, 90°)\), cosinus je strogo pozitivan: \(\cos 21° > 0\), a samim tim i \(\cos^2 21° > 0\). Kraticenje pozitivnim brojem je uvek dozvoljeno.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Izracunavanje konacne vrednosti</div>
        <p>Koristimo poznatu vrednost \(\sin 45° = \dfrac{\sqrt{2}}{2}\):</p>
        <div class="step-math">
          \[ \frac{1}{\sin 45°} = \frac{1}{\dfrac{\sqrt{2}}{2}} = \frac{2}{\sqrt{2}} \]
        </div>
        <p>Racionalizujemo imenilac mnozeci sa \(\dfrac{\sqrt{2}}{\sqrt{2}}\):</p>
        <div class="step-math">
          \[ \frac{2}{\sqrt{2}} = \frac{2\sqrt{2}}{\sqrt{2} \cdot \sqrt{2}} = \frac{2\sqrt{2}}{2} = \sqrt{2} \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Kako dobijamo sqrt(2) iz 2/sqrt(2)?</summary>
            <div class="detail-content">
              Vise nacina: (1) Mnozimo brojioc i imenilac sa \(\sqrt{2}\): \(\frac{2}{\sqrt{2}} \cdot \frac{\sqrt{2}}{\sqrt{2}} = \frac{2\sqrt{2}}{2} = \sqrt{2}\). (2) Direktno: \(\frac{2}{\sqrt{2}} = \frac{\sqrt{2} \cdot \sqrt{2}}{\sqrt{2}} = \sqrt{2}\). Oba nacina daju isti rezultat.
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Ceo zadatak se resava prepoznavanjem <strong>skrivene veze</strong> \(48° = 90° - 2 \cdot 21°\). Ona nam omogucava da sin(48°) izrazimo pomocu sin(21°), sto vodi do potpunog kraticenja brojioca i imenioca. Lanac transformacija:</p>
    <div class="chain-row">
      <div class="chain-item">
        <span class="chain-label">Polazni izraz</span>
        \(\sin^2 21° + \sin 48°\)
      </div>
      <div class="chain-arrow">&#8594;</div>
      <div class="chain-item">
        <span class="chain-label">Koplementni ugao</span>
        \(\sin 48° = \cos 42°\)
      </div>
      <div class="chain-arrow">&#8594;</div>
      <div class="chain-item">
        <span class="chain-label">Dupli ugao</span>
        \(\cos 42° = 1 - 2\sin^2 21°\)
      </div>
      <div class="chain-arrow">&#8594;</div>
      <div class="chain-item">
        <span class="chain-label">Pitagorin identitet</span>
        Brojilac \(= \cos^2 21°\)
      </div>
      <div class="chain-arrow">&#8594;</div>
      <div class="chain-item">
        <span class="chain-label">Rezultat</span>
        \(\dfrac{1}{\sin 45°} = \sqrt{2}\)
      </div>
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">
      \( \dfrac{\sin^2 21° + \sin 48°}{\cos^2 21° \cdot \sin 45°} = \sqrt{2} \)
    </div>
    <div class="answer-note">Tacan odgovor je (A)</div>
    <div class="final-options">
      <div class="final-option correct">(A) \( \sqrt{2} \)</div>
      <div class="final-option">(B) \( 1 \)</div>
      <div class="final-option">(C) \( 2 \)</div>
      <div class="final-option">(D) \( 2\sqrt{2} \)</div>
      <div class="final-option">(E) \( \dfrac{1}{2} \)</div>
    </div>
    <div class="verification-note">
      <strong>Numericka verifikacija:</strong>
      \(\sin 21° \approx 0{,}3584\), \(\cos 21° \approx 0{,}9336\), \(\sin 48° \approx 0{,}7431\), \(\sin 45° \approx 0{,}7071\).
      Brojilac: \(0{,}3584^2 + 0{,}7431 \approx 0{,}1284 + 0{,}7431 = 0{,}8715\).
      Imenilac: \(0{,}9336^2 \cdot 0{,}7071 \approx 0{,}8716 \cdot 0{,}7071 \approx 0{,}6161\).
      Kolicnik: \(0{,}8715 / 0{,}6161 \approx 1{,}4142 \approx \sqrt{2}\). Potvrdjeno!
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Neprimecivanje koplementnog ugla:</strong> Ako se ne prepozna da je \(48° + 42° = 90°\) i da je \(42° = 2 \cdot 21°\), zadatak postaje neracionalan. Uvek proverite da li su uglovi u zadatku medjusobno u nekoj vezi (zbir 90°, zbir 180°, dvostruki ugao...).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Pogresna forma formule dvostrukog ugla:</strong> Formula \(\cos(2\varphi) = 1 - 2\sin^2\varphi\) je specificni oblik. Ako se zaboravi koji oblik da se izabere, moze doci do pogresnog upravljanja. Birati onaj oblik koji odgovara funkcijama koje se vec nalaze u izrazu.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Greska pri racionalnoj racionalizaciji:</strong> \(\frac{2}{\sqrt{2}} \neq \frac{2}{2} = 1\). Treba pomnoziti i brojilac i imenilac sa \(\sqrt{2}\) i dobiti \(\frac{2\sqrt{2}}{2} = \sqrt{2}\), a ne 1.</p>
    </div>
  </div>

  <!-- Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Pokusaj da isti postupak primenis na izraz:</p>
    <div class="step-math" style="background: rgba(244, 114, 182, 0.05); border-color: rgba(244, 114, 182, 0.2);">
      \[ \frac{\sin^2 15° + \sin 60°}{\cos^2 15° \cdot \sin 45°} \]
    </div>
    <details>
      <summary>Pogledaj nagoveštaj</summary>
      <div class="detail-content">
        <p>Kljucna veza: \(60° = 90° - 30° = 90° - 2 \cdot 15°\), pa je \(\sin 60° = \cos(2 \cdot 15°) = 1 - 2\sin^2 15°\). Posle upravljanja brojilac postaje \(\cos^2 15°\), i sledi:</p>
        \[\frac{\cos^2 15°}{\cos^2 15° \cdot \sin 45°} = \frac{1}{\sin 45°} = \sqrt{2}\]
        <p style="margin-top: 8px;">Odgovor je ponovo \(\sqrt{2}\)! Isti obrazac vazi jer su \(15°\), \(30°\), \(60°\) u istom odnosu kao \(21°\), \(42°\), \(48°\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });

  // Canvas diagram
  const canvas = document.getElementById('angleCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // We'll draw a unit-circle diagram showing the connection
  // between 21°, 42°, and 48° using the cos(2*21°) = sin(48°) identity.
  // Layout: left side = unit circle with 21° and 42° marked
  //         right side = identity chain displayed as text boxes

  const cx = 200;
  const cy = H / 2 + 20;
  const R = 150;

  let animStep = 0; // 0=initial, 1=show 21, 2=show 42, 3=show 48=cos42, 4=show identity
  let hovered = -1;

  const buttons = [
    { label: '1. Ugao 21°', x: W - 380, y: 30, w: 110, h: 36, step: 1, color: '#60a5fa' },
    { label: '2. Dupli ugao 42°', x: W - 260, y: 30, w: 140, h: 36, step: 2, color: '#a78bfa' },
    { label: '3. sin 48° = cos 42°', x: W - 110, y: 30, w: 170, h: 36, step: 3, color: '#f472b6' },
    { label: '4. Pitagorin identitet', x: W - 380, y: 76, w: 200, h: 36, step: 4, color: '#34d399' },
  ];
  // Reposition buttons to fit canvas width
  // Place them more carefully
  const btnData = [
    { label: 'Korak 1: 21°', step: 1, color: '#60a5fa' },
    { label: 'Korak 2: 42° = 2×21°', step: 2, color: '#a78bfa' },
    { label: 'Korak 3: sin48°=cos42°', step: 3, color: '#f472b6' },
    { label: 'Korak 4: Pitagora', step: 4, color: '#34d399' },
  ];

  const btnY = H - 55;
  const btnH = 36;
  const btnGap = 12;
  const totalBtnW = 4 * 140 + 3 * btnGap;
  const btnStartX = (W - totalBtnW) / 2;
  const btns = btnData.map((b, i) => ({
    ...b,
    x: btnStartX + i * (140 + btnGap),
    y: btnY,
    w: 140,
    h: btnH
  }));

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    // arrowhead
    const angle = Math.atan2(y2 - y1, x2 - x1);
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - 10 * Math.cos(angle - 0.4), y2 - 10 * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - 10 * Math.cos(angle + 0.4), y2 - 10 * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // --- Left: Unit circle ---
    // Background circle
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx - R - 30, cy);
    ctx.lineTo(cx + R + 30, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy - R - 20);
    ctx.lineTo(cx, cy + R + 20);
    ctx.stroke();

    // Unit circle
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    const deg21 = 21 * Math.PI / 180;
    const deg42 = 42 * Math.PI / 180;
    const deg48 = 48 * Math.PI / 180;

    // Point at 21°
    const p21x = cx + Math.cos(deg21) * R;
    const p21y = cy - Math.sin(deg21) * R;

    // Point at 42°
    const p42x = cx + Math.cos(deg42) * R;
    const p42y = cy - Math.sin(deg42) * R;

    // Point at 48°
    const p48x = cx + Math.cos(deg48) * R;
    const p48y = cy - Math.sin(deg48) * R;

    if (animStep >= 1) {
      // Draw angle arc for 21°
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(cx, cy, 38, -deg21, 0, true);
      ctx.stroke();

      // Radius to 21°
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p21x, p21y);
      ctx.stroke();

      // 21° label
      ctx.fillStyle = '#60a5fa';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('21°', cx + 52, cy - 10);

      // Point at 21°
      ctx.beginPath();
      ctx.arc(p21x, p21y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();

      // sin(21°) vertical projection
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(p21x, p21y);
      ctx.lineTo(p21x, cy);
      ctx.stroke();
      ctx.setLineDash([]);

      // Label sin(21°)
      ctx.fillStyle = '#60a5fa';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('sin 21°', p21x + 6, (p21y + cy) / 2 + 4);
    }

    if (animStep >= 2) {
      // Draw angle arc for 42°
      ctx.strokeStyle = '#a78bfa';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(cx, cy, 55, -deg42, 0, true);
      ctx.stroke();

      // Radius to 42°
      ctx.strokeStyle = '#a78bfa';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p42x, p42y);
      ctx.stroke();

      // 42° = 2×21° label
      ctx.fillStyle = '#a78bfa';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('42° = 2×21°', p42x + 8, p42y - 8);

      // Point at 42°
      ctx.beginPath();
      ctx.arc(p42x, p42y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#a78bfa';
      ctx.fill();
    }

    if (animStep >= 3) {
      // Draw 48° (complementary to 42°)
      // Point at 48° - near y-axis, sin(48°) = cos(42°)
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(cx, cy, 72, -deg48, 0, true);
      ctx.stroke();

      // Radius to 48°
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p48x, p48y);
      ctx.stroke();

      // sin(48°) horizontal projection (= cos(42°))
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx, p48y); // sin on y-axis
      ctx.stroke();
      ctx.setLineDash([]);

      // cos(42°) on x-axis projection
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p42x, cy); // cos on x-axis
      ctx.stroke();
      ctx.setLineDash([]);

      // Labels
      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('sin 48°', cx - 6, (cy + p48y) / 2);
      ctx.textAlign = 'center';
      ctx.fillText('= cos 42°', (cx + p42x) / 2, cy + 16);

      // 48° label on arc
      ctx.fillStyle = '#f472b6';
      ctx.textAlign = 'left';
      ctx.fillText('48°', cx + 76, cy - 22);

      // Point at 48°
      ctx.beginPath();
      ctx.arc(p48x, p48y, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#f472b6';
      ctx.fill();

      // Highlight the equality: lengths match
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 3.5;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx, p48y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(p42x, cy);
      ctx.stroke();
    }

    if (animStep >= 4) {
      // Show the identity result box on the right side
      const boxX = cx + R + 40;
      const boxY = 80;
      const boxW = W - boxX - 20;
      const boxH = 220;

      ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
      ctx.beginPath();
      if (ctx.roundRect) {
        ctx.roundRect(boxX, boxY, boxW, boxH, 12);
      } else {
        ctx.rect(boxX, boxY, boxW, boxH);
      }
      ctx.fill();
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 1.5;
      ctx.beginPath();
      if (ctx.roundRect) {
        ctx.roundRect(boxX, boxY, boxW, boxH, 12);
      } else {
        ctx.rect(boxX, boxY, boxW, boxH);
      }
      ctx.stroke();

      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      const bCx = boxX + boxW / 2;
      ctx.fillText('Transformacija brojioca:', bCx, boxY + 24);

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText('sin²21° + sin 48°', bCx, boxY + 50);

      ctx.fillStyle = '#60a5fa';
      ctx.fillText('= sin²21° + cos 42°', bCx, boxY + 72);

      ctx.fillStyle = '#a78bfa';
      ctx.fillText('= sin²21° + (1 - 2sin²21°)', bCx, boxY + 94);

      ctx.fillStyle = '#f472b6';
      ctx.fillText('= 1 - sin²21°', bCx, boxY + 116);

      ctx.fillStyle = '#34d399';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('= cos²21°', bCx, boxY + 140);

      // Divider
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(boxX + 16, boxY + 155);
      ctx.lineTo(boxX + boxW - 16, boxY + 155);
      ctx.stroke();

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText('cos²21° / (cos²21° · sin45°)', bCx, boxY + 176);

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('= 1/sin45° = \u221A2', bCx, boxY + 204);
    }

    // --- Buttons ---
    btns.forEach(function(btn, i) {
      const isActive = animStep >= btn.step;
      const isHov = hovered === i;
      ctx.fillStyle = isActive
        ? btn.color + '33'
        : (isHov ? 'rgba(51,65,85,0.9)' : 'rgba(30,41,59,0.85)');
      ctx.beginPath();
      if (ctx.roundRect) {
        ctx.roundRect(btn.x, btn.y, btn.w, btn.h, 8);
      } else {
        ctx.rect(btn.x, btn.y, btn.w, btn.h);
      }
      ctx.fill();
      ctx.strokeStyle = isActive ? btn.color : '#475569';
      ctx.lineWidth = isActive ? 2 : 1;
      ctx.beginPath();
      if (ctx.roundRect) {
        ctx.roundRect(btn.x, btn.y, btn.w, btn.h, 8);
      } else {
        ctx.rect(btn.x, btn.y, btn.w, btn.h);
      }
      ctx.stroke();

      ctx.fillStyle = isActive ? btn.color : '#94a3b8';
      ctx.font = (isActive ? 'bold ' : '') + '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(btn.label, btn.x + btn.w / 2, btn.y + btn.h / 2 + 4);
    });

    // Bottom hint
    ctx.fillStyle = '#475569';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Kliknite na dugmice ispod da vidite transformacije korak po korak', W / 2, H - 10);
  }

  function getPos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    let cx, cy;
    if (e.touches) {
      cx = (e.touches[0].clientX - rect.left) * scaleX;
      cy = (e.touches[0].clientY - rect.top) * scaleY;
    } else {
      cx = (e.clientX - rect.left) * scaleX;
      cy = (e.clientY - rect.top) * scaleY;
    }
    return { x: cx, y: cy };
  }

  function findBtn(pos) {
    return btns.findIndex(function(b) {
      return pos.x >= b.x && pos.x <= b.x + b.w && pos.y >= b.y && pos.y <= b.y + b.h;
    });
  }

  canvas.addEventListener('mousemove', function(e) {
    const pos = getPos(e);
    const idx = findBtn(pos);
    if (idx !== hovered) {
      hovered = idx;
      canvas.style.cursor = idx >= 0 ? 'pointer' : 'default';
      draw();
    }
  });

  canvas.addEventListener('mouseleave', function() {
    hovered = -1;
    canvas.style.cursor = 'default';
    draw();
  });

  canvas.addEventListener('click', function(e) {
    const pos = getPos(e);
    const idx = findBtn(pos);
    if (idx >= 0) {
      animStep = btns[idx].step;
      draw();
    }
  });

  canvas.addEventListener('touchstart', function(e) {
    const pos = getPos(e);
    const idx = findBtn(pos);
    if (idx >= 0) {
      animStep = btns[idx].step;
      draw();
      e.preventDefault();
    }
  }, { passive: false });

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijski izraz sa koplementnim uglovima i formulom dvostrukog ugla",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrija", "koplementni uglovi", "formula dvostrukog ugla", "Pitagorin identitet", "trigonometrijski identiteti", "sin cos"]
}
BRAINSPARK_META-->
