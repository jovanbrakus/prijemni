<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celobrojna resenja nejednacine – Resenje</title>

<script type="text/info" id="logic-scratchpad">
=== LOGICKA SVESKA ===

Nejednacina: sqrt(x^2 - 2x - 15) > (x + 3) / sqrt(2)
Interval: [-24, 24]

KORAK 1 – Domen
  x^2 - 2x - 15 >= 0
  (x - 5)(x + 3) >= 0
  => x <= -3 ili x >= 5

KORAK 2 – Slucaj A: desna strana negativna
  (x + 3)/sqrt(2) < 0 => x < -3
  LHS = sqrt(...) >= 0 > RHS => nejednacina UVEK vazi.
  Presek sa domenom: x < -3 (podskup od x <= -3).
  Na [-24, 24]: x in {-24, -23, ..., -4} => 21 celih brojeva.

KORAK 3 – Slucaj B: desna strana nenegativna
  x >= -3, presek sa domenom: x = -3 ili x >= 5

  Za x = -3: LHS = 0, RHS = 0, 0 > 0 NETACNO.

  Za x >= 5: obe strane nenegativne, stepenujemo:
    x^2 - 2x - 15 > (x+3)^2 / 2
    2x^2 - 4x - 30 > x^2 + 6x + 9
    x^2 - 10x - 39 > 0
    D = 100 + 156 = 256, sqrt(D) = 16
    x = (10 +/- 16)/2 => x = 13 ili x = -3
    (x - 13)(x + 3) > 0
    Posto x >= 5 => x + 3 > 0 => potrebno x > 13.
    Na [-24, 24]: x in {14, 15, ..., 24} => 11 celih brojeva.

UKUPNO: 21 + 11 = 32

ODGOVOR: B) 32

PROVERA:
  x = -4: sqrt(9) = 3 > -1/sqrt(2) ~ -0.71 OK
  x = -3: 0 > 0 NETACNO OK
  x = 13: 8sqrt(2) > 8sqrt(2) NETACNO OK
  x = 14: sqrt(153) ~ 12.37 > 17/sqrt(2) ~ 12.02 OK
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, sans-serif;
    font-size: 16px;
    line-height: 1.7;
    padding: 24px 16px 60px;
  }

  .container { max-width: 860px; margin: 0 auto; }

  h1 {
    font-size: 1.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
    text-align: center;
    line-height: 1.3;
  }

  .subtitle {
    text-align: center;
    color: #94a3b8;
    font-size: 0.9rem;
    margin-bottom: 28px;
  }

  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 24px;
    margin-bottom: 22px;
  }

  .card h2 {
    font-size: 1.05rem;
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 14px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .problem-statement {
    border-left: 4px solid #a78bfa;
  }

  .problem-statement .problem-text {
    font-size: 1.1rem;
    margin-bottom: 18px;
    color: #e2e8f0;
  }

  /* Answer options grid — static divs, no interactivity */
  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
    gap: 10px;
    margin-top: 14px;
  }

  .given-item.answer-option {
    background: #0f172a;
    border: 2px solid #334155;
    border-radius: 8px;
    padding: 10px 8px;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
  }

  .given-item.answer-option .label {
    font-weight: 600;
    color: #94a3b8;
  }

  .given-item.answer-option .value {
    color: #e2e8f0;
    font-size: 1rem;
  }

  /* Plan */
  .plan-list { list-style: none; counter-reset: plan-counter; }
  .plan-list li {
    counter-increment: plan-counter;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 8px 0;
    border-bottom: 1px solid #1e3a5f;
  }
  .plan-list li:last-child { border-bottom: none; }
  .plan-list li::before {
    content: counter(plan-counter);
    flex-shrink: 0;
    width: 28px; height: 28px;
    background: #a78bfa;
    color: #0f172a;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.85rem;
    display: flex; align-items: center; justify-content: center;
    margin-top: 2px;
  }

  /* Theory details */
  details {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 14px 18px;
    margin-top: 4px;
  }
  summary {
    cursor: pointer;
    color: #60a5fa;
    font-weight: 600;
    user-select: none;
    list-style: none;
  }
  summary::-webkit-details-marker { display: none; }
  summary::before { content: '\25B6 '; font-size: 0.75em; transition: transform 0.2s; }
  details[open] summary::before { content: '\25BC '; }
  details p, details ul { margin-top: 10px; }
  details ul { padding-left: 20px; }
  details li { margin-bottom: 6px; }

  /* Canvas */
  .canvas-wrapper {
    width: 100%;
    overflow-x: auto;
    border-radius: 8px;
  }
  canvas {
    display: block;
    background: #0f172a;
    border-radius: 8px;
    max-width: 100%;
    touch-action: none;
  }

  /* Steps */
  .step {
    background: #0f172a;
    border-left: 3px solid #60a5fa;
    border-radius: 0 8px 8px 0;
    padding: 16px 18px;
    margin-bottom: 14px;
    position: relative;
  }

  .step-badge {
    display: inline-block;
    background: #60a5fa;
    color: #0f172a;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    border-radius: 4px;
    padding: 2px 8px;
    margin-bottom: 8px;
  }

  .step-badge.purple { background: #a78bfa; }
  .step-badge.green { background: #34d399; }
  .step-badge.pink { background: #f472b6; }
  .step-badge.orange { background: #fb923c; }

  .step p { margin-top: 8px; }

  .checkpoint {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #064e3b;
    border: 1px solid #34d399;
    color: #4ade80;
    border-radius: 6px;
    padding: 6px 12px;
    font-size: 0.9rem;
    font-weight: 600;
    margin-top: 10px;
  }
  .checkpoint::before { content: '\2713'; font-weight: 900; }

  /* Case box */
  .case-box {
    background: #1e293b;
    border: 1px solid #475569;
    border-radius: 8px;
    padding: 14px 16px;
    margin: 10px 0;
  }
  .case-box.pass {
    border-color: #4ade80;
    background: #052e1640;
  }
  .case-box.fail {
    border-color: #f87171;
    background: #450a0a40;
  }
  .case-box h4 {
    color: #60a5fa;
    font-size: 0.95rem;
    margin-bottom: 6px;
  }
  .case-box.pass h4 { color: #4ade80; }
  .case-box.fail h4 { color: #f87171; }
  .case-box p { color: #cbd5e1; font-size: 0.95rem; margin-bottom: 4px; }

  /* Key insight */
  .insight-box {
    background: linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%);
    border: 2px solid #a78bfa;
    border-radius: 10px;
    padding: 18px 22px;
    font-style: italic;
    color: #c4b5fd;
    font-size: 1.02rem;
  }

  /* Final answer */
  .final-answer {
    background: linear-gradient(135deg, #052e16 0%, #1e293b 100%);
    border: 2px solid #34d399;
    border-radius: 12px;
    padding: 22px 26px;
    text-align: center;
  }
  .final-answer .answer-label {
    color: #94a3b8;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 8px;
  }
  .final-answer .answer-value {
    color: #4ade80;
    font-size: 2rem;
    font-weight: 800;
  }
  .final-answer .answer-note {
    color: #34d399;
    font-size: 1rem;
    margin-top: 6px;
  }

  /* Pitfalls */
  .pitfall {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    padding: 10px 0;
    border-bottom: 1px solid #1e3a5f;
  }
  .pitfall:last-child { border-bottom: none; }
  .pitfall-icon {
    flex-shrink: 0;
    width: 28px; height: 28px;
    background: #7f1d1d;
    border: 2px solid #f87171;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.85rem;
    color: #f87171;
    font-weight: 900;
  }

  /* Challenge */
  .challenge-box {
    background: #0f172a;
    border: 2px dashed #f472b6;
    border-radius: 10px;
    padding: 18px 22px;
    color: #f9a8d4;
  }
  .challenge-box h3 {
    color: #f472b6;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 0.07em;
    margin-bottom: 10px;
  }
  .challenge-answer {
    margin-top: 12px;
    color: #4ade80;
    display: none;
  }
  .challenge-answer.visible { display: block; }
  .challenge-toggle {
    margin-top: 12px;
    background: none;
    border: 1px solid #f472b6;
    border-radius: 6px;
    color: #f472b6;
    padding: 6px 14px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: background 0.2s;
  }
  .challenge-toggle:hover { background: #1e1b4b; }

  @media (max-width: 700px) {
    body { font-size: 15px; padding: 16px 10px 50px; }
    h1 { font-size: 1.25rem; }
    .card { padding: 18px 14px; }
    .given-grid { grid-template-columns: repeat(3, 1fr); }
  }
</style>
</head>
<body>
<div class="container">

  <h1>Broj celobrojnih resenja nejednacine sa kvadratnim korenom</h1>
  <p class="subtitle">FON Beograd -- prvi probni ispit 2024 -- Zadatak 15</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Zadatak</h2>
    <div class="problem-text">
      Broj celobrojnih resenja nejednacine
      \[\sqrt{x^2 - 2x - 15} > \frac{x + 3}{\sqrt{2}}\]
      na intervalu \([-24,\, 24]\) jednak je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A"><div class="label">(A)</div><div class="value">\(39\)</div></div>
      <div class="given-item answer-option" data-option="B"><div class="label">(B)</div><div class="value">\(32\)</div></div>
      <div class="given-item answer-option" data-option="C"><div class="label">(C)</div><div class="value">\(24\)</div></div>
      <div class="given-item answer-option" data-option="D"><div class="label">(D)</div><div class="value">\(19\)</div></div>
      <div class="given-item answer-option" data-option="E"><div class="label">(E)</div><div class="value">\(35\)</div></div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan resenja</h2>
    <ol class="plan-list">
      <li>Odrediti <strong>domen</strong> nejednacine (podkorenska velicina mora biti \(\geq 0\)).</li>
      <li>Podeliti na <strong>dva slucaja</strong> prema znaku desne strane.</li>
      <li><strong>Slucaj A</strong> (desna strana negativna): nejednacina automatski vazi.</li>
      <li><strong>Slucaj B</strong> (desna strana nenegativna): stepeniti i resiti kvadratnu nejednacinu.</li>
      <li>Spojiti resenja i <strong>prebrojati</strong> cele brojeve na \([-24, 24]\).</li>
    </ol>
  </div>

  <!-- Theory -->
  <div class="card">
    <h2>Teorija</h2>
    <details>
      <summary>Nejednacine sa kvadratnim korenom -- kljucna pravila</summary>
      <p>Za resavanje nejednacine oblika \(\sqrt{f(x)} > g(x)\) razlikujemo slucajeve:</p>
      <ul>
        <li>
          <strong>Ako \(g(x) < 0\):</strong> leva strana \(\sqrt{f(x)} \geq 0\) je uvek nenegativna,
          pa nejednacina vazi za sve \(x\) iz domena.
        </li>
        <li>
          <strong>Ako \(g(x) \geq 0\):</strong> obe strane su nenegativne, pa mozemo stepeniti (smer ostaje isti):
          \[f(x) > [g(x)]^2, \quad \text{uz uslov } f(x) \geq 0.\]
        </li>
      </ul>
      <p>Domen uvek zahteva \(f(x) \geq 0\).</p>
    </details>
    <details style="margin-top:10px;">
      <summary>Kvadratna nejednacina -- brzi podsetnik</summary>
      <p>
        Za \(ax^2 + bx + c > 0\) sa \(a > 0\) i nulama \(x_1 < x_2\):
        resenje je \(x < x_1\) ili \(x > x_2\) (izraz pozitivan "spolja").
      </p>
      <p>
        Nule se nalaze formulom \(x_{1,2} = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}\).
      </p>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="card">
    <h2>Brojevna prava -- skup resenja</h2>
    <div class="canvas-wrapper">
      <canvas id="numberLine" width="800" height="200"></canvas>
    </div>
    <p style="color:#94a3b8; font-size:0.85rem; margin-top:8px;">
      Zeleno: celobrojna resenja. Crveni krugovi: iskljucene granicne tacke.
    </p>
  </div>

  <!-- Step by Step -->
  <div class="card">
    <h2>Korak po korak</h2>

    <!-- Step 1: Domain -->
    <div class="step">
      <span class="step-badge">Korak 1</span>
      <strong>Domen nejednacine</strong>
      <p>
        Podkorenska velicina mora biti nenegativna:
        \[x^2 - 2x - 15 \geq 0.\]
        Faktorizujemo:
        \[(x - 5)(x + 3) \geq 0.\]
        Nule su \(x = -3\) i \(x = 5\). Parabola se otvara navise, pa je izraz \(\geq 0\) "spolja":
      </p>
      \[D = (-\infty,\, -3\,] \cup [\,5,\, +\infty).\]
      <div class="checkpoint">Domen: \(x \leq -3\) ili \(x \geq 5\)</div>
    </div>

    <!-- Step 2: Case A -->
    <div class="step">
      <span class="step-badge purple">Korak 2 -- Slucaj A</span>
      <strong>Desna strana je negativna: \(\dfrac{x+3}{\sqrt{2}} < 0\), tj. \(x < -3\)</strong>
      <p>
        Leva strana \(\sqrt{x^2 - 2x - 15} \geq 0\), a desna strana je negativna.
        Nenegativni broj je uvek veci od negativnog, pa nejednacina vazi <strong>automatski</strong>.
      </p>
      <p>
        Presek sa domenom: \(x < -3\) (sto je podskup od \(x \leq -3\)).
      </p>
      <p>
        Na intervalu \([-24, 24]\): celi brojevi \(-24, -23, \ldots, -4\).
      </p>
      \[\text{Broj:} \quad (-4) - (-24) + 1 = \mathbf{21}\]
      <div class="checkpoint">Slucaj A: 21 celobrojno resenje</div>
    </div>

    <!-- Step 3: x = -3 check -->
    <div class="step">
      <span class="step-badge green">Korak 3 -- Provera tacke \(x = -3\)</span>
      <strong>Granicna tacka domena</strong>
      <p>Za \(x = -3\):</p>
      <p>
        Leva strana: \(\sqrt{(-3)^2 - 2(-3) - 15} = \sqrt{9 + 6 - 15} = \sqrt{0} = 0\).
      </p>
      <p>
        Desna strana: \(\dfrac{-3 + 3}{\sqrt{2}} = \dfrac{0}{\sqrt{2}} = 0\).
      </p>
      <p>
        Nejednacina: \(0 > 0\) -- <strong>NETACNO</strong> (stroga nejednakost). Dakle, \(x = -3\) nije resenje.
      </p>
    </div>

    <!-- Step 4: Case B -->
    <div class="step">
      <span class="step-badge pink">Korak 4 -- Slucaj B</span>
      <strong>Desna strana je nenegativna: \(x \geq -3\)</strong>
      <p>
        U kombinaciji sa domenom: \(x \geq 5\).
        Obe strane su nenegativne, pa stepenujemo:
      </p>
      \[x^2 - 2x - 15 > \frac{(x+3)^2}{2}\]
      <p>Mnozimo obe strane sa 2:</p>
      \[2x^2 - 4x - 30 > x^2 + 6x + 9\]
      <p>Prebacujemo sve na levu stranu:</p>
      \[x^2 - 10x - 39 > 0\]
      <p>
        Trazimo nule: \(D = 100 + 156 = 256\), \(\sqrt{D} = 16\).
      </p>
      \[x_{1,2} = \frac{10 \pm 16}{2} \implies x_1 = -3, \quad x_2 = 13\]
      <p>Faktorizacija:</p>
      \[(x - 13)(x + 3) > 0\]
      <p>
        Posto \(x \geq 5\), vazi \(x + 3 > 0\), pa je uslov:
      </p>
      \[x - 13 > 0 \implies x > 13\]
      <p>
        Na intervalu \([-24, 24]\): celi brojevi \(14, 15, \ldots, 24\).
      </p>
      \[\text{Broj:} \quad 24 - 14 + 1 = \mathbf{11}\]
      <div class="checkpoint">Slucaj B: 11 celobrojnih resenja</div>
    </div>

    <!-- Step 5: Union and count -->
    <div class="step">
      <span class="step-badge orange">Korak 5 -- Ukupan rezultat</span>
      <strong>Spajamo oba slucaja</strong>
      <p>Skup resenja nejednacine:</p>
      \[x \in (-\infty,\, -3) \cup (13,\, +\infty)\]
      <p>Na intervalu \([-24, 24]\):</p>
      \[\{-24, -23, \ldots, -4\} \cup \{14, 15, \ldots, 24\}\]
      \[\underbrace{21}_{\text{Slucaj A}} + \underbrace{11}_{\text{Slucaj B}} = \mathbf{32}\]
      <div class="checkpoint">Ukupan broj celobrojnih resenja: 32</div>
    </div>
  </div>

  <!-- Verification -->
  <div class="card">
    <h2>Provera granicnih tacaka</h2>

    <div class="case-box pass">
      <h4>\(x = -4\) (poslednje resenje u Slucaju A)</h4>
      <p>LHS: \(\sqrt{16 + 8 - 15} = \sqrt{9} = 3\)</p>
      <p>RHS: \(\dfrac{-1}{\sqrt{2}} \approx -0{,}71\)</p>
      <p>\(3 > -0{,}71\) -- TACNO</p>
    </div>

    <div class="case-box fail">
      <h4>\(x = -3\) (granica domena)</h4>
      <p>LHS: \(\sqrt{0} = 0\), RHS: \(0\)</p>
      <p>\(0 > 0\) -- NETACNO</p>
    </div>

    <div class="case-box fail">
      <h4>\(x = 13\) (granica Slucaja B)</h4>
      <p>LHS: \(\sqrt{169 - 26 - 15} = \sqrt{128} = 8\sqrt{2}\)</p>
      <p>RHS: \(\dfrac{16}{\sqrt{2}} = \dfrac{16\sqrt{2}}{2} = 8\sqrt{2}\)</p>
      <p>\(8\sqrt{2} > 8\sqrt{2}\) -- NETACNO (jednakost, ne stroga nejednakost)</p>
    </div>

    <div class="case-box pass">
      <h4>\(x = 14\) (prvo resenje u Slucaju B)</h4>
      <p>LHS: \(\sqrt{196 - 28 - 15} = \sqrt{153} \approx 12{,}37\)</p>
      <p>RHS: \(\dfrac{17}{\sqrt{2}} \approx 12{,}02\)</p>
      <p>\(12{,}37 > 12{,}02\) -- TACNO</p>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card">
    <h2>Kljucni uvid</h2>
    <div class="insight-box">
      Kljuc zadatka je <strong>podela na slucajeve prema znaku desne strane</strong>.
      Kada je desna strana negativna, nejednacina vazi automatski -- ne treba stepeniti.
      Stepenivanje je dopusteno <em>samo kada su obe strane nenegativne</em>,
      jer \(a > b \geq 0 \Leftrightarrow a^2 > b^2\). Preskakanje ove podele je najcesca greska.
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <div class="answer-label">Tacan odgovor</div>
    <div class="answer-value">\(32\)</div>
    <div class="answer-note">Odgovor: B) 32</div>
  </div>

  <!-- Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <div class="pitfall">
      <div class="pitfall-icon">!</div>
      <div>
        <strong>Stepenivanje bez provere znaka:</strong>
        stepenivanje bez podele na slucajeve moze dati pogresan skup resenja.
        Ceo Slucaj A (21 resenje) bi bio izgubljen.
      </div>
    </div>
    <div class="pitfall">
      <div class="pitfall-icon">!</div>
      <div>
        <strong>Ukljucivanje tacke \(x = -3\):</strong>
        na \(x = -3\) su obe strane jednake nuli -- stroga nejednacina \(0 > 0\) nije ispunjena.
      </div>
    </div>
    <div class="pitfall">
      <div class="pitfall-icon">!</div>
      <div>
        <strong>Ukljucivanje tacke \(x = 13\):</strong>
        za \(x = 13\) vazi jednakost \(8\sqrt{2} = 8\sqrt{2}\), pa stroga nejednakost nije zadovoljena.
      </div>
    </div>
    <div class="pitfall">
      <div class="pitfall-icon">!</div>
      <div>
        <strong>Zaboravljanje domena:</strong>
        bez uslova \(x \leq -3\) ili \(x \geq 5\), ukljucili bismo vrednosti iz intervala \((-3, 5)\)
        gde koren nije definisan.
      </div>
    </div>
    <div class="pitfall">
      <div class="pitfall-icon">!</div>
      <div>
        <strong>Greska u brojanju:</strong>
        od \(-24\) do \(-4\) ima \((-4) - (-24) + 1 = 21\) celih brojeva (ne 20),
        a od \(14\) do \(24\) ima \(24 - 14 + 1 = 11\) (ne 10).
        Formula: gornja \(-\) donja \(+ 1\).
      </div>
    </div>
  </div>

  <!-- Challenge -->
  <div class="card">
    <h2>Izazov</h2>
    <div class="challenge-box">
      <h3>Za razmisljanje</h3>
      <p>
        Koliko bi celobrojnih resenja imala ista nejednacina
        \[\sqrt{x^2 - 2x - 15} > \frac{x + 3}{\sqrt{2}}\]
        na intervalu \([-100, 100]\)?
      </p>
      <p style="margin-top:10px; color:#94a3b8; font-size:0.9rem;">
        Savet: skup resenja se nije promenio, samo granice intervala.
      </p>
      <button class="challenge-toggle" id="challengeBtn">Prikazi resenje</button>
      <div class="challenge-answer" id="challengeAnswer">
        <p>
          Slucaj A (\(x < -3\)): \(x \in \{-100, -99, \ldots, -4\}\) -- to je \(100 - 4 + 1 = 97\) resenja.
        </p>
        <p>
          Slucaj B (\(x > 13\)): \(x \in \{14, 15, \ldots, 100\}\) -- to je \(100 - 14 + 1 = 87\) resenja.
        </p>
        <p>
          Ukupno: \(97 + 87 = \mathbf{184}\) celobrojna resenja.
        </p>
      </div>
    </div>
  </div>

</div><!-- /container -->

<script>
(function () {
  'use strict';

  /* ---- Challenge toggle ---- */
  var challengeBtn = document.getElementById('challengeBtn');
  if (challengeBtn) {
    challengeBtn.addEventListener('click', function () {
      var el = document.getElementById('challengeAnswer');
      el.classList.toggle('visible');
      challengeBtn.textContent = el.classList.contains('visible') ? 'Sakrij resenje' : 'Prikazi resenje';
      if (el.classList.contains('visible') && window.MathJax) {
        MathJax.typesetPromise([el]).catch(function () {});
      }
    });
  }

  /* ---- Canvas: number line ---- */
  var canvas = document.getElementById('numberLine');
  if (!canvas) return;

  function draw() {
    var dpr = window.devicePixelRatio || 1;
    var W = canvas.parentElement.clientWidth || 800;
    var H = 200;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.width = W + 'px';
    canvas.style.height = H + 'px';

    var ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);

    var PAD_L = 40, PAD_R = 40;
    var axisY = 80;
    var xMin = -28, xMax = 28;
    var drawW = W - PAD_L - PAD_R;

    function toPixel(x) {
      return PAD_L + (x - xMin) / (xMax - xMin) * drawW;
    }

    /* Background */
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    /* Title */
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Skup celobrojnih resenja na [-24, 24]', W / 2, 16);

    /* Grid lines at key points */
    var gridPts = [-24, -3, 5, 13, 24];
    gridPts.forEach(function (v) {
      ctx.strokeStyle = '#1e3a5f';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(toPixel(v), 24);
      ctx.lineTo(toPixel(v), axisY + 12);
      ctx.stroke();
      ctx.setLineDash([]);
    });

    /* Solution bands */
    /* Slucaj A: x < -3 => integers -24..-4 */
    var sol1x1 = toPixel(-24.6);
    var sol1x2 = toPixel(-3);
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.fillRect(sol1x1, axisY - 20, sol1x2 - sol1x1, 40);

    /* Slucaj B: x > 13 => integers 14..24 */
    var sol2x1 = toPixel(13);
    var sol2x2 = toPixel(24.6);
    ctx.fillStyle = 'rgba(52, 211, 153, 0.15)';
    ctx.fillRect(sol2x1, axisY - 20, sol2x2 - sol2x1, 40);

    /* Non-domain region: (-3, 5) */
    var ndL = toPixel(-3);
    var ndR = toPixel(5);
    ctx.fillStyle = 'rgba(248, 113, 113, 0.06)';
    ctx.fillRect(ndL, axisY - 20, ndR - ndL, 40);

    /* Not-solution in domain: [5, 13] */
    var nsL = toPixel(5);
    var nsR = toPixel(13);
    ctx.fillStyle = 'rgba(148, 163, 184, 0.06)';
    ctx.fillRect(nsL, axisY - 20, nsR - nsL, 40);

    /* Axis */
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(PAD_L - 10, axisY);
    ctx.lineTo(W - PAD_R + 10, axisY);
    ctx.stroke();

    /* Arrowhead right */
    ctx.fillStyle = '#475569';
    ctx.beginPath();
    ctx.moveTo(W - PAD_R + 18, axisY);
    ctx.lineTo(W - PAD_R + 10, axisY - 5);
    ctx.lineTo(W - PAD_R + 10, axisY + 5);
    ctx.closePath();
    ctx.fill();

    /* Arrowhead left */
    ctx.beginPath();
    ctx.moveTo(PAD_L - 18, axisY);
    ctx.lineTo(PAD_L - 10, axisY - 5);
    ctx.lineTo(PAD_L - 10, axisY + 5);
    ctx.closePath();
    ctx.fill();

    /* Tick marks and labels */
    var ticks = [-24, -20, -15, -10, -5, -4, -3, 0, 5, 10, 13, 14, 20, 24];

    ticks.forEach(function (v) {
      var px = toPixel(v);
      var isSolA = (v <= -4 && v >= -24);
      var isSolB = (v >= 14 && v <= 24);
      var isSol = isSolA || isSolB;
      var isExcluded = (v === -3 || v === 13);

      ctx.strokeStyle = isExcluded ? '#f87171' : isSol ? '#34d399' : '#64748b';
      ctx.lineWidth = (isSol || isExcluded) ? 2 : 1;
      ctx.beginPath();
      ctx.moveTo(px, axisY - 7);
      ctx.lineTo(px, axisY + 7);
      ctx.stroke();

      ctx.fillStyle = isExcluded ? '#f87171' : isSol ? '#4ade80' : '#94a3b8';
      ctx.font = (isSol || isExcluded) ? 'bold 11px "Segoe UI", sans-serif' : '10px "Segoe UI", sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(String(v), px, axisY + 24);
    });

    /* Open circles at x = -3 and x = 13 (excluded) */
    [-3, 13].forEach(function (v) {
      var px = toPixel(v);
      ctx.beginPath();
      ctx.arc(px, axisY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#0f172a';
      ctx.fill();
      ctx.strokeStyle = '#f87171';
      ctx.lineWidth = 2.5;
      ctx.stroke();
    });

    /* Filled dots at -24, -4, 14, 24 */
    [-24, -4, 14, 24].forEach(function (v) {
      var px = toPixel(v);
      ctx.beginPath();
      ctx.arc(px, axisY, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#4ade80';
      ctx.fill();
    });

    /* Labels for solution regions */
    ctx.font = 'bold 12px "Segoe UI", sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'center';
    ctx.fillText('21 resenje', (toPixel(-24) + toPixel(-4)) / 2, axisY - 30);
    ctx.fillText('11 resenja', (toPixel(14) + toPixel(24)) / 2, axisY - 30);

    /* Labels for excluded/non-domain */
    ctx.font = '10px "Segoe UI", sans-serif';
    ctx.fillStyle = '#f87171';
    ctx.fillText('van domena', (ndL + ndR) / 2, axisY - 30);

    ctx.fillStyle = '#94a3b8';
    ctx.fillText('ne zadovoljava', (toPixel(5) + toPixel(13)) / 2, axisY - 30);

    /* Summary boxes below */
    var boxY = axisY + 50;
    var boxH = 42;
    var gap = 30;

    function roundedRect(x, y, rw, rh, r) {
      ctx.beginPath();
      ctx.moveTo(x + r, y);
      ctx.lineTo(x + rw - r, y);
      ctx.quadraticCurveTo(x + rw, y, x + rw, y + r);
      ctx.lineTo(x + rw, y + rh - r);
      ctx.quadraticCurveTo(x + rw, y + rh, x + rw - r, y + rh);
      ctx.lineTo(x + r, y + rh);
      ctx.quadraticCurveTo(x, y + rh, x, y + rh - r);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);
      ctx.closePath();
    }

    var bw = 130;
    var totalW = bw * 3 + gap * 2;
    var startX = (W - totalW) / 2;

    /* Box 1: Slucaj A */
    roundedRect(startX, boxY, bw, boxH, 6);
    ctx.fillStyle = '#1e293b';
    ctx.fill();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 11px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Slucaj A', startX + bw / 2, boxY + 16);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px "Segoe UI", sans-serif';
    ctx.fillText('21', startX + bw / 2, boxY + 35);

    /* Plus sign */
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 16px "Segoe UI", sans-serif';
    ctx.fillText('+', startX + bw + gap / 2, boxY + boxH / 2 + 5);

    /* Box 2: Slucaj B */
    var b2x = startX + bw + gap;
    roundedRect(b2x, boxY, bw, boxH, 6);
    ctx.fillStyle = '#1e293b';
    ctx.fill();
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 11px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Slucaj B', b2x + bw / 2, boxY + 16);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px "Segoe UI", sans-serif';
    ctx.fillText('11', b2x + bw / 2, boxY + 35);

    /* Equals sign */
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 16px "Segoe UI", sans-serif';
    ctx.fillText('=', b2x + bw + gap / 2, boxY + boxH / 2 + 5);

    /* Box 3: Total */
    var b3x = b2x + bw + gap;
    roundedRect(b3x, boxY, bw, boxH, 6);
    ctx.fillStyle = '#052e16';
    ctx.fill();
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 11px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Ukupno', b3x + bw / 2, boxY + 16);
    ctx.font = 'bold 15px "Segoe UI", sans-serif';
    ctx.fillText('32', b3x + bw / 2, boxY + 36);
  }

  draw();

  var resizeTimer;
  window.addEventListener('resize', function () {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(draw, 120);
  });

  /* Touch support */
  canvas.addEventListener('touchstart', function (e) {
    e.preventDefault();
  }, { passive: false });

}());
</script>

</body>
</html>

<!--BRAINSPARK_META
{"title":"Broj celobrojnih resenja nejednacine sa kvadratnim korenom na intervalu","subject":"math","unit":"algebra","topic_tags":["nejednacine","kvadratni_koren","domen","kvadratna_nejednacina","prebrojavanje","celi_brojevi"]}
BRAINSPARK_META-->
