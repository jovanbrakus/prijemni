<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rešenje – Zadatak 16</title>

<script type="text/info" id="logic-scratchpad">
=== LOGIČKA PRIPREMA ===

Funkcija: f(x) = x(ln²x - 3) na [1, e²]

KORAK 1: Vrednosti na krajnim tačkama
  f(1) = 1*(0 - 3) = -3
  f(e²) = e²*(4 - 3) = e²  ≈ 7,389

KORAK 2: Nalaženje kritičnih tačaka
  f'(x) = (ln²x - 3) + x * (2 ln x / x)
        = ln²x - 3 + 2 ln x
        = ln²x + 2 ln x - 3

  Smena: t = ln x
  t² + 2t - 3 = 0
  (t + 3)(t - 1) = 0
  t = -3  →  x = e^(-3) ∉ [1, e²]  (odbacujemo)
  t = 1   →  x = e ∈ [1, e²]  ✓

KORAK 3: Vrednost u kritičnoj tački
  f(e) = e*(1 - 3) = -2e  ≈ -5,436

KORAK 4: Odredjivanje max i min
  Vrednosti: f(1) = -3,  f(e) = -2e ≈ -5,436,  f(e²) = e² ≈ 7,389

  Maksimum M = f(e²) = e²
  Minimum m = f(e) = -2e

KORAK 5: Računanje količnika
  M/m = e² / (-2e) = -e/2 ≈ -2,718.../2 ≈ -1,359...

KORAK 6: Provera kojoj skupini pripada
  -e/2 ≈ -1,359
  Interval [-2, -1): -2 ≤ -1,359 < -1  ✓

ODGOVOR: E) [-2, -1)
</script>

<script>
MathJax = { tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] }, svg: { fontCache: 'global' } };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, sans-serif;
    font-size: 16px;
    line-height: 1.7;
    padding: 24px 16px 60px;
  }

  .container { max-width: 860px; margin: 0 auto; }

  h1 { font-size: 1.5rem; font-weight: 700; color: #a78bfa; margin-bottom: 8px; }
  h2 { font-size: 1.15rem; font-weight: 700; color: #60a5fa; margin: 28px 0 12px; }
  h3 { font-size: 1rem; font-weight: 600; color: #94a3b8; margin-bottom: 8px; }

  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 20px;
  }

  .problem-statement { border-left: 4px solid #a78bfa; }
  .problem-statement p { font-size: 1.05rem; margin-bottom: 16px; }

  /* Answer options grid */
  .options-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 10px;
    margin-top: 14px;
  }

  .option-btn {
    background: #0f172a;
    border: 2px solid #334155;
    border-radius: 8px;
    padding: 10px 14px;
    color: #e2e8f0;
    cursor: pointer;
    font-size: 0.9rem;
    transition: all 0.2s;
    text-align: left;
  }
  .option-btn:hover { border-color: #60a5fa; background: #1e3a5f; }
  .option-btn.selected-wrong { border-color: #f472b6; background: #3d1030; color: #f472b6; }
  .option-btn.selected-correct { border-color: #34d399; background: #0d3b2b; color: #4ade80; }
  .option-btn.reveal-correct { border-color: #34d399; background: #0d3b2b; color: #4ade80; }

  .feedback-msg {
    margin-top: 12px;
    font-size: 0.9rem;
    min-height: 1.4em;
    font-weight: 600;
  }
  .feedback-msg.correct { color: #4ade80; }
  .feedback-msg.wrong   { color: #f472b6; }

  /* Plan steps */
  .plan-list { list-style: none; counter-reset: plan; }
  .plan-list li {
    counter-increment: plan;
    display: flex; align-items: flex-start; gap: 12px;
    margin-bottom: 10px;
  }
  .plan-list li::before {
    content: counter(plan);
    min-width: 28px; height: 28px;
    background: #a78bfa22;
    border: 1px solid #a78bfa;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.8rem; font-weight: 700; color: #a78bfa;
    flex-shrink: 0;
  }

  /* Theory details */
  details {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 10px;
    margin-bottom: 20px;
  }
  details summary {
    padding: 14px 20px;
    cursor: pointer;
    font-weight: 600;
    color: #60a5fa;
    list-style: none;
    display: flex; align-items: center; gap: 8px;
  }
  details summary::before { content: '▶'; font-size: 0.7rem; transition: transform 0.2s; }
  details[open] summary::before { transform: rotate(90deg); }
  details .details-body { padding: 0 20px 16px; }
  details .details-body p, details .details-body li { margin-bottom: 8px; font-size: 0.95rem; color: #cbd5e1; }
  details ul { padding-left: 20px; }

  /* Canvas */
  .canvas-wrapper {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    overflow: hidden;
  }
  canvas { display: block; width: 100%; border-radius: 8px; }

  /* Steps */
  .step {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 16px 20px;
    margin-bottom: 14px;
    position: relative;
  }
  .step-badge {
    display: inline-block;
    background: #1e3a5f;
    border: 1px solid #60a5fa;
    color: #60a5fa;
    font-size: 0.72rem;
    font-weight: 700;
    padding: 2px 10px;
    border-radius: 20px;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .step-badge.purple { background: #2d1b69; border-color: #a78bfa; color: #a78bfa; }
  .step-badge.green  { background: #0d3b2b; border-color: #34d399; color: #34d399; }
  .step-badge.pink   { background: #3d1030; border-color: #f472b6; color: #f472b6; }

  .checkpoint {
    display: flex; align-items: center; gap: 8px;
    background: #0d3b2b;
    border: 1px solid #34d399;
    border-radius: 8px;
    padding: 10px 14px;
    margin-top: 12px;
    font-size: 0.9rem;
    color: #4ade80;
    font-weight: 600;
  }
  .checkpoint::before { content: '✓'; font-size: 1rem; }

  /* Key insight */
  .insight {
    background: #1e1b4b;
    border: 1px solid #a78bfa;
    border-radius: 10px;
    padding: 16px 20px;
    margin-bottom: 20px;
  }
  .insight-title { color: #a78bfa; font-weight: 700; margin-bottom: 6px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; }

  /* Final answer */
  .final-answer {
    background: #0d3b2b;
    border: 2px solid #34d399;
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 20px;
    text-align: center;
  }
  .final-answer .label { font-size: 0.85rem; color: #34d399; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 8px; }
  .final-answer .value { font-size: 1.4rem; color: #4ade80; font-weight: 700; }

  /* Pitfalls */
  .pitfall {
    display: flex; gap: 12px; align-items: flex-start;
    background: #2d1010;
    border: 1px solid #f472b6;
    border-radius: 8px;
    padding: 12px 16px;
    margin-bottom: 10px;
    font-size: 0.9rem;
  }
  .pitfall::before { content: '!'; min-width: 22px; height: 22px; background: #f472b6; color: #0f172a; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 900; flex-shrink: 0; font-size: 0.8rem; }

  /* Challenge */
  .challenge {
    background: #1e293b;
    border: 1px dashed #60a5fa;
    border-radius: 10px;
    padding: 16px 20px;
    font-size: 0.95rem;
  }
  .challenge-title { color: #60a5fa; font-weight: 700; margin-bottom: 8px; }

  /* Value table */
  table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 0.9rem; }
  th { background: #0f172a; color: #94a3b8; font-weight: 600; padding: 8px 12px; border: 1px solid #334155; text-align: center; }
  td { padding: 8px 12px; border: 1px solid #334155; text-align: center; color: #cbd5e1; }
  td.highlight-max { color: #4ade80; font-weight: 700; }
  td.highlight-min { color: #f472b6; font-weight: 700; }

  @media (max-width: 700px) {
    h1 { font-size: 1.2rem; }
    .options-grid { grid-template-columns: 1fr 1fr; }
    body { padding: 16px 12px 40px; }
  }
</style>
</head>
<body>
<div class="container">

  <h1>Zadatak 16 — Ekstremi funkcije na segmentu</h1>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <p>
      Količnik najveće i najmanje vrednosti funkcije
      \[f(x) = x(\ln^2 x - 3)\]
      na segmentu \([1,\, e^2]\) pripada skupu:
    </p>

    <div class="options-grid">
      <button class="option-btn" data-option="A" data-correct="false">
        A) \((-\infty,\,-3)\)
      </button>
      <button class="option-btn" data-option="B" data-correct="false">
        B) \([-1,\,1)\)
      </button>
      <button class="option-btn" data-option="C" data-correct="false">
        C) \([1,\,+\infty)\)
      </button>
      <button class="option-btn" data-option="D" data-correct="false">
        D) \([-3,\,-2)\)
      </button>
      <button class="option-btn" data-option="E" data-correct="true">
        E) \([-2,\,-1)\)
      </button>
    </div>
    <div class="feedback-msg" id="feedback"></div>
  </div>

  <!-- Plan -->
  <h2>Plan rešavanja</h2>
  <div class="card">
    <ul class="plan-list">
      <li>Izračunati vrednosti funkcije na krajnim tačkama segmenta: \(f(1)\) i \(f(e^2)\).</li>
      <li>Naći izvod \(f'(x)\) i kritične tačke unutar segmenta \((1, e^2)\).</li>
      <li>Izračunati vrednost funkcije u svakoj kritičnoj tački.</li>
      <li>Porediti sve vrednosti i odrediti maksimum \(M\) i minimum \(m\).</li>
      <li>Izračunati količnik \(M/m\) i utvrditi kojoj ponuđenoj grupi pripada.</li>
    </ul>
  </div>

  <!-- Theory -->
  <details>
    <summary>Teorija — Ekstremi neprekidne funkcije na segmentu</summary>
    <div class="details-body">
      <p>Svaka funkcija koja je <strong>neprekidna na segmentu</strong> \([a,b]\) dostiže svoju najveću i najmanju vrednost (Vajerstrasova teorema).</p>
      <p>Ove vrednosti se traže u sledećim tačkama:</p>
      <ul>
        <li><strong>Krajnje tačke</strong> segmenta: \(x = a\) i \(x = b\).</li>
        <li><strong>Kritične tačke</strong> unutar intervala: tačke gde je \(f'(x) = 0\) ili \(f'(x)\) ne postoji.</li>
      </ul>
      <p>Podsećanje na deriviranje složene funkcije:<br>
        \(\dfrac{d}{dx}(\ln x) = \dfrac{1}{x}\), pa je \(\dfrac{d}{dx}(\ln^2 x) = \dfrac{2\ln x}{x}\).</p>
    </div>
  </details>

  <!-- Canvas diagram -->
  <div class="canvas-wrapper">
    <h3 style="margin-bottom:10px; color:#94a3b8;">Graf funkcije \(f(x) = x(\ln^2 x - 3)\) na \([1,\, e^2]\)</h3>
    <canvas id="myCanvas" height="340"></canvas>
  </div>

  <!-- Steps -->
  <h2>Rešenje korak po korak</h2>

  <div class="step">
    <div class="step-badge">Korak 1</div>
    <p><strong>Vrednosti na krajnim tačkama segmenta</strong></p>
    <p>Za \(x = 1\): \(\ln 1 = 0\), pa:
    \[f(1) = 1 \cdot (0^2 - 3) = -3\]</p>
    <p>Za \(x = e^2\): \(\ln e^2 = 2\), pa:
    \[f(e^2) = e^2 \cdot (2^2 - 3) = e^2 \cdot 1 = e^2 \approx 7{,}39\]</p>
    <div class="checkpoint">Vrednosti na krajevima: \(f(1) = -3\), \(\;f(e^2) = e^2\)</div>
  </div>

  <div class="step">
    <div class="step-badge purple">Korak 2</div>
    <p><strong>Izvod funkcije — primena pravila za proizvod</strong></p>
    <p>Koristimo pravilo \((uv)' = u'v + uv'\), gde je \(u = x\) i \(v = \ln^2 x - 3\):</p>
    \[f'(x) = 1 \cdot (\ln^2 x - 3) + x \cdot \frac{2\ln x}{x}\]
    \[f'(x) = \ln^2 x - 3 + 2\ln x\]
    <p>Uvodimo smenu \(t = \ln x\) da bismo rešili kvadratnu jednačinu:</p>
    \[t^2 + 2t - 3 = 0\]
    \[(t + 3)(t - 1) = 0 \implies t = -3 \;\text{ ili }\; t = 1\]
  </div>

  <div class="step">
    <div class="step-badge purple">Korak 3</div>
    <p><strong>Pronalazak kritičnih tačaka unutar \([1, e^2]\)</strong></p>
    <p>Vraćamo se na smenu \(t = \ln x\):</p>
    <ul style="padding-left:20px; color:#cbd5e1; margin:8px 0;">
      <li>\(t = -3 \Rightarrow \ln x = -3 \Rightarrow x = e^{-3} \approx 0{,}050\) — <span style="color:#f472b6">van segmenta, odbacujemo</span></li>
      <li>\(t = 1 \Rightarrow \ln x = 1 \Rightarrow x = e \approx 2{,}718\) — <span style="color:#4ade80">unutar \([1, e^2]\)</span>, prihvatamo ✓</li>
    </ul>
    <div class="checkpoint">Jedina kritična tačka unutar segmenta: \(x = e\)</div>
  </div>

  <div class="step">
    <div class="step-badge green">Korak 4</div>
    <p><strong>Vrednost u kritičnoj tački \(x = e\)</strong></p>
    \[f(e) = e \cdot (\ln^2 e - 3) = e \cdot (1 - 3) = -2e \approx -5{,}44\]
    <div class="checkpoint">Vrednost u kritičnoj tački: \(f(e) = -2e\)</div>
  </div>

  <div class="step">
    <div class="step-badge green">Korak 5</div>
    <p><strong>Poređenje svih vrednosti i određivanje ekstrema</strong></p>
    <table>
      <thead>
        <tr><th>Tačka</th><th>Vrednost</th><th>Aproksimacija</th></tr>
      </thead>
      <tbody>
        <tr><td>\(x = 1\)</td><td>\(f(1) = -3\)</td><td>\(-3{,}000\)</td></tr>
        <tr><td>\(x = e\)</td><td class="highlight-min">\(f(e) = -2e\)</td><td class="highlight-min">\(-5{,}436\) → minimum</td></tr>
        <tr><td>\(x = e^2\)</td><td class="highlight-max">\(f(e^2) = e^2\)</td><td class="highlight-max">\(+7{,}389\) → maksimum</td></tr>
      </tbody>
    </table>
    \[m = f(e) = -2e \qquad M = f(e^2) = e^2\]
    <div class="checkpoint">Minimum: \(-2e\), Maksimum: \(e^2\)</div>
  </div>

  <div class="step">
    <div class="step-badge pink">Korak 6</div>
    <p><strong>Računanje količnika i određivanje skupa</strong></p>
    \[\frac{M}{m} = \frac{e^2}{-2e} = -\frac{e}{2}\]
    <p>Pošto je \(e \approx 2{,}718\):</p>
    \[-\frac{e}{2} \approx -\frac{2{,}718}{2} \approx -1{,}359\]
    <p>Proveravamo kojoj ponuđenoj grupi pripada vrednost \(-\dfrac{e}{2} \approx -1{,}359\):</p>
    <ul style="padding-left:20px; color:#cbd5e1; margin:8px 0;">
      <li>A) \((-\infty, -3)\): \(-1{,}359 > -3\) — ne važi</li>
      <li>B) \([-1, 1)\): \(-1{,}359 < -1\) — ne važi</li>
      <li>C) \([1, +\infty)\): negativna vrednost — ne važi</li>
      <li>D) \([-3, -2)\): \(-1{,}359 > -2\) — ne važi</li>
      <li>E) \([-2, -1)\): \(-2 \leq -1{,}359 < -1\) — <strong style="color:#4ade80">važi ✓</strong></li>
    </ul>
    <div class="checkpoint">\(-\dfrac{e}{2} \in [-2,\,-1)\) jer je \(-2 \leq -1{,}359 < -1\)</div>
  </div>

  <!-- Key Insight -->
  <div class="insight">
    <div class="insight-title">Ključna zapažanja</div>
    <p>Smena \(t = \ln x\) pretvara transcendentnu jednačinu \(f'(x) = 0\) u kvadratnu, koja se lako rešava. Kritično je zatim proveriti koje rešenje se nalazi <em>unutar</em> zadatog segmenta — rešenje \(x = e^{-3}\) otpada jer je van \([1, e^2]\). Upravo u unutrašnjoj kritičnoj tački \(x = e\) funkcija dostiže globalni minimum \(-2e\), dok je globalni maksimum \(e^2\) na desnoj krajnjoj tački.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <div class="label">Tačan odgovor</div>
    <div class="value">E) &nbsp; \([-2,\,-1)\)</div>
    <p style="margin-top:10px; color:#34d399; font-size:0.95rem;">
      \(\dfrac{M}{m} = \dfrac{e^2}{-2e} = -\dfrac{e}{2} \approx -1{,}359 \;\in\; [-2,\,-1)\)
    </p>
  </div>

  <!-- Pitfalls -->
  <h2>Česte greške</h2>
  <div class="pitfall">
    Tražiti minimum samo tamo gde je \(f'(x) = 0\), a zaboraviti da se krajnje tačke segmenta <strong>uvek moraju proveriti</strong> — funkcija može da dostigne ekstrem i na granici.
  </div>
  <div class="pitfall">
    Odbaciti kritičnu tačku \(x = e\) jer se "čini malenom" — treba uvek proveriti \(1 \leq e \leq e^2\) pre nego što se tačka odbaci ili prihvati.
  </div>
  <div class="pitfall">
    Pomešati redosled pri računanju količnika — pitanje traži <strong>najveća / najmanja</strong>, što daje \(e^2 / (-2e) = -e/2\), a ne obrnuto.
  </div>

  <!-- Challenge -->
  <div class="challenge">
    <div class="challenge-title">Izazovni zadatak</div>
    <p>
      Odrediti sve vrednosti parametra \(a > 0\) takve da funkcija \(g(x) = x(\ln^2 x - a)\) na segmentu \([1, e^2]\) ima negativan lokalni minimum. Za koje vrednosti parametra \(a\) lokalni minimum leži unutar otvorenog intervala \((1, e^2)\)?
    </p>
  </div>

</div><!-- end .container -->

<script>
(function() {
  // === Answer interaction ===
  const btns = document.querySelectorAll('.option-btn');
  const feedback = document.getElementById('feedback');
  let answered = false;

  btns.forEach(btn => {
    btn.addEventListener('click', () => {
      if (answered) return;
      answered = true;
      const correct = btn.dataset.correct === 'true';
      if (correct) {
        btn.classList.add('selected-correct');
        feedback.textContent = 'Tačno! Odlično zapaziš.';
        feedback.className = 'feedback-msg correct';
      } else {
        btn.classList.add('selected-wrong');
        feedback.textContent = 'Nije tačno. Pogledaj tačan odgovor: E) [-2, -1).';
        feedback.className = 'feedback-msg wrong';
        btns.forEach(b => { if (b.dataset.correct === 'true') b.classList.add('reveal-correct'); });
      }
      MathJax.typesetPromise && MathJax.typesetPromise([feedback]);
    });
  });

  // === Canvas ===
  const canvas = document.getElementById('myCanvas');
  const ctx = canvas.getContext('2d');

  function setup() {
    const dpr = window.devicePixelRatio || 1;
    const W = canvas.parentElement.clientWidth - 32;
    const H = 340;
    canvas.width  = W * dpr;
    canvas.height = H * dpr;
    canvas.style.width  = W + 'px';
    canvas.style.height = H + 'px';
    ctx.scale(dpr, dpr);
    draw(W, H);
  }

  function draw(W, H) {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Coordinate mapping
    const PAD_L = 58, PAD_R = 24, PAD_T = 30, PAD_B = 50;
    const plotW = W - PAD_L - PAD_R;
    const plotH = H - PAD_T - PAD_B;

    // Domain: x in [1, e²], f in [-2e-0.5, e²+0.5]
    const xMin = 1, xMax = Math.E * Math.E;
    const fMin = -2 * Math.E - 0.8, fMax = Math.E * Math.E + 1;

    function toCanvasX(x) { return PAD_L + (x - xMin) / (xMax - xMin) * plotW; }
    function toCanvasY(y) { return PAD_T + plotH - (y - fMin) / (fMax - fMin) * plotH; }
    function f(x) { const l = Math.log(x); return x * (l * l - 3); }

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    // horizontal grid
    const yTicks = [-6, -4, -2, 0, 2, 4, 6];
    yTicks.forEach(yv => {
      if (yv < fMin || yv > fMax) return;
      const cy = toCanvasY(yv);
      ctx.beginPath(); ctx.moveTo(PAD_L, cy); ctx.lineTo(PAD_L + plotW, cy); ctx.stroke();
    });
    // vertical grid
    const xTicks = [1, Math.E, Math.E * Math.E];
    xTicks.forEach(xv => {
      const cx = toCanvasX(xv);
      ctx.beginPath(); ctx.moveTo(cx, PAD_T); ctx.lineTo(cx, PAD_T + plotH); ctx.stroke();
    });

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis
    const yZero = toCanvasY(0);
    ctx.beginPath(); ctx.moveTo(PAD_L, yZero); ctx.lineTo(PAD_L + plotW, yZero); ctx.stroke();
    // y-axis
    ctx.beginPath(); ctx.moveTo(PAD_L, PAD_T); ctx.lineTo(PAD_L, PAD_T + plotH); ctx.stroke();

    // Draw function curve
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    const N = 400;
    for (let i = 0; i <= N; i++) {
      const x = xMin + (xMax - xMin) * i / N;
      const y = f(x);
      const cx = toCanvasX(x);
      const cy = toCanvasY(y);
      if (!started) { ctx.moveTo(cx, cy); started = true; }
      else ctx.lineTo(cx, cy);
    }
    ctx.stroke();

    // Special points
    const pts = [
      { x: 1, label: 'f(1)=−3', col: '#94a3b8', valLabel: '-3' },
      { x: Math.E, label: 'f(e)=−2e', col: '#f472b6', valLabel: '−2e' },
      { x: Math.E * Math.E, label: 'f(e²)=e²', col: '#4ade80', valLabel: 'e²' },
    ];

    pts.forEach(pt => {
      const y = f(pt.x);
      const cx = toCanvasX(pt.x);
      const cy = toCanvasY(y);

      // Dotted drop lines
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = pt.col + '88';
      ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(cx, cy); ctx.lineTo(cx, yZero); ctx.stroke();
      ctx.setLineDash([]);

      // Circle
      ctx.fillStyle = pt.col;
      ctx.beginPath(); ctx.arc(cx, cy, 5, 0, Math.PI * 2); ctx.fill();
      ctx.strokeStyle = '#0f172a'; ctx.lineWidth = 1.5;
      ctx.beginPath(); ctx.arc(cx, cy, 5, 0, Math.PI * 2); ctx.stroke();

      // Value label on y-axis side
      ctx.fillStyle = pt.col;
      ctx.font = 'bold 11px "Segoe UI", sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(pt.valLabel, PAD_L - 6, cy + 4);
    });

    // x-axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    [{ x: 1, lbl: '1' }, { x: Math.E, lbl: 'e' }, { x: Math.E * Math.E, lbl: 'e²' }].forEach(t => {
      ctx.fillText(t.lbl, toCanvasX(t.x), PAD_T + plotH + 18);
    });

    // y-axis zero label
    ctx.textAlign = 'right';
    ctx.fillText('0', PAD_L - 6, yZero + 4);

    // "max" and "min" annotations
    ctx.font = 'bold 11px "Segoe UI", sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'left';
    ctx.fillText('MAX', toCanvasX(Math.E * Math.E) + 7, toCanvasY(Math.E * Math.E) - 4);
    ctx.fillStyle = '#f472b6';
    ctx.fillText('MIN', toCanvasX(Math.E) + 7, toCanvasY(-2 * Math.E) + 4);

    // Axis labels
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'italic 13px "Segoe UI", sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('f(x)', PAD_L + 4, PAD_T + 14);
    ctx.textAlign = 'right';
    ctx.fillText('x', PAD_L + plotW - 2, yZero - 6);
  }

  setup();
  window.addEventListener('resize', setup);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Količnik ekstrema funkcije x(ln²x − 3) na segmentu [1, e²]","subject":"math","unit":"calculus","topic_tags":["ekstremi_funkcije","izvod","logaritamska_funkcija","segment","kvadratna_jednacina"]}
BRAINSPARK_META-->
