<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Razvoj binoma — član koji ne sadrži x</title>

  <script type="text/info" id="logic-scratchpad">
    PROBLEM:
    U razvoju (x^(1/5) + x^(-1/2))^21, x > 0, naći član koji ne sadrži x.

    Opšti član binomnog razvoja:
    T_{k+1} = C(21, k) * (x^(1/5))^(21-k) * (x^(-1/2))^k
             = C(21, k) * x^((21-k)/5) * x^(-k/2)
             = C(21, k) * x^((21-k)/5 - k/2)

    Eksponent od x:
    e(k) = (21-k)/5 - k/2 = [2(21-k) - 5k] / 10 = (42 - 7k) / 10

    Uslov: e(k) = 0
    42 - 7k = 0
    7k = 42
    k = 6

    Provera: k = 6 je ceo broj iz {0, 1, ..., 21} — validno.
    e(6) = (42 - 42)/10 = 0  ✓

    Traženi član: T_7 = C(21, 6) * x^0 = C(21, 6)

    Numerička vrednost: C(21, 6) = 21! / (6! * 15!) = 54264

    ODGOVOR: A) C(21, 6)
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.7;
      padding: 24px 20px 60px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 1rem;
      margin-bottom: 32px;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 700;
      color: #60a5fa;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card-title .icon {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.85rem;
      font-weight: 700;
      flex-shrink: 0;
    }

    .problem-statement .card-title .icon { background: #1d4ed8; color: #93c5fd; }

    .problem-text {
      font-size: 1.05rem;
      color: #e2e8f0;
      margin-bottom: 18px;
    }

    .given-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 1px solid #475569;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 0.95rem;
      color: #cbd5e1;
      cursor: default;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .given-item.answer-option .label {
      font-weight: 600;
      color: #94a3b8;
    }

    .given-item.answer-option .value {
      color: #cbd5e1;
    }

    .given-item.answer-option.correct {
      border-color: #34d399;
      background: #064e3b;
      color: #6ee7b7;
      font-weight: 700;
    }

    .given-item.answer-option.correct .label,
    .given-item.answer-option.correct .value {
      color: #6ee7b7;
    }

    .plan-card .card-title .icon { background: #0e7490; color: #67e8f9; }

    .plan-text {
      color: #94a3b8;
      font-style: italic;
    }

    details {
      border: 1px solid #334155;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 22px;
    }

    summary {
      background: #1e293b;
      padding: 12px 18px;
      cursor: pointer;
      font-weight: 600;
      color: #a78bfa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    summary::-webkit-details-marker { display: none; }

    summary::before {
      content: '\25B6';
      font-size: 0.7rem;
      transition: transform 0.2s;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .details-body {
      background: #0f172a;
      padding: 16px 20px;
      border-top: 1px solid #334155;
    }

    .formula-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      margin-top: 8px;
    }

    .formula-box {
      background: #1e293b;
      border-left: 3px solid #60a5fa;
      border-radius: 8px;
      padding: 12px 16px;
      color: #93c5fd;
      font-size: 0.95rem;
    }

    .formula-box .formula-label {
      color: #94a3b8;
      font-size: 0.82rem;
      margin-bottom: 4px;
    }

    canvas {
      display: block;
      width: 100%;
      border-radius: 10px;
      touch-action: none;
    }

    .steps-container { display: flex; flex-direction: column; gap: 20px; }

    .step {
      display: flex;
      gap: 18px;
      align-items: flex-start;
    }

    .step-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1d4ed8, #7c3aed);
      color: #fff;
      font-weight: 800;
      font-size: 0.95rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .step-content { flex: 1; }

    .step-title {
      font-weight: 700;
      font-size: 1rem;
      color: #c4b5fd;
      margin-bottom: 6px;
    }

    .step-body {
      color: #cbd5e1;
      font-size: 0.97rem;
    }

    .checkpoint {
      background: #0f172a;
      border: 1px solid #1d4ed8;
      border-radius: 8px;
      padding: 10px 14px;
      margin-top: 10px;
      color: #93c5fd;
      font-size: 0.93rem;
    }

    .insight-card {
      background: linear-gradient(135deg, #1e1b4b, #1e293b);
      border: 1px solid #4338ca;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .insight-card .card-title { color: #a78bfa; }
    .insight-card .card-title .icon { background: #4338ca; color: #c4b5fd; }

    .final-answer-card {
      background: linear-gradient(135deg, #064e3b, #1e293b);
      border: 2px solid #34d399;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
      text-align: center;
    }

    .final-answer-card .card-title {
      color: #34d399;
      justify-content: center;
    }

    .final-answer-card .card-title .icon { background: #065f46; color: #6ee7b7; }

    .final-value {
      font-size: 2.4rem;
      font-weight: 900;
      color: #4ade80;
      margin: 12px 0 6px;
    }

    .final-label {
      color: #6ee7b7;
      font-size: 1rem;
    }

    .pitfall-card {
      background: #1e293b;
      border: 1px solid #7f1d1d;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .pitfall-card .card-title { color: #f87171; }
    .pitfall-card .card-title .icon { background: #7f1d1d; color: #fca5a5; }

    .pitfall-item {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      margin-bottom: 10px;
      color: #fca5a5;
      font-size: 0.95rem;
    }

    .pitfall-item::before {
      content: '!';
      background: #7f1d1d;
      color: #fca5a5;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 0.8rem;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .challenge-card {
      background: #1e293b;
      border: 1px solid #d97706;
      border-radius: 14px;
      padding: 22px 26px;
      margin-bottom: 22px;
    }

    .challenge-card .card-title { color: #fbbf24; }
    .challenge-card .card-title .icon { background: #78350f; color: #fcd34d; }

    @media (max-width: 700px) {
      h1 { font-size: 1.4rem; }
      .card, .insight-card, .final-answer-card, .pitfall-card, .challenge-card { padding: 16px 14px; }
      .step { gap: 12px; }
      .final-value { font-size: 1.8rem; }
      .given-grid { gap: 8px; }
    }
  </style>
</head>
<body>
<div class="container">

  <h1>Razvoj binoma — clan koji ne sadrzi x</h1>
  <p class="subtitle">Binomni obrazac — odredjivanje clana nezavisnog od promenljive</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title">
      <span class="icon">P</span>
      Tekst zadatka
    </div>
    <div class="problem-text">
      U razvoju \(\left(\sqrt[5]{x} + \sqrt{\dfrac{1}{x}}\right)^{21}\), \(x > 0\),
      clan koji ne sadrzi \(x\) jednak je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dbinom{21}{6}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dbinom{21}{7}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dbinom{21}{9}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dbinom{21}{10}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dbinom{21}{5}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <div class="card-title">
      <span class="icon" style="background:#0e7490;color:#67e8f9;">&#8594;</span>
      Plan resavanja
    </div>
    <p class="plan-text">
      Zapisujemo obe osnove binoma kao stepene od \(x\), zatim primenjujemo binomni obrazac
      za opsti clan. Izrazavamo ukupni eksponent od \(x\) kao funkciju indeksa \(k\),
      postavljamo ga jednako nuli i resavamo po \(k\). Za nadjen \(k\) ocitavamo trazeni clan.
    </p>
  </div>

  <!-- Theory -->
  <details>
    <summary>Teorija: Binomni obrazac i opsti clan</summary>
    <div class="details-body">
      <div class="formula-grid">
        <div class="formula-box">
          <div class="formula-label">Binomna formula</div>
          \[ (a + b)^n = \sum_{k=0}^{n} \binom{n}{k}\, a^{n-k}\, b^k \]
        </div>
        <div class="formula-box">
          <div class="formula-label">Opsti clan</div>
          \[ T_{k+1} = \binom{n}{k}\, a^{n-k}\, b^k, \quad k = 0, 1, \ldots, n \]
        </div>
        <div class="formula-box">
          <div class="formula-label">Binomni koeficijent</div>
          \[ \binom{n}{k} = \frac{n!}{k!\,(n-k)!} \]
        </div>
        <div class="formula-box">
          <div class="formula-label">Pravilo stepena</div>
          \[ x^p \cdot x^q = x^{p+q}, \quad (x^p)^m = x^{pm} \]
        </div>
      </div>
    </div>
  </details>

  <!-- Canvas Visualization -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#065f46;color:#6ee7b7;">D</span>
      Vizualizacija eksponenta od \(x\)
    </div>
    <canvas id="expCanvas" height="340"></canvas>
  </div>

  <!-- Steps -->
  <div class="card">
    <div class="card-title">
      <span class="icon" style="background:#5b21b6;color:#ddd6fe;">K</span>
      Korak po korak
    </div>
    <div class="steps-container">

      <div class="step">
        <div class="step-badge">1</div>
        <div class="step-content">
          <div class="step-title">Prepisivanje osnova kao stepeni od \(x\)</div>
          <div class="step-body">
            <p>Prevedimo svaki sabirak u eksponentni oblik:</p>
            \[
              \sqrt[5]{x} = x^{1/5}, \qquad
              \sqrt{\frac{1}{x}} = \left(\frac{1}{x}\right)^{1/2} = x^{-1/2}
            \]
            <p style="margin-top:8px;">Dakle, razvijamo binom:</p>
            \[
              \left(x^{1/5} + x^{-1/2}\right)^{21}
            \]
            <div class="checkpoint">
              Obe osnove su stepeni od \(x\) sa racionalnim eksponentima: \(\frac{1}{5}\) i \(-\frac{1}{2}\).
            </div>
          </div>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">2</div>
        <div class="step-content">
          <div class="step-title">Opsti clan binomnog razvoja</div>
          <div class="step-body">
            <p>Primenjujemo formulu sa \(a = x^{1/5}\), \(b = x^{-1/2}\), \(n = 21\):</p>
            \[
              T_{k+1} = \binom{21}{k} \left(x^{1/5}\right)^{21-k} \cdot \left(x^{-1/2}\right)^{k}
            \]
            <p style="margin-top:8px;">Primenimo pravilo \((x^p)^m = x^{pm}\):</p>
            \[
              T_{k+1} = \binom{21}{k} \cdot x^{\frac{21-k}{5}} \cdot x^{-\frac{k}{2}}
            \]
            <div class="checkpoint">
              Indeks \(k\) uzima vrednosti od \(0\) do \(21\) (ukupno 22 clana u razvoju).
            </div>
          </div>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">3</div>
        <div class="step-content">
          <div class="step-title">Ukupni eksponent od \(x\)</div>
          <div class="step-body">
            <p>Sabiramo eksponente koristeci pravilo \(x^p \cdot x^q = x^{p+q}\):</p>
            \[
              T_{k+1} = \binom{21}{k} \cdot x^{\,\frac{21-k}{5}\, -\, \frac{k}{2}}
            \]
            <p style="margin-top:8px;">Svodimo na zajednicki imenilac \(10\):</p>
            \[
              \frac{21-k}{5} - \frac{k}{2}
              = \frac{2(21-k) - 5k}{10}
              = \frac{42 - 2k - 5k}{10}
              = \frac{42 - 7k}{10}
            \]
            <p style="margin-top:8px;">Dakle:</p>
            \[
              T_{k+1} = \binom{21}{k} \cdot x^{\,\frac{42 - 7k}{10}}
            \]
            <div class="checkpoint">
              Eksponent od \(x\) u opstem clanu je linearna funkcija: \(e(k) = \dfrac{42 - 7k}{10}\).
              Opada sa rastom \(k\).
            </div>
          </div>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">4</div>
        <div class="step-content">
          <div class="step-title">Uslov: eksponent jednak nuli</div>
          <div class="step-body">
            <p>Da bi clan ne sadrzao \(x\), potrebno je da vazi \(x^0 = 1\), tj.:</p>
            \[
              \frac{42 - 7k}{10} = 0
            \]
            \[
              42 - 7k = 0 \implies 7k = 42 \implies k = 6
            \]
            <div class="checkpoint">
              Proveravamo: \(k = 6\) je ceo broj i pripada segmentu \(\{0, 1, \ldots, 21\}\) — validan indeks.
            </div>
          </div>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">5</div>
        <div class="step-content">
          <div class="step-title">Trazeni clan</div>
          <div class="step-body">
            <p>Za \(k = 6\), trazeni clan je \(T_7\) (sedmi clan razvoja):</p>
            \[
              T_7 = \binom{21}{6} \cdot x^{\,0} = \binom{21}{6}
            \]
            <p style="margin-top:8px;">Numericka vrednost:</p>
            \[
              \binom{21}{6} = \frac{21!}{6! \cdot 15!} = \frac{21 \cdot 20 \cdot 19 \cdot 18 \cdot 17 \cdot 16}{6!} = \frac{39070080}{720} = 54264
            \]
            <div class="checkpoint">
              Clan je konstanta \(54264\) — zaista ne sadrzi \(x\).
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-card">
    <div class="card-title">
      <span class="icon">!</span>
      Kljucna ideja
    </div>
    <p>
      U binomnom razvoju \((x^p + x^q)^n\) opsti clan ima eksponent od \(x\) jednak
      \((n-k)\,p + k\,q\). Clan nezavisan od \(x\) dobijamo kada je taj eksponent
      <strong>tacno nula</strong>. Jednacina \((n-k)\,p + k\,q = 0\) odredjuje
      jedinstveno \(k\) (ako su \(p\) i \(q\) suprotnih znakova), sto znaci da
      postoji <em>tacno jedan</em> clan bez \(x\).
    </p>
    <p style="margin-top:10px;">
      <strong>Provera drugom metodom:</strong> Eksponent \(e(k) = \frac{42-7k}{10}\) je
      linearna funkcija koja se ponistava samo za \(k = 6\). Za \(k = 5\) imamo
      \(e(5) = \frac{42-35}{10} = 0{,}7 > 0\), a za \(k = 7\) imamo
      \(e(7) = \frac{42-49}{10} = -0{,}7 < 0\), sto potvrdjuje da je \(k = 6\)
      jedini korenski indeks.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="card-title">
      <span class="icon">&#10003;</span>
      Tacan odgovor
    </div>
    <div class="final-value">\(\displaystyle\binom{21}{6}\)</div>
    <div class="final-label">Odgovor <strong>A)</strong> &mdash; \(\binom{21}{6} = 54264\)</div>
  </div>

  <!-- Pitfalls -->
  <div class="pitfall-card">
    <div class="card-title">
      <span class="icon" style="background:#7f1d1d;color:#fca5a5;">!</span>
      Ceste greske
    </div>
    <div class="pitfall-item">
      <strong>Pogresan znak eksponenta:</strong>
      \(\sqrt{1/x} = x^{-1/2}\), ne \(x^{1/2}\).
      Zaboravljanje negativnog znaka dovodi do pogresnog \(k\).
    </div>
    <div class="pitfall-item">
      <strong>Mesanje indeksa:</strong>
      Opsti clan je \(T_{k+1}\), pa za \(k = 6\) dobijamo <em>sedmi</em> clan, ne sesti.
      Ali u ovom zadatku trazimo sam koeficijent, ne redni broj clana.
    </div>
    <div class="pitfall-item">
      <strong>Greska u zajednickom imeniocu:</strong>
      \(\frac{21-k}{5} - \frac{k}{2}\) zahteva imenilac \(10\), ne \(7\) ili \(5\).
      Pogresno svrstavanje daje pogresan uslov.
    </div>
    <div class="pitfall-item">
      <strong>Ne proveriti celobrojnost:</strong>
      Resenje \(k\) mora biti ceo broj iz \(\{0, 1, \ldots, 21\}\). Ako nije celobrojno,
      to znaci da takav clan ne postoji (sto ovde nije slucaj).
    </div>
  </div>

  <!-- Challenge -->
  <div class="challenge-card">
    <div class="card-title">
      <span class="icon" style="background:#78350f;color:#fcd34d;">*</span>
      Izazovni zadatak
    </div>
    <p style="color:#fde68a;">
      U razvoju \(\left(x^{1/3} + x^{-1/4}\right)^{n}\) postoji clan koji ne sadrzi \(x\).
      Koji je najmanji takav \(n \in \mathbb{N}\), i koliki je taj clan?
    </p>
    <p style="color:#94a3b8; margin-top:12px; font-size:0.9rem;">
      <em>Nagovestaj:</em> Uslov glasi \(\frac{n-k}{3} - \frac{k}{4} = 0\), odakle
      \(4(n-k) = 3k\), tj. \(4n = 7k\). Da bi \(k\) bio ceo broj, \(n\) mora biti
      deljivo sa \(7\). Najmanji takav \(n\) je \(7\), pa je \(k = 4\), a trazeni
      clan \(T_5 = \binom{7}{4} = 35\).
    </p>
  </div>

</div>

<script>
(function() {
  'use strict';

  /* Mark the correct answer option */
  var options = document.querySelectorAll('.given-item.answer-option');
  for (var i = 0; i < options.length; i++) {
    if (options[i].getAttribute('data-option') === 'A') {
      options[i].classList.add('correct');
    }
  }

  /* Canvas: plot of exponent e(k) = (42 - 7k) / 10 */
  var canvas = document.getElementById('expCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');

  function draw() {
    var dpr = window.devicePixelRatio || 1;
    var W = canvas.parentElement.clientWidth - 52;
    if (W < 280) W = 280;
    if (W > 700) W = 700;
    var H = 340;
    canvas.style.width = W + 'px';
    canvas.style.height = H + 'px';
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    /* Colors */
    var BG    = '#0f172a';
    var GRID  = '#1e293b';
    var AXIS  = '#334155';
    var BLUE  = '#60a5fa';
    var GREEN = '#4ade80';
    var PINK  = '#f472b6';
    var MUTED = '#94a3b8';
    var TEXT  = '#e2e8f0';

    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    /* Margins */
    var ml = 60, mr = 24, mt = 40, mb = 50;
    var pw = W - ml - mr;
    var ph = H - mt - mb;

    /* Data: k goes 0..21, e(k) = (42 - 7k)/10 */
    var nMax = 21;
    var expAtK = function(k) { return (42 - 7 * k) / 10; };

    /* Range */
    var eMax = expAtK(0);   /* 4.2 */
    var eMin = expAtK(21);  /* -10.5 */
    var yRange = eMax - eMin;
    var yPad = yRange * 0.08;

    var toX = function(k) { return ml + (k / nMax) * pw; };
    var toY = function(e) { return mt + ((eMax + yPad - e) / (yRange + 2 * yPad)) * ph; };

    /* Grid lines */
    ctx.strokeStyle = GRID;
    ctx.lineWidth = 1;
    for (var g = -10; g <= 5; g++) {
      var yg = toY(g);
      if (yg < mt || yg > mt + ph) continue;
      ctx.beginPath();
      ctx.moveTo(ml, yg);
      ctx.lineTo(ml + pw, yg);
      ctx.stroke();
    }

    /* Zero axis (dashed) */
    var y0 = toY(0);
    ctx.strokeStyle = AXIS;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(ml, y0);
    ctx.lineTo(ml + pw, y0);
    ctx.stroke();
    ctx.setLineDash([]);

    /* Label e=0 */
    ctx.fillStyle = MUTED;
    ctx.font = '11px system-ui';
    ctx.textAlign = 'right';
    ctx.fillText('0', ml - 8, y0 + 4);

    /* "e(k) = 0" annotation on the zero line */
    ctx.fillStyle = AXIS;
    ctx.font = '11px system-ui';
    ctx.textAlign = 'left';
    ctx.fillText('e(k) = 0', ml + pw - 46, y0 - 6);

    /* Line through points */
    ctx.strokeStyle = BLUE;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for (var ki = 0; ki <= nMax; ki++) {
      var xp = toX(ki);
      var yp = toY(expAtK(ki));
      if (ki === 0) ctx.moveTo(xp, yp);
      else ctx.lineTo(xp, yp);
    }
    ctx.stroke();

    /* Dots for each k */
    for (var ki2 = 0; ki2 <= nMax; ki2++) {
      var xp2 = toX(ki2);
      var yp2 = toY(expAtK(ki2));
      ctx.beginPath();
      ctx.arc(xp2, yp2, ki2 === 6 ? 6 : 3, 0, Math.PI * 2);
      ctx.fillStyle = (ki2 === 6) ? GREEN : BLUE;
      ctx.fill();
    }

    /* Highlighted point k=6: dashed vertical */
    var x6 = toX(6);
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(x6, toY(expAtK(6)));
    ctx.lineTo(x6, y0);
    ctx.stroke();
    ctx.setLineDash([]);

    /* Green circle on the zero axis at k=6 */
    ctx.beginPath();
    ctx.arc(x6, y0, 7, 0, Math.PI * 2);
    ctx.fillStyle = GREEN;
    ctx.fill();

    /* Label k = 6 */
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 13px system-ui';
    ctx.textAlign = 'center';
    ctx.fillText('k = 6', x6, y0 - 16);

    /* Annotation: C(21,6) */
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 12px system-ui';
    ctx.textAlign = 'left';
    ctx.fillText('T\u2087 = C(21, 6) = 54264', x6 + 12, y0 + 18);

    /* Y-axis labels */
    ctx.fillStyle = MUTED;
    ctx.font = '11px system-ui';
    ctx.textAlign = 'right';
    [4, 2, -2, -4, -6, -8, -10].forEach(function(v) {
      var yv = toY(v);
      if (yv < mt || yv > mt + ph) return;
      ctx.fillText(v, ml - 8, yv + 4);
    });

    /* X-axis labels */
    ctx.fillStyle = MUTED;
    ctx.textAlign = 'center';
    ctx.font = '11px system-ui';
    [0, 3, 6, 9, 12, 15, 18, 21].forEach(function(k) {
      ctx.fillStyle = (k === 6) ? GREEN : MUTED;
      ctx.fillText(k, toX(k), mt + ph + 18);
    });

    /* Axes */
    ctx.strokeStyle = AXIS;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(ml, mt);
    ctx.lineTo(ml, mt + ph);
    ctx.lineTo(ml + pw, mt + ph);
    ctx.stroke();

    /* Axis titles */
    ctx.fillStyle = MUTED;
    ctx.font = '12px system-ui';
    ctx.textAlign = 'center';
    ctx.fillText('k (indeks opsteg clana)', ml + pw / 2, mt + ph + 38);

    ctx.save();
    ctx.translate(16, mt + ph / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.textAlign = 'center';
    ctx.fillText('eksponent od x', 0, 0);
    ctx.restore();

    /* Title */
    ctx.fillStyle = TEXT;
    ctx.font = 'bold 13px system-ui';
    ctx.textAlign = 'center';
    ctx.fillText('Eksponent od x u op\u0161tem \u010Dlanu: e(k) = (42 \u2212 7k) / 10', W / 2, mt - 14);

    /* Shade positive / negative regions lightly */
    ctx.globalAlpha = 0.06;

    /* Positive region (k < 6) */
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.moveTo(toX(0), y0);
    for (var j = 0; j <= 6; j++) {
      ctx.lineTo(toX(j), toY(expAtK(j)));
    }
    ctx.lineTo(toX(6), y0);
    ctx.closePath();
    ctx.fill();

    /* Negative region (k > 6) */
    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.moveTo(toX(6), y0);
    for (var j2 = 6; j2 <= nMax; j2++) {
      ctx.lineTo(toX(j2), toY(expAtK(j2)));
    }
    ctx.lineTo(toX(nMax), y0);
    ctx.closePath();
    ctx.fill();

    ctx.globalAlpha = 1.0;

    /* Region labels */
    ctx.font = '11px system-ui';
    ctx.textAlign = 'center';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('x sa pozitivnim exp.', toX(3), y0 - 30);
    ctx.fillStyle = PINK;
    ctx.fillText('x sa negativnim exp.', toX(14), y0 + 32);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Razvoj binoma \u2014 \u010Dlan koji ne sadr\u017Ei x","subject":"math","unit":"algebra","topic_tags":["binomni_razvoj","binomni_koeficijent","racionalni_eksponenti","opsti_clan"]}
BRAINSPARK_META-->
