<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Povr≈°ina parka ‚Äî procenti i dimenzije</title>

  <script type="text/info" id="logic-scratchpad">
    Zadatak:
      ≈†irina parka = 120 m
      8% ≈°irine = 5% du≈æine
      Tra≈æimo: povr≈°inu parka

    Korak 1: 8% od 120
      = 0,08 * 120 = 9,6 m

    Korak 2: Jednaƒçina
      9,6 = 0,05 * d

    Korak 3: Du≈æina
      d = 9,6 / 0,05 = 192 m

    Korak 4: Povr≈°ina
      P = 120 * 192 = 23040 m¬≤

    Odgovor: E) 23040 m¬≤
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
  </script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      padding: 24px 16px 48px;
      line-height: 1.6;
    }

    .container {
      max-width: 820px;
      margin: 0 auto;
    }

    .title-section {
      text-align: center;
      margin-bottom: 32px;
    }

    .title-section h1 {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
    }

    .title-section p {
      color: #94a3b8;
      font-size: 1rem;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 14px;
      padding: 22px 24px;
      margin-bottom: 20px;
    }

    .card h2 {
      font-size: 1.1rem;
      font-weight: 600;
      color: #60a5fa;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .card h2 .icon {
      font-size: 1.2rem;
    }

    .problem-statement {
      border-left: 4px solid #60a5fa;
    }

    .problem-text {
      font-size: 1.05rem;
      color: #e2e8f0;
      margin-bottom: 18px;
      line-height: 1.8;
    }

    .given-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin-top: 12px;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 10px 8px;
      text-align: center;
      font-size: 0.95rem;
      color: #cbd5e1;
    }

    .given-item.answer-option .label {
      font-weight: 600;
      margin-bottom: 2px;
      color: #94a3b8;
    }

    .plan-text {
      color: #cbd5e1;
      font-size: 1rem;
    }

    details {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      margin-top: 4px;
    }

    details summary {
      cursor: pointer;
      padding: 12px 16px;
      font-weight: 600;
      color: #a78bfa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
      user-select: none;
    }

    details summary::-webkit-details-marker { display: none; }

    details summary::before {
      content: '\25B6';
      font-size: 0.7rem;
      transition: transform 0.2s;
      color: #a78bfa;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .theory-body {
      padding: 0 16px 16px;
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .theory-body p {
      margin-bottom: 10px;
    }

    .theory-body .rule {
      background: #1e293b;
      border-left: 3px solid #a78bfa;
      padding: 8px 14px;
      border-radius: 0 8px 8px 0;
      margin: 8px 0;
      font-size: 0.92rem;
    }

    .canvas-wrapper {
      border-radius: 10px;
      overflow: hidden;
      background: #0f172a;
      border: 1px solid #334155;
    }

    canvas {
      display: block;
      width: 100%;
      touch-action: none;
    }

    .step-list {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .step {
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }

    .step-badge {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.95rem;
      flex-shrink: 0;
      color: #0f172a;
    }

    .step-content {
      flex: 1;
    }

    .step-content h3 {
      font-size: 0.95rem;
      font-weight: 600;
      color: #60a5fa;
      margin-bottom: 6px;
    }

    .step-content p {
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .checkpoint-details {
      margin-top: 10px;
    }

    .insight-box {
      background: linear-gradient(135deg, rgba(167,139,250,0.12), rgba(96,165,250,0.12));
      border: 1px solid #a78bfa;
      border-radius: 12px;
      padding: 18px 22px;
      color: #e2e8f0;
    }

    .insight-box p {
      font-size: 0.97rem;
      line-height: 1.7;
    }

    .final-answer-box {
      border: 2px solid #34d399;
      border-radius: 14px;
      padding: 22px 24px;
      background: rgba(52, 211, 153, 0.08);
    }

    .final-answer-box h2 {
      color: #4ade80;
    }

    .final-answer-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 10px;
      margin-top: 12px;
    }

    .final-opt {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 10px 8px;
      text-align: center;
      font-size: 0.95rem;
      color: #94a3b8;
    }

    .final-opt.correct {
      border-color: #34d399;
      background: rgba(52, 211, 153, 0.15);
      color: #4ade80;
      font-weight: 700;
    }

    .pitfalls-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .pitfalls-list li {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .pitfalls-list li::before {
      content: '!';
      background: #f472b6;
      color: #0f172a;
      font-weight: 900;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      font-size: 0.8rem;
    }

    .challenge-box {
      background: rgba(244,114,182,0.08);
      border: 1px solid #f472b6;
      border-radius: 12px;
      padding: 18px 22px;
      color: #e2e8f0;
      font-size: 0.95rem;
    }

    .challenge-box h2 {
      color: #f472b6;
    }

    @media (max-width: 700px) {
      .title-section h1 { font-size: 1.5rem; }
      .given-grid { grid-template-columns: repeat(3, 1fr); }
      .final-answer-grid { grid-template-columns: repeat(3, 1fr); }
      .card { padding: 16px; }
    }
  </style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <div class="title-section">
    <h1>Povr≈°ina parka ‚Äî procenti i dimenzije</h1>
  </div>

  <!-- Postavljanje zadatka -->
  <div class="card problem-statement">
    <h2><span class="icon">üìã</span> Zadatak</h2>
    <div class="problem-text">
      ≈†irina parka iznosi \(120 \text{ m}\). Ako je \(8\%\) njegove ≈°irine jednako \(5\%\) njegove du≈æine, onda je povr≈°ina parka jednaka:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A"><div class="label">(A)</div><div class="value">\(24\,000 \text{ m}^2\)</div></div>
      <div class="given-item answer-option" data-option="B"><div class="label">(B)</div><div class="value">\(22\,200 \text{ m}^2\)</div></div>
      <div class="given-item answer-option" data-option="C"><div class="label">(C)</div><div class="value">\(21\,600 \text{ m}^2\)</div></div>
      <div class="given-item answer-option" data-option="D"><div class="label">(D)</div><div class="value">\(22\,800 \text{ m}^2\)</div></div>
      <div class="given-item answer-option" data-option="E"><div class="label">(E)</div><div class="value">\(23\,040 \text{ m}^2\)</div></div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2><span class="icon">üó∫Ô∏è</span> Plan re≈°avanja</h2>
    <p class="plan-text">
      Iz uslova \(8\% \cdot \text{≈°irina} = 5\% \cdot \text{du≈æina}\) izraƒçunamo du≈æinu parka,
      a zatim povr≈°inu kao proizvod ≈°irine i du≈æine.
    </p>
  </div>

  <!-- Teorija -->
  <div class="card">
    <h2><span class="icon">üìñ</span> Podsetnik iz teorije</h2>
    <details>
      <summary>Prika≈æi pravila za procente i povr≈°inu</summary>
      <div class="theory-body">
        <p>Koristiƒáemo osnovna pravila:</p>
        <div class="rule">
          <strong>Procenat broja:</strong>
          \( p\% \cdot a = \dfrac{p}{100} \cdot a \)
        </div>
        <div class="rule">
          <strong>Povr≈°ina pravougaonika:</strong>
          \( P = a \cdot b \), gde su \(a\) i \(b\) stranice (≈°irina i du≈æina)
        </div>
        <div class="rule">
          <strong>Proporcija iz procenata:</strong>
          Ako je \( p\% \cdot a = q\% \cdot b \), onda va≈æi \( b = \dfrac{p \cdot a}{q} \)
        </div>
      </div>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="card">
    <h2><span class="icon">üé®</span> Vizuelni prikaz parka</h2>
    <div class="canvas-wrapper">
      <canvas id="diagramCanvas" width="760" height="400"></canvas>
    </div>
  </div>

  <!-- Re≈°enje korak po korak -->
  <div class="card">
    <h2><span class="icon">üî¢</span> Re≈°enje korak po korak</h2>
    <div class="step-list">

      <div class="step">
        <div class="step-badge">1</div>
        <div class="step-content">
          <h3>Poznati podaci</h3>
          <p>
            ≈†irina parka: \(\, a = 120 \text{ m}\)<br>
            Uslov: \(8\%\) ≈°irine \(= 5\%\) du≈æine
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">2</div>
        <div class="step-content">
          <h3>Prevedimo uslov u jednaƒçinu</h3>
          <p>
            Neka je du≈æina parka \(d\). Uslov glasi:
            \[
              \frac{8}{100} \cdot 120 = \frac{5}{100} \cdot d
            \]
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">3</div>
        <div class="step-content">
          <h3>Izraƒçunajmo levu stranu</h3>
          <p>
            \[
              \frac{8}{100} \cdot 120 = \frac{8 \cdot 120}{100} = \frac{960}{100} = 9{,}6 \text{ m}
            \]
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">4</div>
        <div class="step-content">
          <h3>Naƒëimo du≈æinu parka</h3>
          <p>
            Iz jednaƒçine \(9{,}6 = 0{,}05 \cdot d\) dobijamo:
            \[
              d = \frac{9{,}6}{0{,}05} = \frac{9{,}6 \cdot 100}{5} = \frac{960}{5} = 192 \text{ m}
            \]
          </p>
          <details class="checkpoint-details">
            <summary>Provera: da li va≈æi \(5\% \cdot 192 = 9{,}6\)?</summary>
            <div class="theory-body">
              <p>\(0{,}05 \cdot 192 = 9{,}6\). Taƒçno!</p>
            </div>
          </details>
        </div>
      </div>

      <div class="step">
        <div class="step-badge">5</div>
        <div class="step-content">
          <h3>Izraƒçunajmo povr≈°inu parka</h3>
          <p>
            \[
              P = a \cdot d = 120 \cdot 192
            \]
            Mno≈æimo postupno:
            \[
              120 \cdot 192 = 120 \cdot 200 - 120 \cdot 8 = 24\,000 - 960 = 23\,040 \text{ m}^2
            \]
          </p>
          <details class="checkpoint-details">
            <summary>Alternativni naƒçin mno≈æenja</summary>
            <div class="theory-body">
              <p>
                \(120 \cdot 192 = 12 \cdot 10 \cdot 192 = 12 \cdot 1920\)<br>
                \(= 12 \cdot 2000 - 12 \cdot 80 = 24\,000 - 960 = 23\,040\). Taƒçno!
              </p>
            </div>
          </details>
        </div>
      </div>

    </div>
  </div>

  <!-- Kljuƒçna napomena -->
  <div class="card">
    <h2><span class="icon">üí°</span> Kljuƒçna napomena</h2>
    <div class="insight-box">
      <p>
        Uslov \(8\% \cdot a = 5\% \cdot d\) se mo≈æe preformulisati kao proporcija
        \(\dfrac{d}{a} = \dfrac{8}{5}\), ≈°to znaƒçi da je du≈æina za \(60\%\) veƒáa od ≈°irine.
        Ovo je br≈æi pristup: \(d = \dfrac{8}{5} \cdot 120 = \dfrac{960}{5} = 192 \text{ m}\).
      </p>
    </div>
  </div>

  <!-- Konaƒçan odgovor -->
  <div class="card final-answer-box">
    <h2><span class="icon">‚úÖ</span> Konaƒçan odgovor</h2>
    <p style="color:#cbd5e1; margin-bottom:4px;">
      Du≈æina parka: \(d = \dfrac{8\% \cdot 120}{5\%} = \dfrac{9{,}6}{0{,}05} = 192 \text{ m}\)
    </p>
    <p style="color:#cbd5e1; margin-bottom:12px;">
      Povr≈°ina parka: \(P = 120 \cdot 192 = \mathbf{23\,040 \text{ m}^2}\)
    </p>
    <div class="final-answer-grid" style="margin-top:16px;">
      <div class="final-opt">\(24\,000 \text{ m}^2\)</div>
      <div class="final-opt">\(22\,200 \text{ m}^2\)</div>
      <div class="final-opt">\(21\,600 \text{ m}^2\)</div>
      <div class="final-opt">\(22\,800 \text{ m}^2\)</div>
      <div class="final-opt correct">E) \(23\,040 \text{ m}^2\) ‚úì</div>
    </div>
  </div>

  <!-- ƒåeste gre≈°ke -->
  <div class="card">
    <h2><span class="icon">‚ö†Ô∏è</span> ƒåeste gre≈°ke</h2>
    <ul class="pitfalls-list">
      <li>Zamena ≈°irine i du≈æine u uslovu ‚Äî ako pogre≈°no postavimo da je \(5\%\) ≈°irine jednako \(8\%\) du≈æine, dobijamo du≈æinu \(75 \text{ m}\) i pogre≈°nu povr≈°inu.</li>
      <li>Gre≈°ka u mno≈æenju \(120 \cdot 192\) ‚Äî koristite rastavljanje, npr. \(120 \cdot 200 - 120 \cdot 8\), da smanjite ≈°ansu za gre≈°ku.</li>
      <li>Pogre≈°no tumaƒçenje procenata ‚Äî \(8\%\) od \(120\) je \(9{,}6\), a ne \(96\) ili \(0{,}96\). Pazite na polo≈æaj decimalne zapete.</li>
      <li>Zaboravljanje poslednjeg koraka ‚Äî zadatak tra≈æi povr≈°inu \(P = a \cdot d\), ne samo du≈æinu.</li>
    </ul>
  </div>

  <!-- Izazov -->
  <div class="card">
    <h2><span class="icon">üèÜ</span> Dodatni izazov</h2>
    <div class="challenge-box">
      <p>
        Povr≈°ina pravougaonog zemlji≈°ta iznosi \(15\,000 \text{ m}^2\), a \(12\%\) ≈°irine je jednako \(10\%\) du≈æine.
        Kolika je ≈°irina tog zemlji≈°ta?
        <br>
        (Savet: iz proporcije \(\frac{d}{a} = \frac{12}{10}\) i \(a \cdot d = 15\,000\) dobijate sistem dve jednaƒçine.)
      </p>
    </div>
  </div>

</div><!-- /container -->

<script>
(() => {
  const canvas = document.getElementById('diagramCanvas');
  const ctx = canvas.getContext('2d');

  const W = 760, H = 400;
  let highlighted = -1;

  // Park drawing dimensions
  const parkLeft = 110;
  const parkTop = 55;
  const parkW = 480;
  const parkH = 300;

  // Percentage strips (scaled to canvas)
  const pct8H = Math.round(parkH * 0.08);  // 8% of width (height on canvas)
  const pct5W = Math.round(parkW * 0.05);  // 5% of length (width on canvas)

  function roundRect(x, y, w, h, r, fill, stroke) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
    if (fill) { ctx.fillStyle = fill; ctx.fill(); }
    if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = 2; ctx.stroke(); }
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color;
    ctx.fillStyle = color;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();
    var angle = Math.atan2(y2 - y1, x2 - x1);
    var headLen = 7;
    // End arrowhead
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fill();
    // Start arrowhead
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x1 + headLen * Math.cos(angle + Math.PI - 0.4), y1 + headLen * Math.sin(angle + Math.PI - 0.4));
    ctx.lineTo(x1 + headLen * Math.cos(angle + Math.PI + 0.4), y1 + headLen * Math.sin(angle + Math.PI + 0.4));
    ctx.closePath();
    ctx.fill();
  }

  // Clickable regions
  var regions = [
    { idx: 0, x: parkLeft, y: parkTop, w: parkW, h: parkH, label: 'park' },
    { idx: 1, x: parkLeft, y: parkTop + parkH - pct8H, w: parkW, h: pct8H, label: '8%' },
    { idx: 2, x: parkLeft, y: parkTop, w: pct5W, h: parkH, label: '5%' }
  ];

  function drawDiagram(hl) {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var x = 40; x < W; x += 40) {
      ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, H); ctx.stroke();
    }
    for (var y = 40; y < H; y += 40) {
      ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(W, y); ctx.stroke();
    }

    // Park rectangle (green fill)
    var isHlPark = (hl === 0);
    ctx.fillStyle = isHlPark ? '#14532d' : '#0a3622';
    roundRect(parkLeft, parkTop, parkW, parkH, 6, ctx.fillStyle, null);
    ctx.strokeStyle = isHlPark ? '#4ade80' : '#22c55e';
    ctx.lineWidth = 2.5;
    roundRect(parkLeft, parkTop, parkW, parkH, 6, null, ctx.strokeStyle);

    // Decorative trees
    var trees = [
      [0.15, 0.2], [0.45, 0.15], [0.78, 0.25],
      [0.2, 0.6], [0.6, 0.7], [0.35, 0.45],
      [0.85, 0.55], [0.55, 0.4]
    ];
    trees.forEach(function(pos) {
      var tx = parkLeft + pos[0] * parkW;
      var ty = parkTop + pos[1] * parkH;
      ctx.fillStyle = '#16a34a';
      ctx.beginPath();
      ctx.arc(tx, ty, 9, 0, Math.PI * 2);
      ctx.fill();
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(tx, ty, 5, 0, Math.PI * 2);
      ctx.fill();
    });

    // 8% of width strip (horizontal band at bottom)
    var stripY = parkTop + parkH - pct8H;
    var isHl8 = (hl === 1);
    ctx.fillStyle = isHl8 ? 'rgba(244,114,182,0.4)' : 'rgba(244,114,182,0.18)';
    ctx.fillRect(parkLeft + 1, stripY, parkW - 2, pct8H - 1);
    ctx.strokeStyle = isHl8 ? '#f472b6' : '#f472b688';
    ctx.lineWidth = 1.5;
    ctx.strokeRect(parkLeft + 1, stripY, parkW - 2, pct8H - 1);

    // 8% label
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('8% od 120 m = 9,6 m', parkLeft + parkW + 10, stripY + pct8H / 2 + 4);

    // 5% of length strip (vertical band at left)
    var isHl5 = (hl === 2);
    ctx.fillStyle = isHl5 ? 'rgba(52,211,153,0.4)' : 'rgba(52,211,153,0.18)';
    ctx.fillRect(parkLeft + 1, parkTop + 1, pct5W - 1, parkH - 2);
    ctx.strokeStyle = isHl5 ? '#34d399' : '#34d39988';
    ctx.lineWidth = 1.5;
    ctx.strokeRect(parkLeft + 1, parkTop + 1, pct5W - 1, parkH - 2);

    // 5% label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('5% od 192 m = 9,6 m', parkLeft + pct5W / 2 + 2, parkTop + parkH + 24);

    // Dimension arrow ‚Äî width (left side, vertical)
    drawArrow(parkLeft - 35, parkTop, parkLeft - 35, parkTop + parkH, '#60a5fa');
    ctx.save();
    ctx.translate(parkLeft - 50, parkTop + parkH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('≈°irina = 120 m', 0, 0);
    ctx.restore();

    // Dimension arrow ‚Äî length (top, horizontal)
    drawArrow(parkLeft, parkTop - 20, parkLeft + parkW, parkTop - 20, '#a78bfa');
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('du≈æina = 192 m', parkLeft + parkW / 2, parkTop - 30);

    // Equality annotation
    ctx.fillStyle = '#fbbf24';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('9,6 m = 9,6 m  (jednake vrednosti!)', parkLeft + parkW / 2 + 40, parkTop + parkH + 45);

    // Area label inside park
    var areaBoxW = 200;
    var areaBoxH = 40;
    var areaBoxX = parkLeft + parkW / 2 - areaBoxW / 2;
    var areaBoxY = parkTop + parkH / 2 - areaBoxH / 2;
    roundRect(areaBoxX, areaBoxY, areaBoxW, areaBoxH, 8,
      'rgba(15,23,42,0.85)', '#4ade8088');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('P = 23 040 m\u00B2', parkLeft + parkW / 2, parkTop + parkH / 2 + 5);

    // Info
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Klikni na razliƒçite delove za detalje', 12, H - 10);
  }

  drawDiagram(-1);

  function getHit(px, py) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var scaleY = H / rect.height;
    var cx = (px - rect.left) * scaleX;
    var cy = (py - rect.top) * scaleY;
    // Check smaller regions first (reverse order)
    for (var i = regions.length - 1; i >= 0; i--) {
      var r = regions[i];
      if (cx >= r.x && cx <= r.x + r.w && cy >= r.y && cy <= r.y + r.h) return r.idx;
    }
    return -1;
  }

  canvas.addEventListener('click', function(e) {
    var hit = getHit(e.clientX, e.clientY);
    highlighted = hit === highlighted ? -1 : hit;
    drawDiagram(highlighted);
  });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    var t = e.touches[0];
    var hit = getHit(t.clientX, t.clientY);
    highlighted = hit === highlighted ? -1 : hit;
    drawDiagram(highlighted);
  }, { passive: false });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Povr≈°ina parka ‚Äî procenti i dimenzije","subject":"math","unit":"arithmetic","topic_tags":["procenti","povr≈°ina","pravougaonik","proporcije","procentni_raƒçun"]}
BRAINSPARK_META-->