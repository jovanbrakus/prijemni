<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FON 2024 ‚Äì Zadatak 4</title>
<script>
MathJax = { tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] }, svg: { fontCache: 'global' } };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<script type="text/info" id="logic-scratchpad">
RE≈†AVANJE:

Izraz: (1/a¬≤ - 1/b¬≤) : (1/a + 1/b)

Korak 1: Raspi≈°emo razliku kvadrata recipronih vrednosti.
  1/a¬≤ - 1/b¬≤ = (b¬≤ - a¬≤)/(a¬≤b¬≤) = (b - a)(b + a) / (a¬≤b¬≤)

Korak 2: Raspi≈°emo zbir recipronih vrednosti.
  1/a + 1/b = (b + a)/(ab)

Korak 3: Delimo prvi izraz sa drugim (mno≈æimo reciproƒçnom vredno≈°ƒáu).
  [(b - a)(b + a)/(a¬≤b¬≤)] √∑ [(b + a)/(ab)]
= [(b - a)(b + a)/(a¬≤b¬≤)] √ó [ab/(b + a)]
= (b - a)(b + a) √ó ab / (a¬≤b¬≤ √ó (b + a))
= (b - a) √ó ab / (a¬≤b¬≤)   [skraƒáujemo (b + a), moguƒáe jer a ‚â† -b, tj. b + a ‚â† 0]
= (b - a) / (ab)
= b/(ab) - a/(ab)
= 1/a - 1/b

Taƒçan odgovor je D) 1/a - 1/b.

Provera: neka a = 2, b = 4.
  (1/4 - 1/16) : (1/2 + 1/4) = (4/16 - 1/16) : (3/4) = (3/16) : (3/4) = (3/16)√ó(4/3) = 12/48 = 1/4
  1/a - 1/b = 1/2 - 1/4 = 2/4 - 1/4 = 1/4 ‚úì
</script>

<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, sans-serif;
    font-size: 16px;
    line-height: 1.7;
    padding: 24px 16px 60px;
  }
  a { color: #60a5fa; }

  .page-title {
    text-align: center;
    font-size: 1.8rem;
    font-weight: 800;
    background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 8px;
  }
  .page-subtitle {
    text-align: center;
    color: #94a3b8;
    font-size: 0.95rem;
    margin-bottom: 32px;
  }

  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 24px;
    max-width: 820px;
    margin-left: auto;
    margin-right: auto;
  }
  .card-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .card-title .icon { font-size: 1.2rem; }

  /* Problem statement */
  .problem-statement .problem-text {
    font-size: 1.08rem;
    margin-bottom: 20px;
    color: #e2e8f0;
  }
  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .option-btn {
    background: #0f172a;
    border: 2px solid #334155;
    border-radius: 10px;
    padding: 12px 16px;
    color: #e2e8f0;
    font-size: 1rem;
    cursor: pointer;
    text-align: center;
    transition: border-color 0.2s, background 0.2s;
    font-family: inherit;
  }
  .option-btn:hover { border-color: #60a5fa; background: #1e3a5f; }
  .option-btn.selected { border-color: #a78bfa; background: #2d1f5e; }
  .option-btn.correct { border-color: #34d399; background: #0d3d2e; color: #4ade80; }
  .option-btn.wrong { border-color: #f472b6; background: #3d0d28; color: #f9a8d4; }

  /* Plan */
  .plan-steps { list-style: none; counter-reset: plan; }
  .plan-steps li {
    counter-increment: plan;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    margin-bottom: 10px;
    color: #cbd5e1;
  }
  .plan-steps li::before {
    content: counter(plan);
    background: #60a5fa;
    color: #0f172a;
    font-weight: 700;
    border-radius: 50%;
    min-width: 26px;
    height: 26px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.85rem;
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* Theory */
  details { border: 1px solid #334155; border-radius: 10px; margin-bottom: 0; }
  details summary {
    padding: 14px 18px;
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  details summary::-webkit-details-marker { display: none; }
  details summary::before { content: '‚ñ∂'; font-size: 0.75rem; transition: transform 0.2s; }
  details[open] summary::before { transform: rotate(90deg); }
  .theory-body { padding: 0 18px 18px; color: #cbd5e1; }
  .formula-box {
    background: #0f172a;
    border-left: 3px solid #a78bfa;
    border-radius: 6px;
    padding: 12px 16px;
    margin: 10px 0;
    font-size: 1rem;
  }

  /* Canvas */
  .canvas-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }
  canvas {
    border-radius: 10px;
    border: 1px solid #334155;
    background: #0f172a;
    max-width: 100%;
    touch-action: none;
  }
  .canvas-caption {
    color: #94a3b8;
    font-size: 0.88rem;
    text-align: center;
  }
  .canvas-controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
  .ctrl-btn {
    background: #334155;
    border: none;
    border-radius: 8px;
    color: #e2e8f0;
    padding: 8px 18px;
    font-size: 0.9rem;
    cursor: pointer;
    font-family: inherit;
    transition: background 0.2s;
  }
  .ctrl-btn:hover { background: #475569; }
  .ctrl-btn.active { background: #60a5fa; color: #0f172a; font-weight: 700; }

  /* Steps */
  .step {
    border-left: 3px solid #334155;
    padding: 0 0 20px 20px;
    margin-bottom: 0;
    position: relative;
  }
  .step:last-child { padding-bottom: 0; }
  .step-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: #1e3a5f;
    border: 1px solid #60a5fa;
    border-radius: 20px;
    padding: 3px 12px;
    font-size: 0.82rem;
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 10px;
  }
  .step-body { color: #cbd5e1; }
  .step-math {
    background: #0f172a;
    border-radius: 8px;
    padding: 12px 18px;
    margin: 10px 0;
    overflow-x: auto;
  }
  .checkpoint {
    background: #0d3d2e;
    border: 1px solid #34d399;
    border-radius: 8px;
    padding: 10px 14px;
    margin-top: 12px;
    color: #4ade80;
    font-size: 0.92rem;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  /* Key Insight */
  .insight-box {
    background: linear-gradient(135deg, #1e1b4b 0%, #1e293b 100%);
    border: 1px solid #a78bfa;
    border-radius: 12px;
    padding: 18px 22px;
    color: #e2e8f0;
  }
  .insight-box strong { color: #a78bfa; }

  /* Final answer */
  .final-answer {
    background: #0d3d2e;
    border: 2px solid #34d399;
    border-radius: 14px;
    padding: 24px 28px;
    text-align: center;
  }
  .final-answer .fa-label {
    color: #94a3b8;
    font-size: 0.9rem;
    margin-bottom: 8px;
  }
  .final-answer .fa-expr {
    font-size: 1.6rem;
    color: #4ade80;
    font-weight: 700;
    margin-bottom: 8px;
  }
  .final-answer .fa-option {
    font-size: 1.1rem;
    color: #34d399;
  }

  /* Pitfalls */
  .pitfall {
    display: flex;
    gap: 12px;
    align-items: flex-start;
    margin-bottom: 14px;
    color: #cbd5e1;
  }
  .pitfall:last-child { margin-bottom: 0; }
  .pitfall-icon { font-size: 1.2rem; flex-shrink: 0; margin-top: 2px; }

  /* Challenge */
  .challenge-box {
    background: #1a1035;
    border: 1px dashed #a78bfa;
    border-radius: 12px;
    padding: 18px 22px;
    color: #c4b5fd;
  }

  @media (max-width: 700px) {
    .card { padding: 18px 16px; }
    .page-title { font-size: 1.4rem; }
    .given-grid { grid-template-columns: 1fr 1fr; }
    .final-answer .fa-expr { font-size: 1.3rem; }
  }
</style>
</head>
<body>

<h1 class="page-title">FON Beograd ‚Äì Prijemni 2024 (1. probni)</h1>
<p class="page-subtitle">Zadatak 4 &mdash; Algebarski razlomci i identiteti</p>

<!-- POSTAVKA -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">üìã</span> Postavka zadatka</div>
  <div class="problem-text">
    Za \(a \cdot b \neq 0\) i \(a \neq -b\), izraz
    \[
      \left(\frac{1}{a^2} - \frac{1}{b^2}\right) : \left(\frac{1}{a} + \frac{1}{b}\right)
    \]
    identiƒçki je jednak izrazu:
  </div>
  <div class="given-grid">
    <button class="option-btn" data-option="A" onclick="chooseOption(this,'A')">
      A) \(\dfrac{1}{a} + \dfrac{1}{b}\)
    </button>
    <button class="option-btn" data-option="B" onclick="chooseOption(this,'B')">
      B) \(\dfrac{1}{b} - \dfrac{1}{a}\)
    </button>
    <button class="option-btn" data-option="C" onclick="chooseOption(this,'C')">
      C) \(\dfrac{1}{b^3} - \dfrac{1}{a^3}\)
    </button>
    <button class="option-btn" data-option="D" onclick="chooseOption(this,'D')">
      D) \(\dfrac{1}{a} - \dfrac{1}{b}\)
    </button>
    <button class="option-btn" data-option="E" onclick="chooseOption(this,'E')">
      E) \(\dfrac{1}{a^3} - \dfrac{1}{b^3}\)
    </button>
  </div>
</div>

<!-- PLAN -->
<div class="card">
  <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan re≈°avanja</div>
  <ol class="plan-steps">
    <li>Izraziti razliku \(\tfrac{1}{a^2} - \tfrac{1}{b^2}\) kao jedan razlomak i primeniti <em>razliku kvadrata</em>.</li>
    <li>Izraziti zbir \(\tfrac{1}{a} + \tfrac{1}{b}\) kao jedan razlomak.</li>
    <li>Deljenje zameniti mno≈æenjem reciproƒçnom vredno≈°ƒáu i skratiti zajedniƒçki faktor.</li>
    <li>Dobijeni rezultat raspisati kao razliku recipronih vrednosti i prepoznati taƒçan odgovor.</li>
  </ol>
</div>

<!-- TEORIJA -->
<div class="card">
  <div class="card-title"><span class="icon">üìñ</span> Teorijsko osve≈æenje</div>
  <details>
    <summary>Razlika kvadrata i deljenje razlomaka</summary>
    <div class="theory-body">
      <p><strong>Razlika kvadrata:</strong></p>
      <div class="formula-box">
        \[ A^2 - B^2 = (A - B)(A + B) \]
      </div>
      <p>Ovde ƒáemo primeniti ovaj obrazac na razliku \(\tfrac{1}{a^2} - \tfrac{1}{b^2}\) gde je &ldquo;\(A\)&rdquo; = \(\tfrac{1}{a}\) i &ldquo;\(B\)&rdquo; = \(\tfrac{1}{b}\):</p>
      <div class="formula-box">
        \[ \frac{1}{a^2} - \frac{1}{b^2} = \left(\frac{1}{a} - \frac{1}{b}\right)\!\left(\frac{1}{a} + \frac{1}{b}\right) \]
      </div>
      <p style="margin-top:14px"><strong>Deljenje razlomaka:</strong></p>
      <div class="formula-box">
        \[ \frac{P}{Q} : \frac{R}{S} = \frac{P}{Q} \cdot \frac{S}{R} \]
      </div>
      <p style="margin-top:10px">Skraƒáivanje je dozvoljeno samo kada imenilac nije nula ‚Äì zato nam uslovi \(ab \neq 0\) i \(a \neq -b\) garantuju da delimo nenultim izrazima.</p>
    </div>
  </details>
</div>

<!-- VIZUELNI PRIKAZ -->
<div class="card">
  <div class="card-title"><span class="icon">üé®</span> Vizuelni prikaz ‚Äì proverite vrednostima</div>
  <div class="canvas-wrap">
    <canvas id="vizCanvas" width="720" height="320"></canvas>
    <p class="canvas-caption">Izaberite vrednosti <em>a</em> i <em>b</em> i vidite kako oba izraza daju isti rezultat.</p>
    <div class="canvas-controls">
      <button class="ctrl-btn" onclick="setAB(2,4)">a = 2, b = 4</button>
      <button class="ctrl-btn" onclick="setAB(3,6)">a = 3, b = 6</button>
      <button class="ctrl-btn" onclick="setAB(-1,2)">a = &minus;1, b = 2</button>
      <button class="ctrl-btn" onclick="setAB(5,-3)">a = 5, b = &minus;3</button>
    </div>
  </div>
</div>

<!-- RE≈†ENJE KORAK PO KORAK -->
<div class="card">
  <div class="card-title"><span class="icon">üî¢</span> Re≈°enje korak po korak</div>

  <div class="step">
    <div class="step-badge">Korak 1 ‚Äì Razlika u brojevniku</div>
    <div class="step-body">
      <p>Prepisujemo razliku \(\tfrac{1}{a^2} - \tfrac{1}{b^2}\) na zajedniƒçki imenilac \(a^2 b^2\):</p>
      <div class="step-math">
        \[
          \frac{1}{a^2} - \frac{1}{b^2}
          = \frac{b^2 - a^2}{a^2 b^2}
        \]
      </div>
      <p>Zatim primenjujemo <em>razliku kvadrata</em> \(b^2 - a^2 = (b-a)(b+a)\):</p>
      <div class="step-math">
        \[
          \frac{b^2 - a^2}{a^2 b^2}
          = \frac{(b - a)(b + a)}{a^2 b^2}
        \]
      </div>
      <div class="checkpoint">‚úî Brojevnik smo faktorizovali kao proizvod dva faktora.</div>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">Korak 2 ‚Äì Delilac kao jedan razlomak</div>
    <div class="step-body">
      <p>Delilac \(\tfrac{1}{a} + \tfrac{1}{b}\) prepisujemo na zajedniƒçki imenilac \(ab\):</p>
      <div class="step-math">
        \[
          \frac{1}{a} + \frac{1}{b} = \frac{b + a}{ab}
        \]
      </div>
      <div class="checkpoint">‚úî Primetimo da faktor \((b + a)\) nastupa i u brojevniku i u deliocu.</div>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">Korak 3 ‚Äì Deljenje = mno≈æenje reciproƒçnim</div>
    <div class="step-body">
      <p>Sada delimo:</p>
      <div class="step-math">
        \[
          \frac{(b-a)(b+a)}{a^2 b^2}
          \div
          \frac{b+a}{ab}
          =
          \frac{(b-a)(b+a)}{a^2 b^2}
          \cdot
          \frac{ab}{b+a}
        \]
      </div>
      <p>Buduƒái da je \(a \neq -b\), va≈æi \(b + a \neq 0\), pa smemo skratiti faktor \((b+a)\):</p>
      <div class="step-math">
        \[
          = \frac{(b-a)\,\cancel{(b+a)}}{a^2 b^2}
            \cdot
            \frac{ab}{\cancel{b+a}}
          = \frac{(b-a) \cdot ab}{a^2 b^2}
          = \frac{b - a}{ab}
        \]
      </div>
      <div class="checkpoint">‚úî Skraƒáivanjem smo dobili mnogo jednostavniji izraz.</div>
    </div>
  </div>

  <div class="step">
    <div class="step-badge">Korak 4 ‚Äì Prepoznavanje oblika</div>
    <div class="step-body">
      <p>Raspisujemo \(\dfrac{b-a}{ab}\) kao razliku dve frakcije:</p>
      <div class="step-math">
        \[
          \frac{b - a}{ab}
          = \frac{b}{ab} - \frac{a}{ab}
          = \frac{1}{a} - \frac{1}{b}
        \]
      </div>
      <div class="checkpoint">‚úî Rezultat odgovara odgovoru D.</div>
    </div>
  </div>
</div>

<!-- KLJUƒåNA NAPOMENA -->
<div class="card">
  <div class="card-title"><span class="icon">üí°</span> Kljuƒçna napomena</div>
  <div class="insight-box">
    <strong>Razlika kvadrata je kljuƒç.</strong><br>
    ƒåim vidimo \(\tfrac{1}{a^2} - \tfrac{1}{b^2}\), treba da prepoznamo obrazac \(A^2 - B^2\) sa
    \(A = \tfrac{1}{a}\), \(B = \tfrac{1}{b}\). Faktorizacijom dobijamo faktor
    \(\bigl(\tfrac{1}{a} + \tfrac{1}{b}\bigr)\) koji je <em>identiƒçan</em> deliocu
    &mdash; i skraƒáuje se u potpunosti. Ostaje samo drugi faktor
    \(\bigl(\tfrac{1}{a} - \tfrac{1}{b}\bigr)\).
  </div>
</div>

<!-- KONAƒåNI ODGOVOR -->
<div class="card">
  <div class="card-title"><span class="icon">üèÅ</span> Konaƒçni odgovor</div>
  <div class="final-answer">
    <div class="fa-label">Taƒçan odgovor je:</div>
    <div class="fa-expr">\(\displaystyle \frac{1}{a} - \frac{1}{b}\)</div>
    <div class="fa-option">Odgovor D</div>
  </div>
</div>

<!-- ƒåESTE GRE≈†KE -->
<div class="card">
  <div class="card-title"><span class="icon">‚ö†Ô∏è</span> ƒåeste gre≈°ke</div>
  <div class="pitfall">
    <span class="pitfall-icon">üî¥</span>
    <div><strong>Pogre≈°an redosled u razlici.</strong> Mnogi uƒçenici dobiju \(\tfrac{1}{b} - \tfrac{1}{a}\) (odgovor B) jer zamene koje je brojevnik a koje imenilac pri oduzimanju. Pa≈æljivo: \(b^2 - a^2 = (b-a)(b+a)\), ne \((a-b)(a+b)\).</div>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">üî¥</span>
    <div><strong>Zaboravljanje uslova.</strong> Skraƒáivanje faktora \((b+a)\) zahteva \(b + a \neq 0\), tj. \(a \neq -b\). Zadatak taj uslov eksplicitno navodi &ndash; bez njega izraz ne bi bio definisan.</div>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">üî¥</span>
    <div><strong>Deljenje umesto mno≈æenja.</strong> \(P : Q = P \cdot \tfrac{1}{Q}\). ƒåesta gre≈°ka je da se zadr≈æimo na deljenju i ne obrnemo razlomak.</div>
  </div>
</div>

<!-- IZAZOV -->
<div class="card">
  <div class="card-title"><span class="icon">üöÄ</span> Dodatni izazov</div>
  <div class="challenge-box">
    <p>Poka≈æite da va≈æi analogni identitet:</p>
    <p style="margin-top:10px; text-align:center">
      \[
        \left(\frac{1}{a^3} - \frac{1}{b^3}\right)
        :
        \left(\frac{1}{a^2} + \frac{1}{ab} + \frac{1}{b^2}\right)
        = \frac{1}{b} - \frac{1}{a}
      \]
    </p>
    <p style="margin-top:10px; color: #a78bfa; font-size: 0.93rem;"><em>Uputstvo: primenite obrazac razlike kubova \(A^3 - B^3 = (A-B)(A^2+AB+B^2)\).</em></p>
  </div>
</div>

<script>
(function () {
  'use strict';

  /* ---------- odabir odgovora ---------- */
  var CORRECT = 'D';
  var answered = false;

  window.chooseOption = function (btn, opt) {
    if (answered) return;
    answered = true;
    var all = document.querySelectorAll('.option-btn');
    all.forEach(function (b) {
      var o = b.getAttribute('data-option');
      if (o === CORRECT) {
        b.classList.add('correct');
      } else if (o === opt && o !== CORRECT) {
        b.classList.add('wrong');
      }
    });
  };

  /* ---------- canvas ---------- */
  var canvas = document.getElementById('vizCanvas');
  var ctx = canvas.getContext('2d');
  var currentA = 2, currentB = 4;

  function frac(v) {
    return Math.round(v * 10000) / 10000;
  }

  function originalExpr(a, b) {
    var num = 1 / (a * a) - 1 / (b * b);
    var den = 1 / a + 1 / b;
    if (Math.abs(den) < 1e-9) return NaN;
    return frac(num / den);
  }

  function answerExpr(a, b) {
    return frac(1 / a - 1 / b);
  }

  function srFrac(num, den) {
    // display fraction nicely
    return num + ' / ' + den;
  }

  function draw(a, b) {
    var W = canvas.width;
    var H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    var bg = '#0f172a';
    ctx.fillStyle = bg;
    ctx.fillRect(0, 0, W, H);

    var orig = originalExpr(a, b);
    var ans = answerExpr(a, b);
    var equal = !isNaN(orig) && Math.abs(orig - ans) < 1e-6;

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '600 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Numeriƒçka provera za a = ' + a + ',  b = ' + b, W / 2, 28);

    var boxW = 300, boxH = 140, gap = 40;
    var x1 = W / 2 - boxW - gap / 2;
    var x2 = W / 2 + gap / 2;
    var y0 = 55;

    // helper: draw box
    function drawBox(x, label, expr, val, color, border) {
      ctx.fillStyle = '#1e293b';
      ctx.strokeStyle = border;
      ctx.lineWidth = 2;
      roundRect(ctx, x, y0, boxW, boxH, 10);
      ctx.fill();
      ctx.stroke();

      ctx.fillStyle = color;
      ctx.font = 'bold 13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(label, x + boxW / 2, y0 + 22);

      ctx.fillStyle = '#e2e8f0';
      ctx.font = '13px Segoe UI, sans-serif';
      ctx.fillText(expr, x + boxW / 2, y0 + 50);

      // dividing line
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(x + 20, y0 + 65);
      ctx.lineTo(x + boxW - 20, y0 + 65);
      ctx.stroke();

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 22px Segoe UI, sans-serif';
      ctx.fillText('= ' + val, x + boxW / 2, y0 + 102);
    }

    var numDisp = frac(1 / (a * a) - 1 / (b * b));
    var denDisp = frac(1 / a + 1 / b);
    var box1Label = 'Polazni izraz';
    var box1Expr = '(' + numDisp + ') √∑ (' + denDisp + ')';
    var box2Label = 'Odgovor D: 1/a ‚àí 1/b';
    var box2Expr = frac(1 / a) + ' ‚àí ' + frac(1 / b);

    drawBox(x1, box1Label, box1Expr, isNaN(orig) ? 'N/A' : orig, '#60a5fa', '#60a5fa');
    drawBox(x2, box2Label, box2Expr, ans, '#a78bfa', '#a78bfa');

    // equality sign in middle
    ctx.fillStyle = equal ? '#4ade80' : '#f472b6';
    ctx.font = 'bold 32px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(equal ? '=' : '‚â†', W / 2, y0 + boxH / 2 + 10);

    // bottom message
    ctx.fillStyle = equal ? '#34d399' : '#f472b6';
    ctx.font = '600 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(
      equal
        ? 'Vrednosti su jednake ‚Äî odgovor D je taƒçan!'
        : 'Vrednosti se razlikuju (proverite uslove)',
      W / 2, y0 + boxH + 30
    );

    // Axes visual ‚Äì small number line showing a and b
    drawNumberLine(a, b, W, H);
  }

  function drawNumberLine(a, b, W, H) {
    var lx = 60, rx = W - 60;
    var ly = H - 55;
    var mn = Math.min(a, b, 0) - 1;
    var mx = Math.max(a, b, 0) + 1;
    var range = mx - mn || 2;

    function toX(v) {
      return lx + ((v - mn) / range) * (rx - lx);
    }

    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(lx, ly);
    ctx.lineTo(rx, ly);
    ctx.stroke();

    // ticks
    for (var i = Math.ceil(mn); i <= Math.floor(mx); i++) {
      var tx = toX(i);
      ctx.beginPath();
      ctx.moveTo(tx, ly - 4);
      ctx.lineTo(tx, ly + 4);
      ctx.strokeStyle = '#475569';
      ctx.stroke();
      ctx.fillStyle = '#64748b';
      ctx.font = '11px sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(i, tx, ly + 16);
    }

    // a marker
    dot(toX(a), ly, '#60a5fa', 'a = ' + a, 'top');
    dot(toX(b), ly, '#a78bfa', 'b = ' + b, 'bottom');
  }

  function dot(x, y, color, label, pos) {
    ctx.beginPath();
    ctx.arc(x, y, 6, 0, Math.PI * 2);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.fillStyle = color;
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, x, pos === 'top' ? y - 12 : y + 24);
  }

  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  window.setAB = function (a, b) {
    currentA = a;
    currentB = b;
    draw(a, b);
  };

  // responsive canvas
  function resizeCanvas() {
    var parent = canvas.parentElement;
    var maxW = Math.min(parent.clientWidth, 720);
    var scale = maxW / 720;
    canvas.style.width = maxW + 'px';
    canvas.style.height = (320 * scale) + 'px';
  }

  window.addEventListener('resize', function () {
    resizeCanvas();
    draw(currentA, currentB);
  });

  resizeCanvas();
  draw(currentA, currentB);

})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"FON Beograd 2024 (1. probni) ‚Äì Zadatak 4: Algebarski razlomci i identiteti","subject":"math","unit":"algebra","topic_tags":["algebarski_razlomci","razlika_kvadrata","skracivanje_razlomaka","identicki_jednaki_izrazi","reciprocne_vrednosti"]}
BRAINSPARK_META-->
