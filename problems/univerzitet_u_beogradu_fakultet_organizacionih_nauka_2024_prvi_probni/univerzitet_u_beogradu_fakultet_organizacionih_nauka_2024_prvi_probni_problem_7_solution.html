<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zadatak 7 – Racionalna nejednačina</title>

  <script type="text/info" id="logic-scratchpad">
  ===== LOGIČKI PODSETNIK =====

  Nejednačina: (x² - 3x - 22) / (x² - x - 12) >= 2

  Korak 1: Domen
    x² - x - 12 = (x - 4)(x + 3) ≠ 0
    x ≠ 4 i x ≠ -3

  Korak 2: Prebacivanje na jednu stranu
    (x² - 3x - 22) / (x² - x - 12) - 2 >= 0
    (x² - 3x - 22 - 2(x² - x - 12)) / ((x - 4)(x + 3)) >= 0
    (-x² - x + 2) / ((x - 4)(x + 3)) >= 0

  Korak 3: Faktorizacija brojioca
    -x² - x + 2 = -(x² + x - 2) = -(x + 2)(x - 1)

  Korak 4: Nejednačina postaje
    -(x + 2)(x - 1) / ((x - 4)(x + 3)) >= 0
    Množimo sa -1 (smer se menja):
    (x + 2)(x - 1) / ((x - 4)(x + 3)) <= 0

  Korak 5: Tablica znakova
    Kritične tačke: -3, -2, 1, 4

    x < -3:      (-)(-)/(-)(-) = +  → NE
    -3 < x < -2: (-)(-)/(-)( +) = -  → DA
    x = -2:      0                   → DA (jednakost)
    -2 < x < 1:  (+)(-)/(-)( +) = +  → NE
    x = 1:       0                   → DA (jednakost)
    1 < x < 4:   (+)(+)/(-)(+) = -   → DA
    x > 4:       (+)(+)/(+)(+) = +   → NE

  Korak 6: Skup rešenja
    x ∈ (-3, -2] ∪ [1, 4)

  Korak 7: Celobrojna rešenja
    Iz (-3, -2]: x = -2
    Iz [1, 4):   x = 1, 2, 3

    Zbir: -2 + 1 + 2 + 3 = 4

  Odgovor: C) 4

  ===== KRAJ PODSETNIKA =====
  </script>

  <script>
    MathJax = {
      tex: {
        inlineMath: [['\\(', '\\)'], ['$', '$']],
        displayMath: [['\\[', '\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: #0f172a;
      color: #e2e8f0;
      font-family: 'Segoe UI', system-ui, sans-serif;
      font-size: 16px;
      line-height: 1.7;
      padding: 24px 16px 60px;
    }

    .container {
      max-width: 820px;
      margin: 0 auto;
    }

    h1 {
      font-size: 1.55rem;
      background: linear-gradient(135deg, #60a5fa, #a78bfa);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      font-weight: 700;
    }

    .subtitle {
      color: #94a3b8;
      font-size: 0.9rem;
      margin-bottom: 28px;
    }

    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 12px;
      padding: 20px 24px;
      margin-bottom: 24px;
    }

    .card h2 {
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 14px;
      color: #a78bfa;
      letter-spacing: 0.02em;
    }

    .problem-statement .problem-text {
      font-size: 1.08rem;
      margin-bottom: 18px;
      color: #e2e8f0;
    }

    /* Answer grid - static divs */
    .given-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 4px;
    }

    .given-item.answer-option {
      background: #0f172a;
      border: 2px solid #334155;
      border-radius: 8px;
      padding: 8px 18px;
      color: #e2e8f0;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .given-item.answer-option .label {
      font-weight: 600;
      margin-right: 2px;
    }

    /* Plan */
    .plan-list {
      list-style: none;
      counter-reset: plan-counter;
    }

    .plan-list li {
      counter-increment: plan-counter;
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 7px 0;
      border-bottom: 1px solid #1e293b;
      color: #cbd5e1;
    }

    .plan-list li:last-child { border-bottom: none; }

    .plan-list li::before {
      content: counter(plan-counter);
      background: #60a5fa;
      color: #0f172a;
      font-weight: 800;
      font-size: 0.8rem;
      min-width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 2px;
      flex-shrink: 0;
    }

    /* Theory details */
    details {
      background: #0f172a;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 0;
    }

    summary {
      padding: 12px 16px;
      cursor: pointer;
      font-weight: 600;
      color: #60a5fa;
      list-style: none;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    summary::before {
      content: '\25B6';
      font-size: 0.75rem;
      transition: transform 0.2s;
      display: inline-block;
    }

    details[open] summary::before {
      transform: rotate(90deg);
    }

    .theory-body {
      padding: 4px 16px 16px;
      color: #cbd5e1;
      font-size: 0.95rem;
    }

    .theory-body p { margin-bottom: 10px; }

    /* Canvas */
    canvas {
      display: block;
      width: 100%;
      max-width: 680px;
      margin: 0 auto;
      border-radius: 8px;
      touch-action: none;
    }

    .canvas-label {
      text-align: center;
      color: #94a3b8;
      font-size: 0.85rem;
      margin-top: 8px;
    }

    /* Steps */
    .step {
      border-left: 3px solid #334155;
      padding: 12px 0 12px 18px;
      margin-bottom: 18px;
      position: relative;
    }

    .step-badge {
      display: inline-block;
      background: #1e3a5f;
      color: #60a5fa;
      border: 1px solid #60a5fa;
      border-radius: 20px;
      font-size: 0.78rem;
      font-weight: 700;
      padding: 2px 12px;
      margin-bottom: 8px;
      letter-spacing: 0.04em;
    }

    .step h3 {
      font-size: 1rem;
      font-weight: 700;
      margin-bottom: 8px;
      color: #e2e8f0;
    }

    .step p, .step ul, .step ol {
      color: #cbd5e1;
      font-size: 0.97rem;
    }

    .step ul, .step ol {
      margin-left: 20px;
    }

    .step ul li, .step ol li {
      margin-bottom: 4px;
    }

    .checkpoint {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      background: #064e3b;
      border: 1px solid #34d399;
      border-radius: 8px;
      color: #4ade80;
      font-size: 0.88rem;
      font-weight: 600;
      padding: 6px 14px;
      margin-top: 10px;
    }

    .checkpoint::before { content: '\2713'; font-size: 1rem; }

    /* Sign table */
    .sign-table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
      font-size: 0.9rem;
    }

    .sign-table th, .sign-table td {
      border: 1px solid #334155;
      padding: 6px 10px;
      text-align: center;
    }

    .sign-table th {
      background: #0f172a;
      color: #60a5fa;
      font-weight: 700;
    }

    .sign-table td { color: #cbd5e1; }
    .sign-table .pos { color: #4ade80; font-weight: 700; }
    .sign-table .neg { color: #f472b6; font-weight: 700; }
    .sign-table .zero { color: #fbbf24; font-weight: 700; }
    .sign-table .undef { color: #ef4444; font-weight: 700; }
    .sign-table .yes { color: #4ade80; font-weight: 700; }
    .sign-table .no { color: #64748b; }

    /* Key insight */
    .insight-box {
      background: #2d1f5e;
      border: 1px solid #a78bfa;
      border-radius: 10px;
      padding: 16px 20px;
      color: #ddd6fe;
      font-size: 0.97rem;
    }

    .insight-box strong {
      color: #a78bfa;
    }

    /* Final answer */
    .final-answer {
      background: #064e3b;
      border: 2px solid #34d399;
      border-radius: 12px;
      padding: 18px 24px;
      text-align: center;
    }

    .final-answer .answer-label {
      color: #4ade80;
      font-size: 0.9rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      margin-bottom: 8px;
      text-transform: uppercase;
    }

    .final-answer .answer-value {
      font-size: 1.5rem;
      font-weight: 800;
      color: #4ade80;
    }

    .final-answer .answer-choice {
      margin-top: 6px;
      color: #34d399;
      font-size: 0.95rem;
    }

    /* Pitfalls */
    .pitfall-list {
      list-style: none;
    }

    .pitfall-list li {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      padding: 8px 0;
      border-bottom: 1px solid #334155;
      color: #fca5a5;
      font-size: 0.95rem;
    }

    .pitfall-list li:last-child { border-bottom: none; }

    .pitfall-list li::before {
      content: '!';
      background: #7f1d1d;
      color: #fca5a5;
      border-radius: 50%;
      min-width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 0.8rem;
      flex-shrink: 0;
      margin-top: 2px;
    }

    /* Challenge */
    .challenge-box {
      background: #1a1130;
      border: 1px solid #a78bfa;
      border-radius: 10px;
      padding: 16px 20px;
      color: #ddd6fe;
      font-size: 0.97rem;
    }

    .challenge-box .ch-label {
      font-weight: 700;
      color: #f472b6;
      margin-bottom: 6px;
      font-size: 0.9rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .formula-block {
      background: #0f172a;
      border-radius: 8px;
      padding: 12px 16px;
      margin: 10px 0;
      border: 1px solid #334155;
      overflow-x: auto;
    }

    @media (max-width: 700px) {
      h1 { font-size: 1.25rem; }
      .card { padding: 16px; }
      .given-grid { flex-direction: column; }
      .given-item.answer-option { width: 100%; }
      .sign-table { font-size: 0.78rem; }
      .sign-table th, .sign-table td { padding: 4px 5px; }
    }
  </style>
</head>
<body>
<div class="container">

  <h1>Zadatak 7 &mdash; Racionalna nejednačina</h1>
  <p class="subtitle">FON Beograd &mdash; Probni prijemni 2024 (I rok)</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p class="problem-text">
      Zbir svih celobrojnih rešenja nejednačine \(\dfrac{x^2 - 3x - 22}{x^2 - x - 12} \geq 2\) jednak je:
    </p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A"><div class="label">(A)</div><div class="value">\(6\)</div></div>
      <div class="given-item answer-option" data-option="B"><div class="label">(B)</div><div class="value">\(3\)</div></div>
      <div class="given-item answer-option" data-option="C"><div class="label">(C)</div><div class="value">\(4\)</div></div>
      <div class="given-item answer-option" data-option="D"><div class="label">(D)</div><div class="value">\(1\)</div></div>
      <div class="given-item answer-option" data-option="E"><div class="label">(E)</div><div class="value">\(2\)</div></div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <ol class="plan-list">
      <li>Odrediti domen (imenilac ne sme biti nula).</li>
      <li>Prebaciti nejednačinu na oblik \(\dfrac{f(x)}{g(x)} \geq 0\) oduzimanjem \(2\) sa obe strane.</li>
      <li>Faktorizovati brojilac i imenilac.</li>
      <li>Sastaviti tablicu znakova i odrediti intervale rešenja.</li>
      <li>Izdvojiti celobrojna rešenja i izračunati njihov zbir.</li>
    </ol>
  </div>

  <!-- Theory -->
  <div class="card">
    <h2>Teorija (podsećanje)</h2>
    <details>
      <summary>Racionalne nejednačine i tablica znakova</summary>
      <div class="theory-body">
        <p><strong>Racionalna nejednačina</strong> oblika \(\dfrac{P(x)}{Q(x)} \geq 0\) se rešava tako što se
        najpre sve prebaci na jednu stranu, zatim faktorizuju brojilac i imenilac, i na kraju primeni
        metoda intervala (tablica znakova).</p>
        <p><strong>Metoda intervala:</strong> Nule brojioca i imenioca dele brojnu pravu na intervale.
        Na svakom intervalu izraz ima konstantan znak. Proveravamo znak u svakom intervalu
        i biramo one koji zadovoljavaju nejednačinu.</p>
        <p><strong>Nule imenioca</strong> se uvek isključuju iz rešenja (domen).</p>
        <p><strong>Nule brojioca</strong> se uključuju ako nejednačina sadrži znak jednakosti (\(\geq\) ili \(\leq\)).</p>
      </div>
    </details>
  </div>

  <!-- Canvas diagram -->
  <div class="card">
    <h2>Grafička ilustracija</h2>
    <canvas id="diagram" height="380"></canvas>
    <p class="canvas-label">Brojna prava sa označenim znacima izraza i osenčenim skupom rešenja \((-3,\,-2\,] \cup [\,1,\,4)\).</p>
  </div>

  <!-- Step-by-step -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step">
      <span class="step-badge">Korak 1</span>
      <h3>Domen</h3>
      <p>Imenilac ne sme biti nula:</p>
      <div class="formula-block">
        \[x^2 - x - 12 = (x - 4)(x + 3) \neq 0\]
      </div>
      <p>Dakle \(x \neq 4\) i \(x \neq -3\).</p>
      <span class="checkpoint">Domen određen: \(\mathcal{D} = \mathbb{R} \setminus \{-3,\,4\}\)</span>
    </div>

    <div class="step">
      <span class="step-badge">Korak 2</span>
      <h3>Prebacivanje na jednu stranu</h3>
      <p>Od obe strane nejednačine oduzimamo \(2\):</p>
      <div class="formula-block">
        \[\frac{x^2 - 3x - 22}{x^2 - x - 12} - 2 \geq 0\]
      </div>
      <p>Svodimo na zajednički imenilac:</p>
      <div class="formula-block">
        \[\frac{x^2 - 3x - 22 - 2(x^2 - x - 12)}{(x-4)(x+3)} \geq 0\]
      </div>
      <span class="checkpoint">Nikada ne množimo imeniocem jer ne znamo njegov znak</span>
    </div>

    <div class="step">
      <span class="step-badge">Korak 3</span>
      <h3>Sređivanje i faktorizacija brojioca</h3>
      <p>Razvijamo brojilac:</p>
      <div class="formula-block">
        \[\begin{aligned}
        &x^2 - 3x - 22 - 2x^2 + 2x + 24 \\[4pt]
        &= -x^2 - x + 2 \\[4pt]
        &= -(x^2 + x - 2) \\[4pt]
        &= -(x + 2)(x - 1)
        \end{aligned}\]
      </div>
      <p>Nejednačina glasi:</p>
      <div class="formula-block">
        \[\frac{-(x+2)(x-1)}{(x-4)(x+3)} \geq 0\]
      </div>
      <p style="margin-top:8px;">Množimo obe strane sa \(-1\) (znak nejednačine se menja!):</p>
      <div class="formula-block">
        \[\frac{(x+2)(x-1)}{(x-4)(x+3)} \leq 0\]
      </div>
      <span class="checkpoint">Faktorizovano i uprošćeno</span>
    </div>

    <div class="step">
      <span class="step-badge">Korak 4</span>
      <h3>Tablica znakova</h3>
      <p>Kritične tačke su: \(x = -3,\; -2,\; 1,\; 4\). Ispitujemo znak izraza
      \(f(x) = \dfrac{(x+2)(x-1)}{(x-4)(x+3)}\) na svakom intervalu:</p>

      <div style="overflow-x:auto;">
      <table class="sign-table">
        <tr>
          <th>Interval</th>
          <th>\(x+3\)</th>
          <th>\(x+2\)</th>
          <th>\(x-1\)</th>
          <th>\(x-4\)</th>
          <th>\(f(x)\)</th>
          <th>\(\leq 0\)?</th>
        </tr>
        <tr>
          <td>\(x &lt; -3\)</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="pos">+</td>
          <td class="no">Ne</td>
        </tr>
        <tr>
          <td>\(x = -3\)</td>
          <td class="zero">0</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="undef">ndef.</td>
          <td class="no">Ne</td>
        </tr>
        <tr>
          <td>\(-3 &lt; x &lt; -2\)</td>
          <td class="pos">+</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="yes">Da</td>
        </tr>
        <tr>
          <td>\(x = -2\)</td>
          <td class="pos">+</td>
          <td class="zero">0</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="zero">0</td>
          <td class="yes">Da</td>
        </tr>
        <tr>
          <td>\(-2 &lt; x &lt; 1\)</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="pos">+</td>
          <td class="no">Ne</td>
        </tr>
        <tr>
          <td>\(x = 1\)</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="zero">0</td>
          <td class="neg">&minus;</td>
          <td class="zero">0</td>
          <td class="yes">Da</td>
        </tr>
        <tr>
          <td>\(1 &lt; x &lt; 4\)</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="neg">&minus;</td>
          <td class="neg">&minus;</td>
          <td class="yes">Da</td>
        </tr>
        <tr>
          <td>\(x = 4\)</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="zero">0</td>
          <td class="undef">ndef.</td>
          <td class="no">Ne</td>
        </tr>
        <tr>
          <td>\(x &gt; 4\)</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="pos">+</td>
          <td class="no">Ne</td>
        </tr>
      </table>
      </div>

      <p style="margin-top:10px;">Skup rešenja:</p>
      <div class="formula-block">
        \[x \in (-3,\; -2\,] \cup [\,1,\; 4)\]
      </div>
      <span class="checkpoint">Intervali određeni</span>
    </div>

    <div class="step">
      <span class="step-badge">Korak 5</span>
      <h3>Celobrojna rešenja i njihov zbir</h3>
      <p><strong>Iz intervala \((-3,\; -2]\):</strong> jedini ceo broj je \(x = -2\).</p>
      <p><strong>Iz intervala \([1,\; 4)\):</strong> celi brojevi su \(x = 1,\; 2,\; 3\).</p>
      <p style="margin-top:8px;">Zbir svih celobrojnih rešenja:</p>
      <div class="formula-block">
        \[(-2) + 1 + 2 + 3 = 4\]
      </div>
      <span class="checkpoint">Zbir izračunat</span>
    </div>

    <div class="step">
      <span class="step-badge">Korak 6</span>
      <h3>Provera</h3>
      <p>Proveravamo svako celobrojno rešenje u polaznoj nejednačini \(\dfrac{x^2 - 3x - 22}{x^2 - x - 12} \geq 2\):</p>
      <ul>
        <li>\(x = -2\!:\;\; \dfrac{4 + 6 - 22}{4 + 2 - 12} = \dfrac{-12}{-6} = 2 \geq 2\) &check;</li>
        <li>\(x = 1\!:\;\; \dfrac{1 - 3 - 22}{1 - 1 - 12} = \dfrac{-24}{-12} = 2 \geq 2\) &check;</li>
        <li>\(x = 2\!:\;\; \dfrac{4 - 6 - 22}{4 - 2 - 12} = \dfrac{-24}{-10} = 2{,}4 \geq 2\) &check;</li>
        <li>\(x = 3\!:\;\; \dfrac{9 - 9 - 22}{9 - 3 - 12} = \dfrac{-22}{-6} = \dfrac{11}{3} \approx 3{,}67 \geq 2\) &check;</li>
      </ul>
      <span class="checkpoint">Sva rešenja proverena</span>
    </div>
  </div>

  <!-- Key insight -->
  <div class="card">
    <h2>Ključna ideja</h2>
    <div class="insight-box">
      <strong>Zašto prebacujemo na jednu stranu?</strong><br>
      Racionalnu nejednačinu nikada ne rešavamo množenjem obe strane imeniocem,
      jer ne znamo znak imenioca (on zavisi od \(x\)). Umesto toga, sve prebacimo
      na jednu stranu i dobijemo oblik \(\dfrac{P(x)}{Q(x)} \leq 0\) ili \(\geq 0\),
      gde zatim primenjujemo metodu intervala.
      <br><br>
      Primetimo da su \(x = -2\) i \(x = 1\) nule brojioca &mdash; na njima je izraz jednak nuli,
      što zadovoljava \(\leq 0\). Dok su \(x = -3\) i \(x = 4\) nule imenioca &mdash;
      one se <strong>uvek isključuju</strong> jer razlomak nije definisan.
    </div>
  </div>

  <!-- Final answer -->
  <div class="card">
    <div class="final-answer">
      <div class="answer-label">Tačan odgovor</div>
      <div class="answer-value">\((-2) + 1 + 2 + 3 = 4\)</div>
      <div class="answer-choice">Odgovor C) \(4\)</div>
    </div>
  </div>

  <!-- Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <span><strong>Množenje imeniocem:</strong> Ako pomnožimo obe strane sa \(x^2 - x - 12\), moramo razdvojiti dva slučaja (pozitivan/negativan imenilac). Prebacivanje na jednu stranu je sigurniji pristup.</span>
      </li>
      <li>
        <span><strong>Isključivanje nula imenioca:</strong> Vrednosti \(x = -3\) i \(x = 4\) čine imenilac jednakim nuli, pa ne pripadaju domenu. Nikada ih ne uključujemo u rešenje!</span>
      </li>
      <li>
        <span><strong>Pogrešan znak pri množenju sa \(-1\):</strong> Kada obe strane nejednačine pomnožimo negativnim brojem, znak se menja: \(\geq\) postaje \(\leq\).</span>
      </li>
      <li>
        <span><strong>Propuštanje \(x = -2\):</strong> Interval \((-3, -2]\) sadrži samo jedan ceo broj. Ako se ne uključi \(-2\), zbir bi bio \(1 + 2 + 3 = 6\) umesto \(4\).</span>
      </li>
    </ul>
  </div>

  <!-- Challenge -->
  <div class="card">
    <h2>Izazovni zadatak</h2>
    <div class="challenge-box">
      <div class="ch-label">Pokušaj sam!</div>
      <p>Nađi zbir svih celobrojnih rešenja nejednačine:</p>
      <div class="formula-block" style="margin:10px 0;">
        \[\frac{x^2 + x - 20}{x^2 - 2x - 8} \geq 1\]
      </div>
      <details style="margin-top:10px;">
        <summary style="color:#f472b6; font-size:0.9rem;">Prikaži rešenje</summary>
        <div class="theory-body">
          <p>Prebacimo: \(\dfrac{x^2 + x - 20 - (x^2 - 2x - 8)}{(x-4)(x+2)} \geq 0\), tj. \(\dfrac{3x - 12}{(x-4)(x+2)} \geq 0\).</p>
          <p>Brojilac: \(3(x - 4)\). Skraćujemo sa \((x-4)\), uz uslov \(x \neq 4\):</p>
          <p>\(\dfrac{3}{x + 2} \geq 0\), odakle \(x + 2 > 0\), tj. \(x > -2\), \(x \neq 4\).</p>
          <p>Celobrojna rešenja: \(-1, 0, 1, 2, 3, 5, 6, \ldots\) &mdash; beskonačno mnogo!</p>
        </div>
      </details>
    </div>
  </div>

</div>

<script>
(function () {
  'use strict';

  var canvas = document.getElementById('diagram');
  var ctx = canvas.getContext('2d');

  function drawDiagram() {
    var W = canvas.offsetWidth || 680;
    var H = 380;
    canvas.width = W;
    canvas.height = H;

    var pad = { l: 40, r: 40, t: 30, b: 50 };
    var plotW = W - pad.l - pad.r;

    var xMin = -5.5;
    var xMax = 6.5;

    function toX(v) {
      return pad.l + ((v - xMin) / (xMax - xMin)) * plotW;
    }

    var lineY = H * 0.38;
    var signY = H * 0.55;
    var resultY = H * 0.70;

    /* Background */
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    /* Title */
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Znak izraza f(x) = (x+2)(x\u22121) / [(x\u22124)(x+3)]', W / 2, pad.t + 6);
    ctx.textAlign = 'left';

    /* Shade solution intervals */
    ctx.fillStyle = 'rgba(52, 211, 153, 0.12)';
    var s1a = toX(-3);
    var s1b = toX(-2);
    ctx.fillRect(s1a, lineY - 20, s1b - s1a, 40);
    var s2a = toX(1);
    var s2b = toX(4);
    ctx.fillRect(s2a, lineY - 20, s2b - s2a, 40);

    /* Number line */
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(pad.l, lineY);
    ctx.lineTo(pad.l + plotW, lineY);
    ctx.stroke();

    /* Arrows */
    ctx.beginPath();
    ctx.moveTo(pad.l + plotW - 8, lineY - 5);
    ctx.lineTo(pad.l + plotW, lineY);
    ctx.lineTo(pad.l + plotW - 8, lineY + 5);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(pad.l + 8, lineY - 5);
    ctx.lineTo(pad.l, lineY);
    ctx.lineTo(pad.l + 8, lineY + 5);
    ctx.stroke();

    /* Critical points */
    var criticalPoints = [
      { v: -3, label: '\u22123', type: 'open', color: '#ef4444' },
      { v: -2, label: '\u22122', type: 'closed', color: '#4ade80' },
      { v: 1, label: '1', type: 'closed', color: '#4ade80' },
      { v: 4, label: '4', type: 'open', color: '#ef4444' }
    ];

    criticalPoints.forEach(function (pt) {
      var cx = toX(pt.v);

      /* Tick */
      ctx.strokeStyle = '#64748b';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, lineY - 8);
      ctx.lineTo(cx, lineY + 8);
      ctx.stroke();

      /* Circle */
      ctx.beginPath();
      ctx.arc(cx, lineY, 7, 0, 2 * Math.PI);
      if (pt.type === 'closed') {
        ctx.fillStyle = pt.color;
        ctx.fill();
      } else {
        ctx.fillStyle = '#0f172a';
        ctx.fill();
        ctx.strokeStyle = pt.color;
        ctx.lineWidth = 2.5;
        ctx.stroke();
      }

      /* Label below line */
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 13px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(pt.label, cx, lineY + 28);
    });

    /* Sign labels in each interval */
    var intervals = [
      { mid: -4.2, sign: '+', sat: false },
      { mid: -2.5, sign: '\u2212', sat: true },
      { mid: -0.5, sign: '+', sat: false },
      { mid: 2.5, sign: '\u2212', sat: true },
      { mid: 5.2, sign: '+', sat: false }
    ];

    intervals.forEach(function (itv) {
      var cx = toX(itv.mid);
      ctx.font = 'bold 22px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillStyle = itv.sat ? '#4ade80' : '#f472b6';
      ctx.fillText(itv.sign, cx, signY + 8);
    });

    /* Result labels */
    ctx.font = '12px Segoe UI, sans-serif';
    intervals.forEach(function (itv) {
      var cx = toX(itv.mid);
      ctx.textAlign = 'center';
      if (itv.sat) {
        ctx.fillStyle = '#4ade80';
        ctx.fillText('\u2264 0 \u2713', cx, resultY + 8);
      } else {
        ctx.fillStyle = '#64748b';
        ctx.fillText('> 0', cx, resultY + 8);
      }
    });

    /* Integer solution markers */
    var intSols = [-2, 1, 2, 3];
    ctx.font = 'bold 11px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    intSols.forEach(function (n) {
      var cx = toX(n);
      ctx.fillStyle = '#fbbf24';
      ctx.beginPath();
      ctx.arc(cx, lineY - 28, 4, 0, 2 * Math.PI);
      ctx.fill();
      ctx.fillStyle = '#fbbf24';
      ctx.fillText(String(n), cx, lineY - 36);
    });

    /* Legend */
    var legY = H - 18;
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';

    /* Closed circle legend */
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(pad.l, legY - 3, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('zatvorena (uključena)', pad.l + 12, legY);

    /* Open circle legend */
    ctx.beginPath();
    ctx.arc(pad.l + 190, legY - 3, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#0f172a';
    ctx.fill();
    ctx.strokeStyle = '#ef4444';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('otvorena (isključena)', pad.l + 200, legY);

    /* Integer marker legend */
    ctx.fillStyle = '#fbbf24';
    ctx.beginPath();
    ctx.arc(pad.l + 385, legY - 3, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('celobrojno rešenje', pad.l + 394, legY);

    ctx.textAlign = 'left';
  }

  drawDiagram();

  var resizeTimer;
  window.addEventListener('resize', function () {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(drawDiagram, 80);
  });

  /* Touch support */
  canvas.addEventListener('touchstart', function (e) {
    e.preventDefault();
  }, { passive: false });
  canvas.addEventListener('touchmove', function (e) {
    e.preventDefault();
  }, { passive: false });
}());
</script>

</body>
</html>
