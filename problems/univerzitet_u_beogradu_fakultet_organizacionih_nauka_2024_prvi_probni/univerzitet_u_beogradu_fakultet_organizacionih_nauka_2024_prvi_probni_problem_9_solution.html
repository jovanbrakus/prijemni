<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zadatak 9 – FON 2024 (prvi probni)</title>

<script type="text/info" id="logic-scratchpad">
  ===== LOGIČKA ANALIZA =====

  Aritmetički niz: a_n = a_1 + (n-1)d

  Dato:
    (1) a_2 + a_4 - a_6 = 7
    (2) a_8 - a_7 = 2·a_4

  KORAK 1: Izrazimo članove pomoću a_1 i d:
    a_2 = a_1 + d
    a_4 = a_1 + 3d
    a_6 = a_1 + 5d
    a_7 = a_1 + 6d
    a_8 = a_1 + 7d

  KORAK 2: Iz jednačine (2):
    Leva strana: a_8 - a_7 = d  (razlika uzastopnih članova)
    Desna strana: 2·a_4 = 2(a_1 + 3d) = 2a_1 + 6d

    d = 2a_1 + 6d
    -5d = 2a_1
    a_1 = -5d/2   ... (II)

  KORAK 3: Iz jednačine (1):
    (a_1 + d) + (a_1 + 3d) - (a_1 + 5d) = 7
    a_1 + d + a_1 + 3d - a_1 - 5d = 7
    a_1 - d = 7   ... (I)

  KORAK 4: Zamena (II) u (I):
    -5d/2 - d = 7
    -5d/2 - 2d/2 = 7
    -7d/2 = 7
    d = -2

    a_1 = -5·(-2)/2 = 10/2 = 5

  KORAK 5: Zbir prvih 10 članova:
    S_10 = (10/2)·(2a_1 + 9d) = 5·(2·5 + 9·(-2)) = 5·(10 - 18) = 5·(-8) = -40

  VERIFIKACIJA:
    Niz: 5, 3, 1, -1, -3, -5, -7, -9, -11, -13
    Uslov 1: 3 + (-1) - (-5) = 3 - 1 + 5 = 7  OK
    Uslov 2: -9 - (-7) = -2 = d;  2·(-1) = -2  OK
    Zbir: 5+3+1-1-3-5-7-9-11-13 = -40  OK

  Odgovor: (E) -40
</script>

<script>
  MathJax = {
    tex: {
      inlineMath: [['\\(', '\\)'], ['$', '$']],
      displayMath: [['\\[', '\\]']]
    },
    svg: { fontCache: 'global' }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Segoe UI', system-ui, sans-serif;
    background: #0f172a;
    color: #e2e8f0;
    line-height: 1.7;
    padding: 1.5rem 1rem 4rem;
  }

  .container { max-width: 780px; margin: 0 auto; }

  h1 {
    font-size: 1.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #a78bfa, #60a5fa, #34d399);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 1.5rem;
    text-align: center;
  }

  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 1.25rem 1.5rem;
    margin-bottom: 1.25rem;
  }

  .section-label {
    font-size: 0.7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: #94a3b8;
    margin-bottom: 0.6rem;
  }

  .problem-statement .problem-text {
    font-size: 1.15rem;
    margin-bottom: 1.1rem;
    color: #e2e8f0;
  }

  .given-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  .given-item.answer-option {
    background: #0f172a;
    border: 2px solid #334155;
    border-radius: 8px;
    color: #e2e8f0;
    font-size: 0.95rem;
    padding: 0.45rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.35rem;
    user-select: none;
  }

  .given-item.answer-option .label {
    font-weight: 600;
    color: #94a3b8;
  }

  .given-item.answer-option .value {
    color: #e2e8f0;
  }

  .plan-steps { list-style: none; counter-reset: plan-counter; }
  .plan-steps li {
    counter-increment: plan-counter;
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 0.35rem 0;
    color: #cbd5e1;
    font-size: 0.97rem;
  }
  .plan-steps li::before {
    content: counter(plan-counter);
    background: #a78bfa;
    color: #0f172a;
    border-radius: 50%;
    width: 1.4em;
    height: 1.4em;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.8rem;
    flex-shrink: 0;
    margin-top: 0.15rem;
  }

  details {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.85rem 1.1rem;
    margin-top: 0.5rem;
  }
  details[open] { border-color: #a78bfa; }
  summary {
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    font-size: 0.95rem;
    user-select: none;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  summary::before { content: '\25B6'; font-size: 0.7rem; transition: transform 0.2s; }
  details[open] summary::before { transform: rotate(90deg); }
  .theory-body { margin-top: 0.85rem; color: #cbd5e1; font-size: 0.93rem; }
  .theory-body p { margin-bottom: 0.6rem; }
  .theory-body .formula-box {
    background: #1e293b;
    border-left: 3px solid #a78bfa;
    border-radius: 6px;
    padding: 0.6rem 1rem;
    margin: 0.5rem 0;
  }

  .canvas-wrap {
    display: flex;
    justify-content: center;
    margin: 0.5rem 0;
  }
  canvas {
    border-radius: 10px;
    max-width: 100%;
    background: #0f172a;
    touch-action: none;
  }

  .step {
    border-left: 3px solid #334155;
    padding-left: 1rem;
    margin-bottom: 1.1rem;
    position: relative;
  }
  .step-badge {
    display: inline-block;
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 20px;
    font-size: 0.72rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: #94a3b8;
    padding: 0.2rem 0.65rem;
    margin-bottom: 0.45rem;
  }
  .step-badge.blue { border-color: #60a5fa; color: #60a5fa; }
  .step-badge.purple { border-color: #a78bfa; color: #a78bfa; }
  .step-badge.green { border-color: #34d399; color: #34d399; }
  .step-badge.pink { border-color: #f472b6; color: #f472b6; }
  .step-badge.amber { border-color: #fbbf24; color: #fbbf24; }

  .step h3 { font-size: 1rem; font-weight: 600; color: #e2e8f0; margin-bottom: 0.3rem; }
  .step p { font-size: 0.95rem; color: #cbd5e1; margin-bottom: 0.4rem; }

  .checkpoint {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.5rem 0.85rem;
    margin-top: 0.55rem;
    font-size: 0.9rem;
    color: #94a3b8;
  }
  .checkpoint .chk-icon { font-size: 1rem; }

  .insight-box {
    background: #1a1040;
    border: 2px solid #a78bfa;
    border-radius: 10px;
    padding: 1rem 1.25rem;
    margin-bottom: 1.25rem;
  }
  .insight-box .insight-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #a78bfa;
    margin-bottom: 0.4rem;
  }
  .insight-box p { color: #e2e8f0; font-size: 0.97rem; }

  .final-answer {
    background: #0d3b2a;
    border: 2px solid #34d399;
    border-radius: 12px;
    padding: 1.1rem 1.5rem;
    text-align: center;
    margin-bottom: 1.25rem;
  }
  .final-answer .fa-label {
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #34d399;
    margin-bottom: 0.4rem;
  }
  .final-answer .fa-value {
    font-size: 1.6rem;
    font-weight: 800;
    color: #4ade80;
  }
  .final-answer .fa-note { font-size: 0.88rem; color: #94a3b8; margin-top: 0.3rem; }

  .pitfall {
    display: flex;
    gap: 0.75rem;
    align-items: flex-start;
    padding: 0.5rem 0;
    border-bottom: 1px solid #1e293b;
    font-size: 0.93rem;
    color: #cbd5e1;
  }
  .pitfall:last-child { border-bottom: none; }
  .pitfall-icon { color: #f472b6; font-size: 1.1rem; flex-shrink: 0; margin-top: 0.1rem; }

  .challenge-box {
    background: #1a1040;
    border: 1px dashed #a78bfa;
    border-radius: 10px;
    padding: 1rem 1.25rem;
  }
  .challenge-box .ch-label {
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: #a78bfa;
    margin-bottom: 0.5rem;
  }
  .challenge-box p { color: #cbd5e1; font-size: 0.95rem; }

  .reveal-btn {
    display: inline-block;
    margin-top: 0.75rem;
    background: #1e293b;
    border: 1px solid #a78bfa;
    border-radius: 7px;
    color: #a78bfa;
    cursor: pointer;
    font-size: 0.88rem;
    padding: 0.4rem 0.9rem;
    transition: background 0.2s;
  }
  .reveal-btn:hover { background: #2d1f5e; }
  .challenge-answer {
    display: none;
    margin-top: 0.6rem;
    color: #4ade80;
    font-size: 0.95rem;
    font-weight: 600;
  }

  @media (max-width: 700px) {
    h1 { font-size: 1.2rem; }
    .final-answer .fa-value { font-size: 1.25rem; }
  }
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Zadatak 9 &mdash; FON Beograd, prvi probni ispit 2024.</h1>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="section-label">Tekst zadatka</div>
    <div class="problem-text">
      Za članove aritmetičkog niza \(a_1, a_2, a_3, \ldots\) važe jednakosti
      \(a_2 + a_4 - a_6 = 7\) i \(a_8 - a_7 = 2a_4\). Zbir prvih 10 članova tog niza jednak je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A"><div class="label">(A)</div><div class="value">\(-50\)</div></div>
      <div class="given-item answer-option" data-option="B"><div class="label">(B)</div><div class="value">\(40\)</div></div>
      <div class="given-item answer-option" data-option="C"><div class="label">(C)</div><div class="value">\(30\)</div></div>
      <div class="given-item answer-option" data-option="D"><div class="label">(D)</div><div class="value">\(12\)</div></div>
      <div class="given-item answer-option" data-option="E"><div class="label">(E)</div><div class="value">\(-40\)</div></div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="section-label">Plan rešavanja</div>
    <ol class="plan-steps">
      <li>Izraziti sve članove niza pomoću prvog člana \(a_1\) i razlike \(d\).</li>
      <li>Iz uslova \(a_8 - a_7 = 2a_4\) iskoristiti da je \(a_8 - a_7 = d\) i dobiti vezu \(a_1\) i \(d\).</li>
      <li>Iz uslova \(a_2 + a_4 - a_6 = 7\) dobiti drugu jednačinu sa \(a_1\) i \(d\).</li>
      <li>Rešiti sistem, odrediti \(a_1\) i \(d\), pa izračunati \(S_{10}\).</li>
    </ol>
  </div>

  <!-- Theory -->
  <div class="card">
    <div class="section-label">Teorija (podsećanje)</div>
    <details>
      <summary>Aritmetički niz &mdash; ključne formule</summary>
      <div class="theory-body">
        <p><strong>Opšti član</strong> aritmetičkog niza:</p>
        <div class="formula-box">
          \[a_n = a_1 + (n-1)\,d\]
        </div>
        <p>gde je \(a_1\) prvi član, a \(d\) razlika niza.</p>
        <p><strong>Razlika uzastopnih članova</strong> je uvek konstantna:</p>
        <div class="formula-box">
          \[a_{n+1} - a_n = d \quad \text{za svako } n\]
        </div>
        <p><strong>Zbir prvih \(n\) članova</strong>:</p>
        <div class="formula-box">
          \[S_n = \frac{n}{2}\bigl(2a_1 + (n-1)\,d\bigr)\]
        </div>
        <p>Alternativno, ako su poznati prvi i poslednji član:</p>
        <div class="formula-box">
          \[S_n = \frac{n}{2}\,(a_1 + a_n)\]
        </div>
      </div>
    </details>
  </div>

  <!-- Canvas Diagram -->
  <div class="card">
    <div class="section-label">Vizuelni prikaz niza</div>
    <div class="canvas-wrap">
      <canvas id="diagram" width="700" height="340"></canvas>
    </div>
  </div>

  <!-- Step by Step -->
  <div class="card">
    <div class="section-label">Rešenje korak po korak</div>

    <div class="step">
      <span class="step-badge blue">Korak 1</span>
      <h3>Izrazimo članove pomoću \(a_1\) i \(d\)</h3>
      <p>Za aritmetički niz važi \(a_n = a_1 + (n-1)d\), pa je:</p>
      \[
        a_2 = a_1 + d, \quad a_4 = a_1 + 3d, \quad a_6 = a_1 + 5d
      \]
      \[
        a_7 = a_1 + 6d, \quad a_8 = a_1 + 7d
      \]
      <div class="checkpoint">
        <span class="chk-icon">&#10003;</span>
        Svi potrebni članovi su izraženi preko \(a_1\) i \(d\).
      </div>
    </div>

    <div class="step">
      <span class="step-badge purple">Korak 2</span>
      <h3>Jednačina iz uslova \(a_8 - a_7 = 2a_4\)</h3>
      <p>Razlika uzastopnih članova aritmetičkog niza je uvek jednaka \(d\):</p>
      \[
        a_8 - a_7 = d
      \]
      <p>Desna strana:</p>
      \[
        2a_4 = 2(a_1 + 3d) = 2a_1 + 6d
      \]
      <p>Izjednačavanjem:</p>
      \[
        d = 2a_1 + 6d
      \]
      \[
        d - 6d = 2a_1 \quad \Longrightarrow \quad -5d = 2a_1 \quad \Longrightarrow \quad a_1 = -\frac{5d}{2}
      \]
      <div class="checkpoint">
        <span class="chk-icon">&#10003;</span>
        Veza: \(a_1 = -\dfrac{5d}{2}\).
      </div>
    </div>

    <div class="step">
      <span class="step-badge pink">Korak 3</span>
      <h3>Jednačina iz uslova \(a_2 + a_4 - a_6 = 7\)</h3>
      <p>Zamenjujemo izraze iz koraka 1:</p>
      \[
        (a_1 + d) + (a_1 + 3d) - (a_1 + 5d) = 7
      \]
      <p>Sređujemo levu stranu:</p>
      \[
        a_1 + d + a_1 + 3d - a_1 - 5d = 7
      \]
      \[
        a_1 - d = 7
      \]
      <div class="checkpoint">
        <span class="chk-icon">&#10003;</span>
        Drugi uslov daje: \(a_1 - d = 7\).
      </div>
    </div>

    <div class="step">
      <span class="step-badge amber">Korak 4</span>
      <h3>Rešavanje sistema jednačina</h3>
      <p>Imamo sistem:</p>
      \[
        \begin{cases}
          a_1 = -\dfrac{5d}{2} \\[6pt]
          a_1 - d = 7
        \end{cases}
      \]
      <p>Zamenom prve jednačine u drugu:</p>
      \[
        -\frac{5d}{2} - d = 7 \quad \Longrightarrow \quad -\frac{5d}{2} - \frac{2d}{2} = 7 \quad \Longrightarrow \quad -\frac{7d}{2} = 7
      \]
      \[
        d = 7 \cdot \left(-\frac{2}{7}\right) = -2
      \]
      <p>Nalazimo \(a_1\):</p>
      \[
        a_1 = -\frac{5 \cdot (-2)}{2} = \frac{10}{2} = 5
      \]
      <div class="checkpoint">
        <span class="chk-icon">&#10003;</span>
        Rešenje: \(a_1 = 5\), \(d = -2\).
      </div>
    </div>

    <div class="step">
      <span class="step-badge green">Korak 5</span>
      <h3>Zbir prvih 10 članova</h3>
      <p>Primenjujemo formulu za zbir:</p>
      \[
        S_{10} = \frac{10}{2}\bigl(2a_1 + 9d\bigr) = 5 \cdot \bigl(2 \cdot 5 + 9 \cdot (-2)\bigr)
      \]
      \[
        = 5 \cdot (10 - 18) = 5 \cdot (-8) = -40
      \]
      <div class="checkpoint">
        <span class="chk-icon">&#10003;</span>
        Zbir prvih 10 članova je \(-40\).
      </div>
    </div>
  </div>

  <!-- Verification -->
  <div class="card">
    <div class="section-label">Provera</div>
    <div class="step">
      <span class="step-badge blue">Verifikacija</span>
      <h3>Proverimo da niz zadovoljava oba uslova</h3>
      <p>Niz sa \(a_1 = 5\) i \(d = -2\):</p>
      \[5,\; 3,\; 1,\; -1,\; -3,\; -5,\; -7,\; -9,\; -11,\; -13\]
      <p><strong>Uslov 1:</strong> \(a_2 + a_4 - a_6 = 3 + (-1) - (-5) = 3 - 1 + 5 = 7\) &#10003;</p>
      <p><strong>Uslov 2:</strong> \(a_8 - a_7 = -9 - (-7) = -2\) i \(2a_4 = 2 \cdot (-1) = -2\) &#10003;</p>
      <p><strong>Zbir:</strong> \(5 + 3 + 1 + (-1) + (-3) + (-5) + (-7) + (-9) + (-11) + (-13) = -40\) &#10003;</p>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="insight-label">Ključna ideja</div>
    <p>
      U uslovu \(a_8 - a_7 = 2a_4\), leva strana je uvek jednaka razlici \(d\)
      (razlika bilo koja dva uzastopna člana aritmetičkog niza). To odmah daje snažnu
      vezu između \(a_1\) i \(d\), čime se sistem od dve jednačine lako rešava.
      Prepoznavanje da je \(a_{n+1} - a_n = d\) ključni korak koji značajno
      pojednostavljuje problem.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <div class="fa-label">Tačan odgovor</div>
    <div class="fa-value">\(S_{10} = -40\)</div>
    <div class="fa-note">Odgovor (E) &mdash; \(-40\)</div>
  </div>

  <!-- Pitfalls -->
  <div class="card">
    <div class="section-label">Česte greške</div>
    <div class="pitfall">
      <span class="pitfall-icon">!</span>
      <span>
        <strong>Raspisivanje \(a_8 - a_7\) bez prepoznavanja svojstva:</strong> Ako se oba člana
        zamene punim izrazima, dobija se isti rezultat \(d\), ali je postupak duži i podložniji greškama.
        Uvek treba odmah uočiti da je \(a_{n+1} - a_n = d\).
      </span>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">!</span>
      <span>
        <strong>Greška u predznaku pri rešavanju za \(d\):</strong> Iz \(-\frac{7d}{2} = 7\) sledi
        \(d = -2\), ne \(d = 2\). Pogrešan predznak menja ceo rezultat.
      </span>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">!</span>
      <span>
        <strong>Pogrešan koeficijent u formuli za zbir:</strong> Formula
        \(S_n = \frac{n}{2}(2a_1 + (n-1)d)\) zahteva \(n - 1 = 9\) uz \(d\), ne \(n = 10\).
        Zamena \(n\) umesto \(n-1\) daje pogrešan rezultat.
      </span>
    </div>
  </div>

  <!-- Challenge -->
  <div class="challenge-box">
    <div class="ch-label">Izazov za vežbu</div>
    <p>
      Za aritmetički niz važi \(a_3 + a_5 = 14\) i \(a_2 \cdot a_6 = 33\).
      Odredi zbir prvih 7 članova tog niza.
    </p>
    <button class="reveal-btn" id="reveal-btn">Prikaži rešenje</button>
    <div class="challenge-answer" id="challenge-answer">
      Iz \(a_3 + a_5 = 2a_4 = 14\) sledi \(a_4 = 7\).
      Zatim \(a_2 \cdot a_6 = (a_4 - 2d)(a_4 + 2d) = 49 - 4d^2 = 33\),
      pa \(4d^2 = 16\), \(d = \pm 2\).
      \(S_7 = \frac{7}{2}(a_1 + a_7) = \frac{7}{2} \cdot 2a_4 = 7 \cdot 7 = 49\).
    </div>
  </div>

</div><!-- /.container -->

<script>
(function () {
  'use strict';

  /* -------- Challenge reveal -------- */
  var revealBtn = document.getElementById('reveal-btn');
  if (revealBtn) {
    revealBtn.addEventListener('click', function () {
      var el = document.getElementById('challenge-answer');
      if (el) {
        el.style.display = 'block';
        if (window.MathJax) MathJax.typesetPromise([el]);
      }
    });
  }

  /* -------- Canvas diagram -------- */
  function drawDiagram() {
    var canvas = document.getElementById('diagram');
    if (!canvas) return;

    var isMobile = window.innerWidth <= 700;
    var W = isMobile ? Math.min(window.innerWidth - 40, 700) : 700;
    var H = isMobile ? 300 : 340;
    canvas.width = W;
    canvas.height = H;

    var ctx = canvas.getContext('2d');
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    /* --- Config --- */
    var seq = [5, 3, 1, -1, -3, -5, -7, -9, -11, -13];
    var n = seq.length;
    var padL = isMobile ? 35 : 50;
    var padR = isMobile ? 20 : 30;
    var topPad = 40;
    var bottomPad = isMobile ? 65 : 75;
    var chartW = W - padL - padR;
    var chartH = H - topPad - bottomPad;

    var maxVal = 6;
    var minVal = -14;
    var range = maxVal - minVal;
    var scaleY = chartH / range;
    var barStep = chartW / n;
    var barW = Math.min(barStep * 0.65, isMobile ? 32 : 44);

    function valToY(v) { return topPad + (maxVal - v) * scaleY; }

    /* Title */
    ctx.fillStyle = '#94a3b8';
    ctx.font = (isMobile ? '11' : '13') + 'px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Prvih 10 članova: a\u2081 = 5, d = \u22122', W / 2, 18);

    /* Zero line */
    var zeroY = valToY(0);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(padL - 5, zeroY);
    ctx.lineTo(W - padR + 5, zeroY);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = '#64748b';
    ctx.font = (isMobile ? '10' : '11') + 'px "Segoe UI", sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillText('0', padL - 9, zeroY);

    /* Connecting line */
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 2;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    for (var i = 0; i < n; i++) {
      var cx = padL + i * barStep + barStep / 2;
      var cy = valToY(seq[i]);
      if (i === 0) ctx.moveTo(cx, cy); else ctx.lineTo(cx, cy);
    }
    ctx.stroke();
    ctx.setLineDash([]);

    /* Bars and labels */
    for (var i = 0; i < n; i++) {
      var cx = padL + i * barStep + barStep / 2;
      var x = cx - barW / 2;
      var val = seq[i];
      var barH = Math.abs(val) * scaleY;

      if (val >= 0) {
        var y = zeroY - barH;
        var grad = ctx.createLinearGradient(x, y, x, zeroY);
        grad.addColorStop(0, '#60a5fa');
        grad.addColorStop(1, '#3b82f6');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.moveTo(x + 4, y);
        ctx.lineTo(x + barW - 4, y);
        ctx.quadraticCurveTo(x + barW, y, x + barW, y + 4);
        ctx.lineTo(x + barW, zeroY);
        ctx.lineTo(x, zeroY);
        ctx.lineTo(x, y + 4);
        ctx.quadraticCurveTo(x, y, x + 4, y);
        ctx.closePath();
        ctx.fill();
      } else {
        var y = zeroY;
        var grad2 = ctx.createLinearGradient(x, y, x, y + barH);
        grad2.addColorStop(0, '#f472b6');
        grad2.addColorStop(1, '#ec4899');
        ctx.fillStyle = grad2;
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x + barW, y);
        ctx.lineTo(x + barW, y + barH - 4);
        ctx.quadraticCurveTo(x + barW, y + barH, x + barW - 4, y + barH);
        ctx.lineTo(x + 4, y + barH);
        ctx.quadraticCurveTo(x, y + barH, x, y + barH - 4);
        ctx.closePath();
        ctx.fill();
      }

      /* Value label */
      ctx.fillStyle = val >= 0 ? '#93c5fd' : '#f9a8d4';
      ctx.font = 'bold ' + (isMobile ? '10' : '12') + 'px "Segoe UI", sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = val >= 0 ? 'bottom' : 'top';
      ctx.fillText(String(val), cx, val >= 0 ? zeroY - barH - 4 : zeroY + barH + 4);

      /* Index label */
      var subscripts = ['\u2081', '\u2082', '\u2083', '\u2084', '\u2085', '\u2086', '\u2087', '\u2088', '\u2089', '\u2081\u2080'];
      ctx.fillStyle = '#94a3b8';
      ctx.font = (isMobile ? '9' : '11') + 'px "Segoe UI", sans-serif';
      ctx.textBaseline = 'top';
      ctx.fillText('a' + subscripts[i], cx, H - bottomPad + 8);
    }

    /* Sum box at bottom */
    var boxY = H - bottomPad + (isMobile ? 28 : 32);
    var boxW = isMobile ? W - 30 : 400;
    var boxH = isMobile ? 28 : 30;
    var boxX = (W - boxW) / 2;

    ctx.fillStyle = '#0d3b2a';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(boxX + 8, boxY);
    ctx.lineTo(boxX + boxW - 8, boxY);
    ctx.quadraticCurveTo(boxX + boxW, boxY, boxX + boxW, boxY + 8);
    ctx.lineTo(boxX + boxW, boxY + boxH - 8);
    ctx.quadraticCurveTo(boxX + boxW, boxY + boxH, boxX + boxW - 8, boxY + boxH);
    ctx.lineTo(boxX + 8, boxY + boxH);
    ctx.quadraticCurveTo(boxX, boxY + boxH, boxX, boxY + boxH - 8);
    ctx.lineTo(boxX, boxY + 8);
    ctx.quadraticCurveTo(boxX, boxY, boxX + 8, boxY);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold ' + (isMobile ? '12' : '14') + 'px "Segoe UI", sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('S\u2081\u2080 = 5 \u00B7 (10 \u2212 18) = 5 \u00B7 (\u22128) = \u221240', W / 2, boxY + boxH / 2);
  }

  window.addEventListener('load', drawDiagram);
  window.addEventListener('resize', drawDiagram);

})();
</script>
</body>
</html>

<!--BRAINSPARK_META
{"title":"FON Beograd 2024 (prvi probni) – Zadatak 9: Zbir prvih 10 članova aritmetičkog niza","subject":"math","unit":"algebra","topic_tags":["aritmetički niz","sistem jednačina","zbir aritmetičkog niza","razlika niza"]}
BRAINSPARK_META-->
