<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna jednacina sa smenom</title>

<script type="text/info" id="logic-scratchpad">
Problem: Proizvod svih realnih resenja jednacine
4^(sqrt(x^2 - 3)) + 8 = 3 * 2^(1 + sqrt(x^2 - 3))

Korak 1: Pojednostavimo desnu stranu
3 * 2^(1 + sqrt(x^2 - 3)) = 3 * 2^1 * 2^(sqrt(x^2 - 3)) = 6 * 2^(sqrt(x^2 - 3))

Korak 2: Zapisimo 4^(sqrt(x^2-3)) pomocu baze 2
4^(sqrt(x^2-3)) = (2^2)^(sqrt(x^2-3)) = 2^(2*sqrt(x^2-3)) = (2^(sqrt(x^2-3)))^2

Korak 3: Smena t = 2^(sqrt(x^2-3))
Tada: 4^(sqrt(x^2-3)) = t^2
Jednacina postaje: t^2 + 8 = 6t
=> t^2 - 6t + 8 = 0

Korak 4: Resavanje kvadratne jednacine
t^2 - 6t + 8 = 0
(t - 2)(t - 4) = 0
t = 2 ili t = 4

Korak 5: Vracanje smene za t = 2
2^(sqrt(x^2 - 3)) = 2 = 2^1
=> sqrt(x^2 - 3) = 1
=> x^2 - 3 = 1
=> x^2 = 4
=> x = 2 ili x = -2

Provera domena: x^2 - 3 = 4 - 3 = 1 >= 0. OK.

Korak 6: Vracanje smene za t = 4
2^(sqrt(x^2 - 3)) = 4 = 2^2
=> sqrt(x^2 - 3) = 2
=> x^2 - 3 = 4
=> x^2 = 7
=> x = sqrt(7) ili x = -sqrt(7)

Provera domena: x^2 - 3 = 7 - 3 = 4 >= 0. OK.

Korak 7: Uslov domena originalne jednacine
sqrt(x^2 - 3) zahteva x^2 - 3 >= 0, tj. x^2 >= 3
=> x <= -sqrt(3) ili x >= sqrt(3)

Sva cetiri resenja zadovoljavaju ovaj uslov:
|+-2| = 2 > sqrt(3) ≈ 1,732. OK.
|+-sqrt(7)| = sqrt(7) ≈ 2,646 > sqrt(3). OK.

Korak 8: Proizvod svih resenja
(-2) * 2 * (-sqrt(7)) * sqrt(7) = (-4) * (-7) = 28

Provera: t = 2^(sqrt(x^2-3)) > 0 uvek, pa su oba resenja t = 2, t = 4 validna.

VERIFIKACIJA sa datim odgovorom: 28 = (A). TACNO!
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .problem-text {
  font-size: 1.1rem;
  line-height: 1.9;
  margin-bottom: 20px;
}

.math-highlight {
  background: rgba(56, 189, 248, 0.08);
  padding: 2px 8px;
  border-radius: 6px;
  display: inline-block;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(96, 165, 250, 0.06);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 16px;
  text-align: center;
  font-size: 1.05rem;
  transition: border-color 0.2s;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.given-item.answer-option {
  cursor: default;
}

.given-item.answer-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.08);
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

details {
  background: rgba(96, 165, 250, 0.04);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 24px;
  padding-left: 0;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.step-badge {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 48px;
  color: #cbd5e1;
  line-height: 1.9;
}

.step-content .math-highlight {
  margin: 8px 0;
  display: block;
  padding: 10px 16px;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.3);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-box {
  text-align: center;
  padding: 30px;
}

.final-answer-value {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 20px;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  transition: all 0.2s;
}

.final-option.correct-option {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  margin-top: 16px;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-bottom: 12px;
  color: #f472b6;
}

.pitfall-icon {
  flex-shrink: 0;
  margin-top: 4px;
}

.pitfall-text {
  color: #cbd5e1;
}

.challenge-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  border-radius: 12px;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .step-content { margin-left: 0; margin-top: 8px; }
  .final-answer-value { font-size: 1.7rem; }
  .final-options { gap: 8px; }
  .final-option { padding: 8px 14px; font-size: 0.95rem; }
}
</style>
</head>
<body>

<div class="container">

  <!-- NASLOV -->
  <h1>Eksponencijalna jednacina sa smenom</h1>
  <p class="subtitle">Resavanje eksponencijalne jednacine metodom smene promenljive i nalazenje proizvoda svih resenja</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Tekst zadatka</div>
    <div class="problem-text">
      Proizvod svih realnih resenja jednacine
      <span class="math-highlight">
        \(4^{\sqrt{x^2 - 3}} + 8 = 3 \cdot 2^{1 + \sqrt{x^2 - 3}}\)
      </span>
      jednak je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(28\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(7\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-14\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(14\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <p class="plan-text">
      Najpre cemo sve stepene svesti na istu bazu \(2\), a zatim uvesti <strong>smenu</strong>
      \(t = 2^{\sqrt{x^2-3}}\) da bismo jednacinu pretvorili u kvadratnu po \(t\).
      Nakon resavanja po \(t\), vraticemo smenu i naci sve vrednosti \(x\), a na kraju izracunati njihov proizvod.
    </p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128218;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Pravila za eksponente</summary>
      <p style="margin-top: 8px;">
        Za bazu \(a > 0\) i eksponente \(m, n\) vaze:
        \[a^{m+n} = a^m \cdot a^n, \qquad (a^m)^n = a^{m \cdot n}\]
        Takodje: \(4 = 2^2\), pa \(4^k = (2^2)^k = 2^{2k}\).
      </p>
    </details>
    <details>
      <summary>Kvadratna jednacina</summary>
      <p style="margin-top: 8px;">
        Jednacina \(t^2 + pt + q = 0\) sa resenjima \(t_1, t_2\) se moze faktorizovati kao:
        \[(t - t_1)(t - t_2) = 0\]
        Po Vijetovim formulama: \(t_1 + t_2 = -p\) i \(t_1 \cdot t_2 = q\).
      </p>
    </details>
    <details>
      <summary>Eksponencijalna jednacina \(a^{f(x)} = a^k\)</summary>
      <p style="margin-top: 8px;">
        Ako je \(a > 0\) i \(a \neq 1\), tada:
        \[a^{f(x)} = a^k \implies f(x) = k\]
        Ovo koristimo pri vracanju smene &mdash; izjednacavamo eksponente.
      </p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Graficki prikaz</div>
    <canvas id="diagram-canvas" width="700" height="450"></canvas>
    <p class="canvas-caption">Grafik leve strane (plavo) i desne strane (zeleno) jednacine. Presecne tacke su resenja.</p>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Odredjivanje domena</div>
      </div>
      <div class="step-content">
        <p>U jednacini se pojavljuje \(\sqrt{x^2 - 3}\). Da bi koren postojao, mora vaziti:</p>
        <div class="math-highlight">
          \[x^2 - 3 \geq 0 \implies x^2 \geq 3\]
        </div>
        <p>Odatle:</p>
        <div class="math-highlight">
          \[x \leq -\sqrt{3} \quad \text{ili} \quad x \geq \sqrt{3}\]
        </div>
        <p>Priblizno: \(\sqrt{3} \approx 1{,}732\). Dakle, domen ne sadrzi interval \((-\sqrt{3},\; \sqrt{3})\).</p>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Svodjenje na istu bazu</div>
      </div>
      <div class="step-content">
        <p>Zapisimo sve stepene pomocu baze \(2\). Oznacimo \(u = \sqrt{x^2 - 3}\) radi preglednosti.</p>
        <p>Leva strana jednacine:</p>
        <div class="math-highlight">
          \[4^{u} = (2^2)^{u} = 2^{2u}\]
        </div>
        <p>Desna strana jednacine:</p>
        <div class="math-highlight">
          \[3 \cdot 2^{1+u} = 3 \cdot 2^1 \cdot 2^{u} = 6 \cdot 2^{u}\]
        </div>
        <p>Jednacina sada glasi:</p>
        <div class="math-highlight">
          \[2^{2u} + 8 = 6 \cdot 2^{u}\]
        </div>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Uvodjenje smene</div>
      </div>
      <div class="step-content">
        <p>Neka je \(t = 2^{u} = 2^{\sqrt{x^2-3}}\). Posto je eksponencijalna funkcija uvek pozitivna, vazi \(t > 0\).</p>
        <p>Takodje, \(2^{2u} = (2^{u})^2 = t^2\), pa jednacina postaje:</p>
        <div class="math-highlight">
          \[t^2 + 8 = 6t\]
        </div>
        <p>Preuredimo:</p>
        <div class="math-highlight">
          \[t^2 - 6t + 8 = 0\]
        </div>

        <details>
          <summary>&#9989; Proveri sebe: Koliki su koeficijenti kvadratne jednacine?</summary>
          <p style="margin-top: 8px;">
            Jednacina je \(t^2 - 6t + 8 = 0\), gde je \(a = 1\), \(b = -6\), \(c = 8\). Po Vijetovim formulama:
            zbir korena \(= 6\), proizvod korena \(= 8\).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Resavanje kvadratne jednacine po \(t\)</div>
      </div>
      <div class="step-content">
        <p>Faktorizujemo trinom:</p>
        <div class="math-highlight">
          \[t^2 - 6t + 8 = (t - 2)(t - 4) = 0\]
        </div>
        <p>Resenja su:</p>
        <div class="math-highlight">
          \[t_1 = 2 \qquad \text{ili} \qquad t_2 = 4\]
        </div>
        <p>Oba resenja su pozitivna, sto je u skladu sa uslovom \(t > 0\).</p>
      </div>
    </div>

    <!-- Korak 5 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">5</div>
        <div class="step-title">Vracanje smene za \(t = 2\)</div>
      </div>
      <div class="step-content">
        <p>Iz \(t = 2^{\sqrt{x^2-3}} = 2 = 2^1\) sledi:</p>
        <div class="math-highlight">
          \[\sqrt{x^2 - 3} = 1\]
        </div>
        <p>Kvadriramo obe strane:</p>
        <div class="math-highlight">
          \[x^2 - 3 = 1\]
        </div>
        <div class="math-highlight">
          \[x^2 = 4\]
        </div>
        <div class="math-highlight">
          \[x = 2 \quad \text{ili} \quad x = -2\]
        </div>
        <p>Provera domena: \(x^2 = 4 \geq 3\) &#10004;</p>
      </div>
    </div>

    <!-- Korak 6 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">6</div>
        <div class="step-title">Vracanje smene za \(t = 4\)</div>
      </div>
      <div class="step-content">
        <p>Iz \(t = 2^{\sqrt{x^2-3}} = 4 = 2^2\) sledi:</p>
        <div class="math-highlight">
          \[\sqrt{x^2 - 3} = 2\]
        </div>
        <p>Kvadriramo obe strane:</p>
        <div class="math-highlight">
          \[x^2 - 3 = 4\]
        </div>
        <div class="math-highlight">
          \[x^2 = 7\]
        </div>
        <div class="math-highlight">
          \[x = \sqrt{7} \quad \text{ili} \quad x = -\sqrt{7}\]
        </div>
        <p>Provera domena: \(x^2 = 7 \geq 3\) &#10004;</p>

        <details>
          <summary>&#9989; Proveri sebe: Koliko ukupno resenja ima jednacina?</summary>
          <p style="margin-top: 8px;">
            Jednacina ima <strong>cetiri</strong> realna resenja: \(x = -2\), \(x = 2\), \(x = -\sqrt{7}\), \(x = \sqrt{7}\).
          </p>
        </details>
      </div>
    </div>

    <!-- Korak 7 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">7</div>
        <div class="step-title">Racunanje proizvoda svih resenja</div>
      </div>
      <div class="step-content">
        <p>Cetiri resenja su: \(-2,\; 2,\; -\sqrt{7},\; \sqrt{7}\). Racunamo njihov proizvod:</p>
        <div class="math-highlight">
          \[P = (-2) \cdot 2 \cdot (-\sqrt{7}) \cdot \sqrt{7}\]
        </div>
        <p>Grupisiemo u parove:</p>
        <div class="math-highlight">
          \[(-2) \cdot 2 = -4\]
        </div>
        <div class="math-highlight">
          \[(-\sqrt{7}) \cdot \sqrt{7} = -7\]
        </div>
        <p>Konacno:</p>
        <div class="math-highlight">
          \[P = (-4) \cdot (-7) = 28\]
        </div>

        <details>
          <summary>&#9989; Proveri sebe: Zasto je proizvod pozitivan?</summary>
          <p style="margin-top: 8px;">
            Imamo cetiri resenja, od kojih su tacno dva negativna (\(-2\) i \(-\sqrt{7}\)) i dva pozitivna (\(2\) i \(\sqrt{7}\)).
            Proizvod dva negativna broja je pozitivan, i proizvod dva pozitivna broja je pozitivan &mdash; pa je i ukupan proizvod pozitivan.
          </p>
        </details>
      </div>
    </div>
  </div>

  <!-- KLJUCNI UVID -->
  <div class="key-insight">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>
      Kljuc zadatka je prepoznati da se \(4^{\sqrt{x^2-3}}\) moze zapisati kao \((2^{\sqrt{x^2-3}})^2\),
      cime se eksponencijalna jednacina smenom \(t = 2^{\sqrt{x^2-3}}\) svodi na obicnu kvadratnu jednacinu.
      Zatim, svako resenje \(x^2 = k\) daje po dva resenja \(x = \pm\sqrt{k}\), a proizvod para
      \((-\sqrt{k}) \cdot \sqrt{k} = -k\) je uvek jednak \(-k\). Proizvod svih resenja: \((-4) \cdot (-7) = 28\).
    </p>
  </div>

  <!-- KONACAN ODGOVOR -->
  <div class="card final-answer-box">
    <div class="card-title" style="justify-content: center;"><span class="icon">&#127919;</span> Konacan odgovor</div>
    <p style="color: #94a3b8; margin-bottom: 8px;">Resenja jednacine su \(x \in \{-2,\; 2,\; -\sqrt{7},\; \sqrt{7}\}\). Njihov proizvod:</p>
    <div class="final-answer-value">\((-2) \cdot 2 \cdot (-\sqrt{7}) \cdot \sqrt{7} = 28\)</div>
    <div class="final-options">
      <div class="final-option correct-option">(A) \(28\)</div>
      <div class="final-option">(B) \(7\)</div>
      <div class="final-option">(C) \(-14\)</div>
      <div class="final-option">(D) \(4\)</div>
      <div class="final-option">(E) \(14\)</div>
    </div>
    <p class="verification-note">
      Verifikacija: Za \(x = 2\): \(4^{\sqrt{4-3}} + 8 = 4^1 + 8 = 12\) i \(3 \cdot 2^{1+1} = 3 \cdot 4 = 12\) &#10004;
      &nbsp;Za \(x = \sqrt{7}\): \(4^{\sqrt{7-3}} + 8 = 4^2 + 8 = 24\) i \(3 \cdot 2^{1+2} = 3 \cdot 8 = 24\) &#10004;
    </p>
  </div>

  <!-- CESTE GRESKE -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Zaboraviti negativna resenja:</strong>
        <span class="pitfall-text">
          Jednacina \(x^2 = 4\) ima dva resenja: \(x = 2\) i \(x = -2\). Isto tako \(x^2 = 7\) daje
          \(x = \pm\sqrt{7}\). Ako se uzmu samo pozitivna resenja, proizvod bi bio \(2 \cdot \sqrt{7} = 2\sqrt{7}\),
          sto ne odgovara nijednom ponudjenom odgovoru.
        </span>
      </div>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#10060;</span>
      <div>
        <strong style="color: #f472b6;">Pogresno uprostiti desnu stranu:</strong>
        <span class="pitfall-text">
          Cesta greska je zapisati \(3 \cdot 2^{1+\sqrt{x^2-3}}\) kao \(6^{1+\sqrt{x^2-3}}\) umesto
          kao \(6 \cdot 2^{\sqrt{x^2-3}}\). Mnozenje konstante sa stepenom nije isto sto i sabiranje baza!
        </span>
      </div>
    </div>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127947;</span> Dodatni izazov</div>
    <p class="challenge-text">
      Resiti jednacinu: \(9^{\sqrt{x^2 - 5}} + 9 = 10 \cdot 3^{\sqrt{x^2 - 5}}\).
      Koliki je zbir svih realnih resenja?
    </p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="margin-top: 8px;">
        Primenite istu ideju: stavite \(t = 3^{\sqrt{x^2 - 5}}\) i dobijte kvadratnu jednacinu
        \(t^2 - 10t + 9 = 0\), tj. \((t-1)(t-9) = 0\). Zatim resavajte \(\sqrt{x^2-5} = 0\) i \(\sqrt{x^2-5} = 2\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram-canvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = rect.height * dpr;
    ctx.scale(dpr, dpr);
    const W = rect.width;
    const H = rect.height;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Coordinate system setup
    const padLeft = 60;
    const padRight = 30;
    const padTop = 40;
    const padBottom = 60;
    const plotW = W - padLeft - padRight;
    const plotH = H - padTop - padBottom;

    // x range: -4.5 to 4.5
    const xMin = -4.5;
    const xMax = 4.5;
    // y range: -5 to 35
    const yMin = -5;
    const yMax = 35;

    var toCanvasX = function(x) { return padLeft + (x - xMin) / (xMax - xMin) * plotW; };
    var toCanvasY = function(y) { return padTop + (yMax - y) / (yMax - yMin) * plotH; };

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(gx), padTop);
      ctx.lineTo(toCanvasX(gx), padTop + plotH);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin / 5) * 5; gy <= Math.floor(yMax); gy += 5) {
      ctx.beginPath();
      ctx.moveTo(padLeft, toCanvasY(gy));
      ctx.lineTo(padLeft + plotW, toCanvasY(gy));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis
    if (yMin <= 0 && yMax >= 0) {
      ctx.beginPath();
      ctx.moveTo(padLeft, toCanvasY(0));
      ctx.lineTo(padLeft + plotW, toCanvasY(0));
      ctx.stroke();
    }
    // y-axis
    if (xMin <= 0 && xMax >= 0) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), padTop);
      ctx.lineTo(toCanvasX(0), padTop + plotH);
      ctx.stroke();
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
      if (lx === 0) continue;
      ctx.fillText(String(lx), toCanvasX(lx), toCanvasY(0) + 16);
    }
    ctx.textAlign = 'right';
    for (var ly = 5; ly <= Math.floor(yMax); ly += 5) {
      ctx.fillText(String(ly), toCanvasX(0) - 8, toCanvasY(ly) + 4);
    }

    // Axis names
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', padLeft + plotW - 5, toCanvasY(0) + 30);
    ctx.fillText('y', toCanvasX(0) + 18, padTop + 5);

    // Domain shading (where x^2 - 3 >= 0: x <= -sqrt(3) or x >= sqrt(3))
    var sqrt3 = Math.sqrt(3);
    ctx.fillStyle = 'rgba(96, 165, 250, 0.04)';
    // x <= -sqrt(3)
    ctx.fillRect(toCanvasX(xMin), padTop, toCanvasX(-sqrt3) - toCanvasX(xMin), plotH);
    // x >= sqrt(3)
    ctx.fillRect(toCanvasX(sqrt3), padTop, toCanvasX(xMax) - toCanvasX(sqrt3), plotH);

    // Domain boundary lines (dashed)
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(toCanvasX(-sqrt3), padTop);
    ctx.lineTo(toCanvasX(-sqrt3), padTop + plotH);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toCanvasX(sqrt3), padTop);
    ctx.lineTo(toCanvasX(sqrt3), padTop + plotH);
    ctx.stroke();
    ctx.setLineDash([]);

    // Domain labels
    ctx.fillStyle = '#475569';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('-\u221A3', toCanvasX(-sqrt3), padTop + plotH + 16);
    ctx.fillText('\u221A3', toCanvasX(sqrt3), padTop + plotH + 16);

    // Helper: evaluate LHS = 4^(sqrt(x^2-3)) + 8 and RHS = 6 * 2^(sqrt(x^2-3))
    function lhsVal(x) {
      var inner = x * x - 3;
      if (inner < 0) return null;
      var u = Math.sqrt(inner);
      return Math.pow(4, u) + 8;
    }

    function rhsVal(x) {
      var inner = x * x - 3;
      if (inner < 0) return null;
      var u = Math.sqrt(inner);
      return 6 * Math.pow(2, u);
    }

    // Plot LHS (blue)
    function plotFunc(fn, color) {
      ctx.strokeStyle = color;
      ctx.lineWidth = 2.5;

      // Left domain: x <= -sqrt(3)
      ctx.beginPath();
      var started = false;
      for (var px = xMin; px <= -sqrt3 + 0.001; px += 0.02) {
        var val = fn(px);
        if (val === null) { started = false; continue; }
        if (val > yMax + 5 || val < yMin - 5) { started = false; continue; }
        var cx = toCanvasX(px);
        var cy = toCanvasY(val);
        if (!started) { ctx.moveTo(cx, cy); started = true; }
        else { ctx.lineTo(cx, cy); }
      }
      ctx.stroke();

      // Right domain: x >= sqrt(3)
      ctx.beginPath();
      started = false;
      for (var px2 = sqrt3; px2 <= xMax; px2 += 0.02) {
        var val2 = fn(px2);
        if (val2 === null) { started = false; continue; }
        if (val2 > yMax + 5 || val2 < yMin - 5) { started = false; continue; }
        var cx2 = toCanvasX(px2);
        var cy2 = toCanvasY(val2);
        if (!started) { ctx.moveTo(cx2, cy2); started = true; }
        else { ctx.lineTo(cx2, cy2); }
      }
      ctx.stroke();
    }

    plotFunc(lhsVal, '#60a5fa');
    plotFunc(rhsVal, '#4ade80');

    // Mark intersection points (solutions)
    var solutions = [-2, 2, -Math.sqrt(7), Math.sqrt(7)];
    var solLabels = ['x = -2', 'x = 2', 'x = -\u221A7', 'x = \u221A7'];

    for (var i = 0; i < solutions.length; i++) {
      var sx = solutions[i];
      var sy = lhsVal(sx);
      if (sy === null) continue;

      // Glow
      ctx.fillStyle = 'rgba(244, 114, 182, 0.2)';
      ctx.beginPath();
      ctx.arc(toCanvasX(sx), toCanvasY(sy), 14, 0, 2 * Math.PI);
      ctx.fill();

      // Point
      ctx.fillStyle = '#f472b6';
      ctx.beginPath();
      ctx.arc(toCanvasX(sx), toCanvasY(sy), 6, 0, 2 * Math.PI);
      ctx.fill();

      // Label
      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = sx < 0 ? 'right' : 'left';
      var labelOffset = sx < 0 ? -14 : 14;
      ctx.fillText(solLabels[i], toCanvasX(sx) + labelOffset, toCanvasY(sy) - 10);
    }

    // Legend
    var legX = padLeft + 12;
    var legY = padTop + 16;
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legX, legY, 20, 3);
    ctx.textAlign = 'left';
    ctx.fillText('LHS: 4^(\u221A(x\u00B2-3)) + 8', legX + 28, legY + 5);

    ctx.fillStyle = '#4ade80';
    ctx.fillRect(legX, legY + 20, 20, 3);
    ctx.fillText('RHS: 6 \u00B7 2^(\u221A(x\u00B2-3))', legX + 28, legY + 25);

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(legX + 10, legY + 45, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillText('resenja', legX + 28, legY + 49);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Eksponencijalna jednacina sa smenom promenljive",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["eksponencijalne jednacine", "smena promenljive", "kvadratna jednacina", "stepeni", "proizvod resenja"]
}
BRAINSPARK_META-->