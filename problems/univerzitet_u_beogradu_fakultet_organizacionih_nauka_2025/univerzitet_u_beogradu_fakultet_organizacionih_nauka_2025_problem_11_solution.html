<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijska jednacina sa kotangensom</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Naci broj resenja jednacine 3sin(x) + (cos(2x) - 1) * ctg^2(x) = 0
na intervalu [0, 2pi).

DOMAIN ANALYSIS:
ctg(x) = cos(x)/sin(x) is defined only when sin(x) != 0.
sin(x) = 0 when x = 0, pi in [0, 2pi).
So domain excludes x = 0 and x = pi.

STEP 1: Simplify cos(2x) - 1.
Using the identity cos(2x) = 1 - 2sin^2(x):
cos(2x) - 1 = (1 - 2sin^2(x)) - 1 = -2sin^2(x)

STEP 2: Replace ctg^2(x) = cos^2(x)/sin^2(x).

STEP 3: Substitute into equation:
3sin(x) + (-2sin^2(x)) * (cos^2(x)/sin^2(x)) = 0
3sin(x) - 2cos^2(x) = 0

The sin^2(x) terms cancel (valid because sin(x) != 0 in domain).

STEP 4: Use cos^2(x) = 1 - sin^2(x):
3sin(x) - 2(1 - sin^2(x)) = 0
3sin(x) - 2 + 2sin^2(x) = 0
2sin^2(x) + 3sin(x) - 2 = 0

STEP 5: Substitution t = sin(x):
2t^2 + 3t - 2 = 0
Discriminant: 9 + 16 = 25
t = (-3 +/- 5) / 4
t1 = (-3 + 5)/4 = 2/4 = 1/2
t2 = (-3 - 5)/4 = -8/4 = -2

STEP 6: Check solutions.
sin(x) = -2: impossible since -1 <= sin(x) <= 1.
sin(x) = 1/2: x = pi/6 or x = 5pi/6 in [0, 2pi).

Both x = pi/6 and x = 5pi/6 have sin(x) = 1/2 != 0, so both are in the domain.

ANSWER: 2 solutions.

VERIFICATION against provided answer: (B) 2. MATCHES.

Factor check: 2t^2 + 3t - 2 = (2t - 1)(t + 2) = 0. Yes, correct.
</script>

<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.problem-statement {
  border: 2px solid #a78bfa;
  font-size: 1.08rem;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  transition: border-color 0.2s;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 0.2rem;
}

.given-item .value {
  font-size: 1rem;
  color: #e2e8f0;
  font-weight: 600;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin: 15px 0;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  overflow-x: auto;
}

.checkpoint {
  background: rgba(163, 130, 250, 0.1);
  border: 1px solid #a78bfa;
  border-radius: 10px;
  margin: 15px 0;
}

.checkpoint summary {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  font-size: 0.95rem;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.checkpoint summary::-webkit-details-marker { display: none; }

.checkpoint summary::before {
  content: '\25B6';
  font-size: 0.7rem;
  transition: transform 0.2s;
}

.checkpoint[open] summary::before {
  transform: rotate(90deg);
}

.checkpoint .checkpoint-content {
  padding: 0 1rem 0.75rem;
  font-size: 0.95rem;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 0.5rem;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.final-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.final-option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 1rem;
  transition: border-color 0.2s;
}

.final-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.verification {
  margin-top: 1rem;
  font-size: 0.9rem;
  color: #94a3b8;
  font-style: italic;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 700px) {
  body { padding: 0.5rem; }
  .card, .problem-statement, details .detail-content, .final-answer,
  .insight-box, .challenge-box { padding: 1rem; }
  .given-grid { grid-template-columns: repeat(3, 1fr); }
  .final-options { grid-template-columns: repeat(3, 1fr); }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Trigonometrijska jednacina sa kotangensom</h1>
  <p class="subtitle">Trigonometrijske jednacine, identiteti i odredjivanje broja resenja na datom intervalu</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Zadatak</div>
    <p>
      Broj svih resenja jednacine
    </p>
    <div class="math-block">
      \[3\sin x + (\cos 2x - 1)\,\text{ctg}^2 x = 0\]
    </div>
    <p>
      koja pripadaju intervalu \([0,\, 2\pi)\) jednak je:
    </p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(5\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(3\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <ol class="plan-list">
      <li>Odredimo domen jednacine (gde je kotangens definisan), a zatim primenimo trigonometrijske identitete da bismo pojednostavili izraz.</li>
      <li>Svedemo jednacinu na kvadratnu po \(\sin x\), resimo je i proverimo koliko resenja pripada intervalu \([0, 2\pi)\).</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>Podsetnik iz teorije</summary>
    <div class="detail-content">
      <p><strong>Kotangens:</strong> Funkcija \(\text{ctg}\, x = \dfrac{\cos x}{\sin x}\) je definisana za \(\sin x \neq 0\), tj. za \(x \neq k\pi\), \(k \in \mathbb{Z}\).</p>

      <p style="margin-top:0.75rem"><strong>Dupli ugao za kosinus:</strong></p>
      \[\cos 2x = 1 - 2\sin^2 x\]

      <p style="margin-top:0.75rem"><strong>Pitagorin identitet:</strong></p>
      \[\sin^2 x + \cos^2 x = 1 \implies \cos^2 x = 1 - \sin^2 x\]

      <p style="margin-top:0.75rem"><strong>Vrednosti sinusa na jedinicnom krugu:</strong> Jednacina \(\sin x = a\) ima resenja na \([0, 2\pi)\) samo ako je \(|a| \leq 1\). Za \(a \in (0, 1)\) postoje tacno dva resenja: jedno u prvom i jedno u drugom kvadrantu.</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz - Jedinicni krug</div>
    <p class="muted" style="margin-bottom:0.75rem;">Jedinicni krug sa oznacenim resenjima jednacine \(\sin x = \frac{1}{2}\). Prevucite tacke da istrazite ugao i vrednost sinusa.</p>
    <div class="canvas-wrap">
      <canvas id="unit-circle-canvas" width="600" height="500"></canvas>
      <p class="canvas-hint">Prevucite oznacene tacke po krugu da istrazite vrednosti sinusa</p>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Odredjivanje domena</div>
      <p>Funkcija \(\text{ctg}\, x = \frac{\cos x}{\sin x}\) je definisana samo kada je \(\sin x \neq 0\).</p>
      <p>Na intervalu \([0, 2\pi)\), sinusna funkcija je jednaka nuli za:</p>
      <div class="math-block">
        \[\sin x = 0 \implies x = 0 \quad \text{ili} \quad x = \pi\]
      </div>
      <p>Dakle, domen jednacine je \([0, 2\pi) \setminus \{0, \pi\}\).</p>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Pojednostavljenje \(\cos 2x - 1\)</div>
      <p>Primenimo identitet za dupli ugao:</p>
      <div class="math-block">
        \[\cos 2x = 1 - 2\sin^2 x\]
      </div>
      <p>Odatle sledi:</p>
      <div class="math-block">
        \[\cos 2x - 1 = (1 - 2\sin^2 x) - 1 = -2\sin^2 x\]
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Zamena kotangensa</div>
      <p>Zapisemo \(\text{ctg}^2 x\) preko sinusa i kosinusa:</p>
      <div class="math-block">
        \[\text{ctg}^2 x = \frac{\cos^2 x}{\sin^2 x}\]
      </div>
      <p>Sada zamenimo oba izraza u pocetnu jednacinu:</p>
      <div class="math-block">
        \[3\sin x + (-2\sin^2 x) \cdot \frac{\cos^2 x}{\sin^2 x} = 0\]
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Sta se desava sa \(\sin^2 x\) u drugom sabirku?</summary>
      <div class="checkpoint-content">
        <p>Posto je \(\sin x \neq 0\) u domenu, mozemo da skratimo \(\sin^2 x\) iz brojilaca i imenioca. Dobijamo: \(3\sin x - 2\cos^2 x = 0\).</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Skracivanje i pojednostavljenje</div>
      <p>Posto je \(\sin x \neq 0\) u domenu, mozemo da skratimo \(\sin^2 x\):</p>
      <div class="math-block">
        \[3\sin x + \frac{-2\sin^2 x \cdot \cos^2 x}{\sin^2 x} = 0\]
      </div>
      <div class="math-block">
        \[3\sin x - 2\cos^2 x = 0\]
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Svodjenje na jednu funkciju</div>
      <p>Zamenimo \(\cos^2 x\) koristeci Pitagorin identitet \(\cos^2 x = 1 - \sin^2 x\):</p>
      <div class="math-block">
        \[3\sin x - 2(1 - \sin^2 x) = 0\]
      </div>
      <p>Raspisemo zagradu:</p>
      <div class="math-block">
        \[3\sin x - 2 + 2\sin^2 x = 0\]
      </div>
      <p>Sredjujemo u standardni oblik:</p>
      <div class="math-block">
        \[2\sin^2 x + 3\sin x - 2 = 0\]
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-title">Korak 6: Resavanje kvadratne jednacine</div>
      <p>Uvedemo smenu \(t = \sin x\) i resavamo:</p>
      <div class="math-block">
        \[2t^2 + 3t - 2 = 0\]
      </div>
      <p>Racunamo diskriminantu:</p>
      <div class="math-block">
        \[D = 3^2 - 4 \cdot 2 \cdot (-2) = 9 + 16 = 25\]
      </div>
      <p>Resenja su:</p>
      <div class="math-block">
        \[t_{1,2} = \frac{-3 \pm \sqrt{25}}{2 \cdot 2} = \frac{-3 \pm 5}{4}\]
      </div>
      <div class="math-block">
        \[t_1 = \frac{-3 + 5}{4} = \frac{2}{4} = \frac{1}{2}\]
      </div>
      <div class="math-block">
        \[t_2 = \frac{-3 - 5}{4} = \frac{-8}{4} = -2\]
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Moze li se ova kvadratna jednacina faktorisati?</summary>
      <div class="checkpoint-content">
        <p>Da! \(2t^2 + 3t - 2 = (2t - 1)(t + 2) = 0\), odakle direktno dobijamo \(t = \frac{1}{2}\) ili \(t = -2\).</p>
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step">
      <div class="step-title">Korak 7: Analiza resenja</div>
      <p><span class="highlight-pink">Resenje \(t_2 = -2\):</span> Posto je \(\sin x \in [-1, 1]\) za svako realno \(x\), jednacina \(\sin x = -2\) <strong>nema resenja</strong>.</p>
      <p style="margin-top: 0.5rem;"><span class="highlight">Resenje \(t_1 = \frac{1}{2}\):</span> Jednacina \(\sin x = \frac{1}{2}\) na intervalu \([0, 2\pi)\) ima dva resenja:</p>
      <div class="math-block">
        \[x_1 = \frac{\pi}{6} \quad \text{(prvi kvadrant)}\]
      </div>
      <div class="math-block">
        \[x_2 = \pi - \frac{\pi}{6} = \frac{5\pi}{6} \quad \text{(drugi kvadrant)}\]
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step">
      <div class="step-title">Korak 8: Provera domena</div>
      <p>Oba resenja moramo proveriti da li pripadaju domenu, tj. da \(\sin x \neq 0\):</p>
      <div class="math-block">
        \[\sin\frac{\pi}{6} = \frac{1}{2} \neq 0 \quad \checkmark\]
      </div>
      <div class="math-block">
        \[\sin\frac{5\pi}{6} = \frac{1}{2} \neq 0 \quad \checkmark\]
      </div>
      <p>Oba resenja pripadaju domenu, dakle jednacina ima tacno <span class="highlight">2 resenja</span> na \([0, 2\pi)\).</p>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Verifikuj resenje \(x = \frac{\pi}{6}\) u pocetnoj jednacini</summary>
      <div class="checkpoint-content">
        <p>Za \(x = \frac{\pi}{6}\): \(\sin\frac{\pi}{6} = \frac{1}{2}\), \(\cos\frac{\pi}{3} = \frac{1}{2}\), \(\text{ctg}\frac{\pi}{6} = \sqrt{3}\).</p>
        <p>Zamena: \(3 \cdot \frac{1}{2} + \left(\frac{1}{2} - 1\right) \cdot 3 = \frac{3}{2} + \left(-\frac{1}{2}\right) \cdot 3 = \frac{3}{2} - \frac{3}{2} = 0\). Tacno!</p>
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Kljucni trik u ovom zadatku je prepoznavanje da se izraz \((\cos 2x - 1) \cdot \text{ctg}^2 x\) moze drasticno pojednostaviti. Primenom identiteta \(\cos 2x - 1 = -2\sin^2 x\) i zamenom \(\text{ctg}^2 x = \frac{\cos^2 x}{\sin^2 x}\), faktori \(\sin^2 x\) se skrate i dobijamo mnogo jednostavniju jednacinu. Ovaj postupak je legitiman jer smo vec iskljucili tacke gde je \(\sin x = 0\) iz domena.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konacan odgovor</div>
    <div class="value">(B) \(\;2\)</div>
    <div class="final-options">
      <div class="final-option">(A) \(4\)</div>
      <div class="final-option correct">(B) \(2\)</div>
      <div class="final-option">(C) \(1\)</div>
      <div class="final-option">(D) \(5\)</div>
      <div class="final-option">(E) \(3\)</div>
    </div>
    <p class="verification">Verifikacija: Resenja su \(x = \frac{\pi}{6}\) i \(x = \frac{5\pi}{6}\). Zamenom oba u pocetnu jednacinu dobijamo \(0\), sto potvrdjuje tacnost. Druga mogucnost \(\sin x = -2\) je nemoguca jer je opseg sinusa \([-1, 1]\). Dakle, tacno je 2 resenja.</p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <strong>Zaborav na domen:</strong> Mnogi studenti zaborave da provere gde je kotangens definisan. Tacke \(x = 0\) i \(x = \pi\) moraju biti iskljucene iz razmatranja. Posto nase resenja (\(\frac{\pi}{6}\) i \(\frac{5\pi}{6}\)) ne koincidiraju sa ovim tackama, nemamo problema, ali da smo dobili \(x = 0\) ili \(x = \pi\) kao kandidate, morali bismo ih odbaciti.
    </div>
    <div class="pitfall">
      <strong>Pogresno skracivanje bez provere:</strong> Skracivanje \(\sin^2 x\) je dozvoljeno samo zato sto smo u domenu iskljucili slucaj \(\sin x = 0\). Bez prethodne analize domena, mogli bismo izgubiti ili dobiti lazna resenja.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Koliko resenja ima jednacina \(3\sin x + (\cos 2x - 1)\,\text{ctg}^2 x = 0\) na intervalu \([0, 4\pi)\)?</p>
    <details style="background: transparent; border: 1px solid #34d399; margin: 15px 0;">
      <summary style="color: #34d399;">Prikazi nagovestavajuci savet</summary>
      <div class="detail-content">
        <p>Na intervalu \([0, 4\pi)\) imamo dva puna obrtaja jedinicnog kruga. U svakom obrtaju, jednacina \(\sin x = \frac{1}{2}\) daje dva resenja. Dakle, ukupno ima \(2 \times 2 = 4\) resenja: \(\frac{\pi}{6}\), \(\frac{5\pi}{6}\), \(\frac{13\pi}{6}\) i \(\frac{17\pi}{6}\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('unit-circle-canvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const centerX = W / 2;
  const centerY = H / 2 + 10;
  const R = 180;

  // Solution angles
  const sol1 = Math.PI / 6;
  const sol2 = 5 * Math.PI / 6;

  // Draggable point state
  let dragPoint = null;
  let dragAngle = sol1;
  let points = [
    { angle: sol1, color: '#4ade80', label: 'x\u2081 = \u03C0/6' },
    { angle: sol2, color: '#f472b6', label: 'x\u2082 = 5\u03C0/6' }
  ];

  function toCanvas(angle) {
    return {
      x: centerX + R * Math.cos(angle),
      y: centerY - R * Math.sin(angle)
    };
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -R; i <= R; i += 45) {
      ctx.beginPath();
      ctx.moveTo(centerX + i, centerY - R - 30);
      ctx.lineTo(centerX + i, centerY + R + 30);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(centerX - R - 30, centerY + i);
      ctx.lineTo(centerX + R + 30, centerY + i);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(centerX - R - 40, centerY);
    ctx.lineTo(centerX + R + 40, centerY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(centerX, centerY - R - 40);
    ctx.lineTo(centerX, centerY + R + 40);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('x', centerX + R + 35, centerY + 15);
    ctx.fillText('y', centerX - 15, centerY - R - 30);
    ctx.fillText('1', centerX + R + 5, centerY + 18);
    ctx.fillText('-1', centerX - R - 10, centerY + 18);
    ctx.fillText('1', centerX + 12, centerY - R - 5);
    ctx.fillText('-1', centerX + 15, centerY + R + 12);

    // Unit circle
    ctx.beginPath();
    ctx.arc(centerX, centerY, R, 0, 2 * Math.PI);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // sin(x) = 1/2 line
    const halfY = centerY - R * 0.5;
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(centerX - R - 20, halfY);
    ctx.lineTo(centerX + R + 20, halfY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label for sin = 1/2 line
    ctx.fillStyle = '#60a5fa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('sin x = 1/2', centerX + R + 8, halfY - 8);

    // Draw arcs showing angles
    for (let i = 0; i < points.length; i++) {
      const p = points[i];
      const pos = toCanvas(p.angle);

      // Arc from positive x-axis to point
      ctx.beginPath();
      ctx.arc(centerX, centerY, 35 + i * 15, 0, -p.angle, true);
      ctx.strokeStyle = p.color;
      ctx.lineWidth = 2;
      ctx.globalAlpha = 0.5;
      ctx.stroke();
      ctx.globalAlpha = 1;

      // Dashed lines from point to axes
      ctx.setLineDash([4, 3]);
      ctx.strokeStyle = p.color;
      ctx.lineWidth = 1;
      ctx.globalAlpha = 0.4;

      // Vertical line to x-axis
      ctx.beginPath();
      ctx.moveTo(pos.x, pos.y);
      ctx.lineTo(pos.x, centerY);
      ctx.stroke();

      // Horizontal line to y-axis
      ctx.beginPath();
      ctx.moveTo(pos.x, pos.y);
      ctx.lineTo(centerX, pos.y);
      ctx.stroke();

      ctx.setLineDash([]);
      ctx.globalAlpha = 1;

      // Point on circle
      ctx.beginPath();
      ctx.arc(pos.x, pos.y, 8, 0, 2 * Math.PI);
      ctx.fillStyle = p.color;
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Glow effect
      const grad = ctx.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, 20);
      grad.addColorStop(0, p.color + '40');
      grad.addColorStop(1, 'transparent');
      ctx.beginPath();
      ctx.arc(pos.x, pos.y, 20, 0, 2 * Math.PI);
      ctx.fillStyle = grad;
      ctx.fill();

      // Label
      ctx.fillStyle = p.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = i === 0 ? 'left' : 'right';
      ctx.textBaseline = 'bottom';
      const labelOffX = i === 0 ? 15 : -15;
      ctx.fillText(p.label, pos.x + labelOffX, pos.y - 12);

      // Angle value in degrees
      const degVal = Math.round(p.angle * 180 / Math.PI);
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = p.color;
      ctx.globalAlpha = 0.8;
      const arcLabelR = 55 + i * 15;
      const arcLabelAngle = p.angle / 2;
      const arcLabelX = centerX + arcLabelR * Math.cos(arcLabelAngle);
      const arcLabelY = centerY - arcLabelR * Math.sin(arcLabelAngle);
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(degVal + '\u00B0', arcLabelX, arcLabelY);
      ctx.globalAlpha = 1;
    }

    // Excluded points (x=0 and x=pi)
    const excluded = [
      { angle: 0, label: 'x = 0' },
      { angle: Math.PI, label: 'x = \u03C0' }
    ];

    for (const ex of excluded) {
      const pos = toCanvas(ex.angle);
      ctx.beginPath();
      ctx.arc(pos.x, pos.y, 7, 0, 2 * Math.PI);
      ctx.fillStyle = '#0f172a';
      ctx.fill();
      ctx.strokeStyle = '#ef4444';
      ctx.lineWidth = 2;
      ctx.stroke();

      // X mark
      ctx.strokeStyle = '#ef4444';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(pos.x - 4, pos.y - 4);
      ctx.lineTo(pos.x + 4, pos.y + 4);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(pos.x + 4, pos.y - 4);
      ctx.lineTo(pos.x - 4, pos.y + 4);
      ctx.stroke();

      ctx.fillStyle = '#ef4444';
      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText(ex.label, pos.x, pos.y + 12);
      ctx.font = '10px Segoe UI, system-ui, sans-serif';
      ctx.fillText('(iskljuceno)', pos.x, pos.y + 26);
    }

    // Legend
    const legendX = 20;
    const legendY = H - 65;

    ctx.fillStyle = '#1e293b';
    ctx.fillRect(legendX - 5, legendY - 10, 260, 60);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(legendX - 5, legendY - 10, 260, 60);

    // Green dot
    ctx.beginPath();
    ctx.arc(legendX + 8, legendY + 5, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillStyle = '#4ade80';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillText('Resenje: x\u2081 = \u03C0/6 (30\u00B0)', legendX + 20, legendY + 5);

    // Pink dot
    ctx.beginPath();
    ctx.arc(legendX + 8, legendY + 25, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Resenje: x\u2082 = 5\u03C0/6 (150\u00B0)', legendX + 20, legendY + 25);

    // Red X legend
    ctx.strokeStyle = '#ef4444';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(legendX + 4, legendY + 41);
    ctx.lineTo(legendX + 12, legendY + 49);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(legendX + 12, legendY + 41);
    ctx.lineTo(legendX + 4, legendY + 49);
    ctx.stroke();
    ctx.fillStyle = '#ef4444';
    ctx.fillText('Iskljuceno iz domena', legendX + 20, legendY + 45);
  }

  draw();

  // --- Drag interaction ---
  function getMousePos(e) {
    const rect = canvas.getBoundingClientRect();
    const scaleX = W / rect.width;
    const scaleY = H / rect.height;
    let clientX, clientY;
    if (e.touches) {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    return {
      x: (clientX - rect.left) * scaleX,
      y: (clientY - rect.top) * scaleY
    };
  }

  function findClosestPoint(mx, my) {
    for (let i = 0; i < points.length; i++) {
      const pos = toCanvas(points[i].angle);
      const dx = mx - pos.x;
      const dy = my - pos.y;
      if (dx * dx + dy * dy < 400) return i;
    }
    return -1;
  }

  function onStart(e) {
    e.preventDefault();
    const pos = getMousePos(e);
    const idx = findClosestPoint(pos.x, pos.y);
    if (idx >= 0) dragPoint = idx;
  }

  function onMove(e) {
    if (dragPoint === null) return;
    e.preventDefault();
    const pos = getMousePos(e);
    let angle = Math.atan2(-(pos.y - centerY), pos.x - centerX);
    if (angle < 0) angle += 2 * Math.PI;

    points[dragPoint].angle = angle;

    const sinVal = Math.sin(angle);
    const degVal = Math.round(angle * 180 / Math.PI);
    const piVal = (angle / Math.PI).toFixed(2);

    points[dragPoint].label = degVal + '\u00B0 (sin=' + sinVal.toFixed(2).replace('.', ',') + ')';

    draw();
  }

  function onEnd() {
    dragPoint = null;
  }

  canvas.addEventListener('mousedown', onStart);
  canvas.addEventListener('mousemove', onMove);
  canvas.addEventListener('mouseup', onEnd);
  canvas.addEventListener('mouseleave', onEnd);
  canvas.addEventListener('touchstart', onStart, { passive: false });
  canvas.addEventListener('touchmove', onMove, { passive: false });
  canvas.addEventListener('touchend', onEnd);
})();
</script>

<script>
(() => {
  // Make steps clickable with green left border
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Trigonometrijska jednacina sa kotangensom","subject":"math","unit":"trigonometry","topic_tags":["trigonometrijske jednacine","kotangens","dupli ugao","kvadratna jednacina po sinusu","jedinicni krug"]}
BRAINSPARK_META-->