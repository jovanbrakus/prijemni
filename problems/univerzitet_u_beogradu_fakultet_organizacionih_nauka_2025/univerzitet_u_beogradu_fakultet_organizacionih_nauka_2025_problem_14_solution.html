<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simetrija tačke u odnosu na tangentu kružnice</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Given circle (x-3)^2 + (y+2)^2 = 5, point T(4,0) on the circle,
  tangent t at T. M(a,b) is the reflection of the origin O(0,0) over the tangent t.
  Find a + 2b.

  Step 1: Identify the center and radius
    Center C(3, -2), radius r = sqrt(5)
    Check T is on circle: (4-3)^2 + (0+2)^2 = 1 + 4 = 5 ✓

  Step 2: Find the tangent line at T(4,0)
    The radius CT goes from C(3,-2) to T(4,0).
    Direction vector CT = T - C = (4-3, 0-(-2)) = (1, 2).
    The tangent at T is perpendicular to the radius CT.
    So the normal to the tangent line is in the direction of CT = (1, 2).
    Tangent line equation: 1*(x - 4) + 2*(y - 0) = 0
    => x + 2y - 4 = 0

    Check: C(3,-2) distance to tangent = |3 + 2*(-2) - 4| / sqrt(1+4)
           = |3 - 4 - 4| / sqrt(5) = |-5| / sqrt(5) = 5/sqrt(5) = sqrt(5) ✓

  Step 3: Reflect O(0,0) over line x + 2y - 4 = 0
    Formula for reflection of point P(x0,y0) over line ax + by + c = 0:
    M = P - 2*(ax0 + by0 + c)/(a^2 + b^2) * (a, b)

    Here a=1, b=2, c=-4, P=(0,0):
    ax0 + by0 + c = 1*0 + 2*0 + (-4) = -4
    a^2 + b^2 = 1 + 4 = 5

    M_x = 0 - 2*(-4)/5 * 1 = 0 + 8/5 = 8/5
    M_y = 0 - 2*(-4)/5 * 2 = 0 + 16/5 = 16/5

    So M = (8/5, 16/5), meaning a = 8/5, b = 16/5.

  Step 4: Compute a + 2b
    a + 2b = 8/5 + 2*(16/5) = 8/5 + 32/5 = 40/5 = 8

  Answer: (C) 8

  Verification:
    - Check M is same distance from tangent as O, but on opposite side:
      O distance: |0 + 0 - 4|/sqrt(5) = 4/sqrt(5)
      M distance: |8/5 + 32/5 - 4|/sqrt(5) = |40/5 - 20/5|/sqrt(5) = |20/5|/sqrt(5) = 4/sqrt(5) ✓
      Sign check: O gives -4 (negative), M gives +4 (positive) ✓ Opposite sides.
    - Midpoint of O and M should lie on the tangent:
      Midpoint = ((0+8/5)/2, (0+16/5)/2) = (4/5, 8/5)
      Check: 4/5 + 2*(8/5) - 4 = 4/5 + 16/5 - 20/5 = 0 ✓

  Correct answer is (C) 8 ✓ Matches expected answer.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1.05rem;
  color: #e2e8f0;
}

.answer-option {
  cursor: default;
  transition: all 0.3s ease;
}

.answer-option:hover {
  border-color: #60a5fa;
  background: rgba(96, 165, 250, 0.1);
}

.highlight-box {
  background: rgba(96, 165, 250, 0.08);
  border: 1px solid rgba(96, 165, 250, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step-container:hover, .step-container.active {
  background: rgba(96, 165, 250, 0.05);
  border-left: 3px solid #4ade80;
  padding-left: 13px;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.9rem;
  color: #0f172a;
}

.step-content h3 {
  color: #60a5fa;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  margin-bottom: 10px;
  color: #cbd5e1;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 14px 20px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 8px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.1rem;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 10px 16px;
  margin-bottom: 10px;
  background: rgba(96, 165, 250, 0.05);
  border-left: 3px solid #a78bfa;
  border-radius: 0 8px 8px 0;
  line-height: 1.8;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 1rem;
}

.checkpoint .answer {
  margin-top: 10px;
  color: #4ade80;
  font-weight: 500;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 16px;
  font-size: 1.3rem;
}

.big-answer {
  font-size: 1.6rem;
  color: #4ade80;
  font-family: 'Courier New', monospace;
}

.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}

.final-answer-card .answer-value {
  font-size: 2rem;
  color: #4ade80;
  margin: 16px 0;
  font-weight: bold;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: bold;
}

.verification {
  background: rgba(52, 211, 153, 0.08);
  border-left: 3px solid #34d399;
  border-radius: 0 8px 8px 0;
  padding: 12px 16px;
  margin-top: 16px;
  text-align: left;
  font-size: 0.95rem;
  color: #94a3b8;
}

.pitfalls-card {
  border-left: 4px solid #f472b6;
}

.pitfall-item {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5);
  color: #cbd5e1;
}

.pitfall-item:last-child {
  border-bottom: none;
}

.pitfall-icon {
  color: #f472b6;
  margin-right: 8px;
}

.challenge-card {
  border-left: 4px solid #60a5fa;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .given-grid { gap: 8px; }
  .given-item { padding: 8px 12px; min-width: 65px; }
  .step-container { flex-direction: column; gap: 10px; }
  .container { padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Simetrija tačke u odnosu na tangentu kružnice</h1>
  <p class="subtitle">Analitička geometrija — kružnica, tangenta i osna simetrija</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2 class="card-title">Postavka zadatka</h2>
    <p>
      Neka je \( t \) tangenta kružnice \( (x - 3)^2 + (y + 2)^2 = 5 \) u tački \( T(4,\, 0) \).
      Ako je \( M(a,\, b) \) tačka simetrična koordinatnom početku u odnosu na tangentu \( t \),
      onda je vrednost izraza \( a + 2b \) jednaka:
    </p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Kružnica</div>
        <div class="value">\((x-3)^2 + (y+2)^2 = 5\)</div>
      </div>
      <div class="given-item">
        <div class="label">Tačka dodira</div>
        <div class="value">\(T(4,\, 0)\)</div>
      </div>
      <div class="given-item">
        <div class="label">Simetrija</div>
        <div class="value">\(O(0,\,0) \xrightarrow{t} M(a,\,b)\)</div>
      </div>
      <div class="given-item">
        <div class="label">Traženo</div>
        <div class="value">\(a + 2b\)</div>
      </div>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{42}{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{38}{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(8\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{36}{5}\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{32}{5}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2 class="card-title">Plan rešavanja</h2>
    <p>
      Prvo ćemo odrediti jednačinu tangente \( t \) kružnice u tački \( T \), koristeći činjenicu
      da je tangenta normalna na poluprečnik u tački dodira. Zatim ćemo naći koordinate tačke
      \( M \) kao osnu simetriju koordinatnog početka \( O(0,\,0) \) u odnosu na pravu \( t \),
      i na kraju izračunati \( a + 2b \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul class="theory-list">
        <li>
          <strong>Tangenta kružnice u tački:</strong> Tangenta kružnice u tački \( T \) je
          normalna na poluprečnik \( CT \), gde je \( C \) centar kružnice.
          Ako je \( \vec{CT} = (p,\, q) \), tangenta kroz \( T(x_0,\, y_0) \) je:
          \[ p(x - x_0) + q(y - y_0) = 0 \]
        </li>
        <li>
          <strong>Refleksija tačke preko prave:</strong> Za pravu \( ax + by + c = 0 \) i tačku
          \( P(x_0,\, y_0) \), simetrična tačka \( M \) je:
          \[ M = P - \frac{2(ax_0 + by_0 + c)}{a^2 + b^2} \cdot (a,\, b) \]
        </li>
        <li>
          <strong>Rastojanje tačke od prave:</strong>
          \[ d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}} \]
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid / Interactive Diagram -->
  <div class="card">
    <h2 class="card-title">Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="600"></canvas>
    <p class="canvas-hint">Prevucite tačke O ili M da istražite simetriju u odnosu na tangentu</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2 class="card-title">Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikujemo centar i poluprečnik kružnice</h3>
        <p>
          Iz jednačine \( (x - 3)^2 + (y + 2)^2 = 5 \) odmah čitamo:
        </p>
        <div class="math-block">
          \[ C(3,\, -2), \quad r = \sqrt{5} \]
        </div>
        <p class="note">Podsetnik: opšti oblik je \( (x - p)^2 + (y - q)^2 = r^2 \), gde je centar \( (p,\, q) \).</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Proveravamo da \( T(4,\, 0) \) leži na kružnici</h3>
        <p>Uvrštavamo koordinate tačke \( T \) u jednačinu kružnice:</p>
        <div class="math-block">
          \[ (4 - 3)^2 + (0 + 2)^2 = 1 + 4 = 5 \; \checkmark \]
        </div>
        <p>Tačka \( T \) zaista pripada kružnici.</p>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Nalazimo vektor \( \vec{CT} \)</h3>
        <p>Vektor od centra \( C \) do tačke dodira \( T \):</p>
        <div class="math-block">
          \[ \vec{CT} = T - C = (4 - 3,\; 0 - (-2)) = (1,\, 2) \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Formiramo jednačinu tangente \( t \)</h3>
        <p>Tangenta je normalna na poluprečnik \( CT \) u tački \( T \). Normala tangente ima pravac
          \( \vec{CT} = (1,\, 2) \), pa je jednačina tangente:</p>
        <div class="math-block">
          \[ 1 \cdot (x - 4) + 2 \cdot (y - 0) = 0 \]
        </div>
        <p>Sredimo:</p>
        <div class="math-block">
          \[ x + 2y - 4 = 0 \]
        </div>
        <p class="note">Proverimo: rastojanje centra \( C(3,\,-2) \) od ove prave treba da bude \( r = \sqrt{5} \).</p>
        <div class="math-block">
          \[ d = \frac{|3 + 2 \cdot (-2) - 4|}{\sqrt{1^2 + 2^2}} = \frac{|3 - 4 - 4|}{\sqrt{5}} = \frac{5}{\sqrt{5}} = \sqrt{5} \; \checkmark \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Koji je koeficijent uz \( y \) u jednačini tangente?</summary>
      <div class="answer">Koeficijent uz \( y \) je \( 2 \). Jednačina tangente je \( x + 2y - 4 = 0 \).</div>
    </details>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Primenjujemo formulu za refleksiju tačke</h3>
        <p>
          Reflektujemo koordinatni početak \( O(0,\, 0) \) preko prave \( x + 2y - 4 = 0 \).
        </p>
        <p>Koristimo formulu: za pravu \( ax + by + c = 0 \) i tačku \( P(x_0,\, y_0) \):</p>
        <div class="math-block">
          \[ M = P - \frac{2(ax_0 + by_0 + c)}{a^2 + b^2} \cdot (a,\, b) \]
        </div>
        <p>Ovde je \( a = 1 \), \( b = 2 \), \( c = -4 \), i \( P = O(0,\, 0) \).</p>
      </div>
    </div>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Računamo vrednost izraza u brojiocu</h3>
        <p>Izraz \( ax_0 + by_0 + c \) za tačku \( O(0,\, 0) \):</p>
        <div class="math-block">
          \[ 1 \cdot 0 + 2 \cdot 0 + (-4) = -4 \]
        </div>
        <p>A imenilac \( a^2 + b^2 \):</p>
        <div class="math-block">
          \[ 1^2 + 2^2 = 5 \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Nalazimo koordinate simetrične tačke \( M \)</h3>
        <p>Uvrštavamo u formulu:</p>
        <div class="math-block">
          \[ M = (0,\, 0) - \frac{2 \cdot (-4)}{5} \cdot (1,\, 2) \]
        </div>
        <p>Računamo koeficijent:</p>
        <div class="math-block">
          \[ \frac{2 \cdot (-4)}{5} = -\frac{8}{5} \]
        </div>
        <p>Dakle:</p>
        <div class="math-block">
          \[ M = (0,\, 0) - \left(-\frac{8}{5}\right) \cdot (1,\, 2) = \left(\frac{8}{5},\, \frac{16}{5}\right) \]
        </div>
        <p>Znači \( a = \dfrac{8}{5} \) i \( b = \dfrac{16}{5} \).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Koliko je rastojanje od \( O \) do tangente \( t \)?</summary>
      <div class="answer">
        \( d = \dfrac{|0 + 0 - 4|}{\sqrt{5}} = \dfrac{4}{\sqrt{5}} = \dfrac{4\sqrt{5}}{5} \).
        Isto rastojanje treba da bude i od \( M \) do \( t \), ali sa suprotnom stranom.
      </div>
    </details>

    <div class="step-container" id="step8">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Računamo \( a + 2b \)</h3>
        <p>Konačno:</p>
        <div class="math-block">
          \[ a + 2b = \frac{8}{5} + 2 \cdot \frac{16}{5} = \frac{8}{5} + \frac{32}{5} = \frac{40}{5} = 8 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Da li sredina duži \( OM \) leži na tangenti?</summary>
      <div class="answer">
        Sredina: \( S = \left(\dfrac{0 + 8/5}{2},\, \dfrac{0 + 16/5}{2}\right) = \left(\dfrac{4}{5},\, \dfrac{8}{5}\right) \).
        Provera: \( \dfrac{4}{5} + 2 \cdot \dfrac{8}{5} - 4 = \dfrac{4 + 16 - 20}{5} = 0 \; \checkmark \)
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color: #cbd5e1; margin-bottom: 16px;">
      Tangenta kružnice u tački dodira je uvek normalna na poluprečnik.
      Kada znamo jednačinu prave, refleksija tačke se računa jednom formulom
      bez potrebe za nalaženjem podnožja normale.
    </p>
    <div class="big-answer">
      \[ a + 2b = \frac{8}{5} + \frac{32}{5} = 8 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2 class="card-title" style="justify-content: center; color: #4ade80;">Konačan odgovor</h2>
    <div class="answer-value">\( a + 2b = 8 \)</div>
    <div class="final-options">
      <div class="final-option">(A) \(\dfrac{42}{5}\)</div>
      <div class="final-option">(B) \(\dfrac{38}{5}\)</div>
      <div class="final-option correct">(C) \(8\)</div>
      <div class="final-option">(D) \(\dfrac{36}{5}\)</div>
      <div class="final-option">(E) \(\dfrac{32}{5}\)</div>
    </div>
    <div class="verification">
      <strong>Provera:</strong> Sredina duži \( OM \) je \( S\!\left(\frac{4}{5},\, \frac{8}{5}\right) \),
      i zaista leži na tangenti: \( \frac{4}{5} + 2 \cdot \frac{8}{5} - 4 = 0 \).
      Takođe, rastojanja \( O \) i \( M \) od tangente su jednaka (\( \frac{4}{\sqrt{5}} \)),
      ali sa suprotnih strana, što potvrđuje da je \( M \) refleksija tačke \( O \).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <h2 class="card-title" style="color: #f472b6;">Česte greške</h2>
    <div class="pitfall-item">
      <span class="pitfall-icon">1.</span>
      <strong>Pogrešan smer normale:</strong> Normala tangente ima pravac vektora \( \vec{CT} = (1,\, 2) \),
      a ne pravac tangente \( (2,\, -1) \). Mešanje ova dva pravca dovodi do pogrešne jednačine tangente
      (npr. \( x - 2y - 4 = 0 \) umesto ispravnog \( x + 2y - 4 = 0 \)).
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">2.</span>
      <strong>Greška u formuli za refleksiju:</strong> U formuli za simetričnu tačku, faktor je
      \( \frac{2(ax_0 + by_0 + c)}{a^2 + b^2} \) — obratite pažnju na znak broja \( c \).
      Ako jednačinu prave zapišete kao \( x + 2y = 4 \) umesto \( x + 2y - 4 = 0 \),
      lako se pogreši sa znakom.
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2 class="card-title">Dodatni izazov</h2>
    <p>
      Neka je \( N(c,\, d) \) tačka simetrična centru kružnice \( C(3,\, -2) \)
      u odnosu na istu tangentu \( t \). Koliko je \( c + d \)?
    </p>
    <details>
      <summary>Hint</summary>
      <p style="margin-top: 10px; color: #94a3b8;">
        Primenite istu formulu za refleksiju, ali sada za tačku \( C(3,\, -2) \) umesto \( O(0,\, 0) \).
        Izračunajte \( 1 \cdot 3 + 2 \cdot (-2) + (-4) = -5 \), pa nastavite sa formulom.
        Rezultat: \( N(5,\, 2) \), dakle \( c + d = 7 \).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system: math coords -> canvas coords
  // We want to show roughly x in [-2, 8], y in [-5, 6]
  const scaleX = W / 10;
  const scaleY = H / 11;
  const scale = Math.min(scaleX, scaleY);
  const originX = 2 * scale; // x=0 maps here
  const originY = H - 5 * scale; // y=0 maps here

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function toMath(cx, cy) {
    return { x: (cx - originX) / scale, y: (originY - cy) / scale };
  }

  // Key points
  const C = { x: 3, y: -2 };
  const T = { x: 4, y: 0 };
  const O = { x: 0, y: 0 };
  const M = { x: 8/5, y: 16/5 };
  const S = { x: 4/5, y: 8/5 }; // midpoint of O and M
  const r = Math.sqrt(5);

  // Tangent line: x + 2y - 4 = 0
  // parametric: from T(4,0) in direction (2, -1) (tangent direction, perp to (1,2))
  function tangentPoint(t) {
    return { x: 4 + 2*t, y: -t };
  }

  let dragging = null;
  let highlightPoint = null;

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = -2; x <= 8; x++) {
      const p1 = toCanvas(x, -5);
      const p2 = toCanvas(x, 6);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
    for (let y = -5; y <= 6; y++) {
      const p1 = toCanvas(-2, y);
      const p2 = toCanvas(8, y);
      ctx.beginPath();
      ctx.moveTo(p1.x, p1.y);
      ctx.lineTo(p2.x, p2.y);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;

    // x-axis
    const xl = toCanvas(-2, 0);
    const xr = toCanvas(8, 0);
    ctx.beginPath();
    ctx.moveTo(xl.x, xl.y);
    ctx.lineTo(xr.x, xr.y);
    ctx.stroke();

    // y-axis
    const yb = toCanvas(0, -5);
    const yt = toCanvas(0, 6);
    ctx.beginPath();
    ctx.moveTo(yb.x, yb.y);
    ctx.lineTo(yt.x, yt.y);
    ctx.stroke();

    // Labels
    ctx.fillStyle = '#64748b';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = -1; x <= 7; x++) {
      if (x === 0) continue;
      const p = toCanvas(x, 0);
      ctx.fillText(x.toString(), p.x, p.y + 18);
    }
    ctx.textAlign = 'right';
    for (let y = -4; y <= 5; y++) {
      if (y === 0) continue;
      const p = toCanvas(0, y);
      ctx.fillText(y.toString(), p.x - 8, p.y + 5);
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const xLabel = toCanvas(7.5, 0);
    ctx.fillText('x', xLabel.x + 5, xLabel.y - 8);
    const yLabel = toCanvas(0, 5.5);
    ctx.fillText('y', yLabel.x + 8, yLabel.y + 5);
  }

  function drawCircle() {
    const cc = toCanvas(C.x, C.y);
    const rPx = r * scale;

    // Circle glow
    ctx.beginPath();
    ctx.arc(cc.x, cc.y, rPx, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.lineWidth = 6;
    ctx.stroke();

    // Circle
    ctx.beginPath();
    ctx.arc(cc.x, cc.y, rPx, 0, 2 * Math.PI);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();
  }

  function drawTangent() {
    const t1 = tangentPoint(-4);
    const t2 = tangentPoint(4);
    const p1 = toCanvas(t1.x, t1.y);
    const p2 = toCanvas(t2.x, t2.y);

    ctx.beginPath();
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Label tangent
    const labelPos = toCanvas(tangentPoint(2.5).x, tangentPoint(2.5).y);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('t', labelPos.x + 8, labelPos.y - 8);
  }

  function drawRadius() {
    const cc = toCanvas(C.x, C.y);
    const tt = toCanvas(T.x, T.y);

    ctx.beginPath();
    ctx.setLineDash([6, 4]);
    ctx.moveTo(cc.x, cc.y);
    ctx.lineTo(tt.x, tt.y);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.setLineDash([]);
  }

  function drawReflectionLine() {
    // Dashed line from O to M
    const oo = toCanvas(O.x, O.y);
    const mm = toCanvas(M.x, M.y);

    ctx.beginPath();
    ctx.setLineDash([5, 5]);
    ctx.moveTo(oo.x, oo.y);
    ctx.lineTo(mm.x, mm.y);
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.stroke();
    ctx.setLineDash([]);

    // Midpoint S
    const ss = toCanvas(S.x, S.y);
    ctx.beginPath();
    ctx.arc(ss.x, ss.y, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#94a3b8';
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('S', ss.x + 8, ss.y - 4);
  }

  function drawRightAngleMark() {
    // Draw right angle mark at T between radius CT and tangent t
    const tt = toCanvas(T.x, T.y);
    // Direction of CT: (1,2) normalized
    const lenCT = Math.sqrt(1 + 4);
    const dxR = 1 / lenCT;
    const dyR = 2 / lenCT;
    // Direction of tangent: (2,-1) normalized
    const lenT = Math.sqrt(4 + 1);
    const dxT = 2 / lenT;
    const dyT = -1 / lenT;

    const sz = 12;
    // In canvas coords, y is flipped
    const ax = tt.x - dxR * sz * (scale / 60);
    const ay = tt.y + dyR * sz * (scale / 60);
    const bx = ax + dxT * sz * (scale / 60);
    const by = ay - dyT * sz * (scale / 60);
    const cx2 = tt.x + dxT * sz * (scale / 60);
    const cy2 = tt.y - dyT * sz * (scale / 60);

    // Simpler approach: use fixed pixel offset
    const sz2 = 14;
    // Along radius direction (away from T toward C) in canvas
    const rDirX = (toCanvas(C.x, C.y).x - tt.x);
    const rDirY = (toCanvas(C.x, C.y).y - tt.y);
    const rLen = Math.sqrt(rDirX*rDirX + rDirY*rDirY);
    const rnx = rDirX / rLen * sz2;
    const rny = rDirY / rLen * sz2;
    // Along tangent direction
    const tPt = toCanvas(tangentPoint(1).x, tangentPoint(1).y);
    const tDirX = tPt.x - tt.x;
    const tDirY = tPt.y - tt.y;
    const tLen = Math.sqrt(tDirX*tDirX + tDirY*tDirY);
    const tnx = tDirX / tLen * sz2;
    const tny = tDirY / tLen * sz2;

    ctx.beginPath();
    ctx.moveTo(tt.x + rnx, tt.y + rny);
    ctx.lineTo(tt.x + rnx + tnx, tt.y + rny + tny);
    ctx.lineTo(tt.x + tnx, tt.y + tny);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.stroke();
  }

  function drawPoint(pt, color, label, offsetX, offsetY) {
    const p = toCanvas(pt.x, pt.y);

    // Glow
    const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 15);
    grad.addColorStop(0, color + '66');
    grad.addColorStop(1, 'transparent');
    ctx.beginPath();
    ctx.arc(p.x, p.y, 15, 0, 2 * Math.PI);
    ctx.fillStyle = grad;
    ctx.fill();

    // Point
    ctx.beginPath();
    ctx.arc(p.x, p.y, 5, 0, 2 * Math.PI);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.strokeStyle = '#0f172a';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Label
    ctx.fillStyle = color;
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, p.x + (offsetX || 0), p.y + (offsetY || -14));
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawAxes();
    drawCircle();
    drawRadius();
    drawTangent();
    drawRightAngleMark();
    drawReflectionLine();

    // Points
    drawPoint(C, '#60a5fa', 'C(3, -2)', 0, 20);
    drawPoint(T, '#a78bfa', 'T(4, 0)', 15, -14);
    drawPoint(O, '#f472b6', 'O(0, 0)', -20, -14);
    drawPoint(M, '#4ade80', 'M(8/5, 16/5)', 15, -14);

    // Legend
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const lx = W - 180;
    const ly = 30;

    ctx.fillStyle = 'rgba(30, 41, 59, 0.85)';
    ctx.fillRect(lx - 10, ly - 5, 175, 110);
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.strokeRect(lx - 10, ly - 5, 175, 110);

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(lx, ly + 8, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Kružnica', lx + 22, ly + 14);

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(lx, ly + 30, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Tangenta t', lx + 22, ly + 36);

    ctx.fillStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.fillRect(lx, ly + 52, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Poluprečnik CT', lx + 22, ly + 58);

    ctx.fillStyle = 'rgba(52, 211, 153, 0.5)';
    ctx.fillRect(lx, ly + 74, 14, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('O → M (simetrija)', lx + 22, ly + 80);
  }

  draw();

  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Simetrija tačke u odnosu na tangentu kružnice",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["kružnica", "tangenta", "osna simetrija", "refleksija tačke", "analitička geometrija"]
}
BRAINSPARK_META-->