<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simetricna tacka u odnosu na tangentu kruznice</title>

<script type="text/info" id="logic-scratchpad">
Problem: Data je kruznica (x-3)^2 + (y+2)^2 = 5 i tacka T(4, 0) na njoj.
Tangenta t u tacki T dodiruje kruznicu.
M(a, b) je tacka simetricna koordinatnom pocetku O(0,0) u odnosu na tangentu t.
Naci a + 2b.

KORAK 1: Proveriti da je T(4, 0) na kruznici.
  (4-3)^2 + (0+2)^2 = 1 + 4 = 5 = r^2. DA.

KORAK 2: Identifikovati centar i poluprecnik.
  Centar C(3, -2), poluprecnik r = sqrt(5).

KORAK 3: Odrediti jednacinu tangente t u tacki T(4, 0).
  Vektor CT = T - C = (4-3, 0-(-2)) = (1, 2).
  Tangenta je normalna na poluprecnik CT, pa vektor CT = (1, 2) je normala tangente.
  Jednacina tangente (normala je (1, 2), prolazi kroz T(4, 0)):
    1*(x - 4) + 2*(y - 0) = 0
    x + 2y - 4 = 0

  Provera: T(4,0): 4 + 0 - 4 = 0. OK.
  Provera rastojanja centra od tangente:
    d(C, t) = |3 + 2*(-2) - 4| / sqrt(1 + 4) = |-5| / sqrt(5) = 5/sqrt(5) = sqrt(5) = r. OK.

KORAK 4: Naci tacku M(a, b) simetricnu tacki O(0, 0) u odnosu na pravu x + 2y - 4 = 0.
  Formula za refleksiju tacke (x0, y0) u odnosu na pravu ax + by + c = 0:
    x' = x0 - 2a(ax0 + by0 + c) / (a^2 + b^2)
    y' = y0 - 2b(ax0 + by0 + c) / (a^2 + b^2)

  Ovde: a_l = 1, b_l = 2, c_l = -4, tacka (x0, y0) = (0, 0).
    ax0 + by0 + c = 1*0 + 2*0 + (-4) = -4
    a^2 + b^2 = 1 + 4 = 5

    x' = 0 - 2*1*(-4)/5 = 8/5
    y' = 0 - 2*2*(-4)/5 = 16/5

  Dakle M(8/5, 16/5).

KORAK 5: Izracunati a + 2b.
  a + 2b = 8/5 + 2*(16/5) = 8/5 + 32/5 = 40/5 = 8.

VERIFIKACIJA:
  1) Srediste duzi OM je F = ((0+8/5)/2, (0+16/5)/2) = (4/5, 8/5).
     Provera da F lezi na tangenti: 4/5 + 2*(8/5) - 4 = 4/5 + 16/5 - 20/5 = 0. OK.
  2) Vektor OM = (8/5, 16/5) je kolinearan sa normalom (1, 2):
     (8/5)/1 = 8/5, (16/5)/2 = 8/5. OK.
  3) Rastojanje O od prave: |0 + 0 - 4|/sqrt(5) = 4/sqrt(5).
     Rastojanje M od prave: |8/5 + 32/5 - 4|/sqrt(5) = |40/5 - 20/5|/sqrt(5) = (20/5)/sqrt(5) = 4/sqrt(5). OK.
     Znakovi: O daje -4 (negativna strana), M daje +4 (pozitivna strana). Suprotne strane. OK.

Odgovor: (C) 8.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
  transition: all 0.3s ease;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
}

.answer-option {
  cursor: default;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-note {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  padding: 12px 16px;
  background: rgba(51, 65, 85, 0.4);
  border-radius: 8px;
  text-align: left;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Simetricna tacka u odnosu na tangentu kruznice</h1>
  <p class="subtitle">Analiticka geometrija — kruznica, tangenta i osna simetrija</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128203;</span> Tekst zadatka</div>
    <p style="font-size: 1.15rem; line-height: 1.8;">
      Neka je \( t \) tangenta kruznice \( (x-3)^2 + (y+2)^2 = 5 \) u tacki \( T(4,\, 0) \). Ako je \( M(a,\, b) \) tacka simetricna koordinatnom pocetku u odnosu na tangentu \( t \), onda je vrednost izraza \( a + 2b \) jednaka:
    </p>

    <div class="given-grid" style="margin-top: 14px; margin-bottom: 10px;">
      <div class="given-item">
        <div class="label">Kruznica</div>
        <div class="value">\( (x-3)^2 + (y+2)^2 = 5 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Tacka dodira</div>
        <div class="value">\( T(4,\, 0) \)</div>
      </div>
      <div class="given-item">
        <div class="label">Simetrija</div>
        <div class="value">\( O(0,\,0) \xrightarrow{\;t\;} M(a,\,b) \)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">\( a + 2b \)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( \dfrac{42}{5} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( \dfrac{38}{5} \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 8 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( \dfrac{36}{5} \)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( \dfrac{32}{5} \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      Prvo proveravamo da tacka \( T \) pripada kruznici. Zatim nalazimo jednacinu tangente \( t \) koristeci cinjenicu da je tangenta normalna na poluprecnik u tacki dodira. Na kraju, reflektujemo koordinatni pocetak \( O(0,\, 0) \) u odnosu na pravu \( t \) i izracunavamo \( a + 2b \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>&#128208; Kljucne formule i teoreme</summary>
      <div class="detail-content">
        <p>Formule koje su nam potrebne u ovom zadatku:</p>
        <ul style="margin: 12px 0 0 20px; list-style: none;">
          <li style="margin-bottom: 12px;">
            <strong>Jednacina kruznice:</strong>
            \[ (x - p)^2 + (y - q)^2 = r^2, \quad \text{centar } C(p,\, q), \text{ poluprecnik } r \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Tangenta u tacki dodira:</strong> Normala tangente je vektor \( \overrightarrow{CT} \). Ako je \( \overrightarrow{CT} = (p,\, q) \), jednacina tangente kroz \( T(x_0,\, y_0) \) glasi:
            \[ p(x - x_0) + q(y - y_0) = 0 \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Refleksija tacke u odnosu na pravu \( ax + by + c = 0 \):</strong>
            \[ x' = x_0 - \frac{2a(ax_0 + by_0 + c)}{a^2 + b^2}, \qquad y' = y_0 - \frac{2b(ax_0 + by_0 + c)}{a^2 + b^2} \]
          </li>
          <li style="margin-bottom: 12px;">
            <strong>Rastojanje tacke od prave:</strong>
            \[ d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}} \]
          </li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid: Canvas -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz — kruznica, tangenta i simetrija</div>
    <div class="canvas-wrapper">
      <canvas id="geometryCanvas" width="650" height="550"></canvas>
    </div>
    <p class="canvas-caption">Kruznica sa centrom \( C(3,\, -2) \), tangenta \( t \) u tacki \( T(4,\, 0) \), koordinatni pocetak \( O \) i njegova simetricna tacka \( M \).</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128290;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Centar i poluprecnik kruznice</div>
        <p>Iz jednacine \( (x-3)^2 + (y+2)^2 = 5 \) odmah citamo:</p>
        <div class="step-math">
          \[ C(3,\, -2), \qquad r = \sqrt{5} \]
        </div>
        <p style="color: #94a3b8; font-size: 0.95rem;">Podsetnik: opsti oblik je \( (x - p)^2 + (y - q)^2 = r^2 \), gde je centar \( (p,\, q) \). Ovde je \( q = -2 \) jer imamo \( (y + 2) = (y - (-2)) \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Provera da \( T(4,\, 0) \) pripada kruznici</div>
        <p>Zamenjujemo koordinate tacke \( T \) u jednacinu kruznice:</p>
        <div class="step-math">
          \[ (4 - 3)^2 + (0 + 2)^2 = 1^2 + 2^2 = 1 + 4 = 5 \; \checkmark \]
        </div>
        <p>Tacka \( T(4,\, 0) \) zaista lezi na kruznici.</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Vektor poluprecnika \( \overrightarrow{CT} \)</div>
        <p>Racunamo vektor od centra \( C \) do tacke dodira \( T \):</p>
        <div class="step-math">
          \[ \overrightarrow{CT} = T - C = (4 - 3,\; 0 - (-2)) = (1,\, 2) \]
        </div>
        <p>Ovaj vektor je normala tangente \( t \) u tacki \( T \).</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Jednacina tangente \( t \)</div>
        <p>Tangenta je normalna na poluprecnik u tacki dodira. Normala tangente ima pravac \( \overrightarrow{CT} = (1,\, 2) \), pa je jednacina prave kroz \( T(4,\, 0) \) sa normalom \( (1,\, 2) \):</p>
        <div class="step-math">
          \[ 1 \cdot (x - 4) + 2 \cdot (y - 0) = 0 \]
        </div>
        <p>Sredimo:</p>
        <div class="highlight-box">
          \[ t:\; x + 2y - 4 = 0 \]
        </div>
        <p style="color: #94a3b8; font-size: 0.95rem;">Proverimo: rastojanje centra \( C(3,\,-2) \) od tangente treba da bude \( r = \sqrt{5} \).</p>
        <div class="step-math">
          \[ d(C,\, t) = \frac{|3 + 2 \cdot (-2) - 4|}{\sqrt{1^2 + 2^2}} = \frac{|3 - 4 - 4|}{\sqrt{5}} = \frac{5}{\sqrt{5}} = \sqrt{5} \; \checkmark \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Koji je koeficijent uz \( y \) u jednacini tangente?</summary>
            <div class="detail-content">
              Koeficijent uz \( y \) je \( 2 \). Jednacina tangente je \( x + 2y - 4 = 0 \). Normala ove prave je \( (1,\, 2) \), sto se poklapa sa vektorom \( \overrightarrow{CT} \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Primena formule za refleksiju tacke \( O(0,\, 0) \)</div>
        <p>Koristimo formulu za refleksiju tacke \( (x_0,\, y_0) \) u odnosu na pravu \( ax + by + c = 0 \):</p>
        <div class="step-math">
          \[ x' = x_0 - \frac{2a(ax_0 + by_0 + c)}{a^2 + b^2}, \qquad y' = y_0 - \frac{2b(ax_0 + by_0 + c)}{a^2 + b^2} \]
        </div>
        <p>Za pravu \( x + 2y - 4 = 0 \) imamo \( a = 1,\; b = 2,\; c = -4 \), a tacka je \( O(0,\, 0) \).</p>
        <p>Izracunavamo zajednicki izraz:</p>
        <div class="step-math">
          \[ ax_0 + by_0 + c = 1 \cdot 0 + 2 \cdot 0 + (-4) = -4 \]
        </div>
        <div class="step-math">
          \[ a^2 + b^2 = 1^2 + 2^2 = 5 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Sta geometrijski znaci vrednost \( ax_0 + by_0 + c = -4 \)?</summary>
            <div class="detail-content">
              Negativna vrednost znaci da tacka \( O \) lezi sa jedne strane prave \( t \). Kad refleksija daje \( +4 \) za tacku \( M \), to znaci da je \( M \) sa suprotne strane. Jednako rastojanje, suprotna strana — to je osna simetrija.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Koordinate simetricne tacke \( M(a,\, b) \)</div>
        <p>Zamenjujemo u formulu za refleksiju:</p>
        <div class="step-math">
          \[ a = 0 - \frac{2 \cdot 1 \cdot (-4)}{5} = 0 + \frac{8}{5} = \frac{8}{5} \]
        </div>
        <div class="step-math">
          \[ b = 0 - \frac{2 \cdot 2 \cdot (-4)}{5} = 0 + \frac{16}{5} = \frac{16}{5} \]
        </div>
        <p>Dakle:</p>
        <div class="highlight-box">
          \[ M\!\left(\frac{8}{5},\, \frac{16}{5}\right) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Da li je srediste duzi \( OM \) na pravoj \( t \)?</summary>
            <div class="detail-content">
              Srediste \( F = \left(\dfrac{0 + 8/5}{2},\, \dfrac{0 + 16/5}{2}\right) = \left(\dfrac{4}{5},\, \dfrac{8}{5}\right) \).
              <br>Provera: \( \dfrac{4}{5} + 2 \cdot \dfrac{8}{5} - 4 = \dfrac{4 + 16 - 20}{5} = 0 \; \checkmark \)
              <br>Srediste zaista lezi na tangenti, sto potvrdjuje ispravnost refleksije.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" id="step7">
      <div class="step-badge">7</div>
      <div class="step-content">
        <div class="step-title">Izracunavanje \( a + 2b \)</div>
        <p>Konacno:</p>
        <div class="step-math">
          \[ a + 2b = \frac{8}{5} + 2 \cdot \frac{16}{5} = \frac{8}{5} + \frac{32}{5} = \frac{40}{5} = 8 \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Ceo zadatak se svodi na tri koraka: (1) prepoznati da je tangenta normalna na poluprecnik, sto daje jednacinu tangente; (2) primeniti formulu za refleksiju tacke u odnosu na pravu; (3) izracunati trazeni izraz. Kljucna cinjenica je da vektor \( \overrightarrow{CT} \) direktno daje normalu tangente — nema potrebe za trazanjem nagiba ili koeficijenta pravca.</p>
    <div class="step-math" style="margin-top: 16px;">
      \[ \overrightarrow{CT} = (1,\, 2) \;\xrightarrow{\;\perp\;}\; t:\, x + 2y - 4 = 0 \;\xrightarrow{\text{refleksija } O}\; M\!\left(\tfrac{8}{5},\, \tfrac{16}{5}\right) \;\xrightarrow{\;}\; a + 2b = 8 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( a + 2b = 8 \)</div>
    <div class="answer-note">Tacan odgovor je (C)</div>
    <div class="final-options">
      <div class="final-option">(A) \( \frac{42}{5} \)</div>
      <div class="final-option">(B) \( \frac{38}{5} \)</div>
      <div class="final-option correct">(C) \( 8 \)</div>
      <div class="final-option">(D) \( \frac{36}{5} \)</div>
      <div class="final-option">(E) \( \frac{32}{5} \)</div>
    </div>
    <div class="verification-note">
      <strong>Verifikacija:</strong> Srediste duzi \( OM \) je \( F\!\left(\frac{4}{5},\, \frac{8}{5}\right) \) i lezi na tangenti: \( \frac{4}{5} + 2 \cdot \frac{8}{5} - 4 = 0 \). Rastojanja \( O \) i \( M \) od tangente su jednaka: \( d = \frac{4}{\sqrt{5}} \), ali sa suprotnih strana prave, sto potvrdjuje da je \( M \) refleksija tacke \( O \).
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Mesanje normale i pravca tangente:</strong> Normala tangente je \( \overrightarrow{CT} = (1,\, 2) \), a pravac tangente je \( (2,\, -1) \). Ako se zameni normala sa pravcem, dobija se pogresna jednacina tangente \( 2x - y - 8 = 0 \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Mesanje nozista i refleksije:</strong> Noziste normale iz \( O \) na pravu \( t \) je tacka \( F\!\left(\frac{4}{5},\, \frac{8}{5}\right) \), a ne simetricna tacka \( M \). Refleksija zahteva dvostruko rastojanje: \( M = 2F - O \). Ako se koristi samo noziste, vrednost \( a + 2b = \frac{4}{5} + 2 \cdot \frac{8}{5} = 4 \), sto nije medju ponudjenim odgovorima.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#10007;</span>
      <p><strong>Pogresan znak za \( c \):</strong> Ako se jednacina tangente zapise kao \( x + 2y = 4 \) i u formuli koristi \( c = 4 \) umesto \( c = -4 \), dobija se pogresna refleksija. Uvek zapisujte pravu u obliku \( ax + by + c = 0 \) pre primene formule.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Neka je \( N(c,\, d) \) tacka simetricna centru kruznice \( C(3,\, -2) \) u odnosu na istu tangentu \( t \). Izracunaj \( c + d \).</p>
    <details>
      <summary>Pogledaj resenje</summary>
      <div class="detail-content">
        <p>Primenjujemo istu formulu za refleksiju za tacku \( C(3,\, -2) \):</p>
        <p>\[ 1 \cdot 3 + 2 \cdot (-2) + (-4) = 3 - 4 - 4 = -5 \]</p>
        <p>\[ c = 3 - \frac{2 \cdot 1 \cdot (-5)}{5} = 3 + 2 = 5 \]</p>
        <p>\[ d = -2 - \frac{2 \cdot 2 \cdot (-5)}{5} = -2 + 4 = 2 \]</p>
        <p>Dakle \( N(5,\, 2) \), pa je \( c + d = 7 \).</p>
        <p style="margin-top: 8px; color: #94a3b8;">Napomena: Rastojanje od \( C \) do tangente je \( r = \sqrt{5} \), pa je rastojanje od \( N \) do tangente takodje \( \sqrt{5} \), a rastojanje \( CN = 2\sqrt{5} = 2r \). Ovo ima smisla jer je refleksija centra tacno na rastojanju \( 2r \) od centra, normalno na tangentu.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  var canvas = document.getElementById('geometryCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width;
  var H = canvas.height;

  // Coordinate mapping: math range x in [-2, 7], y in [-4.5, 5]
  var xMin = -2, xMax = 7, yMin = -4.5, yMax = 5;
  var scaleVal = Math.min(W / (xMax - xMin), H / (yMax - yMin)) * 0.88;
  var originX = W / 2 - ((xMin + xMax) / 2) * scaleVal;
  var originY = H / 2 + ((yMin + yMax) / 2) * scaleVal;

  function toCanvas(mx, my) {
    return [originX + mx * scaleVal, originY - my * scaleVal];
  }

  // Key points in math coords
  var C = [3, -2];
  var T = [4, 0];
  var O = [0, 0];
  var M = [8 / 5, 16 / 5];
  var F = [4 / 5, 8 / 5];
  var r = Math.sqrt(5);

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    var i;
    for (i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
      var gx = toCanvas(i, 0);
      ctx.beginPath();
      ctx.moveTo(gx[0], 0);
      ctx.lineTo(gx[0], H);
      ctx.stroke();
    }
    for (i = Math.ceil(yMin); i <= Math.floor(yMax); i++) {
      var gy = toCanvas(0, i);
      ctx.beginPath();
      ctx.moveTo(0, gy[1]);
      ctx.lineTo(W, gy[1]);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    var axL = toCanvas(xMin, 0);
    var axR = toCanvas(xMax, 0);
    var axB = toCanvas(0, yMin);
    var axT = toCanvas(0, yMax);
    ctx.beginPath();
    ctx.moveTo(axL[0], axL[1]);
    ctx.lineTo(axR[0], axR[1]);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(axB[0], axB[1]);
    ctx.lineTo(axT[0], axT[1]);
    ctx.stroke();

    // Axis tick labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (i = Math.ceil(xMin); i <= Math.floor(xMax); i++) {
      if (i === 0) continue;
      var tx = toCanvas(i, 0);
      ctx.fillText(String(i), tx[0], tx[1] + 16);
    }
    ctx.textAlign = 'right';
    for (i = Math.ceil(yMin); i <= Math.floor(yMax); i++) {
      if (i === 0) continue;
      var ty = toCanvas(0, i);
      ctx.fillText(String(i), ty[0] - 8, ty[1] + 4);
    }

    // Axis letters
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('x', axR[0] - 4, axR[1] - 10);
    ctx.fillText('y', axT[0] + 10, axT[1] + 14);

    // Circle fill
    var cc = toCanvas(C[0], C[1]);
    var rPx = r * scaleVal;
    ctx.fillStyle = 'rgba(96, 165, 250, 0.05)';
    ctx.beginPath();
    ctx.arc(cc[0], cc[1], rPx, 0, 2 * Math.PI);
    ctx.fill();

    // Circle glow
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.25)';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.arc(cc[0], cc[1], rPx, 0, 2 * Math.PI);
    ctx.stroke();

    // Circle
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cc[0], cc[1], rPx, 0, 2 * Math.PI);
    ctx.stroke();

    // Tangent line: x + 2y - 4 = 0 => y = (4 - x)/2
    // Direction (2, -1). Draw from parameter t = -3.5 to 3.5 around T
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    var tS = toCanvas(4 + 2 * (-3.5), 0 - (-3.5));
    var tE = toCanvas(4 + 2 * (3.5), 0 - (3.5));
    ctx.beginPath();
    ctx.moveTo(tS[0], tS[1]);
    ctx.lineTo(tE[0], tE[1]);
    ctx.stroke();

    // Tangent label
    var tLbl = toCanvas(4 + 2 * 2.2, 0 - 2.2);
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'italic bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('t', tLbl[0] + 6, tLbl[1] - 8);

    // Radius CT (dashed)
    var tt = toCanvas(T[0], T[1]);
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cc[0], cc[1]);
    ctx.lineTo(tt[0], tt[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Right angle mark at T
    var sz = 12;
    // Radius direction from T toward C in canvas
    var rdx = cc[0] - tt[0];
    var rdy = cc[1] - tt[1];
    var rLen = Math.sqrt(rdx * rdx + rdy * rdy);
    var rnx = rdx / rLen * sz;
    var rny = rdy / rLen * sz;
    // Tangent direction in canvas (positive parameter direction: math (2,-1))
    var tDir = toCanvas(T[0] + 2, T[1] - 1);
    var tdx = tDir[0] - tt[0];
    var tdy = tDir[1] - tt[1];
    var tLen = Math.sqrt(tdx * tdx + tdy * tdy);
    var tnx = tdx / tLen * sz;
    var tny = tdy / tLen * sz;
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(tt[0] + rnx, tt[1] + rny);
    ctx.lineTo(tt[0] + rnx + tnx, tt[1] + rny + tny);
    ctx.lineTo(tt[0] + tnx, tt[1] + tny);
    ctx.stroke();

    // Dashed line O -> M (reflection line)
    var oo = toCanvas(O[0], O[1]);
    var mm = toCanvas(M[0], M[1]);
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(oo[0], oo[1]);
    ctx.lineTo(mm[0], mm[1]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Foot of perpendicular F
    var ff = toCanvas(F[0], F[1]);
    ctx.beginPath();
    ctx.arc(ff[0], ff[1], 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#94a3b8';
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('F', ff[0] - 8, ff[1] + 4);

    // Draw labeled points
    function drawPt(coords, color, label, offX, offY, align) {
      var p = toCanvas(coords[0], coords[1]);
      // Glow
      var glow = ctx.createRadialGradient(p[0], p[1], 2, p[0], p[1], 18);
      glow.addColorStop(0, color.replace(')', ', 0.5)').replace('rgb', 'rgba').replace('#', ''));
      glow.addColorStop(1, 'transparent');
      // Use hex to rgba manually
      ctx.globalAlpha = 0.4;
      ctx.beginPath();
      ctx.arc(p[0], p[1], 16, 0, 2 * Math.PI);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.globalAlpha = 1.0;
      // Point
      ctx.beginPath();
      ctx.arc(p[0], p[1], 6, 0, 2 * Math.PI);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.strokeStyle = '#e2e8f0';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      // Label
      ctx.fillStyle = color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = align || 'left';
      ctx.fillText(label, p[0] + (offX || 10), p[1] + (offY || -12));
    }

    drawPt(C, '#60a5fa', 'C(3, \u22122)', 10, 20, 'left');
    drawPt(T, '#34d399', 'T(4, 0)', 10, -12, 'left');
    drawPt(O, '#e2e8f0', 'O(0, 0)', -10, -12, 'right');
    drawPt(M, '#f472b6', 'M(8/5, 16/5)', 10, -12, 'left');

    // Legend box
    var boxW = 260;
    var boxH = 86;
    var boxX = W - boxW - 15;
    var boxY = H - boxH - 15;
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 10);
    ctx.fill();
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(boxX, boxY, boxW, boxH, 10);
    ctx.stroke();

    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    var items = [
      { color: '#60a5fa', text: 'Kruznica i centar C' },
      { color: '#a78bfa', text: 'Tangenta t' },
      { color: '#f472b6', text: 'O \u2192 M (refleksija)' },
    ];
    for (var j = 0; j < items.length; j++) {
      var ly = boxY + 18 + j * 22;
      ctx.fillStyle = items[j].color;
      ctx.fillRect(boxX + 12, ly - 2, 16, 3);
      ctx.fillStyle = '#e2e8f0';
      ctx.fillText(items[j].text, boxX + 36, ly + 3);
    }
  }

  draw();

  // Step click highlighting
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) {
        s.classList.remove('active');
      });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Simetricna tacka u odnosu na tangentu kruznice",
  "subject": "math",
  "unit": "analytic_geometry",
  "topic_tags": ["analiticka geometrija", "kruznica", "tangenta", "refleksija tacke", "osna simetrija"]
}
BRAINSPARK_META-->