<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zapremina kupe upisane u loptu</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Cone inscribed in a sphere of radius R. The lateral (mantle) surface
  area is twice the base area. Find the volume of the cone.

  Variables:
    R = radius of sphere
    r = radius of cone base
    h = height of cone
    l = slant height of cone

  Step 1: Lateral surface condition
    Lateral surface = pi * r * l
    Base area = pi * r^2
    Condition: pi * r * l = 2 * pi * r^2
    Dividing by pi * r (r > 0):
    l = 2r

  Step 2: Cone inscribed in sphere geometry
    Place the sphere centered at origin O. The apex of the cone is at the top
    of the sphere at height R from center, i.e., at (0, R).
    The base of the cone is a circle at some height below the apex.

    If h is the height of the cone, the base plane is at distance (R - h) from
    the center of the sphere (going downward from center if h > R, or upward if h < R).
    Actually, let me set coordinates: center of sphere at origin O.
    Apex at the top of sphere: point A = (0, R).
    Base is a horizontal circle at height y = R - h from center.
    The base circle lies on the sphere, so points on the base edge satisfy:
      r^2 + (R - h)^2 = R^2
      r^2 = R^2 - (R - h)^2 = R^2 - R^2 + 2Rh - h^2 = 2Rh - h^2

  Step 3: Slant height relation
    l^2 = r^2 + h^2
    l^2 = (2Rh - h^2) + h^2 = 2Rh

  Step 4: Apply the condition l = 2r
    l^2 = 4r^2
    2Rh = 4(2Rh - h^2)
    2Rh = 8Rh - 4h^2
    4h^2 = 6Rh
    Since h > 0, divide by h:
    4h = 6R
    h = 3R/2

  Step 5: Find r
    r^2 = 2Rh - h^2 = 2R * (3R/2) - (3R/2)^2 = 3R^2 - 9R^2/4 = 12R^2/4 - 9R^2/4 = 3R^2/4
    r = R*sqrt(3)/2

  Step 6: Check l = 2r
    l^2 = 2Rh = 2R * 3R/2 = 3R^2
    l = R*sqrt(3)
    2r = 2 * R*sqrt(3)/2 = R*sqrt(3)
    l = 2r confirmed!

  Step 7: Volume of cone
    V = (1/3) * pi * r^2 * h
    V = (1/3) * pi * (3R^2/4) * (3R/2)
    V = (1/3) * pi * (9R^3/8)
    V = (9R^3 * pi) / 24
    V = (3R^3 * pi) / 8
    V = (3/8) * R^3 * pi

  Answer: (E) 3R^3*pi/8

  Verification against given answer: (E) 3R^3*pi/8 MATCHES!

  Also check: h = 3R/2 > R, so the base plane is below the center of sphere.
  Distance from center to base plane = h - R = 3R/2 - R = R/2.
  r^2 + (R/2)^2 = 3R^2/4 + R^2/4 = R^2. Confirmed: base edge lies on sphere.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-text {
  font-size: 1.15rem;
  line-height: 1.8;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 18px;
  text-align: center;
  min-width: 80px;
  transition: all 0.3s ease;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
  font-weight: 600;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
  padding: 8px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.insight-formula {
  text-align: center;
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 16px;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.final-option {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  font-style: italic;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.slider-container {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 12px;
  justify-content: center;
  flex-wrap: wrap;
}

.slider-container label {
  color: #94a3b8;
  font-size: 0.9rem;
}

.slider-container input[type="range"] {
  width: 200px;
  accent-color: #60a5fa;
}

.slider-value {
  color: #60a5fa;
  font-weight: 600;
  min-width: 50px;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
  .final-options {
    flex-direction: column;
    align-items: center;
  }
  .slider-container input[type="range"] {
    width: 150px;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Zapremina kupe upisane u loptu</h1>
  <p class="subtitle">Stereometrija ‚Äî kupa upisana u sferu, povrsine i zapremine</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-text">
      <p>Ako je u loptu poluprecnika \( R \) upisana kupa cija je povrsina omotaca dva puta veca od povrsine osnove, onda je zapremina te kupe jednaka:</p>
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{1}{2}R^3\pi\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{2\sqrt{3}}{9}R^3\pi\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{\sqrt{3}}{4}R^3\pi\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{1}{3}R^3\pi\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(\dfrac{3}{8}R^3\pi\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Postavicemo koordinatni sistem sa centrom sfere u koordinatnom pocetku. Koristicemo uslov da je omotac kupe dvostruko veci od osnove (sto daje vezu \( l = 2r \)) i cinjenicu da obod osnove kupe lezi na sferi. Iz ova dva uslova odredujemo visinu i poluprecnik osnove kupe, a zatim racunamo zapreminu.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Formule za kupu i sferu (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Povrsina omotaca kupe:</strong></p>
        <div class="step-math">
          \[ P_{\text{omotac}} = \pi r l \]
        </div>
        <p style="margin-top: 8px;">gde je \( r \) poluprecnik osnove, a \( l \) izvodnica (bocna strana).</p>

        <p style="margin-top: 12px;"><strong>Povrsina osnove kupe:</strong></p>
        <div class="step-math">
          \[ P_{\text{osnova}} = \pi r^2 \]
        </div>

        <p style="margin-top: 12px;"><strong>Zapremina kupe:</strong></p>
        <div class="step-math">
          \[ V = \frac{1}{3} \pi r^2 h \]
        </div>

        <p style="margin-top: 12px;"><strong>Veza izvodnice, visine i poluprecnika:</strong></p>
        <div class="step-math">
          \[ l^2 = r^2 + h^2 \]
        </div>

        <p style="margin-top: 12px;"><strong>Jednacina sfere</strong> (centar u koordinatnom pocetku):</p>
        <div class="step-math">
          \[ x^2 + y^2 + z^2 = R^2 \]
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìê</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="520"></canvas>
    </div>
    <p class="canvas-caption">Presek kupe upisane u sferu poluprecnika R. Pomerajte klizac da vidite kako se menja kupa.</p>
    <div class="slider-container">
      <label for="hSlider">Visina kupe \( h \):</label>
      <input type="range" id="hSlider" min="10" max="195" value="150">
      <span class="slider-value" id="hValue">h = 1,50R</span>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Oznake i uslov zadatka</div>
        <p>Neka je \( r \) poluprecnik osnove kupe, \( h \) njena visina, a \( l \) izvodnica (bocna strana). Vrh kupe je u temenu sfere.</p>
        <p style="margin-top: 8px;">Uslov zadatka glasi: povrsina omotaca je dva puta veca od povrsine osnove:</p>
        <div class="step-math">
          \[ \pi r l = 2 \pi r^2 \]
        </div>
        <p>Posto je \( r > 0 \), mozemo podeliti obe strane sa \( \pi r \):</p>
        <div class="step-math">
          \[ l = 2r \]
        </div>
        <div class="highlight-box">
          Izvodnica kupe je dva puta duza od poluprecnika osnove: \( l = 2r \)
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Geometrija kupe u sferi</div>
        <p>Postavimo koordinatni sistem tako da centar sfere bude u tacki \( O \). Vrh kupe (teme) neka je u gornjoj tacki sfere, na visini \( R \) iznad centra.</p>
        <p style="margin-top: 8px;">Osnova kupe je krug na visini \( R - h \) ispod vrha, sto znaci na visini \( R - h \) od centra sfere. Obod osnove lezi na sferi, pa vazi:</p>
        <div class="step-math">
          \[ r^2 + (R - h)^2 = R^2 \]
        </div>
        <p>Raspisujemo:</p>
        <div class="step-math">
          \[ r^2 = R^2 - (R - h)^2 = R^2 - R^2 + 2Rh - h^2 \]
        </div>
        <div class="highlight-box">
          \( r^2 = 2Rh - h^2 \)
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto obod osnove lezi na sferi?</summary>
            <div class="detail-content">
              Kupa je <em>upisana</em> u sferu, sto znaci da joj vrh i ceo obod osnove dodiruju sferu. Svaka tacka na obodu je na rastojanju \( R \) od centra sfere. Ako je centar sfere u \( O(0,0) \) na osi kupe, tacka na obodu ima koordinate \( (r, R-h) \), pa je \( r^2 + (R-h)^2 = R^2 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Veza izvodnice i sfere</div>
        <p>Koristimo Pitagorinu teoremu za kupu:</p>
        <div class="step-math">
          \[ l^2 = r^2 + h^2 \]
        </div>
        <p>Uvrstimo \( r^2 = 2Rh - h^2 \):</p>
        <div class="step-math">
          \[ l^2 = (2Rh - h^2) + h^2 = 2Rh \]
        </div>
        <div class="highlight-box">
          \( l^2 = 2Rh \)
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Primena uslova \( l = 2r \)</div>
        <p>Iz koraka 1 znamo da je \( l = 2r \), pa je:</p>
        <div class="step-math">
          \[ l^2 = 4r^2 \]
        </div>
        <p>Izjednacavamo sa izrazom iz koraka 3:</p>
        <div class="step-math">
          \[ 2Rh = 4r^2 \]
        </div>
        <p>Uvrstimo \( r^2 = 2Rh - h^2 \) iz koraka 2:</p>
        <div class="step-math">
          \[ 2Rh = 4(2Rh - h^2) \]
        </div>
        <p>Raspisujemo desnu stranu:</p>
        <div class="step-math">
          \[ 2Rh = 8Rh - 4h^2 \]
        </div>
        <p>Prebacujemo sve na jednu stranu:</p>
        <div class="step-math">
          \[ 4h^2 = 6Rh \]
        </div>
        <p>Posto je \( h > 0 \), mozemo podeliti sa \( h \):</p>
        <div class="step-math">
          \[ 4h = 6R \quad \Longrightarrow \quad h = \frac{3R}{2} \]
        </div>
        <div class="highlight-box">
          Visina kupe: \( h = \dfrac{3R}{2} \)
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Da li je moguce da je \( h > R \)?</summary>
            <div class="detail-content">
              Da! Visina kupe moze biti veca od poluprecnika sfere. Kupa tada prolazi ispod centra sfere. Uslov je samo da je \( h \leq 2R \) (precnik sfere je \( 2R \)). U nasem slucaju \( h = \frac{3R}{2} = 1{,}5R < 2R \), sto je validno.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Odredjivanje poluprecnika osnove</div>
        <p>Uvrstimo \( h = \frac{3R}{2} \) u izraz za \( r^2 \):</p>
        <div class="step-math">
          \[ r^2 = 2Rh - h^2 = 2R \cdot \frac{3R}{2} - \left(\frac{3R}{2}\right)^2 \]
        </div>
        <p>Racunamo svaki sabirak:</p>
        <div class="step-math">
          \[ r^2 = 3R^2 - \frac{9R^2}{4} = \frac{12R^2}{4} - \frac{9R^2}{4} = \frac{3R^2}{4} \]
        </div>
        <div class="highlight-box">
          \( r^2 = \dfrac{3R^2}{4} \), odnosno \( r = \dfrac{R\sqrt{3}}{2} \)
        </div>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Racunanje zapremine kupe</div>
        <p>Koristimo formulu za zapreminu kupe:</p>
        <div class="step-math">
          \[ V = \frac{1}{3} \pi r^2 h \]
        </div>
        <p>Uvrstimo \( r^2 = \frac{3R^2}{4} \) i \( h = \frac{3R}{2} \):</p>
        <div class="step-math">
          \[ V = \frac{1}{3} \cdot \pi \cdot \frac{3R^2}{4} \cdot \frac{3R}{2} \]
        </div>
        <p>Mnozimo brojioce i imenioce:</p>
        <div class="step-math">
          \[ V = \frac{1}{3} \cdot \frac{9R^3 \pi}{8} = \frac{9R^3 \pi}{24} = \frac{3R^3 \pi}{8} \]
        </div>
        <div class="highlight-box">
          \( V = \dfrac{3}{8} R^3 \pi \)
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Verifikacija uslova \( l = 2r \)</summary>
            <div class="detail-content">
              <p>Proveravamo rezultat:</p>
              <p>\( l^2 = 2Rh = 2R \cdot \frac{3R}{2} = 3R^2 \), dakle \( l = R\sqrt{3} \).</p>
              <p>\( 2r = 2 \cdot \frac{R\sqrt{3}}{2} = R\sqrt{3} \).</p>
              <p>Zaista, \( l = 2r = R\sqrt{3} \). Uslov je ispunjen!</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Uslov o povrsinama (\( l = 2r \)) fiksira oblik kupe (odnos dimenzija), dok uslovi sfere fiksiraju velicinu. Kombinovanjem dobijamo jedinstvenu kupu sa:</p>
    <div class="insight-formula">
      \[ h = \frac{3R}{2}, \quad r = \frac{R\sqrt{3}}{2}, \quad V = \frac{3}{8}R^3\pi \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( V = \dfrac{3}{8} R^3 \pi \)</div>
    <div class="final-options">
      <div class="final-option">(A) \(\frac{1}{2}R^3\pi\)</div>
      <div class="final-option">(B) \(\frac{2\sqrt{3}}{9}R^3\pi\)</div>
      <div class="final-option">(C) \(\frac{\sqrt{3}}{4}R^3\pi\)</div>
      <div class="final-option">(D) \(\frac{1}{3}R^3\pi\)</div>
      <div class="final-option correct">(E) \(\frac{3}{8}R^3\pi\)</div>
    </div>
    <p class="verification-note">Provera: Za \( R = 2 \), dobijamo \( V = \frac{3}{8} \cdot 8\pi = 3\pi \approx 9{,}42 \). Zapremina cele sfere je \( \frac{4}{3}\pi \cdot 8 = \frac{32\pi}{3} \approx 33{,}5 \). Odnos je oko 28%, sto je razumno za kupu upisanu u sferu.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pogresno postavljanje geometrije sfere:</strong> Centar sfere NIJE u centru osnove kupe! Centar sfere je na osi kupe, ali na rastojanju \( R \) od vrha, sto znaci na visini \( h - R \) iznad osnove. Ako se koristi pogresna relacija (npr. \( r^2 + h^2 = R^2 \) umesto \( r^2 + (R-h)^2 = R^2 \)), dobija se pogresan rezultat.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Mesanje izvodnice i visine:</strong> Izvodnica \( l \) je bocna strana kupe (kosa linija), a visina \( h \) je normalna na osnovu. Uslov \( l = 2r \) se odnosi na izvodnicu, ne na visinu. Vazi \( l^2 = r^2 + h^2 \), ne \( l = h \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Sta ako je uslov drugaciji: povrsina omotaca je jednaka povrsini osnove (umesto dvaput veca)? Kolika je tada zapremina kupe upisane u sferu poluprecnika \( R \)?</p>
    <details>
      <summary>Pogledaj nagove≈°taj</summary>
      <div class="detail-content">
        <p>Uslov \( \pi r l = \pi r^2 \) daje \( l = r \). Ali iz Pitagorine teoreme \( l^2 = r^2 + h^2 \), pa bi \( r^2 = r^2 + h^2 \), sto znaci \( h = 0 \). To je degenerisana kupa! Razmisli sta to geometrijski znaci i da li takav uslov uopste ima smisla za pravu kupu.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Interactive diagram: cone inscribed in sphere
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const slider = document.getElementById('hSlider');
  const hValueSpan = document.getElementById('hValue');

  // R in pixel units for drawing
  const R_px = 160;
  // Center of sphere on canvas
  const cx = W / 2;
  const cy = H / 2 + 20;

  function draw(hRatio) {
    // hRatio is h/R in [0.05, 1.95]
    const h_R = hRatio; // h in terms of R
    const r2_R2 = 2 * h_R - h_R * h_R; // r^2/R^2
    if (r2_R2 <= 0) return;
    const r_R = Math.sqrt(r2_R2); // r/R

    const h_px = h_R * R_px;
    const r_px = r_R * R_px;

    // Slant height
    const l_R = Math.sqrt(2 * h_R); // l/R since l^2 = 2Rh => (l/R)^2 = 2*(h/R)

    // Y axis points UP in math, but canvas Y goes down.
    // Sphere center at (cx, cy). Top of sphere at (cx, cy - R_px).
    // Apex at top of sphere: (cx, cy - R_px)
    // Base of cone at y_canvas = cy - R_px + h_px  (going DOWN from apex)
    // which is cy + h_px - R_px

    const apexY = cy - R_px;
    const baseY = cy - R_px + h_px; // = cy + (h_R - 1)*R_px

    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Draw sphere (circle)
    ctx.beginPath();
    ctx.arc(cx, cy, R_px, 0, 2 * Math.PI);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Fill sphere lightly
    ctx.beginPath();
    ctx.arc(cx, cy, R_px, 0, 2 * Math.PI);
    ctx.fillStyle = 'rgba(96, 165, 250, 0.05)';
    ctx.fill();

    // Draw center of sphere
    ctx.beginPath();
    ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#60a5fa';
    ctx.fill();

    // Label O (center)
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('O', cx + 8, cy - 6);

    // Draw radius to right side of sphere
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + R_px, cy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label R on that radius
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('R', cx + R_px / 2, cy - 8);

    // Draw cone
    // Apex
    ctx.beginPath();
    ctx.arc(cx, apexY, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Cone sides (two lines from apex to base edges)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(cx, apexY);
    ctx.lineTo(cx - r_px, baseY);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(cx, apexY);
    ctx.lineTo(cx + r_px, baseY);
    ctx.stroke();

    // Base of cone (ellipse)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.ellipse(cx, baseY, r_px, r_px * 0.25, 0, 0, 2 * Math.PI);
    ctx.stroke();

    // Fill cone lightly
    ctx.fillStyle = 'rgba(167, 139, 250, 0.08)';
    ctx.beginPath();
    ctx.moveTo(cx, apexY);
    ctx.lineTo(cx - r_px, baseY);
    ctx.lineTo(cx + r_px, baseY);
    ctx.closePath();
    ctx.fill();

    // Height line (dashed)
    ctx.setLineDash([5, 4]);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx, apexY);
    ctx.lineTo(cx, baseY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label h
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('h', cx + 6, (apexY + baseY) / 2);

    // Radius line on base
    ctx.setLineDash([5, 4]);
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx, baseY);
    ctx.lineTo(cx + r_px, baseY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label r
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('r', cx + r_px / 2, baseY + 18);

    // Label l (slant height) on the right side
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const midSlantX = (cx + cx + r_px) / 2;
    const midSlantY = (apexY + baseY) / 2;
    ctx.fillText('l', midSlantX + 8, midSlantY - 4);

    // Apex label
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('vrh', cx, apexY - 12);

    // Draw R from center to base edge (shows sphere constraint)
    ctx.setLineDash([4, 3]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx + r_px, baseY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Small label "R" on that line
    const mrx = (cx + cx + r_px) / 2;
    const mry = (cy + baseY) / 2;
    ctx.fillStyle = 'rgba(96, 165, 250, 0.7)';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('R', mrx + 6, mry + 4);

    // Display current values
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const infoX = 16;
    let infoY = 28;
    ctx.fillText('h/R = ' + h_R.toFixed(2).replace('.', ','), infoX, infoY);
    infoY += 20;
    ctx.fillText('r/R = ' + r_R.toFixed(3).replace('.', ','), infoX, infoY);
    infoY += 20;
    ctx.fillText('l/R = ' + l_R.toFixed(3).replace('.', ','), infoX, infoY);
    infoY += 20;

    // Check condition l = 2r
    const ratio = l_R / r_R;
    const isConditionMet = Math.abs(ratio - 2) < 0.05;
    if (isConditionMet) {
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('l/r = ' + ratio.toFixed(2).replace('.', ',') + '  (= 2, uslov ispunjen!)', infoX, infoY);
    } else {
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('l/r = ' + ratio.toFixed(2).replace('.', ',') + '  (treba biti 2)', infoX, infoY);
    }
    infoY += 20;

    // Volume
    const vol = (1/3) * r2_R2 * h_R; // V / (pi * R^3)
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('V/(R\u00B3\u03C0) = ' + vol.toFixed(4).replace('.', ','), infoX, infoY);

    if (isConditionMet) {
      infoY += 24;
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('V = 3R\u00B3\u03C0/8 = 0,375R\u00B3\u03C0', infoX, infoY);
    }

    // Mark the solution point on the base edge with a dot
    ctx.beginPath();
    ctx.arc(cx + r_px, baseY, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#60a5fa';
    ctx.fill();
  }

  function updateFromSlider() {
    const val = parseInt(slider.value);
    const hRatio = val / 100;
    hValueSpan.textContent = 'h = ' + hRatio.toFixed(2).replace('.', ',') + 'R';
    draw(hRatio);
  }

  slider.addEventListener('input', updateFromSlider);

  // Touch support
  slider.addEventListener('touchstart', function(e) { e.stopPropagation(); });
  slider.addEventListener('touchmove', function(e) { e.stopPropagation(); });

  // Initial draw at h = 3R/2
  updateFromSlider();

  // Step click highlighting
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zapremina kupe upisane u loptu",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "kupa", "sfera", "zapremina", "povrsina omotaca", "upisana tela"]
}
BRAINSPARK_META-->