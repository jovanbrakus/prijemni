<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Izbor šestočlanog tima iz bolnice</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
A hospital has 6 general practitioners (GPs), 4 nurses, and 2 surgeons (total 12).
Choose a 6-member team with at least 2 GPs and at least 1 nurse.
Find the number of ways.

STEP-BY-STEP LOGIC:

1. Total ways to choose 6 from 12 (without restrictions):
   C(12,6) = 924

2. Use complementary counting (inclusion-exclusion):
   Let A = event that fewer than 2 GPs are chosen (0 or 1 GP)
   Let B = event that 0 nurses are chosen

   We want: |total| - |A ∪ B| = 924 - |A ∪ B|

3. Compute |A| (0 or 1 GP chosen):
   Non-GPs: 4 nurses + 2 surgeons = 6 people

   Case 0 GPs: Choose 6 from 6 non-GPs = C(6,6) = 1
   Case 1 GP:  Choose 1 from 6 GPs × choose 5 from 6 non-GPs = 6 × C(6,5) = 6 × 6 = 36
   |A| = 1 + 36 = 37

4. Compute |B| (0 nurses chosen):
   Non-nurses: 6 GPs + 2 surgeons = 8 people
   Choose 6 from 8 = C(8,6) = 28
   |B| = 28

5. Compute |A ∩ B| (fewer than 2 GPs AND 0 nurses):
   If no nurses, we choose only from GPs (6) and surgeons (2) = 8 people
   But also need fewer than 2 GPs:

   Case 0 GPs, 0 nurses: Choose 6 from 2 surgeons = C(2,6) = 0 (impossible)
   Case 1 GP, 0 nurses: Choose 1 GP × choose 5 from 2 surgeons = 6 × C(2,5) = 6 × 0 = 0 (impossible)
   |A ∩ B| = 0

6. By inclusion-exclusion:
   |A ∪ B| = |A| + |B| - |A ∩ B| = 37 + 28 - 0 = 65

7. Answer = 924 - 65 = 859

ANSWER: (E) 859

VERIFICATION by direct count:
Enumerate all valid (g, n, s) where g + n + s = 6, g >= 2, n >= 1, s <= 2, g <= 6, n <= 4:

  (2,2,2): C(6,2)C(4,2)C(2,2) = 15·6·1 = 90
  (2,3,1): C(6,2)C(4,3)C(2,1) = 15·4·2 = 120
  (2,4,0): C(6,2)C(4,4)C(2,0) = 15·1·1 = 15
  (3,1,2): C(6,3)C(4,1)C(2,2) = 20·4·1 = 80
  (3,2,1): C(6,3)C(4,2)C(2,1) = 20·6·2 = 240
  (3,3,0): C(6,3)C(4,3)C(2,0) = 20·4·1 = 80
  (4,1,1): C(6,4)C(4,1)C(2,1) = 15·4·2 = 120
  (4,2,0): C(6,4)C(4,2)C(2,0) = 15·6·1 = 90
  (5,1,0): C(6,5)C(4,1)C(2,0) = 6·4·1 = 24

  Total = 90 + 120 + 15 + 80 + 240 + 80 + 120 + 90 + 24 = 859 ✓
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

/* Step styling */
.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

/* Check yourself */
.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

/* Key Insight */
.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

/* Final Answer */
.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

/* Pitfalls */
.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

/* Challenge */
.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

/* Canvas */
canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

/* Table for enumeration */
.combo-table {
  width: 100%;
  border-collapse: collapse;
  margin: 14px 0;
  font-size: 0.95rem;
}

.combo-table th {
  background: rgba(96,165,250,0.15);
  color: #60a5fa;
  padding: 10px 12px;
  text-align: center;
  border: 1px solid #334155;
  font-weight: 700;
}

.combo-table td {
  padding: 8px 12px;
  text-align: center;
  border: 1px solid #334155;
  color: #cbd5e1;
}

.combo-table tr:hover td {
  background: rgba(74,222,128,0.04);
}

.combo-table .total-row td {
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  font-weight: 700;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
  .combo-table { font-size: 0.82rem; }
  .combo-table th, .combo-table td { padding: 6px 4px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Izbor šestočlanog tima iz bolnice</h1>
  <p class="subtitle">Kombinatorika &mdash; kombinacije, princip uključivanja-isključivanja, komplementarno brojanje</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      U bolnici radi <span class="highlight-blue">6 lekara opšte prakse</span>,
      <span class="highlight-pink">4 medicinske sestre</span> i
      <span class="highlight-green">2 hirurga</span>.
      Neophodno je odabrati šestočlani tim za izlazak na teren tako da u timu budu
      <strong>barem dva lekara opšte prakse</strong> i <strong>barem jedna medicinska sestra</strong>.
      Broj načina na koji je moguće odabrati takav tim jednak je:
    </p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Lekari opšte prakse</div>
        <div class="value">\(6\)</div>
      </div>
      <div class="given-item">
        <div class="label">Medicinske sestre</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item">
        <div class="label">Hirurzi</div>
        <div class="value">\(2\)</div>
      </div>
      <div class="given-item">
        <div class="label">Veličina tima</div>
        <div class="value">\(6\)</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov</div>
        <div class="value">\(\geq 2\) lekara, \(\geq 1\) sestra</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(849\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(879\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(869\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(5040\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(859\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Koristićemo <strong>komplementarno brojanje</strong> sa principom uključivanja-isključivanja.
      Najpre ćemo izračunati ukupan broj načina da se odabere 6 od 12 osoba bez ograničenja,
      a zatim oduzeti "loše" slučajeve: timove sa manje od 2 lekara ili timove bez
      medicinskih sestara. Na kraju ćemo rezultat verifikovati direktnim prebrojavanjem svih
      validnih kombinacija.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i pojmovi</summary>
      <ul>
        <li>
          <strong>Binomni koeficijent (kombinacija):</strong>
          \( \displaystyle\binom{n}{k} = \frac{n!}{k!\,(n-k)!} \) &mdash; broj načina da se izabere
          \(k\) elemenata od \(n\) bez ponavljanja i bez obzira na redosled.
        </li>
        <li>
          <strong>Princip uključivanja-isključivanja:</strong>
          \( |A \cup B| = |A| + |B| - |A \cap B| \).
          Koristi se za brojanje elemenata u uniji dva skupa bez dvostrukog prebrojavanja.
        </li>
        <li>
          <strong>Komplementarno brojanje:</strong>
          Broj povoljnih = Ukupno \(-\) Broj nepovoljnih.
          Korisno kada je lakše prebrojati ono što ne želimo.
        </li>
        <li>
          <strong>Princip množenja:</strong>
          Ako nezavisno biramo iz više grupa, ukupan broj načina je proizvod broja izbora iz svake grupe.
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Dijagram prikazuje sve moguće kompozicije tima. Kliknite na dugmad da vidite različite perspektive.
    </p>
    <canvas id="mainCanvas" width="800" height="500"></canvas>
    <div style="display:flex; gap:12px; justify-content:center; margin-top:14px; flex-wrap:wrap;">
      <button id="btnAll" style="padding:8px 18px; border-radius:8px; border:1px solid #60a5fa; background:rgba(96,165,250,0.13); color:#60a5fa; font-weight:600; cursor:pointer; font-size:0.9rem;">Svi timovi (924)</button>
      <button id="btnInvalid" style="padding:8px 18px; border-radius:8px; border:1px solid #334155; background:#1e293b; color:#e09468; font-weight:600; cursor:pointer; font-size:0.9rem;">Nevažeći timovi (65)</button>
      <button id="btnValid" style="padding:8px 18px; border-radius:8px; border:1px solid #334155; background:#1e293b; color:#4ade80; font-weight:600; cursor:pointer; font-size:0.9rem;">Važeći timovi (859)</button>
    </div>
    <p class="canvas-hint">Kliknite na dugmad da istražite svaku kategoriju</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Ukupan broj načina (bez ograničenja)</h3>
        <p>
          U bolnici radi ukupno \(6 + 4 + 2 = 12\) osoba. Biramo tim od 6:
        </p>
        <div class="math-block">
          \[ \binom{12}{6} = \frac{12!}{6!\cdot 6!} = \frac{12 \cdot 11 \cdot 10 \cdot 9 \cdot 8 \cdot 7}{6 \cdot 5 \cdot 4 \cdot 3 \cdot 2 \cdot 1} = \frac{665280}{720} = 924 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Definišemo "loše" događaje</h3>
        <p>
          Neka je:
        </p>
        <div class="math-block">
          \[ A = \{\text{timovi sa manje od 2 lekara opšte prakse}\} \]
          \[ B = \{\text{timovi bez ijedne medicinske sestre}\} \]
        </div>
        <p>
          Tražimo broj timova koji nisu ni u \(A\) ni u \(B\):
        </p>
        <div class="math-block">
          \[ |\overline{A} \cap \overline{B}| = 924 - |A \cup B| \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Računamo \(|A|\) &mdash; manje od 2 lekara</h3>
        <p>
          Osobe koje <em>nisu</em> lekari opšte prakse: 4 sestre + 2 hirurga = <span class="highlight-blue">6 ne-lekara</span>.
        </p>
        <p><strong>Slučaj 0 lekara:</strong> biramo svih 6 iz ne-lekara:</p>
        <div class="math-block">
          \[ \binom{6}{6} = 1 \]
        </div>
        <p><strong>Slučaj 1 lekar:</strong> biramo 1 od 6 lekara i 5 od 6 ne-lekara:</p>
        <div class="math-block">
          \[ \binom{6}{1} \cdot \binom{6}{5} = 6 \cdot 6 = 36 \]
        </div>
        <p>Ukupno:</p>
        <div class="math-block">
          \[ |A| = 1 + 36 = 37 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliko ima timova sa tačno 0 medicinskih sestara?</summary>
      <div class="answer">
        Ako nema sestara, biramo 6 od 8 ne-sestara (6 lekara + 2 hirurga):
        \(\binom{8}{6} = \binom{8}{2} = \frac{8 \cdot 7}{2} = 28\).
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Računamo \(|B|\) &mdash; nula medicinskih sestara</h3>
        <p>
          Osobe koje <em>nisu</em> sestre: 6 lekara + 2 hirurga = <span class="highlight-pink">8 ne-sestara</span>.
        </p>
        <div class="math-block">
          \[ |B| = \binom{8}{6} = \frac{8!}{6!\cdot 2!} = \frac{8 \cdot 7}{2} = 28 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Računamo \(|A \cap B|\) &mdash; presek</h3>
        <p>
          Tražimo timove koji istovremeno imaju <em>manje od 2 lekara</em> i <em>nula sestara</em>.
          Bez sestara, na raspolaganju su samo lekari (6) i hirurzi (2), ukupno 8 osoba.
        </p>
        <p><strong>0 lekara, 0 sestara:</strong> biramo 6 od 2 hirurga &mdash; <span class="highlight-pink">nemoguće</span> jer \(\binom{2}{6} = 0\).</p>
        <p><strong>1 lekar, 0 sestara:</strong> biramo 1 lekara i 5 od 2 hirurga &mdash; <span class="highlight-pink">nemoguće</span> jer \(\binom{2}{5} = 0\).</p>
        <div class="math-block">
          \[ |A \cap B| = 0 + 0 = 0 \]
        </div>
        <p class="note">
          Ovo ima smisla: ako nemamo sestre, a moramo izabrati 6 osoba od samo 2 hirurga i 0&ndash;1 lekara,
          nemamo dovoljno ljudi.
        </p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Princip uključivanja-isključivanja</h3>
        <p>
          Primenjujemo formulu:
        </p>
        <div class="math-block">
          \[ |A \cup B| = |A| + |B| - |A \cap B| = 37 + 28 - 0 = 65 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Koliki je konačan broj validnih timova?</summary>
      <div class="answer">
        \( 924 - 65 = 859 \). Odgovor je \(\mathbf{859}\).
      </div>
    </details>

    <!-- Step 7 -->
    <div class="step" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Konačan rezultat</h3>
        <p>
          Broj validnih timova:
        </p>
        <div class="math-block">
          \[ \text{Broj načina} = 924 - 65 = \boxed{859} \]
        </div>
      </div>
    </div>

    <!-- Step 8 (Verification) -->
    <div class="step" tabindex="0">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Verifikacija direktnim prebrojavanjem</h3>
        <p>
          Označimo sa \((g,\, n,\, s)\) broj lekara, sestara i hirurga u timu.
          Uslovi: \(g + n + s = 6\), \(g \geq 2\), \(n \geq 1\), \(0 \leq s \leq 2\),
          \(g \leq 6\), \(n \leq 4\).
        </p>
        <table class="combo-table">
          <thead>
            <tr>
              <th>\(g\)</th><th>\(n\)</th><th>\(s\)</th>
              <th>\(\binom{6}{g}\)</th><th>\(\binom{4}{n}\)</th><th>\(\binom{2}{s}\)</th>
              <th>Proizvod</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>2</td><td>2</td><td>2</td><td>15</td><td>6</td><td>1</td><td>90</td></tr>
            <tr><td>2</td><td>3</td><td>1</td><td>15</td><td>4</td><td>2</td><td>120</td></tr>
            <tr><td>2</td><td>4</td><td>0</td><td>15</td><td>1</td><td>1</td><td>15</td></tr>
            <tr><td>3</td><td>1</td><td>2</td><td>20</td><td>4</td><td>1</td><td>80</td></tr>
            <tr><td>3</td><td>2</td><td>1</td><td>20</td><td>6</td><td>2</td><td>240</td></tr>
            <tr><td>3</td><td>3</td><td>0</td><td>20</td><td>4</td><td>1</td><td>80</td></tr>
            <tr><td>4</td><td>1</td><td>1</td><td>15</td><td>4</td><td>2</td><td>120</td></tr>
            <tr><td>4</td><td>2</td><td>0</td><td>15</td><td>6</td><td>1</td><td>90</td></tr>
            <tr><td>5</td><td>1</td><td>0</td><td>6</td><td>4</td><td>1</td><td>24</td></tr>
            <tr class="total-row"><td colspan="6"><strong>Ukupno</strong></td><td><strong>859</strong></td></tr>
          </tbody>
        </table>
        <p class="note">
          Suma svih validnih kompozicija: \(90 + 120 + 15 + 80 + 240 + 80 + 120 + 90 + 24 = 859\). Potvrda!
        </p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Ključno zapažanje</h2>
    <p>
      Komplementarno brojanje drastično pojednostavljuje problem: umesto da razmatramo
      <strong>9 validnih kompozicija</strong>, dovoljno je izračunati samo
      <span class="highlight-blue">2 "loša" slučaja</span> (\(|A|\) i \(|B|\)) i proveriti
      da je presek \(|A \cap B| = 0\), jer sa 0&ndash;1 lekarom i 0 sestara
      nema dovoljno ljudi za tim od 6.
    </p>
    <div class="big-formula">
      \[ 859 = \underbrace{924}_{\binom{12}{6}} - \underbrace{37}_{|A|} - \underbrace{28}_{|B|} + \underbrace{0}_{|A \cap B|} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \( 859 \)
    </div>
    <div class="options-row">
      <div class="option-card">(A) 849</div>
      <div class="option-card">(B) 879</div>
      <div class="option-card">(C) 869</div>
      <div class="option-card">(D) 5040</div>
      <div class="option-card correct">(E) 859</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong> Rezultat komplementarnog brojanja (\(924 - 65 = 859\))
      se poklapa sa direktnim prebrojavanjem svih 9 validnih kompozicija
      (\(90 + 120 + 15 + 80 + 240 + 80 + 120 + 90 + 24 = 859\)).
      Odgovor D) \(5040 = 7 \cdot 720\) odgovara permutacijama, ne kombinacijama &mdash;
      to je česta zamka u zadacima ovog tipa.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greška 1:</span>
        Koristiti permutacije umesto kombinacija. Redosled odabira članova tima <em>nije bitan</em>,
        pa koristimo \(\binom{n}{k}\), ne \(P(n, k)\). Odgovor 5040 je zamka koja navodi na permutacije.
      </li>
      <li>
        <span class="pitfall-label">Greška 2:</span>
        Zaboraviti da se princip uključivanja-isključivanja primenjuje na <em>uniju</em> loših događaja.
        Oduzimanje samo \(|A|\) ili samo \(|B|\) daje pogrešan rezultat (887 ili 896).
      </li>
      <li>
        <span class="pitfall-label">Greška 3:</span>
        Pogrešno prebrojati \(|A|\). Česta greška je zaboraviti slučaj sa 0 lekara
        (taj tim postoji: sve 4 sestre + oba hirurga), čime se dobija \(|A| = 36\) umesto ispravnih 37.
      </li>
      <li>
        <span class="pitfall-label">Greška 4:</span>
        U direktnom pristupu, izostaviti neku validnu kompoziciju iz tabele.
        Na primer, zaboraviti \((5,\,1,\,0)\) čime se dobija \(859 - 24 = 835\).
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Koliko šestočlanih timova se može formirati ako dodamo uslov da u timu mora biti
      <strong>tačno jedan hirurg</strong> (pored barem 2 lekara i barem 1 sestre)?
    </p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Fiksiramo \(s = 1\), pa biramo \(\binom{2}{1} = 2\) načina za hirurga.
        Preostalih 5 članova biramo od 6 lekara i 4 sestre, uz uslov \(g \geq 2\), \(n \geq 1\), \(g + n = 5\).
        Validne kompozicije: \((2,3)\), \((3,2)\), \((4,1)\).
        Ukupno: \(2 \cdot \big[\binom{6}{2}\binom{4}{3} + \binom{6}{3}\binom{4}{2} + \binom{6}{4}\binom{4}{1}\big]
        = 2 \cdot [60 + 120 + 60] = 480\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  var canvas = document.getElementById('mainCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');

  var dpr = window.devicePixelRatio || 1;
  var W = 800;
  var H = 500;
  canvas.width = W * dpr;
  canvas.height = H * dpr;
  ctx.scale(dpr, dpr);

  var viewMode = 'all';

  function drawRoundedRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  function drawPersonIcon(x, y, color, alpha) {
    ctx.globalAlpha = alpha;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(x, y - 12, 8, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = color;
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(x, y - 4);
    ctx.lineTo(x, y + 10);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(x - 8, y + 2);
    ctx.lineTo(x + 8, y + 2);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(x, y + 10);
    ctx.lineTo(x - 6, y + 22);
    ctx.moveTo(x, y + 10);
    ctx.lineTo(x + 6, y + 22);
    ctx.stroke();
    ctx.globalAlpha = 1;
  }

  function draw() {
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';

    var titleMap = {
      'all': 'Ukupan broj timova: C(12, 6) = 924',
      'invalid': 'Nevažeći timovi: |A \u222A B| = 37 + 28 - 0 = 65',
      'valid': 'Važeći timovi: 924 - 65 = 859'
    };
    ctx.fillText(titleMap[viewMode], W / 2, 20);

    // Draw 12 people in 3 groups
    var groups = [
      { name: 'Lekari opšte prakse', count: 6, color: '#60a5fa', startX: 80 },
      { name: 'Medicinske sestre', count: 4, color: '#f472b6', startX: 340 },
      { name: 'Hirurzi', count: 2, color: '#4ade80', startX: 580 }
    ];

    var personSpacing = 40;
    var startY = 100;

    for (var gi = 0; gi < groups.length; gi++) {
      var group = groups[gi];
      var groupCenterX = group.startX + (group.count - 1) * personSpacing / 2;

      ctx.fillStyle = group.color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(group.name, groupCenterX, startY - 40);
      ctx.fillText('(' + group.count + ')', groupCenterX, startY - 22);

      for (var i = 0; i < group.count; i++) {
        drawPersonIcon(group.startX + i * personSpacing, startY + 18, group.color, 1);
      }
    }

    var diagramY = 220;

    if (viewMode === 'all') {
      var rectW = 500;
      var rectH = 200;
      var rectX = (W - rectW) / 2;

      ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
      drawRoundedRect(rectX, diagramY, rectW, rectH, 12);
      ctx.fill();
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      drawRoundedRect(rectX, diagramY, rectW, rectH, 12);
      ctx.stroke();

      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 48px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('924', W / 2, diagramY + rectH / 2 - 15);

      ctx.fillStyle = '#94a3b8';
      ctx.font = '16px Segoe UI, system-ui, sans-serif';
      ctx.fillText('C(12, 6) = svi mogući šestočlani timovi', W / 2, diagramY + rectH / 2 + 30);

      ctx.fillStyle = '#60a5fa';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('12! / (6! \u00B7 6!) = 665280 / 720 = 924', W / 2, diagramY + rectH + 30);

    } else if (viewMode === 'invalid') {
      var centerY = diagramY + 110;
      var axCenter = W / 2 - 120;
      var aRadius = 70;

      ctx.fillStyle = 'rgba(96, 165, 250, 0.12)';
      ctx.beginPath();
      ctx.arc(axCenter, centerY, aRadius, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(axCenter, centerY, aRadius, 0, 2 * Math.PI);
      ctx.stroke();

      ctx.fillStyle = '#60a5fa';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('A: < 2 lekara', axCenter, centerY - 25);
      ctx.font = 'bold 28px Segoe UI, system-ui, sans-serif';
      ctx.fillText('37', axCenter, centerY + 10);
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('0 LP: 1', axCenter, centerY + 38);
      ctx.fillText('1 LP: 36', axCenter, centerY + 54);

      var bxCenter = W / 2 + 120;
      var bRadius = 55;

      ctx.fillStyle = 'rgba(244, 114, 182, 0.12)';
      ctx.beginPath();
      ctx.arc(bxCenter, centerY, bRadius, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#f472b6';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(bxCenter, centerY, bRadius, 0, 2 * Math.PI);
      ctx.stroke();

      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('B: 0 sestara', bxCenter, centerY - 20);
      ctx.font = 'bold 28px Segoe UI, system-ui, sans-serif';
      ctx.fillText('28', bxCenter, centerY + 10);
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('C(8, 6) = 28', bxCenter, centerY + 38);

      ctx.fillStyle = '#e09468';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('A \u2229 B = 0', W / 2, centerY + 90);
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('(nemoguće: premalo ne-lekara bez sestara)', W / 2, centerY + 108);

      ctx.fillStyle = '#e09468';
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.fillText('|A \u222A B| = 37 + 28 - 0 = 65 nevažećih timova', W / 2, diagramY + 240);

    } else {
      var barY = diagramY + 30;
      var barH = 45;
      var totalW = 500;
      var barX = (W - totalW) / 2;

      ctx.fillStyle = 'rgba(96, 165, 250, 0.15)';
      drawRoundedRect(barX, barY, totalW, barH, 8);
      ctx.fill();
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      drawRoundedRect(barX, barY, totalW, barH, 8);
      ctx.stroke();

      var validW = (859 / 924) * totalW;
      ctx.fillStyle = 'rgba(74, 222, 128, 0.2)';
      drawRoundedRect(barX, barY, validW, barH, 8);
      ctx.fill();
      ctx.strokeStyle = '#4ade80';
      ctx.lineWidth = 2;
      drawRoundedRect(barX, barY, validW, barH, 8);
      ctx.stroke();

      ctx.fillStyle = 'rgba(224, 148, 104, 0.2)';
      drawRoundedRect(barX + validW, barY, totalW - validW, barH, 8);
      ctx.fill();
      ctx.strokeStyle = '#e09468';
      ctx.lineWidth = 2;
      drawRoundedRect(barX + validW, barY, totalW - validW, barH, 8);
      ctx.stroke();

      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.fillText('859', barX + validW / 2, barY + barH / 2);

      ctx.fillStyle = '#e09468';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText('65', barX + validW + (totalW - validW) / 2, barY + barH / 2);

      ctx.fillStyle = '#4ade80';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Važeći (93%)', barX + validW / 2, barY + barH + 22);

      ctx.fillStyle = '#e09468';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Nevažeći (7%)', barX + validW + (totalW - validW) / 2, barY + barH + 22);

      var formulaY = barY + barH + 70;
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('924  \u2212  65  =  859', W / 2, formulaY);

      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#60a5fa';
      ctx.fillText('C(12,6)', W / 2 - 100, formulaY + 24);
      ctx.fillStyle = '#e09468';
      ctx.fillText('|A \u222A B|', W / 2 - 10, formulaY + 24);
      ctx.fillStyle = '#4ade80';
      ctx.fillText('odgovor', W / 2 + 82, formulaY + 24);

      var detY = formulaY + 60;
      ctx.fillStyle = '#94a3b8';
      ctx.font = '14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Nevažeći: 37 (< 2 lekara) + 28 (0 sestara) \u2212 0 (presek) = 65', W / 2, detY);

      // Mini bar chart of valid compositions
      var combos = [90, 120, 15, 80, 240, 80, 120, 90, 24];
      var labels = ['(2,2,2)', '(2,3,1)', '(2,4,0)', '(3,1,2)', '(3,2,1)', '(3,3,0)', '(4,1,1)', '(4,2,0)', '(5,1,0)'];
      var maxV = 240;
      var miniBarX = barX + 20;
      var miniBarW = (totalW - 40) / combos.length - 4;
      var miniBarTopY = detY + 30;
      var miniBarMaxH = 100;

      for (var ci = 0; ci < combos.length; ci++) {
        var cbx = miniBarX + ci * (miniBarW + 4);
        var cbh = (combos[ci] / maxV) * miniBarMaxH;
        var cby = miniBarTopY + miniBarMaxH - cbh;

        var grad = ctx.createLinearGradient(cbx, cby, cbx, cby + cbh);
        grad.addColorStop(0, '#60a5fa');
        grad.addColorStop(1, '#3b82f6');
        ctx.fillStyle = grad;
        drawRoundedRect(cbx, cby, miniBarW, cbh, 3);
        ctx.fill();

        ctx.fillStyle = '#e2e8f0';
        ctx.font = 'bold 10px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.textBaseline = 'bottom';
        ctx.fillText(combos[ci].toString(), cbx + miniBarW / 2, cby - 2);

        ctx.fillStyle = '#64748b';
        ctx.font = '9px Segoe UI, system-ui, sans-serif';
        ctx.textBaseline = 'top';
        ctx.fillText(labels[ci], cbx + miniBarW / 2, miniBarTopY + miniBarMaxH + 4);
      }
    }
  }

  var btnAll = document.getElementById('btnAll');
  var btnInvalid = document.getElementById('btnInvalid');
  var btnValid = document.getElementById('btnValid');

  function updateButtons() {
    var btns = [btnAll, btnInvalid, btnValid];
    var modes = ['all', 'invalid', 'valid'];
    var colors = ['#60a5fa', '#e09468', '#4ade80'];
    for (var bi = 0; bi < btns.length; bi++) {
      if (viewMode === modes[bi]) {
        btns[bi].style.background = colors[bi] + '22';
        btns[bi].style.borderColor = colors[bi];
      } else {
        btns[bi].style.background = '#1e293b';
        btns[bi].style.borderColor = '#334155';
      }
    }
  }

  btnAll.addEventListener('click', function() { viewMode = 'all'; updateButtons(); draw(); });
  btnInvalid.addEventListener('click', function() { viewMode = 'invalid'; updateButtons(); draw(); });
  btnValid.addEventListener('click', function() { viewMode = 'valid'; updateButtons(); draw(); });

  updateButtons();
  draw();

  // Step click interactivity
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Izbor šestočlanog tima iz bolnice",
  "subject": "math",
  "unit": "combinatorics",
  "topic_tags": ["kombinacije", "princip uključivanja-isključivanja", "komplementarno brojanje", "binomni koeficijent", "kombinatorika"]
}
BRAINSPARK_META-->