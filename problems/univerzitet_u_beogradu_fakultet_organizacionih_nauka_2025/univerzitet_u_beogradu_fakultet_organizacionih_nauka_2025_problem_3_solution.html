<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompozicija funkcija, inverzna funkcija i izraz</title>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Given:
  f((x-1)/(x-2)) = x  for x != 2
  g(f(x) - 2) = x - 3  for x != 1
  h(x) = 1/(2x)  for x != 0
  g^{-1} is the inverse of g

Find: f(0) + g^{-1}(-3) + h(h(h(1/4)))

STEP 1: Finding f(t) explicitly:
Let t = (x-1)/(x-2). Then f(t) = x.
Solve for x in terms of t:
  t(x-2) = x-1
  tx - 2t = x - 1
  tx - x = 2t - 1
  x(t - 1) = 2t - 1
  x = (2t - 1)/(t - 1)  for t != 1
So f(t) = (2t - 1)/(t - 1)

STEP 2: f(0):
f(0) = (2*0 - 1)/(0 - 1) = (-1)/(-1) = 1

STEP 3: Finding g(s) explicitly:
g(f(x) - 2) = x - 3
f(x) - 2 = (2x-1)/(x-1) - 2 = (2x-1-2x+2)/(x-1) = 1/(x-1)
Let s = 1/(x-1), then x = 1/s + 1 = (1+s)/s
g(s) = x - 3 = (1+s)/s - 3 = (1-2s)/s = 1/s - 2

STEP 4: Finding g^{-1}(-3):
g(s) = -3  =>  1/s - 2 = -3  =>  1/s = -1  =>  s = -1
So g^{-1}(-3) = -1

STEP 5: h(h(h(1/4))):
h(1/4) = 1/(2*1/4) = 1/(1/2) = 2
h(2) = 1/(2*2) = 1/4
h(1/4) = 2
So h(h(h(1/4))) = 2

STEP 6: Final answer:
f(0) + g^{-1}(-3) + h(h(h(1/4))) = 1 + (-1) + 2 = 2

ANSWER: (E) 2

VERIFICATION: Matches expected answer.
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  max-width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

.section-label {
  color: #60a5fa;
  margin: 16px 0 8px;
  font-size: 1.15rem;
  font-weight: 700;
}

.section-label.purple { color: #a78bfa; }
.section-label.pink { color: #f472b6; }
.section-label.green { color: #4ade80; }

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Kompozicija funkcija i inverzna funkcija</h1>
  <p class="subtitle">Funkcije &mdash; eksplicitna formula iz kompozicije, inverzna funkcija, iteracija</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Ako je \( f\!\left(\dfrac{x-1}{x-2}\right) = x \) za \( x \neq 2 \),
      \( g(f(x)-2) = x-3 \) za \( x \neq 1 \),
      \( h(x) = \dfrac{1}{2x} \) za \( x \neq 0 \) i \( g^{-1} \) inverzna funkcija funkcije \( g \),
      onda je vrednost izraza:
    </p>
    <div class="math-block">
      \[ f(0) + g^{-1}(-3) + h\!\left(h\!\left(h\!\left(\tfrac{1}{4}\right)\right)\right) \]
    </div>
    <p>jednaka:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\dfrac{3}{4}\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(4\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\dfrac{1}{4}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(0\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Zadatak se sastoji od tri nezavisna dela. Potrebno je:
    </p>
    <ol style="color: #cbd5e1; padding-left: 20px; margin-top: 10px;">
      <li>Iz uslova \( f\!\left(\frac{x-1}{x-2}\right) = x \) odrediti eksplicitnu formulu za \( f(t) \), pa izračunati \( f(0) \).</li>
      <li>Iz uslova \( g(f(x)-2) = x-3 \) odrediti eksplicitnu formulu za \( g(s) \), pa naći \( g^{-1}(-3) \).</li>
      <li>Uzastopno primeniti \( h \) tri puta na \( \frac{1}{4} \).</li>
      <li>Sabrati sva tri rezultata.</li>
    </ol>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Ključne formule i pojmovi</summary>
      <ul>
        <li>
          <strong>Nalaženje eksplicitne formule iz kompozicije:</strong>
          Ako je \( f(\varphi(x)) = x \), uvedemo smenu \( t = \varphi(x) \), izrazimo \( x \) preko \( t \),
          i dobijamo \( f(t) = x(t) \).
        </li>
        <li>
          <strong>Inverzna funkcija:</strong>
          Ako je \( g(a) = b \), onda je \( g^{-1}(b) = a \).
          Da nađemo \( g^{-1}(c) \), rešavamo jednačinu \( g(s) = c \) po \( s \).
        </li>
        <li>
          <strong>Iterativna primena funkcije:</strong>
          \( h(h(h(a))) \) znači: izračunamo \( h(a) \), pa \( h \) od tog rezultata, pa još jednom \( h \).
        </li>
        <li>
          <strong>Involucija:</strong>
          Funkcija \( f \) je involucija ako \( f(f(x)) = x \). Tada je \( f^{-1} = f \) i neparni
          broj primena daje \( f(x) \), a parni vraća \( x \).
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Dijagram koji prikazuje tok izračunavanja sva tri dela izraza.
    </p>
    <canvas id="diagramCanvas" width="800" height="500"></canvas>
    <p class="canvas-hint">Shematski prikaz toka izračunavanja</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Part I -->
    <h3 class="section-label">I deo: Nalaženje \( f(0) \)</h3>

    <!-- Step 1 -->
    <div class="step" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo eksplicitnu formulu za \( f(t) \)</h3>
        <p>
          Dato je \( f\!\left(\frac{x-1}{x-2}\right) = x \). Uvedimo smenu \( t = \frac{x-1}{x-2} \)
          i izrazimo \( x \) preko \( t \):
        </p>
        <div class="math-block">
          \[\begin{align}
            t &= \frac{x - 1}{x - 2} \\[6pt]
            t(x - 2) &= x - 1 \\[6pt]
            tx - 2t &= x - 1 \\[6pt]
            tx - x &= 2t - 1 \\[6pt]
            x(t - 1) &= 2t - 1 \\[6pt]
            x &= \frac{2t - 1}{t - 1}
          \end{align}\]
        </div>
        <p>
          Pošto je \( f(t) = x \), dobijamo:
        </p>
        <div class="math-block">
          \[ \boxed{f(t) = \frac{2t - 1}{t - 1}}, \quad t \neq 1 \]
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izračunajmo \( f(0) \)</h3>
        <p>
          Uvrstimo \( t = 0 \) u formulu za \( f \):
        </p>
        <div class="math-block">
          \[ f(0) = \frac{2 \cdot 0 - 1}{0 - 1} = \frac{-1}{-1} = \boxed{1} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li je rezultat tačan?</summary>
      <div class="answer">
        Ako \( \frac{x-1}{x-2} = 0 \), tada je \( x - 1 = 0 \), tj. \( x = 1 \).
        Iz polaznog uslova \( f(0) = x = 1 \). Tačno!
      </div>
    </details>

    <!-- Part II -->
    <h3 class="section-label purple">II deo: Nalaženje \( g^{-1}(-3) \)</h3>

    <!-- Step 3 -->
    <div class="step" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Pojednostavimo \( f(x) - 2 \)</h3>
        <p>
          Potrebno nam je \( f(x) - 2 \) da bismo iz uslova \( g(f(x)-2) = x-3 \) odredili funkciju \( g \):
        </p>
        <div class="math-block">
          \[\begin{align}
            f(x) - 2 &= \frac{2x - 1}{x - 1} - 2 \\[6pt]
            &= \frac{2x - 1 - 2(x - 1)}{x - 1} \\[6pt]
            &= \frac{2x - 1 - 2x + 2}{x - 1} = \frac{1}{x - 1}
          \end{align}\]
        </div>
        <p class="note">
          Izraz se lepo pojednostavljuje: \( f(x) - 2 = \frac{1}{x-1} \).
        </p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Odredimo eksplicitnu formulu za \( g(s) \)</h3>
        <p>
          Iz uslova \( g(f(x) - 2) = x - 3 \) i činjenice da je \( f(x) - 2 = \frac{1}{x-1} \),
          uvedimo smenu \( s = \frac{1}{x-1} \):
        </p>
        <div class="math-block">
          \[
          s = \frac{1}{x-1} \implies x - 1 = \frac{1}{s} \implies x = \frac{1}{s} + 1 = \frac{1 + s}{s}
          \]
        </div>
        <p>
          Uvrstimo u \( g(s) = x - 3 \):
        </p>
        <div class="math-block">
          \[
          g(s) = \frac{1 + s}{s} - 3 = \frac{1 + s - 3s}{s} = \frac{1 - 2s}{s} = \frac{1}{s} - 2
          \]
        </div>
        <p>
          Dakle:
        </p>
        <div class="math-block">
          \[ \boxed{g(s) = \frac{1}{s} - 2}, \quad s \neq 0 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Nađimo \( g^{-1}(-3) \)</h3>
        <p>
          Tražimo vrednost \( s \) takvu da \( g(s) = -3 \):
        </p>
        <div class="math-block">
          \[\begin{align}
            \frac{1}{s} - 2 &= -3 \\[6pt]
            \frac{1}{s} &= -1 \\[6pt]
            s &= -1
          \end{align}\]
        </div>
        <p>
          Dakle:
        </p>
        <div class="math-block">
          \[ \boxed{g^{-1}(-3) = -1} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li je zaista \( g(-1) = -3 \)?</summary>
      <div class="answer">
        \( g(-1) = \frac{1}{-1} - 2 = -1 - 2 = -3 \). Tačno! Znači \( g^{-1}(-3) = -1 \).
      </div>
    </details>

    <!-- Part III -->
    <h3 class="section-label pink">III deo: Izračunavanje \( h(h(h(1/4))) \)</h3>

    <!-- Step 6 -->
    <div class="step" tabindex="0">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Prva primena: \( h\!\left(\frac{1}{4}\right) \)</h3>
        <p>
          Primenimo \( h(x) = \frac{1}{2x} \) na \( x = \frac{1}{4} \):
        </p>
        <div class="math-block">
          \[
          h\!\left(\frac{1}{4}\right) = \frac{1}{2 \cdot \frac{1}{4}} = \frac{1}{\frac{1}{2}} = 2
          \]
        </div>
      </div>
    </div>

    <!-- Step 7 -->
    <div class="step" tabindex="0">
      <div class="step-badge">7</div>
      <div class="step-content">
        <h3>Druga primena: \( h(2) \)</h3>
        <p>
          Sada primenimo \( h \) na prethodni rezultat:
        </p>
        <div class="math-block">
          \[
          h(2) = \frac{1}{2 \cdot 2} = \frac{1}{4}
          \]
        </div>
      </div>
    </div>

    <!-- Step 8 -->
    <div class="step" tabindex="0">
      <div class="step-badge">8</div>
      <div class="step-content">
        <h3>Treća primena: \( h\!\left(\frac{1}{4}\right) \) ponovo</h3>
        <p>
          Treća primena funkcije \( h \):
        </p>
        <div class="math-block">
          \[
          h\!\left(\frac{1}{4}\right) = \frac{1}{2 \cdot \frac{1}{4}} = \frac{1}{\frac{1}{2}} = 2
          \]
        </div>
        <p class="note">
          Uočavamo <span class="highlight-pink">ciklično ponašanje</span>: \( h\!\left(\frac{1}{4}\right) = 2 \) i \( h(2) = \frac{1}{4} \).
          Funkcija \( h \) oscilira između \( \frac{1}{4} \) i \( 2 \), jer je \( h(h(x)) = x \) (involucija).
        </p>
        <div class="math-block">
          \[ \boxed{h(h(h(1/4))) = 2} \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Zašto je \( h \) involucija?</summary>
      <div class="answer">
        Izračunajmo \( h(h(x)) \):
        \( h(h(x)) = h\!\left(\frac{1}{2x}\right) = \frac{1}{2 \cdot \frac{1}{2x}} = \frac{1}{\frac{1}{x}} = x \).
        Dakle, \( h \circ h = \mathrm{id} \), pa je \( h(h(h(a))) = h(a) \) za svako \( a \neq 0 \).
      </div>
    </details>

    <!-- Part IV -->
    <h3 class="section-label green">IV deo: Konačan zbir</h3>

    <!-- Step 9 -->
    <div class="step" tabindex="0">
      <div class="step-badge">9</div>
      <div class="step-content">
        <h3>Saberimo sve tri vrednosti</h3>
        <p>
          Sada sabiramo rezultate sva tri dela:
        </p>
        <div class="math-block">
          \[
          f(0) + g^{-1}(-3) + h(h(h(\tfrac{1}{4}))) = 1 + (-1) + 2 = \boxed{2}
          \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Ključno zapažanje</h2>
    <p>
      Svaki deo zadatka koristi istu osnovnu tehniku: <span class="highlight-blue">smenu kojom se implicitna
      definicija funkcije prevodi u eksplicitnu formulu</span>.
    </p>
    <p style="margin-top: 12px;">
      Dodatno, funkcija \( h(x) = \frac{1}{2x} \) je <span class="highlight-pink">involucija</span> &mdash;
      \( h(h(x)) = x \) &mdash; pa neparan broj primena daje \( h(x) \), a paran vraća \( x \).
    </p>
    <div class="big-formula">
      \[ \underbrace{1}_{f(0)} + \underbrace{(-1)}_{g^{-1}(-3)} + \underbrace{2}_{h(h(h(1/4)))} = 2 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">
      \( 2 \)
    </div>
    <div class="options-row">
      <div class="option-card">(A) \(\dfrac{3}{4}\)</div>
      <div class="option-card">(B) \(4\)</div>
      <div class="option-card">(C) \(\dfrac{1}{4}\)</div>
      <div class="option-card">(D) \(0\)</div>
      <div class="option-card correct">(E) \(2\)</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong>
      \( f(0) = \frac{-1}{-1} = 1 \).
      Za \( g^{-1}(-3) \): \( g(-1) = \frac{1}{-1} - 2 = -3 \), dakle \( g^{-1}(-3) = -1 \).
      Za \( h(h(h(1/4))) \): pošto je \( h \circ h = \mathrm{id} \), važi \( h(h(h(1/4))) = h(1/4) = 2 \).
      Zbir: \( 1 + (-1) + 2 = 2 \).
      Rezultat se poklapa sa opcijom <strong>(E)</strong>.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greška 1:</span>
        Pogrešno izražavanje \( x \) iz smene \( t = \frac{x-1}{x-2} \). Česta greška je
        pogrešno grupisanje članova (npr. zaboraviti prebaciti \( x \) na jednu stranu), što
        dovodi do pogrešne formule za \( f(t) \) i pogrešne vrednosti \( f(0) \).
      </li>
      <li>
        <span class="pitfall-label">Greška 2:</span>
        Mešanje inverzne funkcije sa recipročnom vrednošću. \( g^{-1}(-3) \) znači
        "za koje \( s \) je \( g(s) = -3 \)", a ne \( \frac{1}{g(-3)} \).
        Ovo je česta greška kod učenika koji prvi put rade sa inverznim funkcijama.
      </li>
      <li>
        <span class="pitfall-label">Greška 3:</span>
        Pogrešno računanje \( h(1/4) \). Rezultat je \( \frac{1}{2 \cdot 1/4} = \frac{1}{1/2} = 2 \),
        a ne \( \frac{1}{8} \) (što bi bio rezultat ako se pogrešno pomnoži umesto podeli).
      </li>
      <li>
        <span class="pitfall-label">Greška 4:</span>
        Prekid iteracije funkcije \( h \) pre trećeg koraka ili zamena redosleda primene.
        Niz je: \( \frac{1}{4} \xrightarrow{h} 2 \xrightarrow{h} \frac{1}{4} \xrightarrow{h} 2 \).
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Ako je \( f\!\left(\frac{x+1}{x+3}\right) = x \) za \( x \neq -3 \) i \( g(x) = \frac{1}{x} - 2 \),
      kolika je vrednost izraza \( f(0) + f(1) + g^{-1}(0) \)?
    </p>
    <details>
      <summary>Nagoveštaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Primenite istu tehniku: uvedite smenu \( t = \frac{x+1}{x+3} \), izrazite \( x \) preko \( t \).
        Dobićete \( f(t) = \frac{3t-1}{1-t} \). Za inverznu \( g^{-1} \), rešite \( \frac{1}{s} - 2 = 0 \).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  // Diagram visualization
  const canvas = document.getElementById('diagramCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  const dpr = window.devicePixelRatio || 1;
  canvas.width = 800 * dpr;
  canvas.height = 500 * dpr;
  ctx.scale(dpr, dpr);

  const W = 800;
  const H = 500;

  function drawRoundedRect(x, y, w, h, r, fillColor, strokeColor) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
    if (fillColor) {
      ctx.fillStyle = fillColor;
      ctx.fill();
    }
    if (strokeColor) {
      ctx.strokeStyle = strokeColor;
      ctx.lineWidth = 1.5;
      ctx.stroke();
    }
  }

  function drawArrow(fromX, fromY, toX, toY, color) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(fromX, fromY);
    ctx.lineTo(toX, toY);
    ctx.stroke();

    var angle = Math.atan2(toY - fromY, toX - fromX);
    var headLen = 8;
    ctx.beginPath();
    ctx.moveTo(toX, toY);
    ctx.lineTo(toX - headLen * Math.cos(angle - 0.4), toY - headLen * Math.sin(angle - 0.4));
    ctx.moveTo(toX, toY);
    ctx.lineTo(toX - headLen * Math.cos(angle + 0.4), toY - headLen * Math.sin(angle + 0.4));
    ctx.stroke();
  }

  function draw() {
    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok izra\u010Dunavanja: f(0) + g\u207B\u00B9(-3) + h(h(h(1/4)))', W / 2, 24);

    // ======= COLUMN 1: f(0) =======
    var col1X = 50;
    var startY = 50;
    var boxW = 200;
    var boxH = 42;
    var gap = 20;

    // Section label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('I. f(0)', col1X + boxW / 2, startY);

    // Box 1: definition
    var y1 = startY + 14;
    drawRoundedRect(col1X, y1, boxW, boxH, 8, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('f((x-1)/(x-2)) = x', col1X + boxW / 2, y1 + 16);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('smena: t = (x-1)/(x-2)', col1X + boxW / 2, y1 + 34);

    // Arrow
    var y2 = y1 + boxH + gap;
    drawArrow(col1X + boxW / 2, y1 + boxH, col1X + boxW / 2, y2, '#475569');

    // Box 2: explicit formula
    drawRoundedRect(col1X, y2, boxW, 34, 8, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('f(t) = (2t - 1) / (t - 1)', col1X + boxW / 2, y2 + 20);

    // Arrow
    var y3 = y2 + 34 + gap;
    drawArrow(col1X + boxW / 2, y2 + 34, col1X + boxW / 2, y3, '#475569');

    // Box 3: substitution
    drawRoundedRect(col1X + 20, y3, boxW - 40, 34, 8, 'rgba(96,165,250,0.08)', 'rgba(96,165,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('f(0) = (-1)/(-1)', col1X + boxW / 2, y3 + 20);

    // Arrow to result
    var yR = y3 + 34 + gap;
    drawArrow(col1X + boxW / 2, y3 + 34, col1X + boxW / 2, yR, '#4ade80');

    // Result box
    drawRoundedRect(col1X + 60, yR, 80, 36, 8, 'rgba(74,222,128,0.1)', 'rgba(74,222,128,0.3)');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('1', col1X + boxW / 2, yR + 24);

    var resultY1 = yR + 36;

    // ======= COLUMN 2: g^{-1}(-3) =======
    var col2X = 300;

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('II. g\u207B\u00B9(-3)', col2X + boxW / 2, startY);

    // Box 1: f(x)-2
    y1 = startY + 14;
    drawRoundedRect(col2X, y1, boxW, boxH, 8, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('f(x) - 2 = 1/(x - 1)', col2X + boxW / 2, y1 + 16);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('smena: s = 1/(x - 1)', col2X + boxW / 2, y1 + 34);

    y2 = y1 + boxH + gap;
    drawArrow(col2X + boxW / 2, y1 + boxH, col2X + boxW / 2, y2, '#475569');

    // Box 2: g formula
    drawRoundedRect(col2X, y2, boxW, 34, 8, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('g(s) = 1/s - 2', col2X + boxW / 2, y2 + 20);

    y3 = y2 + 34 + gap;
    drawArrow(col2X + boxW / 2, y2 + 34, col2X + boxW / 2, y3, '#475569');

    // Box 3: solve equation
    drawRoundedRect(col2X + 5, y3, boxW - 10, 34, 8, 'rgba(167,139,250,0.08)', 'rgba(167,139,250,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('1/s - 2 = -3 \u2192 s = -1', col2X + boxW / 2, y3 + 20);

    yR = y3 + 34 + gap;
    drawArrow(col2X + boxW / 2, y3 + 34, col2X + boxW / 2, yR, '#4ade80');

    // Result box
    drawRoundedRect(col2X + 60, yR, 80, 36, 8, 'rgba(74,222,128,0.1)', 'rgba(74,222,128,0.3)');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('-1', col2X + boxW / 2, yR + 24);

    var resultY2 = yR + 36;

    // ======= COLUMN 3: h(h(h(1/4))) =======
    var col3X = 555;
    var boxW3 = 210;

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('III. h(h(h(1/4)))', col3X + boxW3 / 2, startY);

    // Box 1: h(1/4) = 2
    y1 = startY + 14;
    drawRoundedRect(col3X, y1, boxW3, 34, 8, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(1/4) = 1/(2\u00B71/4) = 2', col3X + boxW3 / 2, y1 + 20);

    y2 = y1 + 34 + gap;
    drawArrow(col3X + boxW3 / 2, y1 + 34, col3X + boxW3 / 2, y2, '#475569');

    // Box 2: h(2) = 1/4
    drawRoundedRect(col3X, y2, boxW3, 34, 8, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(2) = 1/(2\u00B72) = 1/4', col3X + boxW3 / 2, y2 + 20);

    y3 = y2 + 34 + gap;
    drawArrow(col3X + boxW3 / 2, y2 + 34, col3X + boxW3 / 2, y3, '#475569');

    // Box 3: h(1/4) = 2
    drawRoundedRect(col3X, y3, boxW3, 34, 8, 'rgba(244,114,182,0.08)', 'rgba(244,114,182,0.3)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.fillText('h(1/4) = 1/(2\u00B71/4) = 2', col3X + boxW3 / 2, y3 + 20);

    yR = y3 + 34 + gap;
    drawArrow(col3X + boxW3 / 2, y3 + 34, col3X + boxW3 / 2, yR, '#4ade80');

    // Result box
    drawRoundedRect(col3X + 65, yR, 80, 36, 8, 'rgba(74,222,128,0.1)', 'rgba(74,222,128,0.3)');
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('2', col3X + boxW3 / 2, yR + 24);

    var resultY3 = yR + 36;

    // Cyclic hint
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'italic 11px Segoe UI, system-ui, sans-serif';
    ctx.fillText('ciklus: 1/4 \u2194 2 (involucija)', col3X + boxW3 / 2, yR + 52);

    // ======= FINAL SUM =======
    var maxResultY = Math.max(resultY1, resultY2, resultY3);
    var sumY = maxResultY + 50;

    // Arrows from each result to sum
    drawArrow(col1X + boxW / 2, maxResultY + 6, W / 2, sumY - 6, '#60a5fa');
    drawArrow(col2X + boxW / 2, maxResultY + 6, W / 2, sumY - 6, '#a78bfa');
    drawArrow(col3X + boxW3 / 2, maxResultY + 6, W / 2, sumY - 6, '#f472b6');

    // Plus signs
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('+', 230, sumY - 20);
    ctx.fillText('+', 520, sumY - 20);

    // Sum box
    drawRoundedRect(W / 2 - 140, sumY - 4, 280, 50, 12, 'rgba(74,222,128,0.08)', 'rgba(74,222,128,0.35)');
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('1 + (-1) + 2', W / 2, sumY + 16);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= 2', W / 2, sumY + 38);

    // Final label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Odgovor: (E) 2', W / 2, sumY + 72);
  }

  draw();

  // Step click interactivity
  document.querySelectorAll('.step').forEach(function(step) {
    step.addEventListener('click', function() {
      document.querySelectorAll('.step').forEach(function(s) { s.classList.remove('active'); });
      step.classList.toggle('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Kompozicija funkcija, inverzna funkcija i izraz",
  "subject": "math",
  "unit": "functions",
  "topic_tags": ["kompozicija funkcija", "inverzna funkcija", "eksplicitna formula funkcije", "iteracija funkcije", "involucija", "racionalna funkcija"]
}
BRAINSPARK_META-->