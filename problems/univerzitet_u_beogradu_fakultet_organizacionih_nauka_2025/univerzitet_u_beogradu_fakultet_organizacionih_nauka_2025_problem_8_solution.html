<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vrednost logaritamskog izraza sa kombinovanim bazama</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM: Izracunati log_2(3^(2 - log_3 72) * 5^(log_5(4/5) + 1)).

STRATEGIJA: Pojednostaviti svaki cinilac unutar argumenta logaritma zasebno, pa izracunati log_2.

KORAK 1: Pojednostavimo 3^(2 - log_3 72).
Koristimo pravilo a^(b - c) = a^b / a^c:
3^(2 - log_3 72) = 3^2 / 3^(log_3 72)

Znamo da je a^(log_a x) = x (osnovno svojstvo logaritma):
3^(log_3 72) = 72

Dakle: 3^(2 - log_3 72) = 9 / 72 = 1/8

VERIFIKACIJA: log_3 72 = log_3(8 * 9) = log_3(8) + log_3(9) = log_3(8) + 2
Dakle: 2 - log_3 72 = 2 - log_3(8) - 2 = -log_3(8)
3^(-log_3 8) = 8^(-1) = 1/8. TACNO!

KORAK 2: Pojednostavimo 5^(log_5(4/5) + 1).
Pristup A (razdvajanje eksponenta):
5^(log_5(4/5) + 1) = 5^(log_5(4/5)) * 5^1
= (4/5) * 5 = 4

Pristup B (sabiranje logaritama pre primene):
log_5(4/5) + 1 = log_5(4/5) + log_5 5 = log_5((4/5) * 5) = log_5 4
5^(log_5 4) = 4

Oba pristupa daju isti rezultat: 4.

KORAK 3: Izracunamo argument logaritma.
3^(2 - log_3 72) * 5^(log_5(4/5) + 1) = (1/8) * 4 = 4/8 = 1/2

KORAK 4: Izracunamo konacni rezultat.
log_2(1/2) = log_2(2^(-1)) = -1

VERIFIKACIJA ALTERNATIVNIM PRISTUPOM:
log_2(3^(2-log_3 72) * 5^(log_5(4/5)+1))
= log_2(3^(2-log_3 72)) + log_2(5^(log_5(4/5)+1))
= log_2(1/8) + log_2(4)
= log_2(2^(-3)) + log_2(2^2)
= -3 + 2
= -1. TACNO!

ODGOVOR: (D) -1
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 1rem;
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 1rem 0;
}

h1 {
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  margin-bottom: 0.25rem;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.card-title .icon {
  font-size: 1.3rem;
}

.card.problem-statement {
  border: 2px solid #a78bfa;
  font-size: 1.05rem;
}

.card.problem-statement .card-title {
  color: #a78bfa;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.75rem;
  margin-top: 1rem;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  text-align: center;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 0.25rem;
  font-weight: 600;
}

.given-item .value {
  font-size: 1rem;
  color: #e2e8f0;
}

.given-item.answer-option {
  transition: border-color 0.2s, background 0.2s;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 0.4rem 0 0.4rem 2.2rem;
  position: relative;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  top: 0.4rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 1.6rem;
  height: 1.6rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  margin: 15px 0;
}

details summary {
  padding: 1rem 1.5rem;
  cursor: pointer;
  font-weight: 600;
  color: #a78bfa;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .detail-content {
  padding: 0 1.5rem 1.5rem;
}

.step {
  border-left: 3px solid #334155;
  padding-left: 1.25rem;
  margin-bottom: 1.5rem;
  position: relative;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 0;
  width: 11px;
  height: 11px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-title {
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 0.4rem;
  font-size: 1.05rem;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  overflow-x: auto;
}

.canvas-wrap {
  text-align: center;
  margin: 1rem 0;
}

canvas {
  border-radius: 12px;
  background: #0f172a;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 0.5rem;
}

.final-answer {
  background: rgba(74, 222, 128, 0.08);
  border: 2px solid #4ade80;
  border-radius: 14px;
  padding: 1.5rem;
  text-align: center;
  margin-bottom: 1.5rem;
}

.final-answer .label {
  font-size: 0.95rem;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  margin-bottom: 0.5rem;
}

.final-answer .value {
  font-size: 1.6rem;
  font-weight: 700;
  color: #4ade80;
}

.final-options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 0.5rem;
  margin-top: 1rem;
}

.final-option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 0.5rem 0.75rem;
  text-align: center;
  font-size: 0.95rem;
}

.final-option.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.1);
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid #60a5fa;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1.5rem;
}

.insight-box .card-title {
  color: #60a5fa;
}

.pitfall {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid #f472b6;
  border-radius: 10px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.pitfall strong {
  color: #f472b6;
}

.challenge-box {
  background: rgba(52, 211, 153, 0.08);
  border: 1px dashed #34d399;
  border-radius: 14px;
  padding: 1.25rem 1.5rem;
  margin-bottom: 1rem;
}

.challenge-box .card-title {
  color: #34d399;
}

.muted {
  color: #94a3b8;
}

.highlight {
  color: #4ade80;
  font-weight: 600;
}

.verification-box {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 1rem 1.25rem;
  margin: 0.75rem 0;
}

.verification-box.valid {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.05);
}

.verify-label {
  font-weight: 700;
  font-size: 0.9rem;
  color: #4ade80;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 0.25rem;
}

mjx-container {
  overflow-x: auto;
}

@media (max-width: 700px) {
  body { padding: 0.5rem; }
  .card, .card.problem-statement, details .detail-content,
  .final-answer, .insight-box, .challenge-box { padding: 1rem; }
  .given-grid { grid-template-columns: 1fr 1fr; }
  .final-options { grid-template-columns: 1fr 1fr; }
}
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Vrednost logaritamskog izraza sa kombinovanim bazama</h1>
  <p class="subtitle">Pojednostavljivanje slozenog logaritamskog izraza koriscenjem svojstva \(a^{\log_a x} = x\)</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128220;</span> Zadatak</div>
    <p>Vrednost izraza</p>
    \[\log_2\!\left(3^{\left(2 - \log_3 72\right)} \cdot 5^{\left(\log_5 \frac{4}{5} + 1\right)}\right)\]
    <p>jednaka je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(1\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(-3\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(-2\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-1\)</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\(2\)</div>
      </div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128204;</span> Plan resavanja</div>
    <ol class="plan-list">
      <li>Pojednostavicemo \(3^{2 - \log_3 72}\) razlaganjem eksponenta i primenom svojstva \(a^{\log_a x} = x\)</li>
      <li>Pojednostavicemo \(5^{\log_5 \frac{4}{5} + 1}\) istim pristupom</li>
      <li>Pomnozicemo rezultate i izracunati \(\log_2\) dobijenog broja</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary>Podsetnik iz teorije</summary>
    <div class="detail-content">
      <p><strong>Osnovno svojstvo logaritma i eksponencijalne funkcije:</strong></p>
      \[a^{\log_a x} = x \quad (a > 0,\; a \neq 1,\; x > 0)\]
      <p class="muted" style="margin-top: 0.5rem;">Ovo je najvaznije svojstvo u ovom zadatku. Logaritam i eksponencijalna funkcija sa istom bazom se "poniste".</p>

      <p style="margin-top: 0.75rem;"><strong>Pravila za stepenovanje:</strong></p>
      \[a^{m - n} = \frac{a^m}{a^n}, \qquad a^{m + n} = a^m \cdot a^n\]

      <p style="margin-top: 0.75rem;"><strong>Logaritam proizvoda:</strong></p>
      \[\log_a(x \cdot y) = \log_a x + \log_a y\]

      <p style="margin-top: 0.75rem;"><strong>Specijalni slucaj:</strong></p>
      \[\log_a a = 1 \quad \Rightarrow \quad 1 = \log_a a\]
      <p class="muted" style="margin-top: 0.5rem;">Ovo koristimo da "pretvorimo" broj 1 u eksponentu u oblik \(\log_5 5\), cime omogucavamo sabiranje logaritama.</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
    <p class="muted" style="margin-bottom: 0.75rem;">Dijagram toka pojednostavljivanja &mdash; svaki cinilac se redukuje nezavisno, pa se rezultati kombinuju.</p>
    <div class="canvas-wrap">
      <canvas id="graphCanvas" width="700" height="420"></canvas>
      <p class="canvas-hint">Strelice pokazuju tok transformacija od polaznog izraza do konacnog rezultata.</p>
    </div>
  </div>

  <!-- STEP-BY-STEP SOLUTION -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9999;&#65039;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-title">Korak 1: Rasclanjujemo izraz na dva cinioca</div>
      <p>Oznacimo dva cinioca unutar argumenta logaritma:</p>
      <div class="math-block">
        \[\log_2\Big(\underbrace{3^{2 - \log_3 72}}_{A} \cdot \underbrace{5^{\log_5 \frac{4}{5} + 1}}_{B}\Big)\]
      </div>
      <p>Pojednostavicemo \(A\) i \(B\) zasebno, pa izracunati \(\log_2(A \cdot B)\).</p>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-title">Korak 2: Pojednostavimo \(A = 3^{2 - \log_3 72}\)</div>
      <p>Razlozimo eksponent koristeci pravilo \(a^{m-n} = \frac{a^m}{a^n}\):</p>
      <div class="math-block">
        \[3^{2 - \log_3 72} = \frac{3^2}{3^{\log_3 72}}\]
      </div>
      <p>Sada primenimo kljucno svojstvo \(a^{\log_a x} = x\):</p>
      <div class="math-block">
        \[3^{\log_3 72} = 72\]
      </div>
      <p>Dobijamo:</p>
      <div class="math-block">
        \[A = \frac{9}{72} = \frac{1}{8}\]
      </div>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Zasto je \(\frac{9}{72} = \frac{1}{8}\)?</summary>
      <div class="detail-content">
        <p>Skracujemo razlomak: \(\frac{9}{72} = \frac{9}{9 \cdot 8} = \frac{1}{8}\), jer je \(72 = 9 \cdot 8\). Takodje, \(\frac{1}{8} = 2^{-3}\), sto ce nam biti korisno kasnije.</p>
      </div>
    </details>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-title">Korak 3: Pojednostavimo \(B = 5^{\log_5 \frac{4}{5} + 1}\)</div>
      <p>Razlozimo eksponent koristeci pravilo \(a^{m+n} = a^m \cdot a^n\):</p>
      <div class="math-block">
        \[5^{\log_5 \frac{4}{5} + 1} = 5^{\log_5 \frac{4}{5}} \cdot 5^1\]
      </div>
      <p>Primenimo svojstvo \(a^{\log_a x} = x\):</p>
      <div class="math-block">
        \[5^{\log_5 \frac{4}{5}} = \frac{4}{5}\]
      </div>
      <p>Dobijamo:</p>
      <div class="math-block">
        \[B = \frac{4}{5} \cdot 5 = 4\]
      </div>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Moze li se drugi cinilac i drugacije pojednostaviti?</summary>
      <div class="detail-content">
        <p>Da! Mozemo najpre sabrati eksponent. Posto je \(1 = \log_5 5\), imamo:</p>
        \[\log_5 \frac{4}{5} + 1 = \log_5 \frac{4}{5} + \log_5 5 = \log_5\!\left(\frac{4}{5} \cdot 5\right) = \log_5 4\]
        <p>Zatim direktno:</p>
        \[5^{\log_5 4} = 4\]
        <p>Isti rezultat, ali na elegantniji nacin!</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-title">Korak 4: Izracunamo argument logaritma</div>
      <p>Pomnozimo dva pojednostavljena cinioca:</p>
      <div class="math-block">
        \[A \cdot B = \frac{1}{8} \cdot 4 = \frac{4}{8} = \frac{1}{2}\]
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-title">Korak 5: Izracunamo konacni logaritam</div>
      <p>Sada izracunavamo:</p>
      <div class="math-block">
        \[\log_2 \frac{1}{2} = \log_2 2^{-1} = -1\]
      </div>
      <p>Ovo sledi iz definicije logaritma: \(\log_2 \frac{1}{2} = -1\) jer \(2^{-1} = \frac{1}{2}\).</p>
    </div>

    <details style="margin: 15px 0;">
      <summary>Proveri se: Verifikacija alternativnim pristupom</summary>
      <div class="detail-content">
        <p>Umesto da mnozimo cinioca pa uzimamo logaritam, mozemo odmah primeniti pravilo za logaritam proizvoda:</p>
        \[\log_2(A \cdot B) = \log_2 A + \log_2 B = \log_2 \frac{1}{8} + \log_2 4\]
        <p>Izracunamo svaki sabirak:</p>
        \[\log_2 \frac{1}{8} = \log_2 2^{-3} = -3, \qquad \log_2 4 = \log_2 2^2 = 2\]
        <p>Konacno:</p>
        \[-3 + 2 = -1 \quad \checkmark\]
      </div>
    </details>
  </div>

  <!-- KEY INSIGHT -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#128161;</span> Kljucni uvid</div>
    <p>Ceo zadatak se svodi na jedno jedino svojstvo: <strong>\(a^{\log_a x} = x\)</strong>. Kada god u eksponentu vidite logaritam cija se baza poklapa sa bazom stepena, oni se "poniste". Trik je u tome da eksponent razlozite (na zbir ili razliku) tako da izdvojite deo sa logaritmom i primenite ovo svojstvo.</p>
    <div class="math-block" style="text-align: center; font-size: 1.05rem; margin-top: 0.75rem;">
      \[3^{2 - \log_3 72} = \frac{3^2}{72} = \frac{1}{8}, \qquad 5^{\log_5 \frac{4}{5} + 1} = \frac{4}{5} \cdot 5 = 4\]
    </div>
  </div>

  <!-- FINAL ANSWER -->
  <div class="final-answer">
    <div class="label">Konacan odgovor</div>
    <div class="value">(D) \(-1\)</div>
    <div class="final-options">
      <div class="final-option">(A) \(1\)</div>
      <div class="final-option">(B) \(-3\)</div>
      <div class="final-option">(C) \(-2\)</div>
      <div class="final-option correct">(D) \(-1\)</div>
      <div class="final-option">(E) \(2\)</div>
    </div>
    <p class="muted" style="margin-top: 1rem; font-size: 0.9rem;"><strong>Verifikacija:</strong> \(\log_2\!\left(\frac{1}{8} \cdot 4\right) = \log_2\!\frac{1}{2} = -1\). Alternativno: \(\log_2\!\frac{1}{8} + \log_2 4 = -3 + 2 = -1\).</p>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall">
      <strong>Mesanje pravila za stepenovanje:</strong> Cesta greska je pisati \(3^{2 - \log_3 72} = 3^2 - 3^{\log_3 72} = 9 - 72\). To je pogresno! Pravilo glasi \(a^{b-c} = \frac{a^b}{a^c}\), a <em>ne</em> \(a^b - a^c\). Stepenovanje se ne distribuira preko sabiranja/oduzimanja.
    </div>
    <div class="pitfall">
      <strong>Pogresna primena svojstva \(a^{\log_a x}\):</strong> Svojstvo \(a^{\log_a x} = x\) vazi <em>iskljucivo</em> kada je baza stepena jednaka bazi logaritma. Ne moze se primeniti, na primer, na \(3^{\log_5(\ldots)}\).
    </div>
    <div class="pitfall">
      <strong>Previd kod drugog cinioca:</strong> Mnogi ucenici ne prepoznaju da je \(\log_5 \frac{4}{5} + 1 = \log_5 4\). Zaboravljanje da se \(1\) moze zapisati kao \(\log_5 5\) vodi ka nepotrebno komplikovanom racunanju.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p>Izracunaj vrednost izraza:</p>
    \[\log_3\!\left(2^{3 - \log_2 24} \cdot 7^{\log_7 \frac{9}{7} + 1}\right)\]
    <details style="margin: 15px 0; background: transparent; border: 1px solid #34d399;">
      <summary style="color: #34d399;">Savet</summary>
      <div class="detail-content">
        <p>Koristi isti pristup: \(2^{3 - \log_2 24} = \frac{2^3}{24} = \frac{8}{24} = \frac{1}{3}\), a \(7^{\log_7 \frac{9}{7} + 1} = \frac{9}{7} \cdot 7 = 9\). Argument je \(\frac{1}{3} \cdot 9 = 3\), pa je \(\log_3 3 = 1\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('graphCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const colors = {
    bg: '#0f172a',
    card: '#1e293b',
    border: '#334155',
    blue: '#60a5fa',
    purple: '#a78bfa',
    green: '#4ade80',
    pink: '#f472b6',
    cyan: '#38bdf8',
    text: '#e2e8f0',
    muted: '#94a3b8',
    orange: '#fb923c'
  };

  function roundRect(x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.quadraticCurveTo(x + w, y, x + w, y + r);
    ctx.lineTo(x + w, y + h - r);
    ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    ctx.lineTo(x + r, y + h);
    ctx.quadraticCurveTo(x, y + h, x, y + h - r);
    ctx.lineTo(x, y + r);
    ctx.quadraticCurveTo(x, y, x + r, y);
    ctx.closePath();
  }

  function drawBox(x, y, w, h, borderColor, lines, textColor, fontSize) {
    roundRect(x, y, w, h, 8);
    ctx.fillStyle = colors.card;
    ctx.fill();
    ctx.strokeStyle = borderColor;
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = textColor || colors.text;
    ctx.font = (fontSize || 13) + 'px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';

    if (typeof lines === 'string') lines = lines.split('\n');
    var lineH = (fontSize || 13) * 1.5;
    var startY = y + h / 2 - (lines.length - 1) * lineH / 2;
    for (var i = 0; i < lines.length; i++) {
      ctx.fillText(lines[i], x + w / 2, startY + i * lineH);
    }
  }

  function drawArrow(x1, y1, x2, y2, color) {
    ctx.strokeStyle = color || colors.muted;
    ctx.lineWidth = 2;
    ctx.setLineDash([]);
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.stroke();

    var angle = Math.atan2(y2 - y1, x2 - x1);
    var headLen = 10;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - headLen * Math.cos(angle - 0.4), y2 - headLen * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - headLen * Math.cos(angle + 0.4), y2 - headLen * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fillStyle = color || colors.muted;
    ctx.fill();
  }

  // Clear canvas
  ctx.fillStyle = colors.bg;
  ctx.fillRect(0, 0, W, H);

  // Title
  ctx.fillStyle = colors.muted;
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'top';
  ctx.fillText('Tok pojednostavljivanja izraza', W / 2, 8);

  // Layout constants
  var boxW = 210, boxH = 38;
  var leftX = 45, rightX = W - 45 - boxW;
  var topBoxW = 440, topBoxH = 42;
  var topX = (W - topBoxW) / 2, topY = 30;

  // Row 0: Original expression
  drawBox(topX, topY, topBoxW, topBoxH, colors.purple, 'log\u2082( 3^(2 - log\u2083 72) \u00B7 5^(log\u2085(4/5) + 1) )', colors.purple, 14);

  // Arrows from top to two branches
  drawArrow(W / 2 - 70, topY + topBoxH, leftX + boxW / 2, topY + topBoxH + 30, colors.blue);
  drawArrow(W / 2 + 70, topY + topBoxH, rightX + boxW / 2, topY + topBoxH + 30, colors.cyan);

  // Row 1: Two branches
  var row1Y = topY + topBoxH + 32;

  // Left branch label
  ctx.fillStyle = colors.blue;
  ctx.font = 'bold 11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('CINILAC A', leftX + boxW / 2, row1Y - 2);

  // Right branch label
  ctx.fillStyle = colors.cyan;
  ctx.fillText('CINILAC B', rightX + boxW / 2, row1Y - 2);

  var r1Y = row1Y + 8;
  drawBox(leftX, r1Y, boxW, boxH, colors.blue, '3^(2 - log\u2083 72)', colors.blue, 13);
  drawBox(rightX, r1Y, boxW, boxH, colors.cyan, '5^(log\u2085(4/5) + 1)', colors.cyan, 13);

  // Row 2: Expansion
  var row2Y = r1Y + boxH + 30;
  drawArrow(leftX + boxW / 2, r1Y + boxH, leftX + boxW / 2, row2Y, colors.blue);
  drawArrow(rightX + boxW / 2, r1Y + boxH, rightX + boxW / 2, row2Y, colors.cyan);

  drawBox(leftX, row2Y, boxW, boxH, colors.border, '3\u00B2 / 3^(log\u2083 72)', colors.text, 13);
  drawBox(rightX, row2Y, boxW, boxH, colors.border, '5^(log\u2085(4/5)) \u00B7 5\u00B9', colors.text, 13);

  // Annotation labels
  ctx.fillStyle = colors.orange;
  ctx.font = 'italic 10px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('a^(b-c) = a^b / a^c', leftX + boxW + 6, row2Y + boxH / 2);
  ctx.textAlign = 'right';
  ctx.fillText('a^(b+c) = a^b \u00B7 a^c', rightX - 6, row2Y + boxH / 2);

  // Row 3: Apply key property
  var row3Y = row2Y + boxH + 30;
  drawArrow(leftX + boxW / 2, row2Y + boxH, leftX + boxW / 2, row3Y, colors.blue);
  drawArrow(rightX + boxW / 2, row2Y + boxH, rightX + boxW / 2, row3Y, colors.cyan);

  drawBox(leftX, row3Y, boxW, boxH, colors.border, '9 / 72 = 1/8', colors.text, 14);
  drawBox(rightX, row3Y, boxW, boxH, colors.border, '(4/5) \u00B7 5 = 4', colors.text, 14);

  // Annotation labels for key property
  ctx.fillStyle = colors.orange;
  ctx.font = 'italic 10px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('a^(log\u2090 x) = x', leftX + boxW + 6, row3Y + boxH / 2);
  ctx.textAlign = 'right';
  ctx.fillText('a^(log\u2090 x) = x', rightX - 6, row3Y + boxH / 2);

  // Row 4: Combine
  var combW = 260, combH = 42;
  var combX = (W - combW) / 2;
  var combY = row3Y + boxH + 30;

  drawArrow(leftX + boxW / 2, row3Y + boxH, combX + combW / 2 - 30, combY, colors.green);
  drawArrow(rightX + boxW / 2, row3Y + boxH, combX + combW / 2 + 30, combY, colors.green);

  drawBox(combX, combY, combW, combH, colors.border, '(1/8) \u00B7 4 = 1/2', colors.text, 15);

  // Multiply symbol
  ctx.fillStyle = colors.muted;
  ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('\u00D7', W / 2, combY - 10);

  // Row 5: Final result
  var finalW = 280, finalH = 48;
  var finalX = (W - finalW) / 2;
  var finalY = combY + combH + 25;

  drawArrow(combX + combW / 2, combY + combH, finalX + finalW / 2, finalY, colors.green);

  // Draw final box with special styling
  roundRect(finalX, finalY, finalW, finalH, 10);
  ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
  ctx.fill();
  ctx.strokeStyle = colors.green;
  ctx.lineWidth = 2.5;
  ctx.stroke();

  ctx.fillStyle = colors.green;
  ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.textBaseline = 'middle';
  ctx.fillText('log\u2082(1/2) = \u22121', finalX + finalW / 2, finalY + finalH / 2);

  // Make steps clickable
  var stepElements = document.querySelectorAll('.step');
  stepElements.forEach(function(el) {
    el.addEventListener('click', function() {
      stepElements.forEach(function(s) { s.classList.remove('active'); });
      el.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Vrednost logaritamskog izraza sa kombinovanim bazama","subject":"math","unit":"logarithms","topic_tags":["logaritmi","svojstva logaritama","eksponencijalna funkcija","racunanje sa logaritmima"]}
BRAINSPARK_META-->