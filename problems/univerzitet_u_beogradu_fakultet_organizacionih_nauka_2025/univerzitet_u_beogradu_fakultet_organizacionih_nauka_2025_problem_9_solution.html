<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir celobrojnih rešenja racionalne nejednačine</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Zadatak: Zbir svih celobrojnih rešenja nejednačine (x^2 + x - 15)/(x^2 - 2x - 3) >= 2

KORAK 1: Prebacivanje nejednačine u oblik >= 0.
  (x^2 + x - 15)/(x^2 - 2x - 3) - 2 >= 0
  (x^2 + x - 15 - 2(x^2 - 2x - 3)) / (x^2 - 2x - 3) >= 0

KORAK 2: Sređivanje brojioca.
  x^2 + x - 15 - 2x^2 + 4x + 6 = -x^2 + 5x - 9

  Nejednačina postaje:
  (-x^2 + 5x - 9) / (x^2 - 2x - 3) >= 0

KORAK 3: Analiza brojioca.
  -x^2 + 5x - 9
  Diskriminanta: D = 25 - 4·1·9 = 25 - 36 = -11 < 0
  Vodeći koeficijent: -1 < 0
  Zaključak: Brojilac je UVEK negativan (nema realnih nula).

KORAK 4: Faktorizacija imenioca.
  x^2 - 2x - 3 = (x - 3)(x + 1)
  Nule: x = 3 i x = -1

KORAK 5: Analiza znaka.
  Imamo: (uvek negativno) / ((x - 3)(x + 1)) >= 0
  Da bi razlomak bio >= 0 (a brojilac je uvek < 0),
  imenilac mora biti < 0 (strogo, jer brojilac nikad nije 0).

  (x - 3)(x + 1) < 0  kada  -1 < x < 3

  Napomena: x != -1 i x != 3 (imenilac ne sme biti 0).

KORAK 6: Celobrojna rešenja na intervalu (-1, 3).
  x in {0, 1, 2}

KORAK 7: Zbir celobrojnih rešenja.
  0 + 1 + 2 = 3

VERIFIKACIJA:
  x = 0: (0 + 0 - 15)/(0 - 0 - 3) = -15/(-3) = 5 >= 2  ✓
  x = 1: (1 + 1 - 15)/(1 - 2 - 3) = -13/(-4) = 3,25 >= 2  ✓
  x = 2: (4 + 2 - 15)/(4 - 4 - 3) = -9/(-3) = 3 >= 2  ✓

  x = -1: imenilac = 0, nije definisano ✓ (isključeno)
  x = 3: imenilac = 0, nije definisano ✓ (isključeno)
  x = -2: (4 - 2 - 15)/(4 + 4 - 3) = -13/5 = -2,6 < 2 ✓ (ne zadovoljava)
  x = 4: (16 + 4 - 15)/(16 - 8 - 3) = 5/5 = 1 < 2 ✓ (ne zadovoljava)

Odgovor: (D) 3
</script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
body{background:#0f172a;color:#e2e8f0;font-family:'Segoe UI',system-ui,-apple-system,sans-serif;line-height:1.7;padding:20px;max-width:860px;margin:0 auto}
h1{font-size:1.8rem;font-weight:800;background:linear-gradient(135deg,#60a5fa,#a78bfa,#34d399);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:#94a3b8;font-size:1rem;margin-bottom:28px}
.card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:24px;margin-bottom:20px}
.card-title{font-size:1.15rem;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px}
.card-title .icon{font-size:1.3rem}
.problem-statement{border-left:4px solid #a78bfa}
.problem-statement .problem-text{font-size:1.05rem;margin-bottom:18px;line-height:1.9}
.given-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px;margin-top:12px}
.given-item{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 14px;text-align:center;font-size:1rem;cursor:default;transition:border-color 0.2s,background 0.2s}
.given-item .label{font-size:0.85rem;color:#94a3b8;font-weight:600;margin-bottom:4px}
.given-item .value{font-size:1rem;color:#e2e8f0}
.given-item[data-option].correct{border-color:#34d399;background:rgba(52,211,153,0.1)}
.given-item[data-option]:hover{border-color:#60a5fa}
.plan-card{border-left:4px solid #60a5fa}
.plan-list{list-style:none;counter-reset:plan}
.plan-list li{counter-increment:plan;padding:6px 0;padding-left:32px;position:relative}
.plan-list li::before{content:counter(plan);position:absolute;left:0;top:6px;background:#60a5fa;color:#0f172a;width:22px;height:22px;border-radius:50%;font-size:0.78rem;font-weight:700;display:flex;align-items:center;justify-content:center}
details{margin:15px 0}
details summary{cursor:pointer;color:#60a5fa;font-weight:600;padding:6px 0;user-select:none}
details summary:hover{color:#93bbfc}
details[open] summary{margin-bottom:10px}
.theory-content p{margin-bottom:10px;color:#cbd5e1}
.theory-content .formula-box{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:14px 18px;margin:12px 0;text-align:center}
.canvas-wrap{display:flex;justify-content:center;padding:10px 0}
canvas{border-radius:10px;max-width:100%;touch-action:none}
.step{margin-bottom:18px;padding:8px 12px;border-radius:8px;transition:border-left 0.2s,background 0.2s;cursor:pointer;border-left:3px solid transparent}
.step:hover,.step.active{border-left:3px solid #4ade80;background:rgba(74,222,128,0.04)}
.step:last-child{margin-bottom:0}
.step-badge{display:inline-block;background:#a78bfa;color:#0f172a;font-size:0.75rem;font-weight:700;padding:3px 10px;border-radius:6px;margin-bottom:8px}
.step-content{padding-left:4px;color:#cbd5e1}
.step-content p{margin-bottom:8px}
.math-block{background:rgba(56,189,248,0.08);border:1px solid rgba(56,189,248,0.15);border-radius:10px;padding:14px 18px;margin:10px 0;text-align:center;font-family:'Courier New',monospace}
.checkpoint{background:rgba(96,165,250,0.1);border:1px solid rgba(96,165,250,0.3);border-radius:10px;padding:12px 16px;margin:15px 0;color:#93bbfc;font-weight:600}
.checkpoint summary{color:#60a5fa;font-weight:600}
.checkpoint-answer{color:#4ade80;font-weight:600;margin-top:6px}
.insight-card{border-left:4px solid #a78bfa;background:linear-gradient(135deg,#1e293b,#1e2940)}
.insight-text{color:#c4b5fd;font-size:1.02rem}
.final-answer-card{border:2px solid #34d399;background:linear-gradient(135deg,#1e293b,#162a2a)}
.final-answer-value{font-size:1.5rem;text-align:center;color:#4ade80;font-weight:700;margin:12px 0}
.final-answer-label{text-align:center;color:#34d399;font-size:0.95rem;font-weight:600}
.final-options{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:10px;margin-top:16px}
.final-option{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px;text-align:center;font-size:1rem;transition:all 0.2s}
.final-option.correct-option{border-color:#34d399;background:rgba(52,211,153,0.12);color:#4ade80;font-weight:700}
.verification{margin-top:16px;padding:12px 16px;background:rgba(52,211,153,0.06);border:1px solid rgba(52,211,153,0.2);border-radius:10px;color:#86efac;font-size:0.92rem}
.pitfall{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid #334155}
.pitfall:last-child{border-bottom:none}
.pitfall-icon{color:#f87171;font-size:1.1rem;flex-shrink:0;margin-top:2px}
.pitfall-text{color:#cbd5e1}
.challenge-card{border-left:4px solid #34d399}
.challenge-text{color:#86efac;font-style:italic}
.drag-hint{text-align:center;color:#64748b;font-size:0.82rem;margin-top:6px}
@media(max-width:700px){
  body{padding:12px}
  h1{font-size:1.4rem}
  .given-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
  .final-options{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}
}
</style>
</head>
<body>

<h1>Zbir celobrojnih rešenja racionalne nejednačine</h1>
<p class="subtitle">Algebra | Racionalne nejednačine, analiza znaka, faktorizacija</p>

<!-- Iskaz zadatka -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">&#128220;</span> Postavka zadatka</div>
  <div class="problem-text">
    Zbir svih celobrojnih rešenja nejednačine
    \[
    \frac{x^2 + x - 15}{x^2 - 2x - 3} \geqslant 2
    \]
    jednak je:
  </div>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(5\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(4\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(3\)</div>
    </div>
    <div class="given-item answer-option" data-option="E">
      <div class="label">(E)</div>
      <div class="value">\(2\)</div>
    </div>
  </div>
</div>

<!-- Plan rešavanja -->
<div class="card plan-card">
  <div class="card-title"><span class="icon">&#128204;</span> Plan rešavanja</div>
  <ol class="plan-list">
    <li>Prebaciti nejednačinu u oblik \(\frac{f(x)}{g(x)} \geqslant 0\) oduzimanjem broja 2 sa obe strane</li>
    <li>Analizirati znak brojioca (diskriminanta) i imenioca (faktorizacija)</li>
    <li>Odrediti interval na kome nejednačina važi i izdvojiti celobrojna rešenja</li>
    <li>Sabrati sva celobrojna rešenja</li>
  </ol>
</div>

<!-- Teorija -->
<div class="card">
  <div class="card-title"><span class="icon">&#128218;</span> Teorijska osnova</div>
  <details>
    <summary>&#128208; Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Racionalna nejednačina:</strong> Nejednačinu oblika \(\frac{P(x)}{Q(x)} \geqslant c\) uvek prebacujemo u oblik \(\frac{P(x) - c \cdot Q(x)}{Q(x)} \geqslant 0\), a zatim analiziramo znak brojioca i imenioca.</p>
      <div class="formula-box">
        \[\frac{P(x)}{Q(x)} \geqslant c \iff \frac{P(x) - c \cdot Q(x)}{Q(x)} \geqslant 0\]
      </div>
      <p><strong>Diskriminanta kvadratnog trinoma:</strong> Za \(ax^2 + bx + c\):</p>
      <div class="formula-box">
        \[D = b^2 - 4ac\]
      </div>
      <p>Ako je \(D < 0\) i \(a < 0\), tada je \(ax^2 + bx + c < 0\) za svako \(x \in \mathbb{R}\).</p>
      <p><strong>Znak proizvoda dva linearna faktora:</strong></p>
      <div class="formula-box">
        \[(x - a)(x - b) < 0 \iff \min(a,b) < x < \max(a,b)\]
      </div>
      <p><strong>Pravilo znakova za razlomak:</strong> Razlomak \(\frac{A}{B}\) je nenegativan kada su \(A\) i \(B\) istog znaka, ili je \(A = 0\) (uz uslov \(B \neq 0\)).</p>
    </div>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <div class="card-title"><span class="icon">&#128202;</span> Vizuelni prikaz</div>
  <div class="canvas-wrap">
    <canvas id="vizCanvas" width="760" height="480"></canvas>
  </div>
  <p class="drag-hint">Grafik funkcije sa brojevnom pravom i analizom znaka</p>
</div>

<!-- Koraci rešenja -->
<div class="card">
  <div class="card-title"><span class="icon">&#128736;</span> Rešenje korak po korak</div>

  <div class="step" id="step1">
    <div class="step-badge">KORAK 1</div>
    <div class="step-content">
      <p><strong>Prebacivanje u standardni oblik</strong></p>
      <p>Oduzimamo 2 sa obe strane nejednačine da bismo dobili oblik pogodniji za analizu znaka:</p>
      <div class="math-block">
        \[\frac{x^2 + x - 15}{x^2 - 2x - 3} - 2 \geqslant 0\]
      </div>
      <p>Svodimo na zajednički imenilac:</p>
      <div class="math-block">
        \[\frac{x^2 + x - 15 - 2(x^2 - 2x - 3)}{x^2 - 2x - 3} \geqslant 0\]
      </div>
    </div>
  </div>

  <div class="step" id="step2">
    <div class="step-badge">KORAK 2</div>
    <div class="step-content">
      <p><strong>Sređivanje brojioca</strong></p>
      <p>Raspisujemo izraz u brojiocu pažljivo distribuirajući \(-2\):</p>
      <div class="math-block">
        \[x^2 + x - 15 - 2x^2 + 4x + 6 = -x^2 + 5x - 9\]
      </div>
      <p>Nejednačina sada glasi:</p>
      <div class="math-block">
        \[\frac{-x^2 + 5x - 9}{x^2 - 2x - 3} \geqslant 0\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Koliko je \(-2 \cdot (x^2 - 2x - 3)\)?</summary>
    <div class="checkpoint-answer">
      \(-2 \cdot x^2 = -2x^2\), \(-2 \cdot (-2x) = +4x\), \(-2 \cdot (-3) = +6\). Dakle: \(-2x^2 + 4x + 6\). &#10004;
    </div>
  </details>

  <div class="step" id="step3">
    <div class="step-badge">KORAK 3</div>
    <div class="step-content">
      <p><strong>Analiza brojioca: \(-x^2 + 5x - 9\)</strong></p>
      <p>Izračunavamo diskriminantu trinoma \(-x^2 + 5x - 9\) (gde je \(a = -1\), \(b = 5\), \(c = -9\)):</p>
      <div class="math-block">
        \[D = b^2 - 4ac = 25 - 4 \cdot (-1) \cdot (-9) = 25 - 36 = -11\]
      </div>
      <p>Pošto je \(D < 0\) i vodeći koeficijent \(a = -1 < 0\), zaključujemo:</p>
      <div class="math-block">
        \[-x^2 + 5x - 9 < 0 \quad \text{za svako } x \in \mathbb{R}\]
      </div>
      <p><strong>Brojilac je uvek strogo negativan</strong> &mdash; parabola je okrenuta nadole i cela je ispod \(x\)-ose.</p>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Kolika je vrednost brojioca u temenu parabole?</summary>
    <div class="checkpoint-answer">
      Teme: \(x_0 = -\frac{b}{2a} = -\frac{5}{-2} = 2{,}5\). Vrednost: \(-(2{,}5)^2 + 5 \cdot 2{,}5 - 9 = -6{,}25 + 12{,}5 - 9 = -2{,}75 < 0\). Čak i maksimalna vrednost brojioca je negativna!
    </div>
  </details>

  <div class="step" id="step4">
    <div class="step-badge">KORAK 4</div>
    <div class="step-content">
      <p><strong>Faktorizacija imenioca: \(x^2 - 2x - 3\)</strong></p>
      <p>Tražimo dva broja čiji je proizvod \(-3\), a zbir \(-2\). To su \(-3\) i \(1\):</p>
      <div class="math-block">
        \[x^2 - 2x - 3 = (x - 3)(x + 1)\]
      </div>
      <p>Nule imenioca: \(x = 3\) i \(x = -1\). U tim tačkama razlomak <strong>nije definisan</strong>.</p>
    </div>
  </div>

  <div class="step" id="step5">
    <div class="step-badge">KORAK 5</div>
    <div class="step-content">
      <p><strong>Analiza znaka razlomka</strong></p>
      <p>Naša nejednačina glasi:</p>
      <div class="math-block">
        \[\frac{\underbrace{-x^2 + 5x - 9}_{\text{uvek } < 0}}{\underbrace{(x-3)(x+1)}_{\text{imenilac}}} \geqslant 0\]
      </div>
      <p>Pošto je brojilac uvek strogo negativan (nikad nije nula), razlomak može biti \(\geqslant 0\) samo ako je i imenilac strogo negativan:</p>
      <div class="math-block">
        \[(x - 3)(x + 1) < 0\]
      </div>
      <p>Analizom znaka po intervalima dobijamo:</p>
      <table style="width:100%;border-collapse:collapse;margin:12px 0;color:#cbd5e1;font-size:0.95rem">
        <tr style="border-bottom:1px solid #334155">
          <td style="padding:8px;font-weight:600">Interval</td>
          <td style="padding:8px;text-align:center">\(x + 1\)</td>
          <td style="padding:8px;text-align:center">\(x - 3\)</td>
          <td style="padding:8px;text-align:center">Proizvod</td>
        </tr>
        <tr style="border-bottom:1px solid #334155">
          <td style="padding:8px">\(x < -1\)</td>
          <td style="padding:8px;text-align:center;color:#f87171">\(-\)</td>
          <td style="padding:8px;text-align:center;color:#f87171">\(-\)</td>
          <td style="padding:8px;text-align:center;color:#4ade80">\(+\)</td>
        </tr>
        <tr style="border-bottom:1px solid #334155;background:rgba(52,211,153,0.08)">
          <td style="padding:8px;color:#4ade80;font-weight:600">\(-1 < x < 3\)</td>
          <td style="padding:8px;text-align:center;color:#4ade80">\(+\)</td>
          <td style="padding:8px;text-align:center;color:#f87171">\(-\)</td>
          <td style="padding:8px;text-align:center;color:#f87171;font-weight:700">\(-\) &#10004;</td>
        </tr>
        <tr>
          <td style="padding:8px">\(x > 3\)</td>
          <td style="padding:8px;text-align:center;color:#4ade80">\(+\)</td>
          <td style="padding:8px;text-align:center;color:#4ade80">\(+\)</td>
          <td style="padding:8px;text-align:center;color:#4ade80">\(+\)</td>
        </tr>
      </table>
      <p>Imenilac je negativan na intervalu \((-1,\, 3)\). Dakle, skup rešenja nejednačine:</p>
      <div class="math-block">
        \[x \in (-1,\, 3)\]
      </div>
    </div>
  </div>

  <div class="step" id="step6">
    <div class="step-badge">KORAK 6</div>
    <div class="step-content">
      <p><strong>Određivanje celobrojnih rešenja</strong></p>
      <p>Otvoreni interval \((-1,\, 3)\) sadrži sledeće cele brojeve:</p>
      <div class="math-block">
        \[x \in \{0,\; 1,\; 2\}\]
      </div>
      <p>Napomena: \(x = -1\) i \(x = 3\) <strong>ne pripadaju</strong> skupu rešenja jer je interval otvoren (imenilac je nula u tim tačkama, pa razlomak nije definisan).</p>
    </div>
  </div>

  <div class="step" id="step7">
    <div class="step-badge">KORAK 7</div>
    <div class="step-content">
      <p><strong>Izračunavanje zbira</strong></p>
      <div class="math-block">
        \[0 + 1 + 2 = 3\]
      </div>
    </div>
  </div>

  <details class="checkpoint">
    <summary>&#9989; Proveri se: Da li sva tri celobrojna rešenja zadovoljavaju polaznu nejednačinu?</summary>
    <div class="checkpoint-answer">
      <p>\(x = 0\!: \;\frac{0 + 0 - 15}{0 - 0 - 3} = \frac{-15}{-3} = 5 \geqslant 2\) &#10004;</p>
      <p>\(x = 1\!: \;\frac{1 + 1 - 15}{1 - 2 - 3} = \frac{-13}{-4} = 3{,}25 \geqslant 2\) &#10004;</p>
      <p>\(x = 2\!: \;\frac{4 + 2 - 15}{4 - 4 - 3} = \frac{-9}{-3} = 3 \geqslant 2\) &#10004;</p>
      <p>Kontrola graničnih vrednosti: \(x = -1\) i \(x = 3\) &mdash; imenilac \(= 0\), nije definisano. &#10004;</p>
    </div>
  </details>
</div>

<!-- Ključni uvid -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">&#128161;</span> Ključni uvid</div>
  <p class="insight-text">
    Ključ za efikasno rešavanje je prepoznavanje da diskriminanta brojioca \(-x^2 + 5x - 9\) bude negativna (\(D = -11\)). To znači da brojilac nema realnih nula i uvek je istog znaka (negativan, jer je vodeći koeficijent negativan). Time se cela analiza svodi samo na ispitivanje znaka imenioca &mdash; znatno jednostavniji problem sa dve cele nule i poznatom faktorizacijom.
  </p>
</div>

<!-- Konačan odgovor -->
<div class="card final-answer-card">
  <div class="card-title"><span class="icon">&#9989;</span> Konačan odgovor</div>
  <div class="final-answer-label">Zbir svih celobrojnih rešenja jednak je:</div>
  <div class="final-answer-value">\(0 + 1 + 2 = 3\)</div>
  <div class="final-answer-label" style="margin-top:12px">Tačan odgovor je (D)</div>
  <div class="final-options">
    <div class="final-option" data-option="A">(A) \(1\)</div>
    <div class="final-option" data-option="B">(B) \(5\)</div>
    <div class="final-option" data-option="C">(C) \(4\)</div>
    <div class="final-option correct-option" data-option="D">(D) \(3\)</div>
    <div class="final-option" data-option="E">(E) \(2\)</div>
  </div>
  <div class="verification">
    <strong>&#128269; Verifikacija:</strong> Za \(x = 0\) izraz daje \(5\), za \(x = 1\) daje \(3{,}25\), za \(x = 2\) daje \(3\) &mdash; svi su \(\geqslant 2\). Za \(x = -2\) izraz daje \(-2{,}6 < 2\), za \(x = 4\) daje \(1 < 2\) &mdash; ne zadovoljavaju. Jedina celobrojna rešenja su \(\{0,\, 1,\, 2\}\), a njihov zbir je \(3\).
  </div>
</div>

<!-- Zamke -->
<div class="card">
  <div class="card-title"><span class="icon">&#9888;</span> Moguće zamke</div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Množenje obe strane imeniocem bez razmatranja znaka.</strong> Ako pomnožimo obe strane sa \(x^2 - 2x - 3\), moramo razlikovati slučaj kada je imenilac pozitivan (znak nejednačine se čuva) i kada je negativan (znak se menja). Sigurnije je prebaciti sve na jednu stranu.
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Uključivanje graničnih tačaka \(x = -1\) i \(x = 3\).</strong> U tim tačkama imenilac je nula, pa razlomak nije definisan. Iako je nejednačina \(\geqslant\) (nestrog), te tačke se ne smeju uključiti. Greška bi dala zbir \(-1 + 0 + 1 + 2 + 3 = 5\), tj. odgovor (B).
    </span>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">&#10060;</span>
    <span class="pitfall-text">
      <strong>Pogrešan predznak pri sređivanju brojioca.</strong> Česta greška je zaboraviti da se \(-2\) distribuira na sve članove: \(-2(x^2 - 2x - 3) = -2x^2 + 4x + 6\), a ne \(-2x^2 - 4x - 6\).
    </span>
  </div>
</div>

<!-- Izazov -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">&#127942;</span> Izazov za razmišljanje</div>
  <p class="challenge-text">
    Šta ako bi nejednačina glasila \(\frac{x^2 + x - 15}{x^2 - 2x - 3} \geqslant 1\)? Koliki bi bio zbir celobrojnih rešenja tada?
  </p>
  <details>
    <summary>&#128161; Nagovještaj</summary>
    <div class="theory-content">
      <p>Nakon prebacivanja dobijamo \(\frac{3x - 12}{(x-3)(x+1)} \geqslant 0\), tj. \(\frac{3(x - 4)}{(x-3)(x+1)} \geqslant 0\). Kritične tačke su \(x = -1\), \(x = 3\), \(x = 4\). Analiza znaka daje: \(x \in (-1, 3) \cup [4, +\infty)\). Celobrojnih rešenja ima beskonačno mnogo, pa zbir nije konačan!</p>
    </div>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width, H = canvas.height;

  const BG = '#1e293b';
  const CARD_BORDER = '#334155';
  const TEXT = '#e2e8f0';
  const MUTED = '#94a3b8';
  const BLUE = '#60a5fa';
  const PURPLE = '#a78bfa';
  const GREEN = '#4ade80';
  const RED = '#f87171';
  const DARK = '#0f172a';

  function draw() {
    ctx.fillStyle = BG;
    ctx.fillRect(0, 0, W, H);

    /* --- GORNJI DEO: Grafik funkcije f(x) = (x^2+x-15)/(x^2-2x-3) --- */
    var graphTop = 38;
    var graphH = 200;
    var graphLeft = 80;
    var graphRight = W - 50;
    var graphW = graphRight - graphLeft;
    var xMin = -3.5, xMax = 5.5;
    var yMinG = -6, yMaxG = 10;

    function toX(x) { return graphLeft + (x - xMin) / (xMax - xMin) * graphW; }
    function toY(y) { return graphTop + graphH - (y - yMinG) / (yMaxG - yMinG) * graphH; }

    /* Naslov */
    ctx.fillStyle = MUTED;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Grafik funkcije f(x) = (x\u00B2+x\u221215) / (x\u00B2\u22122x\u22123)', W / 2, 10);

    /* Koordinatne ose */
    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(graphLeft, toY(0));
    ctx.lineTo(graphRight, toY(0));
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(toX(0), graphTop);
    ctx.lineTo(toX(0), graphTop + graphH);
    ctx.stroke();

    /* Oznake x-ose */
    ctx.fillStyle = MUTED;
    ctx.font = '11px monospace';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (var i = -3; i <= 5; i++) {
      var cx = toX(i);
      ctx.beginPath();
      ctx.moveTo(cx, toY(0) - 3);
      ctx.lineTo(cx, toY(0) + 3);
      ctx.strokeStyle = CARD_BORDER;
      ctx.stroke();
      if (i !== 0) ctx.fillText(String(i), cx, toY(0) + 5);
    }

    /* Oznake y-ose */
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (var j = -4; j <= 8; j += 2) {
      if (j === 0) continue;
      var cy = toY(j);
      if (cy >= graphTop && cy <= graphTop + graphH) {
        ctx.fillText(String(j), toX(0) - 6, cy);
      }
    }

    /* Linija y = 2 */
    ctx.strokeStyle = 'rgba(248,113,113,0.5)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(graphLeft, toY(2));
    ctx.lineTo(graphRight, toY(2));
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = RED;
    ctx.font = 'bold 11px sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText('y = 2', graphRight - 36, toY(2) - 3);

    /* Vertikalne asimptote x = -1 i x = 3 */
    ctx.strokeStyle = 'rgba(167,139,250,0.35)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    [-1, 3].forEach(function(xv) {
      ctx.beginPath();
      ctx.moveTo(toX(xv), graphTop);
      ctx.lineTo(toX(xv), graphTop + graphH);
      ctx.stroke();
    });
    ctx.setLineDash([]);

    /* Oznake asimptota */
    ctx.fillStyle = PURPLE;
    ctx.font = '10px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('x = \u22121', toX(-1), graphTop + graphH + 2);
    ctx.fillText('x = 3', toX(3), graphTop + graphH + 2);

    /* Funkcija f(x) */
    function f(x) {
      var d = x * x - 2 * x - 3;
      if (Math.abs(d) < 0.03) return null;
      return (x * x + x - 15) / d;
    }

    var segments = [[-3.5, -1.08], [-0.92, 2.92], [3.08, 5.5]];
    ctx.lineWidth = 2.5;
    ctx.strokeStyle = BLUE;
    segments.forEach(function(seg) {
      ctx.beginPath();
      var started = false;
      for (var x = seg[0]; x <= seg[1]; x += 0.015) {
        var y = f(x);
        if (y === null || y < yMinG - 3 || y > yMaxG + 3) { started = false; continue; }
        var px = toX(x), py = toY(y);
        if (!started) { ctx.moveTo(px, py); started = true; }
        else { ctx.lineTo(px, py); }
      }
      ctx.stroke();
    });

    /* Tačke za celobrojna rešenja na grafiku */
    [0, 1, 2].forEach(function(xi) {
      var y = f(xi);
      if (y === null) return;
      var px = toX(xi), py = toY(y);
      ctx.beginPath();
      ctx.arc(px, py, 5, 0, Math.PI * 2);
      ctx.fillStyle = GREEN;
      ctx.fill();
      ctx.strokeStyle = '#166534';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.fillStyle = GREEN;
      ctx.font = 'bold 10px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'bottom';
      ctx.fillText('(' + xi + ', ' + (Math.round(y * 100) / 100) + ')', px, py - 7);
    });

    /* Poluosenčena oblast gde je f(x) >= 2 na intervalu (-1, 3) */
    ctx.fillStyle = 'rgba(74,222,128,0.08)';
    ctx.beginPath();
    var yLine = toY(2);
    for (var x2 = -0.92; x2 <= 2.92; x2 += 0.015) {
      var yv = f(x2);
      if (yv === null || yv < 2) continue;
      var px2 = toX(x2), py2 = toY(yv);
      if (x2 <= -0.9) ctx.moveTo(px2, yLine);
      ctx.lineTo(px2, py2);
    }
    ctx.lineTo(toX(2.92), yLine);
    ctx.closePath();
    ctx.fill();

    /* ===== DONJI DEO: Brojevna prava sa analizom znaka ===== */
    var secTop = graphTop + graphH + 30;

    ctx.fillStyle = MUTED;
    ctx.font = 'bold 13px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('Analiza znaka na brojnoj pravoj', W / 2, secTop);

    var nlLeft = 100, nlRight = W - 60;
    function numX(n) { return nlLeft + (n - xMin) / (xMax - xMin) * (nlRight - nlLeft); }

    /* Red 1: Brojilac */
    var r1Y = secTop + 32;
    ctx.fillStyle = BLUE;
    ctx.font = 'bold 11px sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillText('\u2212x\u00B2+5x\u22129:', nlLeft - 8, r1Y);

    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(nlLeft, r1Y);
    ctx.lineTo(nlRight, r1Y);
    ctx.stroke();

    ctx.fillStyle = RED;
    ctx.font = 'bold 15px sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u2013', (nlLeft + nlRight) / 2, r1Y);
    ctx.fillStyle = MUTED;
    ctx.font = 'italic 10px sans-serif';
    ctx.textBaseline = 'top';
    ctx.fillText('(D < 0, a < 0 \u2192 uvek negativan)', (nlLeft + nlRight) / 2, r1Y + 10);

    /* Red 2: Imenilac (x-3)(x+1) */
    var r2Y = r1Y + 40;
    ctx.fillStyle = PURPLE;
    ctx.font = 'bold 11px sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillText('(x\u22123)(x+1):', nlLeft - 8, r2Y);

    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(nlLeft, r2Y);
    ctx.lineTo(nlRight, r2Y);
    ctx.stroke();

    [-1, 3].forEach(function(n) {
      var cx = numX(n);
      ctx.beginPath();
      ctx.arc(cx, r2Y, 5, 0, Math.PI * 2);
      ctx.fillStyle = DARK;
      ctx.fill();
      ctx.strokeStyle = PURPLE;
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.fillStyle = PURPLE;
      ctx.font = 'bold 10px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText(String(n), cx, r2Y + 8);
    });

    ctx.font = 'bold 15px sans-serif';
    ctx.textBaseline = 'middle';
    ctx.textAlign = 'center';
    ctx.fillStyle = GREEN;
    ctx.fillText('+', (nlLeft + numX(-1)) / 2, r2Y);
    ctx.fillStyle = RED;
    ctx.fillText('\u2013', (numX(-1) + numX(3)) / 2, r2Y);
    ctx.fillStyle = GREEN;
    ctx.fillText('+', (numX(3) + nlRight) / 2, r2Y);

    /* Red 3: Razlomak */
    var r3Y = r2Y + 46;
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 11px sans-serif';
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillText('Razlomak:', nlLeft - 8, r3Y);

    ctx.strokeStyle = CARD_BORDER;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(nlLeft, r3Y);
    ctx.lineTo(nlRight, r3Y);
    ctx.stroke();

    [-1, 3].forEach(function(n) {
      var cx = numX(n);
      ctx.beginPath();
      ctx.arc(cx, r3Y, 5, 0, Math.PI * 2);
      ctx.fillStyle = DARK;
      ctx.fill();
      ctx.strokeStyle = RED;
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.fillStyle = RED;
      ctx.font = '8px sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('ND', cx, r3Y);
    });

    ctx.font = 'bold 15px sans-serif';
    ctx.textBaseline = 'middle';
    ctx.textAlign = 'center';
    ctx.fillStyle = RED;
    ctx.fillText('\u2013', (nlLeft + numX(-1)) / 2, r3Y);
    ctx.fillStyle = GREEN;
    ctx.fillText('+', (numX(-1) + numX(3)) / 2, r3Y);
    ctx.fillStyle = RED;
    ctx.fillText('\u2013', (numX(3) + nlRight) / 2, r3Y);

    /* Zelena linija za interval rešenja */
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(numX(-1) + 7, r3Y + 14);
    ctx.lineTo(numX(3) - 7, r3Y + 14);
    ctx.stroke();

    /* Tačke 0, 1, 2 */
    [0, 1, 2].forEach(function(n) {
      var cx = numX(n);
      ctx.beginPath();
      ctx.arc(cx, r3Y, 4, 0, Math.PI * 2);
      ctx.fillStyle = GREEN;
      ctx.fill();
    });

    /* Interval i zbir */
    var bottomY = r3Y + 34;
    ctx.fillStyle = GREEN;
    ctx.font = 'bold 12px sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('x \u2208 (\u22121, 3)  \u2192  Celobrojna rešenja: {0, 1, 2}  \u2192  Zbir = 3', (nlLeft + nlRight) / 2, bottomY);
  }

  draw();

  /* Klik na odgovore */
  document.addEventListener('DOMContentLoaded', function() {
    var options = document.querySelectorAll('.answer-option');
    options.forEach(function(opt) {
      opt.addEventListener('click', function() {
        options.forEach(function(o) { o.classList.remove('correct'); o.style.borderColor = ''; });
        if (opt.getAttribute('data-option') === 'D') {
          opt.classList.add('correct');
        } else {
          opt.style.borderColor = '#f87171';
          setTimeout(function() { opt.style.borderColor = ''; }, 1200);
        }
      });
    });

    var steps = document.querySelectorAll('.step');
    steps.forEach(function(step) {
      step.addEventListener('click', function() {
        steps.forEach(function(s) { s.classList.remove('active'); });
        step.classList.add('active');
      });
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Zbir celobrojnih rešenja racionalne nejednačine","subject":"math","unit":"algebra","topic_tags":["racionalne nejednačine","analiza znaka","faktorizacija","diskriminanta","kvadratni trinom"]}
BRAINSPARK_META-->