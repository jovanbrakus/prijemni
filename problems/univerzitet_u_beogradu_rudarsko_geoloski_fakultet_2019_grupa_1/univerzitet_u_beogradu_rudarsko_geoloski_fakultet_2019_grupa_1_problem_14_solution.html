<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Potapanje kocke u bazen — BrainSpark</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Bazen oblika kvadra, dno 3m × 4m, voda do visine 1,5m.
Potopi se betonska kocka ivice 2m koja potone na dno.
Koliko se nivo vode podigne?

STEP 1: Osnovni podaci
  Dno bazena: 3 × 4 = 12 m²
  Zapremina vode: 12 × 1,5 = 18 m³
  Kocka ivice 2m: zapremina = 2³ = 8 m³, osnova = 2 × 2 = 4 m²

STEP 2: Kocka sedi na dnu. Visina kocke = 2m.
  Od nivoa 0 do 2m: kocka zauzima 4 m² od ukupnih 12 m²
  Slobodan presek za vodu od 0 do 2m: 12 − 4 = 8 m²
  Iznad 2m: ceo presek 12 m² je slobodan

STEP 3: Neka je novi nivo vode h. Pretpostavljamo h > 2m.
  Zapremina vode = 8 × 2 + 12 × (h − 2)
                  = 16 + 12h − 24
                  = 12h − 8

STEP 4: 12h − 8 = 18
  12h = 26
  h = 26/12 = 13/6 ≈ 2,167 m

STEP 5: Podizanje nivoa = h − 1,5 = 13/6 − 3/2 = 13/6 − 9/6 = 4/6 = 2/3 m

ANSWER: C) 2/3 m
</script>
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 2rem 1rem;
  }
  .container { max-width: 1200px; margin: 0 auto; }
  h1 {
    text-align: center;
    font-size: 2.2rem;
    margin-bottom: 0.3rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .subtitle {
    text-align: center;
    color: #94a3b8;
    margin-bottom: 2rem;
    font-size: 1.05rem;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 1.8rem;
    margin-bottom: 1.5rem;
  }
  .card h2 {
    font-size: 1.35rem;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .badge {
    display: inline-block;
    padding: 0.15rem 0.65rem;
    border-radius: 999px;
    font-size: 0.78rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  .badge-blue { background: rgba(96,165,250,0.15); color: #60a5fa; }
  .badge-purple { background: rgba(167,139,250,0.15); color: #a78bfa; }
  .badge-green { background: rgba(52,211,153,0.15); color: #34d399; }
  .badge-pink { background: rgba(244,114,182,0.15); color: #f472b6; }

  .problem-statement {
    border-left: 4px solid #60a5fa;
  }
  .problem-statement p { font-size: 1.12rem; margin-bottom: 1rem; }

  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.7rem;
    margin-top: 1rem;
  }
  .given-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 0.7rem 1rem;
    text-align: center;
    font-size: 1.05rem;
  }
  .given-item.answer-option { cursor: default; }

  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 0.5rem 0 0.5rem 2.5rem;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    width: 1.8rem;
    height: 1.8rem;
    background: rgba(96,165,250,0.15);
    color: #60a5fa;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
  }

  details {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    margin: 0.7rem 0;
    padding: 0;
  }
  details summary {
    padding: 0.8rem 1.2rem;
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    list-style: none;
  }
  details summary::before {
    content: '\25B8 ';
  }
  details[open] summary::before {
    content: '\25BE ';
  }
  details .details-body {
    padding: 0 1.2rem 1rem;
  }

  .step-card {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 1.3rem 1.5rem;
    margin-bottom: 1rem;
  }
  .step-card h3 {
    font-size: 1.08rem;
    margin-bottom: 0.6rem;
    color: #60a5fa;
  }
  .step-card p, .step-card ul { margin-bottom: 0.5rem; }
  .step-card ul { padding-left: 1.3rem; }

  .checkpoint {
    background: rgba(52,211,153,0.08);
    border: 1px solid rgba(52,211,153,0.25);
    border-radius: 10px;
    padding: 0.8rem 1.2rem;
    margin: 0.8rem 0;
    color: #34d399;
    font-weight: 600;
  }

  .final-answer-box {
    background: rgba(52,211,153,0.08);
    border: 2px solid #34d399;
    border-radius: 14px;
    padding: 1.8rem;
    text-align: center;
  }
  .final-answer-box .answer-label {
    font-size: 1rem;
    color: #34d399;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
  }
  .final-answer-box .answer-value {
    font-size: 1.8rem;
    font-weight: 700;
    color: #4ade80;
  }

  .options-row {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1.2rem;
    flex-wrap: wrap;
  }
  .option-box {
    padding: 0.6rem 1.4rem;
    border-radius: 10px;
    font-size: 1.05rem;
    font-weight: 600;
    border: 2px solid #334155;
    color: #94a3b8;
    background: #0f172a;
  }
  .option-box.correct {
    border-color: #4ade80;
    color: #4ade80;
    background: rgba(74,222,128,0.1);
  }

  .insight-box {
    border-left: 4px solid #a78bfa;
  }
  .pitfall-item {
    background: rgba(244,114,182,0.06);
    border: 1px solid rgba(244,114,182,0.2);
    border-radius: 10px;
    padding: 0.9rem 1.2rem;
    margin-bottom: 0.7rem;
  }
  .pitfall-item strong { color: #f472b6; }

  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    max-width: 100%;
  }

  @media (max-width: 700px) {
    body { padding: 1rem 0.5rem; }
    h1 { font-size: 1.5rem; }
    .card { padding: 1.2rem; }
    .given-grid { grid-template-columns: repeat(2, 1fr); }
    .options-row { gap: 0.5rem; }
    .option-box { padding: 0.5rem 1rem; font-size: 0.95rem; }
  }
</style>
</head>
<body>
<div class="container">

  <!-- TITLE -->
  <h1>Potapanje kocke u bazen</h1>
  <p class="subtitle">Zapremina i nivo vode u bazenu oblika kvadra</p>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <h2><span class="badge badge-blue">Zadatak</span> Tekst zadatka</h2>
    <p>U bazenu oblika kvadra, čije dno ima dimenzije \(3\,\text{m} \times 4\,\text{m}\), nalazi se voda do visine \(1{,}5\,\text{m}\). U bazen se potopi betonska kocka ivice \(2\,\text{m}\) koja potone na dno. Bazen je dovoljno dubok tako da pri potapanju sva voda ostane u bazenu.</p>
    <p>Nivo vode u bazenu će se podići za:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">(A) \(\dfrac{1}{2}\,\text{m}\)</div>
      <div class="given-item answer-option" data-option="B">(B) \(\dfrac{3}{4}\,\text{m}\)</div>
      <div class="given-item answer-option" data-option="C">(C) \(\dfrac{2}{3}\,\text{m}\)</div>
      <div class="given-item answer-option" data-option="D">(D) \(1\,\text{m}\)</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <h2><span class="badge badge-purple">Plan</span> Kako ćemo rešiti</h2>
    <ol class="plan-list">
      <li>Izračunati površinu dna bazena i početnu zapreminu vode.</li>
      <li>Odrediti kako kocka na dnu bazena menja slobodan poprečni presek za vodu.</li>
      <li>Postaviti jednačinu za zapreminu vode sa novim nivoom \(h\).</li>
      <li>Rešiti jednačinu i izračunati za koliko se nivo podigao.</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <div class="card">
    <h2><span class="badge badge-purple">Teorija</span> Podsetnik</h2>
    <details>
      <summary>Zapremina kvadra</summary>
      <div class="details-body">
        <p>Kvadar dimenzija \(a \times b \times c\) ima zapreminu:</p>
        \[V = a \cdot b \cdot c\]
        <p>Za bazen sa dnom \(3\,\text{m} \times 4\,\text{m}\) i visinom vode \(h\), zapremina vode iznosi \(V = 12h\) kubnih metara.</p>
      </div>
    </details>
    <details>
      <summary>Princip očuvanja zapremine vode</summary>
      <div class="details-body">
        <p>Kada čvrsto telo potone na dno bazena, voda se ne gubi niti nastaje — njena zapremina ostaje ista. Menja se samo oblik prostora koji voda zauzima.</p>
        <p>Ključni princip: <strong>zapremina vode pre potapanja = zapremina vode posle potapanja</strong>.</p>
      </div>
    </details>
    <details>
      <summary>Analiza po zonama visine</summary>
      <div class="details-body">
        <p>Kada se telo koje ne ispunjava ceo poprečni presek bazena postavi na dno, prostor u bazenu se deli na zone:</p>
        <ul style="padding-left:1.3rem;">
          <li><strong>Zona tela</strong> (od dna do vrha tela): slobodan presek = ukupan presek − presek tela</li>
          <li><strong>Zona iznad tela</strong>: slobodan presek = ukupan presek bazena</li>
        </ul>
        <p>Zapremina vode se računa kao zbir zapremina u svakoj zoni.</p>
      </div>
    </details>
  </div>

  <!-- VISUAL AID: 3D Pool Diagram -->
  <div class="card">
    <h2><span class="badge badge-green">Vizuelni prikaz</span> 3D dijagram bazena</h2>
    <canvas id="poolCanvas" width="700" height="500"></canvas>
  </div>

  <!-- STEP BY STEP -->
  <div class="card">
    <h2><span class="badge badge-blue">Rešenje</span> Korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-card">
      <h3>Korak 1 — Početni podaci</h3>
      <p>Zapišimo sve poznate veličine:</p>
      <ul>
        <li>Dno bazena: \(3\,\text{m} \times 4\,\text{m}\), površina \(P_{\text{bazena}} = 12\,\text{m}^2\)</li>
        <li>Početna visina vode: \(h_0 = 1{,}5\,\text{m}\)</li>
        <li>Početna zapremina vode: \(V_{\text{vode}} = 12 \cdot 1{,}5 = 18\,\text{m}^3\)</li>
        <li>Kocka ivice \(a = 2\,\text{m}\): osnova \(2 \times 2 = 4\,\text{m}^2\), zapremina \(8\,\text{m}^3\)</li>
      </ul>
    </div>

    <div class="checkpoint">
      Kontrolna tačka 1: Zapremina vode je \(18\,\text{m}^3\). Kocka zauzima \(4\,\text{m}^2\) na dnu bazena. Sve jasno?
    </div>

    <!-- Step 2 -->
    <div class="step-card">
      <h3>Korak 2 — Raspodela prostora u bazenu</h3>
      <p>Kocka sedi na dnu bazena. Njena visina je \(2\,\text{m}\). Podelimo bazen na dve zone po visini:</p>
      <ul>
        <li><strong>Donja zona</strong> (od \(0\) do \(2\,\text{m}\)): kocka zauzima \(4\,\text{m}^2\), pa za vodu ostaje \(12 - 4 = 8\,\text{m}^2\)</li>
        <li><strong>Gornja zona</strong> (iznad \(2\,\text{m}\)): ceo presek bazena \(12\,\text{m}^2\) je slobodan za vodu</li>
      </ul>
    </div>

    <!-- Step 3 -->
    <div class="step-card">
      <h3>Korak 3 — Jednačina za novi nivo vode</h3>
      <p>Neka je \(h\) novi nivo vode posle potapanja kocke. Pretpostavljamo da je \(h > 2\,\text{m}\) (voda prelazi vrh kocke).</p>
      <p>Zapremina vode se računa kao zbir po zonama:</p>
      \[V_{\text{vode}} = \underbrace{8 \cdot 2}_{\text{donja zona}} + \underbrace{12 \cdot (h - 2)}_{\text{gornja zona}}\]
      \[18 = 16 + 12(h - 2)\]
      \[18 = 16 + 12h - 24\]
      \[18 = 12h - 8\]
    </div>

    <div class="checkpoint">
      Kontrolna tačka 2: Jednačina glasi \(12h - 8 = 18\). Proverimo: u donjoj zoni (\(0\) do \(2\,\text{m}\)) voda zauzima \(8 \times 2 = 16\,\text{m}^3\), a ostatak je u gornjoj zoni.
    </div>

    <!-- Step 4 -->
    <div class="step-card">
      <h3>Korak 4 — Rešavanje jednačine</h3>
      <p>Rešavamo po \(h\):</p>
      \[12h - 8 = 18\]
      \[12h = 26\]
      \[h = \frac{26}{12} = \frac{13}{6}\,\text{m}\]
    </div>

    <!-- Step 5 -->
    <div class="step-card">
      <h3>Korak 5 — Podizanje nivoa</h3>
      <p>Nivo vode se podigao za:</p>
      \[\Delta h = h - h_0 = \frac{13}{6} - \frac{3}{2} = \frac{13}{6} - \frac{9}{6} = \frac{4}{6} = \frac{2}{3}\,\text{m}\]
    </div>

    <div class="checkpoint">
      Kontrolna tačka 3: Proverimo pretpostavku: \(h = \frac{13}{6} \approx 2{,}167\,\text{m} > 2\,\text{m}\). Pretpostavka da voda prelazi vrh kocke je tačna.
    </div>

    <!-- Verification -->
    <div class="step-card">
      <h3>Provera — Da li se zapremina slaže?</h3>
      <p>Donja zona (\(0\) do \(2\,\text{m}\)): \(8 \cdot 2 = 16\,\text{m}^3\)</p>
      <p>Gornja zona (\(2\,\text{m}\) do \(\frac{13}{6}\,\text{m}\)): \(12 \cdot \left(\frac{13}{6} - 2\right) = 12 \cdot \frac{1}{6} = 2\,\text{m}^3\)</p>
      <p>Ukupno: \(16 + 2 = 18\,\text{m}^3\) — tačno se poklapa sa početnom zapreminom vode.</p>
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="card insight-box">
    <h2><span class="badge badge-purple">Ključni uvid</span></h2>
    <p>Ovaj zadatak zahteva pažljivu analizu <strong>geometrije preseka</strong>. Česta greška je da se zapremina kocke jednostavno podeli površinom bazena: \(\frac{8}{12} = \frac{2}{3}\,\text{m}\). Taj račun daje tačan rezultat <strong>samo po slučaju</strong> — jer zanemaruje činjenicu da kocka ne zauzima ceo presek bazena.</p>
    <p style="margin-top:0.5rem;">Ispravan pristup je analiza po zonama visine: u donjoj zoni (gde je kocka) voda ima manji slobodan presek (\(8\,\text{m}^2\)), a u gornjoj zoni (iznad kocke) ceo presek (\(12\,\text{m}^2\)). Rešenje se dobija iz jednačine očuvanja zapremine vode.</p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card">
    <h2><span class="badge badge-green">Rezultat</span> Konačan odgovor</h2>
    <div class="final-answer-box">
      <div class="answer-label">Nivo vode se podiže za</div>
      <div class="answer-value">\(\dfrac{2}{3}\,\text{m}\)</div>
    </div>
    <div class="options-row">
      <div class="option-box">(A) 1/2 m</div>
      <div class="option-box">(B) 3/4 m</div>
      <div class="option-box correct">(C) 2/3 m</div>
      <div class="option-box">(D) 1 m</div>
    </div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <h2><span class="badge badge-pink">Zamke</span> Česte greške</h2>
    <div class="pitfall-item">
      <strong>Deljenje zapremine kocke celom površinom dna:</strong> Naivan pristup \(\frac{V_{\text{kocke}}}{P_{\text{bazena}}} = \frac{8}{12} = \frac{2}{3}\) daje tačan broj, ali iz pogrešnog razloga. To bi bio ispravan račun samo kad bi kocka zauzimala ceo presek bazena. Ovde daje isti rezultat slučajno — na ispitu koristite metodu po zonama da budete sigurni.
    </div>
    <div class="pitfall-item">
      <strong>Zaboravljanje da voda prelazi vrh kocke:</strong> Početni nivo je \(1{,}5\,\text{m}\), a kocka je visoka \(2\,\text{m}\). Iako je kocka viša od nivoa vode, voda se potiskuje i penje — mora se proveriti da li konačan nivo premašuje \(2\,\text{m}\) (da, iznosi \(\approx 2{,}17\,\text{m}\)).
    </div>
    <div class="pitfall-item">
      <strong>Greška u postavljanju jednačine:</strong> Zapremina vode u donjoj zoni nije \(12 \cdot 2 = 24\), već \((12 - 4) \cdot 2 = 16\), jer kocka zauzima \(4\,\text{m}^2\) poprečnog preseka u toj zoni.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <h2><span class="badge badge-pink">Bonus</span> Dodatni izazov</h2>
    <p>Šta ako je kocka ivice \(3\,\text{m}\)? (Ima istu širinu kao kraća stranica bazena — potpuno zauzima jednu dimenziju.)</p>
    <details>
      <summary>Pogledaj rešenje</summary>
      <div class="details-body">
        <p>Kocka ivice \(3\,\text{m}\): osnova \(3 \times 3 = 9\,\text{m}^2\), visina \(3\,\text{m}\).</p>
        <p>Kocka staje u bazen (dno je \(3 \times 4\), a osnova kocke \(3 \times 3\)).</p>
        <p>Donja zona (\(0\) do \(3\,\text{m}\)): slobodan presek \(= 12 - 9 = 3\,\text{m}^2\).</p>
        <p>Neka \(h > 3\): \(V = 3 \cdot 3 + 12 \cdot (h - 3) = 9 + 12h - 36 = 12h - 27\).</p>
        <p>\(12h - 27 = 18 \implies 12h = 45 \implies h = \frac{45}{12} = \frac{15}{4} = 3{,}75\,\text{m}\).</p>
        <p>Podizanje: \(3{,}75 - 1{,}5 = 2{,}25\,\text{m}\).</p>
      </div>
    </details>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('poolCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width, H = canvas.height;

  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // 3D isometric pool parameters
  var ox = 160, oy = 340;  // origin (front-bottom-left corner)
  var sx = 70, sy = 50;     // scale: pixels per meter
  var ix = 1, iy = -0.35;   // isometric x-axis direction (depth)
  var poolW = 4, poolD = 3, poolH_draw = 3.5;
  var cubeA = 2;
  var waterH0 = 1.5;
  var waterH1 = 13/6;

  function to2D(x, y, z) {
    return {
      px: ox + x * sx + y * sx * ix,
      py: oy - z * sy + y * sy * iy
    };
  }

  function drawFace(pts, fill, stroke, lineW) {
    ctx.beginPath();
    ctx.moveTo(pts[0].px, pts[0].py);
    for (var i = 1; i < pts.length; i++) ctx.lineTo(pts[i].px, pts[i].py);
    ctx.closePath();
    if (fill) { ctx.fillStyle = fill; ctx.fill(); }
    if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = lineW || 1.5; ctx.stroke(); }
  }

  // Pool walls (back, left, right, front - partially transparent)
  // Back wall
  var bbl = to2D(0, poolD, 0), bbr = to2D(poolW, poolD, 0);
  var btl = to2D(0, poolD, poolH_draw), btr = to2D(poolW, poolD, poolH_draw);
  drawFace([bbl, bbr, btr, btl], 'rgba(51,65,85,0.5)', '#475569', 1.5);

  // Left wall
  var lfl = to2D(0, 0, 0), lbl = to2D(0, poolD, 0);
  var ltl = to2D(0, poolD, poolH_draw), ltr = to2D(0, 0, poolH_draw);
  drawFace([lfl, lbl, ltl, ltr], 'rgba(51,65,85,0.4)', '#475569', 1.5);

  // Floor
  var ffl = to2D(0, 0, 0), ffr = to2D(poolW, 0, 0);
  var fbr = to2D(poolW, poolD, 0), fbl = to2D(0, poolD, 0);
  drawFace([ffl, ffr, fbr, fbl], 'rgba(30,41,59,0.7)', '#475569', 1);

  // Cube on the floor (draw back face, left face, top face)
  var cubeX = 1, cubeY = 0.5; // offset from corner
  var c000 = to2D(cubeX, cubeY, 0);
  var c100 = to2D(cubeX + cubeA, cubeY, 0);
  var c110 = to2D(cubeX + cubeA, cubeY + cubeA, 0);
  var c010 = to2D(cubeX, cubeY + cubeA, 0);
  var c001 = to2D(cubeX, cubeY, cubeA);
  var c101 = to2D(cubeX + cubeA, cubeY, cubeA);
  var c111 = to2D(cubeX + cubeA, cubeY + cubeA, cubeA);
  var c011 = to2D(cubeX, cubeY + cubeA, cubeA);

  // Cube back face
  drawFace([c010, c110, c111, c011], 'rgba(120,113,108,0.6)', '#78716c', 1.5);
  // Cube left face
  drawFace([c000, c010, c011, c001], 'rgba(140,133,128,0.6)', '#78716c', 1.5);
  // Cube top face
  drawFace([c001, c101, c111, c011], 'rgba(168,162,158,0.7)', '#a8a29e', 1.5);

  // Water — new level (above cube)
  // Water back face (full width, from 0 to waterH1)
  // We draw water above the cube only for the visible region
  // Water top surface
  var wt_fl = to2D(0, 0, waterH1);
  var wt_fr = to2D(poolW, 0, waterH1);
  var wt_br = to2D(poolW, poolD, waterH1);
  var wt_bl = to2D(0, poolD, waterH1);
  drawFace([wt_fl, wt_fr, wt_br, wt_bl], 'rgba(96,165,250,0.25)', 'rgba(96,165,250,0.5)', 1);

  // Water front face (from 0 to waterH1)
  var wf_bl = to2D(0, 0, 0);
  var wf_br = to2D(poolW, 0, 0);
  var wf_tr = to2D(poolW, 0, waterH1);
  var wf_tl = to2D(0, 0, waterH1);
  drawFace([wf_bl, wf_br, wf_tr, wf_tl], 'rgba(96,165,250,0.18)', 'rgba(96,165,250,0.4)', 1);

  // Water right face
  var wr_fl = to2D(poolW, 0, 0);
  var wr_bl = to2D(poolW, poolD, 0);
  var wr_tl = to2D(poolW, poolD, waterH1);
  var wr_tr = to2D(poolW, 0, waterH1);
  drawFace([wr_fl, wr_bl, wr_tl, wr_tr], 'rgba(96,165,250,0.15)', 'rgba(96,165,250,0.35)', 1);

  // Front wall outline (transparent, so we see inside)
  var ffl2 = to2D(0, 0, 0), ffr2 = to2D(poolW, 0, 0);
  var ftl = to2D(0, 0, poolH_draw), ftr = to2D(poolW, 0, poolH_draw);
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 2;
  ctx.setLineDash([6, 4]);
  ctx.beginPath();
  ctx.moveTo(ftl.px, ftl.py);
  ctx.lineTo(ffl2.px, ffl2.py);
  ctx.lineTo(ffr2.px, ffr2.py);
  ctx.lineTo(ftr.px, ftr.py);
  ctx.stroke();
  ctx.setLineDash([]);

  // Right wall outline
  var rfl = to2D(poolW, 0, 0), rbl = to2D(poolW, poolD, 0);
  var rtl = to2D(poolW, poolD, poolH_draw), rtr = to2D(poolW, 0, poolH_draw);
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(rtr.px, rtr.py);
  ctx.lineTo(rtl.px, rtl.py);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(ftl.px, ftl.py);
  ctx.lineTo(btl.px, btl.py);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(ftr.px, ftr.py);
  ctx.lineTo(btr.px, btr.py);
  ctx.stroke();

  // Dashed line for old water level
  var old_fl = to2D(0, 0, waterH0);
  var old_fr = to2D(poolW, 0, waterH0);
  ctx.strokeStyle = 'rgba(96,165,250,0.6)';
  ctx.lineWidth = 1.5;
  ctx.setLineDash([5, 5]);
  ctx.beginPath();
  ctx.moveTo(old_fl.px, old_fl.py);
  ctx.lineTo(old_fr.px, old_fr.py);
  ctx.stroke();
  ctx.setLineDash([]);

  // Dimension arrows and labels
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';

  // Pool width label (4m) along front bottom
  var lbl_w1 = to2D(2, -0.5, 0);
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('4 m', lbl_w1.px, lbl_w1.py + 4);

  // Pool depth label (3m) along left side
  var lbl_d1 = to2D(-0.6, 1.5, 0);
  ctx.fillStyle = '#94a3b8';
  ctx.save();
  ctx.translate(lbl_d1.px, lbl_d1.py);
  ctx.rotate(-0.34);
  ctx.fillText('3 m', 0, 0);
  ctx.restore();

  // Cube label
  var lbl_cube = to2D(cubeX + 1, cubeY + 1, cubeA + 0.25);
  ctx.fillStyle = '#a8a29e';
  ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
  ctx.fillText('Kocka 2m', lbl_cube.px, lbl_cube.py);

  // Old water level label
  ctx.fillStyle = 'rgba(96,165,250,0.8)';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  var lbl_old = to2D(poolW + 0.3, 0, waterH0);
  ctx.fillText('h\u2080 = 1,5 m', lbl_old.px, lbl_old.py + 4);

  // New water level label
  ctx.fillStyle = '#60a5fa';
  ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
  var lbl_new = to2D(poolW + 0.3, 0, waterH1);
  ctx.fillText('h = 13/6 \u2248 2,17 m', lbl_new.px, lbl_new.py + 4);

  // Delta h arrow on the right side
  var arr_bot = to2D(poolW + 0.15, 0, waterH0);
  var arr_top = to2D(poolW + 0.15, 0, waterH1);
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 2.5;
  ctx.beginPath();
  ctx.moveTo(arr_bot.px, arr_bot.py);
  ctx.lineTo(arr_top.px, arr_top.py);
  ctx.stroke();
  // Arrowheads
  ctx.beginPath();
  ctx.moveTo(arr_top.px - 5, arr_top.py + 6);
  ctx.lineTo(arr_top.px, arr_top.py);
  ctx.lineTo(arr_top.px + 5, arr_top.py + 6);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(arr_bot.px - 5, arr_bot.py - 6);
  ctx.lineTo(arr_bot.px, arr_bot.py);
  ctx.lineTo(arr_bot.px + 5, arr_bot.py - 6);
  ctx.stroke();
  // Delta h label
  var mid_h = to2D(poolW + 0.15, 0, (waterH0 + waterH1) / 2);
  ctx.fillStyle = '#4ade80';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('\u0394h = 2/3 m', mid_h.px + 12, mid_h.py + 4);

  // Title
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.fillStyle = '#94a3b8';
  ctx.textAlign = 'center';
  ctx.fillText('Presek bazena sa kockom na dnu', W / 2, 28);

  // Zone annotations (bottom left area)
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';

  // Zone info box
  var bx = 20, by = 390;
  ctx.fillStyle = 'rgba(30,41,59,0.85)';
  ctx.beginPath();
  ctx.roundRect(bx, by, 280, 100, 8);
  ctx.fill();
  ctx.strokeStyle = '#334155';
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.roundRect(bx, by, 280, 100, 8);
  ctx.stroke();

  ctx.fillStyle = '#e2e8f0';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.fillText('Raspodela prostora:', bx + 12, by + 22);
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('Donja zona (0 \u2013 2m):', bx + 12, by + 44);
  ctx.fillStyle = '#60a5fa';
  ctx.fillText('slobodno 12 \u2212 4 = 8 m\u00B2', bx + 150, by + 44);
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('Gornja zona (2 \u2013 h m):', bx + 12, by + 64);
  ctx.fillStyle = '#60a5fa';
  ctx.fillText('slobodno 12 m\u00B2', bx + 158, by + 64);
  ctx.fillStyle = '#34d399';
  ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
  ctx.fillText('V = 8\u00B72 + 12\u00B7(h\u22122) = 18 m\u00B3', bx + 12, by + 88);

  // Right info box: answer
  var bx2 = 420, by2 = 390;
  ctx.fillStyle = 'rgba(52,211,153,0.08)';
  ctx.beginPath();
  ctx.roundRect(bx2, by2, 260, 100, 8);
  ctx.fill();
  ctx.strokeStyle = 'rgba(52,211,153,0.3)';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.roundRect(bx2, by2, 260, 100, 8);
  ctx.stroke();

  ctx.fillStyle = '#34d399';
  ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Rešenje', bx2 + 130, by2 + 24);
  ctx.fillStyle = '#e2e8f0';
  ctx.font = '13px Segoe UI, system-ui, sans-serif';
  ctx.fillText('12h \u2212 8 = 18  \u2192  h = 13/6 m', bx2 + 130, by2 + 50);
  ctx.fillStyle = '#4ade80';
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.fillText('\u0394h = 13/6 \u2212 3/2 = 2/3 m', bx2 + 130, by2 + 80);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Potapanje betonske kocke u bazen oblika kvadra","subject":"math","unit":"stereometry","topic_tags":["volume","rectangular_prism","water_level","displacement","cube"]}
BRAINSPARK_META-->