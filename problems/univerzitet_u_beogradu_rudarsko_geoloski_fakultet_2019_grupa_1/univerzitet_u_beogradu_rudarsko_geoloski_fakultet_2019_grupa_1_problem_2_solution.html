<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Racionalizacija izraza sa korenima — BrainSpark</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Vrednost izraza 3/(√3+3) + 3/(√3+2) + 7/(√3+1)

STEP 1: Racionalizuj prvi razlomak 3/(√3+3)
  Konjugat imenitelja: (√3 - 3)
  Brojilac: 3(√3 - 3) = 3√3 - 9
  Imenilac: (√3+3)(√3-3) = 3 - 9 = -6
  Rezultat: (3√3 - 9)/(-6) = (9 - 3√3)/6 = (3 - √3)/2

STEP 2: Racionalizuj drugi razlomak 3/(√3+2)
  Konjugat imenitelja: (√3 - 2)
  Brojilac: 3(√3 - 2) = 3√3 - 6
  Imenilac: (√3+2)(√3-2) = 3 - 4 = -1
  Rezultat: (3√3 - 6)/(-1) = 6 - 3√3

STEP 3: Racionalizuj treći razlomak 7/(√3+1)
  Konjugat imenitelja: (√3 - 1)
  Brojilac: 7(√3 - 1) = 7√3 - 7
  Imenilac: (√3+1)(√3-1) = 3 - 1 = 2
  Rezultat: (7√3 - 7)/2

STEP 4: Saberi sve tri rezultata
  (3 - √3)/2 + (6 - 3√3) + (7√3 - 7)/2

  Svedemo na zajednički imenilac 2:
  = (3 - √3)/2 + (12 - 6√3)/2 + (7√3 - 7)/2
  = [3 - √3 + 12 - 6√3 + 7√3 - 7] / 2
  = [(3 + 12 - 7) + (-1 - 6 + 7)√3] / 2
  = [8 + 0·√3] / 2
  = 8/2
  = 4

ANSWER: C) 4
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 2rem 1rem;
  }
  .container { max-width: 1200px; margin: 0 auto; }

  h1 {
    text-align: center;
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 2rem;
    padding: 1rem 0;
  }

  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 1.5rem;
  }

  .card-title {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  .card-title .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px; height: 32px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 700;
    color: #fff;
    flex-shrink: 0;
  }
  .badge-blue { background: #3b82f6; }
  .badge-purple { background: #8b5cf6; }
  .badge-green { background: #059669; }
  .badge-pink { background: #ec4899; }
  .badge-amber { background: #d97706; }
  .badge-cyan { background: #0891b2; }
  .badge-red { background: #dc2626; }

  .problem-statement {
    border-left: 4px solid #60a5fa;
    font-size: 1.1rem;
  }

  .given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.75rem;
    margin-top: 1.25rem;
  }
  .given-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 0.75rem 1rem;
    text-align: center;
    font-size: 1.05rem;
  }
  .answer-option { cursor: default; transition: border-color 0.2s; }
  .answer-option[data-option="C"] {
    border-color: #4ade80;
    background: rgba(74, 222, 128, 0.08);
  }

  .muted { color: #94a3b8; }
  .text-blue { color: #60a5fa; }
  .text-purple { color: #a78bfa; }
  .text-green { color: #4ade80; }
  .text-pink { color: #f472b6; }

  .step-card {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 1.5rem;
    margin: 1rem 0;
  }
  .step-card h3 {
    font-size: 1.05rem;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .checkpoint {
    background: rgba(96, 165, 250, 0.1);
    border: 1px dashed #60a5fa;
    border-radius: 10px;
    padding: 1rem 1.25rem;
    margin: 1rem 0;
    font-size: 0.95rem;
  }
  .checkpoint::before {
    content: "Provera";
    display: block;
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 0.35rem;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .final-answer {
    border: 2px solid #4ade80;
    background: rgba(74, 222, 128, 0.06);
    text-align: center;
    font-size: 1.3rem;
  }
  .final-answer .highlight {
    display: inline-block;
    background: rgba(74, 222, 128, 0.15);
    border: 1px solid #4ade80;
    border-radius: 8px;
    padding: 0.5rem 1.5rem;
    font-size: 1.5rem;
    font-weight: 700;
    color: #4ade80;
    margin-top: 0.75rem;
  }

  details {
    border: 1px solid #334155;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 1.5rem;
  }
  details summary {
    background: #1e293b;
    padding: 1rem 1.5rem;
    cursor: pointer;
    font-weight: 600;
    font-size: 1.05rem;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  details summary::-webkit-details-marker { display: none; }
  details summary::before {
    content: ">";
    display: inline-block;
    transition: transform 0.2s;
    font-weight: 700;
    color: #a78bfa;
  }
  details[open] summary::before { transform: rotate(90deg); }
  details .details-content {
    padding: 1.5rem;
    background: #1e293b;
    border-top: 1px solid #334155;
  }

  .canvas-wrapper {
    background: #0f172a;
    border-radius: 12px;
    padding: 1rem;
    text-align: center;
    overflow: hidden;
  }
  canvas {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
  }

  .pitfall-item {
    background: rgba(239, 68, 68, 0.07);
    border-left: 3px solid #ef4444;
    border-radius: 0 10px 10px 0;
    padding: 1rem 1.25rem;
    margin: 0.75rem 0;
  }
  .pitfall-item strong { color: #fca5a5; }

  .challenge-box {
    background: rgba(167, 139, 250, 0.07);
    border: 1px dashed #a78bfa;
    border-radius: 12px;
    padding: 1.5rem;
  }

  .fraction-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
  }
  .fraction-table th, .fraction-table td {
    padding: 0.6rem 1rem;
    border: 1px solid #334155;
    text-align: center;
  }
  .fraction-table th {
    background: #0f172a;
    color: #60a5fa;
    font-weight: 600;
  }
  .fraction-table tr:nth-child(even) { background: rgba(15, 23, 42, 0.4); }

  @media (max-width: 700px) {
    body { padding: 1rem 0.5rem; }
    h1 { font-size: 1.4rem; }
    .card { padding: 1.25rem; }
    .given-grid { grid-template-columns: repeat(2, 1fr); }
    .step-card { padding: 1rem; }
  }
</style>
</head>
<body>
<div class="container">

  <h1>Racionalizacija izraza sa korenima</h1>

  <!-- PROBLEM STATEMENT -->
  <div class="card problem-statement">
    <div class="card-title"><span class="badge badge-blue">?</span> Tekst zadatka</div>
    <p>Vrednost izraza</p>
    \[\frac{3}{\sqrt{3}+3} + \frac{3}{\sqrt{3}+2} + \frac{7}{\sqrt{3}+1}\]
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">\(\text{A)}\ 3\sqrt{3}\)</div>
      <div class="given-item answer-option" data-option="B">\(\text{B)}\ 5\)</div>
      <div class="given-item answer-option" data-option="C">\(\text{C)}\ 4\)</div>
      <div class="given-item answer-option" data-option="D">\(\text{D)}\ 3\sqrt{3}-1\)</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title"><span class="badge badge-purple">P</span> Plan rešavanja</div>
    <ol style="padding-left:1.2rem; color:#94a3b8;">
      <li>Racionalizovati svaki razlomak množenjem brojioca i imenioca konjugatom imenioca</li>
      <li>Pojednostaviti svaki razlomak</li>
      <li>Sabrati sve tri vrednosti i proveriti da li se iracionalni delovi poništavaju</li>
    </ol>
  </div>

  <!-- THEORY REFRESHER -->
  <details>
    <summary><span class="badge badge-cyan" style="font-size:0.75rem;">T</span> Teorijska osnova: Racionalizacija imenioca</summary>
    <div class="details-content">
      <p><strong>Racionalizacija</strong> je postupak uklanjanja iracionalnog izraza iz imenioca razlomka.</p>
      <p style="margin-top:0.75rem;">Za imenilac oblika \(\sqrt{a} + b\), množimo i brojilac i imenilac <em>konjugatom</em> \(\sqrt{a} - b\):</p>
      \[\frac{c}{\sqrt{a}+b} = \frac{c(\sqrt{a}-b)}{(\sqrt{a}+b)(\sqrt{a}-b)} = \frac{c(\sqrt{a}-b)}{a - b^2}\]
      <p style="margin-top:0.75rem;">Ključna formula (razlika kvadrata):</p>
      \[(\sqrt{a}+b)(\sqrt{a}-b) = (\sqrt{a})^2 - b^2 = a - b^2\]
      <p style="margin-top:0.75rem;" class="muted">Ovo funkcioniše jer se mešoviti članovi (sa korenom) uvek poništavaju u proizvodu konjugata.</p>
    </div>
  </details>

  <!-- VISUAL AID -->
  <div class="card">
    <div class="card-title"><span class="badge badge-green">V</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="visualCanvas" width="700" height="400"></canvas>
    </div>
    <p class="muted" style="text-align:center; margin-top:0.75rem; font-size:0.85rem;">
      Dijagram prikazuje kako se iracionalni delovi (\(\sqrt{3}\)) međusobno poništavaju pri sabiranju.
    </p>
  </div>

  <!-- STEP BY STEP -->
  <div class="card">
    <div class="card-title"><span class="badge badge-blue">S</span> Rešenje korak po korak</div>

    <!-- STEP 1 -->
    <div class="step-card">
      <h3><span class="badge badge-blue" style="width:28px;height:28px;font-size:0.8rem;">1</span> <span class="text-blue">Racionalizacija prvog razlomka</span></h3>
      <p>Množimo brojilac i imenilac konjugatom \((\sqrt{3}-3)\):</p>
      \[\frac{3}{\sqrt{3}+3} = \frac{3(\sqrt{3}-3)}{(\sqrt{3}+3)(\sqrt{3}-3)}\]
      <p>Imenilac (razlika kvadrata):</p>
      \[(\sqrt{3})^2 - 3^2 = 3 - 9 = -6\]
      <p>Brojilac:</p>
      \[3(\sqrt{3}-3) = 3\sqrt{3} - 9\]
      <p>Rezultat:</p>
      \[\frac{3\sqrt{3}-9}{-6} = \frac{9 - 3\sqrt{3}}{6} = \frac{3 - \sqrt{3}}{2}\]
    </div>

    <!-- STEP 2 -->
    <div class="step-card">
      <h3><span class="badge badge-purple" style="width:28px;height:28px;font-size:0.8rem;">2</span> <span class="text-purple">Racionalizacija drugog razlomka</span></h3>
      <p>Množimo brojilac i imenilac konjugatom \((\sqrt{3}-2)\):</p>
      \[\frac{3}{\sqrt{3}+2} = \frac{3(\sqrt{3}-2)}{(\sqrt{3}+2)(\sqrt{3}-2)}\]
      <p>Imenilac:</p>
      \[(\sqrt{3})^2 - 2^2 = 3 - 4 = -1\]
      <p>Brojilac:</p>
      \[3(\sqrt{3}-2) = 3\sqrt{3} - 6\]
      <p>Rezultat:</p>
      \[\frac{3\sqrt{3}-6}{-1} = 6 - 3\sqrt{3}\]
    </div>

    <!-- STEP 3 -->
    <div class="step-card">
      <h3><span class="badge badge-pink" style="width:28px;height:28px;font-size:0.8rem;">3</span> <span class="text-pink">Racionalizacija trećeg razlomka</span></h3>
      <p>Množimo brojilac i imenilac konjugatom \((\sqrt{3}-1)\):</p>
      \[\frac{7}{\sqrt{3}+1} = \frac{7(\sqrt{3}-1)}{(\sqrt{3}+1)(\sqrt{3}-1)}\]
      <p>Imenilac:</p>
      \[(\sqrt{3})^2 - 1^2 = 3 - 1 = 2\]
      <p>Brojilac:</p>
      \[7(\sqrt{3}-1) = 7\sqrt{3} - 7\]
      <p>Rezultat:</p>
      \[\frac{7\sqrt{3}-7}{2}\]
    </div>

    <div class="checkpoint">
      Pre sabiranja, zapišimo sve razlomke u preglednom obliku:
      <br>
      \(\dfrac{3-\sqrt{3}}{2}\), zatim \(6-3\sqrt{3}\), zatim \(\dfrac{7\sqrt{3}-7}{2}\)
    </div>

    <!-- STEP 4 -->
    <div class="step-card">
      <h3><span class="badge badge-green" style="width:28px;height:28px;font-size:0.8rem;">4</span> <span class="text-green">Svođenje na zajednički imenilac</span></h3>
      <p>Zajednički imenilac je \(2\). Drugi razlomak množimo sa \(\frac{2}{2}\):</p>
      \[6 - 3\sqrt{3} = \frac{2(6-3\sqrt{3})}{2} = \frac{12-6\sqrt{3}}{2}\]
      <p>Sada sabiramo sve tri:</p>
      \[\frac{3 - \sqrt{3}}{2} + \frac{12 - 6\sqrt{3}}{2} + \frac{7\sqrt{3} - 7}{2}\]
      \[= \frac{(3-\sqrt{3}) + (12-6\sqrt{3}) + (7\sqrt{3}-7)}{2}\]
    </div>

    <!-- STEP 5 -->
    <div class="step-card">
      <h3><span class="badge badge-amber" style="width:28px;height:28px;font-size:0.8rem;">5</span> Sređivanje brojioca</h3>
      <p><strong>Racionalni deo:</strong></p>
      \[3 + 12 - 7 = 8\]
      <p><strong>Iracionalni deo (koeficijenti uz \(\sqrt{3}\)):</strong></p>
      \[-1 - 6 + 7 = 0\]
      <p>Dakle, svi članovi sa \(\sqrt{3}\) se <strong>poništavaju</strong>! Brojilac je:</p>
      \[8 + 0\cdot\sqrt{3} = 8\]
    </div>

    <div class="checkpoint">
      Proverimo koeficijente uz \(\sqrt{3}\): iz prvog razlomka \(-1\), iz drugog \(-6\), iz trećeg \(+7\).
      Zbir: \(-1-6+7 = 0\). Odlično, iracionalni delovi se zaista poništavaju.
    </div>

    <!-- STEP 6 -->
    <div class="step-card">
      <h3><span class="badge badge-cyan" style="width:28px;height:28px;font-size:0.8rem;">6</span> Konačni rezultat</h3>
      \[\frac{8}{2} = 4\]
    </div>

    <div class="checkpoint">
      Brza numerička provera: \(\sqrt{3} \approx 1{,}732\).
      <br>\(\frac{3}{1{,}732+3} + \frac{3}{1{,}732+2} + \frac{7}{1{,}732+1} \approx \frac{3}{4{,}732} + \frac{3}{3{,}732} + \frac{7}{2{,}732}\)
      <br>\(\approx 0{,}634 + 0{,}804 + 2{,}562 = 4{,}000\) Tačno!
    </div>
  </div>

  <!-- KEY INSIGHT -->
  <div class="card" style="border-left: 4px solid #a78bfa;">
    <div class="card-title"><span class="badge badge-purple">!</span> Ključni uvid</div>
    <p>
      Zadaci ovog tipa su konstruisani tako da se iracionalni delovi <strong>uvek poništavaju</strong> pri sabiranju.
      Brojevi u brojiocima (3, 3 i 7) su pažljivo odabrani upravo da koeficijenti uz \(\sqrt{3}\) daju zbir nula:
      \(-1 - 6 + 7 = 0\). Ovo je signal da je konačan odgovor racionalan broj.
    </p>
  </div>

  <!-- FINAL ANSWER -->
  <div class="card final-answer">
    <div class="card-title" style="justify-content:center;"><span class="badge badge-green">&#10003;</span> Konačan odgovor</div>
    <p>Vrednost izraza je:</p>
    <div class="highlight">\(\text{C)}\ \ 4\)</div>
  </div>

  <!-- COMMON PITFALLS -->
  <div class="card">
    <div class="card-title"><span class="badge badge-red">!</span> Najčešće greške</div>
    <div class="pitfall-item">
      <strong>Pogrešan znak pri racionalizaciji:</strong> Kada je imenilac negativan (npr. \(-6\) ili \(-1\)), studenti često zaborave da promene znak celokupnog razlomka. Obratite pažnju: \(\frac{a}{-b} = -\frac{a}{b} = \frac{-a}{b}\).
    </div>
    <div class="pitfall-item">
      <strong>Greška u množenju konjugatom:</strong> Formula glasi \((\sqrt{a}+b)(\sqrt{a}-b) = a - b^2\), a <em>ne</em> \(a^2 - b^2\). Ne kvadrirajte ono što je već pod korenom!
    </div>
    <div class="pitfall-item">
      <strong>Zaboravljanje da se svede na zajednički imenilac:</strong> Drugi razlomak daje ceo broj \((6-3\sqrt{3})\), pa studenti ponekad zaborave da ga pretvore u razlomak sa imeniocem 2 pre sabiranja.
    </div>
  </div>

  <!-- OPTIONAL CHALLENGE -->
  <div class="card">
    <div class="card-title"><span class="badge badge-purple">+</span> Dodatni izazov</div>
    <div class="challenge-box">
      <p>Pokušajte da izračunate vrednost sličnog izraza:</p>
      \[\frac{2}{\sqrt{5}+3} + \frac{5}{\sqrt{5}+2} + \frac{1}{\sqrt{5}-2}\]
      <p class="muted" style="margin-top:0.75rem; font-size:0.9rem;">
        Savet: Primenite isti postupak racionalizacije. Obratite pažnju na treći razlomak — imenilac je već u obliku razlike!
      </p>
    </div>
  </div>

</div>

<script>
(function() {
  var canvas = document.getElementById('visualCanvas');
  if (!canvas) return;
  var ctx = canvas.getContext('2d');
  var W = canvas.width, H = canvas.height;

  // Background
  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // Title
  ctx.fillStyle = '#94a3b8';
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Kako se iracionalni delovi poništavaju', W/2, 30);

  // Data for the three fractions
  var fractions = [
    { label: '3/(√3+3)', rational: 3/2, irrational: -1/2, color: '#60a5fa', name: 'Razlomak 1' },
    { label: '3/(√3+2)', rational: 6, irrational: -3, color: '#a78bfa', name: 'Razlomak 2' },
    { label: '7/(√3+1)', rational: -7/2, irrational: 7/2, color: '#f472b6', name: 'Razlomak 3' }
  ];

  // Bar chart section - rational parts
  var barStartY = 60;
  var barHeight = 36;
  var barGap = 16;
  var chartLeft = 180;
  var chartRight = W - 40;
  var chartWidth = chartRight - chartLeft;

  // Scale: max rational value is 6, max irrational coeff is 7/2
  // Let's use scale factor for rational: pixels per unit
  var maxVal = 7;
  var scale = (chartWidth / 2) / maxVal;
  var centerX = chartLeft + chartWidth / 2;

  // Section headers
  ctx.fillStyle = '#e2e8f0';
  ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Racionalni deo', centerX - chartWidth/4, barStartY);
  ctx.fillText('Koeficijent uz √3', centerX + chartWidth/4, barStartY);

  // Divider
  ctx.strokeStyle = '#334155';
  ctx.lineWidth = 1;
  ctx.setLineDash([4, 4]);
  ctx.beginPath();
  ctx.moveTo(centerX, barStartY + 10);
  ctx.lineTo(centerX, barStartY + 3 * (barHeight + barGap) + 30);
  ctx.stroke();
  ctx.setLineDash([]);

  // Zero lines
  var zeroLeftX = chartLeft + chartWidth / 4;
  var zeroRightX = centerX + chartWidth / 4;

  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 1;
  ctx.beginPath();
  ctx.moveTo(zeroLeftX, barStartY + 10);
  ctx.lineTo(zeroLeftX, barStartY + 3 * (barHeight + barGap) + 10);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(zeroRightX, barStartY + 10);
  ctx.lineTo(zeroRightX, barStartY + 3 * (barHeight + barGap) + 10);
  ctx.stroke();

  var leftScale = (chartWidth / 4) / maxVal;
  var rightScale = (chartWidth / 4) / maxVal;

  for (var i = 0; i < fractions.length; i++) {
    var f = fractions[i];
    var y = barStartY + 18 + i * (barHeight + barGap);

    // Label
    ctx.fillStyle = f.color;
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText(f.name, chartLeft - 10, y + barHeight / 2 + 5);

    // Rational bar (left half)
    var rw = f.rational * leftScale;
    ctx.fillStyle = f.color + '99';
    if (rw >= 0) {
      ctx.fillRect(zeroLeftX, y, rw, barHeight);
    } else {
      ctx.fillRect(zeroLeftX + rw, y, -rw, barHeight);
    }
    ctx.strokeStyle = f.color;
    ctx.lineWidth = 1.5;
    if (rw >= 0) {
      ctx.strokeRect(zeroLeftX, y, rw, barHeight);
    } else {
      ctx.strokeRect(zeroLeftX + rw, y, -rw, barHeight);
    }
    // Value label
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    var valStr = f.rational % 1 === 0 ? f.rational.toString() : (f.rational > 0 ? '+' : '') + f.rational.toFixed(1);
    ctx.fillText(valStr, zeroLeftX + rw / 2, y + barHeight / 2 + 5);

    // Irrational bar (right half)
    var iw = f.irrational * rightScale;
    ctx.fillStyle = f.color + '55';
    if (iw >= 0) {
      ctx.fillRect(zeroRightX, y, iw, barHeight);
    } else {
      ctx.fillRect(zeroRightX + iw, y, -iw, barHeight);
    }
    ctx.strokeStyle = f.color;
    ctx.setLineDash([4, 3]);
    if (iw >= 0) {
      ctx.strokeRect(zeroRightX, y, iw, barHeight);
    } else {
      ctx.strokeRect(zeroRightX + iw, y, -iw, barHeight);
    }
    ctx.setLineDash([]);
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    var iValStr = f.irrational % 1 === 0 ? f.irrational.toString() : (f.irrational > 0 ? '+' : '') + f.irrational.toFixed(1);
    ctx.fillText(iValStr, zeroRightX + iw / 2, y + barHeight / 2 + 5);
  }

  // Sum section
  var sumY = barStartY + 3 * (barHeight + barGap) + 30;

  // Horizontal line
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(chartLeft - 80, sumY);
  ctx.lineTo(chartRight, sumY);
  ctx.stroke();

  ctx.fillStyle = '#4ade80';
  ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('ZBIR:', chartLeft - 80, sumY + 30);

  // Rational sum
  var ratSum = 3/2 + 6 + (-7/2);  // = 1.5 + 6 - 3.5 = 4
  ctx.textAlign = 'center';
  ctx.fillStyle = '#4ade80';
  ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
  ctx.fillText('3/2 + 6 + (-7/2) = 4', zeroLeftX, sumY + 30);

  // Irrational sum
  ctx.fillStyle = '#4ade80';
  ctx.fillText('-1/2 + (-3) + 7/2 = 0', zeroRightX, sumY + 30);

  // Final result box
  var boxY = sumY + 55;
  var boxW = 320;
  var boxH = 50;
  var boxX = (W - boxW) / 2;

  // Rounded rect
  ctx.beginPath();
  ctx.roundRect(boxX, boxY, boxW, boxH, 12);
  ctx.fillStyle = 'rgba(74, 222, 128, 0.12)';
  ctx.fill();
  ctx.strokeStyle = '#4ade80';
  ctx.lineWidth = 2;
  ctx.stroke();

  ctx.fillStyle = '#4ade80';
  ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Rezultat = 4 + 0·√3 = 4', W/2, boxY + boxH/2 + 7);

  // Legend at bottom
  ctx.fillStyle = '#64748b';
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Pune trake = racionalni deo  |  Isprekidane trake = koeficijent uz √3', W/2, H - 12);
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Racionalizacija izraza sa korenima","subject":"math","unit":"algebra","topic_tags":["rationalization","square_roots","conjugate","fraction_addition"]}
BRAINSPARK_META-->
