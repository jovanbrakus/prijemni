<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zapremina prave prizme sa jednakostraničnim trouglom u osnovi</title>

<script type="text/info" id="logic-scratchpad">
Zadatak: Osnova prave prizme je jednakostranični trougao stranice a = 3.
Dijagonala bočne strane gradi ugao od 30° sa osnovnom ivicom.
Naći zapreminu prizme.

Korak 1: Bočna strana je pravougaonik sa širinom a = 3 i visinom h (visina prizme).
  Dijagonala tog pravougaonika gradi ugao od 30° sa osnovnom ivicom (širinom a).
  Iz pravouglog trougla koji čine ivica a, visina h i dijagonala:
  tan(30°) = h / a

Korak 2: Izračunajmo visinu prizme h:
  tan(30°) = 1/√3
  h = a · tan(30°) = 3 · (1/√3) = 3/√3 = 3√3/3 = √3

Korak 3: Površina osnove — jednakostranični trougao stranice a = 3:
  P = (√3/4) · a² = (√3/4) · 9 = 9√3/4

Korak 4: Zapremina prizme:
  V = P · h = (9√3/4) · √3 = 9·3/4 = 27/4 = 6,75

Odgovor: C) 6,75
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
}

h1 {
  text-align: center;
  font-size: 2.2rem;
  margin-bottom: 8px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .math-highlight {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 16px;
  margin: 16px 0;
  text-align: center;
  font-size: 1.15rem;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(100, 116, 139, 0.15);
  border: 1px solid #475569;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1.05rem;
  min-width: 120px;
  text-align: center;
}

.given-item.answer-option {
  background: rgba(100, 116, 139, 0.15);
  border: 1px solid #475569;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1.05rem;
  min-width: 120px;
  text-align: center;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
}

details {
  background: rgba(100, 116, 139, 0.1);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px;
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
}

details[open] summary {
  margin-bottom: 10px;
}

.step {
  margin-bottom: 20px;
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.95rem;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
}

.step-content {
  margin-left: 44px;
}

.step-content .math-highlight {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 12px;
  margin: 10px 0;
  text-align: center;
}

.key-insight {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 14px;
  padding: 20px 24px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer-card {
  border: 2px solid #34d399;
  text-align: center;
}

.final-answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.answer-options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.answer-opt {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1.05rem;
  border: 1px solid #475569;
  background: rgba(100, 116, 139, 0.1);
}

.answer-opt.correct {
  border-color: #34d399;
  background: rgba(52, 211, 153, 0.15);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 10px;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 8px 0;
  padding-left: 20px;
  position: relative;
  color: #f472b6;
}

.pitfall-list li::before {
  content: "!";
  position: absolute;
  left: 0;
  color: #f472b6;
  font-weight: 700;
}

canvas {
  width: 100%;
  border-radius: 12px;
  display: block;
  margin: 0 auto;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .step-content { margin-left: 0; }
  .given-grid { flex-direction: column; }
  .answer-options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- NASLOV -->
  <h1>Zapremina prave prizme</h1>
  <p class="subtitle">Jednakostranični trougao u osnovi, ugao dijagonale bočne strane</p>

  <!-- TEKST ZADATKA -->
  <div class="card problem-statement">
    <div class="card-title">Zadatak</div>
    <p>Osnova prave prizme je jednakostranični trougao stranice \(3\), a dijagonala bočne strane sa osnovnom ivicom gradi ugao od \(30°\). Zapremina prizme je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">(A) 7,5</div>
      <div class="given-item answer-option" data-option="B">(B) 6</div>
      <div class="given-item answer-option" data-option="C">(C) 6,75</div>
      <div class="given-item answer-option" data-option="D">(D) 5,25</div>
    </div>
  </div>

  <!-- PLAN -->
  <div class="card">
    <div class="card-title">Plan rešavanja</div>
    <p class="plan-text">Iz ugla koji dijagonala bočne strane zaklapa sa osnovnom ivicom odredićemo visinu prizme. Zatim ćemo izračunati površinu jednakostraničnog trougla u osnovi i pomnožiti je sa visinom da dobijemo zapreminu.</p>
  </div>

  <!-- TEORIJA -->
  <div class="card">
    <div class="card-title">Podsetnik iz teorije</div>
    <details>
      <summary>Prava prizma</summary>
      <p style="margin-top: 8px;">Prava prizma je telo čije su bočne ivice normalne na ravan osnove. Bočne strane su pravougaonici. Zapremina prave prizme je:</p>
      <div class="math-highlight" style="background: rgba(56,189,248,0.08); border: 1px solid rgba(56,189,248,0.15); border-radius: 8px; padding: 12px; margin: 10px 0; text-align: center;">
        \[ V = P_{\text{osnove}} \cdot h \]
      </div>
      <p>gde je \(h\) visina prizme (rastojanje između osnova).</p>
    </details>
    <details style="margin-top: 10px;">
      <summary>Površina jednakostraničnog trougla</summary>
      <p style="margin-top: 8px;">Za jednakostranični trougao stranice \(a\), površina je:</p>
      <div class="math-highlight" style="background: rgba(56,189,248,0.08); border: 1px solid rgba(56,189,248,0.15); border-radius: 8px; padding: 12px; margin: 10px 0; text-align: center;">
        \[ P = \frac{\sqrt{3}}{4}\,a^2 \]
      </div>
    </details>
    <details style="margin-top: 10px;">
      <summary>Trigonometrija pravouglog trougla — tangens</summary>
      <p style="margin-top: 8px;">U pravouglom trouglu, tangens oštrog ugla je odnos naspramne i nalegle katete:</p>
      <div class="math-highlight" style="background: rgba(56,189,248,0.08); border: 1px solid rgba(56,189,248,0.15); border-radius: 8px; padding: 12px; margin: 10px 0; text-align: center;">
        \[ \tan(\alpha) = \frac{\text{naspramna kateta}}{\text{naleža kateta}} \]
      </div>
      <p>Posebno: \(\tan(30°) = \dfrac{1}{\sqrt{3}} = \dfrac{\sqrt{3}}{3}\)</p>
    </details>
  </div>

  <!-- VIZUELNI PRIKAZ -->
  <div class="card">
    <div class="card-title">Vizuelni prikaz — 3D prizma</div>
    <canvas id="prismCanvas" height="520"></canvas>
  </div>

  <!-- KORAK PO KORAK -->
  <div class="card">
    <div class="card-title">Rešenje korak po korak</div>

    <!-- Korak 1 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">1</div>
        <div class="step-title">Identifikujmo bočnu stranu i njenu dijagonalu</div>
      </div>
      <div class="step-content">
        <p>Bočna strana prave prizme je pravougaonik čija je jedna dimenzija stranica osnove \(a = 3\), a druga dimenzija je visina prizme \(h\).</p>
        <p>Dijagonala tog pravougaonika spaja dva suprotna temena. Ugao koji ta dijagonala zaklapa sa osnovnom ivicom (stranicom \(a\)) iznosi \(30°\).</p>
        <p>Iz pravouglog trougla koji čine ivica \(a\) (naleža kateta), visina \(h\) (naspramna kateta) i dijagonala (hipotenuza):</p>
        <div class="math-highlight">
          \[ \tan(30°) = \frac{h}{a} \]
        </div>
      </div>
    </div>

    <!-- Korak 2 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">2</div>
        <div class="step-title">Odredimo visinu prizme \(h\)</div>
      </div>
      <div class="step-content">
        <p>Uvrštavamo poznate vrednosti:</p>
        <div class="math-highlight">
          \[ \tan(30°) = \frac{h}{3} \]
        </div>
        <p>Pošto je \(\tan(30°) = \dfrac{1}{\sqrt{3}}\), dobijamo:</p>
        <div class="math-highlight">
          \[ \frac{h}{3} = \frac{1}{\sqrt{3}} \quad \Longrightarrow \quad h = \frac{3}{\sqrt{3}} = \frac{3\sqrt{3}}{3} = \sqrt{3} \]
        </div>

        <details>
          <summary>Proveri sebe: Zašto je \(\frac{3}{\sqrt{3}} = \sqrt{3}\)?</summary>
          <p style="margin-top: 8px;">Racionalizujemo imenilac: \(\frac{3}{\sqrt{3}} = \frac{3}{\sqrt{3}} \cdot \frac{\sqrt{3}}{\sqrt{3}} = \frac{3\sqrt{3}}{3} = \sqrt{3}\). Alternativno: \(\frac{3}{\sqrt{3}} = \frac{(\sqrt{3})^2}{\sqrt{3}} = \sqrt{3}\).</p>
        </details>
      </div>
    </div>

    <!-- Korak 3 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">3</div>
        <div class="step-title">Izračunajmo površinu osnove</div>
      </div>
      <div class="step-content">
        <p>Osnova je jednakostranični trougao stranice \(a = 3\). Koristimo formulu:</p>
        <div class="math-highlight">
          \[ P = \frac{\sqrt{3}}{4}\,a^2 = \frac{\sqrt{3}}{4} \cdot 9 = \frac{9\sqrt{3}}{4} \]
        </div>

        <details>
          <summary>Proveri sebe: Koliko je \(\frac{9\sqrt{3}}{4}\) numerički?</summary>
          <p style="margin-top: 8px;">\(\sqrt{3} \approx 1{,}732\), pa \(\frac{9 \cdot 1{,}732}{4} \approx \frac{15{,}588}{4} \approx 3{,}897\).</p>
        </details>
      </div>
    </div>

    <!-- Korak 4 -->
    <div class="step">
      <div class="step-header">
        <div class="step-badge">4</div>
        <div class="step-title">Izračunajmo zapreminu prizme</div>
      </div>
      <div class="step-content">
        <p>Zapremina prave prizme je proizvod površine osnove i visine:</p>
        <div class="math-highlight">
          \[ V = P \cdot h = \frac{9\sqrt{3}}{4} \cdot \sqrt{3} \]
        </div>
        <p>Množimo:</p>
        <div class="math-highlight">
          \[ V = \frac{9\sqrt{3} \cdot \sqrt{3}}{4} = \frac{9 \cdot 3}{4} = \frac{27}{4} = 6{,}75 \]
        </div>

        <details>
          <summary>Proveri sebe: Rekonstruiši ceo račun</summary>
          <p style="margin-top: 8px;">
            \[ V = \underbrace{\frac{\sqrt{3}}{4} \cdot 3^2}_{P = \frac{9\sqrt{3}}{4}} \cdot \underbrace{\sqrt{3}}_{h} = \frac{9 \cdot (\sqrt{3})^2}{4} = \frac{9 \cdot 3}{4} = \frac{27}{4} = 6{,}75 \]
          </p>
        </details>
      </div>
    </div>
  </div>

  <!-- KLJUČNI UVID -->
  <div class="card key-insight">
    <div class="card-title">Ključni uvid</div>
    <p>Bočna strana prave prizme je pravougaonik — to je ključ zadatka. Dijagonala tog pravougaonika, osnovna ivica i bočna ivica (visina prizme) čine pravougli trougao. Ugao od \(30°\) sa osnovnom ivicom direktno daje \(\tan(30°) = h/a\), odakle se visina \(h = \sqrt{3}\) elegantno računa. Zatim, kada se \(\sqrt{3}\) pomnoži sa površinom osnove koja sadrži \(\sqrt{3}\), dolazi do lepe simplifikacije: \(\sqrt{3} \cdot \sqrt{3} = 3\).</p>
  </div>

  <!-- KONAČAN ODGOVOR -->
  <div class="card final-answer-card">
    <div class="card-title" style="justify-content: center;">Konačan odgovor</div>
    <div class="final-answer-value">\(V = \dfrac{27}{4} = 6{,}75\)</div>
    <div class="answer-options-row">
      <div class="answer-opt" data-option="A">(A) 7,5</div>
      <div class="answer-opt" data-option="B">(B) 6</div>
      <div class="answer-opt correct" data-option="C">(C) 6,75</div>
      <div class="answer-opt" data-option="D">(D) 5,25</div>
    </div>
    <p class="verification-note">Verifikacija: \(\frac{9\sqrt{3}}{4} \cdot \sqrt{3} = \frac{27}{4} = 6{,}75\) — potvrđeno.</p>
  </div>

  <!-- ČESTE GREŠKE -->
  <div class="card">
    <div class="card-title" style="color: #f472b6;">Česte greške</div>
    <ul class="pitfall-list">
      <li>Zamena tangensa i kotangensa — ako greškom koristite \(\cot(30°) = \sqrt{3}\) umesto \(\tan(30°) = \frac{1}{\sqrt{3}}\), dobijate \(h = 3\sqrt{3}\) i pogrešnu zapreminu.</li>
      <li>Pogrešna interpretacija ugla — ugao dijagonale je sa <strong>osnovnom ivicom</strong> (bazom pravougaonika), ne sa bočnom ivicom. Kad bi ugao bio sa bočnom ivicom, koristili bismo \(\tan(30°) = a/h\).</li>
      <li>Greška u formuli za površinu jednakostraničnog trougla — česta zabuna je \(\frac{\sqrt{3}}{2}\,a^2\) umesto korektnog \(\frac{\sqrt{3}}{4}\,a^2\). Faktor je \(\frac{\sqrt{3}}{4}\)!</li>
      <li>Računska greška pri množenju korenova — \(\sqrt{3} \cdot \sqrt{3} = 3\), ne \(\sqrt{9} = 3\sqrt{1}\) ili nešto drugo. To je osnovno pravilo: \((\sqrt{x})^2 = x\).</li>
    </ul>
  </div>

  <!-- DODATNI IZAZOV -->
  <div class="card">
    <div class="card-title">Dodatni izazov</div>
    <p>Ako bi dijagonala bočne strane pravila ugao od \(60°\) sa osnovnom ivicom (umesto \(30°\)), kolika bi bila zapremina iste prizme?</p>
    <details>
      <summary>Hint</summary>
      <p style="margin-top: 8px;">Sada je \(\tan(60°) = \sqrt{3}\), pa \(h = 3\sqrt{3}\). Površina osnove je ista: \(P = \frac{9\sqrt{3}}{4}\). Zapremina: \(V = \frac{9\sqrt{3}}{4} \cdot 3\sqrt{3} = \frac{9 \cdot 3 \cdot 3}{4} = \frac{81}{4} = 20{,}25\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('prismCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 520 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 520;

    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Layout: prism on left, lateral face diagram on right
    const midX = W / 2;
    const prismCX = Math.min(W * 0.32, 250);
    const faceCX = Math.max(W * 0.7, W - 220);

    // --- 3D PRISM ---
    // Isometric-like projection of a triangular prism
    // Base equilateral triangle in a tilted plane
    const scale = Math.min(W / 700, 1) * 1.1;
    const s = 100 * scale; // side length in pixels

    // Base triangle vertices (bottom, tilted for 3D feel)
    // We use a simple oblique projection
    const ox = prismCX;
    const oy = 330 * scale + 40;

    // Equilateral triangle points (flat, in "floor" plane)
    // We'll tilt them to give a 3D feel
    const tiltX = 0.85;
    const tiltY = 0.45;

    // Equilateral triangle vertices (centered)
    const triH = s * Math.sqrt(3) / 2;
    const rawTri = [
      { x: -s / 2, y: triH / 3 },
      { x: s / 2, y: triH / 3 },
      { x: 0, y: -2 * triH / 3 }
    ];

    // Project to oblique view
    function proj(px, py, pz) {
      return {
        x: ox + px * tiltX + pz * 0.35,
        y: oy - py - pz * tiltY + px * 0.08
      };
    }

    // Bottom triangle
    const bA = proj(rawTri[0].x, 0, rawTri[0].y);
    const bB = proj(rawTri[1].x, 0, rawTri[1].y);
    const bC = proj(rawTri[2].x, 0, rawTri[2].y);

    // Height of prism in pixels
    const pH = 160 * scale;

    // Top triangle
    const tA = proj(rawTri[0].x, pH, rawTri[0].y);
    const tB = proj(rawTri[1].x, pH, rawTri[1].y);
    const tC = proj(rawTri[2].x, pH, rawTri[2].y);

    // Draw back faces first (semi-transparent)
    // Back lateral face: B-C bottom to top
    ctx.globalAlpha = 0.2;
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.moveTo(bB.x, bB.y);
    ctx.lineTo(bC.x, bC.y);
    ctx.lineTo(tC.x, tC.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.closePath();
    ctx.fill();

    // Back lateral face: A-C
    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(bC.x, bC.y);
    ctx.lineTo(tC.x, tC.y);
    ctx.lineTo(tA.x, tA.y);
    ctx.closePath();
    ctx.fill();

    ctx.globalAlpha = 1.0;

    // Front lateral face A-B (the one with diagonal)
    ctx.fillStyle = 'rgba(96, 165, 250, 0.12)';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(bB.x, bB.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.lineTo(tA.x, tA.y);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // Top face
    ctx.fillStyle = 'rgba(167, 139, 250, 0.15)';
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(tA.x, tA.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.lineTo(tC.x, tC.y);
    ctx.closePath();
    ctx.fill();
    ctx.stroke();

    // Bottom face edges
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(bB.x, bB.y);
    ctx.lineTo(bC.x, bC.y);
    ctx.closePath();
    ctx.stroke();
    ctx.setLineDash([]);

    // Bottom front edge solid
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(bB.x, bB.y);
    ctx.stroke();

    // Vertical edges
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(tA.x, tA.y);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(bB.x, bB.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.stroke();

    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(bC.x, bC.y);
    ctx.lineTo(tC.x, tC.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Diagonal on front face (A bottom to B top)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([8, 4]);
    ctx.beginPath();
    ctx.moveTo(bA.x, bA.y);
    ctx.lineTo(tB.x, tB.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Angle arc at bottom-left (bA) for 30°
    const dxBase = bB.x - bA.x;
    const dyBase = bB.y - bA.y;
    const dxDiag = tB.x - bA.x;
    const dyDiag = tB.y - bA.y;
    const angleBase = Math.atan2(dyBase, dxBase);
    const angleDiag = Math.atan2(dyDiag, dxDiag);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(bA.x, bA.y, 28 * scale, angleDiag, angleBase, false);
    ctx.stroke();

    // Label "30°"
    const labelAngle = (angleBase + angleDiag) / 2;
    ctx.fillStyle = '#4ade80';
    ctx.font = `bold ${Math.round(13 * scale)}px "Segoe UI", system-ui, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('30°', bA.x + Math.cos(labelAngle) * 42 * scale, bA.y + Math.sin(labelAngle) * 42 * scale);

    // Labels on prism
    ctx.font = `bold ${Math.round(13 * scale)}px "Segoe UI", system-ui, sans-serif`;
    ctx.textAlign = 'center';

    // Label "a = 3" on front base edge
    const baseMidX = (bA.x + bB.x) / 2;
    const baseMidY = (bA.y + bB.y) / 2;
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('a = 3', baseMidX, baseMidY + 22 * scale);

    // Label "h = √3" on left vertical edge
    const hMidX = (bA.x + tA.x) / 2;
    const hMidY = (bA.y + tA.y) / 2;
    ctx.fillStyle = '#a78bfa';
    ctx.save();
    ctx.translate(hMidX - 20 * scale, hMidY);
    ctx.rotate(-Math.PI / 2 + 0.08);
    ctx.fillText('h = √3', 0, 0);
    ctx.restore();

    // Label "d" on diagonal
    const diagMidX = (bA.x + tB.x) / 2;
    const diagMidY = (bA.y + tB.y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('d', diagMidX + 14 * scale, diagMidY - 4 * scale);

    // Vertex labels
    ctx.font = `${Math.round(12 * scale)}px "Segoe UI", system-ui, sans-serif`;
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('A', bA.x - 14 * scale, bA.y + 6 * scale);
    ctx.fillText('B', bB.x + 14 * scale, bB.y + 6 * scale);
    ctx.fillText('C', bC.x + 6 * scale, bC.y + 16 * scale);
    ctx.fillText("A'", tA.x - 16 * scale, tA.y - 4 * scale);
    ctx.fillText("B'", tB.x + 14 * scale, tB.y - 4 * scale);
    ctx.fillText("C'", tC.x + 8 * scale, tC.y - 10 * scale);

    // Title above prism
    ctx.fillStyle = '#94a3b8';
    ctx.font = `14px "Segoe UI", system-ui, sans-serif`;
    ctx.textAlign = 'center';
    ctx.fillText('Prava prizma sa jednakostraničnim trouglom', prismCX, 24);

    // --- LATERAL FACE DIAGRAM (right side) ---
    const fW = Math.min(200, W * 0.28);
    const fH = fW * 0.58;
    const fX = faceCX - fW / 2;
    const fY = 180;

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Bočna strana (pravougaonik)', faceCX, fY - 20);

    // Rectangle
    ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.rect(fX, fY, fW, fH);
    ctx.fill();
    ctx.stroke();

    // Diagonal
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.setLineDash([8, 4]);
    ctx.beginPath();
    ctx.moveTo(fX, fY + fH);
    ctx.lineTo(fX + fW, fY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Angle arc at bottom-left
    const fAngle = Math.atan2(-fH, fW);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(fX, fY + fH, 30, fAngle, 0, false);
    ctx.stroke();

    // "30°" label
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('30°', fX + 34, fY + fH - 8);

    // Labels
    ctx.textAlign = 'center';
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('a = 3', faceCX, fY + fH + 22);

    ctx.fillStyle = '#a78bfa';
    ctx.save();
    ctx.translate(fX - 16, fY + fH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillText('h = √3', 0, 0);
    ctx.restore();

    ctx.fillStyle = '#f472b6';
    const dMidX = fX + fW / 2 + 12;
    const dMidY = fY + fH / 2 - 8;
    ctx.fillText('d', dMidX, dMidY);

    // Right angle marker at top-right and bottom-left corners of rectangle
    const sqSz = 10;
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // Bottom-left
    ctx.beginPath();
    ctx.moveTo(fX + sqSz, fY + fH);
    ctx.lineTo(fX + sqSz, fY + fH - sqSz);
    ctx.lineTo(fX, fY + fH - sqSz);
    ctx.stroke();

    // Formula box
    const formY = fY + fH + 50;
    ctx.fillStyle = 'rgba(30, 41, 59, 0.9)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    const formW = fW + 40;
    const formBoxX = faceCX - formW / 2;
    ctx.beginPath();
    ctx.roundRect(formBoxX, formY, formW, 90, 10);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('tan(30°) = h / a', faceCX, formY + 22);
    ctx.fillText('h = a · tan(30°)', faceCX, formY + 44);
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px "Segoe UI", system-ui, sans-serif';
    ctx.fillText('h = 3 · (1/√3) = √3', faceCX, formY + 70);

    // --- VOLUME RESULT BOX ---
    const volY = 440;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.1)';
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    const volW = Math.min(W - 40, 500);
    const volX = W / 2 - volW / 2;
    ctx.beginPath();
    ctx.roundRect(volX, volY, volW, 56, 12);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px "Segoe UI", system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('V = (9√3 / 4) · √3 = 27/4 = 6,75', W / 2, volY + 34);
  }

  draw();
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zapremina prave prizme sa jednakostraničnim trouglom u osnovi",
  "subject": "math",
  "unit": "stereometrija",
  "topic_tags": ["prava_prizma", "jednakostranični_trougao", "zapremina", "trigonometrija", "tangens"]
}
BRAINSPARK_META-->