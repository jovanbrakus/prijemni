<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir rešenja jednačine sa apsolutnom vrednošću</title>
<script type="text/info" id="logic-scratchpad">
Problem: Zbir svih rešenja jednačine |2x - 2| - x = 5

Rewrite: |2x - 2| = x + 5

Condition: x + 5 >= 0 => x >= -5 (apsolutna vrednost je uvek >= 0)

Kritična tačka: 2x - 2 = 0 => x = 1

Slučaj 1: 2x - 2 >= 0, tj. x >= 1
  2x - 2 = x + 5
  2x - x = 5 + 2
  x = 7
  Provera uslova: 7 >= 1 ✓
  Verifikacija: |2(7) - 2| - 7 = |12| - 7 = 12 - 7 = 5 ✓

Slučaj 2: 2x - 2 < 0, tj. x < 1
  -(2x - 2) = x + 5
  -2x + 2 = x + 5
  -2x - x = 5 - 2
  -3x = 3
  x = -1
  Provera uslova: -1 < 1 ✓
  Verifikacija: |2(-1) - 2| - (-1) = |-4| + 1 = 4 + 1 = 5 ✓

Rešenja: x₁ = -1, x₂ = 7
Zbir: x₁ + x₂ = -1 + 7 = 6

Odgovor: C) 6
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.05rem;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #c4b5fd;
  font-size: 1rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

details .detail-content {
  padding: 14px 0 6px 8px;
  color: #cbd5e1;
}

details .detail-content ul {
  list-style: none;
  padding: 0;
}

details .detail-content li {
  padding: 6px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

details .detail-content li:last-child {
  border-bottom: none;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 8px;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(96,165,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #60a5fa;
  margin-bottom: 12px;
}

.insight-box .big-formula {
  font-size: 1.3rem;
  color: #e2e8f0;
  margin: 10px 0;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #34d399;
  margin-bottom: 14px;
}

.final-answer .answer-value {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 700;
  margin: 12px 0;
}

.answer-options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.answer-options-final .option-card {
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 20px;
  min-width: 100px;
  text-align: center;
  color: #94a3b8;
}

.answer-options-final .option-card.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}

.option-card .opt-label {
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.option-card .opt-value {
  font-size: 1.05rem;
}

.verification {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  font-style: italic;
}

.pitfall-card {
  border-left: 3px solid #f472b6;
}

.pitfall-card h2 {
  color: #f472b6;
}

.pitfall-card ul {
  list-style: none;
  padding: 0;
}

.pitfall-card li {
  padding: 8px 0;
  color: #cbd5e1;
  border-bottom: 1px solid rgba(51,65,85,0.5);
}

.pitfall-card li:last-child {
  border-bottom: none;
}

.pitfall-card li::before {
  content: "\26A0  ";
  color: #e09468;
}

.challenge-card {
  border-left: 3px solid #60a5fa;
}

canvas {
  display: block;
  margin: 0 auto;
  width: 100%;
  max-width: 700px;
  touch-action: none;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.case-label {
  display: inline-block;
  background: rgba(167,139,250,0.15);
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 6px;
  padding: 2px 10px;
  color: #c4b5fd;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 6px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 80px; padding: 10px 12px; }
  .step-container { padding: 12px; gap: 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Zbir rešenja jednačine sa apsolutnom vrednošću</h1>
  <p class="subtitle">Algebra -- jednačina sa apsolutnom vrednošću, razdvajanje na slučajeve, zbir rešenja</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir svih rešenja jednačine \( |2x - 2| - x = 5 \) je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 4 \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 5 \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 6 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 7 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Razložićemo apsolutnu vrednost na dva slučaja prema znaku izraza \( 2x - 2 \). U svakom slučaju dobijamo linearnu jednačinu čije rešenje proveravamo. Na kraju sabiramo sva validna rešenja.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Podsetnik: apsolutna vrednost i metod slučajeva</summary>
      <div class="detail-content">
        <ul>
          <li><strong>Definicija apsolutne vrednosti:</strong>
            \[ |a| = \begin{cases} a, & a \geq 0 \\ -a, & a < 0 \end{cases} \]
          </li>
          <li><strong>Metod rešavanja:</strong> Jednačinu oblika \( |f(x)| = g(x) \) rešavamo razdvajanjem na dva slučaja:
            <br>Slučaj 1: \( f(x) \geq 0 \Rightarrow f(x) = g(x) \)
            <br>Slučaj 2: \( f(x) < 0 \Rightarrow -f(x) = g(x) \)
          </li>
          <li><strong>Neophodan uslov:</strong> Mora važiti \( g(x) \geq 0 \), jer je apsolutna vrednost uvek nenegativna.</li>
          <li><strong>Kritična tačka:</strong> Tačka gde izraz unutar apsolutne vrednosti menja znak. Za \( |2x - 2| \) to je \( x = 1 \).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Grafički prikaz</h2>
    <canvas id="graph-canvas" width="700" height="420"></canvas>
    <p class="canvas-hint">Grafik prikazuje funkcije \( y = |2x - 2| \) (plava) i \( y = x + 5 \) (zelena). Presečne tačke su rešenja jednačine.</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Preuredimo jednačinu</h3>
        <p>Prebacimo \( x \) na desnu stranu da izolujemo apsolutnu vrednost:</p>
        <div class="math-block">
          \[ |2x - 2| - x = 5 \]
          \[ |2x - 2| = x + 5 \]
        </div>
        <p class="note">Pošto je apsolutna vrednost uvek \( \geq 0 \), mora važiti \( x + 5 \geq 0 \), tj. \( x \geq -5 \). Ovo ćemo imati na umu prilikom provere.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Određujemo kritičnu tačku</h3>
        <p>Izraz unutar apsolutne vrednosti menja znak kada je:</p>
        <div class="math-block">
          \[ 2x - 2 = 0 \implies x = 1 \]
        </div>
        <p>Za \( x \geq 1 \): izraz \( 2x - 2 \geq 0 \), pa je \( |2x - 2| = 2x - 2 \).</p>
        <p>Za \( x < 1 \): izraz \( 2x - 2 < 0 \), pa je \( |2x - 2| = -(2x - 2) = -2x + 2 \).</p>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <span class="case-label">Slučaj 1: \( x \geq 1 \)</span>
        <h3>Rešavamo bez negacije</h3>
        <p>Kada je \( x \geq 1 \), važi \( |2x - 2| = 2x - 2 \), pa jednačina postaje:</p>
        <div class="math-block">
          \[ 2x - 2 = x + 5 \]
          \[ 2x - x = 5 + 2 \]
          \[ x = 7 \]
        </div>
        <p>Proveravamo uslov: \( 7 \geq 1 \) -- ispunjeno. Rešenje \( x = 7 \) je validno.</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Da li je \( x = 7 \) zaista rešenje?</summary>
      <div class="detail-content">
        <p>Uvrstimo \( x = 7 \) u originalnu jednačinu:</p>
        <p>\( |2 \cdot 7 - 2| - 7 = |14 - 2| - 7 = |12| - 7 = 12 - 7 = 5 \;\; \checkmark \)</p>
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <span class="case-label">Slučaj 2: \( x < 1 \)</span>
        <h3>Rešavamo sa negacijom</h3>
        <p>Kada je \( x < 1 \), važi \( |2x - 2| = -(2x - 2) = -2x + 2 \), pa jednačina postaje:</p>
        <div class="math-block">
          \[ -2x + 2 = x + 5 \]
          \[ -2x - x = 5 - 2 \]
          \[ -3x = 3 \]
          \[ x = -1 \]
        </div>
        <p>Proveravamo uslov: \( -1 < 1 \) -- ispunjeno. Rešenje \( x = -1 \) je validno.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Da li je \( x = -1 \) zaista rešenje?</summary>
      <div class="detail-content">
        <p>Uvrstimo \( x = -1 \) u originalnu jednačinu:</p>
        <p>\( |2 \cdot (-1) - 2| - (-1) = |-2 - 2| + 1 = |-4| + 1 = 4 + 1 = 5 \;\; \checkmark \)</p>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step-container" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Sabiramo rešenja</h3>
        <p>Jednačina ima tačno dva rešenja: \( x_1 = -1 \) i \( x_2 = 7 \). Računamo njihov zbir:</p>
        <div class="math-block">
          \[ x_1 + x_2 = (-1) + 7 = 6 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Zašto smo sigurni da nema drugih rešenja?</summary>
      <div class="detail-content">
        <p>Apsolutna vrednost \( |2x - 2| \) deli realnu osu na tačno dva intervala: \( x \geq 1 \) i \( x < 1 \). U svakom intervalu dobijamo linearnu jednačinu koja ima tačno jedno rešenje. Pošto su oba rešenja prošla proveru uslova, jednačina ima ukupno dva rešenja -- ni više, ni manje.</p>
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Apsolutna vrednost razdvaja jednačinu na dva linearna slučaja. Svaki slučaj daje po jedno validno rešenje, a traženi zbir je jednostavno njihov algebarski zbir.</p>
    <div class="big-formula">
      \[ x_1 + x_2 = (-1) + 7 = 6 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <div class="answer-options-final">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div class="opt-value">\( 4 \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div class="opt-value">\( 5 \)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(C)</div>
        <div class="opt-value">\( 6 \)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(D)</div>
        <div class="opt-value">\( 7 \)</div>
      </div>
    </div>
    <p class="answer-value">Odgovor: C) 6</p>
    <p class="verification">Verifikacija: Rešenja jednačine su \( x_1 = -1 \) i \( x_2 = 7 \). Oba zadovoljavaju originalnu jednačinu: \( |2 \cdot (-1) - 2| - (-1) = 5 \) i \( |2 \cdot 7 - 2| - 7 = 5 \). Zbir: \( -1 + 7 = 6 \).</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <h2>Česte greške</h2>
    <ul>
      <li>Pogrešno negiranje izraza u drugom slučaju: treba negirati <strong>ceo</strong> izraz \( 2x - 2 \), dakle \( -(2x - 2) = -2x + 2 \), a ne \( -2x - 2 \). Ovo je najčešći izvor greške.</li>
      <li>Zaboravljanje provere uslova: nakon što nađemo rešenje u svakom slučaju, moramo proveriti da li pripada odgovarajućem intervalu (\( x \geq 1 \) ili \( x < 1 \)). Ako ne pripada, to rešenje se odbacuje.</li>
      <li>Računanje proizvoda umesto zbira: zadatak traži <strong>zbir</strong> rešenja (\( -1 + 7 = 6 \)), a ne proizvod (\( -1 \cdot 7 = -7 \)).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Odredi zbir svih rešenja jednačine \( |3x + 6| - 2x = 9 \).</p>
    <details>
      <summary>Pomoć</summary>
      <div class="detail-content">
        <p>Kritična tačka je \( x = -2 \). Razdvoj na slučajeve \( x \geq -2 \) i \( x < -2 \). U prvom slučaju dobija se \( x = 3 \), u drugom \( x = -3 \). Proveri oba uslova i saberi validna rešenja.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('graph-canvas');
  const ctx = canvas.getContext('2d');

  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system: x from -5 to 10, y from -3 to 18
  const xMin = -5, xMax = 10;
  const yMin = -3, yMax = 18;

  const scaleX = W / (xMax - xMin);
  const scaleY = H / (yMax - yMin);

  function toCanvas(x, y) {
    return {
      x: (x - xMin) * scaleX,
      y: H - (y - yMin) * scaleY
    };
  }

  function drawGrid() {
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;

    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      const p = toCanvas(x, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }

    for (let y = Math.ceil(yMin); y <= yMax; y++) {
      const p = toCanvas(0, y);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }
  }

  function drawAxes() {
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;

    // X-axis
    const ox1 = toCanvas(xMin, 0);
    const ox2 = toCanvas(xMax, 0);
    ctx.beginPath();
    ctx.moveTo(ox1.x, ox1.y);
    ctx.lineTo(ox2.x, ox2.y);
    ctx.stroke();

    // Y-axis
    const oy1 = toCanvas(0, yMin);
    const oy2 = toCanvas(0, yMax);
    ctx.beginPath();
    ctx.moveTo(oy1.x, oy1.y);
    ctx.lineTo(oy2.x, oy2.y);
    ctx.stroke();

    // Tick labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';

    for (let x = Math.ceil(xMin); x <= xMax; x++) {
      if (x === 0) continue;
      const p = toCanvas(x, 0);
      ctx.fillText(x.toString(), p.x, p.y + 4);
    }

    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let y = Math.ceil(yMin); y <= yMax; y += 2) {
      if (y === 0) continue;
      const p = toCanvas(0, y);
      ctx.fillText(y.toString(), p.x - 6, p.y);
    }

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const xLabel = toCanvas(xMax - 0.3, 0);
    ctx.fillText('x', xLabel.x, xLabel.y + 16);
    const yLabel = toCanvas(0, yMax - 0.3);
    ctx.textAlign = 'left';
    ctx.fillText('y', yLabel.x + 8, yLabel.y);
  }

  function drawFunction(fn, color, fromX, toX) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let px = 0; px <= W; px++) {
      const x = xMin + px / scaleX;
      if (x < fromX || x > toX) continue;
      const y = fn(x);
      const p = toCanvas(x, y);
      if (!started) {
        ctx.moveTo(p.x, p.y);
        started = true;
      } else {
        ctx.lineTo(p.x, p.y);
      }
    }
    ctx.stroke();
  }

  function drawPoint(x, y, color, label, labelOffset) {
    const p = toCanvas(x, y);

    // Glow
    const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 16);
    grad.addColorStop(0, color + '80');
    grad.addColorStop(1, color + '00');
    ctx.fillStyle = grad;
    ctx.beginPath();
    ctx.arc(p.x, p.y, 16, 0, Math.PI * 2);
    ctx.fill();

    // Point
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
    ctx.fill();

    // Label
    ctx.fillStyle = color;
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = labelOffset.align || 'left';
    ctx.textBaseline = 'bottom';
    ctx.fillText(label, p.x + (labelOffset.dx || 8), p.y + (labelOffset.dy || -8));
  }

  function drawCriticalLine() {
    // Dashed vertical line at x = 1 (critical point)
    const top = toCanvas(1, yMax);
    const bottom = toCanvas(1, yMin);

    ctx.strokeStyle = '#a78bfa44';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(top.x, top.y);
    ctx.lineTo(bottom.x, bottom.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    const lbl = toCanvas(1, yMax - 1);
    ctx.fillText('x = 1', lbl.x, lbl.y);
  }

  function drawSumAnnotation() {
    // Draw bracket showing sum on x-axis
    const p1 = toCanvas(-1, 0);
    const p2 = toCanvas(7, 0);
    const midX = (p1.x + p2.x) / 2;
    const baseY = p1.y + 44;

    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;

    // Left tick
    ctx.beginPath();
    ctx.moveTo(p1.x, baseY - 6);
    ctx.lineTo(p1.x, baseY + 6);
    ctx.stroke();

    // Right tick
    ctx.beginPath();
    ctx.moveTo(p2.x, baseY - 6);
    ctx.lineTo(p2.x, baseY + 6);
    ctx.stroke();

    // Connecting line
    ctx.beginPath();
    ctx.moveTo(p1.x, baseY);
    ctx.lineTo(p2.x, baseY);
    ctx.stroke();

    // Mid tick down
    ctx.beginPath();
    ctx.moveTo(midX, baseY);
    ctx.lineTo(midX, baseY + 10);
    ctx.stroke();

    // Sum label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    ctx.fillText('zbir = (-1) + 7 = 6', midX, baseY + 14);
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    drawGrid();
    drawCriticalLine();
    drawAxes();

    // y = |2x - 2|
    drawFunction(x => Math.abs(2 * x - 2), '#60a5fa', xMin, xMax);

    // y = x + 5
    drawFunction(x => x + 5, '#4ade80', xMin, xMax);

    // Intersection points
    drawPoint(-1, 4, '#f472b6', '(-1, 4)', { dx: -12, dy: -10, align: 'right' });
    drawPoint(7, 12, '#f472b6', '(7, 12)', { dx: 8, dy: -10 });

    // Solution points on x-axis
    drawPoint(-1, 0, '#a78bfa', 'x\u2081 = -1', { dx: -8, dy: 16, align: 'right' });
    drawPoint(7, 0, '#a78bfa', 'x\u2082 = 7', { dx: 8, dy: 16 });

    // Sum annotation
    drawSumAnnotation();

    // Legend
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(W - 185, 16, 14, 3);
    ctx.fillText('y = |2x \u2212 2|', W - 165, 22);

    ctx.fillStyle = '#4ade80';
    ctx.fillRect(W - 185, 36, 14, 3);
    ctx.fillText('y = x + 5', W - 165, 42);
  }

  draw();

  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir rešenja jednačine |2x − 2| − x = 5",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "linearne jednačine", "zbir rešenja"]
}
BRAINSPARK_META-->