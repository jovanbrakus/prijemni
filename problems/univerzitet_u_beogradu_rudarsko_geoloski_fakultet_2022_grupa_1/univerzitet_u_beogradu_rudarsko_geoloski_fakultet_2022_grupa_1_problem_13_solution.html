<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Površina jednakokrakog trapeza sa normalnim dijagonalama</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Isosceles trapezoid with bases a = 8 cm and b = 6 cm.
  Diagonals intersect at right angles. Find the area.

  Setup: Place trapezoid ABCD in coordinate system, centered at origin.
    A = (-a/2, 0) = (-4, 0)
    B = (a/2, 0) = (4, 0)
    D = (-b/2, h) = (-3, h)
    C = (b/2, h) = (3, h)
  where h is the height of the trapezoid.

  Step 1: Find direction vectors of diagonals.
    AC = C - A = (b/2 - (-a/2), h - 0) = ((a+b)/2, h) = (7, h)
    BD = D - B = (-b/2 - a/2, h - 0) = (-(a+b)/2, h) = (-7, h)

  Step 2: Apply perpendicularity condition.
    AC · BD = 0
    (7)(-7) + (h)(h) = 0
    -(a+b)²/4 + h² = 0
    -49 + h² = 0
    h² = 49
    h = 7 (positive since height)

  General formula: h = (a+b)/2

  Step 3: Compute the area.
    Area = (a + b) / 2 × h
    Area = (a + b) / 2 × (a + b) / 2
    Area = ((a+b)/2)²
    Area = (8 + 6) / 2 × 7
    Area = 7 × 7
    Area = 49 cm²

  Verification: The answer matches option A) 49 cm².

  Alternative verification using diagonal lengths:
    |AC|² = 7² + 7² = 98  =>  |AC| = 7√2
    |BD|² = (-7)² + 7² = 98  =>  |BD| = 7√2
    Diagonals are equal (as expected for isosceles trapezoid). Check!

  Verify perpendicularity at actual intersection point:
    Parametric: P = A + t(C - A) = (-4 + 7t, 7t)
    And: P = B + s(D - B) = (4 - 7s, 7s)
    From y: 7t = 7s => t = s
    From x: -4 + 7t = 4 - 7t => 14t = 8 => t = 4/7
    Intersection point: S = (0, 4)

    Vector SA = A - S = (-4, -4), Vector SB = B - S = (4, -4)
    SA · SB = (-4)(4) + (-4)(-4) = -16 + 16 = 0. Perpendicular confirmed!

  Leg length:
    |AD| = sqrt(1 + 49) = sqrt(50) = 5√2 ≈ 7.07 cm
    |BC| = sqrt(1 + 49) = sqrt(50) = 5√2 (equal, isosceles confirmed)

  Answer: A) 49 cm².
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.5rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.15rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 12px 0;
  overflow-x: auto;
}

.step-container {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  padding: 16px 0;
  border-left: 3px solid transparent;
  padding-left: 16px;
  margin-left: 4px;
  transition: border-color 0.3s, background 0.3s;
  border-radius: 0 8px 8px 0;
  cursor: pointer;
}

.step-container:hover, .step-container.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-badge {
  min-width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  margin-bottom: 8px;
  color: #cbd5e1;
}

.step-note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 10px 16px;
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  user-select: none;
  transition: background 0.2s;
}

details summary:hover {
  background: rgba(96,165,250,0.15);
}

details[open] summary {
  border-radius: 10px 10px 0 0;
  margin-bottom: 0;
}

details .details-content {
  padding: 16px;
  background: rgba(96,165,250,0.04);
  border: 1px solid rgba(96,165,250,0.15);
  border-top: none;
  border-radius: 0 0 10px 10px;
}

details .details-content ul {
  list-style: none;
  padding-left: 0;
}

details .details-content li {
  padding: 6px 0;
  padding-left: 20px;
  position: relative;
}

details .details-content li::before {
  content: '\2022';
  color: #a78bfa;
  position: absolute;
  left: 0;
  font-weight: 700;
}

.checkpoint {
  margin: 15px 0;
}

.checkpoint summary {
  background: rgba(167,139,250,0.08);
  border-color: rgba(167,139,250,0.2);
  color: #a78bfa;
}

.checkpoint summary:hover {
  background: rgba(167,139,250,0.15);
}

.checkpoint[open] summary {
  border-radius: 10px 10px 0 0;
}

.checkpoint .details-content {
  background: rgba(167,139,250,0.04);
  border-color: rgba(167,139,250,0.2);
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 16px;
}

.insight-formula {
  font-size: 1.4rem;
  color: #e2e8f0;
  margin: 16px 0;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #34d399;
  margin-bottom: 20px;
}

.final-answer-value {
  font-size: 2rem;
  font-weight: 700;
  color: #4ade80;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 20px;
}

.option-card {
  padding: 12px 24px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1.05rem;
  min-width: 120px;
  text-align: center;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 16px;
  padding: 12px 16px;
  background: rgba(148,163,184,0.06);
  border-radius: 8px;
  text-align: left;
}

.pitfalls-list {
  list-style: none;
  padding: 0;
}

.pitfalls-list li {
  padding: 10px 0 10px 28px;
  position: relative;
  color: #cbd5e1;
}

.pitfalls-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
  color: #e09468;
}

.plan-text {
  color: #cbd5e1;
  font-size: 1.05rem;
  line-height: 1.8;
}

.canvas-card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
  text-align: center;
}

.canvas-card h2 {
  color: #60a5fa;
  font-size: 1.5rem;
  margin-bottom: 16px;
  text-align: left;
}

canvas {
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 10px;
  font-style: italic;
}

.challenge-card {
  background: rgba(244,114,182,0.05);
  border: 1px solid rgba(244,114,182,0.2);
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 18px; }
  .given-grid { flex-direction: column; }
  .step-container { flex-direction: column; gap: 8px; }
  .options-row { flex-direction: column; align-items: center; }
  .container { padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Naslov -->
  <h1>Površina jednakokrakog trapeza sa normalnim dijagonalama</h1>
  <p class="subtitle">Planimetrija — osobine trapeza, skalarni proizvod vektora, uslov normalnosti dijagonala</p>

  <!-- Postavka zadatka -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Ako se u jednakokrakom trapezu sa osnovicama \( a = 8 \text{ cm} \) i \( b = 6 \text{ cm} \) dijagonale seku pod <span class="highlight">pravim uglom</span>, tada je površina trapeza:</p>

    <div class="given-grid" style="margin-bottom: 16px;">
      <div class="given-item">
        <div class="label">Duža osnovica</div>
        <div class="value">\( a = 8 \text{ cm} \)</div>
      </div>
      <div class="given-item">
        <div class="label">Kraća osnovica</div>
        <div class="value">\( b = 6 \text{ cm} \)</div>
      </div>
      <div class="given-item">
        <div class="label">Ugao dijagonala</div>
        <div class="value">\( 90° \)</div>
      </div>
    </div>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 49 \text{ cm}^2 \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 50 \text{ cm}^2 \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 45 \text{ cm}^2 \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 42 \text{ cm}^2 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <h2>Plan rešavanja</h2>
    <p class="plan-text">Postavićemo jednakokraki trapez u koordinatni sistem tako da bude simetričan u odnosu na \( y \)-osu. Izrazićemo vektore dijagonala pomoću koordinata temena, a zatim ćemo iz uslova normalnosti (skalarni proizvod = 0) odrediti visinu \( h \). Na kraju, izračunavaćemo površinu standardnom formulom za trapez.</p>
  </div>

  <!-- Teorija -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="details-content">
        <ul>
          <li><strong>Površina trapeza:</strong> \( P = \dfrac{a + b}{2} \cdot h \), gde su \( a \) i \( b \) dužine osnovica, a \( h \) je visina trapeza.</li>
          <li><strong>Skalarni proizvod vektora:</strong> Za vektore \( \vec{u} = (u_1, u_2) \) i \( \vec{v} = (v_1, v_2) \) važi \( \vec{u} \cdot \vec{v} = u_1 v_1 + u_2 v_2 \). Dva vektora su <em>normalna</em> (međusobno upravna) ako i samo ako je \( \vec{u} \cdot \vec{v} = 0 \).</li>
          <li><strong>Jednakokraki trapez:</strong> Trapez čiji su kraci jednake dužine. Dijagonale su mu jednake dužine, a ima osu simetrije koja je normala na osnovice i prolazi kroz njihove sredine.</li>
          <li><strong>Koordinatni metod u geometriji:</strong> Postavljanje figure u koordinatni sistem omogućava prevođenje geometrijskih uslova u algebarske jednačine.</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Vizuelni prikaz -->
  <div class="canvas-card">
    <h2>Interaktivni dijagram</h2>
    <canvas id="trapezCanvas" width="700" height="520"></canvas>
    <p class="drag-hint">Jednakokraki trapez ABCD sa dijagonalama koje se seku pod pravim uglom u tački S.</p>
  </div>

  <!-- Rešenje korak po korak -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Postavljamo trapez u koordinatni sistem</h3>
        <p>Neka je \( ABCD \) jednakokraki trapez, gde je \( AB = a = 8 \) duža osnovica (na \( x \)-osi), a \( CD = b = 6 \) kraća osnovica (na visini \( h \)). Centriramo ga u odnosu na \( y \)-osu:</p>
        <div class="math-block">
          \[ A = \left(-\frac{a}{2},\; 0\right) = (-4,\; 0), \qquad B = \left(\frac{a}{2},\; 0\right) = (4,\; 0) \]
        </div>
        <div class="math-block">
          \[ D = \left(-\frac{b}{2},\; h\right) = (-3,\; h), \qquad C = \left(\frac{b}{2},\; h\right) = (3,\; h) \]
        </div>
        <p class="step-note">Visina \( h \) je za sada nepoznata — upravo nju treba da odredimo iz uslova o dijagonalama.</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Nalazimo vektore dijagonala</h3>
        <p>Dijagonala \( AC \) spaja teme \( A \) sa temenom \( C \):</p>
        <div class="math-block">
          \[ \vec{AC} = C - A = \left(3 - (-4),\; h - 0\right) = \left(\frac{a+b}{2},\; h\right) = (7,\; h) \]
        </div>
        <p>Dijagonala \( BD \) spaja teme \( B \) sa temenom \( D \):</p>
        <div class="math-block">
          \[ \vec{BD} = D - B = \left(-3 - 4,\; h - 0\right) = \left(-\frac{a+b}{2},\; h\right) = (-7,\; h) \]
        </div>
        <p class="step-note">Primetimo: \( x \)-komponente su suprotnog znaka jer je trapez simetričan u odnosu na \( y \)-osu — jedna dijagonala ide „udesno-gore", a druga „ulevo-gore".</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Zašto je \( x \)-komponenta obe dijagonale jednaka \( \frac{a+b}{2} \) po apsolutnoj vrednosti?</summary>
      <div class="details-content">
        <p>Dijagonala \( AC \) ide od \( x = -\frac{a}{2} \) do \( x = +\frac{b}{2} \), pa je promena po \( x \)-osi jednaka:</p>
        <p>\( \frac{b}{2} - \left(-\frac{a}{2}\right) = \frac{a + b}{2} = \frac{8 + 6}{2} = 7 \)</p>
        <p>Analogno za drugu dijagonalu, samo u suprotnom smeru.</p>
      </div>
    </details>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Primenjujemo uslov normalnosti</h3>
        <p>Dijagonale se seku pod pravim uglom, što znači da su vektori \( \vec{AC} \) i \( \vec{BD} \) normalni. Uslov normalnosti je da skalarni proizvod bude jednak nuli:</p>
        <div class="math-block">
          \[ \vec{AC} \cdot \vec{BD} = 0 \]
        </div>
        <p>Zamenjujemo koordinate:</p>
        <div class="math-block">
          \[ 7 \cdot (-7) + h \cdot h = 0 \]
        </div>
        <div class="math-block">
          \[ -49 + h^2 = 0 \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Određujemo visinu trapeza</h3>
        <p>Rešavamo jednačinu iz prethodnog koraka:</p>
        <div class="math-block">
          \[ h^2 = 49 \]
        </div>
        <div class="math-block">
          \[ h = 7 \text{ cm} \]
        </div>
        <p class="step-note">Uzimamo pozitivnu vrednost jer \( h \) predstavlja dužinu (visinu trapeza).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Da li se dijagonale zaista seku pod 90°?</summary>
      <div class="details-content">
        <p>Nađimo tačku preseka \( S \). Parametarski:</p>
        <p>\( \text{Tačka na } AC\!: (-4 + 7t,\; 7t) \), \(\text{Tačka na } BD\!: (4 - 7s,\; 7s) \)</p>
        <p>Iz jednakosti \( y \)-koordinata: \( 7t = 7s \Rightarrow t = s \).</p>
        <p>Iz jednakosti \( x \)-koordinata: \( -4 + 7t = 4 - 7t \Rightarrow 14t = 8 \Rightarrow t = \frac{4}{7} \).</p>
        <p>Dakle: \( S = (0,\; 4) \). Sada proverimo: vektor od \( S \) ka \( A \) je \( (-4, -4) \), a od \( S \) ka \( B \) je \( (4, -4) \).</p>
        <p>\( (-4) \cdot 4 + (-4) \cdot (-4) = -16 + 16 = 0 \). Potvrđeno — ugao je zaista 90°!</p>
      </div>
    </details>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Računamo površinu trapeza</h3>
        <p>Sada kad znamo da je visina \( h = 7 \text{ cm} \), primenjujemo formulu za površinu trapeza:</p>
        <div class="math-block">
          \[ P = \frac{a + b}{2} \cdot h \]
        </div>
        <p>Zamenjujemo poznate vrednosti:</p>
        <div class="math-block">
          \[ P = \frac{8 + 6}{2} \cdot 7 = \frac{14}{2} \cdot 7 = 7 \cdot 7 = 49 \text{ cm}^2 \]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Kolika je dužina dijagonale?</summary>
      <div class="details-content">
        <p>\( |AC| = \sqrt{7^2 + 7^2} = \sqrt{98} = 7\sqrt{2} \approx 9{,}90 \text{ cm} \)</p>
        <p>Dijagonala \( BD \) ima istu dužinu (trapez je jednakokraki), što potvrđuje korektnost rešenja.</p>
      </div>
    </details>
  </div>

  <!-- Ključni uvid -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color: #cbd5e1; margin-bottom: 16px;">Zahvaljujući simetriji jednakokrakog trapeza, vektori dijagonala imaju oblik \( \left(\frac{a+b}{2},\; h\right) \) i \( \left(-\frac{a+b}{2},\; h\right) \). Uslov normalnosti daje:</p>
    <div class="insight-formula">
      \[ -\left(\frac{a+b}{2}\right)^{\!2} + h^2 = 0 \quad\Longrightarrow\quad h = \frac{a+b}{2} \]
    </div>
    <p style="color: #cbd5e1; margin-top: 16px;">A površina postaje savršen kvadrat:</p>
    <div class="insight-formula" style="color: #4ade80; font-size: 1.6rem;">
      \[ P = \frac{a+b}{2} \cdot h = \left(\frac{a+b}{2}\right)^{\!2} \]
    </div>
    <p style="color: #94a3b8; font-size: 0.92rem; margin-top: 12px;">Za \( a = 8 \) i \( b = 6 \): \( P = 7^2 = 49 \text{ cm}^2 \). Prelep rezultat!</p>
  </div>

  <!-- Konačan odgovor -->
  <div class="final-answer-box">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">\( P = 49 \text{ cm}^2 \)</div>

    <div class="options-row">
      <div class="option-card correct">(A) \( 49 \text{ cm}^2 \)</div>
      <div class="option-card">(B) \( 50 \text{ cm}^2 \)</div>
      <div class="option-card">(C) \( 45 \text{ cm}^2 \)</div>
      <div class="option-card">(D) \( 42 \text{ cm}^2 \)</div>
    </div>

    <div class="verification-note">
      <strong>Provera:</strong> Kraci trapeza imaju dužinu \( |AD| = \sqrt{1^2 + 7^2} = \sqrt{50} = 5\sqrt{2} \approx 7{,}07 \text{ cm} \) — oba su jednaka, pa je trapez zaista jednakokraki. Dijagonale dužine \( 7\sqrt{2} \approx 9{,}9 \text{ cm} \) se seku u tački \( S(0, 4) \) pod pravim uglom — sve je konzistentno.
    </div>
  </div>

  <!-- Česte greške -->
  <div class="card">
    <h2>Česte greške</h2>
    <ul class="pitfalls-list">
      <li>Pogrešno postavljanje koordinata — ako trapez nije centriran na \( y \)-osi, račun postaje značajno komplikovaniji, a lako se pogreši u računanju vektora dijagonala.</li>
      <li>Zamena \( x \)-komponente dijagonala sa \( \frac{a-b}{2} \) umesto \( \frac{a+b}{2} \). Dijagonala spaja teme jedne osnovice sa nasuprotnim temenom druge — promena po \( x \)-u je zbir poluosnova, ne razlika!</li>
      <li>Korišćenje formule \( P = \frac{d_1 \cdot d_2}{2} \) koja važi za četvorougao sa dijagonalama koje se uzajamno polove pod pravim uglom (romb, kvadrat) — ali u trapezu dijagonale se ne polove, pa ova formula daje pogrešan rezultat.</li>
    </ul>
  </div>

  <!-- Izazov -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p style="color: #cbd5e1;">Ako bi dijagonale jednakokrakog trapeza sa osnovicama \( a \) i \( b \) zaklapale ugao od \( 60° \) (umesto \( 90° \)), kolika bi bila visina trapeza?</p>
    <details>
      <summary>Hint</summary>
      <div class="details-content">
        <p>Koristite formulu za ugao između dva vektora: \( \cos\theta = \frac{\vec{u} \cdot \vec{v}}{|\vec{u}||\vec{v}|} \). Za jednakokraki trapez dijagonale su jednake dužine, pa se formula uprošćava. Zamislite: za \( \theta = 60° \), skalarni proizvod nije nula, već polovina proizvoda dužina.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('trapezCanvas');
  const ctx = canvas.getContext('2d');

  // Real trapezoid dimensions
  const a = 8, b = 6, h = 7;
  // Scale and origin for canvas
  const scale = 38;
  const originX = canvas.width / 2;
  const originY = canvas.height - 70;

  // Transform: y-axis points UP
  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  // Trapezoid vertices in math coords
  let Ax = -a/2, Ay = 0;
  let Bx = a/2, By = 0;
  let Cx = b/2, Cy = h;
  let Dx = -b/2, Dy = h;

  // Intersection of diagonals
  function diagIntersection() {
    // AC parametric: A + t(C-A), BD parametric: B + s(D-B)
    // Solve:
    const dACx = Cx - Ax, dACy = Cy - Ay;
    const dBDx = Dx - Bx, dBDy = Dy - By;
    // A + t*dAC = B + s*dBD
    // Ax + t*dACx = Bx + s*dBDx  ... (i)
    // Ay + t*dACy = By + s*dBDy  ... (ii)
    const det = dACx * (-dBDy) - dACy * (-dBDx);
    if (Math.abs(det) < 1e-10) return null;
    const t = ((Bx - Ax) * (-dBDy) - (By - Ay) * (-dBDx)) / det;
    return { x: Ax + t * dACx, y: Ay + t * dACy };
  }

  function drawAll() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -12; gx <= 12; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 10);
      ctx.lineTo(p.x, canvas.height - 10);
      ctx.stroke();
    }
    for (let gy = -2; gy <= 12; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(10, p.y);
      ctx.lineTo(canvas.width - 10, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(10, originY);
    ctx.lineTo(canvas.width - 10, originY);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(originX, canvas.height - 10);
    ctx.lineTo(originX, 10);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = -8; gx <= 8; gx += 2) {
      if (gx === 0) continue;
      const p = toCanvas(gx, 0);
      ctx.fillText(String(gx), p.x, p.y + 18);
    }
    ctx.textAlign = 'right';
    for (let gy = 2; gy <= 10; gy += 2) {
      const p = toCanvas(0, gy);
      ctx.fillText(String(gy), p.x - 8, p.y + 5);
    }

    // Get canvas coordinates
    const pA = toCanvas(Ax, Ay);
    const pB = toCanvas(Bx, By);
    const pC = toCanvas(Cx, Cy);
    const pD = toCanvas(Dx, Dy);

    // Fill trapezoid
    ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pB.x, pB.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.lineTo(pD.x, pD.y);
    ctx.closePath();
    ctx.fill();

    // Trapezoid edges
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pB.x, pB.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.lineTo(pD.x, pD.y);
    ctx.closePath();
    ctx.stroke();

    // Diagonals (dashed)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 5]);
    ctx.beginPath();
    ctx.moveTo(pA.x, pA.y);
    ctx.lineTo(pC.x, pC.y);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(pB.x, pB.y);
    ctx.lineTo(pD.x, pD.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Intersection point
    const S = diagIntersection();
    if (S) {
      const pS = toCanvas(S.x, S.y);

      // Right angle marker at intersection point
      // Use canvas-space unit vectors along diagonal directions SA and SB
      const pAdir = { x: pA.x - pS.x, y: pA.y - pS.y };
      const pBdir = { x: pB.x - pS.x, y: pB.y - pS.y };
      const lenPA = Math.sqrt(pAdir.x * pAdir.x + pAdir.y * pAdir.y);
      const lenPB = Math.sqrt(pBdir.x * pBdir.x + pBdir.y * pBdir.y);
      if (lenPA > 1 && lenPB > 1) {
        const uPA = { x: pAdir.x / lenPA, y: pAdir.y / lenPA };
        const uPB = { x: pBdir.x / lenPB, y: pBdir.y / lenPB };
        const ms = 14;
        ctx.strokeStyle = '#4ade80';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(pS.x + uPA.x * ms, pS.y + uPA.y * ms);
        ctx.lineTo(pS.x + uPA.x * ms + uPB.x * ms, pS.y + uPA.y * ms + uPB.y * ms);
        ctx.lineTo(pS.x + uPB.x * ms, pS.y + uPB.y * ms);
        ctx.stroke();
      }

      // Intersection dot
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(pS.x, pS.y, 5, 0, Math.PI * 2);
      ctx.fill();

      // Label S
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('S(0, 4)', pS.x + 10, pS.y - 8);
    }

    // Height line (dashed, from midpoint of CD down)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([5, 4]);
    const pHtop = toCanvas(0, Cy);
    const pHbot = toCanvas(0, 0);
    ctx.beginPath();
    ctx.moveTo(pHtop.x, pHtop.y);
    ctx.lineTo(pHbot.x, pHbot.y);
    ctx.stroke();
    ctx.setLineDash([]);

    // Height label
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    const pHmid = toCanvas(0, Cy / 2);
    ctx.fillText('h = 7', pHmid.x + 8, pHmid.y);

    // Base labels
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const pABmid = toCanvas(0, -0.6);
    ctx.fillText('a = 8', pABmid.x, pABmid.y);
    const pCDmid = toCanvas(0, Cy + 0.6);
    ctx.fillText('b = 6', pCDmid.x, pCDmid.y);

    // Vertex labels
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';

    ctx.fillStyle = '#e2e8f0';
    ctx.textAlign = 'right';
    ctx.fillText('A(-4, 0)', pA.x - 10, pA.y + 20);

    ctx.textAlign = 'left';
    ctx.fillText('B(4, 0)', pB.x + 10, pB.y + 20);

    ctx.textAlign = 'left';
    ctx.fillText('C(3, 7)', pC.x + 10, pC.y - 10);

    ctx.textAlign = 'right';
    ctx.fillText('D(-3, 7)', pD.x - 10, pD.y - 10);

    // Vertex dots
    const vertices = [pA, pB, pC, pD];
    vertices.forEach(p => {
      ctx.fillStyle = '#e2e8f0';
      ctx.beginPath();
      ctx.arc(p.x, p.y, 5, 0, Math.PI * 2);
      ctx.fill();
    });

    // 90° label near intersection
    if (S) {
      const pS = toCanvas(S.x, S.y);
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('90°', pS.x + 25, pS.y + 25);
    }

    // Area label
    ctx.fillStyle = 'rgba(96, 165, 250, 0.5)';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const pCenter = toCanvas(0, 3);
    ctx.fillText('P = 49 cm\u00B2', pCenter.x, pCenter.y);
  }

  drawAll();

  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Površina jednakokrakog trapeza sa normalnim dijagonalama",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["trapez", "jednakokraki trapez", "dijagonale", "skalarni proizvod", "površina", "normalnost vektora"]
}
BRAINSPARK_META-->