<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir prvih deset članova aritmetičke progresije</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem: Arithmetic progression where
  a₁ + a₅ = 26
  a₃ + a₄ = 30
Find S₁₀.

General term: aₙ = a₁ + (n-1)d

Express conditions:
  a₁ + a₅ = a₁ + (a₁ + 4d) = 2a₁ + 4d = 26   ...(1)
  a₃ + a₄ = (a₁ + 2d) + (a₁ + 3d) = 2a₁ + 5d = 30   ...(2)

Subtract (1) from (2):
  (2a₁ + 5d) - (2a₁ + 4d) = 30 - 26
  d = 4

Substitute d = 4 into (1):
  2a₁ + 4·4 = 26
  2a₁ + 16 = 26
  2a₁ = 10
  a₁ = 5

Sum formula: S_n = n/2 · (2a₁ + (n-1)d)
  S₁₀ = 10/2 · (2·5 + 9·4)
       = 5 · (10 + 36)
       = 5 · 46
       = 230

Answer: B) 230

Verification:
First 10 terms: 5, 9, 13, 17, 21, 25, 29, 33, 37, 41
Check: a₁ + a₅ = 5 + 21 = 26 ✓
Check: a₃ + a₄ = 13 + 17 = 30 ✓
Sum: 5+9+13+17+21+25+29+33+37+41 = 230 ✓
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.highlight-text {
  color: #60a5fa;
  font-weight: 600;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #e2e8f0;
  font-size: 1rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #c4b5fd;
}

.theory-list {
  margin-top: 12px;
  padding-left: 10px;
}

.theory-list li {
  list-style: none;
  margin-bottom: 12px;
  padding-left: 20px;
  position: relative;
  color: #e2e8f0;
}

.theory-list li::before {
  content: '▸';
  position: absolute;
  left: 0;
  color: #60a5fa;
}

.step-container {
  margin-bottom: 20px;
  padding: 16px 20px;
  border-left: 3px solid transparent;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.step-container:hover,
.step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 10px;
}

.step-badge {
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #fff;
  flex-shrink: 0;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint .answer {
  margin-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 14px;
}

.insight-formula {
  font-size: 1.3rem;
  color: #4ade80;
  margin: 12px 0;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(74,222,128,0.3);
  border-radius: 14px;
  padding: 28px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 16px;
}

.final-answer-value {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 14px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  justify-content: center;
  margin-top: 18px;
}

.option-card {
  background: rgba(56,189,248,0.06);
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 12px 22px;
  text-align: center;
  min-width: 80px;
  transition: all 0.3s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.option-card .opt-letter {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
}

.option-card.correct .opt-letter {
  color: #4ade80;
}

.option-card .opt-value {
  font-size: 1.2rem;
  font-weight: 700;
  color: #e2e8f0;
}

.option-card.correct .opt-value {
  color: #4ade80;
}

.verification {
  margin-top: 16px;
  padding: 14px 18px;
  background: rgba(52,211,153,0.06);
  border: 1px solid rgba(52,211,153,0.15);
  border-radius: 8px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.pitfall-item {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #e09468;
  font-size: 1.1rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.pitfall-text {
  color: #e2e8f0;
  font-size: 0.95rem;
}

.canvas-wrapper {
  text-align: center;
}

canvas {
  border-radius: 10px;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-top: 8px;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .container { padding: 10px; }
  .card { padding: 16px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 8px 12px; }
  .options-row { gap: 8px; }
  .option-card { min-width: 60px; padding: 10px 14px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Zbir članova aritmetičke progresije</h1>
  <p class="subtitle">Aritmetički nizovi — određivanje prvog člana, razlike i zbira prvih n članova</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>
      Ako je zbir prvog i petog člana aritmetičke progresije
      <span class="highlight-text">\(a_1 + a_5 = 26\)</span>, a zbir trećeg i četvrtog je
      <span class="highlight-text">\(a_3 + a_4 = 30\)</span>, onda je zbir prvih deset članova
      progresije \(S_{10}\) jednak:
    </p>
    <div class="given-grid">
      <div class="given-item">
        <div class="label">Uslov 1</div>
        <div class="value">\(a_1 + a_5 = 26\)</div>
      </div>
      <div class="given-item">
        <div class="label">Uslov 2</div>
        <div class="value">\(a_3 + a_4 = 30\)</div>
      </div>
      <div class="given-item">
        <div class="label">Traži se</div>
        <div class="value">\(S_{10}\)</div>
      </div>
    </div>
    <div class="given-grid" style="margin-top:14px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(225\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(230\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(235\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(240\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>
      Izrazićemo sve članove progresije pomoću prvog člana \(a_1\) i razlike \(d\), zatim iz dva data uslova
      formirati sistem od dve jednačine sa dve nepoznate. Nakon što nađemo \(a_1\) i \(d\),
      primenićemo formulu za zbir prvih \(n\) članova aritmetičkog niza.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <ul class="theory-list">
        <li>
          <strong>Opšti član aritmetičke progresije:</strong>
          \[ a_n = a_1 + (n - 1) \cdot d \]
          gde je \(a_1\) prvi član, a \(d\) razlika progresije.
        </li>
        <li>
          <strong>Zbir prvih \(n\) članova (formula 1):</strong>
          \[ S_n = \frac{n}{2} \cdot (2a_1 + (n - 1) \cdot d) \]
        </li>
        <li>
          <strong>Zbir prvih \(n\) članova (formula 2):</strong>
          \[ S_n = \frac{n}{2} \cdot (a_1 + a_n) \]
          gde je \(a_n\) poslednji član koji sabiramo.
        </li>
        <li>
          <strong>Svojstvo simetrije:</strong> U aritmetičkoj progresiji, zbir dva člana jednako udaljena od krajeva
          je konstantan: \(a_k + a_{n+1-k} = a_1 + a_n\).
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz progresije</h2>
    <div class="canvas-wrapper">
      <canvas id="progressionCanvas" width="800" height="380"></canvas>
      <p class="canvas-hint">Prikaz prvih 10 članova aritmetičke progresije sa \(a_1 = 5\) i \(d = 4\)</p>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-header">
        <div class="step-badge">1</div>
        <h3>Zapisujemo opšti član progresije</h3>
      </div>
      <p>
        Svaki član aritmetičke progresije izražavamo pomoću prvog člana \(a_1\) i razlike \(d\):
      </p>
      <div class="math-block">
        \[ a_n = a_1 + (n - 1) \cdot d \]
      </div>
      <p>Dakle, za članove koji se pominju u zadatku:</p>
      <div class="math-block">
        \[ \begin{align}
        a_3 &= a_1 + 2d \\
        a_4 &= a_1 + 3d \\
        a_5 &= a_1 + 4d
        \end{align} \]
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-header">
        <div class="step-badge">2</div>
        <h3>Postavljamo sistem jednačina</h3>
      </div>
      <p>Iz prvog uslova \(a_1 + a_5 = 26\):</p>
      <div class="math-block">
        \[ a_1 + (a_1 + 4d) = 26 \]
        \[ 2a_1 + 4d = 26 \quad \cdots (1) \]
      </div>
      <p>Iz drugog uslova \(a_3 + a_4 = 30\):</p>
      <div class="math-block">
        \[ (a_1 + 2d) + (a_1 + 3d) = 30 \]
        \[ 2a_1 + 5d = 30 \quad \cdots (2) \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Kolika je razlika koeficijenata uz \(d\) u jednačinama (1) i (2)?</summary>
      <div class="answer">
        U jednačini (1) koeficijent uz \(d\) je 4, a u jednačini (2) je 5. Razlika je \(5 - 4 = 1\),
        što znači da se \(a_1\) poništava oduzimanjem i ostaje samo \(d\).
      </div>
    </details>

    <div class="step-container" id="step3">
      <div class="step-header">
        <div class="step-badge">3</div>
        <h3>Oduzimamo jednačine da nađemo \(d\)</h3>
      </div>
      <p>Oduzimamo jednačinu (1) od jednačine (2):</p>
      <div class="math-block">
        \[ (2a_1 + 5d) - (2a_1 + 4d) = 30 - 26 \]
      </div>
      <p>Članovi sa \(a_1\) se poništavaju:</p>
      <div class="math-block">
        \[ d = 4 \]
      </div>
      <p class="note">Razlika progresije je \(d = 4\), što znači da se svaki naredni član uvećava za 4.</p>
    </div>

    <div class="step-container" id="step4">
      <div class="step-header">
        <div class="step-badge">4</div>
        <h3>Nalazimo prvi član \(a_1\)</h3>
      </div>
      <p>Zamenjujemo \(d = 4\) u jednačinu (1):</p>
      <div class="math-block">
        \[ 2a_1 + 4 \cdot 4 = 26 \]
        \[ 2a_1 + 16 = 26 \]
        \[ 2a_1 = 10 \]
        \[ a_1 = 5 \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Da li naši \(a_1 = 5\) i \(d = 4\) zadovoljavaju oba uslova?</summary>
      <div class="answer">
        \(a_1 + a_5 = 5 + (5 + 4 \cdot 4) = 5 + 21 = 26\) — tačno!<br>
        \(a_3 + a_4 = (5 + 8) + (5 + 12) = 13 + 17 = 30\) — tačno!
      </div>
    </details>

    <div class="step-container" id="step5">
      <div class="step-header">
        <div class="step-badge">5</div>
        <h3>Računamo zbir prvih 10 članova</h3>
      </div>
      <p>Primenjujemo formulu za zbir sa \(n = 10\), \(a_1 = 5\), \(d = 4\):</p>
      <div class="math-block">
        \[ S_{10} = \frac{10}{2} \cdot \big(2 \cdot 5 + (10 - 1) \cdot 4\big) \]
      </div>
      <p>Računamo unutar zagrade:</p>
      <div class="math-block">
        \[ S_{10} = 5 \cdot (10 + 36) \]
        \[ S_{10} = 5 \cdot 46 \]
        \[ \boxed{S_{10} = 230} \]
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri se: Koliko iznosi deseti član \(a_{10}\)?</summary>
      <div class="answer">
        \(a_{10} = 5 + 9 \cdot 4 = 5 + 36 = 41\). Alternativna provera:
        \(S_{10} = \frac{10}{2} \cdot (a_1 + a_{10}) = 5 \cdot (5 + 41) = 5 \cdot 46 = 230\). Isto!
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color:#e2e8f0; margin-bottom:10px;">
      Dva uslova u ovom zadatku se razlikuju samo u koeficijentu uz \(d\) (4 naspram 5), dok je
      koeficijent uz \(a_1\) isti (2). Zato se prostim oduzimanjem odmah dobija razlika \(d\),
      bez potrebe za komplikovanijim metodama.
    </p>
    <div class="insight-formula">
      \[ S_{10} = 5 \cdot (10 + 36) = 230 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konačan odgovor</h2>
    <div class="final-answer-value">\(S_{10} = 230\)</div>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-letter">(A)</div>
        <div class="opt-value">225</div>
      </div>
      <div class="option-card correct">
        <div class="opt-letter">(B)</div>
        <div class="opt-value">230</div>
      </div>
      <div class="option-card">
        <div class="opt-letter">(C)</div>
        <div class="opt-value">235</div>
      </div>
      <div class="option-card">
        <div class="opt-letter">(D)</div>
        <div class="opt-value">240</div>
      </div>
    </div>
    <div class="verification">
      <strong>Verifikacija:</strong> Prvih 10 članova su: 5, 9, 13, 17, 21, 25, 29, 33, 37, 41.
      Njihov zbir je \(5 + 9 + 13 + 17 + 21 + 25 + 29 + 33 + 37 + 41 = 230\).
      Takođe, \(a_1 + a_5 = 5 + 21 = 26\) i \(a_3 + a_4 = 13 + 17 = 30\), čime su oba uslova potvrđena.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Česte greške</h2>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#9888;</span>
      <span class="pitfall-text">
        <strong>Pogrešan indeks u formuli za opšti član:</strong> Peti član je \(a_5 = a_1 + 4d\) (množimo sa \(n-1 = 4\), ne sa 5).
        Česta greška je pisanje \(a_5 = a_1 + 5d\), što bi dalo pogrešan sistem.
      </span>
    </div>
    <div class="pitfall-item">
      <span class="pitfall-icon">&#9888;</span>
      <span class="pitfall-text">
        <strong>Greška u formuli za zbir:</strong> U formuli \(S_n = \frac{n}{2}(2a_1 + (n-1)d)\), množi se sa
        \(n - 1 = 9\), ne sa \(n = 10\). Pogrešan koeficijent bi dao \(S_{10} = 5 \cdot (10 + 40) = 250\).
      </span>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Za istu aritmetičku progresiju (\(a_1 = 5\), \(d = 4\)), odredi koliko najmanje prvih članova
      treba sabrati da zbir prevaziđe 1000.
    </p>
    <details>
      <summary>Pomoć</summary>
      <div class="answer" style="margin-top:10px;">
        Treba rešiti nejednačinu \(S_n > 1000\), tj. \(\frac{n}{2}(2 \cdot 5 + (n-1) \cdot 4) > 1000\).
        Svedi na kvadratnu nejednačinu \(2n^2 + 3n - 1000 > 0\) i nađi najmanji prirodan broj \(n\) koji je zadovoljava.
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas: visual representation of the arithmetic progression
  const canvas = document.getElementById('progressionCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  const a1 = 5;
  const d = 4;
  const n = 10;
  const terms = [];
  for (let i = 0; i < n; i++) {
    terms.push(a1 + i * d);
  }
  const maxVal = terms[n - 1]; // 41

  // Layout
  const marginLeft = 50;
  const marginRight = 30;
  const marginTop = 50;
  const marginBottom = 70;
  const plotW = W - marginLeft - marginRight;
  const plotH = H - marginTop - marginBottom;

  function draw() {
    // Clear
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid and axes
    const xStep = plotW / (n - 1);
    const yScale = plotH / (maxVal + 5);

    // Y-axis gridlines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let v = 0; v <= 45; v += 5) {
      const y = marginTop + plotH - v * yScale;
      ctx.beginPath();
      ctx.moveTo(marginLeft, y);
      ctx.lineTo(W - marginRight, y);
      ctx.stroke();

      ctx.fillStyle = '#94a3b8';
      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(v.toString(), marginLeft - 8, y + 4);
    }

    // X-axis labels
    ctx.textAlign = 'center';
    for (let i = 0; i < n; i++) {
      const x = marginLeft + i * xStep;
      const label = 'a' + (i + 1);
      ctx.fillStyle = '#94a3b8';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(label, x, marginTop + plotH + 22);
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(marginLeft, marginTop);
    ctx.lineTo(marginLeft, marginTop + plotH);
    ctx.lineTo(W - marginRight, marginTop + plotH);
    ctx.stroke();

    // Draw bars for each term
    const barWidth = Math.min(xStep * 0.55, 50);
    for (let i = 0; i < n; i++) {
      const x = marginLeft + i * xStep;
      const barH = terms[i] * yScale;
      const barX = x - barWidth / 2;
      const barY = marginTop + plotH - barH;

      // Bar gradient
      const grad = ctx.createLinearGradient(barX, barY, barX, marginTop + plotH);
      grad.addColorStop(0, '#60a5fa');
      grad.addColorStop(1, 'rgba(96,165,250,0.3)');
      ctx.fillStyle = grad;

      // Rounded top
      const r = 4;
      ctx.beginPath();
      ctx.moveTo(barX + r, barY);
      ctx.lineTo(barX + barWidth - r, barY);
      ctx.quadraticCurveTo(barX + barWidth, barY, barX + barWidth, barY + r);
      ctx.lineTo(barX + barWidth, marginTop + plotH);
      ctx.lineTo(barX, marginTop + plotH);
      ctx.lineTo(barX, barY + r);
      ctx.quadraticCurveTo(barX, barY, barX + r, barY);
      ctx.closePath();
      ctx.fill();

      // Value on top
      ctx.fillStyle = '#e2e8f0';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(terms[i].toString(), x, barY - 8);
    }

    // Draw the "d = 4" arrows between consecutive bars
    ctx.strokeStyle = '#a78bfa';
    ctx.fillStyle = '#a78bfa';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    for (let i = 0; i < n - 1; i++) {
      const x1 = marginLeft + i * xStep;
      const x2 = marginLeft + (i + 1) * xStep;
      const yBase = marginTop + plotH + 40;

      ctx.beginPath();
      ctx.moveTo(x1, yBase);
      ctx.lineTo(x2, yBase);
      ctx.stroke();

      // Arrow head
      ctx.setLineDash([]);
      ctx.beginPath();
      ctx.moveTo(x2 - 5, yBase - 3);
      ctx.lineTo(x2, yBase);
      ctx.lineTo(x2 - 5, yBase + 3);
      ctx.stroke();
      ctx.setLineDash([4, 3]);

      // "+4" label
      if (i % 2 === 0) {
        ctx.font = '11px Segoe UI, system-ui, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('+4', (x1 + x2) / 2, yBase - 6);
      }
    }
    ctx.setLineDash([]);

    // Title
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Aritmetička progresija: a\u2081 = 5, d = 4', W / 2, 25);

    // Sum annotation
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('S\u2081\u2080 = 230', W - marginRight - 5, 25);

    // Highlight pairs: a1+a5=26 and a3+a4=30
    drawPairBrace(0, 4, '= 26', '#f472b6');
    drawPairBrace(2, 3, '= 30', '#34d399');
  }

  function drawPairBrace(i, j, label, color) {
    const xStep = plotW / (n - 1);
    const x1 = marginLeft + i * xStep;
    const x2 = marginLeft + j * xStep;
    const yTop1 = marginTop + plotH - terms[i] * (plotH / (maxVal + 5));
    const yTop2 = marginTop + plotH - terms[j] * (plotH / (maxVal + 5));
    const braceY = Math.min(yTop1, yTop2) - 22;

    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.setLineDash([3, 2]);
    ctx.beginPath();
    ctx.moveTo(x1, yTop1 - 14);
    ctx.lineTo(x1, braceY);
    ctx.lineTo(x2, braceY);
    ctx.lineTo(x2, yTop2 - 14);
    ctx.stroke();
    ctx.setLineDash([]);

    ctx.fillStyle = color;
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(label, (x1 + x2) / 2, braceY - 5);
  }

  draw();
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir prvih deset članova aritmetičke progresije",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["aritmetička progresija", "zbir niza", "sistem jednačina", "nizovi"]
}
BRAINSPARK_META-->