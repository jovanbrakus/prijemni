<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Racionalizacija imenilaca - Rešenje</title>

<script type="text/info" id="logic-scratchpad">
Problem: Izračunati vrednost izraza
  2/(2 - sqrt(2)) + 7/(3 - sqrt(2)) + 28/(4 + sqrt(2))

Ponuđeni odgovori: A) 13, B) 25/2 - sqrt(2)/6, C) 12, D) 25/2 + sqrt(2)/6

Strategija: Racionalizovati svaki razlomak množenjem brojioca i imenioca konjugovanim izrazom.

--- Razlomak 1 ---
2/(2 - sqrt(2))
Množimo sa (2 + sqrt(2))/(2 + sqrt(2)):
  Brojilac: 2 * (2 + sqrt(2)) = 4 + 2*sqrt(2)
  Imenilac: (2 - sqrt(2))(2 + sqrt(2)) = 4 - 2 = 2
  Rezultat: (4 + 2*sqrt(2)) / 2 = 2 + sqrt(2)

--- Razlomak 2 ---
7/(3 - sqrt(2))
Množimo sa (3 + sqrt(2))/(3 + sqrt(2)):
  Brojilac: 7 * (3 + sqrt(2)) = 21 + 7*sqrt(2)
  Imenilac: (3 - sqrt(2))(3 + sqrt(2)) = 9 - 2 = 7
  Rezultat: (21 + 7*sqrt(2)) / 7 = 3 + sqrt(2)

--- Razlomak 3 ---
28/(4 + sqrt(2))
Množimo sa (4 - sqrt(2))/(4 - sqrt(2)):
  Brojilac: 28 * (4 - sqrt(2)) = 112 - 28*sqrt(2)
  Imenilac: (4 + sqrt(2))(4 - sqrt(2)) = 16 - 2 = 14
  Rezultat: (112 - 28*sqrt(2)) / 14 = 8 - 2*sqrt(2)

--- Zbir ---
(2 + sqrt(2)) + (3 + sqrt(2)) + (8 - 2*sqrt(2))
= (2 + 3 + 8) + (sqrt(2) + sqrt(2) - 2*sqrt(2))
= 13 + 0
= 13

Tačan odgovor: A) 13

Verifikacija: Iracionalni delovi se potpuno poništavaju:
  +sqrt(2) + sqrt(2) - 2*sqrt(2) = 0
  Racionalni delovi: 2 + 3 + 8 = 13
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 22px;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-size: 0.85rem;
  font-weight: 700;
  flex-shrink: 0;
}

.badge-blue { background: rgba(96,165,250,0.18); color: #60a5fa; }
.badge-purple { background: rgba(167,139,250,0.18); color: #a78bfa; }
.badge-green { background: rgba(52,211,153,0.18); color: #34d399; }
.badge-pink { background: rgba(244,114,182,0.18); color: #f472b6; }

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 16px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1rem;
  font-weight: 600;
}

.plan-card {
  border-left: 4px solid #60a5fa;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 18px 24px;
  margin: 15px 0 22px;
}

details summary {
  cursor: pointer;
  font-weight: 700;
  color: #a78bfa;
  font-size: 1.05rem;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .theory-content {
  margin-top: 14px;
  color: #cbd5e1;
  line-height: 1.8;
}

.step-card {
  position: relative;
  padding-left: 18px;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  border-radius: 2px;
  transition: width 0.2s, background 0.2s;
}

.step-card:hover::before,
.step-card.active::before {
  width: 5px;
}

.step-card.step-blue::before { background: #60a5fa; }
.step-card.step-purple::before { background: #a78bfa; }
.step-card.step-green::before { background: #34d399; }
.step-card.step-pink::before { background: #f472b6; }

.checkpoint {
  background: rgba(96,165,250,0.08);
  border: 1px dashed #60a5fa;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
  color: #94a3b8;
  font-size: 0.95rem;
}

.checkpoint strong {
  color: #60a5fa;
}

.checkpoint details {
  background: transparent;
  border: none;
  padding: 8px 0 0;
  margin: 8px 0 0;
}

.checkpoint details summary {
  font-size: 0.95rem;
  color: #60a5fa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 22px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-card {
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.08));
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px 30px;
  margin-bottom: 22px;
  text-align: center;
}

.final-answer-card .label {
  color: #34d399;
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.final-answer-card .answer {
  color: #4ade80;
  font-size: 1.45rem;
  font-weight: 700;
  line-height: 1.6;
}

.final-answer-options {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 16px;
}

.final-option {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 8px 18px;
  color: #94a3b8;
  font-size: 0.95rem;
}

.final-option.correct {
  border-color: #34d399;
  color: #34d399;
  background: rgba(52,211,153,0.1);
  font-weight: 700;
}

.pitfalls-card {
  border-left: 4px solid #f472b6;
}

.pitfalls-card ul {
  margin-left: 18px;
  color: #cbd5e1;
}

.pitfalls-card li {
  margin-bottom: 8px;
}

.challenge-card {
  border: 1px dashed #a78bfa;
  background: rgba(167,139,250,0.05);
}

.highlight {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #34d399;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-purple {
  color: #a78bfa;
  font-weight: 600;
}

.math-block {
  margin: 14px 0;
  overflow-x: auto;
}

.visual-container {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}

canvas {
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

.fraction-summary {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin: 16px 0;
  justify-content: center;
}

.frac-card {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 14px 18px;
  text-align: center;
  flex: 1;
  min-width: 150px;
}

.frac-card .frac-label {
  color: #94a3b8;
  font-size: 0.8rem;
  margin-bottom: 6px;
  font-weight: 600;
}

.frac-card .frac-arrow {
  color: #60a5fa;
  font-size: 1.2rem;
  margin: 6px 0;
}

.frac-card .frac-result {
  font-weight: 700;
  font-size: 1rem;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card, .problem-statement, details, .insight-box, .final-answer-card {
    padding: 16px 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .fraction-summary {
    flex-direction: column;
  }
  body { padding: 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Racionalizacija imenilaca</h1>
  <p class="subtitle">Sabiranje razlomaka sa iracionalnim imeniocem &mdash; primena razlike kvadrata</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="badge badge-purple">?</span> Zadatak</div>
    <p>Vrednost izraza:</p>
    <div class="math-block">
      \[ \frac{2}{2 - \sqrt{2}} + \frac{7}{3 - \sqrt{2}} + \frac{28}{4 + \sqrt{2}} \]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(13\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{25}{2} - \dfrac{\sqrt{2}}{6}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(12\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{25}{2} + \dfrac{\sqrt{2}}{6}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <div class="card-title"><span class="badge badge-blue">&#9881;</span> Plan rešavanja</div>
    <p>
      Svaki razlomak ima iracionalan imenilac (sadrži \(\sqrt{2}\)). Racionalizovaćemo svaki razlomak
      posebno &mdash; množenjem brojioca i imenioca <span class="highlight">konjugovanim izrazom</span>
      &mdash; a zatim sabraćemo rezultate.
    </p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Razlika kvadrata:</strong></p>
      <div class="math-block">
        \[ (a - b)(a + b) = a^2 - b^2 \]
      </div>
      <p style="margin-top:10px;"><strong>Racionalizacija imenioca:</strong> Ako imenilac sadrži koreni izraz oblika \(a \pm \sqrt{b}\), množimo i brojilac i imenilac konjugovanim izrazom \(a \mp \sqrt{b}\):</p>
      <div class="math-block">
        \[ \frac{c}{a - \sqrt{b}} = \frac{c \cdot (a + \sqrt{b})}{(a - \sqrt{b})(a + \sqrt{b})} = \frac{c(a + \sqrt{b})}{a^2 - b} \]
      </div>
      <p style="margin-top:10px;"><strong>Konjugovani izraz:</strong> Za \(a - \sqrt{b}\) konjugovani je \(a + \sqrt{b}\), i obrnuto. Njihov proizvod je uvek <span class="highlight">racionalan broj</span>: \(a^2 - b\).</p>
    </div>
  </details>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="badge badge-blue">&#128202;</span> Vizuelni prikaz racionalizacije</div>
    <p style="color:#94a3b8; margin-bottom: 12px;">
      Dijagram prikazuje kako se svaki razlomak transformiše nakon racionalizacije.
      Koristite dugme da vidite animaciju sabiranja rezultata.
    </p>
    <div class="visual-container">
      <canvas id="vizCanvas" width="700" height="420"></canvas>
    </div>
    <div style="text-align: center; margin-top: 10px;">
      <button id="animBtn" style="background: rgba(96,165,250,0.15); border: 1px solid #60a5fa; color: #60a5fa; padding: 8px 20px; border-radius: 8px; cursor: pointer; font-size: 0.95rem; font-weight: 600;">Prikaži sabiranje</button>
    </div>
  </div>

  <!-- Step-by-Step Solution -->

  <!-- Step 1 -->
  <div class="card step-card step-blue">
    <div class="card-title"><span class="badge badge-blue">1</span> Racionalizujemo prvi razlomak</div>
    <p>Imenilac prvog razlomka je \(2 - \sqrt{2}\). Konjugovani izraz je \(2 + \sqrt{2}\).</p>
    <p>Množimo i brojilac i imenilac sa \(2 + \sqrt{2}\):</p>
    <div class="math-block">
      \[ \frac{2}{2 - \sqrt{2}} = \frac{2 \cdot (2 + \sqrt{2})}{(2 - \sqrt{2})(2 + \sqrt{2})} \]
    </div>
    <p>Imenilac se računa po formuli razlike kvadrata:</p>
    <div class="math-block">
      \[ (2 - \sqrt{2})(2 + \sqrt{2}) = 2^2 - (\sqrt{2})^2 = 4 - 2 = 2 \]
    </div>
    <p>Brojilac:</p>
    <div class="math-block">
      \[ 2 \cdot (2 + \sqrt{2}) = 4 + 2\sqrt{2} \]
    </div>
    <p>Delimo:</p>
    <div class="math-block">
      \[ \frac{4 + 2\sqrt{2}}{2} = \frac{4}{2} + \frac{2\sqrt{2}}{2} = \color{#60a5fa}{2 + \sqrt{2}} \]
    </div>
  </div>

  <!-- Step 2 -->
  <div class="card step-card step-purple">
    <div class="card-title"><span class="badge badge-purple">2</span> Racionalizujemo drugi razlomak</div>
    <p>Imenilac drugog razlomka je \(3 - \sqrt{2}\). Konjugovani izraz je \(3 + \sqrt{2}\).</p>
    <div class="math-block">
      \[ \frac{7}{3 - \sqrt{2}} = \frac{7 \cdot (3 + \sqrt{2})}{(3 - \sqrt{2})(3 + \sqrt{2})} \]
    </div>
    <p>Imenilac:</p>
    <div class="math-block">
      \[ (3 - \sqrt{2})(3 + \sqrt{2}) = 9 - 2 = 7 \]
    </div>
    <p>Brojilac:</p>
    <div class="math-block">
      \[ 7 \cdot (3 + \sqrt{2}) = 21 + 7\sqrt{2} \]
    </div>
    <p>Delimo:</p>
    <div class="math-block">
      \[ \frac{21 + 7\sqrt{2}}{7} = \frac{21}{7} + \frac{7\sqrt{2}}{7} = \color{#a78bfa}{3 + \sqrt{2}} \]
    </div>

    <div class="checkpoint">
      <strong>&#10003; Proveri sebe:</strong> Koliko iznosi \((3 - \sqrt{2})(3 + \sqrt{2})\)?
      <details>
        <summary>Prikaži odgovor</summary>
        <p style="margin-top: 8px;">Koristeći formulu razlike kvadrata: \(3^2 - (\sqrt{2})^2 = 9 - 2 = 7\). Upravo zato je imenilac \(7\), a to se lepo skrati sa brojiocem!</p>
      </details>
    </div>
  </div>

  <!-- Step 3 -->
  <div class="card step-card step-pink">
    <div class="card-title"><span class="badge badge-pink">3</span> Racionalizujemo treći razlomak</div>
    <p>Imenilac trećeg razlomka je \(4 + \sqrt{2}\). Ovde je konjugovani izraz \(4 - \sqrt{2}\) (menjamo znak ispred korena).</p>
    <div class="math-block">
      \[ \frac{28}{4 + \sqrt{2}} = \frac{28 \cdot (4 - \sqrt{2})}{(4 + \sqrt{2})(4 - \sqrt{2})} \]
    </div>
    <p>Imenilac:</p>
    <div class="math-block">
      \[ (4 + \sqrt{2})(4 - \sqrt{2}) = 16 - 2 = 14 \]
    </div>
    <p>Brojilac:</p>
    <div class="math-block">
      \[ 28 \cdot (4 - \sqrt{2}) = 112 - 28\sqrt{2} \]
    </div>
    <p>Delimo:</p>
    <div class="math-block">
      \[ \frac{112 - 28\sqrt{2}}{14} = \frac{112}{14} - \frac{28\sqrt{2}}{14} = \color{#f472b6}{8 - 2\sqrt{2}} \]
    </div>
  </div>

  <!-- Step 4 -->
  <div class="card step-card step-green">
    <div class="card-title"><span class="badge badge-green">4</span> Saberemo sve tri vrednosti</div>
    <p>Sada sabiramo racionalizovane rezultate:</p>
    <div class="math-block">
      \[ \underbrace{\color{#60a5fa}{(2 + \sqrt{2})}}_{\text{prvi}} + \underbrace{\color{#a78bfa}{(3 + \sqrt{2})}}_{\text{drugi}} + \underbrace{\color{#f472b6}{(8 - 2\sqrt{2})}}_{\text{treći}} \]
    </div>
    <p>Grupišemo <span class="highlight">racionalne</span> i <span class="highlight-purple">iracionalne</span> delove:</p>
    <div class="math-block">
      \[ \underbrace{(2 + 3 + 8)}_{\text{racionalni deo}} + \underbrace{(\sqrt{2} + \sqrt{2} - 2\sqrt{2})}_{\text{iracionalni deo}} \]
    </div>
    <p>Racionalni deo:</p>
    <div class="math-block">
      \[ 2 + 3 + 8 = 13 \]
    </div>
    <p>Iracionalni deo:</p>
    <div class="math-block">
      \[ \sqrt{2} + \sqrt{2} - 2\sqrt{2} = 2\sqrt{2} - 2\sqrt{2} = 0 \]
    </div>

    <div class="checkpoint">
      <strong>&#10003; Proveri sebe:</strong> Zašto se iracionalni deo potpuno poništava?
      <details>
        <summary>Prikaži odgovor</summary>
        <p style="margin-top: 8px;">Iz prva dva razlomka dobijamo po \(+\sqrt{2}\), ukupno \(+2\sqrt{2}\). Iz trećeg razlomka dobijamo \(-2\sqrt{2}\). Ovo je upravo suprotan broj, pa je zbir nula!</p>
      </details>
    </div>

    <p>Konačno:</p>
    <div class="math-block">
      \[ \frac{2}{2 - \sqrt{2}} + \frac{7}{3 - \sqrt{2}} + \frac{28}{4 + \sqrt{2}} = 13 + 0 = \boxed{13} \]
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="badge badge-purple">&#128161;</span> Ključni uvid</div>
    <p>
      Ovaj zadatak je dizajniran tako da se iracionalni delovi <span class="highlight-pink">tačno poništavaju</span> nakon
      racionalizacije. Rezultat je ceo broj &mdash; što bi na ispitu trebalo da bude signal da ste na dobrom putu!
    </p>
    <p style="margin-top: 10px;">
      Ključ je uočiti da su brojioci (\(2\), \(7\), \(28\)) i imenioci birani tako da se nakon primene
      razlike kvadrata dobiju lepi brojevi koji se međusobno skrate.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="label">Konačan odgovor</div>
    <div class="answer">A) 13</div>
    <div class="final-answer-options">
      <span class="final-option correct">A) \(13\)</span>
      <span class="final-option">B) \(\frac{25}{2} - \frac{\sqrt{2}}{6}\)</span>
      <span class="final-option">C) \(12\)</span>
      <span class="final-option">D) \(\frac{25}{2} + \frac{\sqrt{2}}{6}\)</span>
    </div>
    <p style="color: #94a3b8; margin-top: 14px; font-size: 0.95rem;">
      <strong>Verifikacija:</strong> Rezultat je ceo broj, što potvrđuje da se iracionalni delovi poništavaju.
      Numerička provera: \(\frac{2}{2 - 1{,}414\ldots} + \frac{7}{3 - 1{,}414\ldots} + \frac{28}{4 + 1{,}414\ldots} \approx 3{,}414 + 4{,}414 + 5{,}172 = 13{,}0\).
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <div class="card-title"><span class="badge badge-pink">&#9888;</span> Česte greške</div>
    <ul>
      <li><strong>Pogrešan konjugovani izraz:</strong> Za \(4 + \sqrt{2}\) konjugovani izraz je \(4 - \sqrt{2}\) (ne \(-4 + \sqrt{2}\)). Treba promeniti <em>samo</em> znak ispred korena.</li>
      <li><strong>Greška u deljenju:</strong> Kada delite \(112 - 28\sqrt{2}\) sa \(14\), morate podeliti <em>oba</em> člana: i \(112\) i \(28\sqrt{2}\). Česta greška je da se podeli samo prvi član.</li>
      <li><strong>Greška pri sabiranju korena:</strong> \(\sqrt{2} + \sqrt{2} = 2\sqrt{2}\), a <em>ne</em> \(\sqrt{4}\). Koreni se sabiraju kao slični monomi.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <div class="card-title"><span class="badge badge-purple">&#127942;</span> Dodatni izazov</div>
    <p>Izračunaj vrednost sličnog izraza:</p>
    <div class="math-block">
      \[ \frac{3}{3 - \sqrt{3}} + \frac{12}{4 + \sqrt{3}} + \frac{4}{2 + \sqrt{3}} \]
    </div>
    <details>
      <summary>Prikaži nagoveštaj</summary>
      <p style="margin-top: 8px;">Primeni istu tehniku racionalizacije na svaki razlomak. Ako je zadatak dobro konstruisan, iracionalni delovi bi trebalo da se ponište, a rezultat bude ceo broj.</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let animPhase = 0;
  let animProgress = 0;
  let animating = false;
  let animFrame = null;

  const fractions = [
    { orig: '2/(2-\u221A2)', result: '2+\u221A2', rational: '2', irrational: '+\u221A2', color: '#60a5fa' },
    { orig: '7/(3-\u221A2)', result: '3+\u221A2', rational: '3', irrational: '+\u221A2', color: '#a78bfa' },
    { orig: '28/(4+\u221A2)', result: '8-2\u221A2', rational: '8', irrational: '-2\u221A2', color: '#f472b6' }
  ];

  function drawRoundedRect(x, y, w, h, r, fill, stroke) {
    ctx.beginPath();
    ctx.moveTo(x + r, y);
    ctx.lineTo(x + w - r, y);
    ctx.arcTo(x + w, y, x + w, y + r, r);
    ctx.lineTo(x + w, y + h - r);
    ctx.arcTo(x + w, y + h, x + w - r, y + h, r);
    ctx.lineTo(x + r, y + h);
    ctx.arcTo(x, y + h, x, y + h - r, r);
    ctx.lineTo(x, y + r);
    ctx.arcTo(x, y, x + r, y, r);
    ctx.closePath();
    if (fill) { ctx.fillStyle = fill; ctx.fill(); }
    if (stroke) { ctx.strokeStyle = stroke; ctx.lineWidth = 1.5; ctx.stroke(); }
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    const colW = W / 3;
    const topY = 20;
    const arrowY = 140;
    const resultY = 190;

    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'center';
    ctx.fillText('Racionalizacija svake frakcije', W / 2, topY);

    for (let i = 0; i < 3; i++) {
      const f = fractions[i];
      const cx = colW * i + colW / 2;

      drawRoundedRect(cx - 90, topY + 20, 180, 55, 8, '#1e293b', '#334155');
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = f.color;
      ctx.textAlign = 'center';
      ctx.fillText(f.orig, cx, topY + 53);

      ctx.fillStyle = f.color;
      ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
      ctx.fillText('\u2193', cx, arrowY);

      ctx.font = '12px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#64748b';
      if (i === 0) ctx.fillText('\u00D7(2+\u221A2)/(2+\u221A2)', cx, arrowY + 18);
      if (i === 1) ctx.fillText('\u00D7(3+\u221A2)/(3+\u221A2)', cx, arrowY + 18);
      if (i === 2) ctx.fillText('\u00D7(4-\u221A2)/(4-\u221A2)', cx, arrowY + 18);

      drawRoundedRect(cx - 90, resultY, 180, 55, 8, 'rgba(30,41,59,0.9)', f.color);
      ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = f.color;
      ctx.fillText(f.result, cx, resultY + 34);
    }

    const sumY = resultY + 80;

    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Sabiranje rezultata', W / 2, sumY);

    if (animPhase >= 1) {
      const alpha = Math.min(animProgress, 1);
      ctx.globalAlpha = alpha;

      drawRoundedRect(40, sumY + 10, W - 80, 50, 8, '#1e293b', '#334155');

      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#60a5fa';
      ctx.fillText('(2 + \u221A2)', 130, sumY + 40);
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('+', 210, sumY + 40);
      ctx.fillStyle = '#a78bfa';
      ctx.fillText('(3 + \u221A2)', 290, sumY + 40);
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('+', 370, sumY + 40);
      ctx.fillStyle = '#f472b6';
      ctx.fillText('(8 - 2\u221A2)', 465, sumY + 40);

      ctx.globalAlpha = 1;
    }

    if (animPhase >= 2) {
      const alpha = Math.min(animProgress, 1);
      ctx.globalAlpha = alpha;

      const groupY = sumY + 75;
      drawRoundedRect(40, groupY, (W - 100) / 2, 50, 8, 'rgba(96,165,250,0.08)', '#60a5fa');
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#60a5fa';
      ctx.fillText('Racionalni: 2 + 3 + 8 = 13', 40 + (W - 100) / 4, groupY + 30);

      drawRoundedRect(W / 2 + 10, groupY, (W - 100) / 2, 50, 8, 'rgba(244,114,182,0.08)', '#f472b6');
      ctx.fillStyle = '#f472b6';
      ctx.fillText('Iracionalni: \u221A2 + \u221A2 - 2\u221A2 = 0', W / 2 + 10 + (W - 100) / 4, groupY + 30);

      ctx.globalAlpha = 1;
    }

    if (animPhase >= 3) {
      const alpha = Math.min(animProgress, 1);
      ctx.globalAlpha = alpha;

      const finalY = sumY + 145;
      drawRoundedRect(W / 2 - 120, finalY, 240, 55, 10, 'rgba(52,211,153,0.12)', '#34d399');
      ctx.font = 'bold 24px Segoe UI, system-ui, sans-serif';
      ctx.fillStyle = '#4ade80';
      ctx.fillText('= 13', W / 2, finalY + 36);

      ctx.globalAlpha = 1;
    }
  }

  function animate() {
    if (!animating) return;
    animProgress += 0.03;
    if (animProgress >= 1) {
      animProgress = 0;
      animPhase++;
      if (animPhase > 3) {
        animating = false;
        animPhase = 3;
        animProgress = 1;
        draw();
        return;
      }
    }
    draw();
    animFrame = requestAnimationFrame(animate);
  }

  draw();

  const btn = document.getElementById('animBtn');
  if (btn) {
    btn.addEventListener('click', function() {
      if (animPhase >= 3) {
        animPhase = 0;
        animProgress = 0;
      }
      animPhase = Math.max(animPhase, 1);
      animProgress = 0;
      animating = true;
      animate();
    });
  }

  const steps = document.querySelectorAll('.step-card');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Racionalizacija imenilaca - sabiranje razlomaka sa korenima","subject":"math","unit":"algebra","topic_tags":["racionalizacija imenioca","razlika kvadrata","iracionalni izrazi","koreni","razlomci"]}
BRAINSPARK_META-->