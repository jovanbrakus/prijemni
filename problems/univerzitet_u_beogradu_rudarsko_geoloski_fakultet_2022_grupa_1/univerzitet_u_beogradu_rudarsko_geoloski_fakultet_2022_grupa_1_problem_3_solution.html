<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skraƒáivanje algebarskog razlomka</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
PROBLEM:
Skraƒáivanjem razlomka:
  (a¬≥b¬≤ + 2a¬≤b¬≥ + ab‚Å¥) / (b¬≤(a¬≤ + ab))
gde ab ‚â† 0, a + b ‚â† 0, dobija se razlomak.

Ponudjeni odgovori:
A) (a + b)/a
B) (a + b)/b
C) a + b
D) (a + b)/(ab)

SOLUTION:

Step 1: Factor the numerator.
  a¬≥b¬≤ + 2a¬≤b¬≥ + ab‚Å¥
  Each term contains ab¬≤:
  = ab¬≤(a¬≤ + 2ab + b¬≤)
  The trinomial a¬≤ + 2ab + b¬≤ is a perfect square:
  = ab¬≤(a + b)¬≤

Verification:
  ab¬≤ ¬∑ a¬≤ = a¬≥b¬≤ ‚úì
  ab¬≤ ¬∑ 2ab = 2a¬≤b¬≥ ‚úì
  ab¬≤ ¬∑ b¬≤ = ab‚Å¥ ‚úì

Step 2: Factor the denominator.
  b¬≤(a¬≤ + ab)
  Factor a from the parenthesis:
  = b¬≤ ¬∑ a(a + b)
  = ab¬≤(a + b)

Step 3: Form the fraction and cancel.
  ab¬≤(a + b)¬≤ / [ab¬≤(a + b)]

  Cancel ab¬≤ (valid since ab ‚â† 0):
  = (a + b)¬≤ / (a + b)

  Cancel one factor of (a + b) (valid since a + b ‚â† 0):
  = a + b

Verification with a = 2, b = 1:
  Numerator: 8¬∑1 + 2¬∑4¬∑1 + 2¬∑1 = 8 + 8 + 2 = 18
  Denominator: 1¬∑(4 + 2) = 6
  Result: 18/6 = 3 = 2 + 1 = a + b ‚úì

Verification with a = 3, b = 2:
  Numerator: 27¬∑4 + 2¬∑9¬∑8 + 3¬∑16 = 108 + 144 + 48 = 300
  Denominator: 4¬∑(9 + 6) = 4¬∑15 = 60
  Result: 300/60 = 5 = 3 + 2 = a + b ‚úì

ANSWER: C) a + b
</script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 10px 20px;
}

h1 {
  text-align: center;
  font-size: 2.1rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px 26px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
  color: #60a5fa;
}

.card-title .icon {
  font-size: 1.35rem;
}

.problem-statement {
  border-left: 4px solid #60a5fa;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 100px;
  flex: 1;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  font-size: 1.1rem;
  color: #e2e8f0;
}

.plan-list {
  list-style: none;
  counter-reset: plan;
}

.plan-list li {
  counter-increment: plan;
  padding: 8px 0 8px 42px;
  position: relative;
  color: #cbd5e1;
}

.plan-list li::before {
  content: counter(plan);
  position: absolute;
  left: 0;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #0f172a;
  top: 8px;
}

details.theory {
  margin: 15px 0;
}

details.theory summary {
  font-size: 1.15rem;
  font-weight: 700;
  cursor: pointer;
  padding: 4px 0;
  color: #a78bfa;
  list-style: none;
}

details.theory summary::before {
  content: '+ ';
  font-weight: 900;
  color: #60a5fa;
}

details.theory[open] summary::before {
  content: '- ';
}

details.theory .theory-body {
  margin-top: 14px;
  padding: 16px 20px;
  background: #162033;
  border-radius: 10px;
  border: 1px solid #334155;
}

.formula-box {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  text-align: center;
  font-size: 1.1rem;
}

.step {
  border-left: 3px solid #334155;
  padding: 4px 0 4px 22px;
  margin-bottom: 22px;
  position: relative;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
}

.step::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 10px;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #60a5fa;
}

.step-num {
  font-weight: 700;
  color: #60a5fa;
  font-size: 1.05rem;
  margin-bottom: 6px;
}

.step p {
  margin: 6px 0;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
  text-align: center;
}

.checkpoint {
  background: #1a2332;
  border: 1px dashed #4ade80;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #4ade80;
  font-weight: 700;
  cursor: pointer;
  font-size: 0.97rem;
}

.checkpoint .checkpoint-body {
  margin-top: 10px;
  color: #cbd5e1;
  font-size: 0.95rem;
}

.insight-card {
  background: linear-gradient(135deg, #1e1b4b 0%, #1e293b 100%);
  border: 1px solid #6366f1;
}

.insight-card p {
  font-size: 1.05rem;
  line-height: 1.8;
}

.final-answer {
  text-align: center;
  padding: 30px 20px;
  background: linear-gradient(135deg, #064e3b 0%, #1e293b 100%);
  border: 2px solid #34d399;
}

.final-answer .answer-value {
  font-size: 2.5rem;
  font-weight: 800;
  color: #4ade80;
  margin: 14px 0 6px;
}

.final-answer .answer-label {
  color: #34d399;
  font-size: 1.15rem;
  font-weight: 600;
}

.options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.option-final {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  text-align: center;
  min-width: 110px;
  color: #94a3b8;
}

.option-final.correct {
  border-color: #34d399;
  color: #4ade80;
  background: rgba(52, 211, 153, 0.1);
  font-weight: 700;
}

.pitfall {
  display: flex;
  gap: 12px;
  padding: 12px 0;
  border-bottom: 1px solid #1e293b;
  align-items: flex-start;
}

.pitfall:last-child { border-bottom: none; }

.pitfall-icon {
  color: #f472b6;
  font-size: 1.2rem;
  flex-shrink: 0;
  margin-top: 2px;
}

.pitfall-text { color: #cbd5e1; }
.pitfall-text strong { color: #f472b6; }

.challenge-card {
  background: linear-gradient(135deg, #3b1764 0%, #1e293b 100%);
  border: 1px solid #a78bfa;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  color: #a78bfa;
  cursor: pointer;
  font-weight: 600;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 10px;
  background: #0c1222;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.canvas-caption {
  text-align: center;
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 8px;
}

.verification {
  margin-top: 12px;
  padding: 12px 16px;
  background: rgba(52, 211, 153, 0.08);
  border-radius: 8px;
  border: 1px solid rgba(52, 211, 153, 0.2);
  color: #94a3b8;
  font-size: 0.95rem;
}

@media (max-width: 700px) {
  body { padding: 12px; }
  h1 { font-size: 1.5rem; }
  .card { padding: 18px 16px; }
  .final-answer .answer-value { font-size: 2rem; }
  .given-grid { flex-direction: column; }
  .given-item { min-width: auto; }
  .container { padding: 5px 10px; }
}
</style>
</head>
<body>

<div class="container">

<h1>Skraƒáivanje algebarskog razlomka</h1>
<p class="subtitle">Faktorizacija polinoma, izdvajanje zajedniƒçkog ƒçinioca i skraƒáivanje razlomaka</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title"><span class="icon">üìã</span> Zadatak</div>
  <p>Skraƒáivanjem razlomka:</p>
  <div class="math-block">
    \[\frac{a^3b^2 + 2a^2b^3 + ab^4}{b^2\!\left(a^2 + ab\right)}\]
  </div>
  <p>gde je \(ab \neq 0\) i \(a + b \neq 0\), dobija se razlomak:</p>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(\dfrac{a + b}{a}\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(\dfrac{a + b}{b}\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(a + b\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(\dfrac{a + b}{ab}\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan re≈°avanja</div>
  <ol class="plan-list">
    <li>Faktorizujemo brojilac izdvajanjem zajedniƒçkog ƒçinioca i prepoznavanjem potpunog kvadrata trinoma</li>
    <li>Faktorizujemo imenilac izdvajanjem zajedniƒçkog ƒçinioca iz zagrade</li>
    <li>Skratimo sve zajedniƒçke faktore u brojiocu i imeniocu</li>
  </ol>
</div>

<!-- Theory Refresher -->
<div class="card">
  <details class="theory">
    <summary>Kljuƒçne formule i pravila</summary>
    <div class="theory-body">
      <p><strong>Izdvajanje zajedniƒçkog ƒçinioca:</strong></p>
      <div class="formula-box">\[ax + ay + az = a(x + y + z)\]</div>
      <p style="margin-top: 6px; color: #94a3b8;">Ako svaki sabirak sadr≈æi isti faktor, mo≈æemo ga ‚Äûizvuƒái ispred zagrade".</p>

      <p style="margin-top: 14px;"><strong>Kvadrat binoma (potpun kvadrat trinoma):</strong></p>
      <div class="formula-box">\[a^2 + 2ab + b^2 = (a + b)^2\]</div>
      <p style="margin-top: 6px; color: #94a3b8;">Trinom koji ima oblik ‚Äûprvi na kvadrat + dvostruki proizvod + drugi na kvadrat" jednak je kvadratu zbira.</p>

      <p style="margin-top: 14px;"><strong>Skraƒáivanje razlomaka:</strong></p>
      <div class="formula-box">\[\frac{A \cdot C}{B \cdot C} = \frac{A}{B}, \quad C \neq 0\]</div>
      <p style="margin-top: 6px; color: #94a3b8;">Kljuƒçno: i brojilac i imenilac moraju biti zapisani kao <em>proizvod</em> faktora. Nikada ne skraƒáujemo sabirke!</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz ‚Äî Struktura faktorizacije</div>
  <canvas id="factorCanvas" width="700" height="360"></canvas>
  <p class="canvas-caption">Dijagram prikazuje kako se brojilac i imenilac razbijaju na faktore, i koji se faktori skraƒáuju</p>
</div>

<!-- Step-by-Step Solution -->
<div class="card">
  <div class="card-title"><span class="icon">üìù</span> Re≈°enje korak po korak</div>

  <!-- Step 1 -->
  <div class="step">
    <div class="step-num">Korak 1: Uoƒçimo zajedniƒçki ƒçinilac u brojiocu</div>
    <p>Brojilac glasi: \(a^3b^2 + 2a^2b^3 + ab^4\).</p>
    <p>Pogledajmo stepene promenljivih u svakom sabirku:</p>
    <div class="math-block">
      \[a^{\color{#60a5fa}{3}}b^{\color{#a78bfa}{2}} + 2a^{\color{#60a5fa}{2}}b^{\color{#a78bfa}{3}} + a^{\color{#60a5fa}{1}}b^{\color{#a78bfa}{4}}\]
    </div>
    <p>Najmanji stepen od \(a\) je \(a^1\), a najmanji stepen od \(b\) je \(b^2\).</p>
    <p>Dakle, zajedniƒçki ƒçinilac je \(ab^2\). Izdvajamo ga:</p>
    <div class="math-block">
      \[a^3b^2 + 2a^2b^3 + ab^4 = ab^2\!\left(a^2 + 2ab + b^2\right)\]
    </div>
  </div>

  <!-- Step 2 -->
  <div class="step">
    <div class="step-num">Korak 2: Prepoznajmo potpun kvadrat trinoma</div>
    <p>Izraz u zagradi je \(a^2 + 2ab + b^2\). Da li je ovo potpun kvadrat?</p>
    <p>Proverimo: prvi ƒçlan je \(a^2\), poslednji je \(b^2\), a srednji ƒçlan je \(2 \cdot a \cdot b = 2ab\). Da!</p>
    <div class="math-block">
      \[a^2 + 2ab + b^2 = (a + b)^2\]
    </div>
    <p>Zato ceo brojilac glasi:</p>
    <div class="math-block">
      \[\boxed{\text{Brojilac} = ab^2(a + b)^2}\]
    </div>
  </div>

  <!-- Checkpoint 1 -->
  <details class="checkpoint">
    <summary>Proveri sebe: Da li smo taƒçno izdvojili zajedniƒçki ƒçinilac?</summary>
    <div class="checkpoint-body">
      <p>Pomno≈æimo nazad: \(ab^2 \cdot a^2 = a^3b^2\) ‚úì, zatim \(ab^2 \cdot 2ab = 2a^2b^3\) ‚úì, i \(ab^2 \cdot b^2 = ab^4\) ‚úì. Sve se poklapa!</p>
    </div>
  </details>

  <!-- Step 3 -->
  <div class="step">
    <div class="step-num">Korak 3: Faktorizujmo imenilac</div>
    <p>Imenilac je \(b^2(a^2 + ab)\). Izraz u zagradi mo≈æemo faktorizovati:</p>
    <div class="math-block">
      \[a^2 + ab = a(a + b)\]
    </div>
    <p>Sada zamenjujemo u imenilac:</p>
    <div class="math-block">
      \[b^2 \cdot a(a + b) = ab^2(a + b)\]
    </div>
    <p>Dakle:</p>
    <div class="math-block">
      \[\boxed{\text{Imenilac} = ab^2(a + b)}\]
    </div>
  </div>

  <!-- Step 4 -->
  <div class="step">
    <div class="step-num">Korak 4: Zapi≈°imo razlomak u faktorizovanom obliku</div>
    <p>Zamenjujemo faktorizovane oblike u razlomak:</p>
    <div class="math-block">
      \[\frac{a^3b^2 + 2a^2b^3 + ab^4}{b^2(a^2 + ab)} = \frac{ab^2(a + b)^2}{ab^2(a + b)}\]
    </div>
    <p>Sada jasno vidimo zajedniƒçke faktore u brojiocu i imeniocu.</p>
  </div>

  <!-- Checkpoint 2 -->
  <details class="checkpoint">
    <summary>Proveri sebe: Koje faktore mo≈æemo da skratimo i za≈°to?</summary>
    <div class="checkpoint-body">
      <p>Zajedniƒçki faktori su: \(a\), \(b^2\) i \((a+b)\). Smemo da skraƒáujemo jer su svi razliƒçiti od nule:</p>
      <ul style="margin-top: 6px; padding-left: 20px;">
        <li>\(a \neq 0\) jer \(ab \neq 0\)</li>
        <li>\(b^2 \neq 0\) jer \(ab \neq 0\), pa \(b \neq 0\)</li>
        <li>\(a + b \neq 0\) dato u uslovu zadatka</li>
      </ul>
    </div>
  </details>

  <!-- Step 5 -->
  <div class="step">
    <div class="step-num">Korak 5: Skratimo zajedniƒçke faktore</div>
    <p>Skraƒáujemo \(ab^2\) iz brojioca i imenioca:</p>
    <div class="math-block">
      \[\frac{\cancel{ab^2} \cdot (a + b)^2}{\cancel{ab^2} \cdot (a + b)} = \frac{(a+b)^2}{a+b}\]
    </div>
    <p>Zatim skraƒáujemo jedan faktor \((a+b)\):</p>
    <div class="math-block">
      \[\frac{(a+b) \cdot \cancel{(a+b)}}{\cancel{(a+b)}} = a + b\]
    </div>
  </div>

  <!-- Step 6 -->
  <div class="step">
    <div class="step-num">Korak 6: Konaƒçan rezultat</div>
    <p>Posle skraƒáivanja svih zajedniƒçkih faktora, razlomak se svodi na:</p>
    <div class="math-block">
      \[\frac{a^3b^2 + 2a^2b^3 + ab^4}{b^2(a^2 + ab)} = a + b\]
    </div>
  </div>
</div>

<!-- Key Insight -->
<div class="card insight-card">
  <div class="card-title"><span class="icon">üí°</span> Kljuƒçni uvid</div>
  <p>Celokupna slo≈æenost ovog zadatka le≈æi u <strong>prepoznavanju potpunog kvadrata trinoma</strong> \(a^2 + 2ab + b^2 = (a+b)^2\) sakrivenog u brojiocu. Kada se i brojilac i imenilac zapi≈°u kao proizvod prostih faktora, skraƒáivanje postaje trivijalno. Zapamtite: uvek <em>faktorizujte</em> pre nego ≈°to poku≈°ate da skraƒáujete!</p>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <div class="card-title" style="justify-content: center; color: #34d399;"><span class="icon">üéØ</span> Konaƒçan odgovor</div>
  <div class="answer-value">\(a + b\)</div>
  <div class="answer-label">Odgovor: C</div>
  <div class="options-final">
    <div class="option-final">(A) \(\dfrac{a+b}{a}\)</div>
    <div class="option-final">(B) \(\dfrac{a+b}{b}\)</div>
    <div class="option-final correct">(C) \(a + b\)</div>
    <div class="option-final">(D) \(\dfrac{a+b}{ab}\)</div>
  </div>
  <div class="verification">
    <strong>Provera:</strong> Uzmimo \(a = 2\), \(b = 1\). Brojilac: \(8 \cdot 1 + 2 \cdot 4 \cdot 1 + 2 \cdot 1 = 8 + 8 + 2 = 18\). Imenilac: \(1 \cdot (4 + 2) = 6\). Koliƒçnik: \(18 \div 6 = 3 = 2 + 1 = a + b\) ‚úì. Za \(a = 3\), \(b = 2\): brojilac \(= 108 + 144 + 48 = 300\), imenilac \(= 4 \cdot 15 = 60\), koliƒçnik \(= 5 = 3 + 2\) ‚úì
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon">‚ö†Ô∏è</span> ƒåeste gre≈°ke</div>
  <div class="pitfall">
    <span class="pitfall-icon">‚úó</span>
    <div class="pitfall-text"><strong>Skraƒáivanje sabiraka umesto faktora:</strong> Uƒçenici ponekad poku≈°avaju da ‚Äûskrate" pojedinaƒçne sabirke u brojiocu sa delovima imenioca (npr. skrate \(a^3b^2\) sa \(b^2\)). To je pogre≈°no! Skraƒáivati se mogu samo <em>ƒçinioci proizvoda</em> (faktori), ne sabirci zbira. Zato je neophodno najpre sve faktorizovati.</div>
  </div>
  <div class="pitfall">
    <span class="pitfall-icon">‚úó</span>
    <div class="pitfall-text"><strong>Neprepoznavanje potpunog kvadrata:</strong> Trinom \(a^2 + 2ab + b^2\) izgleda sliƒçno izrazu \(a^2 + ab + b^2\) (koji se <em>ne mo≈æe</em> ovako faktorizovati). Kljuƒçna razlika je koeficijent \(2\) ispred srednjeg ƒçlana. Uvek proverite: da li je srednji ƒçlan zaista \(2 \cdot \sqrt{\text{prvi}} \cdot \sqrt{\text{poslednji}}\)?</div>
  </div>
</div>

<!-- Optional Challenge -->
<div class="card challenge-card">
  <div class="card-title"><span class="icon">üöÄ</span> Dodatni izazov</div>
  <p>Poku≈°aj da skrati≈° sliƒçan razlomak, ali sa <strong>razlikom kvadrata</strong> umesto potpunog kvadrata:</p>
  <div class="math-block">
    \[\frac{a^3b - ab^3}{a^2b^2(a - b)}\]
  </div>
  <details style="margin: 15px 0;">
    <summary>Uputstvo</summary>
    <div style="margin-top: 8px; color: #cbd5e1;">Izdvoj \(ab\) iz brojioca, pa primeni formulu za razliku kvadrata: \(a^2 - b^2 = (a-b)(a+b)\). Rezultat bi trebalo da bude veoma jednostavan razlomak.</div>
  </details>
</div>

</div> <!-- /container -->

<script>
(() => {
  const canvas = document.getElementById('factorCanvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  function roundRect(c, x, y, w, h, r) {
    c.beginPath();
    c.moveTo(x + r, y);
    c.lineTo(x + w - r, y);
    c.quadraticCurveTo(x + w, y, x + w, y + r);
    c.lineTo(x + w, y + h - r);
    c.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    c.lineTo(x + r, y + h);
    c.quadraticCurveTo(x, y + h, x, y + h - r);
    c.lineTo(x, y + r);
    c.quadraticCurveTo(x, y, x + r, y);
    c.closePath();
  }

  function drawArrow(c, x1, y1, x2, y2, color) {
    c.strokeStyle = color;
    c.fillStyle = color;
    c.lineWidth = 2;
    c.beginPath();
    c.moveTo(x1, y1);
    c.lineTo(x2, y2);
    c.stroke();
    const angle = Math.atan2(y2 - y1, x2 - x1);
    const hl = 8;
    c.beginPath();
    c.moveTo(x2, y2);
    c.lineTo(x2 - hl * Math.cos(angle - 0.4), y2 - hl * Math.sin(angle - 0.4));
    c.lineTo(x2 - hl * Math.cos(angle + 0.4), y2 - hl * Math.sin(angle + 0.4));
    c.closePath();
    c.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const cx = W / 2;
    const bw = 100;
    const bh = 40;
    const gap = 20;

    // --- NUMERATOR ---
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('BROJILAC', cx, 28);

    // Original expression box
    const origY = 38;
    ctx.fillStyle = '#0f172a';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    roundRect(ctx, cx - 160, origY, 320, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a\u00B3b\u00B2 + 2a\u00B2b\u00B3 + ab\u2074', cx, origY + 25);

    drawArrow(ctx, cx, origY + bh + 3, cx, origY + bh + 20, '#60a5fa');

    // Factored: three boxes
    const fny = origY + bh + 24;
    const totalFW = 3 * bw + 2 * gap;
    const fsx = cx - totalFW / 2;

    // Box 1: ab¬≤
    ctx.fillStyle = '#1a3a2a';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    roundRect(ctx, fsx, fny, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('ab\u00B2', fsx + bw / 2, fny + 25);

    // Multiply sign
    ctx.fillStyle = '#94a3b8';
    ctx.font = '18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u00D7', fsx + bw + gap / 2, fny + 25);

    // Box 2: (a+b)
    ctx.fillStyle = '#1a3a2a';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    roundRect(ctx, fsx + bw + gap, fny, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(a + b)', fsx + bw + gap + bw / 2, fny + 25);

    // Multiply sign
    ctx.fillStyle = '#94a3b8';
    ctx.font = '18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u00D7', fsx + 2 * bw + 1.5 * gap, fny + 25);

    // Box 3: (a+b) -- the extra factor
    ctx.fillStyle = '#162033';
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    roundRect(ctx, fsx + 2 * (bw + gap), fny, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(a + b)', fsx + 2 * (bw + gap) + bw / 2, fny + 25);

    // --- FRACTION LINE ---
    const lineY = fny + bh + 22;
    ctx.strokeStyle = '#e2e8f0';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx - 200, lineY);
    ctx.lineTo(cx + 200, lineY);
    ctx.stroke();

    // --- DENOMINATOR ---
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('IMENILAC', cx, lineY + 22);

    // Original expression box
    const origDY = lineY + 30;
    ctx.fillStyle = '#0f172a';
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    roundRect(ctx, cx - 160, origDY, 320, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('b\u00B2(a\u00B2 + ab) = ab\u00B2(a + b)', cx, origDY + 25);

    drawArrow(ctx, cx, origDY + bh + 3, cx, origDY + bh + 20, '#60a5fa');

    // Factored: two boxes
    const fdy = origDY + bh + 24;
    const denW = 2 * bw + gap;
    const dsx = cx - denW / 2;

    // Box 1: ab¬≤
    ctx.fillStyle = '#1a3a2a';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    roundRect(ctx, dsx, fdy, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('ab\u00B2', dsx + bw / 2, fdy + 25);

    // Multiply sign
    ctx.fillStyle = '#94a3b8';
    ctx.font = '18px Segoe UI, system-ui, sans-serif';
    ctx.fillText('\u00D7', dsx + bw + gap / 2, fdy + 25);

    // Box 2: (a+b)
    ctx.fillStyle = '#1a3a2a';
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    roundRect(ctx, dsx + bw + gap, fdy, bw, bh, 8);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('(a + b)', dsx + bw + gap + bw / 2, fdy + 25);

    // --- CANCELLATION LINES ---
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);

    // ab¬≤ cancellation
    const numAb2cx = fsx + bw / 2;
    const denAb2cx = dsx + bw / 2;
    ctx.beginPath();
    ctx.moveTo(numAb2cx, fny + bh);
    ctx.lineTo(denAb2cx, fdy);
    ctx.stroke();

    // (a+b) cancellation
    const numAbcx = fsx + bw + gap + bw / 2;
    const denAbcx = dsx + bw + gap + bw / 2;
    ctx.beginPath();
    ctx.moveTo(numAbcx, fny + bh);
    ctx.lineTo(denAbcx, fdy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Cancel labels
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 11px Segoe UI, system-ui, sans-serif';
    const midCancelY = (fny + bh + fdy) / 2;
    ctx.textAlign = 'right';
    ctx.fillText('skrati se', numAb2cx - 8, midCancelY + 4);
    ctx.textAlign = 'left';
    ctx.fillText('skrati se', numAbcx + 8, midCancelY + 4);

    // --- RESULT ---
    // Arrow from the purple box (remaining factor)
    const resBoxCx = fsx + 2 * (bw + gap) + bw / 2;
    const resMidY = (fny + bh + fdy) / 2;

    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('ostaje', resBoxCx, resMidY - 6);

    drawArrow(ctx, resBoxCx, resMidY + 4, resBoxCx, resMidY + 26, '#a78bfa');

    // Result box
    ctx.fillStyle = '#1e1b4b';
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    roundRect(ctx, resBoxCx - 55, resMidY + 30, 110, 44, 10);
    ctx.fill();
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 20px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a + b', resBoxCx, resMidY + 58);

    // Equals sign
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('= Odgovor C', resBoxCx, resMidY + 88);
  }

  draw();

  // Step click highlight
  const steps = document.querySelectorAll('.step');
  steps.forEach(function(step) {
    step.addEventListener('click', function() {
      steps.forEach(function(s) { s.classList.remove('active'); });
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Skraƒáivanje algebarskog razlomka sa faktorizacijom","subject":"math","unit":"algebra","topic_tags":["faktorizacija","skraƒáivanje razlomaka","potpun kvadrat trinoma","izdvajanje zajedniƒçkog ƒçinioca","algebarski razlomci"]}
BRAINSPARK_META-->