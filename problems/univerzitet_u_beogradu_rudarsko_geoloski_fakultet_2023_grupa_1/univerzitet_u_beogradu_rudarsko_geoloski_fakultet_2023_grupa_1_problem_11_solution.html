<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski identitet</title>

<script type="text/info" id="logic-scratchpad">
Problem: Simplify (2sinα − sin2α) / (2sinα + sin2α)

Step 1: Use double angle formula sin2α = 2sinα·cosα

Numerator:   2sinα − 2sinα·cosα = 2sinα(1 − cosα)
Denominator: 2sinα + 2sinα·cosα = 2sinα(1 + cosα)

Step 2: Cancel 2sinα (assuming sinα ≠ 0):
= (1 − cosα) / (1 + cosα)

Step 3: Use half-angle identities:
1 − cosα = 2sin²(α/2)
1 + cosα = 2cos²(α/2)

Step 4: Substitute:
= 2sin²(α/2) / (2cos²(α/2))
= sin²(α/2) / cos²(α/2)
= tan²(α/2)
= tg²(α/2)

Answer: C) tg²(α/2)

Verification: Let α = π/3 (60°).
Numerator:   2sin(60°) − sin(120°) = 2·(√3/2) − (√3/2) = √3 − √3/2 = √3/2
Denominator: 2sin(60°) + sin(120°) = 2·(√3/2) + (√3/2) = √3 + √3/2 = 3√3/2
Result: (√3/2) / (3√3/2) = 1/3

tg²(30°) = (1/√3)² = 1/3 ✓

Check other options:
A) tg(60°) = √3 ≠ 1/3 ✗
B) tg²(60°) = 3 ≠ 1/3 ✗ (wait, tg2α = tg(120°) = -√3, not 1/3) ✗
D) ctg²(30°) = (√3)² = 3 ≠ 1/3 ✗

Confirmed: Answer is C) tg²(α/2)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #cbd5e1;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 12px;
  margin-bottom: 8px;
  background: rgba(56, 189, 248, 0.05);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  color: #cbd5e1;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: border-color 0.2s, background 0.2s;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-number {
  width: 32px;
  height: 32px;
  min-width: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #fff;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(167, 139, 250, 0.1));
  border: 1px solid rgba(96, 165, 250, 0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.3rem;
  color: #e2e8f0;
  margin: 14px 0;
}

.final-answer {
  text-align: center;
  border: 2px solid rgba(52, 211, 153, 0.3);
  background: rgba(52, 211, 153, 0.06);
}

.final-answer h2 {
  color: #34d399;
}

.answer-big {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.answer-options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.answer-opt {
  padding: 10px 20px;
  border-radius: 10px;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
}

.answer-opt.correct {
  border-color: #4ade80;
  background: rgba(52, 211, 153, 0.12);
  color: #4ade80;
  font-weight: 700;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
}

.pitfalls {
  border-left: 3px solid #f472b6;
}

.pitfalls h2 {
  color: #f472b6;
}

.pitfalls ul {
  list-style: none;
  padding: 0;
}

.pitfalls li {
  padding: 8px 0;
  color: #cbd5e1;
  padding-left: 20px;
  position: relative;
}

.pitfalls li::before {
  content: "!";
  position: absolute;
  left: 0;
  color: #f472b6;
  font-weight: 700;
}

.challenge {
  border-left: 3px solid #60a5fa;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
  .answer-options-final { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Trigonometrijski identitet</h1>
  <p class="subtitle">Pojednostavljivanje trigonometrijskog izraza korišćenjem formula za dvostruki ugao i poluugao</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Izraz</p>
    <div class="math-block">
      \[\frac{2\sin\alpha - \sin 2\alpha}{2\sin\alpha + \sin 2\alpha}\]
    </div>
    <p>identički je jednak izrazu:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\operatorname{tg} \alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\operatorname{tg} 2\alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\operatorname{tg}^2\!\dfrac{\alpha}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\operatorname{ctg}^2\!\dfrac{\alpha}{2}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Primenićemo formulu za dvostruki ugao \(\sin 2\alpha = 2\sin\alpha\cos\alpha\) da sredimo brojilac i imenilac, zatim ćemo koristiti formule za poluugao da izraz dovedemo do jednog od ponuđenih odgovora.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Dvostruki ugao (sinus):</strong> \(\sin 2\alpha = 2\sin\alpha\cos\alpha\)</li>
          <li><strong>Poluugaona formula (kosinus):</strong> \(1 - \cos\alpha = 2\sin^2\!\dfrac{\alpha}{2}\)</li>
          <li><strong>Poluugaona formula (kosinus):</strong> \(1 + \cos\alpha = 2\cos^2\!\dfrac{\alpha}{2}\)</li>
          <li><strong>Definicija tangensa:</strong> \(\operatorname{tg}\theta = \dfrac{\sin\theta}{\cos\theta}\), pa je \(\operatorname{tg}^2\theta = \dfrac{\sin^2\theta}{\cos^2\theta}\)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="400"></canvas>
    <p class="canvas-hint">Pomerite klizač da promenite ugao \(\alpha\) i vidite kako se menjaju vrednosti.</p>
    <div style="margin-top: 12px; display: flex; align-items: center; justify-content: center; gap: 12px;">
      <span style="color: #94a3b8;">&#945; =</span>
      <input type="range" id="alphaSlider" min="10" max="350" value="60" style="width: 240px; accent-color: #60a5fa;">
      <span id="alphaDisplay" style="color: #60a5fa; font-weight: 600; min-width: 50px;">60°</span>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step" id="step1">
      <div class="step-number">1</div>
      <div class="step-content">
        <h3>Primena formule za dvostruki ugao</h3>
        <p>Zamenimo \(\sin 2\alpha\) sa \(2\sin\alpha\cos\alpha\) u celom izrazu:</p>
        <div class="math-block">
          \[\frac{2\sin\alpha - 2\sin\alpha\cos\alpha}{2\sin\alpha + 2\sin\alpha\cos\alpha}\]
        </div>
      </div>
    </div>

    <div class="step" id="step2">
      <div class="step-number">2</div>
      <div class="step-content">
        <h3>Izlučivanje zajedničkog faktora</h3>
        <p>Uočavamo da se \(2\sin\alpha\) pojavljuje kao zajednički faktor i u brojiocu i u imeniocu:</p>
        <div class="math-block">
          \[\frac{2\sin\alpha\,(1 - \cos\alpha)}{2\sin\alpha\,(1 + \cos\alpha)}\]
        </div>
      </div>
    </div>

    <div class="step" id="step3">
      <div class="step-number">3</div>
      <div class="step-content">
        <h3>Skraćivanje razlomka</h3>
        <p>Za \(\sin\alpha \neq 0\), skratimo \(2\sin\alpha\):</p>
        <div class="math-block">
          \[\frac{1 - \cos\alpha}{1 + \cos\alpha}\]
        </div>
        <p class="note">Napomena: Uslov \(\sin\alpha \neq 0\) znači da \(\alpha \neq k\pi\), gde je \(k \in \mathbb{Z}\).</p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koji je rezultat posle skraćivanja?</summary>
      <p style="color: #cbd5e1; margin-top: 8px;">
        Posle skraćivanja \(2\sin\alpha\), dobijamo \(\dfrac{1 - \cos\alpha}{1 + \cos\alpha}\). Ovaj izraz se dalje može transformisati pomoću poluugaonih formula.
      </p>
    </details>

    <div class="step" id="step4">
      <div class="step-number">4</div>
      <div class="step-content">
        <h3>Primena poluugaonih formula</h3>
        <p>Koristimo dve poznate formule:</p>
        <div class="math-block">
          \[1 - \cos\alpha = 2\sin^2\frac{\alpha}{2}\]
        </div>
        <div class="math-block">
          \[1 + \cos\alpha = 2\cos^2\frac{\alpha}{2}\]
        </div>
      </div>
    </div>

    <div class="step" id="step5">
      <div class="step-number">5</div>
      <div class="step-content">
        <h3>Zamena u izraz</h3>
        <p>Uvrštavamo obe formule u naš razlomak:</p>
        <div class="math-block">
          \[\frac{2\sin^2\frac{\alpha}{2}}{2\cos^2\frac{\alpha}{2}}\]
        </div>
      </div>
    </div>

    <div class="step" id="step6">
      <div class="step-number">6</div>
      <div class="step-content">
        <h3>Skraćivanje i konačan rezultat</h3>
        <p>Skratimo dvojke i prepoznajemo definiciju tangensa na kvadrat:</p>
        <div class="math-block">
          \[\frac{\sin^2\frac{\alpha}{2}}{\cos^2\frac{\alpha}{2}} = \operatorname{tg}^2\frac{\alpha}{2}\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliko iznosi \(\operatorname{tg}^2(30°)\)?</summary>
      <p style="color: #cbd5e1; margin-top: 8px;">
        \(\operatorname{tg}\,30° = \dfrac{1}{\sqrt{3}}\), pa je \(\operatorname{tg}^2\,30° = \dfrac{1}{3}\).
        Ovo koristimo za numeričku proveru sa \(\alpha = 60°\).
      </p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p style="color: #cbd5e1;">Kombinacija formule za dvostruki ugao i poluugaonih formula je moćan alat za pojednostavljivanje trigonometrijskih izraza. Čim vidite \(1 \pm \cos\alpha\), pomislite na poluugaone formule!</p>
    <div class="insight-formula">
      \[\frac{2\sin\alpha - \sin 2\alpha}{2\sin\alpha + \sin 2\alpha} = \frac{1 - \cos\alpha}{1 + \cos\alpha} = \operatorname{tg}^2\frac{\alpha}{2}\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer">
    <h2>Konačan odgovor</h2>
    <div class="answer-big">\(\operatorname{tg}^2\!\dfrac{\alpha}{2}\)</div>

    <div class="answer-options-final">
      <div class="answer-opt">A) \(\operatorname{tg}\alpha\)</div>
      <div class="answer-opt">B) \(\operatorname{tg} 2\alpha\)</div>
      <div class="answer-opt correct">C) \(\operatorname{tg}^2\!\dfrac{\alpha}{2}\)</div>
      <div class="answer-opt">D) \(\operatorname{ctg}^2\!\dfrac{\alpha}{2}\)</div>
    </div>

    <div class="verification">
      <strong>Provera:</strong> Za \(\alpha = 60°\): brojilac = \(2\sin 60° - \sin 120° = \sqrt{3} - \frac{\sqrt{3}}{2} = \frac{\sqrt{3}}{2}\), imenilac = \(2\sin 60° + \sin 120° = \sqrt{3} + \frac{\sqrt{3}}{2} = \frac{3\sqrt{3}}{2}\). Količnik = \(\frac{1}{3}\). Proverimo: \(\operatorname{tg}^2 30° = \frac{1}{3}\). Tačno!
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls">
    <h2>Česte greške</h2>
    <ul>
      <li>Zaboravljanje da se \(\sin 2\alpha\) može zameniti sa \(2\sin\alpha\cos\alpha\) — bez ove zamene, izraz se ne može pojednostaviti.</li>
      <li>Mešanje poluugaonih formula: \(1 - \cos\alpha = 2\sin^2\frac{\alpha}{2}\) (ne \(\cos^2\)!) i obrnuto za \(1 + \cos\alpha\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge">
    <h2>Dodatni izazov</h2>
    <p>Pojednostavite izraz:</p>
    <div class="math-block">
      \[\frac{1 - \cos 2\alpha}{1 + \cos 2\alpha}\]
    </div>
    <details>
      <summary>Hint</summary>
      <p style="color: #cbd5e1; margin-top: 8px;">Primenite iste poluugaone formule, ali ovog puta na ugao \(2\alpha\) umesto \(\alpha\). Šta je „poluugao" od \(2\alpha\)?</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click highlighting
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas visualization
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('alphaSlider');
  const display = document.getElementById('alphaDisplay');

  function draw(alphaDeg) {
    const W = canvas.width;
    const H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const alphaRad = alphaDeg * Math.PI / 180;
    const halfAlpha = alphaRad / 2;

    // Compute values
    const sinA = Math.sin(alphaRad);
    const sin2A = Math.sin(2 * alphaRad);
    const cosA = Math.cos(alphaRad);

    const numerator = 2 * sinA - sin2A;
    const denominator = 2 * sinA + sin2A;
    const lhs = denominator !== 0 ? numerator / denominator : NaN;
    const rhs = Math.cos(halfAlpha) !== 0 ? Math.tan(halfAlpha) * Math.tan(halfAlpha) : NaN;

    // Draw unit circle
    const cx = 200;
    const cy = H / 2;
    const R = 130;

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -2; i <= 2; i++) {
      ctx.beginPath();
      ctx.moveTo(cx + i * R, cy - 1.5 * R);
      ctx.lineTo(cx + i * R, cy + 1.5 * R);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(cx - 1.5 * R, cy + i * R);
      ctx.lineTo(cx + 1.5 * R, cy + i * R);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(cx - 1.5 * R, cy);
    ctx.lineTo(cx + 1.5 * R, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy - 1.5 * R);
    ctx.lineTo(cx, cy + 1.5 * R);
    ctx.stroke();

    // Unit circle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    // Angle arc
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    const arcR = 35;
    ctx.arc(cx, cy, arcR, -alphaRad, 0);
    ctx.stroke();

    // Alpha label
    ctx.fillStyle = '#60a5fa';
    ctx.font = '14px Segoe UI, sans-serif';
    const labelAngle = -alphaRad / 2;
    ctx.fillText('\u03B1', cx + (arcR + 10) * Math.cos(labelAngle), cy + (arcR + 10) * Math.sin(labelAngle));

    // Point on circle
    const px = cx + R * Math.cos(alphaRad);
    const py = cy - R * Math.sin(alphaRad);

    // Radius line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, py);
    ctx.stroke();

    // Point
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(px, py, 5, 0, 2 * Math.PI);
    ctx.fill();

    // sin line
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(px, py);
    ctx.lineTo(px, cy);
    ctx.stroke();
    ctx.setLineDash([]);

    // cos line
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, cy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels
    ctx.fillStyle = '#f472b6';
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.fillText('sin \u03B1', px + 6, (py + cy) / 2);

    ctx.fillStyle = '#a78bfa';
    ctx.fillText('cos \u03B1', (cx + px) / 2 - 15, cy + 18);

    // Right side: value display
    const rx = 420;
    let ry = 50;

    ctx.fillStyle = '#94a3b8';
    ctx.font = '15px Segoe UI, sans-serif';
    ctx.fillText('Vrednosti za \u03B1 = ' + alphaDeg + '\u00B0:', rx, ry);

    ry += 35;
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.fillText('sin \u03B1 = ' + sinA.toFixed(4).replace('.', ','), rx, ry);

    ry += 28;
    ctx.fillText('cos \u03B1 = ' + cosA.toFixed(4).replace('.', ','), rx, ry);

    ry += 28;
    ctx.fillText('sin 2\u03B1 = ' + sin2A.toFixed(4).replace('.', ','), rx, ry);

    ry += 40;
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.fillText('Brojilac:', rx, ry);
    ry += 22;
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.fillText('2sin\u03B1 \u2212 sin2\u03B1 = ' + numerator.toFixed(4).replace('.', ','), rx, ry);

    ry += 32;
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.fillText('Imenilac:', rx, ry);
    ry += 22;
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.fillText('2sin\u03B1 + sin2\u03B1 = ' + denominator.toFixed(4).replace('.', ','), rx, ry);

    ry += 40;
    // Separator line
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(rx, ry);
    ctx.lineTo(rx + 250, ry);
    ctx.stroke();

    ry += 28;
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 15px Segoe UI, sans-serif';
    if (isNaN(lhs) || !isFinite(lhs)) {
      ctx.fillText('Izraz nije definisan', rx, ry);
    } else {
      ctx.fillText('Izraz = ' + lhs.toFixed(4).replace('.', ','), rx, ry);
    }

    ry += 28;
    ctx.fillStyle = '#34d399';
    if (isNaN(rhs) || !isFinite(rhs)) {
      ctx.fillText('tg\u00B2(\u03B1/2) nije definisano', rx, ry);
    } else {
      ctx.fillText('tg\u00B2(' + (alphaDeg / 2).toFixed(1).replace('.', ',') + '\u00B0) = ' + rhs.toFixed(4).replace('.', ','), rx, ry);
    }

    ry += 28;
    if (!isNaN(lhs) && isFinite(lhs) && !isNaN(rhs) && isFinite(rhs)) {
      const match = Math.abs(lhs - rhs) < 0.001;
      ctx.fillStyle = match ? '#4ade80' : '#ef4444';
      ctx.font = 'bold 14px Segoe UI, sans-serif';
      ctx.fillText(match ? '\u2713 Vrednosti se poklapaju!' : '\u2717 Vrednosti se ne poklapaju', rx, ry);
    }
  }

  slider.addEventListener('input', () => {
    const v = parseInt(slider.value);
    display.textContent = v + '\u00B0';
    draw(v);
  });

  draw(60);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijski identitet sa dvostrukim i poluugaonim formulama",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["trigonometrijski identiteti", "dvostruki ugao", "poluugaone formule", "tangens"]
}
BRAINSPARK_META-->