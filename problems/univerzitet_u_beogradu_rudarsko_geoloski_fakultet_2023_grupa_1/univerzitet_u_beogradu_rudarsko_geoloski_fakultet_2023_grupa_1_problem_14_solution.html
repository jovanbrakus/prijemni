<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zapremina pravilne ≈°estostrane prizme</title>
<script type="text/info" id="logic-scratchpad">
Problem: Find the volume of a regular hexagonal prism inscribed in a cylinder
with base radius r=2 and height H=3.

Key facts:
- A regular hexagonal prism inscribed in a cylinder means the hexagonal base
  is inscribed in the circular base of the cylinder.
- For a regular hexagon inscribed in a circle of radius R, the side length
  equals R. This is because a regular hexagon can be divided into 6 equilateral
  triangles, each with side equal to the circumradius.
- So side length a = r = 2.

Area of regular hexagon:
  A = (3‚àö3 / 2) * a¬≤
  A = (3‚àö3 / 2) * 2¬≤
  A = (3‚àö3 / 2) * 4
  A = 6‚àö3

Volume of prism:
  V = A * H
  V = 6‚àö3 * 3
  V = 18‚àö3

Answer: D) 18‚àö3

Verification of answer options:
A) 16‚àö3 ‚Äî wrong
B) 12‚àö3 ‚Äî wrong
C) 9‚àö3 ‚Äî wrong
D) 18‚àö3 ‚Äî CORRECT ‚úì
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.15rem;
  font-weight: 600;
}

.answer-option {
  cursor: default;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

.plan-card p {
  color: #e2e8f0;
  font-size: 1.05rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

.theory-content {
  padding: 16px 0;
}

.theory-content ul {
  list-style: none;
  padding-left: 0;
}

.theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid #334155;
  color: #e2e8f0;
}

.theory-content li:last-child {
  border-bottom: none;
}

.canvas-container {
  text-align: center;
  margin: 16px 0;
}

.canvas-container canvas {
  border-radius: 12px;
  border: 1px solid #334155;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step:hover, .step.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  flex-shrink: 0;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
  color: #0f172a;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.12), rgba(167,139,250,0.12));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  text-align: center;
  margin-bottom: 24px;
}

.insight-box h2 {
  color: #a78bfa;
}

.final-answer-box {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 2px solid rgba(52,211,153,0.3);
  border-radius: 14px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box h2 {
  color: #4ade80;
  margin-bottom: 16px;
}

.final-answer-value {
  font-size: 1.8rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.answer-options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin-top: 16px;
}

.answer-options-final .option {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1.05rem;
  color: #94a3b8;
}

.answer-options-final .option.correct {
  background: rgba(52,211,153,0.15);
  border-color: #4ade80;
  color: #4ade80;
  font-weight: 700;
}

.verification {
  margin-top: 16px;
  color: #94a3b8;
  font-size: 0.95rem;
  font-style: italic;
}

.pitfalls ul {
  list-style: disc;
  padding-left: 20px;
}

.pitfalls li {
  padding: 6px 0;
  color: #e2e8f0;
}

.pitfall-highlight {
  color: #e09468;
  font-weight: 600;
}

.challenge-card {
  border-left: 3px solid #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .step { flex-direction: column; gap: 8px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Zapremina pravilne ≈°estostrane prizme</h1>
  <p class="subtitle">Stereometrija ‚Äî pravilna ≈°estostrana prizma upisana u valjak</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zapremina pravilne ≈°estostrane prizme upisane u valjak polupreƒçnika osnove \( r = 2 \) i visine \( H = 3 \) je:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Polupreƒçnik</div>
        <div class="value">\( r = 2 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Visina</div>
        <div class="value">\( H = 3 \)</div>
      </div>
    </div>

    <div class="given-grid" style="margin-top: 20px;">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 16\sqrt{3} \)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 12\sqrt{3} \)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 9\sqrt{3} \)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 18\sqrt{3} \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan re≈°avanja</h2>
    <p>Iskoristiƒáemo osobinu pravilnog ≈°estougla upisanog u krug: stranica ≈°estougla jednaka je polupreƒçniku opisanog kruga. Zatim ƒáemo izraƒçunati povr≈°inu osnove i pomno≈æiti je visinom prizme da dobijemo zapreminu.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>üìê Kljuƒçne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Pravilan ≈°estougao upisan u krug polupreƒçnika \( R \):</strong> Stranica ≈°estougla je \( a = R \). Ovo va≈æi jer se pravilan ≈°estougao mo≈æe podeliti na 6 jednakostraniƒçnih trouglova ƒçija stranica je jednaka polupreƒçniku opisanog kruga.</li>
          <li><strong>Povr≈°ina pravilnog ≈°estougla:</strong> \[ P = \frac{3\sqrt{3}}{2}\,a^2 \] gde je \( a \) du≈æina stranice.</li>
          <li><strong>Zapremina prizme:</strong> \[ V = P_{\text{osnove}} \cdot H \] gde je \( P_{\text{osnove}} \) povr≈°ina osnove, a \( H \) visina prizme.</li>
          <li><strong>Veza prizme i valjka:</strong> Kada je prizma upisana u valjak, osnova prizme je upisana u osnovu valjka (krug), a visine prizme i valjka su jednake.</li>
        </ul>
        <div class="canvas-container">
          <canvas id="theoryCanvas" width="300" height="300"></canvas>
          <p class="drag-hint">Pravilan ≈°estougao podeljen na 6 jednakostraniƒçnih trouglova</p>
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Dijagram ‚Äî Prizma upisana u valjak</h2>
    <div class="canvas-container">
      <canvas id="mainCanvas" width="700" height="520"></canvas>
      <p class="drag-hint">Pogled na pravilnu ≈°estostranu prizmu upisanu u valjak</p>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Re≈°enje korak po korak</h2>

    <div class="step" role="button" tabindex="0">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Odredimo stranicu ≈°estougla</h3>
        <p>Pravilna ≈°estostrana prizma je upisana u valjak polupreƒçnika \( r = 2 \). To znaƒçi da je pravilan ≈°estougao (osnova prizme) upisan u krug polupreƒçnika \( r = 2 \).</p>
        <div class="math-block">
          \[ a = r = 2 \]
        </div>
        <p class="note">Kljuƒçna osobina: stranica pravilnog ≈°estougla jednaka je polupreƒçniku opisanog kruga.</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>üß† Proveri sebe: Za≈°to je \( a = r \)?</summary>
        <p style="padding: 10px 0; color: #e2e8f0;">Pravilan ≈°estougao se sastoji od 6 jednakostraniƒçnih trouglova. Svaki trougao ima jedan teme u centru kruga, a druga dva na kru≈ænici. Po≈°to su to jednakostraniƒçni trouglovi, sva tri stranice su jednaka ‚Äî ukljuƒçujuƒái onu koja je i polupreƒçnik kruga. Dakle, \( a = r \).</p>
      </details>
    </div>

    <div class="step" role="button" tabindex="0">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Izraƒçunamo povr≈°inu osnove</h3>
        <p>Koristimo formulu za povr≈°inu pravilnog ≈°estougla sa stranicom \( a \):</p>
        <div class="math-block">
          \[ P = \frac{3\sqrt{3}}{2}\,a^2 \]
        </div>
        <p>Zamenjujemo \( a = 2 \):</p>
        <div class="math-block">
          \[ P = \frac{3\sqrt{3}}{2} \cdot 2^2 \]
        </div>
      </div>
    </div>

    <div class="step" role="button" tabindex="0">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Uprostimo izraz za povr≈°inu</h3>
        <p>Izraƒçunamo \( 2^2 = 4 \):</p>
        <div class="math-block">
          \[ P = \frac{3\sqrt{3}}{2} \cdot 4 = \frac{12\sqrt{3}}{2} = 6\sqrt{3} \]
        </div>
        <p class="note">Povr≈°ina pravilnog ≈°estougla upisanog u krug polupreƒçnika 2 iznosi \( 6\sqrt{3} \).</p>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>üß† Proveri sebe: Kolika je pribli≈æna vrednost \( 6\sqrt{3} \)?</summary>
        <p style="padding: 10px 0; color: #e2e8f0;">\( \sqrt{3} \approx 1{,}732 \), pa je \( 6\sqrt{3} \approx 10{,}39 \). To je manje od povr≈°ine kruga \( \pi r^2 = 4\pi \approx 12{,}57 \), ≈°to ima smisla ‚Äî ≈°estougao je upisan u krug pa mora imati manju povr≈°inu.</p>
      </details>
    </div>

    <div class="step" role="button" tabindex="0">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Odredimo visinu prizme</h3>
        <p>Po≈°to je prizma upisana u valjak, visina prizme jednaka je visini valjka:</p>
        <div class="math-block">
          \[ H_{\text{prizme}} = H_{\text{valjka}} = 3 \]
        </div>
      </div>
    </div>

    <div class="step" role="button" tabindex="0">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izraƒçunamo zapreminu prizme</h3>
        <p>Zapremina prizme je proizvod povr≈°ine osnove i visine:</p>
        <div class="math-block">
          \[ V = P \cdot H = 6\sqrt{3} \cdot 3 \]
        </div>
        <div class="math-block">
          \[ \boxed{V = 18\sqrt{3}} \]
        </div>
      </div>
    </div>

    <div class="checkpoint">
      <details>
        <summary>üß† Proveri sebe: Da li je zapremina prizme manja od zapremine valjka?</summary>
        <p style="padding: 10px 0; color: #e2e8f0;">Zapremina valjka je \( V_v = \pi r^2 H = 4\pi \cdot 3 = 12\pi \approx 37{,}70 \). Zapremina prizme je \( 18\sqrt{3} \approx 31{,}18 \). Po≈°to je \( 31{,}18 < 37{,}70 \), prizma zaista ima manju zapreminu od valjka u koji je upisana.</p>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljuƒçni uvid</h2>
    <p style="color: #e2e8f0; margin: 12px 0;">Celokupan zadatak se svodi na jednu kljuƒçnu osobinu pravilnog ≈°estougla:</p>
    <div class="math-block" style="display: inline-block; font-size: 1.2rem;">
      \[ a = R \quad \Rightarrow \quad V = \frac{3\sqrt{3}}{2} \cdot R^2 \cdot H \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <h2>Konaƒçan odgovor</h2>
    <div class="final-answer-value">\( V = 18\sqrt{3} \)</div>
    <div class="answer-options-final">
      <div class="option">(A) \( 16\sqrt{3} \)</div>
      <div class="option">(B) \( 12\sqrt{3} \)</div>
      <div class="option">(C) \( 9\sqrt{3} \)</div>
      <div class="option correct">(D) \( 18\sqrt{3} \)</div>
    </div>
    <p class="verification">Provera: \( 18\sqrt{3} \approx 31{,}18 \), ≈°to je manje od zapremine valjka \( 12\pi \approx 37{,}70 \) ‚Äî rezultat je smislen jer je prizma upisana u valjak.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls">
    <h2>ƒåeste gre≈°ke</h2>
    <ul>
      <li><span class="pitfall-highlight">Pogre≈°na veza \( a \) i \( r \):</span> Mnogi uƒçenici gre≈°kom uzmu da je apotema (polupreƒçnik upisanog kruga) jednaka \( r \), umesto da je stranica ≈°estougla jednaka \( r \). Apotema pravilnog ≈°estougla je \( \frac{a\sqrt{3}}{2} \), ≈°to daje drugaƒçiji rezultat.</li>
      <li><span class="pitfall-highlight">Pogre≈°na formula za povr≈°inu:</span> Ne me≈°ati formulu za povr≈°inu pravilnog ≈°estougla \( P = \frac{3\sqrt{3}}{2}a^2 \) sa formulom za jednakostraniƒçni trougao \( P = \frac{\sqrt{3}}{4}a^2 \). ≈†estougao je sastavljen od 6 takvih trouglova.</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliki je odnos zapremine pravilne ≈°estostrane prizme i zapremine valjka u koji je upisana? Da li taj odnos zavisi od \( r \) i \( H \)?</p>
    <details style="margin: 15px 0;">
      <summary>üí° Nagove≈°taj</summary>
      <p style="padding: 10px 0; color: #e2e8f0;">Zapi≈°ite odnos \( \frac{V_{\text{prizme}}}{V_{\text{valjka}}} = \frac{\frac{3\sqrt{3}}{2}r^2 \cdot H}{\pi r^2 \cdot H} \). ≈†ta se skrati? Rezultat je konstanta ‚Äî izraƒçunajte njenu pribli≈ænu vrednost.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Theory canvas: hexagon divided into 6 equilateral triangles
  const tc = document.getElementById('theoryCanvas');
  if (tc) {
    const ctx = tc.getContext('2d');
    const w = tc.width, h = tc.height;
    const cx = w / 2, cy = h / 2;
    const R = 110;

    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, w, h);

    // Draw circle
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(96,165,250,0.3)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Hexagon vertices
    const verts = [];
    for (let i = 0; i < 6; i++) {
      const angle = -Math.PI / 2 + i * Math.PI / 3;
      verts.push({ x: cx + R * Math.cos(angle), y: cy + R * Math.sin(angle) });
    }

    // Draw hexagon
    ctx.beginPath();
    ctx.moveTo(verts[0].x, verts[0].y);
    for (let i = 1; i < 6; i++) ctx.lineTo(verts[i].x, verts[i].y);
    ctx.closePath();
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = 'rgba(96,165,250,0.06)';
    ctx.fill();

    // Draw triangles from center
    const colors = ['rgba(167,139,250,0.15)', 'rgba(96,165,250,0.15)', 'rgba(52,211,153,0.12)',
                    'rgba(244,114,182,0.12)', 'rgba(96,165,250,0.15)', 'rgba(167,139,250,0.15)'];
    for (let i = 0; i < 6; i++) {
      const j = (i + 1) % 6;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(verts[i].x, verts[i].y);
      ctx.lineTo(verts[j].x, verts[j].y);
      ctx.closePath();
      ctx.fillStyle = colors[i];
      ctx.fill();
      ctx.strokeStyle = 'rgba(148,163,184,0.4)';
      ctx.lineWidth = 1;
      ctx.stroke();
    }

    // Radius line
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(verts[0].x, verts[0].y);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Side label
    const mx = (verts[0].x + verts[1].x) / 2;
    const my = (verts[0].y + verts[1].y) / 2;
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'center';
    ctx.fillText('a = R', mx + 18, my - 8);

    // R label
    const rmx = (cx + verts[0].x) / 2;
    const rmy = (cy + verts[0].y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('R', rmx - 14, rmy);

    // Center dot
    ctx.beginPath();
    ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Vertex dots
    for (const v of verts) {
      ctx.beginPath();
      ctx.arc(v.x, v.y, 3.5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
    }
  }

  // Main canvas: 3D hexagonal prism inscribed in cylinder
  const mc = document.getElementById('mainCanvas');
  if (mc) {
    const ctx = mc.getContext('2d');
    const w = mc.width, h = mc.height;

    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, w, h);

    // Isometric-like projection parameters
    const cx = w / 2;
    const cyTop = 160;
    const cyBot = 380;
    const Rx = 140;  // horizontal radius of ellipse
    const Ry = 50;   // vertical radius of ellipse (for 3D effect)

    // Function to get hexagon vertex in 3D projected view
    function hexVertex(i, centerY) {
      const angle = -Math.PI / 2 + i * Math.PI / 3;
      const x = cx + Rx * Math.cos(angle);
      const y = centerY + Ry * Math.sin(angle);
      return { x, y };
    }

    // Top and bottom hexagon vertices
    const topVerts = [];
    const botVerts = [];
    for (let i = 0; i < 6; i++) {
      topVerts.push(hexVertex(i, cyTop));
      botVerts.push(hexVertex(i, cyBot));
    }

    // Draw cylinder (back half of ellipses + vertical lines)
    // Back half of bottom ellipse
    ctx.beginPath();
    ctx.ellipse(cx, cyBot, Rx, Ry, 0, 0, Math.PI);
    ctx.strokeStyle = 'rgba(148,163,184,0.2)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Back half of top ellipse
    ctx.beginPath();
    ctx.ellipse(cx, cyTop, Rx, Ry, 0, 0, Math.PI);
    ctx.strokeStyle = 'rgba(148,163,184,0.2)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.stroke();

    // Back vertical edges of prism (indices 1,2,3 are behind)
    for (let i = 1; i <= 3; i++) {
      ctx.beginPath();
      ctx.moveTo(topVerts[i].x, topVerts[i].y);
      ctx.lineTo(botVerts[i].x, botVerts[i].y);
      ctx.strokeStyle = 'rgba(96,165,250,0.25)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // Back edges of top hexagon
    for (let i = 0; i <= 3; i++) {
      const j = (i + 1) % 6;
      if (i >= 1 && i <= 2) {
        ctx.beginPath();
        ctx.moveTo(topVerts[i].x, topVerts[i].y);
        ctx.lineTo(topVerts[j].x, topVerts[j].y);
        ctx.strokeStyle = 'rgba(96,165,250,0.25)';
        ctx.lineWidth = 1.5;
        ctx.setLineDash([6, 4]);
        ctx.stroke();
        ctx.setLineDash([]);
      }
    }

    // Back edges of bottom hexagon
    for (let i = 1; i <= 2; i++) {
      const j = (i + 1) % 6;
      ctx.beginPath();
      ctx.moveTo(botVerts[i].x, botVerts[i].y);
      ctx.lineTo(botVerts[j].x, botVerts[j].y);
      ctx.strokeStyle = 'rgba(96,165,250,0.25)';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    // Cylinder side lines (left and right)
    ctx.beginPath();
    ctx.moveTo(cx - Rx, cyTop);
    ctx.lineTo(cx - Rx, cyBot);
    ctx.strokeStyle = 'rgba(148,163,184,0.35)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(cx + Rx, cyTop);
    ctx.lineTo(cx + Rx, cyBot);
    ctx.strokeStyle = 'rgba(148,163,184,0.35)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Fill front faces of prism with subtle color
    // Left face (5-0 to 5-0 bottom)
    ctx.beginPath();
    ctx.moveTo(topVerts[5].x, topVerts[5].y);
    ctx.lineTo(topVerts[0].x, topVerts[0].y);
    ctx.lineTo(botVerts[0].x, botVerts[0].y);
    ctx.lineTo(botVerts[5].x, botVerts[5].y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.07)';
    ctx.fill();

    // Front-left face (0-1)
    // Actually front faces are those with indices 4,5,0 visible
    const frontFaces = [[4, 5], [5, 0], [0, 1]];
    const faceColors = ['rgba(167,139,250,0.08)', 'rgba(96,165,250,0.1)', 'rgba(52,211,153,0.07)'];
    for (let f = 0; f < frontFaces.length; f++) {
      const [a, b] = frontFaces[f];
      ctx.beginPath();
      ctx.moveTo(topVerts[a].x, topVerts[a].y);
      ctx.lineTo(topVerts[b].x, topVerts[b].y);
      ctx.lineTo(botVerts[b].x, botVerts[b].y);
      ctx.lineTo(botVerts[a].x, botVerts[a].y);
      ctx.closePath();
      ctx.fillStyle = faceColors[f];
      ctx.fill();
    }

    // Front edges of bottom hexagon
    const frontBotEdges = [[3, 4], [4, 5], [5, 0], [0, 1]];
    for (const [i, j] of frontBotEdges) {
      ctx.beginPath();
      ctx.moveTo(botVerts[i].x, botVerts[i].y);
      ctx.lineTo(botVerts[j].x, botVerts[j].y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    // Front edges of top hexagon
    const frontTopEdges = [[3, 4], [4, 5], [5, 0], [0, 1]];
    for (const [i, j] of frontTopEdges) {
      ctx.beginPath();
      ctx.moveTo(topVerts[i].x, topVerts[i].y);
      ctx.lineTo(topVerts[j].x, topVerts[j].y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    // Front vertical edges
    for (const i of [0, 4, 5]) {
      ctx.beginPath();
      ctx.moveTo(topVerts[i].x, topVerts[i].y);
      ctx.lineTo(botVerts[i].x, botVerts[i].y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.stroke();
    }
    // Edge at vertex 1 and 3 (transitional)
    for (const i of [1, 3]) {
      ctx.beginPath();
      ctx.moveTo(topVerts[i].x, topVerts[i].y);
      ctx.lineTo(botVerts[i].x, botVerts[i].y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    // Front half of top ellipse
    ctx.beginPath();
    ctx.ellipse(cx, cyTop, Rx, Ry, 0, Math.PI, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(148,163,184,0.4)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Front half of bottom ellipse
    ctx.beginPath();
    ctx.ellipse(cx, cyBot, Rx, Ry, 0, Math.PI, 2 * Math.PI);
    ctx.strokeStyle = 'rgba(148,163,184,0.4)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Fill top hexagon face
    ctx.beginPath();
    ctx.moveTo(topVerts[0].x, topVerts[0].y);
    for (let i = 1; i < 6; i++) ctx.lineTo(topVerts[i].x, topVerts[i].y);
    ctx.closePath();
    ctx.fillStyle = 'rgba(96,165,250,0.1)';
    ctx.fill();

    // Top hexagon edges (all visible from above)
    for (let i = 0; i < 6; i++) {
      const j = (i + 1) % 6;
      ctx.beginPath();
      ctx.moveTo(topVerts[i].x, topVerts[i].y);
      ctx.lineTo(topVerts[j].x, topVerts[j].y);
      ctx.strokeStyle = '#60a5fa';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    // Radius line on top face (from center to vertex 0)
    ctx.beginPath();
    ctx.moveTo(cx, cyTop);
    ctx.lineTo(topVerts[0].x, topVerts[0].y);
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    // Height dimension line (right side)
    const dimX = cx + Rx + 40;
    ctx.beginPath();
    ctx.moveTo(dimX, cyTop);
    ctx.lineTo(dimX, cyBot);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Arrows
    ctx.beginPath();
    ctx.moveTo(dimX, cyTop);
    ctx.lineTo(dimX - 5, cyTop + 10);
    ctx.moveTo(dimX, cyTop);
    ctx.lineTo(dimX + 5, cyTop + 10);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(dimX, cyBot);
    ctx.lineTo(dimX - 5, cyBot - 10);
    ctx.moveTo(dimX, cyBot);
    ctx.lineTo(dimX + 5, cyBot - 10);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Horizontal ticks
    ctx.beginPath();
    ctx.moveTo(dimX - 6, cyTop);
    ctx.lineTo(dimX + 6, cyTop);
    ctx.moveTo(dimX - 6, cyBot);
    ctx.lineTo(dimX + 6, cyBot);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // Labels
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    // H label
    ctx.fillStyle = '#4ade80';
    ctx.fillText('H = 3', dimX + 4, (cyTop + cyBot) / 2 + 5);

    // r label on radius line
    const rLabelX = (cx + topVerts[0].x) / 2;
    const rLabelY = (cyTop + topVerts[0].y) / 2;
    ctx.fillStyle = '#f472b6';
    ctx.fillText('r = 2', rLabelX + 5, rLabelY - 12);

    // a label on top edge (between vertex 0 and 1)
    const aLabelX = (topVerts[0].x + topVerts[1].x) / 2;
    const aLabelY = (topVerts[0].y + topVerts[1].y) / 2;
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.fillText('a = 2', aLabelX + 24, aLabelY - 4);

    // Center dot
    ctx.beginPath();
    ctx.arc(cx, cyTop, 4, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();

    // Vertex dots (top)
    for (const v of topVerts) {
      ctx.beginPath();
      ctx.arc(v.x, v.y, 3.5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
    }

    // Vertex dots (bottom, visible ones)
    for (const i of [0, 1, 3, 4, 5]) {
      ctx.beginPath();
      ctx.arc(botVerts[i].x, botVerts[i].y, 3.5, 0, 2 * Math.PI);
      ctx.fillStyle = '#60a5fa';
      ctx.fill();
    }

    // Title labels
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#94a3b8';
    ctx.textAlign = 'left';
    ctx.fillText('Pravilna ≈°estostrana prizma', 20, 30);
    ctx.fillText('upisana u valjak', 20, 50);

    // Volume result
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'center';
    ctx.fillText('V = 18‚àö3', cx, cyBot + Ry + 40);
  }

  // Step click highlight
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.toggle('active');
    });
    step.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        this.click();
      }
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zapremina pravilne ≈°estostrane prizme upisane u valjak",
  "subject": "math",
  "unit": "geometry",
  "topic_tags": ["stereometrija", "pravilna prizma", "≈°estougao", "zapremina", "valjak"]
}
BRAINSPARK_META-->