<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vrednost numerickog izraza</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
Problem:
Vrednost izraza (29,6 − 7·2/5) : (2·3/25 − 0,12) + 11·7/7,7 = ?

Interpretation:
  - 7·2/5 is the mixed number 7 + 2/5 = 37/5 = 7,4
  - 2·3/25 is the mixed number 2 + 3/25 = 53/25 = 2,12
  - 11·7/7,7 means 11 * (7/7,7) = 11 * 70/77 = 11 * 10/11 = 10

Step 1: First parenthesis
  29,6 − 7·2/5 = 29,6 − 7,4 = 22,2
  Or in fractions: 148/5 − 37/5 = 111/5

Step 2: Second parenthesis
  2·3/25 − 0,12 = 2,12 − 0,12 = 2,00 = 2
  Or in fractions: 53/25 − 3/25 = 50/25 = 2

Step 3: Division
  22,2 : 2 = 11,1
  Or in fractions: 111/5 : 2 = 111/10

Step 4: Third term
  11 · 7/7,7 = 11 · (7 / 7,7)
  7,7 = 77/10, so 7/7,7 = 7/(77/10) = 7 · 10/77 = 70/77 = 10/11
  11 · 10/11 = 110/11 = 10

Step 5: Final sum
  11,1 + 10 = 21,1
  Or in fractions: 111/10 + 10 = 111/10 + 100/10 = 211/10 = 21,1

Answer: (D) 21,1

Verification: 21,1 matches option D. Confirmed correct.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 700;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  font-weight: 600;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
  font-size: 1.1rem;
}

.problem-statement .problem-text {
  margin-bottom: 20px;
}

.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 10px 16px;
  text-align: center;
  font-size: 1.05rem;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.answer-option {
  cursor: default;
  transition: transform 0.15s;
}

.math-box {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  overflow-x: auto;
}

.step-container {
  margin-bottom: 24px;
  padding: 16px;
  border-radius: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  cursor: pointer;
}

.step-container:hover {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.04);
}

.step-container.active {
  border-left-color: #4ade80;
  background: rgba(74, 222, 128, 0.06);
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  color: #fff;
  font-weight: 700;
  font-size: 0.95rem;
  margin-right: 10px;
  flex-shrink: 0;
}

.step-title {
  font-size: 1.15rem;
  font-weight: 600;
  color: #e2e8f0;
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.step-explanation {
  color: #cbd5e1;
  margin-bottom: 12px;
}

details {
  background: rgba(167, 139, 250, 0.08);
  border: 1px solid rgba(167, 139, 250, 0.2);
  border-radius: 10px;
  padding: 12px 16px;
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  user-select: none;
}

details summary:hover {
  color: #c4b5fd;
}

details[open] summary {
  margin-bottom: 10px;
}

.insight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-left: 4px solid #60a5fa;
  border-radius: 12px;
  padding: 20px 24px;
  margin: 24px 0;
}

.insight-box .insight-title {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.15rem;
  margin-bottom: 8px;
}

.final-answer-card {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid rgba(52, 211, 153, 0.3);
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin: 28px 0;
}

.final-answer-card .label {
  color: #34d399;
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 10px;
}

.final-answer-card .answer {
  font-size: 2.2rem;
  font-weight: 700;
  color: #4ade80;
  margin-bottom: 16px;
}

.final-options {
  display: flex;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 16px;
}

.final-option {
  padding: 8px 20px;
  border-radius: 10px;
  font-size: 1.05rem;
  border: 1px solid #334155;
  background: #1e293b;
  color: #94a3b8;
}

.final-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #4ade80;
  font-weight: 700;
}

.verification-note {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 14px;
}

.pitfall-item {
  background: rgba(244, 114, 182, 0.08);
  border-left: 3px solid #f472b6;
  border-radius: 8px;
  padding: 12px 16px;
  margin: 10px 0;
  color: #fbb6ce;
}

.pitfall-title {
  color: #f472b6;
  font-weight: 600;
  margin-bottom: 4px;
}

canvas {
  width: 100%;
  border-radius: 12px;
  touch-action: none;
  display: block;
  margin: 0 auto;
}

.plan-text {
  color: #94a3b8;
  font-size: 1.05rem;
  line-height: 1.8;
}

.highlight {
  color: #f472b6;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card { padding: 16px; }
  .container { padding: 10px; }
  .given-grid { grid-template-columns: repeat(auto-fit, minmax(90px, 1fr)); }
  .final-answer-card .answer { font-size: 1.7rem; }
  .step-container { padding: 10px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Izracunavanje vrednosti numerickog izraza</h1>
  <p class="subtitle">Racunske operacije sa mesovitim brojevima, razlomcima i decimalnim brojevima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#128221;</span> Postavka zadatka</div>
    <div class="problem-text">
      Vrednost izraza:
      <div class="math-box">
        \[ \left(29{,}6 - 7\frac{2}{5}\right) : \left(2\frac{3}{25} - 0{,}12\right) + 11 \cdot \frac{7}{7{,}7} \]
      </div>
      je:
    </div>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(21{,}5\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(20{,}25\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(21{,}75\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(21{,}1\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127919;</span> Plan resavanja</div>
    <p class="plan-text">
      Izracunacemo svaki deo izraza posebno: prvo zagradu u brojiocu (oduzimanje), zatim zagradu u imeniocu (oduzimanje), pa deljenje, i na kraju trecu komponentu (mnozenje). Konacni rezultat dobijamo sabiranjem.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>&#128208; Kljucne formule i pravila</summary>
      <ul style="margin-top: 12px; padding-left: 20px; color: #cbd5e1;">
        <li style="margin-bottom: 10px;"><strong>Mesoviti broj u razlomak:</strong>
          <div class="math-box">\[ a\frac{b}{c} = \frac{a \cdot c + b}{c} \]</div>
        </li>
        <li style="margin-bottom: 10px;"><strong>Decimalni broj u razlomak:</strong>
          <div class="math-box">\[ 29{,}6 = \frac{296}{10} = \frac{148}{5} \qquad 0{,}12 = \frac{12}{100} = \frac{3}{25} \]</div>
        </li>
        <li style="margin-bottom: 10px;"><strong>Deljenje razlomkom:</strong>
          <div class="math-box">\[ \frac{a}{b} : \frac{c}{d} = \frac{a}{b} \cdot \frac{d}{c} \]</div>
        </li>
        <li style="margin-bottom: 10px;"><strong>Deljenje razlomaka sa decimalom u imeniocu:</strong>
          <div class="math-box">\[ \frac{7}{7{,}7} = \frac{7}{\frac{77}{10}} = 7 \cdot \frac{10}{77} = \frac{70}{77} = \frac{10}{11} \]</div>
        </li>
        <li style="margin-bottom: 10px;"><strong>Redosled operacija:</strong> Prvo zagrade, zatim mnozenje/deljenje (s leva na desno), pa sabiranje/oduzimanje (s leva na desno).</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127912;</span> Vizuelni prikaz racunanja</div>
    <canvas id="solutionCanvas" width="900" height="520"></canvas>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#128736;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step-container" data-step="1">
      <div class="step-title"><span class="step-badge">1</span> Pretvorimo mesovite i decimalne brojeve</div>
      <p class="step-explanation">
        Mesoviti broj \(7\frac{2}{5}\) pretvaramo u decimalni oblik:
      </p>
      <div class="math-box">
        \[ 7\frac{2}{5} = 7 + \frac{2}{5} = 7 + 0{,}4 = 7{,}4 \]
      </div>
      <p class="step-explanation">
        Mesoviti broj \(2\frac{3}{25}\) pretvaramo u decimalni oblik:
      </p>
      <div class="math-box">
        \[ 2\frac{3}{25} = 2 + \frac{3}{25} = 2 + 0{,}12 = 2{,}12 \]
      </div>
      <p class="step-explanation">
        Razlomak \(\frac{7}{7{,}7}\) sredimo tako sto \(7{,}7\) zapisemo kao razlomak:
      </p>
      <div class="math-box">
        \[ \frac{7}{7{,}7} = \frac{7}{\frac{77}{10}} = 7 \cdot \frac{10}{77} = \frac{70}{77} = \frac{10}{11} \]
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step-container" data-step="2">
      <div class="step-title"><span class="step-badge">2</span> Izracunamo prvu zagradu</div>
      <p class="step-explanation">
        Oduzimamo \(7{,}4\) od \(29{,}6\):
      </p>
      <div class="math-box">
        \[ 29{,}6 - 7{,}4 = 22{,}2 \]
      </div>
      <p class="step-explanation" style="color: #94a3b8; font-size: 0.95rem;">
        Mozemo i preko razlomaka: \(\frac{148}{5} - \frac{37}{5} = \frac{111}{5} = 22{,}2\)
      </p>
      <details>
        <summary>Proveri se: Koliko je \(29{,}6 - 7{,}4\)?</summary>
        <p>Oduzimamo decimalne delove: \(0{,}6 - 0{,}4 = 0{,}2\). Oduzimamo cele delove: \(29 - 7 = 22\). Ukupno: \(22{,}2\).</p>
      </details>
    </div>

    <!-- Step 3 -->
    <div class="step-container" data-step="3">
      <div class="step-title"><span class="step-badge">3</span> Izracunamo drugu zagradu</div>
      <p class="step-explanation">
        Oduzimamo \(0{,}12\) od \(2{,}12\):
      </p>
      <div class="math-box">
        \[ 2{,}12 - 0{,}12 = 2 \]
      </div>
      <p class="step-explanation" style="color: #94a3b8; font-size: 0.95rem;">
        Preko razlomaka: \(\frac{53}{25} - \frac{3}{25} = \frac{50}{25} = 2\)
      </p>
      <p class="step-explanation">
        Primetimo lepo poklapanje: decimalni deo mesovitog broja \(2\frac{3}{25} = 2{,}12\) je jednak broju \(0{,}12\), pa se pri oduzimanju poniste i ostaje ceo broj \(2\).
      </p>
    </div>

    <!-- Step 4 -->
    <div class="step-container" data-step="4">
      <div class="step-title"><span class="step-badge">4</span> Izvrsimo deljenje</div>
      <p class="step-explanation">
        Delimo rezultat prve zagrade rezultatom druge zagrade:
      </p>
      <div class="math-box">
        \[ 22{,}2 : 2 = 11{,}1 \]
      </div>
      <p class="step-explanation" style="color: #94a3b8; font-size: 0.95rem;">
        Ili: \(\frac{111}{5} : 2 = \frac{111}{5} \cdot \frac{1}{2} = \frac{111}{10} = 11{,}1\)
      </p>
      <details>
        <summary>Proveri se: Koliko je \(22{,}2 : 2\)?</summary>
        <p>Deljenje sa \(2\): celi deo \(22 : 2 = 11\), decimalni deo \(0{,}2 : 2 = 0{,}1\). Ukupno: \(11{,}1\).</p>
      </details>
    </div>

    <!-- Step 5 -->
    <div class="step-container" data-step="5">
      <div class="step-title"><span class="step-badge">5</span> Izracunamo treci clan</div>
      <p class="step-explanation">
        Mnozimo \(11\) sa \(\frac{10}{11}\):
      </p>
      <div class="math-box">
        \[ 11 \cdot \frac{10}{11} = \frac{11 \cdot 10}{11} = \frac{\cancel{11} \cdot 10}{\cancel{11}} = 10 \]
      </div>
      <p class="step-explanation">
        Mnozilac \(11\) i imenilac \(11\) se skrate, pa ostaje \(10\).
      </p>
    </div>

    <!-- Step 6 -->
    <div class="step-container" data-step="6">
      <div class="step-title"><span class="step-badge">6</span> Konacno sabiranje</div>
      <p class="step-explanation">
        Sabiramo rezultat deljenja i trecu komponentu:
      </p>
      <div class="math-box">
        \[ 11{,}1 + 10 = 21{,}1 \]
      </div>
      <p class="step-explanation" style="color: #94a3b8; font-size: 0.95rem;">
        Preko razlomaka: \(\frac{111}{10} + \frac{100}{10} = \frac{211}{10} = 21{,}1\)
      </p>
      <details>
        <summary>Proveri se: Da li je \(\frac{211}{10}\) zaista \(21{,}1\)?</summary>
        <p>Da: \(211 : 10 = 21\) sa ostatkom \(1\), pa \(21 + \frac{1}{10} = 21 + 0{,}1 = 21{,}1\).</p>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="insight-title">Kljucni uvid</div>
    <p>
      Kljuc ovog zadatka lezi u vestom prepoznavanju "lepih" medjurezultata. U drugoj zagradi, decimalni deo mesovitog broja \(2\frac{3}{25} = 2{,}12\) je jednak broju koji oduzimamo (\(0{,}12\)), pa se poniste i daju ceo broj \(2\). U trecem clanu, \(11\) u brojiocu i imeniocu se skrate. Ova dva pojednostavljenja pretvaraju naizgled slozen izraz u jednostavno racunanje.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="label">Konacan odgovor</div>
    <div class="answer">\(21{,}1\)</div>
    <div class="final-options">
      <div class="final-option" data-option="A">(A) \(21{,}5\)</div>
      <div class="final-option" data-option="B">(B) \(20{,}25\)</div>
      <div class="final-option" data-option="C">(C) \(21{,}75\)</div>
      <div class="final-option correct" data-option="D">(D) \(21{,}1\)</div>
    </div>
    <p class="verification-note">
      Verifikacija: \(\frac{111}{10} + 10 = \frac{211}{10} = 21{,}1\) &#10004;
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#9888;&#65039;</span> Ceste greske</div>
    <div class="pitfall-item">
      <div class="pitfall-title">Pogresna konverzija razlomka \(\frac{7}{7{,}7}\)</div>
      <p>Mnogi ucenici pogresno izracunaju \(\frac{7}{7{,}7}\) kao \(1\) ili zaokruze na \(\frac{7}{8}\). Pravilno: \(7{,}7 = \frac{77}{10}\), pa je \(\frac{7}{7{,}7} = \frac{70}{77} = \frac{10}{11}\). Ako se ovo pogresi, ceo rezultat ce biti pogresan.</p>
    </div>
    <div class="pitfall-item">
      <div class="pitfall-title">Pogresan redosled operacija</div>
      <p>U izrazu \(A : B + C\), deljenje se izvrsava pre sabiranja. Ako se prvo sabere, rezultat ce biti pogresan. Ovde prvo racunamo \(22{,}2 : 2 = 11{,}1\), a zatim sabiramo sa \(10\).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="card">
    <div class="card-title"><span class="icon">&#127942;</span> Dodatni izazov</div>
    <p class="step-explanation">
      Izracunajte vrednost slicnog izraza:
    </p>
    <div class="math-box">
      \[ \left(38{,}4 - 5\frac{4}{5}\right) : \left(3\frac{4}{25} - 0{,}16\right) + 13 \cdot \frac{9}{11{,}7} \]
    </div>
    <details>
      <summary>Nagovestaj</summary>
      <p>Pretvorite: \(5\frac{4}{5} = 5{,}8\), pa je razlika \(38{,}4 - 5{,}8 = 32{,}6\). Takodje, \(3\frac{4}{25} = 3{,}16\), pa je \(3{,}16 - 0{,}16 = 3\). Kolicnik: \(32{,}6 : 3 = ?\). Za trecu komponentu: \(11{,}7 = \frac{117}{10}\), pa je \(\frac{9}{11{,}7} = \frac{90}{117} = \frac{10}{13}\), i \(13 \cdot \frac{10}{13} = 10\).</p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('solutionCanvas');
  const ctx = canvas.getContext('2d');

  function draw() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * dpr;
    canvas.height = 520 * dpr;
    ctx.scale(dpr, dpr);

    const W = rect.width;
    const H = 520;

    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 17px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Tok izracunavanja izraza', W / 2, 28);

    var boxW = Math.min(220, W * 0.24);
    var boxH = 50;

    /* Row 1: Original expression broken into parts */
    var y1 = 72;
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Prva zagrada', W * 0.2, y1 - 12);
    ctx.fillText('Druga zagrada', W * 0.5, y1 - 12);
    ctx.fillText('Treci clan', W * 0.8, y1 - 12);

    drawBox(W * 0.2, y1, boxW, boxH, '29,6 \u2212 7 2/5', 'oduzimanje', '#a78bfa');
    drawBox(W * 0.5, y1, boxW, boxH, '2 3/25 \u2212 0,12', 'oduzimanje', '#a78bfa');
    drawBox(W * 0.8, y1, boxW, boxH, '11 \u00B7 7/7,7', 'mnozenje', '#a78bfa');

    /* Row 2: Converted values */
    var y2 = 158;
    drawArrow(W * 0.2, y1 + boxH / 2 + 2, W * 0.2, y2 - boxH / 2);
    drawArrow(W * 0.5, y1 + boxH / 2 + 2, W * 0.5, y2 - boxH / 2);
    drawArrow(W * 0.8, y1 + boxH / 2 + 2, W * 0.8, y2 - boxH / 2);

    drawBox(W * 0.2, y2, boxW, boxH, '29,6 \u2212 7,4', 'konvertovano', '#60a5fa');
    drawBox(W * 0.5, y2, boxW, boxH, '2,12 \u2212 0,12', 'konvertovano', '#60a5fa');
    drawBox(W * 0.8, y2, boxW, boxH, '11 \u00B7 10/11', 'konvertovano', '#60a5fa');

    /* Row 3: Computed results */
    var y3 = 244;
    drawArrow(W * 0.2, y2 + boxH / 2 + 2, W * 0.2, y3 - boxH / 2);
    drawArrow(W * 0.5, y2 + boxH / 2 + 2, W * 0.5, y3 - boxH / 2);
    drawArrow(W * 0.8, y2 + boxH / 2 + 2, W * 0.8, y3 - boxH / 2);

    drawBox(W * 0.2, y3, boxW, boxH, '= 22,2', 'rezultat', '#34d399');
    drawBox(W * 0.5, y3, boxW, boxH, '= 2', 'rezultat', '#34d399');
    drawBox(W * 0.8, y3, boxW, boxH, '= 10', 'rezultat', '#34d399');

    /* Row 4: Division */
    var y4 = 340;
    drawArrow(W * 0.2, y3 + boxH / 2 + 2, W * 0.35, y4 - boxH / 2);
    drawArrow(W * 0.5, y3 + boxH / 2 + 2, W * 0.35, y4 - boxH / 2);

    var mergeW = Math.min(260, W * 0.3);
    drawBox(W * 0.35, y4, mergeW, boxH, '22,2 : 2 = 11,1', 'deljenje', '#f472b6');

    /* Third term waits */
    drawArrow(W * 0.8, y3 + boxH / 2 + 2, W * 0.7, y4 - boxH / 2);
    drawBox(W * 0.7, y4, mergeW, boxH, '+ 10', 'ceka sabiranje', '#94a3b8');

    /* Row 5: Final sum */
    var y5 = 430;
    drawArrow(W * 0.35, y4 + boxH / 2 + 2, W * 0.5, y5 - boxH / 2);
    drawArrow(W * 0.7, y4 + boxH / 2 + 2, W * 0.5, y5 - boxH / 2);

    var fullW = Math.min(320, W * 0.4);
    drawBox(W * 0.5, y5, fullW, boxH, '11,1 + 10', 'sabiranje', '#a78bfa');

    /* Final result */
    var y6 = 495;
    drawArrow(W * 0.5, y5 + boxH / 2 + 2, W * 0.5, y6 - 18);

    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 26px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('= 21,1', W / 2, y6 + 5);

    ctx.beginPath();
    ctx.roundRect(W / 2 - 60, y6 - 22, 120, 46, 14);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.stroke();
  }

  function drawBox(x, y, w, h, title, sub, color) {
    var r = 10;
    ctx.beginPath();
    ctx.roundRect(x - w / 2, y - h / 2, w, h, r);
    ctx.fillStyle = 'rgba(30, 41, 59, 0.92)';
    ctx.fill();
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.stroke();

    ctx.fillStyle = color;
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(title, x, y - 4);

    ctx.fillStyle = '#94a3b8';
    ctx.font = '10px Segoe UI, system-ui, sans-serif';
    ctx.fillText(sub, x, y + 15);
  }

  function drawArrow(x1, y1, x2, y2) {
    ctx.beginPath();
    ctx.moveTo(x1, y1);
    ctx.lineTo(x2, y2);
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([4, 3]);
    ctx.stroke();
    ctx.setLineDash([]);

    var angle = Math.atan2(y2 - y1, x2 - x1);
    var size = 7;
    ctx.beginPath();
    ctx.moveTo(x2, y2);
    ctx.lineTo(x2 - size * Math.cos(angle - 0.4), y2 - size * Math.sin(angle - 0.4));
    ctx.lineTo(x2 - size * Math.cos(angle + 0.4), y2 - size * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fillStyle = '#475569';
    ctx.fill();
  }

  var stepContainers = document.querySelectorAll('.step-container');
  stepContainers.forEach(function(container) {
    container.addEventListener('click', function() {
      stepContainers.forEach(function(c) { c.classList.remove('active'); });
      container.classList.add('active');
    });
  });

  draw();
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Izracunavanje vrednosti numerickog izraza sa mesovitim brojevima",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["razlomci", "decimalni brojevi", "mesoviti brojevi", "redosled operacija", "aritmetika"]
}
BRAINSPARK_META-->