<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Racionalizacija imenilaca - Rešenje</title>

<script type="text/info" id="logic-scratchpad">
Problem: Izračunati vrednost izraza
  -4/(1+√3) + 1/(2-√3) + 6/(3-√3)

Ponuđeni odgovori: A) 7  B) 22/3 - √3/6  C) 8  D) 22/3 + √3/6

Strategy: Racionalizovati svaki razlomak posebno, pa sabrati.

Fraction 1: -4/(1+√3)
  Multiply by (1-√3)/(1-√3):
  = -4(1-√3) / ((1)^2 - (√3)^2)
  = -4(1-√3) / (1 - 3)
  = -4(1-√3) / (-2)
  = 2(1-√3)
  = 2 - 2√3

Fraction 2: 1/(2-√3)
  Multiply by (2+√3)/(2+√3):
  = (2+√3) / ((2)^2 - (√3)^2)
  = (2+√3) / (4 - 3)
  = (2+√3) / 1
  = 2 + √3

Fraction 3: 6/(3-√3)
  Multiply by (3+√3)/(3+√3):
  = 6(3+√3) / ((3)^2 - (√3)^2)
  = 6(3+√3) / (9 - 3)
  = 6(3+√3) / 6
  = 3 + √3

Sum = (2 - 2√3) + (2 + √3) + (3 + √3)
    = (2 + 2 + 3) + (-2√3 + √3 + √3)
    = 7 + 0
    = 7

Answer: A) 7

Verification: The irrational parts cancel perfectly: -2√3 + √3 + √3 = 0.
The rational parts sum to: 2 + 2 + 3 = 7.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
  min-height: 100vh;
}

.container {
  max-width: 900px;
  margin: 0 auto;
}

h1 {
  font-size: 2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 22px;
}

.card-title {
  font-size: 1.15rem;
  font-weight: 700;
  color: #60a5fa;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-size: 0.85rem;
  font-weight: 700;
  flex-shrink: 0;
}

.badge-blue { background: rgba(96,165,250,0.18); color: #60a5fa; }
.badge-purple { background: rgba(167,139,250,0.18); color: #a78bfa; }
.badge-green { background: rgba(52,211,153,0.18); color: #34d399; }
.badge-pink { background: rgba(244,114,182,0.18); color: #f472b6; }

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 16px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 16px;
  text-align: center;
  min-width: 90px;
}

.given-item .label {
  font-size: 0.8rem;
  color: #94a3b8;
  font-weight: 600;
  margin-bottom: 4px;
}

.given-item .value {
  font-size: 1rem;
  color: #e2e8f0;
  font-weight: 600;
}

.plan-card {
  border-left: 4px solid #60a5fa;
}

details {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 18px 24px;
  margin: 15px 0 22px;
}

details summary {
  cursor: pointer;
  font-weight: 700;
  color: #a78bfa;
  font-size: 1.05rem;
  list-style: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

details summary::-webkit-details-marker { display: none; }

details summary::before {
  content: '\25B6';
  font-size: 0.75rem;
  transition: transform 0.2s;
}

details[open] summary::before {
  transform: rotate(90deg);
}

details .theory-content {
  margin-top: 14px;
  color: #cbd5e1;
  line-height: 1.8;
}

.step-card {
  position: relative;
  padding-left: 18px;
  cursor: pointer;
  transition: border-color 0.2s;
}

.step-card::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  border-radius: 2px;
  transition: width 0.2s, background 0.2s;
}

.step-card.active::before {
  width: 5px;
}

.step-card.step-blue::before { background: #60a5fa; }
.step-card.step-purple::before { background: #a78bfa; }
.step-card.step-green::before { background: #34d399; }
.step-card.step-pink::before { background: #f472b6; }

.step-card.active.step-blue::before { background: #34d399; }
.step-card.active.step-purple::before { background: #34d399; }
.step-card.active.step-green::before { background: #4ade80; }
.step-card.active.step-pink::before { background: #34d399; }

.checkpoint {
  background: rgba(96,165,250,0.08);
  border: 1px dashed #60a5fa;
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
  color: #94a3b8;
  font-size: 0.95rem;
}

.checkpoint strong {
  color: #60a5fa;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.3);
  border-radius: 14px;
  padding: 22px 26px;
  margin-bottom: 22px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-card {
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.08));
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px 30px;
  margin-bottom: 22px;
  text-align: center;
}

.final-answer-card .label {
  color: #34d399;
  font-weight: 700;
  font-size: 1.1rem;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.final-answer-card .answer {
  color: #4ade80;
  font-size: 1.45rem;
  font-weight: 700;
  line-height: 1.6;
}

.final-answer-card .options-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  margin-top: 16px;
}

.final-answer-card .option-pill {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 8px 16px;
  font-size: 0.95rem;
  color: #94a3b8;
}

.final-answer-card .option-pill.correct {
  border-color: #34d399;
  color: #34d399;
  background: rgba(52,211,153,0.1);
  font-weight: 700;
}

.pitfalls-card {
  border-left: 4px solid #f472b6;
}

.pitfalls-card ul {
  margin-left: 18px;
  color: #cbd5e1;
}

.pitfalls-card li {
  margin-bottom: 8px;
}

.challenge-card {
  border: 1px dashed #a78bfa;
  background: rgba(167,139,250,0.05);
}

.highlight {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #34d399;
  font-weight: 600;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.math-block {
  margin: 14px 0;
  overflow-x: auto;
}

.visual-container {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}

canvas {
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.drag-hint {
  color: #64748b;
  font-size: 0.85rem;
  text-align: center;
  margin-top: 8px;
}

@media (max-width: 700px) {
  h1 { font-size: 1.5rem; }
  .card, details, .insight-box, .final-answer-card {
    padding: 16px 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .final-answer-card .options-row {
    flex-direction: column;
    align-items: center;
  }
  body { padding: 12px; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Racionalizacija imenilaca</h1>
  <p class="subtitle">Sabiranje razlomaka sa iracionalnim imeniteljima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="badge badge-purple">?</span> Zadatak</div>
    <p>Vrednost izraza</p>
    <div class="math-block">
      \[ \frac{-4}{1+\sqrt{3}} + \frac{1}{2-\sqrt{3}} + \frac{6}{3-\sqrt{3}} \]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(7\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\dfrac{22}{3} - \dfrac{\sqrt{3}}{6}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(8\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\dfrac{22}{3} + \dfrac{\sqrt{3}}{6}\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <div class="card-title"><span class="badge badge-blue">&#9881;</span> Plan rešavanja</div>
    <p>
      Svaki od tri razlomka ima iracionalan imenilac (sadrži \(\sqrt{3}\)).
      Racionalizovaćemo svaki razlomak posebno množenjem brojioca i imenioca konjugovanim izrazom,
      a zatim sabraćemo dobijene rezultate.
    </p>
  </div>

  <!-- Theory Refresher -->
  <details>
    <summary>Ključne formule i teoreme</summary>
    <div class="theory-content">
      <p><strong>Racionalizacija imenioca:</strong> Kada imenilac sadrži koren, množimo i brojilac i imenilac
        konjugovanim izrazom da bismo eliminisali koren iz imenioca.</p>
      <p style="margin-top:10px;"><strong>Razlika kvadrata:</strong></p>
      <div class="math-block">
        \[ (a+b)(a-b) = a^2 - b^2 \]
      </div>
      <p style="margin-top:10px;">Primenjeno na konjugovane izraze:</p>
      <ul style="margin-left: 18px; margin-top: 8px;">
        <li>\((a + \sqrt{b})(a - \sqrt{b}) = a^2 - b\) &mdash; imenilac postaje racionalan broj</li>
      </ul>
      <p style="margin-top:10px;"><strong>Konjugovani izraz:</strong> Za izraz oblika \(a + \sqrt{b}\),
        konjugovani je \(a - \sqrt{b}\), i obrnuto.</p>
    </div>
  </details>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="badge badge-blue">&#128202;</span> Vizuelni prikaz</div>
    <p style="color:#94a3b8; margin-bottom: 12px;">
      Svaki razlomak se racionalizuje i svodi na oblik \(r + s\sqrt{3}\). Na dijagramu su prikazane
      racionalne i iracionalne komponente svakog sabirka.
    </p>
    <div class="visual-container">
      <canvas id="vizCanvas" width="700" height="420"></canvas>
    </div>
  </div>

  <!-- Step-by-Step Solution -->

  <!-- Step 1 -->
  <div class="card step-card step-blue">
    <div class="card-title"><span class="badge badge-blue">1</span> Racionalizujemo prvi razlomak</div>
    <p>Množimo brojilac i imenilac konjugovanim izrazom \((1 - \sqrt{3})\):</p>
    <div class="math-block">
      \[ \frac{-4}{1+\sqrt{3}} \cdot \frac{1-\sqrt{3}}{1-\sqrt{3}} = \frac{-4(1-\sqrt{3})}{(1)^2 - (\sqrt{3})^2} \]
    </div>
    <p>Imenilac: \(1 - 3 = -2\). Brojilac: \(-4 + 4\sqrt{3}\). Delimo:</p>
    <div class="math-block">
      \[ \frac{-4 + 4\sqrt{3}}{-2} = \frac{-4}{-2} + \frac{4\sqrt{3}}{-2} = 2 - 2\sqrt{3} \]
    </div>
    <p>Prvi razlomak je jednak: <span class="highlight">\(2 - 2\sqrt{3}\)</span></p>
  </div>

  <!-- Step 2 -->
  <div class="card step-card step-purple">
    <div class="card-title"><span class="badge badge-purple">2</span> Racionalizujemo drugi razlomak</div>
    <p>Množimo brojilac i imenilac konjugovanim izrazom \((2 + \sqrt{3})\):</p>
    <div class="math-block">
      \[ \frac{1}{2-\sqrt{3}} \cdot \frac{2+\sqrt{3}}{2+\sqrt{3}} = \frac{2+\sqrt{3}}{(2)^2 - (\sqrt{3})^2} \]
    </div>
    <p>Imenilac: \(4 - 3 = 1\). Dakle:</p>
    <div class="math-block">
      \[ \frac{2+\sqrt{3}}{1} = 2 + \sqrt{3} \]
    </div>
    <p>Drugi razlomak je jednak: <span class="highlight">\(2 + \sqrt{3}\)</span></p>
  </div>

  <!-- Checkpoint 1 -->
  <details style="margin: 15px 0;">
    <summary><strong>Proveri sebe:</strong> Koliko iznosi \((2-\sqrt{3})(2+\sqrt{3})\)?</summary>
    <div class="theory-content">
      <p>Po formuli razlike kvadrata: \((2)^2 - (\sqrt{3})^2 = 4 - 3 = 1\).</p>
      <p>Zato drugi razlomak tako lepo „nestane" &mdash; imenilac je jednak 1!</p>
    </div>
  </details>

  <!-- Step 3 -->
  <div class="card step-card step-blue">
    <div class="card-title"><span class="badge badge-blue">3</span> Racionalizujemo treći razlomak</div>
    <p>Množimo brojilac i imenilac konjugovanim izrazom \((3 + \sqrt{3})\):</p>
    <div class="math-block">
      \[ \frac{6}{3-\sqrt{3}} \cdot \frac{3+\sqrt{3}}{3+\sqrt{3}} = \frac{6(3+\sqrt{3})}{(3)^2 - (\sqrt{3})^2} \]
    </div>
    <p>Imenilac: \(9 - 3 = 6\). Brojilac: \(6(3+\sqrt{3}) = 18 + 6\sqrt{3}\). Delimo:</p>
    <div class="math-block">
      \[ \frac{18 + 6\sqrt{3}}{6} = \frac{18}{6} + \frac{6\sqrt{3}}{6} = 3 + \sqrt{3} \]
    </div>
    <p>Treći razlomak je jednak: <span class="highlight">\(3 + \sqrt{3}\)</span></p>
  </div>

  <!-- Checkpoint 2 -->
  <details style="margin: 15px 0;">
    <summary><strong>Proveri sebe:</strong> Zapiši sva tri racionalizovana sabirka. Šta primećuješ kod koeficijenata uz \(\sqrt{3}\)?</summary>
    <div class="theory-content">
      <p>Sabirci su: \(2 - 2\sqrt{3}\), \(2 + \sqrt{3}\), \(3 + \sqrt{3}\).</p>
      <p>Koeficijenti uz \(\sqrt{3}\) su: \(-2\), \(+1\), \(+1\). Zbir: \(-2 + 1 + 1 = 0\).</p>
      <p>Iracionalni delovi se poništavaju &mdash; ostaje samo racionalni deo!</p>
    </div>
  </details>

  <!-- Step 4 -->
  <div class="card step-card step-green">
    <div class="card-title"><span class="badge badge-green">4</span> Saberemo sve tri vrednosti</div>
    <p>Saberimo racionalizovane oblike:</p>
    <div class="math-block">
      \[ (2 - 2\sqrt{3}) + (2 + \sqrt{3}) + (3 + \sqrt{3}) \]
    </div>
    <p>Grupišemo <span class="highlight">racionalne</span> i <span class="highlight-pink">iracionalne</span> delove:</p>
    <div class="math-block">
      \[ \underbrace{(2 + 2 + 3)}_{\text{racionalni deo}} + \underbrace{(-2\sqrt{3} + \sqrt{3} + \sqrt{3})}_{\text{iracionalni deo}} \]
    </div>
    <div class="math-block">
      \[ = 7 + (-2 + 1 + 1)\sqrt{3} = 7 + 0 \cdot \sqrt{3} = \boxed{7} \]
    </div>
    <p>Iracionalni delovi se potpuno poništavaju, a racionalni daju <span class="highlight-green">7</span>.</p>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="badge badge-purple">&#128161;</span> Ključni uvid</div>
    <p>
      Na prvi pogled deluje da će rezultat biti komplikovan izraz sa \(\sqrt{3}\). Međutim,
      koeficijenti uz \(\sqrt{3}\) su pažljivo odabrani tako da se tačno poništavaju:
      \(-2 + 1 + 1 = 0\). Rezultat je čist, ceo broj &mdash; to je lepota ovog zadatka!
    </p>
    <p style="margin-top: 8px; color: #94a3b8;">
      Ovo je čest obrazac na prijemnim ispitima: naizgled složen izraz sa korenima koji se
      svodi na jednostavnu vrednost.
    </p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-card">
    <div class="label">Konačan odgovor</div>
    <div class="answer">A) 7</div>
    <div class="options-row">
      <span class="option-pill correct">(A) \(7\)</span>
      <span class="option-pill">(B) \(\frac{22}{3} - \frac{\sqrt{3}}{6}\)</span>
      <span class="option-pill">(C) \(8\)</span>
      <span class="option-pill">(D) \(\frac{22}{3} + \frac{\sqrt{3}}{6}\)</span>
    </div>
    <p style="color: #94a3b8; margin-top: 14px; font-size: 0.95rem;">
      <strong>Provera:</strong> Racionalni delovi: \(2 + 2 + 3 = 7\). Iracionalni delovi:
      \(-2\sqrt{3} + \sqrt{3} + \sqrt{3} = 0\). Rezultat je ceo broj, što se slaže sa odgovorom A).
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls-card">
    <div class="card-title"><span class="badge badge-pink">&#9888;</span> Česte greške</div>
    <ul>
      <li><strong>Pogrešan predznak pri racionalizaciji:</strong> Kod prvog razlomka, brojilac je \(-4\),
        ne \(4\). Ako se zanemari minus, dobija se \(-2 + 2\sqrt{3}\) umesto \(2 - 2\sqrt{3}\),
        pa krajnji rezultat neće biti tačan.</li>
      <li><strong>Pogrešan konjugovani izraz:</strong> Za imenilac \(1 + \sqrt{3}\) konjugovani je
        \(1 - \sqrt{3}\) (menja se samo predznak ispred korena). Učenici ponekad pogrešno množe
        sa \(-1 - \sqrt{3}\).</li>
      <li><strong>Greška u računanju imenioca:</strong> Rezultat \((a+\sqrt{b})(a-\sqrt{b})\) je
        \(a^2 - b\), <em>ne</em> \(a^2 - \sqrt{b}\). Npr. \((3)^2 - (\sqrt{3})^2 = 9 - 3 = 6\),
        a ne \(9 - \sqrt{3}\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <div class="card-title"><span class="badge badge-purple">&#127942;</span> Dodatni izazov</div>
    <p>Izračunaj vrednost izraza:</p>
    <div class="math-block">
      \[ \frac{2}{1+\sqrt{2}} + \frac{3}{\sqrt{2}+\sqrt{3}} + \frac{4}{\sqrt{3}+2} \]
    </div>
    <details style="margin: 15px 0; background: transparent; border-color: #a78bfa;">
      <summary style="color: #a78bfa;"><strong>Nagoveštaj</strong></summary>
      <div class="theory-content">
        <p>Primeni isti postupak racionalizacije na svaki razlomak. Primetićeš teleskopski obrazac &mdash;
          mnogi članovi se poništavaju. Rezultat je ceo broj!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('vizCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Data for the three fractions
  const fractions = [
    { label: '-4/(1+\u221A3)', rational: 2, irrational: -2, color: '#60a5fa', x: 0 },
    { label: '1/(2-\u221A3)',  rational: 2, irrational: 1,  color: '#a78bfa', x: 1 },
    { label: '6/(3-\u221A3)',  rational: 3, irrational: 1,  color: '#f472b6', x: 2 }
  ];

  const sqrt3 = Math.sqrt(3);

  // Layout
  const marginLeft = 100;
  const marginRight = 60;
  const marginTop = 70;
  const marginBottom = 80;
  const chartW = W - marginLeft - marginRight;
  const chartH = H - marginTop - marginBottom;
  const barGroupWidth = chartW / 3;
  const barWidth = 50;
  const gap = 12;

  // Y scale: values range from about -2*1.732 ~ -3.46 to 3+1.732 ~ 4.73
  // We'll show -4 to 5
  const yMin = -4;
  const yMax = 5;
  const yRange = yMax - yMin;

  function toY(val) {
    return marginTop + chartH - ((val - yMin) / yRange) * chartH;
  }

  function toX(groupIndex) {
    return marginLeft + groupIndex * barGroupWidth + barGroupWidth / 2;
  }

  // Background
  ctx.fillStyle = '#0f172a';
  ctx.fillRect(0, 0, W, H);

  // Title
  ctx.fillStyle = '#e2e8f0';
  ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('Racionalni (pune) i iracionalni (\u221A3) delovi', W / 2, 28);
  ctx.font = '12px Segoe UI, system-ui, sans-serif';
  ctx.fillStyle = '#94a3b8';
  ctx.fillText('Svetlije boje = racionalni deo, tamnije boje = iracionalni deo (\u00D7\u221A3)', W / 2, 48);

  // Grid lines
  ctx.strokeStyle = '#1e293b';
  ctx.lineWidth = 1;
  ctx.textAlign = 'right';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  for (let v = yMin; v <= yMax; v++) {
    const y = toY(v);
    ctx.beginPath();
    ctx.moveTo(marginLeft, y);
    ctx.lineTo(W - marginRight, y);
    ctx.stroke();
    ctx.fillStyle = '#64748b';
    ctx.fillText(String(v), marginLeft - 10, y + 4);
  }

  // Zero line
  ctx.strokeStyle = '#475569';
  ctx.lineWidth = 1.5;
  ctx.beginPath();
  ctx.moveTo(marginLeft, toY(0));
  ctx.lineTo(W - marginRight, toY(0));
  ctx.stroke();

  // Draw bars
  fractions.forEach((fr, i) => {
    const cx = toX(i);
    const rationalVal = fr.rational;
    const irrationalVal = fr.irrational * sqrt3;

    // Rational bar (lighter, left)
    const rBarX = cx - barWidth - gap / 2;
    const rBarTop = rationalVal >= 0 ? toY(rationalVal) : toY(0);
    const rBarH = Math.abs(rationalVal) / yRange * chartH;
    ctx.fillStyle = fr.color;
    ctx.globalAlpha = 0.85;
    ctx.beginPath();
    ctx.roundRect(rBarX, rBarTop, barWidth, rBarH, [4, 4, 0, 0]);
    ctx.fill();
    ctx.globalAlpha = 1;

    // Value on rational bar
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const rLabelY = rationalVal >= 0 ? rBarTop - 8 : rBarTop + rBarH + 16;
    ctx.fillText(String(rationalVal), rBarX + barWidth / 2, rLabelY);

    // Irrational bar (darker, right)
    const iBarX = cx + gap / 2;
    const iBarTop = irrationalVal >= 0 ? toY(irrationalVal) : toY(0);
    const iBarH = Math.abs(irrationalVal) / yRange * chartH;
    ctx.fillStyle = fr.color;
    ctx.globalAlpha = 0.4;
    ctx.beginPath();
    ctx.roundRect(iBarX, iBarTop, barWidth, iBarH, [4, 4, 0, 0]);
    ctx.fill();
    ctx.globalAlpha = 1;

    // Value on irrational bar
    ctx.fillStyle = '#cbd5e1';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    const iLabelY = irrationalVal >= 0 ? iBarTop - 8 : iBarTop + iBarH + 16;
    const irrSign = fr.irrational >= 0 ? '+' : '';
    ctx.fillText(irrSign + fr.irrational + '\u221A3', iBarX + barWidth / 2, iLabelY);

    // Fraction label below
    ctx.fillStyle = fr.color;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText(fr.label, cx, H - marginBottom + 25);
  });

  // Sum section on the right
  const sumX = W - marginRight + 5;
  ctx.fillStyle = '#94a3b8';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';

  // Legend
  ctx.fillStyle = '#34d399';
  ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('\u2211 = 7', W / 2, H - 15);

  // Sum arrows
  ctx.fillStyle = '#94a3b8';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('2 + 2 + 3 = 7', W / 2 - 80, H - 35);
  ctx.fillText('-2\u221A3 + \u221A3 + \u221A3 = 0', W / 2 + 100, H - 35);

  // Legend boxes
  const legY = 58;
  const legX = marginLeft + 10;
  // Rational
  ctx.fillStyle = '#60a5fa';
  ctx.globalAlpha = 0.85;
  ctx.fillRect(legX, legY, 14, 14);
  ctx.globalAlpha = 1;
  ctx.fillStyle = '#cbd5e1';
  ctx.font = '11px Segoe UI, system-ui, sans-serif';
  ctx.textAlign = 'left';
  ctx.fillText('Racionalni deo', legX + 20, legY + 11);

  // Irrational
  ctx.fillStyle = '#60a5fa';
  ctx.globalAlpha = 0.4;
  ctx.fillRect(legX + 130, legY, 14, 14);
  ctx.globalAlpha = 1;
  ctx.fillStyle = '#cbd5e1';
  ctx.fillText('Iracionalni deo (\u00D7\u221A3)', legX + 155, legY + 11);

})();
</script>

<script>
(() => {
  // Step card click highlighting
  document.querySelectorAll('.step-card').forEach(card => {
    card.addEventListener('click', () => {
      document.querySelectorAll('.step-card').forEach(c => c.classList.remove('active'));
      card.classList.add('active');
    });
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Racionalizacija imenilaca - sabiranje razlomaka sa korenima","subject":"math","unit":"algebra","topic_tags":["racionalizacija imenioca","iracionalni brojevi","razlika kvadrata","konjugovani izrazi","razlomci sa korenima"]}
BRAINSPARK_META-->