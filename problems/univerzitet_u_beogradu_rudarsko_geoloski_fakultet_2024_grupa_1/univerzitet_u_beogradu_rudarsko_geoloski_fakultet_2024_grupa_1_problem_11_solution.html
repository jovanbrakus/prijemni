<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski identitet</title>

<script type="text/info" id="logic-scratchpad">
Problem: Simplify (1 - cos 2α) / (sin 2α)

Known double-angle identities:
  cos 2α = 1 - 2sin²α
  sin 2α = 2 sin α cos α

Step 1: Substitute cos 2α in the numerator
  1 - cos 2α = 1 - (1 - 2sin²α) = 2sin²α

Step 2: Substitute sin 2α in the denominator
  sin 2α = 2 sin α cos α

Step 3: Form the fraction
  (2sin²α) / (2 sin α cos α)

Step 4: Cancel common factors (2 and sin α)
  = sin α / cos α
  = tg α

Verification: The answer is tg α, which matches option D.

Cross-check with a specific value, say α = π/4:
  Numerator: 1 - cos(π/2) = 1 - 0 = 1
  Denominator: sin(π/2) = 1
  Result: 1/1 = 1
  tg(π/4) = 1 ✓

Another check, α = π/6:
  Numerator: 1 - cos(π/3) = 1 - 1/2 = 1/2
  Denominator: sin(π/3) = √3/2
  Result: (1/2)/(√3/2) = 1/√3 = √3/3
  tg(π/6) = 1/√3 = √3/3 ✓

Confirmed: answer is D) tg α.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56, 189, 248, 0.06);
  border: 1px solid rgba(56, 189, 248, 0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 120px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}

.plan-card {
  border-left: 3px solid #a78bfa;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93c5fd;
}

details[open] summary {
  margin-bottom: 12px;
}

.theory-list {
  list-style: none;
  padding: 0;
}

.theory-list li {
  padding: 8px 0 8px 16px;
  border-left: 2px solid #334155;
  margin-bottom: 8px;
  color: #e2e8f0;
}

.theory-list li strong {
  color: #60a5fa;
}

.step-container {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  padding: 16px;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
  border-left: 3px solid transparent;
}

.step-container:hover, .step-container.active {
  background: rgba(56, 189, 248, 0.04);
  border-left-color: #4ade80;
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
}

.step-content p {
  margin-bottom: 8px;
  color: #cbd5e1;
}

.math-block {
  background: rgba(56, 189, 248, 0.08);
  border: 1px solid rgba(56, 189, 248, 0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(52, 211, 153, 0.06);
  border: 1px solid rgba(52, 211, 153, 0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #34d399;
}

.checkpoint p {
  color: #cbd5e1;
  margin-top: 8px;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), rgba(167, 139, 250, 0.1));
  border: 1px solid rgba(96, 165, 250, 0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
  margin-bottom: 12px;
}

.insight-formula {
  font-size: 1.4rem;
  color: #4ade80;
  margin: 12px 0;
}

.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}

.final-answer-card h2 {
  color: #4ade80;
}

.final-answer-text {
  font-size: 1.6rem;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.option-card {
  background: rgba(30, 41, 59, 0.8);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 12px 20px;
  text-align: center;
  min-width: 110px;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(52, 211, 153, 0.1);
  box-shadow: 0 0 20px rgba(52, 211, 153, 0.15);
}

.option-card .opt-label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.option-card.correct .opt-label {
  color: #4ade80;
}

.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 12px;
  font-style: italic;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0 10px 16px;
  border-left: 3px solid #e09468;
  margin-bottom: 10px;
  color: #cbd5e1;
}

.pitfall-list li strong {
  color: #e09468;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.challenge-card {
  border-left: 3px solid #a78bfa;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .given-grid { flex-direction: column; }
  .step-container { flex-direction: column; gap: 10px; }
  .options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title & Subtitle -->
  <h1>Trigonometrijski identitet</h1>
  <p class="subtitle">Pojednostavljivanje izraza pomocu formula za dvostruki ugao</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Izraz \(\dfrac{1 - \cos 2\alpha}{\sin 2\alpha}\) identicki je jednak izrazu:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(\operatorname{ctg} \alpha\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(\operatorname{tg}^2 \dfrac{\alpha}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(\operatorname{ctg}^2 \dfrac{\alpha}{2}\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(\operatorname{tg} \alpha\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Primeniceemo formule za dvostruki ugao na brojilac i imenilac, a zatim skratiti zajednicke faktore da bismo dobili jednostavniji trigonometrijski izraz.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul class="theory-list">
        <li><strong>Kosinus dvostrukog ugla:</strong> \(\cos 2\alpha = 1 - 2\sin^2\alpha\)</li>
        <li><strong>Sinus dvostrukog ugla:</strong> \(\sin 2\alpha = 2\sin\alpha\cos\alpha\)</li>
        <li><strong>Definicija tangensa:</strong> \(\operatorname{tg}\alpha = \dfrac{\sin\alpha}{\cos\alpha}\)</li>
        <li><strong>Alternativni oblici kosinus dvostrukog ugla:</strong> \(\cos 2\alpha = \cos^2\alpha - \sin^2\alpha = 2\cos^2\alpha - 1\)</li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card canvas-card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="diagram" width="700" height="400"></canvas>
    <p class="canvas-hint">Pomerajte klizac da vidite kako se vrednost izraza menja sa uglom \(\alpha\)</p>
    <div style="margin-top: 12px; display: flex; align-items: center; justify-content: center; gap: 12px;">
      <span style="color:#94a3b8; font-size:0.95rem;">\(\alpha\) =</span>
      <input type="range" id="alpha-slider" min="5" max="175" value="45" style="width: 220px; accent-color: #60a5fa;">
      <span id="alpha-display" style="color:#60a5fa; font-weight:600; min-width: 50px;">45&deg;</span>
    </div>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Zapisujemo polazni izraz</h3>
        <p>Potrebno je pojednostaviti izraz:</p>
        <div class="math-block">
          \[\frac{1 - \cos 2\alpha}{\sin 2\alpha}\]
        </div>
        <p class="note">Kljucno zapazanje: i u brojiocu i u imeniocu imamo funkcije dvostrukog ugla \(2\alpha\).</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Primena formule za \(\cos 2\alpha\) na brojilac</h3>
        <p>Koristimo identitet \(\cos 2\alpha = 1 - 2\sin^2\alpha\). Zamenjujemo u brojiocu:</p>
        <div class="math-block">
          \[1 - \cos 2\alpha = 1 - (1 - 2\sin^2\alpha)\]
        </div>
        <p>Raspisujemo zagrade:</p>
        <div class="math-block">
          \[= 1 - 1 + 2\sin^2\alpha = 2\sin^2\alpha\]
        </div>
        <p class="note">Jedinice se poniste, i ostaje nam \(2\sin^2\alpha\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Sta je \(1 - \cos 2\alpha\)?</summary>
      <p>Odgovor: \(2\sin^2\alpha\). Koristi se identitet \(\cos 2\alpha = 1 - 2\sin^2\alpha\).</p>
    </details>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Primena formule za \(\sin 2\alpha\) na imenilac</h3>
        <p>Koristimo identitet \(\sin 2\alpha = 2\sin\alpha\cos\alpha\):</p>
        <div class="math-block">
          \[\sin 2\alpha = 2\sin\alpha\cos\alpha\]
        </div>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Formiranje razlomka sa novim izrazima</h3>
        <p>Zamenjujemo oba dela u polazni izraz:</p>
        <div class="math-block">
          \[\frac{1 - \cos 2\alpha}{\sin 2\alpha} = \frac{2\sin^2\alpha}{2\sin\alpha\cos\alpha}\]
        </div>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Skracivanje zajednickih faktora</h3>
        <p>Skracujemo faktor \(2\) iz brojioca i imenioca:</p>
        <div class="math-block">
          \[\frac{2\sin^2\alpha}{2\sin\alpha\cos\alpha} = \frac{\sin^2\alpha}{\sin\alpha\cos\alpha}\]
        </div>
        <p>Zatim skracujemo \(\sin\alpha\) (za \(\sin\alpha \neq 0\)):</p>
        <div class="math-block">
          \[\frac{\sin^2\alpha}{\sin\alpha\cos\alpha} = \frac{\sin\alpha}{\cos\alpha}\]
        </div>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Koji poznati trigonometrijski odnos je \(\frac{\sin\alpha}{\cos\alpha}\)?</summary>
      <p>To je tangens ugla \(\alpha\), tj. \(\operatorname{tg}\alpha\).</p>
    </details>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Konacni rezultat</h3>
        <p>Prepoznajemo definiciju tangensa:</p>
        <div class="math-block">
          \[\frac{\sin\alpha}{\cos\alpha} = \operatorname{tg}\alpha\]
        </div>
        <p class="note">Dakle, polazni izraz je identicki jednak \(\operatorname{tg}\alpha\).</p>
      </div>
    </div>

    <details class="checkpoint">
      <summary>Proveri sebe: Verifikacija za \(\alpha = 60°\)</summary>
      <p>Brojilac: \(1 - \cos 120° = 1 - (-0{,}5) = 1{,}5\)</p>
      <p>Imenilac: \(\sin 120° = \frac{\sqrt{3}}{2} \approx 0{,}866\)</p>
      <p>Rezultat: \(\frac{1{,}5}{0{,}866} \approx 1{,}732 = \sqrt{3} = \operatorname{tg} 60°\) &mdash; tacno!</p>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Kljucno zapazanje</h2>
    <p style="color:#cbd5e1;">Formule za dvostruki ugao omogucavaju nam da sve svedemo na funkcije ugla \(\alpha\), nakon cega se zajednicki faktori skrate.</p>
    <div class="insight-formula">
      \[\frac{1 - \cos 2\alpha}{\sin 2\alpha} = \operatorname{tg}\alpha\]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacni odgovor</h2>
    <div class="final-answer-text">\(\operatorname{tg}\alpha\)</div>
    <div class="options-row">
      <div class="option-card">
        <div class="opt-label">(A)</div>
        <div>\(\operatorname{ctg}\alpha\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(B)</div>
        <div>\(\operatorname{tg}^2 \frac{\alpha}{2}\)</div>
      </div>
      <div class="option-card">
        <div class="opt-label">(C)</div>
        <div>\(\operatorname{ctg}^2 \frac{\alpha}{2}\)</div>
      </div>
      <div class="option-card correct">
        <div class="opt-label">(D)</div>
        <div>\(\operatorname{tg}\alpha\)</div>
      </div>
    </div>
    <p class="verification">Verifikacija: Za \(\alpha = 45°\), brojilac je \(1 - \cos 90° = 1\), imenilac je \(\sin 90° = 1\), pa je rezultat \(1\). Takodje \(\operatorname{tg} 45° = 1\). Potvrdjeno.</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li><strong>Pogresian izbor formule za \(\cos 2\alpha\):</strong> Postoje tri oblika: \(1 - 2\sin^2\alpha\), \(2\cos^2\alpha - 1\), i \(\cos^2\alpha - \sin^2\alpha\). Ovde je najkorisniji prvi, jer se oduzimanjem od \(1\) odmah dobija \(2\sin^2\alpha\). Izbor drugog oblika otezava dalji racun.</li>
      <li><strong>Zaboravljanje uslova:</strong> Izraz nije definisan kada je \(\sin 2\alpha = 0\), tj. za \(\alpha = k \cdot \frac{\pi}{2}\), \(k \in \mathbb{Z}\). To su iste tacke u kojima ni \(\operatorname{tg}\alpha\) nije definisan (za neparne \(k\)), ili gde je \(\sin\alpha = 0\) (za parne \(k\)).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Pokusaj da pojednostavis srodan izraz: \(\dfrac{1 + \cos 2\alpha}{\sin 2\alpha}\). Koji trigonometrijski izraz dobijas?</p>
    <details>
      <summary>Pogledaj nagovesstaj</summary>
      <p>Koristi formulu \(\cos 2\alpha = 2\cos^2\alpha - 1\) za brojilac. Brojilac ce postati \(2\cos^2\alpha\), a imenilac ostaje \(2\sin\alpha\cos\alpha\). Posle skracivanja, dobijas...</p>
    </details>
  </div>

</div>

<script>
(() => {
  // --- Interactive Canvas ---
  const canvas = document.getElementById('diagram');
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('alpha-slider');
  const display = document.getElementById('alpha-display');

  function drawDiagram(alphaDeg) {
    const W = canvas.width;
    const H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    const alpha = alphaDeg * Math.PI / 180;
    const tanAlpha = Math.tan(alpha);

    // Unit circle center & radius
    const cx = W * 0.35;
    const cy = H * 0.55;
    const R = Math.min(W, H) * 0.3;

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = -3; i <= 3; i++) {
      const gx = cx + i * (R / 2);
      ctx.beginPath(); ctx.moveTo(gx, 20); ctx.lineTo(gx, H - 20); ctx.stroke();
      const gy = cy + i * (R / 2);
      ctx.beginPath(); ctx.moveTo(20, gy); ctx.lineTo(W * 0.65, gy); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    ctx.beginPath(); ctx.moveTo(20, cy); ctx.lineTo(W * 0.65, cy); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(cx, 20); ctx.lineTo(cx, H - 20); ctx.stroke();

    // Unit circle
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    // Point on circle
    const px = cx + R * Math.cos(alpha);
    const py = cy - R * Math.sin(alpha);

    // Radius line
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, py);
    ctx.stroke();

    // sin α line (vertical from point to x-axis)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(px, cy);
    ctx.lineTo(px, py);
    ctx.stroke();
    ctx.setLineDash([]);

    // cos α line (horizontal from origin to point projection)
    ctx.strokeStyle = '#34d399';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 4]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(px, cy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Tangent line (from point to x-axis intercept)
    if (Math.abs(Math.cos(alpha)) > 0.01) {
      const tanLineX = cx + R / Math.cos(alpha);
      const tanLineEndX = cx + R;
      const tanLineEndY = cy - R * Math.tan(alpha);
      ctx.strokeStyle = '#fbbf24';
      ctx.lineWidth = 2.5;
      ctx.beginPath();
      ctx.moveTo(cx + R, cy);
      ctx.lineTo(cx + R, tanLineEndY);
      ctx.stroke();

      // tg α label
      ctx.fillStyle = '#fbbf24';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText('tg \u03B1', cx + R + 6, (cy + tanLineEndY) / 2);

      // Point at top of tangent segment
      ctx.fillStyle = '#fbbf24';
      ctx.beginPath();
      ctx.arc(cx + R, tanLineEndY, 4, 0, 2 * Math.PI);
      ctx.fill();
    }

    // Angle arc
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    const arcR = R * 0.2;
    ctx.beginPath();
    ctx.arc(cx, cy, arcR, -alpha, 0);
    ctx.stroke();

    // Alpha label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03B1', cx + arcR * 1.5 * Math.cos(alpha / 2), cy - arcR * 1.5 * Math.sin(alpha / 2) + 4);

    // Point on circle dot
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(px, py, 5, 0, 2 * Math.PI);
    ctx.fill();

    // Origin dot
    ctx.fillStyle = '#e2e8f0';
    ctx.beginPath();
    ctx.arc(cx, cy, 4, 0, 2 * Math.PI);
    ctx.fill();

    // (1,0) dot
    ctx.fillStyle = '#e2e8f0';
    ctx.beginPath();
    ctx.arc(cx + R, cy, 4, 0, 2 * Math.PI);
    ctx.fill();

    // Labels
    ctx.fillStyle = '#f472b6';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('sin \u03B1', px - 6, (cy + py) / 2 + 4);

    ctx.fillStyle = '#34d399';
    ctx.textAlign = 'center';
    ctx.fillText('cos \u03B1', (cx + px) / 2, cy + 18);

    // Right side: computed values
    const rightX = W * 0.7;
    let textY = 50;
    const lineH = 38;

    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Vrednosti za \u03B1 = ' + alphaDeg + '\u00B0', rightX, textY);
    textY += lineH + 5;

    ctx.font = '15px Segoe UI, system-ui, sans-serif';

    const sinA = Math.sin(alpha);
    const cosA = Math.cos(alpha);
    const sin2A = Math.sin(2 * alpha);
    const cos2A = Math.cos(2 * alpha);
    const numerator = 1 - cos2A;
    const tgA = Math.abs(cosA) > 0.001 ? sinA / cosA : NaN;

    ctx.fillStyle = '#f472b6';
    ctx.fillText('sin \u03B1 = ' + sinA.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH;

    ctx.fillStyle = '#34d399';
    ctx.fillText('cos \u03B1 = ' + cosA.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH;

    ctx.fillStyle = '#94a3b8';
    ctx.fillText('cos 2\u03B1 = ' + cos2A.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH;

    ctx.fillStyle = '#94a3b8';
    ctx.fillText('sin 2\u03B1 = ' + sin2A.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH + 10;

    // Separator
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(rightX, textY - 5);
    ctx.lineTo(rightX + 200, textY - 5);
    ctx.stroke();
    textY += 15;

    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillText('Brojilac: 1 \u2212 cos 2\u03B1 = ' + numerator.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH;

    ctx.fillText('Imenilac: sin 2\u03B1 = ' + sin2A.toFixed(4).replace('.', ','), rightX, textY);
    textY += lineH;

    if (Math.abs(sin2A) > 0.001) {
      const fraction = numerator / sin2A;
      ctx.fillStyle = '#a78bfa';
      ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Razlomak = ' + fraction.toFixed(4).replace('.', ','), rightX, textY);
      textY += lineH;

      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
      if (!isNaN(tgA)) {
        ctx.fillText('tg \u03B1 = ' + tgA.toFixed(4).replace('.', ','), rightX, textY);
        textY += lineH;
        ctx.fillStyle = '#4ade80';
        ctx.font = '13px Segoe UI, system-ui, sans-serif';
        ctx.fillText('Razlomak = tg \u03B1  \u2714', rightX, textY);
      }
    } else {
      ctx.fillStyle = '#e09468';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.fillText('Izraz nije definisan za ovaj ugao', rightX, textY);
    }
  }

  function onSliderChange() {
    const val = parseInt(slider.value);
    display.textContent = val + '\u00B0';
    drawDiagram(val);
  }

  slider.addEventListener('input', onSliderChange);
  drawDiagram(45);

  // Step click interactions
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijski identitet: pojednostavljivanje izraza sa dvostrukim uglom",
  "subject": "math",
  "unit": "trigonometry",
  "topic_tags": ["dvostruki ugao", "trigonometrijski identiteti", "tangens", "cos 2\u03B1", "sin 2\u03B1"]
}
BRAINSPARK_META-->