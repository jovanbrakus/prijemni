<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tangenta prave na elipsu - odredjivanje parametra</title>
<script>MathJax={tex:{inlineMath:[['\\(','\\)'],['$','$']],displayMath:[['\\[','\\]']]},svg:{fontCache:'global'}};</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
PROBLEM: Pozitivna vrednost parametra n za koju je prava y = x + n tangenta elipse x^2/20 + y^2/5 = 1.
Odrediti u kom intervalu se nalazi n.

GIVEN:
- Elipsa: x^2/20 + y^2/5 = 1
  => a^2 = 20, b^2 = 5
- Prava: y = x + n
  => k = 1 (nagib), slobodan clan = n
- Trazimo pozitivnu vrednost n za koju je prava tangenta elipse.

APPROACH:
Uslov tangentnosti prave y = kx + n na elipsu x^2/a^2 + y^2/b^2 = 1 je:
  n^2 = a^2 * k^2 + b^2

STEP 1: Identifikujemo parametre
  a^2 = 20, b^2 = 5, k = 1

STEP 2: Primenjujemo uslov tangentnosti
  n^2 = a^2 * k^2 + b^2
  n^2 = 20 * 1^2 + 5
  n^2 = 20 + 5
  n^2 = 25

STEP 3: Resavamo po n
  n = +-5
  Posto trazimo pozitivnu vrednost: n = 5

STEP 4: Odredjujemo interval
  n = 5
  Proveravamo ponudjene intervale:
  (A) (2, 4] => 5 nije u ovom intervalu
  (B) (4, 6] => 4 < 5 <= 6 => 5 JESTE u ovom intervalu ✓
  (C) (6, 8] => 5 nije u ovom intervalu
  (D) (8, 10] => 5 nije u ovom intervalu

VERIFICATION:
Zamenjujemo y = x + 5 u jednacinu elipse:
  x^2/20 + (x+5)^2/5 = 1
  x^2/20 + (x^2 + 10x + 25)/5 = 1
Mnozimo sa 20:
  x^2 + 4(x^2 + 10x + 25) = 20
  x^2 + 4x^2 + 40x + 100 = 20
  5x^2 + 40x + 80 = 0
  x^2 + 8x + 16 = 0
  (x + 4)^2 = 0
  x = -4 (dvostruki koren => tangenta!) ✓

Tacka dodira: x = -4, y = -4 + 5 = 1, tj. T(-4, 1)
Provera: (-4)^2/20 + 1^2/5 = 16/20 + 1/5 = 4/5 + 1/5 = 5/5 = 1 ✓

ANSWER MATCHES KEY: B) (4, 6] ✓
</script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 1.5rem;
    max-width: 900px;
    margin: 0 auto;
}
h1 {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.subtitle {
    text-align: center;
    color: #94a3b8;
    margin-bottom: 2rem;
    font-size: 1.05rem;
}
.card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}
.card h2 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.card h2 .icon { font-size: 1.3rem; }
.problem-statement {
    border-left: 4px solid #a78bfa;
}
.given-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.5rem;
    margin: 1rem 0;
}
.given-item {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    text-align: center;
}
.given-item .label {
    color: #94a3b8;
    font-size: 0.8rem;
    display: block;
    margin-bottom: 0.25rem;
}
.given-item .value {
    font-size: 1.05rem;
    font-weight: 600;
}
.answer-option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}
.option-label {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px; height: 32px;
    border-radius: 50%;
    font-weight: 700;
    font-size: 0.85rem;
    flex-shrink: 0;
    background: #334155;
    color: #e2e8f0;
}
.plan-card { border-left: 4px solid #60a5fa; }
.theory-card { border-left: 4px solid #a78bfa; }
.steps-card { border-left: 4px solid #34d399; }
.insight-card { border-left: 4px solid #f472b6; }
.final-card {
    border: 2px solid #4ade80;
    background: rgba(74, 222, 128, 0.06);
}
.final-card .answer-option.correct {
    border-color: #4ade80;
    background: rgba(74, 222, 128, 0.08);
}
.final-card .answer-option.correct .option-label {
    background: #4ade80;
    color: #0f172a;
}
.final-card .answer-option.incorrect {
    border-color: #334155;
    opacity: 0.55;
}
.final-card .answer-option.incorrect .option-label {
    background: #475569;
    color: #94a3b8;
}
.pitfalls-card { border-left: 4px solid #e09468; }
.challenge-card { border-left: 4px solid #60a5fa; }

.collapsible-toggle {
    background: none; border: none; color: #60a5fa;
    cursor: pointer; font-size: 0.95rem; display: flex;
    align-items: center; gap: 0.4rem; margin-top: 0.5rem;
    padding: 0;
}
.collapsible-toggle:hover { color: #93c5fd; }
.collapsible-content {
    max-height: 0; overflow: hidden;
    transition: max-height 0.4s ease;
}
.collapsible-content.open { max-height: 3000px; }
.collapsible-inner { padding-top: 1rem; }

.step {
    position: relative;
    padding-left: 2.5rem;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #1e293b;
    cursor: pointer;
    transition: border-left 0.2s;
    border-left: 3px solid transparent;
    padding-left: calc(2.5rem + 3px);
}
.step:hover, .step.active {
    border-left: 3px solid #34d399;
}
.step:last-child { border-bottom: none; margin-bottom: 0; }
.step-badge {
    position: absolute; left: 3px; top: 0;
    width: 28px; height: 28px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700; font-size: 0.8rem;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    color: #0f172a;
}
.step h3 {
    font-size: 1.05rem;
    color: #60a5fa;
    margin-bottom: 0.5rem;
}
.checkpoint {
    background: rgba(52, 211, 153, 0.1);
    border: 1px solid #34d399;
    border-radius: 8px;
    padding: 0.6rem 1rem;
    margin: 15px 0;
    font-size: 0.9rem;
    color: #34d399;
}
.checkpoint summary {
    cursor: pointer;
    font-weight: 600;
}
.checkpoint p {
    margin-top: 0.5rem;
    color: #e2e8f0;
}
.formula-box {
    display: inline-block;
    background: rgba(56, 189, 248, 0.08);
    border: 1px solid rgba(56, 189, 248, 0.15);
    border-radius: 6px;
    padding: 0.4rem 0.8rem;
    margin: 0.3rem 0.2rem;
    font-size: 0.95rem;
}
.tri-values {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.5rem;
    margin: 0.75rem 0;
}
.tri-val {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
    text-align: center;
}
.tri-val .label { color: #94a3b8; font-size: 0.8rem; display: block; }
.tri-val .value { font-size: 1.05rem; font-weight: 600; }

canvas#ellipseCanvas {
    width: 100%;
    max-width: 600px;
    display: block;
    margin: 1rem auto;
    border-radius: 8px;
    border: 1px solid #334155;
    background: #0f172a;
    touch-action: none;
}
.canvas-legend {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 1rem;
    margin-top: 0.5rem;
    font-size: 0.9rem;
}
.legend-item {
    display: flex; align-items: center; gap: 0.4rem;
}
.legend-swatch {
    width: 18px; height: 4px; border-radius: 2px;
}
.legend-circle {
    width: 10px; height: 10px; border-radius: 50%; border: 2px solid;
}
.muted { color: #94a3b8; }
.highlight { color: #4ade80; font-weight: 600; }
ul.clean { list-style: none; padding-left: 0; }
ul.clean li { padding: 0.3rem 0; padding-left: 1.2rem; position: relative; }
ul.clean li::before {
    content: ''; position: absolute; left: 0; top: 0.7rem;
    width: 6px; height: 6px; border-radius: 50%;
    background: #60a5fa;
}
.pitfall-item {
    background: rgba(224, 148, 104, 0.07);
    border-left: 3px solid #e09468;
    padding: 0.6rem 1rem;
    margin: 0.5rem 0;
    border-radius: 0 8px 8px 0;
    font-size: 0.95rem;
}
.slider-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin: 0.5rem auto;
    max-width: 400px;
    justify-content: center;
}
.slider-container label {
    color: #94a3b8;
    font-size: 0.9rem;
    min-width: 50px;
}
.slider-container input[type="range"] {
    flex: 1;
    accent-color: #60a5fa;
}
.slider-container .slider-value {
    color: #60a5fa;
    font-weight: 600;
    min-width: 40px;
    text-align: right;
}
@media (max-width: 700px) {
    body { padding: 1rem; }
    h1 { font-size: 1.5rem; }
    .card { padding: 1.1rem; }
    .given-grid { grid-template-columns: repeat(2, 1fr); }
}
</style>
</head>
<body>

<h1>Tangenta prave na elipsu</h1>
<p class="subtitle">Uslov tangentnosti i odredjivanje parametra</p>

<!-- Problem Statement -->
<div class="card problem-statement">
    <h2><span class="icon">&#128220;</span> Zadatak</h2>
    <p>Pozitivna vrednost parametra \(n\) za koju je prava \(y = x + n\) tangenta elipse \(\dfrac{x^2}{20} + \dfrac{y^2}{5} = 1\) pripada intervalu:</p>

    <div class="given-grid">
        <div class="given-item answer-option" data-option="A">
            <div class="label">(A)</div>
            <div class="value">\((2,\; 4]\)</div>
        </div>
        <div class="given-item answer-option" data-option="B">
            <div class="label">(B)</div>
            <div class="value">\((4,\; 6]\)</div>
        </div>
        <div class="given-item answer-option" data-option="C">
            <div class="label">(C)</div>
            <div class="value">\((6,\; 8]\)</div>
        </div>
        <div class="given-item answer-option" data-option="D">
            <div class="label">(D)</div>
            <div class="value">\((8,\; 10]\)</div>
        </div>
    </div>
</div>

<!-- Plan -->
<div class="card plan-card">
    <h2><span class="icon">&#128204;</span> Plan resavanja</h2>
    <p>Primenimo poznati uslov tangentnosti prave \(y = kx + n\) na elipsu \(\frac{x^2}{a^2} + \frac{y^2}{b^2} = 1\), koji glasi \(n^2 = a^2 k^2 + b^2\). Ocitacemo parametre, izracunati \(n\), a zatim odrediti kom intervalu pripada.</p>
</div>

<!-- Theory -->
<div class="card theory-card">
    <h2><span class="icon">&#128218;</span> Teorijska osnova</h2>
    <details style="margin: 15px 0;">
        <summary style="cursor:pointer; color:#60a5fa; font-weight:600;">&#128208; Kljucne formule i teoreme</summary>
        <div style="padding-top: 1rem;">
            <ul class="clean">
                <li><strong>Jednacina elipse (standardni oblik):</strong> \(\dfrac{x^2}{a^2} + \dfrac{y^2}{b^2} = 1\), gde su \(a\) i \(b\) poluose elipse.</li>
                <li><strong>Uslov tangentnosti:</strong> Prava \(y = kx + n\) je tangenta elipse \(\dfrac{x^2}{a^2} + \dfrac{y^2}{b^2} = 1\) ako i samo ako vazi:
                \[ n^2 = a^2 k^2 + b^2 \]
                Ovaj uslov garantuje da sistem ima tacno jedno resenje (diskriminanta jednaka nuli).</li>
                <li><strong>Izvod uslova:</strong> Zamenom \(y = kx + n\) u jednacinu elipse dobijamo kvadratnu jednacinu po \(x\). Tangenta dodiruje elipsu u tacno jednoj tacki, pa diskriminanta te jednacine mora biti jednaka nuli.</li>
                <li><strong>Geometrijski smisao:</strong> Tangenta je prava koja dodiruje krivu u tacno jednoj tacki, ne presecajuci je.</li>
            </ul>
        </div>
    </details>
</div>

<!-- Visual Aid -->
<div class="card">
    <h2><span class="icon">&#128200;</span> Graficki prikaz</h2>
    <p class="muted" style="text-align:center; margin-bottom:0.25rem;">Elipsa i tangenta \(y = x + n\). Pomerajte klizac da vidite kako se prava ponasa za razlicite vrednosti \(n\).</p>
    <canvas id="ellipseCanvas" width="600" height="500"></canvas>
    <div class="slider-container">
        <label>n =</label>
        <input type="range" id="nSlider" min="0" max="10" step="0.1" value="5">
        <span class="slider-value" id="nValue">5,0</span>
    </div>
    <p class="muted" style="text-align:center; font-size:0.85rem; margin-top:0.25rem;">Za \(n = 5\) prava je tangenta (dodiruje elipsu u jednoj tacki)</p>
    <div class="canvas-legend">
        <span class="legend-item"><span class="legend-circle" style="border-color:#a78bfa; background:rgba(167,139,250,0.2);"></span> Elipsa</span>
        <span class="legend-item"><span class="legend-swatch" style="background:#f472b6;"></span> Prava \(y = x + n\)</span>
        <span class="legend-item"><span class="legend-circle" style="border-color:#4ade80; background:#4ade80;"></span> Tacka dodira</span>
    </div>
</div>

<!-- Steps -->
<div class="card steps-card">
    <h2><span class="icon">&#128736;</span> Postupak</h2>

    <!-- Step 1 -->
    <div class="step">
        <div class="step-badge">1</div>
        <h3>Ocitavanje podataka</h3>
        <p>Iz jednacine elipse \(\dfrac{x^2}{20} + \dfrac{y^2}{5} = 1\) ocitavamo kvadrate poluosa:</p>
        <div class="tri-values">
            <div class="tri-val">
                <span class="label">Kvadrat vece poluose</span>
                <span class="value">\(a^2 = 20\)</span>
            </div>
            <div class="tri-val">
                <span class="label">Kvadrat manje poluose</span>
                <span class="value">\(b^2 = 5\)</span>
            </div>
        </div>
        <p>Iz jednacine prave \(y = x + n\) citamo koeficijent pravca:</p>
        <div class="tri-values">
            <div class="tri-val">
                <span class="label">Nagib prave</span>
                <span class="value">\(k = 1\)</span>
            </div>
            <div class="tri-val">
                <span class="label">Slobodan clan</span>
                <span class="value">\(n\)</span>
            </div>
        </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
        <div class="step-badge">2</div>
        <h3>Primena uslova tangentnosti</h3>
        <p>Da bi prava \(y = kx + n\) bila tangenta elipse \(\dfrac{x^2}{a^2} + \dfrac{y^2}{b^2} = 1\), mora da vazi:</p>
        \[
        n^2 = a^2 k^2 + b^2
        \]
        <p>Zamenjujemo poznate vrednosti \(a^2 = 20\), \(b^2 = 5\), \(k = 1\):</p>
        \[
        n^2 = 20 \cdot 1^2 + 5
        \]
        \[
        n^2 = 20 + 5
        \]
        \[
        n^2 = 25
        \]
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint" style="margin: 15px 0;">
        <summary>&#9997; Proveri sebe: Koliko iznosi \(n^2\)?</summary>
        <p>\(n^2 = a^2 k^2 + b^2 = 20 \cdot 1 + 5 = 25\). Tacno!</p>
    </details>

    <!-- Step 3 -->
    <div class="step">
        <div class="step-badge">3</div>
        <h3>Resavanje po \(n\)</h3>
        <p>Iz jednacine \(n^2 = 25\) dobijamo:</p>
        \[
        n = \pm 5
        \]
        <p>Posto zadatak trazi <strong>pozitivnu vrednost</strong> parametra \(n\), uzimamo:</p>
        \[
        n = 5
        \]
    </div>

    <!-- Step 4 -->
    <div class="step">
        <div class="step-badge">4</div>
        <h3>Odredjivanje intervala</h3>
        <p>Proveravamo u koji od ponudjenih intervala spada vrednost \(n = 5\):</p>
        <ul class="clean">
            <li>\((2,\; 4]\): \(5 > 4\), pa \(5 \notin (2,\; 4]\)</li>
            <li>\((4,\; 6]\): \(4 < 5 \leq 6\), pa <span class="highlight">\(5 \in (4,\; 6]\)</span></li>
            <li>\((6,\; 8]\): \(5 < 6\), pa \(5 \notin (6,\; 8]\)</li>
            <li>\((8,\; 10]\): \(5 < 8\), pa \(5 \notin (8,\; 10]\)</li>
        </ul>
        <p style="margin-top:0.5rem;">Vrednost \(n = 5\) pripada intervalu \((4,\; 6]\).</p>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint" style="margin: 15px 0;">
        <summary>&#9997; Proveri sebe: Zameni \(y = x + 5\) u jednacinu elipse. Koliko resenja dobijas?</summary>
        <p>Zamenom \(y = x + 5\) u \(\frac{x^2}{20} + \frac{y^2}{5} = 1\):<br>
        \(\frac{x^2}{20} + \frac{(x+5)^2}{5} = 1\)<br>
        Mnozimo sa 20: \(x^2 + 4(x^2 + 10x + 25) = 20\)<br>
        \(5x^2 + 40x + 100 = 20\)<br>
        \(5x^2 + 40x + 80 = 0\)<br>
        \(x^2 + 8x + 16 = 0\)<br>
        \((x + 4)^2 = 0\)<br>
        Jedno (dvostruko) resenje \(x = -4\) &mdash; potvrda da je prava tangenta!</p>
    </details>

    <!-- Step 5 -->
    <div class="step">
        <div class="step-badge">5</div>
        <h3>Verifikacija: direktna zamena</h3>
        <p>Da bismo bili potpuno sigurni, proverimo zamenom prave \(y = x + 5\) u jednacinu elipse:</p>
        \[
        \frac{x^2}{20} + \frac{(x + 5)^2}{5} = 1
        \]
        <p>Mnozimo obe strane sa 20:</p>
        \[
        x^2 + 4(x^2 + 10x + 25) = 20
        \]
        \[
        x^2 + 4x^2 + 40x + 100 = 20
        \]
        \[
        5x^2 + 40x + 80 = 0
        \]
        <p>Delimo sa 5:</p>
        \[
        x^2 + 8x + 16 = 0
        \]
        \[
        (x + 4)^2 = 0
        \]
        <p>Diskriminanta je \(D = 0\), pa postoji tacno jedno resenje \(x = -4\). To potvrdjuje da je prava tangenta.</p>
        <p style="margin-top:0.5rem;">Tacka dodira: \(x = -4\), \(y = -4 + 5 = 1\), dakle \(T(-4,\; 1)\).</p>
        <p class="muted" style="margin-top:0.25rem;">Provera: \(\frac{(-4)^2}{20} + \frac{1^2}{5} = \frac{16}{20} + \frac{1}{5} = \frac{4}{5} + \frac{1}{5} = 1\) &#10003;</p>
    </div>
</div>

<!-- Key Insight -->
<div class="card insight-card">
    <h2><span class="icon">&#128161;</span> Kljucni uvid</h2>
    <p>Uslov tangentnosti prave na elipsu je algebarski ekvivalentan zahtevu da sistem jednacina (prava + elipsa) ima tacno jedno resenje. Kljucna formula:</p>
    <div style="text-align:center; margin: 1rem 0; font-size: 1.15rem;">
        \[
        \boxed{n^2 = a^2 k^2 + b^2}
        \]
    </div>
    <p>Ova formula je univerzalna za svaku pravu oblika \(y = kx + n\) i svaku elipsu sa centrom u koordinatnom pocetku. Dovoljno je "ucitati" vrednosti \(a^2\), \(b^2\) i \(k\) i direktno izracunati \(n\).</p>
</div>

<!-- Final Answer -->
<div class="card final-card">
    <h2><span class="icon">&#127919;</span> Konacan odgovor</h2>
    <p style="text-align:center; font-size:1.3rem; margin: 1rem 0;">
        \[
        n = 5 \in (4,\; 6]
        \]
    </p>
    <p style="text-align:center; font-size:1.15rem;" class="highlight">Odgovor: (B)</p>

    <div class="given-grid" style="margin-top:1rem;">
        <div class="given-item answer-option incorrect" data-option="A">
            <div class="label" style="color:#94a3b8;">(A)</div>
            <div class="value">\((2,\; 4]\)</div>
        </div>
        <div class="given-item answer-option correct" data-option="B">
            <div class="label">(B)</div>
            <div class="value">\((4,\; 6]\)</div>
        </div>
        <div class="given-item answer-option incorrect" data-option="C">
            <div class="label" style="color:#94a3b8;">(C)</div>
            <div class="value">\((6,\; 8]\)</div>
        </div>
        <div class="given-item answer-option incorrect" data-option="D">
            <div class="label" style="color:#94a3b8;">(D)</div>
            <div class="value">\((8,\; 10]\)</div>
        </div>
    </div>

    <p class="muted" style="margin-top:1rem; text-align:center;">Provera: \(n = 5\), a \(4 < 5 \leq 6\), pa \(n\) zaista pripada intervalu \((4,\; 6]\). Tacka dodira tangente i elipse je \(T(-4,\; 1)\).</p>
</div>

<!-- Pitfalls -->
<div class="card pitfalls-card">
    <h2><span class="icon">&#9888;</span> Ceste greske</h2>
    <div class="pitfall-item">
        <strong>Zaboraviti uslov pozitivnosti:</strong> Jednacina \(n^2 = 25\) daje \(n = \pm 5\). Obe vrednosti daju tangentu, ali zadatak eksplicitno trazi <em>pozitivnu</em> vrednost. Tangenta za \(n = -5\) je \(y = x - 5\), koja dodiruje elipsu u tacki \((4,\; -1)\).
    </div>
    <div class="pitfall-item">
        <strong>Zamena \(a^2\) i \(b^2\):</strong> U formuli \(n^2 = a^2 k^2 + b^2\), obratite paznju da je \(a^2\) pod \(x^2\) a \(b^2\) pod \(y^2\) u jednacini elipse. Zamena ovih vrednosti dala bi pogresan rezultat.
    </div>
</div>

<!-- Challenge -->
<div class="card challenge-card">
    <h2><span class="icon">&#127942;</span> Izazov za razmisljanje</h2>
    <p>Za koju pozitivnu vrednost parametra \(n\) je prava \(y = 2x + n\) tangenta iste elipse \(\dfrac{x^2}{20} + \dfrac{y^2}{5} = 1\)?</p>
    <details style="margin: 15px 0;">
        <summary style="cursor:pointer; color:#60a5fa; font-weight:600;">&#9660; Prikazi odgovor</summary>
        <div style="padding-top: 0.75rem;">
            <p>Sada je \(k = 2\), pa:</p>
            \[
            n^2 = 20 \cdot 2^2 + 5 = 20 \cdot 4 + 5 = 80 + 5 = 85
            \]
            \[
            n = \sqrt{85} \approx 9{,}22
            \]
            <p>Ova vrednost pripada intervalu \((8,\; 10]\) &mdash; odgovor bi bio (D)!</p>
        </div>
    </details>
</div>

<script>
(() => {
    // Step click highlighting
    const steps = document.querySelectorAll('.step');
    steps.forEach(step => {
        step.addEventListener('click', () => {
            steps.forEach(s => s.classList.remove('active'));
            step.classList.toggle('active');
        });
    });

    // Canvas drawing
    const canvas = document.getElementById('ellipseCanvas');
    if (!canvas) return;
    const dpr = window.devicePixelRatio || 1;
    const dispW = 600, dispH = 500;
    canvas.width = dispW * dpr;
    canvas.height = dispH * dpr;
    canvas.style.width = dispW + 'px';
    canvas.style.height = dispH + 'px';
    const ctx = canvas.getContext('2d');
    ctx.scale(dpr, dpr);
    const W = dispW, H = dispH;

    // Coordinate mapping
    const xMin = -8, xMax = 8, yMin = -5, yMax = 8;
    const originX = W * (-xMin) / (xMax - xMin);
    const originY = H * (yMax) / (yMax - yMin);
    const scaleX = W / (xMax - xMin);
    const scaleY = H / (yMax - yMin);

    function toCanvasX(x) { return originX + x * scaleX; }
    function toCanvasY(y) { return originY - y * scaleY; }

    const a2 = 20, b2 = 5;
    const a = Math.sqrt(a2);
    const b = Math.sqrt(b2);

    const slider = document.getElementById('nSlider');
    const nValueSpan = document.getElementById('nValue');

    function draw() {
        const n = parseFloat(slider.value);
        nValueSpan.textContent = n.toFixed(1).replace('.', ',');

        ctx.clearRect(0, 0, W, H);

        // Background
        ctx.fillStyle = '#0f172a';
        ctx.fillRect(0, 0, W, H);

        // Grid
        ctx.strokeStyle = '#1a2332';
        ctx.lineWidth = 0.5;
        for (let gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
            ctx.beginPath();
            ctx.moveTo(toCanvasX(gx), 0);
            ctx.lineTo(toCanvasX(gx), H);
            ctx.stroke();
        }
        for (let gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy++) {
            ctx.beginPath();
            ctx.moveTo(0, toCanvasY(gy));
            ctx.lineTo(W, toCanvasY(gy));
            ctx.stroke();
        }

        // Axes
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.moveTo(0, toCanvasY(0));
        ctx.lineTo(W, toCanvasY(0));
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(toCanvasX(0), 0);
        ctx.lineTo(toCanvasX(0), H);
        ctx.stroke();

        // Axis labels
        ctx.fillStyle = '#64748b';
        ctx.font = '11px sans-serif';
        ctx.textAlign = 'center';
        for (let lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
            if (lx === 0) continue;
            ctx.fillText(lx.toString(), toCanvasX(lx), toCanvasY(0) + 14);
        }
        ctx.textAlign = 'right';
        for (let ly = Math.ceil(yMin); ly <= Math.floor(yMax); ly++) {
            if (ly === 0) continue;
            ctx.fillText(ly.toString(), toCanvasX(0) - 5, toCanvasY(ly) + 4);
        }

        // Draw ellipse
        ctx.strokeStyle = '#a78bfa';
        ctx.lineWidth = 2.5;
        ctx.beginPath();
        for (let t = 0; t <= 2 * Math.PI + 0.01; t += 0.01) {
            const ex = a * Math.cos(t);
            const ey = b * Math.sin(t);
            if (t === 0) {
                ctx.moveTo(toCanvasX(ex), toCanvasY(ey));
            } else {
                ctx.lineTo(toCanvasX(ex), toCanvasY(ey));
            }
        }
        ctx.stroke();
        // Fill ellipse slightly
        ctx.fillStyle = 'rgba(167, 139, 250, 0.06)';
        ctx.fill();

        // Draw the line y = x + n
        const lineXStart = xMin;
        const lineXEnd = xMax;
        const lineYStart = lineXStart + n;
        const lineYEnd = lineXEnd + n;

        // Determine if tangent, secant, or no intersection
        // n^2 vs a^2*k^2 + b^2 = 20 + 5 = 25
        const tangentN2 = 25;
        const diff = n * n - tangentN2;

        let lineColor;
        let statusText;
        if (Math.abs(diff) < 0.05) {
            lineColor = '#4ade80'; // green = tangent
            statusText = 'Tangenta (dodiruje elipsu)';
        } else if (diff < 0) {
            lineColor = '#f472b6'; // pink = secant (intersects)
            statusText = 'Secica (sece elipsu u 2 tacke)';
        } else {
            lineColor = '#60a5fa'; // blue = no intersection
            statusText = 'Nema preseka sa elipsom';
        }

        ctx.strokeStyle = lineColor;
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(toCanvasX(lineXStart), toCanvasY(lineYStart));
        ctx.lineTo(toCanvasX(lineXEnd), toCanvasY(lineYEnd));
        ctx.stroke();

        // Find intersection points by solving x^2/20 + (x+n)^2/5 = 1
        // x^2 + 4(x+n)^2 = 20
        // x^2 + 4x^2 + 8nx + 4n^2 = 20
        // 5x^2 + 8nx + (4n^2 - 20) = 0
        const A = 5;
        const B = 8 * n;
        const C = 4 * n * n - 20;
        const D = B * B - 4 * A * C;

        if (D >= -0.1) {
            const sqrtD = Math.sqrt(Math.max(0, D));
            const x1 = (-B + sqrtD) / (2 * A);
            const x2 = (-B - sqrtD) / (2 * A);
            const y1 = x1 + n;
            const y2 = x2 + n;

            if (Math.abs(D) < 0.5) {
                // Tangent point (single)
                const tx = (x1 + x2) / 2;
                const ty = tx + n;
                // Glow
                ctx.beginPath();
                const grad = ctx.createRadialGradient(toCanvasX(tx), toCanvasY(ty), 0, toCanvasX(tx), toCanvasY(ty), 20);
                grad.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
                grad.addColorStop(1, 'rgba(74, 222, 128, 0)');
                ctx.fillStyle = grad;
                ctx.arc(toCanvasX(tx), toCanvasY(ty), 20, 0, 2 * Math.PI);
                ctx.fill();
                // Point
                ctx.fillStyle = '#4ade80';
                ctx.beginPath();
                ctx.arc(toCanvasX(tx), toCanvasY(ty), 5, 0, 2 * Math.PI);
                ctx.fill();
                ctx.strokeStyle = '#0f172a';
                ctx.lineWidth = 1.5;
                ctx.stroke();
                // Label
                ctx.fillStyle = '#4ade80';
                ctx.font = 'bold 12px sans-serif';
                ctx.textAlign = 'left';
                ctx.fillText('T(' + tx.toFixed(0) + ', ' + ty.toFixed(0) + ')', toCanvasX(tx) + 10, toCanvasY(ty) - 8);
            } else if (D > 0.5) {
                // Two intersection points
                [{ x: x1, y: y1 }, { x: x2, y: y2 }].forEach((pt, i) => {
                    ctx.fillStyle = '#f472b6';
                    ctx.beginPath();
                    ctx.arc(toCanvasX(pt.x), toCanvasY(pt.y), 4, 0, 2 * Math.PI);
                    ctx.fill();
                });
            }
        }

        // Status text
        ctx.fillStyle = lineColor;
        ctx.font = 'bold 13px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(statusText, W / 2, 25);

        // Line equation label
        ctx.fillStyle = '#94a3b8';
        ctx.font = '12px sans-serif';
        ctx.textAlign = 'left';
        ctx.fillText('y = x + ' + n.toFixed(1).replace('.', ','), 15, 25);

        // Mark semi-axes labels
        ctx.fillStyle = '#a78bfa';
        ctx.font = '12px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('a = \u221A20', toCanvasX(a) + 5, toCanvasY(0) + 28);
        ctx.fillText('b = \u221A5', toCanvasX(0) + 25, toCanvasY(b) - 4);
    }

    slider.addEventListener('input', draw);

    // Touch support
    canvas.addEventListener('touchstart', function(e) { e.preventDefault(); }, { passive: false });
    canvas.addEventListener('touchmove', function(e) { e.preventDefault(); }, { passive: false });

    draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Tangenta prave na elipsu - odredjivanje parametra n","subject":"math","unit":"geometry","topic_tags":["elipsa","tangenta","uslov tangentnosti","analiticka geometrija","konike"]}
BRAINSPARK_META-->