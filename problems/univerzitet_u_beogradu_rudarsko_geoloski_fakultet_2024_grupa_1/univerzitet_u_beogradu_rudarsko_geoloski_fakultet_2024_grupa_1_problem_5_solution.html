<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kvadratna jednačina sa parametrom — Dvostruko rešenje</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Naći zbir vrednosti realnog parametra k za koje jednačina
  x^2 + (k-5)x + k + 3 = 0 ima jednaka rešenja (dvostruko rešenje).

  Pristup: Kvadratna jednačina ax^2 + bx + c = 0 ima dvostruko rešenje
  kada je diskriminanta jednaka nuli: D = b^2 - 4ac = 0.

  Koeficijenti:
    a = 1
    b = k - 5
    c = k + 3

  Uslov D = 0:
    (k - 5)^2 - 4 * 1 * (k + 3) = 0
    k^2 - 10k + 25 - 4k - 12 = 0
    k^2 - 14k + 13 = 0

  Rešavamo jednačinu k^2 - 14k + 13 = 0:
    D_k = 196 - 52 = 144
    sqrt(144) = 12
    k_1 = (14 + 12) / 2 = 26 / 2 = 13
    k_2 = (14 - 12) / 2 = 2 / 2 = 1

  Alternativno, po Vjetovim formulama:
    k_1 + k_2 = 14 (koeficijent uz k sa promenjenim znakom: -(-14) = 14)
    k_1 * k_2 = 13

  Zbir: k_1 + k_2 = 1 + 13 = 14

  Verifikacija:
    Za k = 1: x^2 + (1-5)x + 1+3 = x^2 - 4x + 4 = (x-2)^2 = 0 → x = 2 (dvostruko) ✓
    Za k = 13: x^2 + (13-5)x + 13+3 = x^2 + 8x + 16 = (x+4)^2 = 0 → x = -4 (dvostruko) ✓

  Odgovor: C) 14

  Napomena: Zbir korena k_1 + k_2 se može naći i direktno iz Vjetovih formula
  za jednačinu k^2 - 14k + 13 = 0, bez eksplicitnog nalaženja k_1 i k_2.
  Zbir korena = -(-14)/1 = 14.
</script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 2rem 1rem;
}
.container { max-width: 1200px; margin: 0 auto; }
h1 {
  text-align: center;
  font-size: clamp(1.6rem, 4vw, 2.4rem);
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 0.5rem;
  padding: 0.5rem 0;
}
.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 2rem;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 1.5rem 2rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  font-size: 1.3rem;
  margin-bottom: 1rem;
  color: #60a5fa;
}
.card h3 {
  font-size: 1.1rem;
  margin-bottom: 0.8rem;
  color: #a78bfa;
}
.problem-statement {
  border-left: 4px solid #a78bfa;
  font-size: 1.1rem;
}
.given-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.8rem;
  margin-top: 1rem;
}
.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 0.7rem 1.2rem;
  text-align: center;
  font-size: 1.05rem;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 0.3rem;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
}
.answer-option {
  transition: none;
}
.data-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.8rem;
  margin-top: 1rem;
}
.data-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 0.7rem 1.2rem;
  text-align: center;
}
.data-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 600;
  margin-bottom: 0.3rem;
}
.data-item .value {
  color: #60a5fa;
  font-size: 1.05rem;
  font-weight: 600;
}
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: linear-gradient(135deg, #a78bfa, #60a5fa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  border-radius: 50%;
  margin-right: 0.6rem;
  flex-shrink: 0;
}
.step {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 12px;
  padding: 1.2rem 1.5rem;
  margin-bottom: 1rem;
  cursor: pointer;
  transition: border-color 0.3s ease, border-left 0.3s ease;
}
.step:hover { border-color: #60a5fa; }
.step.active { border-left: 4px solid #4ade80; }
.step-header {
  display: flex;
  align-items: center;
  font-weight: 600;
}
.step-content {
  margin-top: 1rem;
}
.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 0.8rem 1.2rem;
  margin: 0.8rem 0;
  overflow-x: auto;
}
details {
  margin: 15px 0;
}
summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 0.5rem 0;
  user-select: none;
}
summary:hover { color: #a78bfa; }
details[open] summary { margin-bottom: 0.8rem; }
.checkpoint {
  background: linear-gradient(135deg, #1e3a5f, #1e293b);
  border: 1px dashed #60a5fa;
  border-radius: 10px;
  padding: 1rem 1.2rem;
  margin: 15px 0;
}
.final-answer {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, #0f2a1f, #1e293b);
  text-align: center;
  font-size: 1.2rem;
}
.final-answer .big-result {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 700;
  margin: 1rem 0;
}
.option-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.6rem;
  margin: 1rem 0;
}
.option-pill {
  padding: 0.5rem 1.2rem;
  border-radius: 999px;
  font-weight: 600;
  font-size: 1rem;
  border: 2px solid #334155;
  background: #0f172a;
  color: #94a3b8;
}
.option-pill.correct {
  border-color: #4ade80;
  background: #0f2a1f;
  color: #4ade80;
}
.key-insight {
  border-left: 4px solid #f472b6;
}
.key-insight h2 { color: #f472b6; }
.pitfalls { border-left: 4px solid #e09468; }
.pitfalls h2 { color: #e09468; }
.pitfalls ul { padding-left: 1.5rem; }
.pitfalls li { margin-bottom: 0.5rem; }
.pitfalls li::marker { color: #e09468; }
canvas {
  display: block;
  margin: 1rem auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}
.muted { color: #94a3b8; }
.text-green { color: #4ade80; }
.text-blue { color: #60a5fa; }
.text-purple { color: #a78bfa; }
.text-pink { color: #f472b6; }
@media (max-width: 700px) {
  .card { padding: 1rem 1.2rem; }
  .given-grid { grid-template-columns: repeat(2, 1fr); }
  .data-grid { grid-template-columns: 1fr 1fr; }
  .option-row { gap: 0.4rem; }
}
</style>
</head>
<body>
<div class="container">

<h1>Kvadratna jednačina sa parametrom</h1>
<p class="subtitle">Nalaženje vrednosti parametra za koje jednačina ima dvostruko rešenje</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <h2>Zadatak</h2>
  <p>Zbir vrednosti realnog parametra \(k\) za koje jednačina</p>
  <div class="math-block">
    \[x^2 + (k-5)\,x + k + 3 = 0\]
  </div>
  <p>ima jednaka rešenja (tj. dvostruko rešenje) je:</p>

  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\(16\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\(-16\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\(14\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\(10\)</div>
    </div>
  </div>
</div>

<!-- Poznate vrednosti -->
<div class="card">
  <h2>Poznate vrednosti</h2>
  <p>Identifikujemo koeficijente kvadratne jednačine \(ax^2 + bx + c = 0\):</p>
  <div class="data-grid">
    <div class="data-item">
      <div class="label">Koeficijent \(a\)</div>
      <div class="value">\(1\)</div>
    </div>
    <div class="data-item">
      <div class="label">Koeficijent \(b\)</div>
      <div class="value">\(k - 5\)</div>
    </div>
    <div class="data-item">
      <div class="label">Koeficijent \(c\)</div>
      <div class="value">\(k + 3\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <h2>Plan rešavanja</h2>
  <p>Kvadratna jednačina ima dvostruko rešenje kada je njena diskriminanta jednaka nuli. Postavićemo uslov \(D = 0\), što će dati jednačinu po parametru \(k\), a zatim ćemo naći zbir njenih rešenja.</p>
</div>

<!-- Teorija -->
<div class="card">
  <details>
    <summary>Ključne formule i teoreme</summary>
    <ul style="padding-left: 1.5rem; list-style-type: disc;">
      <li style="margin-bottom: 0.8rem;"><strong>Diskriminanta kvadratne jednačine:</strong> Za jednačinu \(ax^2 + bx + c = 0\), diskriminanta je
        \[D = b^2 - 4ac\]
        Ako je \(D = 0\), jednačina ima jedno dvostruko rešenje \(x = -\dfrac{b}{2a}\).
      </li>
      <li style="margin-bottom: 0.8rem;"><strong>Vjetove formule:</strong> Ako su \(x_1\) i \(x_2\) koreni jednačine \(ax^2 + bx + c = 0\), tada:
        \[x_1 + x_2 = -\frac{b}{a}, \qquad x_1 \cdot x_2 = \frac{c}{a}\]
        Ovo važi za bilo koju kvadratnu jednačinu — uključujući i jednačinu po \(k\) koju ćemo dobiti.
      </li>
      <li><strong>Kvadrat binoma:</strong>
        \[(a - b)^2 = a^2 - 2ab + b^2\]
      </li>
    </ul>
  </details>
</div>

<!-- Vizuelni prikaz -->
<div class="card">
  <h2>Vizuelni prikaz</h2>
  <p class="muted">Dijagram prikazuje parabolu \(y = x^2 + (k-5)x + k+3\) za obe vrednosti parametra \(k\). Pomerajte klizač da vidite kako se menja oblik parabole.</p>
  <canvas id="mainCanvas" width="700" height="420"></canvas>
  <div style="text-align: center; margin-top: 0.5rem;">
    <label for="kSlider" style="color: #94a3b8; font-size: 0.95rem;">Vrednost parametra \(k\): </label>
    <input type="range" id="kSlider" min="-3" max="18" step="0.1" value="1" style="width: 260px; vertical-align: middle;">
    <span id="kValue" style="color: #60a5fa; font-weight: 600; font-size: 1rem; margin-left: 0.5rem;">k = 1</span>
  </div>
  <p class="muted" style="text-align: center; font-size: 0.85rem; margin-top: 0.4rem;">Parabola dodiruje x-osu (dvostruko rešenje) za \(k = 1\) i \(k = 13\)</p>
</div>

<!-- Rešenje korak po korak -->
<div class="card">
  <h2>Rešenje korak po korak</h2>

  <div class="step active" id="step1">
    <div class="step-header">
      <span class="badge">1</span>
      <h3 style="margin-bottom: 0;">Postavljamo uslov za dvostruko rešenje</h3>
    </div>
    <div class="step-content">
      <p>Kvadratna jednačina \(ax^2 + bx + c = 0\) ima dvostruko rešenje ako i samo ako je diskriminanta jednaka nuli:</p>
      <div class="math-block">
        \[D = b^2 - 4ac = 0\]
      </div>
      <p>U našem slučaju, \(a = 1\), \(b = k - 5\), \(c = k + 3\), pa uslov glasi:</p>
      <div class="math-block">
        \[(k - 5)^2 - 4 \cdot 1 \cdot (k + 3) = 0\]
      </div>
    </div>
  </div>

  <div class="step" id="step2">
    <div class="step-header">
      <span class="badge">2</span>
      <h3 style="margin-bottom: 0;">Razvijamo kvadrat binoma</h3>
    </div>
    <div class="step-content">
      <p>Primenom formule \((a - b)^2 = a^2 - 2ab + b^2\):</p>
      <div class="math-block">
        \[(k - 5)^2 = k^2 - 2 \cdot k \cdot 5 + 25 = k^2 - 10k + 25\]
      </div>
      <p>Uvrstimo u jednačinu:</p>
      <div class="math-block">
        \[k^2 - 10k + 25 - 4(k + 3) = 0\]
      </div>
    </div>
  </div>

  <div class="step" id="step3">
    <div class="step-header">
      <span class="badge">3</span>
      <h3 style="margin-bottom: 0;">Množimo i sređujemo</h3>
    </div>
    <div class="step-content">
      <p>Raspisujemo \(-4(k + 3)\):</p>
      <div class="math-block">
        \[-4(k + 3) = -4k - 12\]
      </div>
      <p>Sabiramo sve članove:</p>
      <div class="math-block">
        \[k^2 - 10k + 25 - 4k - 12 = 0\]
      </div>
      <p>Sređujemo (grupišemo slične članove):</p>
      <div class="math-block">
        \[k^2 - 14k + 13 = 0\]
      </div>
      <p>Dobili smo novu kvadratnu jednačinu, ali po parametru \(k\).</p>

      <details class="checkpoint">
        <summary>Proveri se: Koliki je koeficijent uz \(k\)?</summary>
        <p style="color: #4ade80;">Koeficijent uz \(k\) je \(-14\). Dobija se sabiranjem \(-10k\) i \(-4k\).</p>
      </details>
    </div>
  </div>

  <div class="step" id="step4">
    <div class="step-header">
      <span class="badge">4</span>
      <h3 style="margin-bottom: 0;">Rešavamo jednačinu po \(k\)</h3>
    </div>
    <div class="step-content">
      <p>Jednačinu \(k^2 - 14k + 13 = 0\) rešavamo pomoću formule za diskriminantu:</p>
      <div class="math-block">
        \[D_k = (-14)^2 - 4 \cdot 1 \cdot 13 = 196 - 52 = 144\]
      </div>
      <p>Pošto je \(\sqrt{144} = 12\), rešenja su:</p>
      <div class="math-block">
        \[k_{1,2} = \frac{14 \pm 12}{2}\]
      </div>
      <p>Dakle:</p>
      <div class="math-block">
        \[k_1 = \frac{14 + 12}{2} = \frac{26}{2} = 13\]
      </div>
      <div class="math-block">
        \[k_2 = \frac{14 - 12}{2} = \frac{2}{2} = 1\]
      </div>
    </div>
  </div>

  <div class="step" id="step5">
    <div class="step-header">
      <span class="badge">5</span>
      <h3 style="margin-bottom: 0;">Računamo traženi zbir</h3>
    </div>
    <div class="step-content">
      <p>Zbir vrednosti parametra \(k\) je:</p>
      <div class="math-block">
        \[k_1 + k_2 = 13 + 1 = 14\]
      </div>
      <p class="muted" style="margin-top: 0.5rem;">Napomena: Ovaj zbir se mogao dobiti i direktno iz Vjetovih formula, bez nalaženja pojedinačnih vrednosti \(k_1\) i \(k_2\). Za jednačinu \(k^2 - 14k + 13 = 0\), zbir korena je \(-\dfrac{-14}{1} = 14\).</p>
    </div>
  </div>

  <div class="step" id="step6">
    <div class="step-header">
      <span class="badge">6</span>
      <h3 style="margin-bottom: 0;">Verifikacija obe vrednosti</h3>
    </div>
    <div class="step-content">
      <p><strong>Za \(k = 1\):</strong></p>
      <div class="math-block">
        \[x^2 + (1-5)x + 1+3 = x^2 - 4x + 4 = (x-2)^2 = 0\]
      </div>
      <p>Dvostruko rešenje \(x = 2\). &check;</p>

      <p style="margin-top: 0.8rem;"><strong>Za \(k = 13\):</strong></p>
      <div class="math-block">
        \[x^2 + (13-5)x + 13+3 = x^2 + 8x + 16 = (x+4)^2 = 0\]
      </div>
      <p>Dvostruko rešenje \(x = -4\). &check;</p>

      <details class="checkpoint">
        <summary>Proveri se: Zašto se \(x^2 + 8x + 16\) može zapisati kao \((x+4)^2\)?</summary>
        <p style="color: #4ade80;">Zato što je \((x+4)^2 = x^2 + 2 \cdot x \cdot 4 + 16 = x^2 + 8x + 16\). Prepoznajemo potpun kvadrat: \(a^2 + 2ab + b^2 = (a+b)^2\), gde je \(a = x\) i \(b = 4\).</p>
      </details>
    </div>
  </div>
</div>

<!-- Ključni uvid -->
<div class="card key-insight">
  <h2>Ključni uvid</h2>
  <p>Ovo je zadatak u kome nas ne pitaju za <em>pojedinačne</em> vrednosti parametra \(k\), već za njihov <strong>zbir</strong>. Zato je elegantan prečac koristiti Vjetove formule: kad dobijemo jednačinu \(k^2 - 14k + 13 = 0\), zbir njenih korena je odmah</p>
  <div class="math-block" style="text-align: center; font-size: 1.2rem;">
    \[k_1 + k_2 = -\frac{-14}{1} = \boxed{14}\]
  </div>
  <p style="margin-top: 0.5rem;">Ova tehnika štedi vreme: nema potrebe nalaziti \(k_1\) i \(k_2\) pojedinačno, a zatim ih sabirati.</p>
</div>

<!-- Konačan odgovor -->
<div class="card final-answer">
  <h2 style="color: #4ade80;">Konačan odgovor</h2>
  <p>Zbir vrednosti realnog parametra \(k\) za koje data jednačina ima dvostruko rešenje je:</p>
  <div class="big-result">\(k_1 + k_2 = 14\)</div>
  <div class="option-row">
    <span class="option-pill">(A) \(16\)</span>
    <span class="option-pill">(B) \(-16\)</span>
    <span class="option-pill correct">(C) \(14\)</span>
    <span class="option-pill">(D) \(10\)</span>
  </div>
  <p style="margin-top: 1rem;"><strong>Verifikacija:</strong> Za \(k = 1\) jednačina postaje \((x-2)^2 = 0\), a za \(k = 13\) postaje \((x+4)^2 = 0\). U oba slučaja imamo potpun kvadrat — jednačina zaista ima dvostruko rešenje. Zbir \(1 + 13 = 14\). Tačan odgovor je <strong class="text-green">(C)</strong>.</p>
</div>

<!-- Tipične greške -->
<div class="card pitfalls">
  <h2>Tipične greške</h2>
  <ul>
    <li><strong>Pogrešno raspisivanje diskriminante:</strong> Česta greška je da se zagradu \((k-5)^2\) razvije kao \(k^2 - 5k + 25\) umesto \(k^2 - 10k + 25\). Ne zaboravite faktor \(2\) u formuli \((a-b)^2 = a^2 - 2ab + b^2\).</li>
    <li><strong>Zaboravljen faktor \(-4\) ispred \(c\):</strong> Neki učenici napišu \(D = (k-5)^2 - (k+3)\) umesto \((k-5)^2 - 4(k+3)\). Faktor \(4\) u \(-4ac\) je obavezan!</li>
  </ul>
</div>

<!-- Dodatni izazov -->
<div class="card">
  <h2>Dodatni izazov</h2>
  <details>
    <summary>Pokušaj sam</summary>
    <p style="margin-bottom: 1rem;">Za koje vrednosti realnog parametra \(m\) jednačina \(x^2 + 2(m+1)x + 9m - 5 = 0\) ima dvostruko rešenje? Koliki je <em>proizvod</em> tih vrednosti?</p>
    <details>
      <summary>Nagoveštaj</summary>
      <p>Postavi uslov \(D = 0\), tj. \(4(m+1)^2 - 4(9m - 5) = 0\). Posle sređivanja dobija se kvadratna jednačina po \(m\). Traži se proizvod korena te jednačine — koristi Vjetove formule!</p>
    </details>
  </details>
</div>

</div>

<script>
(() => {
  // Step click to highlight
  const steps = document.querySelectorAll('.step');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.toggle('active');
    });
  });

  // Canvas visualization
  function drawCanvas(kParam) {
    const canvas = document.getElementById('mainCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    const dpr = window.devicePixelRatio || 1;

    const displayW = Math.min(700, canvas.parentElement.clientWidth - 40);
    const displayH = 420;
    canvas.style.width = displayW + 'px';
    canvas.style.height = displayH + 'px';
    canvas.width = displayW * dpr;
    canvas.height = displayH * dpr;
    ctx.scale(dpr, dpr);

    const w = displayW;
    const h = displayH;

    // Clear
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, w, h);

    // Margins
    const ml = 60, mr = 30, mt = 40, mb = 50;
    const pw = w - ml - mr;
    const ph = h - mt - mb;

    // Coordinate ranges
    const xMin = -10, xMax = 8;
    const yMin = -8, yMax = 30;

    function toCanvasX(x) { return ml + (x - xMin) / (xMax - xMin) * pw; }
    function toCanvasY(y) { return mt + (1 - (y - yMin) / (yMax - yMin)) * ph; }

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let x = xMin; x <= xMax; x += 2) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(x), mt);
      ctx.lineTo(toCanvasX(x), h - mb);
      ctx.stroke();
    }
    for (let y = yMin; y <= yMax; y += 5) {
      ctx.beginPath();
      ctx.moveTo(ml, toCanvasY(y));
      ctx.lineTo(w - mr, toCanvasY(y));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    // x-axis (y=0)
    const y0 = toCanvasY(0);
    ctx.beginPath();
    ctx.moveTo(ml, y0);
    ctx.lineTo(w - mr, y0);
    ctx.stroke();
    // y-axis (x=0)
    const x0 = toCanvasX(0);
    ctx.beginPath();
    ctx.moveTo(x0, mt);
    ctx.lineTo(x0, h - mb);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let x = xMin; x <= xMax; x += 2) {
      if (x === 0) continue;
      ctx.fillText(x.toString(), toCanvasX(x), y0 + 16);
    }
    ctx.textAlign = 'right';
    for (let y = yMin; y <= yMax; y += 5) {
      if (y === 0) continue;
      ctx.fillText(y.toString(), x0 - 8, toCanvasY(y) + 4);
    }

    // f(x) = x^2 + (k-5)x + k+3 for slider value
    function f(x, k) { return x * x + (k - 5) * x + k + 3; }

    // Draw parabola for current k
    const disc = (kParam - 5) * (kParam - 5) - 4 * (kParam + 3);
    let parabolaColor = '#60a5fa';
    if (Math.abs(disc) < 0.5) {
      parabolaColor = '#4ade80'; // touches x-axis
    } else if (disc > 0) {
      parabolaColor = '#a78bfa'; // two real roots
    }

    ctx.strokeStyle = parabolaColor;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px <= pw; px += 1) {
      const x = xMin + (px / pw) * (xMax - xMin);
      const y = f(x, kParam);
      const cy = toCanvasY(y);
      if (cy < mt - 50 || cy > h - mb + 50) {
        first = true;
        continue;
      }
      if (first) {
        ctx.moveTo(toCanvasX(x), cy);
        first = false;
      } else {
        ctx.lineTo(toCanvasX(x), cy);
      }
    }
    ctx.stroke();

    // Draw faded reference parabolas for k=1 and k=13 if slider not at those values
    function drawRefParabola(kRef, color, label) {
      if (Math.abs(kParam - kRef) < 0.3) return;
      ctx.strokeStyle = color;
      ctx.lineWidth = 1.5;
      ctx.setLineDash([6, 4]);
      ctx.beginPath();
      let f2 = true;
      for (let px = 0; px <= pw; px += 1) {
        const x = xMin + (px / pw) * (xMax - xMin);
        const y = f(x, kRef);
        const cy = toCanvasY(y);
        if (cy < mt - 50 || cy > h - mb + 50) {
          f2 = true;
          continue;
        }
        if (f2) {
          ctx.moveTo(toCanvasX(x), cy);
          f2 = false;
        } else {
          ctx.lineTo(toCanvasX(x), cy);
        }
      }
      ctx.stroke();
      ctx.setLineDash([]);

      // Touch point
      const vertexX = -(kRef - 5) / 2;
      const vertexY = f(vertexX, kRef);
      const cx = toCanvasX(vertexX);
      const cy2 = toCanvasY(vertexY);
      ctx.beginPath();
      ctx.arc(cx, cy2, 5, 0, Math.PI * 2);
      ctx.fillStyle = color;
      ctx.fill();

      ctx.fillStyle = color;
      ctx.font = '12px system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(label, cx + 8, cy2 - 6);
    }

    drawRefParabola(1, 'rgba(74, 222, 128, 0.4)', 'k = 1, x = 2');
    drawRefParabola(13, 'rgba(167, 139, 250, 0.4)', 'k = 13, x = -4');

    // Mark vertex of current parabola
    const vertX = -(kParam - 5) / 2;
    const vertY = f(vertX, kParam);
    const cvx = toCanvasX(vertX);
    const cvy = toCanvasY(vertY);
    if (cvy > mt && cvy < h - mb) {
      ctx.beginPath();
      ctx.arc(cvx, cvy, 6, 0, Math.PI * 2);
      ctx.fillStyle = parabolaColor;
      ctx.fill();
      ctx.beginPath();
      ctx.arc(cvx, cvy, 10, 0, Math.PI * 2);
      ctx.strokeStyle = parabolaColor.replace(')', ', 0.3)').replace('rgb', 'rgba');
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    // Mark roots if D >= 0
    if (disc >= -0.01) {
      const sqrtD = Math.sqrt(Math.max(0, disc));
      const r1 = (-(kParam - 5) + sqrtD) / 2;
      const r2 = (-(kParam - 5) - sqrtD) / 2;

      function markRoot(rx) {
        const crx = toCanvasX(rx);
        const cry = toCanvasY(0);
        ctx.beginPath();
        ctx.arc(crx, cry, 5, 0, Math.PI * 2);
        ctx.fillStyle = '#4ade80';
        ctx.fill();
      }
      markRoot(r1);
      if (Math.abs(r1 - r2) > 0.1) markRoot(r2);
    }

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('f(x) = x\u00B2 + (k\u22125)x + k + 3', w / 2, 25);

    // Disc info
    const discRounded = Math.round(disc * 100) / 100;
    let discText = 'D = ' + (discRounded >= 0 ? discRounded.toString().replace('.', ',') : discRounded.toString().replace('.', ','));
    let discColor = '#94a3b8';
    if (Math.abs(disc) < 0.5) {
      discText += '  \u2248 0 (dvostruko re\u0161enje!)';
      discColor = '#4ade80';
    } else if (disc > 0) {
      discText += '  > 0 (dva realna re\u0161enja)';
      discColor = '#a78bfa';
    } else {
      discText += '  < 0 (nema realnih re\u0161enja)';
      discColor = '#f472b6';
    }
    ctx.fillStyle = discColor;
    ctx.font = '13px system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText(discText, ml + 5, h - 12);

    // Axis arrow labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', w - mr + 15, y0 + 4);
    ctx.fillText('y', x0, mt - 10);
  }

  const slider = document.getElementById('kSlider');
  const kLabel = document.getElementById('kValue');

  function updateCanvas() {
    const k = parseFloat(slider.value);
    kLabel.textContent = 'k = ' + k.toString().replace('.', ',');
    drawCanvas(k);
  }

  slider.addEventListener('input', updateCanvas);

  window.addEventListener('load', function() {
    setTimeout(updateCanvas, 100);
  });
  window.addEventListener('resize', updateCanvas);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{"title":"Kvadratna jednačina sa parametrom — Dvostruko rešenje","subject":"math","unit":"algebra","topic_tags":["kvadratna_jednačina","diskriminanta","parametar","Vjetove_formule","dvostruko_rešenje"]}
BRAINSPARK_META-->