<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iracionalna jednačina — Zbir rešenja</title>
<script type="text/info" id="logic-scratchpad">
Problem: Naći zbir svih rešenja jednačine sqrt(53 - x^2) = 9 - x.

Korak 1: Odrediti domen
  - Pod korenom mora biti nenegativan izraz: 53 - x^2 >= 0 => x^2 <= 53 => -sqrt(53) <= x <= sqrt(53)
    tj. približno -7,28 <= x <= 7,28
  - Desna strana mora biti nenegativna (koren je >= 0): 9 - x >= 0 => x <= 9
  - Presek: -sqrt(53) <= x <= sqrt(53), što je približno [-7,28; 7,28]

Korak 2: Kvadriranje obe strane
  53 - x^2 = (9 - x)^2
  53 - x^2 = 81 - 18x + x^2
  0 = 81 - 18x + x^2 - 53 + x^2
  0 = 2x^2 - 18x + 28
  0 = x^2 - 9x + 14

Korak 3: Rešavanje kvadratne jednačine
  x^2 - 9x + 14 = 0
  D = 81 - 56 = 25
  x = (9 ± 5) / 2
  x1 = (9 + 5)/2 = 7
  x2 = (9 - 5)/2 = 2

Korak 4: Provera u polaznoj jednačini
  x = 2: sqrt(53 - 4) = sqrt(49) = 7; 9 - 2 = 7. ✓
  x = 7: sqrt(53 - 49) = sqrt(4) = 2; 9 - 7 = 2. ✓
  Oba rešenja pripadaju domenu i zadovoljavaju polaznu jednačinu.

Korak 5: Zbir rešenja
  2 + 7 = 9

Odgovor: (A) 9 ✓ — poklapa se sa datim tačnim odgovorom.

Napomena: Po Vijetovim formulama, za x^2 - 9x + 14 = 0, zbir korena je -(-9)/1 = 9.
Pošto su oba korena validna, zbir je zaista 9.
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.15rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 80px;
  text-align: center;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.plan-card p {
  color: #c4b5fd;
  font-size: 1.05rem;
}

details {
  margin: 15px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 8px 0;
}

details summary:hover {
  color: #93c5fd;
}

details .theory-content {
  margin-top: 12px;
  padding: 16px;
  background: rgba(96,165,250,0.05);
  border-radius: 10px;
  border: 1px solid rgba(96,165,250,0.1);
}

details .theory-content ul {
  list-style: none;
  padding: 0;
}

details .theory-content li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

details .theory-content li:last-child {
  border-bottom: none;
}

.canvas-card {
  text-align: center;
}

.canvas-card canvas {
  border-radius: 10px;
  max-width: 100%;
  touch-action: none;
}

.canvas-hint {
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.step-container {
  display: flex;
  gap: 16px;
  align-items: flex-start;
  padding: 16px;
  margin-bottom: 8px;
  border-radius: 10px;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.step-container:hover, .step-container.active {
  background: rgba(96,165,250,0.05);
  border-left-color: #4ade80;
}

.step-badge {
  min-width: 32px;
  height: 32px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  color: #0f172a;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 8px;
  padding: 14px 18px;
  margin: 10px 0;
  overflow-x: auto;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  background: rgba(167,139,250,0.08);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 15px 0;
}

.checkpoint summary {
  color: #a78bfa;
  font-size: 0.95rem;
}

.checkpoint .answer {
  margin-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.insight-box h2 {
  color: #a78bfa;
}

.insight-formula {
  font-size: 1.3rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer {
  background: linear-gradient(135deg, rgba(52,211,153,0.1), rgba(74,222,128,0.1));
  border: 1px solid rgba(52,211,153,0.25);
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  text-align: center;
}

.final-answer h2 {
  color: #34d399;
}

.final-answer .big-answer {
  font-size: 2rem;
  font-weight: 800;
  color: #4ade80;
  margin: 16px 0;
}

.final-options {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}

.final-option {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1.05rem;
  font-weight: 600;
  background: rgba(51,65,85,0.5);
  border: 1px solid #334155;
  color: #94a3b8;
}

.final-option.correct {
  background: rgba(52,211,153,0.15);
  border-color: #34d399;
  color: #4ade80;
}

.verification {
  margin-top: 16px;
  padding: 14px;
  background: rgba(52,211,153,0.05);
  border-radius: 8px;
  color: #94a3b8;
  font-size: 0.95rem;
  text-align: left;
}

.pitfalls {
  border-left: 4px solid #e09468;
}

.pitfalls h2 {
  color: #e09468;
}

.pitfalls ul {
  list-style: none;
  padding: 0;
}

.pitfalls li {
  padding: 8px 0;
  color: #cbd5e1;
  position: relative;
  padding-left: 20px;
}

.pitfalls li::before {
  content: "!";
  position: absolute;
  left: 0;
  color: #e09468;
  font-weight: 700;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card h2 {
  color: #f472b6;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { flex-direction: column; gap: 10px; }
  .given-grid { flex-direction: column; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Iracionalna jednačina</h1>
  <p class="subtitle">Zbir rešenja jednačine sa kvadratnim korenom — algebra</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir svih rešenja jednačine</p>
    <div class="math-block">
      \[\sqrt{53 - x^2} = 9 - x\]
    </div>
    <p>je:</p>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(9\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(-6\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(8\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(-7\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan rešavanja</h2>
    <p>Odredićemo domen jednačine, zatim je kvadrirati da bismo dobili kvadratnu jednačinu. Na kraju ćemo proveriti dobijena rešenja u polaznoj jednačini i sabrati sva validna.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Ključne formule i teoreme</summary>
      <div class="theory-content">
        <ul>
          <li><strong>Kvadriranje iracionalne jednačine:</strong> Ako je \(\sqrt{f(x)} = g(x)\), onda je \(f(x) = [g(x)]^2\), uz uslov \(g(x) \geq 0\) i \(f(x) \geq 0\).</li>
          <li><strong>Kvadrat razlike:</strong> \((a - b)^2 = a^2 - 2ab + b^2\)</li>
          <li><strong>Kvadratna jednačina:</strong> Za \(ax^2 + bx + c = 0\), rešenja su \(x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a}\).</li>
          <li><strong>Vijetove formule:</strong> Za \(x^2 + px + q = 0\) sa korenima \(x_1, x_2\): zbir korena je \(x_1 + x_2 = -p\), a proizvod \(x_1 \cdot x_2 = q\).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card canvas-card">
    <h2>Grafički prikaz</h2>
    <canvas id="graph-canvas" width="700" height="500"></canvas>
    <p class="canvas-hint">Grafik funkcija \(y = \sqrt{53 - x^2}\) (plava) i \(y = 9 - x\) (ljubičasta). Presečne tačke su rešenja jednačine.</p>
  </div>

  <!-- Step-by-step solution -->
  <div class="card">
    <h2>Rešenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Određivanje domena</h3>
        <p>Da bi jednačina \(\sqrt{53 - x^2} = 9 - x\) imala smisla, moraju biti ispunjena dva uslova:</p>
        <div class="math-block">
          \[\begin{align}
            53 - x^2 &\geq 0 \quad \Rightarrow \quad x^2 \leq 53 \quad \Rightarrow \quad -\sqrt{53} \leq x \leq \sqrt{53} \\[6pt]
            9 - x &\geq 0 \quad \Rightarrow \quad x \leq 9
          \end{align}\]
        </div>
        <p>Pošto je \(\sqrt{53} \approx 7{,}28\), oba uslova daju:</p>
        <div class="math-block">
          \[x \in [-\sqrt{53},\; \sqrt{53}] \approx [-7{,}28;\; 7{,}28]\]
        </div>
        <p class="note">Napomena: Uslov \(x \leq 9\) je automatski ispunjen kad je \(x \leq \sqrt{53} \approx 7{,}28\).</p>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Kvadriranje obe strane</h3>
        <p>Kvadriramo obe strane jednačine:</p>
        <div class="math-block">
          \[\left(\sqrt{53 - x^2}\right)^2 = (9 - x)^2\]
        </div>
        <p>Leva strana se pojednostavljuje, a desnu razvijamo po formuli za kvadrat razlike:</p>
        <div class="math-block">
          \[53 - x^2 = 81 - 18x + x^2\]
        </div>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Sređivanje u standardni oblik</h3>
        <p>Prebacujemo sve na jednu stranu:</p>
        <div class="math-block">
          \[\begin{align}
            0 &= 81 - 18x + x^2 - 53 + x^2 \\[6pt]
            0 &= 2x^2 - 18x + 28
          \end{align}\]
        </div>
        <p>Delimo celom jednačinom sa 2:</p>
        <div class="math-block">
          \[x^2 - 9x + 14 = 0\]
        </div>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Koliki je diskriminant ove kvadratne jednačine?</summary>
      <div class="answer">
        \(D = (-9)^2 - 4 \cdot 1 \cdot 14 = 81 - 56 = 25\). Diskriminant je potpun kvadrat, što znači da su rešenja celi brojevi.
      </div>
    </details>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Rešavanje kvadratne jednačine</h3>
        <p>Izračunajmo diskriminant:</p>
        <div class="math-block">
          \[D = 81 - 4 \cdot 14 = 81 - 56 = 25\]
        </div>
        <p>Rešenja su:</p>
        <div class="math-block">
          \[x_{1,2} = \frac{9 \pm \sqrt{25}}{2} = \frac{9 \pm 5}{2}\]
        </div>
        <div class="math-block">
          \[x_1 = \frac{9 + 5}{2} = 7 \qquad x_2 = \frac{9 - 5}{2} = 2\]
        </div>
        <p class="note">Napomena: Ovo se moglo rešiti i rastavljanjem \(x^2 - 9x + 14 = (x-2)(x-7) = 0\).</p>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Provera rešenja u polaznoj jednačini</h3>
        <p>Kvadriranjem smo mogli dobiti lažna rešenja, pa moramo proveriti oba u polaznoj jednačini.</p>
        <p><strong>Za \(x = 2\):</strong></p>
        <div class="math-block">
          \[\sqrt{53 - 2^2} = \sqrt{53 - 4} = \sqrt{49} = 7 \qquad \text{i} \qquad 9 - 2 = 7 \quad \checkmark\]
        </div>
        <p><strong>Za \(x = 7\):</strong></p>
        <div class="math-block">
          \[\sqrt{53 - 7^2} = \sqrt{53 - 49} = \sqrt{4} = 2 \qquad \text{i} \qquad 9 - 7 = 2 \quad \checkmark\]
        </div>
        <p>Oba rešenja zadovoljavaju polaznu jednačinu.</p>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri sebe: Da li se zbir korena mogao naći i bez eksplicitnog rešavanja jednačine?</summary>
      <div class="answer">
        Da! Po Vijetovim formulama, za jednačinu \(x^2 - 9x + 14 = 0\) zbir korena je \(x_1 + x_2 = 9\). Ako su oba korena validna, zbir je odmah poznat.
      </div>
    </details>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-content">
        <h3>Izračunavanje zbira</h3>
        <p>Pošto su oba rešenja validna, zbir svih rešenja je:</p>
        <div class="math-block">
          \[x_1 + x_2 = 2 + 7 = 9\]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <h2>Ključni uvid</h2>
    <p>Po Vijetovim formulama, za jednačinu \(x^2 - 9x + 14 = 0\), zbir korena je odmah:</p>
    <div class="insight-formula">
      \[x_1 + x_2 = -\frac{-9}{1} = 9\]
    </div>
    <p style="color: #94a3b8;">Ipak, obavezna je provera da su oba korena validna u polaznoj iracionalnoj jednačini!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer">
    <h2>Konačan odgovor</h2>
    <div class="big-answer">\(x_1 + x_2 = 2 + 7 = 9\)</div>
    <div class="final-options">
      <div class="final-option correct">(A) 9</div>
      <div class="final-option">(B) &minus;6</div>
      <div class="final-option">(C) 8</div>
      <div class="final-option">(D) &minus;7</div>
    </div>
    <div class="verification">
      <strong>Verifikacija:</strong> Rešenja \(x = 2\) i \(x = 7\) oba pripadaju domenu \([-\sqrt{53}, \sqrt{53}]\) i daju tačne jednakosti pri zameni u polaznu jednačinu. Njihov zbir je \(2 + 7 = 9\), što se poklapa i sa Vijetovom formulom za dobijenu kvadratnu jednačinu.
    </div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfalls">
    <h2>Česte greške</h2>
    <ul>
      <li>Zaboraviti proveru rešenja u polaznoj jednačini. Kvadriranje može uneti lažna rešenja (tzv. „parazitna" rešenja) kod kojih bi desna strana \(9 - x\) mogla biti negativna, dok je koren uvek nenegativan.</li>
      <li>Pogrešno razviti \((9 - x)^2\) — čest propust je zaboraviti dupli proizvod ili promeniti znak. Ispravno je: \(81 - 18x + x^2\).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Izazov za dalje vežbanje</h2>
    <p>Koliki je zbir svih rešenja jednačine \(\sqrt{40 - x^2} = 8 - x\)?</p>
    <details>
      <summary>Prikaži nagoveštaj</summary>
      <div style="margin-top: 10px; color: #cbd5e1;">
        Postupi na isti način: kvadriraj, sredi kvadratnu jednačinu, pa proveri oba rešenja. Obrati pažnju na domen — ovog puta jedan od korena mogao bi biti lažan!
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('graph-canvas');
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system setup
  const originX = W / 2;
  const originY = H - 60;
  const scale = 35;

  function toCanvas(x, y) {
    return { x: originX + x * scale, y: originY - y * scale };
  }

  function fromCanvas(cx, cy) {
    return { x: (cx - originX) / scale, y: (originY - cy) / scale };
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let gx = -10; gx <= 10; gx++) {
      const p = toCanvas(gx, 0);
      ctx.beginPath();
      ctx.moveTo(p.x, 0);
      ctx.lineTo(p.x, H);
      ctx.stroke();
    }
    for (let gy = -2; gy <= 12; gy++) {
      const p = toCanvas(0, gy);
      ctx.beginPath();
      ctx.moveTo(0, p.y);
      ctx.lineTo(W, p.y);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    // X-axis
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(W, originY);
    ctx.stroke();
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, H);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (let gx = -9; gx <= 9; gx++) {
      if (gx === 0) continue;
      const p = toCanvas(gx, 0);
      ctx.fillText(gx.toString(), p.x, p.y + 16);
    }
    ctx.textAlign = 'right';
    for (let gy = 1; gy <= 11; gy++) {
      const p = toCanvas(0, gy);
      ctx.fillText(gy.toString(), p.x - 8, p.y + 4);
    }
    // Origin label
    ctx.textAlign = 'right';
    const o = toCanvas(0, 0);
    ctx.fillText('0', o.x - 8, o.y + 16);

    // Axis arrow labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x', W - 15, originY - 10);
    ctx.fillText('y', originX + 15, 18);

    // Draw y = sqrt(53 - x^2) (upper semicircle of radius sqrt(53))
    const r = Math.sqrt(53);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px <= W; px++) {
      const { x } = fromCanvas(px, 0);
      const val = 53 - x * x;
      if (val < 0) { first = true; continue; }
      const y = Math.sqrt(val);
      const p = toCanvas(x, y);
      if (first) { ctx.moveTo(p.x, p.y); first = false; }
      else { ctx.lineTo(p.x, p.y); }
    }
    ctx.stroke();

    // Draw y = 9 - x (line)
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    const lineStart = fromCanvas(0, 0);
    const lineEnd = fromCanvas(W, 0);
    const p1 = toCanvas(lineStart.x, 9 - lineStart.x);
    const p2 = toCanvas(lineEnd.x, 9 - lineEnd.x);
    ctx.moveTo(p1.x, p1.y);
    ctx.lineTo(p2.x, p2.y);
    ctx.stroke();

    // Intersection points
    const points = [
      { x: 2, y: 7 },
      { x: 7, y: 2 }
    ];

    points.forEach((pt, i) => {
      const p = toCanvas(pt.x, pt.y);

      // Glow
      const glow = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 18);
      glow.addColorStop(0, 'rgba(74, 222, 128, 0.4)');
      glow.addColorStop(1, 'rgba(74, 222, 128, 0)');
      ctx.fillStyle = glow;
      ctx.beginPath();
      ctx.arc(p.x, p.y, 18, 0, 2 * Math.PI);
      ctx.fill();

      // Point
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(p.x, p.y, 6, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(`(${pt.x}, ${pt.y})`, p.x + 12, p.y - 10);
    });

    // Dashed lines from intersection points to axes
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = 'rgba(74, 222, 128, 0.3)';
    ctx.lineWidth = 1;
    points.forEach(pt => {
      const p = toCanvas(pt.x, pt.y);
      const ax = toCanvas(pt.x, 0);
      const ay = toCanvas(0, pt.y);
      ctx.beginPath();
      ctx.moveTo(p.x, p.y);
      ctx.lineTo(ax.x, ax.y);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(p.x, p.y);
      ctx.lineTo(ay.x, ay.y);
      ctx.stroke();
    });
    ctx.setLineDash([]);

    // Legend
    const legendX = 20;
    const legendY = 20;
    ctx.fillStyle = 'rgba(15, 23, 42, 0.85)';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    const lw = 220;
    const lh = 85;
    ctx.beginPath();
    ctx.roundRect(legendX, legendY, lw, lh, 8);
    ctx.fill();
    ctx.stroke();

    // Legend items
    ctx.lineWidth = 3;
    // Blue curve
    ctx.strokeStyle = '#60a5fa';
    ctx.beginPath();
    ctx.moveTo(legendX + 12, legendY + 25);
    ctx.lineTo(legendX + 40, legendY + 25);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = \u221A(53 \u2212 x\u00B2)', legendX + 48, legendY + 29);

    // Purple line
    ctx.strokeStyle = '#a78bfa';
    ctx.beginPath();
    ctx.moveTo(legendX + 12, legendY + 50);
    ctx.lineTo(legendX + 40, legendY + 50);
    ctx.stroke();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('y = 9 \u2212 x', legendX + 48, legendY + 54);

    // Green dot
    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legendX + 26, legendY + 73, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#e2e8f0';
    ctx.fillText('Presečne tačke', legendX + 48, legendY + 77);
  }

  draw();

  // Step click highlighting
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', function() {
      steps.forEach(s => s.classList.remove('active'));
      this.classList.toggle('active');
    });
  });
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir rešenja iracionalne jednačine sa kvadratnim korenom",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["iracionalne jednačine", "kvadratne jednačine", "kvadriranje jednačine", "provera rešenja", "Vijetove formule"]
}
BRAINSPARK_META-->