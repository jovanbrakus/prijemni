<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eksponencijalna jednačina — Određivanje intervala rešenja</title>
<script>
MathJax = { tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] }, svg: { fontCache: 'global' } };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<script type="text/info" id="logic-scratchpad">
Problem: Rešenje jednačine 2^x + 2 * 2^(x+2) = 144 je u intervalu:
(A) (0, 2]   (B) (2, 4]   (C) (4, 6]   (D) (6, 8]

Korak 1: Raspisujemo 2^(x+2).
  2^(x+2) = 2^x * 2^2 = 4 * 2^x

Korak 2: Zamena u jednačinu.
  2^x + 2 * 4 * 2^x = 144
  2^x + 8 * 2^x = 144

Korak 3: Izlučivanje 2^x.
  2^x * (1 + 8) = 144
  9 * 2^x = 144

Korak 4: Delimo sa 9.
  2^x = 144 / 9
  2^x = 16

Korak 5: Rešavamo 2^x = 16.
  2^x = 2^4
  x = 4

Korak 6: Provera u kom intervalu je x = 4.
  (A) (0, 2] — ne, jer 4 > 2
  (B) (2, 4] — DA, jer 2 < 4 <= 4
  (C) (4, 6] — ne, jer 4 nije strogo veće od 4
  (D) (6, 8] — ne, jer 4 < 6

Tačan odgovor: (B) (2, 4]

Verifikacija: Zamena x = 4 u originalnu jednačinu:
  2^4 + 2 * 2^(4+2) = 16 + 2 * 2^6 = 16 + 2 * 64 = 16 + 128 = 144. Tačno!

Provera sa datim odgovorom: (B) (2, 4] — Poklapa se.
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
  max-width: 860px;
  margin: 0 auto;
}

h1 {
  text-align: center;
  font-size: 1.9rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 6px;
}

.subtitle {
  text-align: center;
  color: #94a3b8;
  font-size: 1.05rem;
  margin-bottom: 28px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 22px;
  margin-bottom: 22px;
}

.card-title {
  font-size: 1.2rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #60a5fa;
}

.problem-statement {
  border-left: 4px solid #a78bfa;
}

.problem-statement .card-title {
  color: #a78bfa;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.given-item {
  background: #0f172a;
  border: 1px solid #334155;
  border-radius: 8px;
  padding: 8px 16px;
  font-size: 1rem;
}

.given-item .label {
  font-size: 0.85rem;
  color: #94a3b8;
  margin-bottom: 2px;
}

.given-item .value {
  font-weight: 600;
  color: #e2e8f0;
}

.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}

.answer-option[data-option] {
  min-width: 90px;
  text-align: center;
}

.plan-text {
  color: #94a3b8;
  font-style: italic;
  font-size: 1.02rem;
}

details {
  margin: 15px 0;
}

summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 6px 0;
  user-select: none;
}

summary:hover {
  color: #93c5fd;
}

details .detail-content {
  padding: 12px 0 4px 10px;
  color: #cbd5e1;
}

.step {
  margin-bottom: 18px;
}

.step-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  border-radius: 50%;
  font-weight: 700;
  font-size: 0.95rem;
  color: #0f172a;
  margin-right: 10px;
  vertical-align: middle;
}

.step-title {
  font-weight: 700;
  font-size: 1.08rem;
  color: #e2e8f0;
  vertical-align: middle;
}

.step-body {
  margin-top: 8px;
  padding-left: 42px;
}

.checkpoint summary {
  color: #f472b6;
  font-size: 0.95rem;
}

.key-insight {
  border: 1px solid #a78bfa;
  background: rgba(167, 139, 250, 0.08);
  border-radius: 12px;
  padding: 18px 20px;
  margin-bottom: 22px;
}

.key-insight .card-title {
  color: #a78bfa;
}

.final-answer {
  border: 2px solid #4ade80;
  background: rgba(74, 222, 128, 0.06);
}

.final-answer .card-title {
  color: #4ade80;
  font-size: 1.3rem;
}

.answer-display {
  font-size: 1.6rem;
  text-align: center;
  color: #4ade80;
  font-weight: 700;
  margin: 16px 0;
}

.options-final {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin: 16px 0;
}

.option-box {
  background: #0f172a;
  border: 2px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1.05rem;
  text-align: center;
  min-width: 90px;
}

.option-box.correct {
  border-color: #4ade80;
  background: rgba(74, 222, 128, 0.12);
  color: #4ade80;
  font-weight: 700;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 6px 0 6px 24px;
  position: relative;
  color: #e09468;
}

.pitfall-list li::before {
  content: '\26A0';
  position: absolute;
  left: 0;
}

.canvas-container {
  display: flex;
  justify-content: center;
  margin: 10px 0;
}

canvas {
  border-radius: 10px;
  background: #0f172a;
  border: 1px solid #334155;
  touch-action: none;
  max-width: 100%;
}

.slider-container {
  margin: 16px 0;
  text-align: center;
}

.slider-container input[type="range"] {
  width: 80%;
  max-width: 400px;
  accent-color: #60a5fa;
  cursor: pointer;
}

.slider-label {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-bottom: 6px;
}

.slider-value {
  color: #60a5fa;
  font-weight: 700;
  font-size: 1.1rem;
}

.verification {
  background: #0f172a;
  border-radius: 8px;
  padding: 14px;
  margin-top: 10px;
  color: #94a3b8;
  font-size: 0.97rem;
}

@media (max-width: 700px) {
  body { padding: 12px; }
  h1 { font-size: 1.4rem; }
  .card { padding: 16px; }
  .step-body { padding-left: 20px; }
  .given-grid { gap: 6px; }
  .given-item { padding: 6px 12px; font-size: 0.92rem; }
}
</style>
</head>
<body>

<h1>Eksponencijalna jednačina</h1>
<p class="subtitle">Algebra — eksponencijalne jednačine i svojstva stepena</p>

<!-- Problem Statement -->
<div class="card problem-statement">
  <div class="card-title">Tekst zadatka</div>
  <p>Rešenje jednačine</p>
  \[2^x + 2 \cdot 2^{x+2} = 144\]
  <p>je u intervalu:</p>
  <div class="given-grid">
    <div class="given-item answer-option" data-option="A">
      <div class="label">(A)</div>
      <div class="value">\((0,\; 2]\)</div>
    </div>
    <div class="given-item answer-option" data-option="B">
      <div class="label">(B)</div>
      <div class="value">\((2,\; 4]\)</div>
    </div>
    <div class="given-item answer-option" data-option="C">
      <div class="label">(C)</div>
      <div class="value">\((4,\; 6]\)</div>
    </div>
    <div class="given-item answer-option" data-option="D">
      <div class="label">(D)</div>
      <div class="value">\((6,\; 8]\)</div>
    </div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title">Plan rešavanja</div>
  <p class="plan-text">Koristićemo pravila za stepenovanje da sve članove svedemo na isti osnov \(2^x\), zatim izlučimo zajednički faktor i rešimo jednostavnu eksponencijalnu jednačinu. Na kraju proveravamo u kom od ponuđenih intervala se nalazi rešenje.</p>
</div>

<!-- Theory Refresher -->
<div class="card">
  <div class="card-title">Teorijska osnova</div>
  <details>
    <summary>Pravila za stepenovanje</summary>
    <div class="detail-content">
      <ul style="margin: 8px 0 8px 20px;">
        <li><strong>Množenje stepena istog osnova:</strong> \(a^m \cdot a^n = a^{m+n}\)</li>
        <li><strong>Stepen stepena:</strong> \((a^m)^n = a^{m \cdot n}\)</li>
        <li><strong>Razdvajanje eksponenta:</strong> \(a^{m+n} = a^m \cdot a^n\) — ovo je ključno pravilo za ovaj zadatak</li>
      </ul>
      <p>Na primer: \(2^{x+2} = 2^x \cdot 2^2 = 4 \cdot 2^x\).</p>
    </div>
  </details>
  <details>
    <summary>Rešavanje eksponencijalnih jednačina</summary>
    <div class="detail-content">
      <p>Ako je \(a^x = a^k\) i \(a > 0, a \neq 1\), tada je \(x = k\).</p>
      <p>Opšta strategija: sve članove jednačine svedemo na isti osnov, a zatim izjednačimo eksponente.</p>
      <p>Na primer: \(2^x = 16 = 2^4 \implies x = 4\).</p>
    </div>
  </details>
</div>

<!-- Visual Aid: Canvas -->
<div class="card">
  <div class="card-title">Grafički prikaz funkcije \(f(x) = 9 \cdot 2^x\)</div>
  <p style="color:#94a3b8; margin-bottom:8px;">Pomeri klizač da istražiš kako se menja vrednost \(9 \cdot 2^x\) i nađi gde preseca \(y = 144\).</p>
  <div class="canvas-container">
    <canvas id="mainCanvas" width="700" height="420"></canvas>
  </div>
  <div class="slider-container">
    <div class="slider-label">Vrednost \(x\):</div>
    <input type="range" id="xSlider" min="-10" max="60" value="40">
    <div><span class="slider-value" id="sliderDisplay">x = 4 &#8594; f(x) = 144</span></div>
  </div>
</div>

<!-- Step-by-step Solution -->
<div class="card">
  <div class="card-title">Rešenje korak po korak</div>

  <!-- Step 1 -->
  <div class="step">
    <span class="step-badge">1</span>
    <span class="step-title">Raspisujemo \(2^{x+2}\) koristeći pravilo za stepenovanje</span>
    <div class="step-body">
      <p>Primenjujemo pravilo \(a^{m+n} = a^m \cdot a^n\) na član \(2^{x+2}\):</p>
      \[2^{x+2} = 2^x \cdot 2^2 = 4 \cdot 2^x\]
      <p>Ovo nam omogućava da celu jednačinu izrazimo pomoću \(2^x\).</p>
    </div>
  </div>

  <!-- Step 2 -->
  <div class="step">
    <span class="step-badge">2</span>
    <span class="step-title">Zamenjujemo u jednačinu</span>
    <div class="step-body">
      <p>Ubacujemo \(2^{x+2} = 4 \cdot 2^x\) u polaznu jednačinu:</p>
      \[2^x + 2 \cdot 4 \cdot 2^x = 144\]
      <p>Množimo koeficijente ispred drugog sabirka:</p>
      \[2^x + 8 \cdot 2^x = 144\]
    </div>
  </div>

  <!-- Step 3 -->
  <div class="step">
    <span class="step-badge">3</span>
    <span class="step-title">Izlučujemo zajednički faktor \(2^x\)</span>
    <div class="step-body">
      <p>Oba sabirka na levoj strani sadrže \(2^x\), pa ga izlučujemo:</p>
      \[2^x \cdot (1 + 8) = 144\]
      \[9 \cdot 2^x = 144\]

      <details class="checkpoint">
        <summary>Proveri se: Koliko je \(1 + 8\)?</summary>
        <div class="detail-content">
          <p>Iz prvog sabirka \(2^x\) imamo koeficijent \(1\), a iz drugog sabirka \(8 \cdot 2^x\) imamo koeficijent \(8\). Zbir je \(1 + 8 = 9\).</p>
        </div>
      </details>
    </div>
  </div>

  <!-- Step 4 -->
  <div class="step">
    <span class="step-badge">4</span>
    <span class="step-title">Delimo obe strane sa 9</span>
    <div class="step-body">
      <p>Da bismo izolovali \(2^x\), delimo jednačinu sa 9:</p>
      \[2^x = \frac{144}{9}\]
      \[2^x = 16\]
    </div>
  </div>

  <!-- Step 5 -->
  <div class="step">
    <span class="step-badge">5</span>
    <span class="step-title">Rešavamo eksponencijalnu jednačinu \(2^x = 16\)</span>
    <div class="step-body">
      <p>Zapisujemo 16 kao stepen dvojke:</p>
      \[16 = 2^4\]
      <p>Dakle jednačina postaje:</p>
      \[2^x = 2^4\]
      <p>Pošto su osnove jednake (\(a = 2 > 0,\; a \neq 1\)), izjednačavamo eksponente:</p>
      \[x = 4\]

      <details class="checkpoint">
        <summary>Proveri se: Koliko je \(2^4\)?</summary>
        <div class="detail-content">
          <p>\(2^4 = 2 \cdot 2 \cdot 2 \cdot 2 = 16\). Tačno!</p>
        </div>
      </details>
    </div>
  </div>

  <!-- Step 6 -->
  <div class="step">
    <span class="step-badge">6</span>
    <span class="step-title">Određujemo interval kome pripada \(x = 4\)</span>
    <div class="step-body">
      <p>Dobili smo \(x = 4\). Proverimo svaki ponuđeni interval:</p>
      <ul style="margin: 8px 0 8px 20px; color: #cbd5e1;">
        <li>\((0,\; 2]\) znači \(0 < x \leq 2\). Pošto je \(4 > 2\), rešenje <strong>nije</strong> u ovom intervalu.</li>
        <li>\((2,\; 4]\) znači \(2 < x \leq 4\). Pošto je \(2 < 4 \leq 4\), rešenje <strong>jeste</strong> u ovom intervalu.</li>
        <li>\((4,\; 6]\) znači \(4 < x \leq 6\). Pošto \(4\) nije strogo veće od \(4\), rešenje <strong>nije</strong> u ovom intervalu.</li>
        <li>\((6,\; 8]\) znači \(6 < x \leq 8\). Pošto je \(4 < 6\), rešenje <strong>nije</strong> u ovom intervalu.</li>
      </ul>
      <p>Ključna razlika između odgovora (B) i (C): interval \((2, 4]\) <strong>uključuje</strong> broj 4 (zatvorena zagrada], dok interval \((4, 6]\) <strong>ne uključuje</strong> 4 sa leve strane (otvorena zagrada).</p>

      <details class="checkpoint">
        <summary>Proveri se: Da li 4 pripada intervalu \((4, 6]\)?</summary>
        <div class="detail-content">
          <p>Ne! Interval \((4, 6]\) sadrži brojeve koji su <strong>strogo veći</strong> od 4 i manji ili jednaki 6. Broj 4 ne pripada jer je okrugla zagrada "(" na levom kraju, što označava strogo nejednakost.</p>
        </div>
      </details>
    </div>
  </div>
</div>

<!-- Key Insight -->
<div class="key-insight">
  <div class="card-title">Ključni uvid</div>
  <p>Celokupan trik u ovom zadatku je prepoznati da se \(2^{x+2}\) može rastaviti kao \(4 \cdot 2^x\) koristeći pravilo \(a^{m+n} = a^m \cdot a^n\). Kada se to uradi, jednačina se svodi na jednostavnu formu \(9 \cdot 2^x = 144\), odakle direktno sledi \(2^x = 16 = 2^4\), tj. \(x = 4\).</p>
</div>

<!-- Final Answer -->
<div class="card final-answer">
  <div class="card-title">Konačan odgovor</div>
  <div class="answer-display">\(x = 4 \in (2,\; 4]\)</div>
  <div class="options-final">
    <div class="option-box">(A) \((0,\; 2]\)</div>
    <div class="option-box correct">(B) \((2,\; 4]\)</div>
    <div class="option-box">(C) \((4,\; 6]\)</div>
    <div class="option-box">(D) \((6,\; 8]\)</div>
  </div>
  <p style="text-align:center; color:#4ade80; font-weight:600;">Tačan odgovor je (B)</p>
  <div class="verification">
    <strong>Verifikacija:</strong> Zamenjujemo \(x = 4\) u polaznu jednačinu:
    \(2^4 + 2 \cdot 2^{4+2} = 16 + 2 \cdot 2^6 = 16 + 2 \cdot 64 = 16 + 128 = 144\). Jednakost važi, rešenje je tačno.
    Broj 4 pripada intervalu \((2, 4]\) jer važi \(2 < 4 \leq 4\).
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title">Česte greške</div>
  <ul class="pitfall-list">
    <li>Pogrešno raspisivanje: pisati \(2^{x+2} = 2^x + 2^2\) umesto \(2^{x+2} = 2^x \cdot 2^2\). Stepenovanje se raspisuje množenjem, ne sabiranjem!</li>
    <li>Mešanje otvorenih i zatvorenih intervala: interval \((4, 6]\) ne sadrži broj 4, dok \((2, 4]\) sadrži broj 4. Obratiti pažnju na zagrade!</li>
  </ul>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="card-title">Dodatni izazov</div>
  <details>
    <summary>Reši jednačinu: \(3^{x+1} + 3^{x-1} = 90\)</summary>
    <div class="detail-content">
      <p><strong>Savet:</strong> Raspiši \(3^{x+1} = 3 \cdot 3^x\) i \(3^{x-1} = \frac{3^x}{3}\). Izluči \(3^x\) kao zajednički faktor.</p>
      <p>Trebalo bi da dobiješ \(3^x \cdot \left(3 + \frac{1}{3}\right) = 90\), tj. \(3^x \cdot \frac{10}{3} = 90\), odakle \(3^x = 27 = 3^3\), pa \(x = 3\).</p>
    </div>
  </details>
</div>

<script>
(() => {
  const canvas = document.getElementById('mainCanvas');
  const ctx = canvas.getContext('2d');
  const slider = document.getElementById('xSlider');
  const display = document.getElementById('sliderDisplay');

  let currentX = 4;

  const margin = { left: 70, right: 30, top: 30, bottom: 50 };
  const plotW = canvas.width - margin.left - margin.right;
  const plotH = canvas.height - margin.top - margin.bottom;

  const xMin = -1, xMax = 6;
  const yMin = -20, yMax = 300;

  function toCanvasX(x) { return margin.left + (x - xMin) / (xMax - xMin) * plotW; }
  function toCanvasY(y) { return margin.top + (1 - (y - yMin) / (yMax - yMin)) * plotH; }
  function fromCanvasX(cx) { return xMin + (cx - margin.left) / plotW * (xMax - xMin); }

  function f(x) { return 9 * Math.pow(2, x); }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (var gx = -1; gx <= 6; gx += 1) {
      var cx = toCanvasX(gx);
      ctx.beginPath(); ctx.moveTo(cx, margin.top); ctx.lineTo(cx, canvas.height - margin.bottom); ctx.stroke();
    }
    for (var gy = 0; gy <= 300; gy += 50) {
      var cy = toCanvasY(gy);
      ctx.beginPath(); ctx.moveTo(margin.left, cy); ctx.lineTo(canvas.width - margin.right, cy); ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    var yAxisPos = toCanvasY(0);
    ctx.beginPath(); ctx.moveTo(margin.left, yAxisPos); ctx.lineTo(canvas.width - margin.right, yAxisPos); ctx.stroke();
    var xAxisPos = toCanvasX(0);
    ctx.beginPath(); ctx.moveTo(xAxisPos, margin.top); ctx.lineTo(xAxisPos, canvas.height - margin.bottom); ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (var gx2 = -1; gx2 <= 6; gx2 += 1) {
      if (Math.abs(gx2) < 0.01) continue;
      ctx.fillText(gx2.toString(), toCanvasX(gx2), yAxisPos + 18);
    }
    ctx.textAlign = 'right';
    for (var gy2 = 0; gy2 <= 300; gy2 += 50) {
      if (gy2 === 0) continue;
      ctx.fillText(gy2.toString(), xAxisPos - 8, toCanvasY(gy2) + 4);
    }

    // Horizontal dashed line y = 144
    ctx.setLineDash([6, 4]);
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = '#f472b6';
    ctx.beginPath();
    ctx.moveTo(margin.left, toCanvasY(144));
    ctx.lineTo(canvas.width - margin.right, toCanvasY(144));
    ctx.stroke();
    ctx.setLineDash([]);

    // Label y = 144
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('y = 144', canvas.width - margin.right - 60, toCanvasY(144) - 8);

    // Draw the function f(x) = 9 * 2^x
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 3;
    ctx.beginPath();
    var started = false;
    for (var px = margin.left; px <= canvas.width - margin.right; px += 1) {
      var xVal = fromCanvasX(px);
      var yVal = f(xVal);
      if (yVal < yMin - 10 || yVal > yMax + 10) { started = false; continue; }
      var cyVal = toCanvasY(yVal);
      if (cyVal < margin.top - 5 || cyVal > canvas.height - margin.bottom + 5) { started = false; continue; }
      if (!started) { ctx.moveTo(px, cyVal); started = true; }
      else { ctx.lineTo(px, cyVal); }
    }
    ctx.stroke();

    // Function label
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('f(x) = 9 \u00B7 2\u02E3', toCanvasX(4.2), toCanvasY(250));

    // Mark solution point (4, 144)
    var solCx = toCanvasX(4);
    var solCy = toCanvasY(144);
    ctx.beginPath();
    ctx.arc(solCx, solCy, 7, 0, 2 * Math.PI);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.strokeStyle = '#fff';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Dashed lines from solution point to axes
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(solCx, solCy);
    ctx.lineTo(solCx, yAxisPos);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(solCx, solCy);
    ctx.lineTo(xAxisPos, solCy);
    ctx.stroke();
    ctx.setLineDash([]);

    // Label solution point
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('(4, 144)', solCx + 10, solCy - 10);

    // Highlight interval (2, 4] on x-axis
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 5;
    ctx.beginPath();
    ctx.moveTo(toCanvasX(2), yAxisPos);
    ctx.lineTo(toCanvasX(4), yAxisPos);
    ctx.stroke();

    // Open circle at x = 2 (not included)
    ctx.beginPath();
    ctx.arc(toCanvasX(2), yAxisPos, 5, 0, 2 * Math.PI);
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.stroke();
    ctx.fillStyle = '#0f172a';
    ctx.fill();

    // Closed circle at x = 4 (included)
    ctx.beginPath();
    ctx.arc(toCanvasX(4), yAxisPos, 5, 0, 2 * Math.PI);
    ctx.fillStyle = '#a78bfa';
    ctx.fill();
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Interval label
    ctx.fillStyle = '#a78bfa';
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('(2, 4]', toCanvasX(3), yAxisPos + 28);

    // Current x marker from slider
    if (currentX >= xMin && currentX <= xMax) {
      var cxM = toCanvasX(currentX);
      var fVal = f(currentX);
      var cyM = toCanvasY(fVal);

      if (cyM >= margin.top && cyM <= canvas.height - margin.bottom) {
        // Vertical line from x-axis to curve
        ctx.setLineDash([3, 3]);
        ctx.strokeStyle = '#e2e8f0';
        ctx.lineWidth = 1.5;
        ctx.beginPath();
        ctx.moveTo(cxM, yAxisPos);
        ctx.lineTo(cxM, cyM);
        ctx.stroke();
        ctx.setLineDash([]);

        // Horizontal line from curve to y-axis
        ctx.setLineDash([3, 3]);
        ctx.strokeStyle = '#e2e8f0';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(cxM, cyM);
        ctx.lineTo(xAxisPos, cyM);
        ctx.stroke();
        ctx.setLineDash([]);

        // Point on curve
        var isExact = Math.abs(currentX - 4) < 0.05;
        var ptColor = isExact ? '#4ade80' : '#60a5fa';
        ctx.beginPath();
        ctx.arc(cxM, cyM, 6, 0, 2 * Math.PI);
        ctx.fillStyle = ptColor;
        ctx.fill();
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 1.5;
        ctx.stroke();

        // Value label near point
        if (!isExact) {
          ctx.fillStyle = '#e2e8f0';
          ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
          ctx.textAlign = 'left';
          var labelX = cxM + 10;
          var labelY = cyM - 10;
          if (labelX > canvas.width - 130) labelX = cxM - 120;
          if (labelY < margin.top + 15) labelY = cyM + 20;
          var fStr = fVal.toFixed(1).replace('.', ',');
          var xStr = currentX.toFixed(1).replace('.', ',');
          ctx.fillText('f(' + xStr + ') = ' + fStr, labelX, labelY);
        }
      }
    }

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Grafik f(x) = 9 \u00B7 2\u02E3 i prava y = 144', canvas.width / 2, 18);
  }

  function updateSlider() {
    currentX = parseInt(slider.value) / 10;
    var fVal = f(currentX);
    var fStr = fVal.toFixed(1).replace('.', ',');
    var xStr = currentX.toFixed(1).replace('.', ',');
    display.textContent = 'x = ' + xStr + '  \u2192  f(x) = ' + fStr;
    draw();
  }

  slider.addEventListener('input', updateSlider);

  // Touch support for canvas
  function handleCanvasInteraction(clientX) {
    var rect = canvas.getBoundingClientRect();
    var mx = (clientX - rect.left) * (canvas.width / rect.width);
    var xVal = fromCanvasX(mx);
    if (xVal >= xMin && xVal <= xMax) {
      currentX = xVal;
      slider.value = Math.round(currentX * 10);
      var fVal = f(currentX);
      var fStr = fVal.toFixed(1).replace('.', ',');
      var xStr = currentX.toFixed(1).replace('.', ',');
      display.textContent = 'x = ' + xStr + '  \u2192  f(x) = ' + fStr;
      draw();
    }
  }

  canvas.addEventListener('click', function(e) {
    handleCanvasInteraction(e.clientX);
  });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    if (e.touches.length > 0) {
      handleCanvasInteraction(e.touches[0].clientX);
    }
  });

  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (e.touches.length > 0) {
      handleCanvasInteraction(e.touches[0].clientX);
    }
  });

  // Initial draw
  updateSlider();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Eksponencijalna jednačina — određivanje intervala rešenja","subject":"math","unit":"algebra","topic_tags":["eksponencijalna jednačina","stepenovanje","intervali","svojstva stepena"]}
BRAINSPARK_META-->