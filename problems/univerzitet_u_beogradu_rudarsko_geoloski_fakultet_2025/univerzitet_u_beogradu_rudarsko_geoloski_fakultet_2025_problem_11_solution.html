<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trigonometrijski identitet - razlika sinusa i dupli ugao</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Simplify (sin 3a - sin a) / cos 2a

  Step 1: Apply sum-to-product formula for sin 3a - sin a
    sin A - sin B = 2 cos((A+B)/2) sin((A-B)/2)
    Here A = 3a, B = a
    sin 3a - sin a = 2 cos((3a+a)/2) sin((3a-a)/2)
                   = 2 cos(2a) sin(a)

  Step 2: Substitute into the expression
    (sin 3a - sin a) / cos 2a = 2 cos(2a) sin(a) / cos 2a

  Step 3: Cancel cos 2a (assuming cos 2a != 0)
    = 2 sin a

  Answer: D) 2sin a

  Verification with specific value a = pi/6 (30 degrees):
    sin 3a = sin(pi/2) = 1
    sin a = sin(pi/6) = 0.5
    cos 2a = cos(pi/3) = 0.5
    LHS = (1 - 0.5) / 0.5 = 0.5 / 0.5 = 1
    RHS = 2 sin(pi/6) = 2 * 0.5 = 1  CHECK

  Verification with a = pi/4 (45 degrees):
    sin 3a = sin(3pi/4) = sqrt(2)/2
    sin a = sin(pi/4) = sqrt(2)/2
    cos 2a = cos(pi/2) = 0  -- undefined, domain restriction
    RHS = 2 sin(pi/4) = sqrt(2)
    This confirms cos 2a != 0 is required.

  Verification with a = pi/3 (60 degrees):
    sin 3a = sin(pi) = 0
    sin a = sin(pi/3) = sqrt(3)/2
    cos 2a = cos(2pi/3) = -1/2
    LHS = (0 - sqrt(3)/2) / (-1/2) = (-sqrt(3)/2) * (-2) = sqrt(3)
    RHS = 2 sin(pi/3) = 2 * sqrt(3)/2 = sqrt(3)  CHECK

  Alternative approach using sin 3a expansion:
    sin 3a = 3 sin a - 4 sin^3 a
    sin 3a - sin a = 3 sin a - 4 sin^3 a - sin a = 2 sin a - 4 sin^3 a
                   = 2 sin a (1 - 2 sin^2 a)
    cos 2a = 1 - 2 sin^2 a
    So (sin 3a - sin a)/cos 2a = 2 sin a (1 - 2 sin^2 a) / (1 - 2 sin^2 a) = 2 sin a  CHECK
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option[data-option="D"] {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Trigonometrijski identitet sa razlikom sinusa</h1>
  <p class="subtitle">Trigonometrija ‚Äî transformacije zbira/razlike u proizvod</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Izraz \( \dfrac{\sin 3\alpha - \sin \alpha}{\cos 2\alpha} \) identicki je jednak izrazu:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">A) \( \sin \alpha \)</div>
        <div class="given-item answer-option" data-option="B">B) \( \cos \alpha \)</div>
        <div class="given-item answer-option" data-option="C">C) \( 2\cos \alpha \)</div>
        <div class="given-item answer-option" data-option="D">D) \( 2\sin \alpha \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      U brojiocu imamo razliku sinusa dva razlicita ugla. Iskoristicemo formulu za transformaciju razlike sinusa u proizvod: \( \sin A - \sin B = 2\cos\frac{A+B}{2}\sin\frac{A-B}{2} \). Ovo ce nam omoguciti da skratimo \( \cos 2\alpha \) iz brojioca i imenioca.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Formule za transformaciju zbira/razlike u proizvod (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Cetiri kljucne formule za pretvaranje zbira ili razlike trigonometrijskih funkcija u proizvod:</p>
        <div class="step-math">
          \[ \sin A + \sin B = 2\sin\frac{A+B}{2}\cos\frac{A-B}{2} \]
        </div>
        <div class="step-math">
          \[ \sin A - \sin B = 2\cos\frac{A+B}{2}\sin\frac{A-B}{2} \]
        </div>
        <div class="step-math">
          \[ \cos A + \cos B = 2\cos\frac{A+B}{2}\cos\frac{A-B}{2} \]
        </div>
        <div class="step-math">
          \[ \cos A - \cos B = -2\sin\frac{A+B}{2}\sin\frac{A-B}{2} \]
        </div>
        <p style="margin-top: 12px;">U ovom zadatku koristimo drugu formulu, gde je \( A = 3\alpha \) i \( B = \alpha \).</p>
        <p style="margin-top: 8px;">Takodje, korisno je znati formule za dupli ugao:</p>
        <div class="step-math">
          \[ \cos 2\alpha = \cos^2\alpha - \sin^2\alpha = 1 - 2\sin^2\alpha = 2\cos^2\alpha - 1 \]
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">Jedinicna kruznica: uglovi \( \alpha \), \( 2\alpha \), \( 3\alpha \) i odgovarajuce vrednosti sinusa. Prevuci klizac da menjas ugao \( \alpha \).</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Prepoznajmo strukturu brojioca</div>
        <p>U brojiocu imamo \( \sin 3\alpha - \sin \alpha \), sto je razlika sinusa dva ugla. Za ovo postoji gotova formula za pretvaranje u proizvod:</p>
        <div class="step-math">
          \[ \sin A - \sin B = 2\cos\frac{A+B}{2}\sin\frac{A-B}{2} \]
        </div>
        <p>Ovde je \( A = 3\alpha \) i \( B = \alpha \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo poluzbirove uglova</div>
        <p>Potrebni su nam poluzbir i polurazlika uglova \( A \) i \( B \):</p>
        <div class="step-math">
          \[ \frac{A + B}{2} = \frac{3\alpha + \alpha}{2} = \frac{4\alpha}{2} = 2\alpha \]
        </div>
        <div class="step-math">
          \[ \frac{A - B}{2} = \frac{3\alpha - \alpha}{2} = \frac{2\alpha}{2} = \alpha \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je poluzbir bas 2alpha?</summary>
            <div class="detail-content">
              Zato sto sabiramo \( 3\alpha + \alpha = 4\alpha \), pa delimo sa 2 i dobijamo \( 2\alpha \). Primetite da se bas ovaj ugao pojavljuje u imeniocu naseg izraza ‚Äî sto je odlican znak da ce doci do skracivanja!
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Primenimo formulu na brojilac</div>
        <p>Uvrstimo izracunate vrednosti u formulu:</p>
        <div class="step-math">
          \[ \sin 3\alpha - \sin \alpha = 2\cos 2\alpha \cdot \sin \alpha \]
        </div>
        <p>Brojilac je sada zapisan kao proizvod tri faktora: \( 2 \), \( \cos 2\alpha \) i \( \sin \alpha \).</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Da li je transformacija korektna?</summary>
            <div class="detail-content">
              <p>Proverimo za \( \alpha = 30¬∞ \):</p>
              <p>Leva strana: \( \sin 90¬∞ - \sin 30¬∞ = 1 - 0{,}5 = 0{,}5 \)</p>
              <p>Desna strana: \( 2\cos 60¬∞ \cdot \sin 30¬∞ = 2 \cdot 0{,}5 \cdot 0{,}5 = 0{,}5 \) ‚úì</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Uvrstimo u polazni razlomak i skratimo</div>
        <p>Zamenimo brojilac transformisanim izrazom:</p>
        <div class="step-math">
          \[ \frac{\sin 3\alpha - \sin \alpha}{\cos 2\alpha} = \frac{2\cos 2\alpha \cdot \sin \alpha}{\cos 2\alpha} \]
        </div>
        <p>Sada mozemo da skratimo \( \cos 2\alpha \) iz brojioca i imenioca (pod uslovom da \( \cos 2\alpha \neq 0 \)):</p>
        <div class="step-math">
          \[ = \frac{2 \cancel{\cos 2\alpha} \cdot \sin \alpha}{\cancel{\cos 2\alpha}} = 2\sin \alpha \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Kada je cos 2alpha = 0?</summary>
            <div class="detail-content">
              <p>\( \cos 2\alpha = 0 \) kada je \( 2\alpha = \frac{\pi}{2} + k\pi \), tj. \( \alpha = \frac{\pi}{4} + \frac{k\pi}{2} \) za \( k \in \mathbb{Z} \).</p>
              <p>Za te vrednosti ugla, polazni izraz nije definisan (delimo nulom). Identitet \( \frac{\sin 3\alpha - \sin \alpha}{\cos 2\alpha} = 2\sin\alpha \) vazi za sve ostale vrednosti \( \alpha \).</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Verifikacija za konkretnu vrednost</div>
        <p>Proverimo rezultat za \( \alpha = 60¬∞ \):</p>
        <div class="step-math">
          \[ \text{Leva strana: } \frac{\sin 180¬∞ - \sin 60¬∞}{\cos 120¬∞} = \frac{0 - \frac{\sqrt{3}}{2}}{-\frac{1}{2}} = \frac{-\frac{\sqrt{3}}{2}}{-\frac{1}{2}} = \sqrt{3} \]
        </div>
        <div class="step-math">
          \[ \text{Desna strana: } 2\sin 60¬∞ = 2 \cdot \frac{\sqrt{3}}{2} = \sqrt{3} \quad \checkmark \]
        </div>
        <p>Obe strane su jednake, sto potvrdjuje nas rezultat.</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Kad god u razlomku vidis razliku (ili zbir) sinusa ili kosinusa u brojiocu, a trigonometrijsku funkciju u imeniocu, pomisli na <strong>formule za pretvaranje zbira/razlike u proizvod</strong>. Cilj je da u brojiocu ‚Äûstvoris" faktor koji se poklapa sa imeniocem, pa da ih skratis. Ovde se \( \cos 2\alpha \) prirodno pojavio u brojiocu jer je poluzbir uglova \( 3\alpha \) i \( \alpha \) upravo \( 2\alpha \) ‚Äî i to nije slucajnost, vec namerno konstruisan zadatak!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( \dfrac{\sin 3\alpha - \sin \alpha}{\cos 2\alpha} = 2\sin \alpha \)</div>
    <div class="answer-option">Tacan odgovor je D) \( 2\sin \alpha \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Mesanje formula za zbir i razliku:</strong> Kod razlike sinusa formula daje \( 2\cos(\ldots)\sin(\ldots) \), dok kod zbira sinusa daje \( 2\sin(\ldots)\cos(\ldots) \). Redosled kosinusa i sinusa je razlicit! Kod razlike, veci argument (poluzbir) ide u kosinus.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zamena brojioca i imenioca u polurazlici:</strong> Polurazlika je \( \frac{A-B}{2} \), gde je \( A \) ugao iz prvog sinusa, a \( B \) iz drugog. Ako zamenite redosled, dobicete suprotan znak rezultata.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Pokusaj razvijanja sin 3alpha preko trigonometrijskih identiteta:</strong> Moze se resiti i tako (sin 3alpha = 3sin alpha - 4sin^3 alpha), ali je to daleko komplikovaniji put. Formule za pretvaranje u proizvod su direktniji pristup.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Pojednostavi slican izraz: \( \dfrac{\sin 5\alpha + \sin 3\alpha}{\cos 5\alpha + \cos 3\alpha} \). Koji poznati trigonometrijski izraz dobijes?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Primenimo formule za zbir sinusa i zbir kosinusa:</p>
        <p>\( \sin 5\alpha + \sin 3\alpha = 2\sin\frac{5\alpha+3\alpha}{2}\cos\frac{5\alpha-3\alpha}{2} = 2\sin 4\alpha \cos\alpha \)</p>
        <p style="margin-top: 6px;">\( \cos 5\alpha + \cos 3\alpha = 2\cos\frac{5\alpha+3\alpha}{2}\cos\frac{5\alpha-3\alpha}{2} = 2\cos 4\alpha \cos\alpha \)</p>
        <p style="margin-top: 6px;">\( \dfrac{2\sin 4\alpha \cos\alpha}{2\cos 4\alpha \cos\alpha} = \dfrac{\sin 4\alpha}{\cos 4\alpha} = \tan 4\alpha \)</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let alpha = Math.PI / 5;
  let isDragging = false;

  const cx = 210;
  const cy = 210;
  const R = 160;
  const sliderX = 440;
  const sliderY = 60;
  const sliderW = 220;
  const sliderH = 20;

  function alphaToSlider(a) {
    return sliderX + ((a - 0.05) / (Math.PI / 2 - 0.05)) * sliderW;
  }

  function sliderToAlpha(x) {
    var t = (x - sliderX) / sliderW;
    t = Math.max(0, Math.min(1, t));
    return 0.05 + t * (Math.PI / 2 - 0.05);
  }

  function drawArrow(fromX, fromY, toX, toY, color) {
    var headLen = 8;
    var angle = Math.atan2(toY - fromY, toX - fromX);
    ctx.strokeStyle = color;
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(fromX, fromY);
    ctx.lineTo(toX, toY);
    ctx.stroke();
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.moveTo(toX, toY);
    ctx.lineTo(toX - headLen * Math.cos(angle - 0.4), toY - headLen * Math.sin(angle - 0.4));
    ctx.lineTo(toX - headLen * Math.cos(angle + 0.4), toY - headLen * Math.sin(angle + 0.4));
    ctx.closePath();
    ctx.fill();
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Unit circle
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, 2 * Math.PI);
    ctx.stroke();

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(cx - R - 20, cy);
    ctx.lineTo(cx + R + 20, cy);
    ctx.moveTo(cx, cy - R - 20);
    ctx.lineTo(cx, cy + R + 20);
    ctx.stroke();

    // Angles
    var angles = [
      { val: alpha, label: 'alpha', color: '#60a5fa' },
      { val: 2 * alpha, label: '2alpha', color: '#a78bfa' },
      { val: 3 * alpha, label: '3alpha', color: '#f472b6' }
    ];

    // Draw angle arcs
    for (var i = 0; i < angles.length; i++) {
      var a = angles[i];
      ctx.strokeStyle = a.color;
      ctx.lineWidth = 2;
      ctx.globalAlpha = 0.5;
      ctx.beginPath();
      ctx.arc(cx, cy, 30 + i * 15, 0, -a.val, true);
      ctx.stroke();
      ctx.globalAlpha = 1.0;
    }

    // Draw radii and points
    for (var i = 0; i < angles.length; i++) {
      var a = angles[i];
      var px = cx + R * Math.cos(-a.val);
      var py = cy + R * Math.sin(-a.val);

      // Radius
      ctx.strokeStyle = a.color;
      ctx.lineWidth = 1.5;
      ctx.globalAlpha = 0.6;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(px, py);
      ctx.stroke();
      ctx.globalAlpha = 1.0;

      // Point
      ctx.fillStyle = a.color;
      ctx.beginPath();
      ctx.arc(px, py, 5, 0, 2 * Math.PI);
      ctx.fill();

      // Sin line (vertical from point to x-axis)
      ctx.strokeStyle = a.color;
      ctx.lineWidth = 2;
      ctx.setLineDash([4, 3]);
      ctx.beginPath();
      ctx.moveTo(px, py);
      ctx.lineTo(px, cy);
      ctx.stroke();
      ctx.setLineDash([]);

      // Label
      var labelR = R + 22;
      var lx = cx + labelR * Math.cos(-a.val);
      var ly = cy + labelR * Math.sin(-a.val);
      ctx.fillStyle = a.color;
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText(a.label.replace('alpha', '\u03B1'), lx, ly);
    }

    // Slider
    ctx.fillStyle = '#1e293b';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(sliderX - 5, sliderY - 5, sliderW + 10, sliderH + 10, 8);
    ctx.fill();
    ctx.stroke();

    // Slider track
    ctx.fillStyle = '#334155';
    ctx.beginPath();
    ctx.roundRect(sliderX, sliderY + sliderH / 2 - 3, sliderW, 6, 3);
    ctx.fill();

    // Slider fill
    var knobX = alphaToSlider(alpha);
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.roundRect(sliderX, sliderY + sliderH / 2 - 3, knobX - sliderX, 6, 3);
    ctx.fill();

    // Slider knob
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.arc(knobX, sliderY + sliderH / 2, 10, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = '#e2e8f0';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Slider label
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    var deg = (alpha * 180 / Math.PI).toFixed(1).replace('.', ',');
    ctx.fillText('\u03B1 = ' + deg + '\u00B0', sliderX + sliderW / 2, sliderY - 14);

    // Values panel
    var panelX = 420;
    var panelY = 110;
    var panelW = 260;
    var panelH = 290;

    ctx.fillStyle = '#1e293b';
    ctx.strokeStyle = '#334155';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.roundRect(panelX, panelY, panelW, panelH, 12);
    ctx.fill();
    ctx.stroke();

    ctx.fillStyle = '#94a3b8';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Vrednosti:', panelX + 16, panelY + 28);

    var sin3a = Math.sin(3 * alpha);
    var sin1a = Math.sin(alpha);
    var cos2a = Math.cos(2 * alpha);
    var lhs = cos2a !== 0 ? (sin3a - sin1a) / cos2a : NaN;
    var rhs = 2 * Math.sin(alpha);

    var entries = [
      { label: 'sin 3\u03B1', value: sin3a, color: '#f472b6' },
      { label: 'sin \u03B1', value: sin1a, color: '#60a5fa' },
      { label: 'sin 3\u03B1 \u2212 sin \u03B1', value: sin3a - sin1a, color: '#e2e8f0' },
      { label: 'cos 2\u03B1', value: cos2a, color: '#a78bfa' },
      { label: '', value: null, color: '' },
      { label: '(sin3\u03B1\u2212sin\u03B1)/cos2\u03B1', value: lhs, color: '#34d399' },
      { label: '2sin \u03B1', value: rhs, color: '#4ade80' }
    ];

    var ey = panelY + 52;
    for (var i = 0; i < entries.length; i++) {
      var e = entries[i];
      if (e.label === '') {
        // Separator line
        ctx.strokeStyle = '#334155';
        ctx.lineWidth = 1;
        ctx.beginPath();
        ctx.moveTo(panelX + 16, ey + 4);
        ctx.lineTo(panelX + panelW - 16, ey + 4);
        ctx.stroke();
        ey += 16;
        continue;
      }
      ctx.fillStyle = e.color;
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(e.label + ':', panelX + 16, ey);

      var valStr;
      if (e.value === null) {
        valStr = '';
      } else if (isNaN(e.value) || !isFinite(e.value)) {
        valStr = 'nedefinisano';
      } else {
        valStr = e.value.toFixed(4).replace('.', ',');
      }
      ctx.textAlign = 'right';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.fillText(valStr, panelX + panelW - 16, ey);
      ey += 26;
    }

    // Match indicator
    if (!isNaN(lhs) && isFinite(lhs)) {
      var match = Math.abs(lhs - rhs) < 0.0001;
      ctx.fillStyle = match ? '#34d399' : '#ef4444';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(match ? 'Jednaki su! \u2713' : 'Razliciti! \u2717', panelX + panelW / 2, panelY + panelH - 16);
    } else {
      ctx.fillStyle = '#f59e0b';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('cos 2\u03B1 = 0, izraz nedefinisan', panelX + panelW / 2, panelY + panelH - 16);
    }
  }

  function getPointerPos(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = canvas.width / rect.width;
    var scaleY = canvas.height / rect.height;
    var clientX, clientY;
    if (e.touches && e.touches.length > 0) {
      clientX = e.touches[0].clientX;
      clientY = e.touches[0].clientY;
    } else {
      clientX = e.clientX;
      clientY = e.clientY;
    }
    return {
      x: (clientX - rect.left) * scaleX,
      y: (clientY - rect.top) * scaleY
    };
  }

  function isOnSlider(pos) {
    return pos.x >= sliderX - 15 && pos.x <= sliderX + sliderW + 15 &&
           pos.y >= sliderY - 15 && pos.y <= sliderY + sliderH + 15;
  }

  function handleStart(e) {
    var pos = getPointerPos(e);
    if (isOnSlider(pos)) {
      isDragging = true;
      alpha = sliderToAlpha(pos.x);
      draw();
      e.preventDefault();
    }
  }

  function handleMove(e) {
    if (!isDragging) return;
    var pos = getPointerPos(e);
    alpha = sliderToAlpha(pos.x);
    draw();
    e.preventDefault();
  }

  function handleEnd() {
    isDragging = false;
  }

  canvas.addEventListener('mousedown', handleStart);
  canvas.addEventListener('mousemove', handleMove);
  canvas.addEventListener('mouseup', handleEnd);
  canvas.addEventListener('mouseleave', handleEnd);

  canvas.addEventListener('touchstart', handleStart, { passive: false });
  canvas.addEventListener('touchmove', handleMove, { passive: false });
  canvas.addEventListener('touchend', handleEnd);
  canvas.addEventListener('touchcancel', handleEnd);

  draw();

  var resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Trigonometrijski identitet sa razlikom sinusa i duplim uglom",
  "subject": "math",
  "unit": "trigonometrija",
  "topic_tags": ["trigonometrijski identiteti", "transformacija zbira u proizvod", "razlika sinusa", "dupli ugao", "cos 2alpha"]
}
BRAINSPARK_META-->