<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dvostruko resenje kvadratne jednacine sa parametrom</title>

<script type="text/info" id="logic-scratchpad">
PROBLEM:
Find the sum of values of real parameter k for which the equation
  x^2 - (k-3)x + (k+5) = 0
has equal roots (i.e., a double root).

STEP-BY-STEP LOGIC:

1. For a quadratic ax^2 + bx + c = 0 to have equal (double) roots,
   the discriminant must be zero: D = b^2 - 4ac = 0.

2. Identify coefficients:
   a = 1
   b = -(k-3) = -k + 3
   c = k + 5

3. Compute the discriminant:
   D = b^2 - 4ac
   D = (-(k-3))^2 - 4(1)(k+5)
   D = (k-3)^2 - 4(k+5)
   D = k^2 - 6k + 9 - 4k - 20
   D = k^2 - 10k - 11

4. Set D = 0:
   k^2 - 10k - 11 = 0

5. Solve for k using the quadratic formula or factoring:
   k^2 - 10k - 11 = 0
   We look for two numbers whose product is -11 and sum is -10.
   Those are -11 and +1.
   (k - 11)(k + 1) = 0
   k_1 = 11, k_2 = -1

6. Verification for k=11:
   x^2 - (11-3)x + (11+5) = 0
   x^2 - 8x + 16 = 0
   (x-4)^2 = 0 => x = 4 (double root) ✓

7. Verification for k=-1:
   x^2 - (-1-3)x + (-1+5) = 0
   x^2 + 4x + 4 = 0
   (x+2)^2 = 0 => x = -2 (double root) ✓

8. Sum of values of k:
   k_1 + k_2 = 11 + (-1) = 10

ANSWER: B) 10

Alternative approach using Vieta's formulas on k^2 - 10k - 11 = 0:
Sum of roots = -(-10)/1 = 10 (directly from Vieta's, no need to find individual roots!)
</script>

<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}

h1 {
  font-size: 2.2rem;
  font-weight: 800;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  text-align: center;
}

.subtitle {
  color: #94a3b8;
  text-align: center;
  font-size: 1.05rem;
  margin-bottom: 30px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}

.card h2 {
  color: #60a5fa;
  font-size: 1.35rem;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card h3 {
  color: #e2e8f0;
  font-size: 1.1rem;
  margin-bottom: 10px;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}

.given-item {
  background: rgba(56,189,248,0.06);
  border: 1px solid rgba(56,189,248,0.12);
  border-radius: 10px;
  padding: 12px 18px;
  min-width: 100px;
  text-align: center;
  flex: 1;
}

.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
  font-weight: 600;
}

.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}

.answer-option {
  transition: border-color 0.2s ease, background 0.2s ease;
  cursor: default;
}

.math-block {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 14px 0;
  font-family: 'Courier New', monospace;
  overflow-x: auto;
}

.plan-card {
  border-left: 4px solid #a78bfa;
}

.theory-card details {
  margin: 15px 0;
}

.theory-card summary {
  cursor: pointer;
  font-size: 1.05rem;
  font-weight: 600;
  color: #a78bfa;
  padding: 8px 0;
  user-select: none;
}

.theory-card ul {
  list-style: none;
  padding: 12px 0;
}

.theory-card li {
  padding: 8px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #e2e8f0;
}

.theory-card li:last-child {
  border-bottom: none;
}

.step {
  display: flex;
  gap: 16px;
  padding: 16px;
  border-radius: 10px;
  margin-bottom: 12px;
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background 0.2s ease;
}

.step:hover {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}

.step-badge {
  width: 32px;
  height: 32px;
  min-width: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-content h3 {
  margin-bottom: 8px;
  color: #e2e8f0;
  font-size: 1.05rem;
}

.step-content p {
  color: #cbd5e1;
  margin-bottom: 8px;
}

.note {
  color: #94a3b8;
  font-size: 0.9rem;
  font-style: italic;
  margin-top: 6px;
}

.checkpoint {
  margin: 20px 0;
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
}

.checkpoint summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 0.95rem;
  user-select: none;
}

.checkpoint .answer {
  padding-top: 10px;
  color: #4ade80;
  font-weight: 600;
}

.insight-card {
  background: linear-gradient(135deg, rgba(96,165,250,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(96,165,250,0.25);
  text-align: center;
  padding: 28px;
}

.insight-card .big-formula {
  font-size: 1.4rem;
  margin: 16px 0;
  color: #4ade80;
}

.final-answer-card {
  border: 2px solid #4ade80;
  background: linear-gradient(135deg, rgba(52,211,153,0.08), rgba(74,222,128,0.04));
  text-align: center;
  padding: 28px;
}

.final-answer-card h2 {
  color: #4ade80;
  justify-content: center;
}

.final-answer-value {
  font-size: 1.8rem;
  color: #4ade80;
  font-weight: 800;
  margin: 16px 0;
}

.options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 20px 0;
}

.option-card {
  padding: 10px 22px;
  border-radius: 10px;
  border: 2px solid #334155;
  background: #1e293b;
  color: #94a3b8;
  font-size: 1rem;
  font-weight: 600;
  transition: all 0.2s ease;
}

.option-card.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  box-shadow: 0 0 20px rgba(74,222,128,0.15);
}

.verification-note {
  color: #94a3b8;
  font-size: 0.92rem;
  margin-top: 14px;
  padding-top: 14px;
  border-top: 1px solid #334155;
  text-align: left;
}

.pitfall-list {
  list-style: none;
  padding: 0;
}

.pitfall-list li {
  padding: 10px 0;
  border-bottom: 1px solid rgba(51,65,85,0.5);
  color: #cbd5e1;
}

.pitfall-list li:last-child {
  border-bottom: none;
}

.pitfall-label {
  color: #e09468;
  font-weight: 700;
  margin-right: 6px;
}

.challenge-card {
  border-left: 4px solid #f472b6;
}

.challenge-card details {
  margin: 15px 0;
}

.challenge-card summary {
  cursor: pointer;
  color: #f472b6;
  font-weight: 600;
  user-select: none;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  touch-action: none;
  width: 100%;
}

.canvas-hint {
  text-align: center;
  color: #64748b;
  font-size: 0.85rem;
  margin-top: 8px;
}

.highlight-pink {
  color: #f472b6;
  font-weight: 600;
}

.highlight-blue {
  color: #60a5fa;
  font-weight: 600;
}

.highlight-green {
  color: #4ade80;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step { padding: 12px; flex-direction: column; gap: 8px; }
  .given-grid { gap: 8px; }
  .given-item { min-width: 70px; padding: 10px 12px; }
  .final-answer-value { font-size: 1.4rem; }
  .options-row { gap: 8px; }
  .option-card { padding: 8px 14px; font-size: 0.9rem; }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Dvostruko resenje kvadratne jednacine sa parametrom</h1>
  <p class="subtitle">Algebra &mdash; diskriminanta, parametarske jednacine, Vijetove formule</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Zbir vrednosti realnog parametra \(k\) za koje jednacina</p>
    <div class="math-block">
      \[ x^2 - (k - 3)\,x + k + 5 = 0 \]
    </div>
    <p>ima jednaka resenja (tj. dvostruko resenje) je:</p>

    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\(-16\)</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\(10\)</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\(12\)</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\(14\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>
      Kvadratna jednacina ima dvostruko resenje kada je diskriminanta jednaka nuli.
      Postavicemo uslov \(D = 0\), dobicemo jednacinu po parametru \(k\),
      resicemo je i sabracemo dobijena resenja.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card theory-card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <ul>
        <li>
          <strong>Diskriminanta kvadratne jednacine:</strong>
          Za jednacinu \(ax^2 + bx + c = 0\), diskriminanta je \(D = b^2 - 4ac\).
        </li>
        <li>
          <strong>Uslov za dvostruko resenje:</strong>
          Jednacina ima dvostruko resenje ako i samo ako je \(D = 0\).
          Tada je to resenje \(x = -\dfrac{b}{2a}\).
        </li>
        <li>
          <strong>Vijetove formule:</strong>
          Za jednacinu \(k^2 + pk + q = 0\) sa resenjima \(k_1\) i \(k_2\):
          zbir \(k_1 + k_2 = -p\), proizvod \(k_1 \cdot k_2 = q\).
        </li>
        <li>
          <strong>Brz trik:</strong>
          Ako nam treba samo zbir resenja jednacine \(k^2 - 10k - 11 = 0\),
          ne moramo ni nalaziti pojedinacna resenja &mdash; zbir je direktno \(-\dfrac{-10}{1} = 10\).
        </li>
      </ul>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <p style="color:#94a3b8; margin-bottom: 14px;">
      Parabole za \(k = 11\) i \(k = -1\) &mdash; oba slucaja dodiruju \(x\)-osu (dvostruko resenje).
    </p>
    <canvas id="diagramCanvas" width="800" height="500"></canvas>
    <p class="canvas-hint">Pomerajte mis/prst preko grafika za koordinate tacke</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <h3>Identifikujemo koeficijente</h3>
        <p>
          Jednacina \(x^2 - (k-3)\,x + k + 5 = 0\) je oblika \(ax^2 + bx + c = 0\) gde je:
        </p>
        <div class="math-block">
          \[ a = 1, \quad b = -(k - 3), \quad c = k + 5 \]
        </div>
        <p class="note">
          Pazljivo sa znakom: koeficijent uz \(x\) je \(-(k-3)\), sto je \(-k + 3\).
        </p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <h3>Postavimo uslov \(D = 0\)</h3>
        <p>
          Za dvostruko resenje, diskriminanta mora biti nula:
        </p>
        <div class="math-block">
          \[ D = b^2 - 4ac = 0 \]
        </div>
        <p>Uvrstavamo koeficijente:</p>
        <div class="math-block">
          \[ D = \bigl(-(k-3)\bigr)^2 - 4 \cdot 1 \cdot (k + 5) = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <h3>Razvijemo i pojednostavimo</h3>
        <p>
          Kvadrat zagrade: \(\bigl(-(k-3)\bigr)^2 = (k-3)^2 = k^2 - 6k + 9\).
        </p>
        <div class="math-block">
          \[
          \begin{aligned}
          k^2 - 6k + 9 - 4(k + 5) &= 0 \\[6pt]
          k^2 - 6k + 9 - 4k - 20 &= 0 \\[6pt]
          k^2 - 10k - 11 &= 0
          \end{aligned}
          \]
        </div>
        <p class="note">
          Dobili smo kvadratnu jednacinu po parametru \(k\).
        </p>
      </div>
    </div>

    <!-- Checkpoint 1 -->
    <details class="checkpoint">
      <summary>Proveri se: Kako izgleda jednacina po \(k\)?</summary>
      <div class="answer">
        \(k^2 - 10k - 11 = 0\). Ako ste dobili nesto drugo, proverite razvijanje \((k-3)^2\) i raspodelu \(-4\).
      </div>
    </details>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <h3>Resimo jednacinu \(k^2 - 10k - 11 = 0\)</h3>
        <p>
          Trazimo dva broja ciji je <span class="highlight-blue">proizvod \(-11\)</span> i <span class="highlight-pink">zbir \(-10\)</span>.
          To su \(-11\) i \(+1\). Dakle, faktorizujemo:
        </p>
        <div class="math-block">
          \[ k^2 - 10k - 11 = (k - 11)(k + 1) = 0 \]
        </div>
        <p>Odatle:</p>
        <div class="math-block">
          \[ k_1 = 11, \quad k_2 = -1 \]
        </div>
      </div>
    </div>

    <!-- Checkpoint 2 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li oba resenja zadovoljavaju uslov?</summary>
      <div class="answer">
        <p>Za \(k = 11\): \(x^2 - 8x + 16 = (x-4)^2 = 0\) &mdash; dvostruki koren \(x = 4\).</p>
        <p>Za \(k = -1\): \(x^2 + 4x + 4 = (x+2)^2 = 0\) &mdash; dvostruki koren \(x = -2\).</p>
        <p>Oba resenja su ispravna.</p>
      </div>
    </details>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <h3>Izracunamo trazeni zbir</h3>
        <p>
          Zbir vrednosti parametra \(k\) za koje jednacina ima dvostruko resenje:
        </p>
        <div class="math-block">
          \[ k_1 + k_2 = 11 + (-1) = 10 \]
        </div>
        <p class="note">
          Brzi put: po Vijetovim formulama za \(k^2 - 10k - 11 = 0\), zbir korena je \(-\frac{-10}{1} = 10\), bez potrebe da trazimo pojedinacna resenja!
        </p>
      </div>
    </div>

    <!-- Checkpoint 3 -->
    <details class="checkpoint">
      <summary>Proveri se: Da li se rezultat poklapa sa nekim od ponudjenih odgovora?</summary>
      <div class="answer">
        Da! Zbir \(k_1 + k_2 = 10\) odgovara opciji <strong>(B)</strong>.
      </div>
    </details>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2 style="justify-content: center;">Kljucno zapazanje</h2>
    <p>
      Kada zadatak trazi <span class="highlight-blue">zbir</span> vrednosti parametra, a jednacina po parametru je kvadratna,
      ne moramo nalaziti pojedinacna resenja &mdash; dovoljno je primeniti <span class="highlight-pink">Vijetove formule</span>
      i direktno procitati zbir korena iz koeficijenata.
    </p>
    <div class="big-formula">
      \[ k^2 - 10k - 11 = 0 \implies k_1 + k_2 = \frac{-(-10)}{1} = 10 \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2>Konacan odgovor</h2>
    <div class="final-answer-value">
      \( k_1 + k_2 = 10 \)
    </div>
    <p style="color:#94a3b8; margin-bottom: 14px;">Tacan odgovor je <strong style="color:#4ade80;">B)</strong></p>
    <div class="options-row">
      <div class="option-card">(A) \(-16\)</div>
      <div class="option-card correct">(B) \(10\) &#10003;</div>
      <div class="option-card">(C) \(12\)</div>
      <div class="option-card">(D) \(14\)</div>
    </div>
    <p class="verification-note">
      <strong>Verifikacija:</strong> Za \(k = 11\): jednacina je \(x^2 - 8x + 16 = (x-4)^2 = 0\), dvostruki koren \(x = 4\).
      Za \(k = -1\): jednacina je \(x^2 + 4x + 4 = (x+2)^2 = 0\), dvostruki koren \(x = -2\).
      Zbir: \(11 + (-1) = 10\). Rezultat se poklapa sa opcijom <strong>(B)</strong>.
    </p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <h2>Ceste greske</h2>
    <ul class="pitfall-list">
      <li>
        <span class="pitfall-label">Greska 1:</span>
        Pogresno razvijanje \((k-3)^2\). Studenti cesto napisu \(k^2 - 9\) ili \(k^2 + 9\) umesto \(k^2 - 6k + 9\).
        Zapamtite formulu: \((a - b)^2 = a^2 - 2ab + b^2\).
      </li>
      <li>
        <span class="pitfall-label">Greska 2:</span>
        Zaboravljanje znaka minus ispred \(4(k+5)\). Raspodela \(-4\) daje \(-4k - 20\), a ne \(-4k + 20\).
        Ovo bi dovelo do jednacine \(k^2 - 10k + 29 = 0\), koja nema realna resenja.
      </li>
      <li>
        <span class="pitfall-label">Greska 3:</span>
        Mnozenje resenja umesto sabiranja. Proizvod \(k_1 \cdot k_2 = 11 \cdot (-1) = -11\),
        sto nije medju ponudjenim odgovorima (sreca). Ali na drugom zadatku ova greska bi mogla
        slucajno dati jedan od ponudjenih odgovora!
      </li>
      <li>
        <span class="pitfall-label">Greska 4:</span>
        Koristiti \(b = k - 3\) umesto \(b = -(k-3)\). Koeficijent uz \(x\) u jednacini
        \(x^2 - (k-3)x + k + 5 = 0\) je \(-(k-3)\), ne \((k-3)\). Na srecu, posto kvadriramo \(b\),
        ova greska ne menja rezultat za diskriminantu: \(b^2 = (k-3)^2\) u oba slucaja.
      </li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>
      Za koje vrednosti realnog parametra \(m\) jednacina
    </p>
    <div class="math-block">
      \[ x^2 + (2m + 1)\,x + m^2 + 2 = 0 \]
    </div>
    <p>ima dvostruko resenje? Koliki je proizvod tih vrednosti parametra \(m\)?</p>
    <details>
      <summary>Nagovestaj</summary>
      <p style="padding-top: 10px; color: #cbd5e1;">
        Postavite \(D = 0\): \((2m+1)^2 - 4(m^2 + 2) = 0\).
        Razvijte: \(4m^2 + 4m + 1 - 4m^2 - 8 = 0\), tj. \(4m - 7 = 0\).
        Dobijate samo jedno resenje: \(m = \frac{7}{4}\).
        Proizvod jednog resenja je samo ta vrednost: \(\frac{7}{4}\).
      </p>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagramCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');

  let mouseX = -1000;
  let mouseY = -1000;

  function drawDiagram() {
    const dpr = window.devicePixelRatio || 1;
    const rect = canvas.getBoundingClientRect();
    const W = rect.width;
    const H = 500;

    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.fillRect(0, 0, W, H);

    // Graph area
    var margin = { top: 50, right: 40, bottom: 60, left: 60 };
    var gW = W - margin.left - margin.right;
    var gH = H - margin.top - margin.bottom;

    // Domain and range
    var xMin = -6, xMax = 8;
    var yMin = -3, yMax = 20;

    function toCanvasX(x) { return margin.left + (x - xMin) / (xMax - xMin) * gW; }
    function toCanvasY(y) { return margin.top + (yMax - y) / (yMax - yMin) * gH; }
    function fromCanvasX(cx) { return xMin + (cx - margin.left) / gW * (xMax - xMin); }
    function fromCanvasY(cy) { return yMax - (cy - margin.top) / gH * (yMax - yMin); }

    // Grid
    ctx.strokeStyle = 'rgba(71,85,105,0.25)';
    ctx.lineWidth = 0.5;
    for (var gx = Math.ceil(xMin); gx <= Math.floor(xMax); gx++) {
      ctx.beginPath();
      ctx.moveTo(toCanvasX(gx), margin.top);
      ctx.lineTo(toCanvasX(gx), margin.top + gH);
      ctx.stroke();
    }
    for (var gy = Math.ceil(yMin); gy <= Math.floor(yMax); gy += 2) {
      ctx.beginPath();
      ctx.moveTo(margin.left, toCanvasY(gy));
      ctx.lineTo(margin.left + gW, toCanvasY(gy));
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(margin.left, toCanvasY(0));
    ctx.lineTo(margin.left + gW, toCanvasY(0));
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(toCanvasX(0), margin.top);
    ctx.lineTo(toCanvasX(0), margin.top + gH);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    for (var lx = Math.ceil(xMin); lx <= Math.floor(xMax); lx++) {
      if (lx === 0) continue;
      ctx.fillText(String(lx), toCanvasX(lx), toCanvasY(0) + 18);
    }
    ctx.textAlign = 'right';
    for (var ly = 0; ly <= Math.floor(yMax); ly += 4) {
      if (ly === 0) continue;
      ctx.fillText(String(ly), toCanvasX(0) - 8, toCanvasY(ly) + 4);
    }

    // Function: f1(x) = x^2 - 8x + 16 (k=11)
    // Function: f2(x) = x^2 + 4x + 4 (k=-1)
    function f1(x) { return x * x - 8 * x + 16; }
    function f2(x) { return x * x + 4 * x + 4; }

    function drawCurve(f, color, lineWidth) {
      ctx.strokeStyle = color;
      ctx.lineWidth = lineWidth;
      ctx.beginPath();
      var started = false;
      for (var px = 0; px <= gW; px += 1) {
        var xv = xMin + px / gW * (xMax - xMin);
        var yv = f(xv);
        var cy = toCanvasY(yv);
        var cx = toCanvasX(xv);
        if (cy < margin.top - 50 || cy > margin.top + gH + 50) {
          started = false;
          continue;
        }
        if (!started) {
          ctx.moveTo(cx, cy);
          started = true;
        } else {
          ctx.lineTo(cx, cy);
        }
      }
      ctx.stroke();
    }

    // Draw parabolas
    drawCurve(f1, '#60a5fa', 2.5);
    drawCurve(f2, '#f472b6', 2.5);

    // Mark the double roots (tangent points)
    // k=11: double root at x=4
    var tx1 = 4, ty1 = 0;
    ctx.beginPath();
    ctx.arc(toCanvasX(tx1), toCanvasY(ty1), 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#60a5fa';
    ctx.fill();
    ctx.strokeStyle = '#0c1222';
    ctx.lineWidth = 2;
    ctx.stroke();

    // k=-1: double root at x=-2
    var tx2 = -2, ty2 = 0;
    ctx.beginPath();
    ctx.arc(toCanvasX(tx2), toCanvasY(ty2), 6, 0, 2 * Math.PI);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.strokeStyle = '#0c1222';
    ctx.lineWidth = 2;
    ctx.stroke();

    // Labels for parabolas
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = '#60a5fa';
    ctx.fillText('k = 11', toCanvasX(5.5), toCanvasY(f1(5.5)) - 10);
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('x\u00B2 \u2212 8x + 16 = (x\u22124)\u00B2', toCanvasX(5.5), toCanvasY(f1(5.5)) + 6);

    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#f472b6';
    ctx.textAlign = 'right';
    ctx.fillText('k = \u22121', toCanvasX(-3.5), toCanvasY(f2(-3.5)) - 10);
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillText('x\u00B2 + 4x + 4 = (x+2)\u00B2', toCanvasX(-3.5), toCanvasY(f2(-3.5)) + 6);

    // Double root labels
    ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillStyle = '#60a5fa';
    ctx.fillText('x = 4', toCanvasX(4), toCanvasY(0) + 34);
    ctx.fillStyle = '#f472b6';
    ctx.fillText('x = \u22122', toCanvasX(-2), toCanvasY(0) + 34);

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Parabole dodiruju x-osu (D = 0) za k = 11 i k = \u22121', W / 2, 24);

    // Legend
    var legX = margin.left + 10;
    var legY = margin.top + 12;
    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legX, legY - 8, 16, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('k = 11: dvostruki koren x = 4', legX + 22, legY);

    ctx.fillStyle = '#f472b6';
    ctx.fillRect(legX, legY + 14, 16, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('k = \u22121: dvostruki koren x = \u22122', legX + 22, legY + 22);

    // Mouse tracker
    if (mouseX >= margin.left && mouseX <= margin.left + gW &&
        mouseY >= margin.top && mouseY <= margin.top + gH) {
      var mx = fromCanvasX(mouseX);
      var my = fromCanvasY(mouseY);

      // Vertical line
      ctx.strokeStyle = 'rgba(148,163,184,0.3)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(mouseX, margin.top);
      ctx.lineTo(mouseX, margin.top + gH);
      ctx.stroke();
      ctx.setLineDash([]);

      // Show values on both parabolas
      var v1 = f1(mx);
      var v2 = f2(mx);

      // Dot on f1
      if (v1 >= yMin && v1 <= yMax) {
        ctx.beginPath();
        ctx.arc(mouseX, toCanvasY(v1), 4, 0, 2 * Math.PI);
        ctx.fillStyle = '#60a5fa';
        ctx.fill();
      }

      // Dot on f2
      if (v2 >= yMin && v2 <= yMax) {
        ctx.beginPath();
        ctx.arc(mouseX, toCanvasY(v2), 4, 0, 2 * Math.PI);
        ctx.fillStyle = '#f472b6';
        ctx.fill();
      }

      // Tooltip
      ctx.fillStyle = 'rgba(15,23,42,0.9)';
      ctx.strokeStyle = '#334155';
      ctx.lineWidth = 1;
      var ttX = mouseX + 14;
      var ttY = mouseY - 50;
      if (ttX + 170 > W) ttX = mouseX - 184;
      if (ttY < margin.top) ttY = mouseY + 14;
      ctx.beginPath();
      ctx.roundRect(ttX, ttY, 170, 52, 6);
      ctx.fill();
      ctx.stroke();

      ctx.font = '11px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.fillStyle = '#94a3b8';
      ctx.fillText('x = ' + mx.toFixed(2).replace('.', ','), ttX + 8, ttY + 16);
      ctx.fillStyle = '#60a5fa';
      ctx.fillText('k=11: y = ' + v1.toFixed(2).replace('.', ','), ttX + 8, ttY + 32);
      ctx.fillStyle = '#f472b6';
      ctx.fillText('k=\u22121: y = ' + v2.toFixed(2).replace('.', ','), ttX + 8, ttY + 48);
    }
  }

  function handlePointer(e) {
    var rect = canvas.getBoundingClientRect();
    if (e.touches) {
      mouseX = e.touches[0].clientX - rect.left;
      mouseY = e.touches[0].clientY - rect.top;
    } else {
      mouseX = e.clientX - rect.left;
      mouseY = e.clientY - rect.top;
    }
    drawDiagram();
  }

  function handlePointerLeave() {
    mouseX = -1000;
    mouseY = -1000;
    drawDiagram();
  }

  canvas.addEventListener('mousemove', handlePointer);
  canvas.addEventListener('mouseleave', handlePointerLeave);
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    handlePointer(e);
  }, { passive: false });
  canvas.addEventListener('touchend', handlePointerLeave);

  drawDiagram();
  window.addEventListener('resize', drawDiagram);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Dvostruko resenje kvadratne jednacine sa parametrom",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["kvadratne jednacine", "diskriminanta", "parametar", "Vijetove formule", "dvostruko resenje"]
}
BRAINSPARK_META-->