<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jednacina sa apsolutnom vrednoscu - Zbir resenja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Zbir svih resenja jednacine |2x + 1| + x = 4 pripada skupu:
  A) (1, 3]    B) (-1, 1]    C) [-3, -1)    D) (-5, -3]

  Strategy: Solve by splitting the absolute value into two cases.

  The absolute value |2x + 1| changes behavior at 2x + 1 = 0, i.e. x = -1/2.

  Case 1: 2x + 1 >= 0, i.e. x >= -1/2
    |2x + 1| = 2x + 1
    Equation: 2x + 1 + x = 4
    3x + 1 = 4
    3x = 3
    x = 1

    Check condition: x = 1 >= -1/2 ‚úì
    Check in equation: |2(1) + 1| + 1 = |3| + 1 = 3 + 1 = 4 ‚úì
    So x‚ÇÅ = 1 is a valid solution.

  Case 2: 2x + 1 < 0, i.e. x < -1/2
    |2x + 1| = -(2x + 1) = -2x - 1
    Equation: -2x - 1 + x = 4
    -x - 1 = 4
    -x = 5
    x = -5

    Check condition: x = -5 < -1/2 ‚úì
    Check in equation: |2(-5) + 1| + (-5) = |-10 + 1| - 5 = |-9| - 5 = 9 - 5 = 4 ‚úì
    So x‚ÇÇ = -5 is a valid solution.

  Sum of all solutions: x‚ÇÅ + x‚ÇÇ = 1 + (-5) = -4

  Check which interval -4 belongs to:
    A) (1, 3] ‚Äî No, -4 < 1
    B) (-1, 1] ‚Äî No, -4 < -1
    C) [-3, -1) ‚Äî No, -4 < -3
    D) (-5, -3] ‚Äî Yes! -5 < -4 <= -3 ‚úì

  Answer: D) (-5, -3]
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Jednacina sa apsolutnom vrednoscu</h1>
  <p class="subtitle">Apsolutna vrednost ‚Äî razdvajanje na slucajeve i provera uslova</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">üìã</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Zbir svih resenja jednacine \( |2x + 1| + x = 4 \) pripada skupu:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">A) \( (1,\, 3] \)</div>
        <div class="given-item answer-option" data-option="B">B) \( (-1,\, 1] \)</div>
        <div class="given-item answer-option" data-option="C">C) \( [-3,\, -1) \)</div>
        <div class="given-item answer-option correct" data-option="D">D) \( (-5,\, -3] \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">üéØ</span> Plan resavanja</div>
    <p class="plan-text">
      Jednacinu sa apsolutnom vrednoscu resavamo tako sto razdvojimo na dva slucaja: kada je izraz unutar apsolutne vrednosti nenegativan i kada je negativan. Za svaki slucaj resimo obicnu linearnu jednacinu, a zatim proverimo da li resenje zadovoljava uslov tog slucaja. Na kraju saberemo sva validna resenja.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">üìö</span> Podsetnik iz teorije</div>
    <details>
      <summary>Apsolutna vrednost ‚Äî definicija i metod resavanja (klikni da otvoris)</summary>
      <div class="detail-content">
        <p>Apsolutna vrednost realnog broja \( a \) definise se kao:</p>
        <div class="step-math">
          \[ |a| = \begin{cases} a, & \text{ako } a \geq 0 \\ -a, & \text{ako } a < 0 \end{cases} \]
        </div>
        <p style="margin-top: 12px;">Za resavanje jednacine oblika \( |f(x)| = g(x) \), razdvajamo na dva slucaja:</p>
        <ul style="margin-top: 8px; padding-left: 20px;">
          <li><strong>Slucaj 1:</strong> \( f(x) \geq 0 \) ‚Äî tada je \( |f(x)| = f(x) \)</li>
          <li><strong>Slucaj 2:</strong> \( f(x) < 0 \) ‚Äî tada je \( |f(x)| = -f(x) \)</li>
        </ul>
        <p style="margin-top: 12px;">Kriticna tacka (gde se menja ponasanje) je gde je \( f(x) = 0 \). Za svako resenje <strong>obavezno proveriti</strong> da li zadovoljava uslov svog slucaja!</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">üìä</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">Grafik funkcija \( y = |2x + 1| + x \) i \( y = 4 \) ‚Äî presecne tacke su resenja jednacine</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">üî¢</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Odredimo kriticnu tacku</div>
        <p>Izraz unutar apsolutne vrednosti je \( 2x + 1 \). On menja znak kada je:</p>
        <div class="step-math">
          \[ 2x + 1 = 0 \quad \Rightarrow \quad x = -\frac{1}{2} \]
        </div>
        <p>Ovo je nasa kriticna tacka. Razdvajamo resavanje na dva slucaja: \( x \geq -\frac{1}{2} \) i \( x < -\frac{1}{2} \).</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Slucaj 1: \( x \geq -\dfrac{1}{2} \)</div>
        <p>Kada je \( x \geq -\frac{1}{2} \), tada je \( 2x + 1 \geq 0 \), pa je \( |2x + 1| = 2x + 1 \). Jednacina postaje:</p>
        <div class="step-math">
          \[ (2x + 1) + x = 4 \]
        </div>
        <p>Sredimo:</p>
        <div class="step-math">
          \[ 3x + 1 = 4 \quad \Rightarrow \quad 3x = 3 \quad \Rightarrow \quad x = 1 \]
        </div>
        <p><strong>Provera uslova:</strong> Da li je \( x = 1 \geq -\frac{1}{2} \)? Da! Uslov je zadovoljen.</p>
        <p><strong>Provera u jednacini:</strong> \( |2 \cdot 1 + 1| + 1 = |3| + 1 = 3 + 1 = 4 \) ‚úì</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto moramo proveravati uslov?</summary>
            <div class="detail-content">
              Zato sto smo jednacinu resavali pod pretpostavkom da je \( x \geq -\frac{1}{2} \). Ako bismo dobili resenje koje ne zadovoljava ovaj uslov (npr. \( x = -3 \)), ono ne bi bilo validno za ovaj slucaj, jer smo pogresno uklonili apsolutnu vrednost.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Slucaj 2: \( x < -\dfrac{1}{2} \)</div>
        <p>Kada je \( x < -\frac{1}{2} \), tada je \( 2x + 1 < 0 \), pa je \( |2x + 1| = -(2x + 1) = -2x - 1 \). Jednacina postaje:</p>
        <div class="step-math">
          \[ (-2x - 1) + x = 4 \]
        </div>
        <p>Sredimo:</p>
        <div class="step-math">
          \[ -x - 1 = 4 \quad \Rightarrow \quad -x = 5 \quad \Rightarrow \quad x = -5 \]
        </div>
        <p><strong>Provera uslova:</strong> Da li je \( x = -5 < -\frac{1}{2} \)? Da! Uslov je zadovoljen.</p>
        <p><strong>Provera u jednacini:</strong> \( |2 \cdot (-5) + 1| + (-5) = |-10 + 1| - 5 = |-9| - 5 = 9 - 5 = 4 \) ‚úì</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Kako smo uklonili apsolutnu vrednost?</summary>
            <div class="detail-content">
              Posto je \( 2x + 1 < 0 \) u ovom slucaju, apsolutna vrednost "obrce znak": \( |2x + 1| = -(2x + 1) \). To je kao da pomnozimo ceo izraz sa \( -1 \), pa dobijamo \( -2x - 1 \). Pazite na raspodelu minusa na oba clana!
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo zbir svih resenja</div>
        <p>Jednacina ima dva resenja: \( x_1 = 1 \) i \( x_2 = -5 \). Njihov zbir je:</p>
        <div class="step-math">
          \[ x_1 + x_2 = 1 + (-5) = -4 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Odredimo kom skupu pripada zbir</div>
        <p>Zbir resenja je \( -4 \). Proverimo svaki ponudjeni interval:</p>
        <ul style="padding-left: 20px; margin: 10px 0;">
          <li>A) \( (1,\, 3] \) ‚Äî Ne, jer \( -4 < 1 \).</li>
          <li>B) \( (-1,\, 1] \) ‚Äî Ne, jer \( -4 < -1 \).</li>
          <li>C) \( [-3,\, -1) \) ‚Äî Ne, jer \( -4 < -3 \).</li>
          <li>D) \( (-5,\, -3] \) ‚Äî Da! Jer \( -5 < -4 \leq -3 \). ‚úì</li>
        </ul>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Sta znaci zapis \( (-5,\, -3] \)?</summary>
            <div class="detail-content">
              <p>Obla zagrada \( ( \) znaci da krajnja tacka <strong>nije ukljucena</strong>, a uglasta zagrada \( ] \) znaci da <strong>jeste ukljucena</strong>.</p>
              <p style="margin-top: 6px;">\( (-5,\, -3] = \{ x \in \mathbb{R} \mid -5 < x \leq -3 \} \)</p>
              <p style="margin-top: 6px;">Dakle, \( -5 \) ne pripada ovom skupu (stroga nejednakost), ali \( -3 \) pripada. Nas zbir \( -4 \) zadovoljava: \( -5 < -4 \leq -3 \).</p>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">üí°</span> Kljucni uvid</div>
    <p>Jednacine sa apsolutnom vrednoscu uvek razdvajamo na slucajeve prema <strong>kriticnoj tacki</strong> ‚Äî mestu gde izraz unutar apsolutne vrednosti menja znak. Svaki slucaj daje obicnu linearnu jednacinu, ali resenje je validno <strong>samo ako zadovoljava uslov tog slucaja</strong>. Nikada ne preskacite proveru uslova ‚Äî to je najcesci izvor gresaka!</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( x_1 + x_2 = 1 + (-5) = -4 \)</div>
    <div class="answer-option">Tacan odgovor je D) \( (-5,\, -3] \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Zaboravljanje provere uslova:</strong> Neki ucenici rese oba slucaja ali ne provere da li resenje pripada odgovarajucem intervalu. U ovom zadatku su oba resenja validna, ali u opstem slucaju moze se desiti da jedno resenje ne zadovoljava uslov i mora se odbaciti.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Greska sa predznakom u drugom slucaju:</strong> Kada je \( 2x + 1 < 0 \), apsolutna vrednost daje \( -(2x + 1) = -2x - 1 \). Cesta greska je napisati samo \( -2x + 1 \), zaboravljajuci da minus menja znak oba clana u zagradi.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">‚úó</span>
      <p><strong>Mesanje otvorenih i zatvorenih intervala:</strong> Obratite paznju na razliku izmedju \( ( \) i \( [ \) u zapisu intervala. \( (-5,\, -3] \) ne ukljucuje \( -5 \), ali ukljucuje \( -3 \).</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">üèÜ</span> Dodatni izazov</div>
    <p>Resi jednacinu \( |2x + 1| + |x - 3| = 8 \) i odredi zbir svih njenih resenja.</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Kriticne tacke su \( x = -\frac{1}{2} \) i \( x = 3 \). Razdvajamo na tri slucaja:</p>
        <p style="margin-top: 8px;"><strong>Slucaj 1:</strong> \( x \geq 3 \): \( (2x+1) + (x-3) = 8 \Rightarrow 3x - 2 = 8 \Rightarrow x = \frac{10}{3} \approx 3{,}33 \) ‚úì</p>
        <p style="margin-top: 4px;"><strong>Slucaj 2:</strong> \( -\frac{1}{2} \leq x < 3 \): \( (2x+1) + (3-x) = 8 \Rightarrow x + 4 = 8 \Rightarrow x = 4 \). Ali \( 4 \geq 3 \), ne zadovoljava uslov. ‚úó</p>
        <p style="margin-top: 4px;"><strong>Slucaj 3:</strong> \( x < -\frac{1}{2} \): \( (-2x-1) + (3-x) = 8 \Rightarrow -3x + 2 = 8 \Rightarrow x = -2 \) ‚úì</p>
        <p style="margin-top: 8px;">Zbir: \( \frac{10}{3} + (-2) = \frac{10}{3} - \frac{6}{3} = \frac{4}{3} \approx 1{,}33 \)</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Touch and mouse support for panning
  let offsetX = 0;
  let isDragging = false;
  let dragStartX = 0;
  let dragStartOffset = 0;

  function getPointerX(e) {
    if (e.touches && e.touches.length > 0) {
      const rect = canvas.getBoundingClientRect();
      return e.touches[0].clientX - rect.left;
    }
    return e.offsetX;
  }

  canvas.addEventListener('mousedown', function(e) {
    isDragging = true;
    dragStartX = getPointerX(e);
    dragStartOffset = offsetX;
  });
  canvas.addEventListener('mousemove', function(e) {
    if (isDragging) {
      offsetX = dragStartOffset + (getPointerX(e) - dragStartX);
      draw();
    }
  });
  canvas.addEventListener('mouseup', function() { isDragging = false; });
  canvas.addEventListener('mouseleave', function() { isDragging = false; });

  canvas.addEventListener('touchstart', function(e) {
    e.preventDefault();
    isDragging = true;
    dragStartX = getPointerX(e);
    dragStartOffset = offsetX;
  }, { passive: false });
  canvas.addEventListener('touchmove', function(e) {
    e.preventDefault();
    if (isDragging) {
      offsetX = dragStartOffset + (getPointerX(e) - dragStartX);
      draw();
    }
  }, { passive: false });
  canvas.addEventListener('touchend', function() { isDragging = false; });

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Coordinate system parameters
    const originX = W / 2 + 40 + offsetX;
    const originY = H - 80;
    const scaleX = 55;
    const scaleY = 30;

    // Grid and axes
    ctx.strokeStyle = 'rgba(51, 65, 85, 0.5)';
    ctx.lineWidth = 0.5;

    // Vertical grid lines
    for (let x = -8; x <= 5; x++) {
      const px = originX + x * scaleX;
      if (px < 20 || px > W - 20) continue;
      ctx.beginPath();
      ctx.moveTo(px, 30);
      ctx.lineTo(px, H - 40);
      ctx.stroke();
    }

    // Horizontal grid lines
    for (let y = 0; y <= 12; y += 2) {
      const py = originY - y * scaleY;
      if (py < 30 || py > H - 40) continue;
      ctx.beginPath();
      ctx.moveTo(20, py);
      ctx.lineTo(W - 20, py);
      ctx.stroke();
    }

    // X-axis
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(20, originY);
    ctx.lineTo(W - 20, originY);
    ctx.stroke();

    // Y-axis
    ctx.beginPath();
    ctx.moveTo(originX, 30);
    ctx.lineTo(originX, H - 40);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';

    for (let x = -8; x <= 5; x++) {
      if (x === 0) continue;
      const px = originX + x * scaleX;
      if (px < 30 || px > W - 30) continue;
      ctx.fillText(String(x), px, originY + 18);
    }
    ctx.fillText('0', originX - 12, originY + 18);

    ctx.textAlign = 'right';
    for (let y = 2; y <= 12; y += 2) {
      const py = originY - y * scaleY;
      if (py < 40 || py > H - 50) continue;
      ctx.fillText(String(y), originX - 8, py + 4);
    }

    // f(x) = |2x + 1| + x
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let px = 20; px <= W - 20; px++) {
      const x = (px - originX) / scaleX;
      const y = Math.abs(2 * x + 1) + x;
      const py = originY - y * scaleY;
      if (py < 20 || py > H - 30) {
        first = true;
        continue;
      }
      if (first) {
        ctx.moveTo(px, py);
        first = false;
      } else {
        ctx.lineTo(px, py);
      }
    }
    ctx.stroke();

    // y = 4 line
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2;
    ctx.setLineDash([8, 4]);
    const y4 = originY - 4 * scaleY;
    ctx.beginPath();
    ctx.moveTo(20, y4);
    ctx.lineTo(W - 20, y4);
    ctx.stroke();
    ctx.setLineDash([]);

    // Mark solutions: x = 1 and x = -5
    var solutions = [
      { x: 1, label: 'x\u2081 = 1' },
      { x: -5, label: 'x\u2082 = \u22125' }
    ];

    solutions.forEach(function(sol) {
      var px = originX + sol.x * scaleX;
      var py = y4;

      // Vertical dashed line from x-axis to point
      ctx.strokeStyle = 'rgba(52, 211, 153, 0.4)';
      ctx.lineWidth = 1;
      ctx.setLineDash([4, 3]);
      ctx.beginPath();
      ctx.moveTo(px, originY);
      ctx.lineTo(px, py);
      ctx.stroke();
      ctx.setLineDash([]);

      // Point
      ctx.fillStyle = '#34d399';
      ctx.beginPath();
      ctx.arc(px, py, 6, 0, 2 * Math.PI);
      ctx.fill();

      // White inner dot
      ctx.fillStyle = '#0f172a';
      ctx.beginPath();
      ctx.arc(px, py, 2.5, 0, 2 * Math.PI);
      ctx.fill();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(sol.label, px, py - 14);
    });

    // Critical point x = -0.5
    var cpx = originX + (-0.5) * scaleX;
    var cpy = originY - (Math.abs(2 * (-0.5) + 1) + (-0.5)) * scaleY;
    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.arc(cpx, cpy, 4, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#a78bfa';
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('x = \u2212\u00BD', cpx, cpy + 16);
    ctx.fillText('(kriticna tacka)', cpx, cpy + 30);

    // Function labels
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    var labelX = originX + 2 * scaleX;
    var labelY = originY - (Math.abs(2 * 2 + 1) + 2) * scaleY;
    if (labelX < W - 120 && labelY > 40) {
      ctx.fillText('y = |2x + 1| + x', labelX + 8, labelY - 6);
    }

    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'right';
    ctx.fillText('y = 4', W - 30, y4 - 8);

    // Title
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Presecne tacke: resenja jednacine |2x + 1| + x = 4', W / 2, 22);

    // Sum label at bottom
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Zbir resenja: 1 + (\u22125) = \u22124  \u2208  (\u22125, \u22123]', W / 2, H - 12);
  }

  draw();

  let resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Zbir resenja jednacine sa apsolutnom vrednoscu",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["apsolutna vrednost", "linearne jednacine", "intervali", "razdvajanje na slucajeve"]
}
BRAINSPARK_META-->