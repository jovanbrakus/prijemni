<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iracionalna jednacina - Zbir resenja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Zbir svih resenja jednacine sqrt(10 - x^2) = 4 - x

  Step 1: Determine the domain.
    Condition 1: Podkorena velicina >= 0
      10 - x^2 >= 0
      x^2 <= 10
      -sqrt(10) <= x <= sqrt(10)
      Approximately: -3,162 <= x <= 3,162

    Condition 2: Desna strana >= 0 (jer je sqrt(...) >= 0)
      4 - x >= 0
      x <= 4

    Combined domain: -sqrt(10) <= x <= sqrt(10)
    (Since sqrt(10) < 4, the first condition is more restrictive on the right side.)

  Step 2: Square both sides (both sides are non-negative on the domain).
    10 - x^2 = (4 - x)^2
    10 - x^2 = 16 - 8x + x^2
    10 - x^2 - 16 + 8x - x^2 = 0
    -2x^2 + 8x - 6 = 0
    2x^2 - 8x + 6 = 0
    x^2 - 4x + 3 = 0

  Step 3: Solve the quadratic.
    x^2 - 4x + 3 = 0
    (x - 1)(x - 3) = 0
    x_1 = 1, x_2 = 3

  Step 4: Check that both solutions are in the domain.
    x = 1: -sqrt(10) <= 1 <= sqrt(10) ✓ (since sqrt(10) ≈ 3.162)
    x = 3: -sqrt(10) <= 3 <= sqrt(10) ✓ (since 3 < 3.162)

  Step 5: Verify by substitution (squaring can introduce extraneous solutions).
    x = 1: sqrt(10 - 1) = sqrt(9) = 3, and 4 - 1 = 3. ✓
    x = 3: sqrt(10 - 9) = sqrt(1) = 1, and 4 - 3 = 1. ✓

  Both solutions are valid.

  Step 6: Compute the sum.
    x_1 + x_2 = 1 + 3 = 4

  Answer: D) 4

  Alternative approach using Vieta's formulas:
    From x^2 - 4x + 3 = 0, by Vieta's formulas:
    x_1 + x_2 = 4 (coefficient of x with opposite sign)
    Since both roots are valid (verified above), the sum is 4.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Iracionalna jednacina sa zbirom resenja</h1>
  <p class="subtitle">Iracionalne jednacine — kvadriranje i provera resenja</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#x1F4CB;</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Zbir svih resenja jednacine \( \sqrt{10 - x^2} = 4 - x \) je:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">A) \( 6 \)</div>
        <div class="given-item answer-option" data-option="B">B) \( -4 \)</div>
        <div class="given-item answer-option" data-option="C">C) \( -5 \)</div>
        <div class="given-item answer-option correct" data-option="D">D) \( 4 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F3AF;</span> Plan resavanja</div>
    <p class="plan-text">
      Prvo cemo odrediti domen jednacine (uslovi za koren i nenegativnost desne strane). Zatim cemo kvadrirati obe strane da dobijemo kvadratnu jednacinu, resiti je, pa proveriti da li su oba resenja validna. Na kraju sabiramo validna resenja.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4DA;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Iracionalne jednacine — pravila resavanja (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Iracionalna jednacina</strong> je jednacina u kojoj se nepoznata pojavljuje pod korenom. Za resavanje jednacine oblika \( \sqrt{f(x)} = g(x) \) potrebno je:</p>
        <div class="step-math">
          \[ \text{Domen: } f(x) \geq 0 \quad \text{i} \quad g(x) \geq 0 \]
        </div>
        <p style="margin-top: 12px;">Zatim kvadriramo obe strane:</p>
        <div class="step-math">
          \[ f(x) = [g(x)]^2 \]
        </div>
        <p style="margin-top: 12px;"><strong>Vazno:</strong> Kvadriranje moze uneti <em>lazna resenja</em> (resenja koja zadovoljavaju kvadriranu, ali ne i polaznu jednacinu). Zato je <strong>provera obavezna</strong> — svako resenje mora da se vrati u polaznu jednacinu.</p>
        <p style="margin-top: 8px;"><strong>Vijetove formule</strong> za \( ax^2 + bx + c = 0 \):</p>
        <div class="step-math">
          \[ x_1 + x_2 = -\frac{b}{a}, \qquad x_1 \cdot x_2 = \frac{c}{a} \]
        </div>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4CA;</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">Grafici funkcija \( y = \sqrt{10 - x^2} \) (gornji polukrug) i \( y = 4 - x \) (prava) sa presecnim tackama</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F522;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Odredimo domen jednacine</div>
        <p>Jednacina glasi \( \sqrt{10 - x^2} = 4 - x \). Da bi leva strana imala smisla, podkoreni izraz mora biti nenegativan:</p>
        <div class="step-math">
          \[ 10 - x^2 \geq 0 \quad \Rightarrow \quad x^2 \leq 10 \quad \Rightarrow \quad -\sqrt{10} \leq x \leq \sqrt{10} \]
        </div>
        <p>Takodje, posto je \( \sqrt{10 - x^2} \geq 0 \), desna strana takodje mora biti nenegativna:</p>
        <div class="step-math">
          \[ 4 - x \geq 0 \quad \Rightarrow \quad x \leq 4 \]
        </div>
        <p>Posto je \( \sqrt{10} \approx 3{,}162 < 4 \), prvi uslov je strozi. Dakle, domen je \( x \in [-\sqrt{10},\; \sqrt{10}] \).</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto moramo proveriti oba uslova?</summary>
            <div class="detail-content">
              Koren je definisan samo za nenegativne podkorene izraze (uslov 1). Ali kvadratni koren uvek daje nenegativnu vrednost, pa i desna strana mora biti \( \geq 0 \) (uslov 2). Bez ovog drugog uslova mogli bismo dobiti lazno resenje gde je \( 4 - x < 0 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Kvadrirajmo obe strane</div>
        <p>Posto su obe strane nenegativne na domenu, mozemo kvadrirati:</p>
        <div class="step-math">
          \[ \left(\sqrt{10 - x^2}\right)^2 = (4 - x)^2 \]
        </div>
        <div class="step-math">
          \[ 10 - x^2 = 16 - 8x + x^2 \]
        </div>
        <p>Preuredimo jednacinu — prebacimo sve na jednu stranu:</p>
        <div class="step-math">
          \[ 10 - x^2 - 16 + 8x - x^2 = 0 \]
        </div>
        <div class="step-math">
          \[ -2x^2 + 8x - 6 = 0 \]
        </div>
        <p>Podelimo celom jednainom sa \( -2 \):</p>
        <div class="step-math">
          \[ x^2 - 4x + 3 = 0 \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Resimo kvadratnu jednacinu</div>
        <p>Jednacina \( x^2 - 4x + 3 = 0 \) se lako faktorise. Trazimo dva broja ciji je zbir 4, a proizvod 3:</p>
        <div class="step-math">
          \[ x^2 - 4x + 3 = (x - 1)(x - 3) = 0 \]
        </div>
        <p>Odatle dobijamo dva resenja:</p>
        <div class="step-math">
          \[ x_1 = 1 \qquad \text{i} \qquad x_2 = 3 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Jesu li oba resenja u domenu?</summary>
            <div class="detail-content">
              <p>Domen je \( [-\sqrt{10},\; \sqrt{10}] \approx [-3{,}162;\; 3{,}162] \).</p>
              <p>\( x_1 = 1 \): \( -3{,}162 \leq 1 \leq 3{,}162 \) — jeste u domenu.</p>
              <p>\( x_2 = 3 \): \( -3{,}162 \leq 3 \leq 3{,}162 \) — jeste u domenu.</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Proverimo resenja u polaznoj jednacini</div>
        <p>Posto smo kvadrirali jednacinu, moramo proveriti da nismo dobili lazna resenja.</p>
        <p><strong>Za \( x_1 = 1 \):</strong></p>
        <div class="step-math">
          \[ \text{Leva strana: } \sqrt{10 - 1^2} = \sqrt{9} = 3 \]
        </div>
        <div class="step-math">
          \[ \text{Desna strana: } 4 - 1 = 3 \]
        </div>
        <p>\( 3 = 3 \) — Resenje \( x_1 = 1 \) je validno.</p>

        <p style="margin-top: 14px;"><strong>Za \( x_2 = 3 \):</strong></p>
        <div class="step-math">
          \[ \text{Leva strana: } \sqrt{10 - 3^2} = \sqrt{10 - 9} = \sqrt{1} = 1 \]
        </div>
        <div class="step-math">
          \[ \text{Desna strana: } 4 - 3 = 1 \]
        </div>
        <p>\( 1 = 1 \) — Resenje \( x_2 = 3 \) je validno.</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Sta bi bilo da jedno resenje ne zadovoljava?</summary>
            <div class="detail-content">
              Kada bismo dobili resenje koje ne zadovoljava polaznu jednacinu, to bi bilo <em>lazno resenje</em> uvedeno kvadriranjem. Takvo resenje bismo jednostavno odbacili i sabrali samo preostala validna resenja.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo zbir resenja</div>
        <p>Oba resenja su validna, pa trazeni zbir iznosi:</p>
        <div class="step-math">
          \[ x_1 + x_2 = 1 + 3 = 4 \]
        </div>
        <p><em>Napomena:</em> Zbir resenja smo mogli dobiti i direktno iz Vijetovih formula za \( x^2 - 4x + 3 = 0 \):</p>
        <div class="step-math">
          \[ x_1 + x_2 = -\frac{-4}{1} = 4 \]
        </div>
        <p>Naravno, ovo vazi samo ako su oba resenja kvadratne jednacine ujedno i validna resenja polazne iracionalne jednacine, sto smo proverili u prethodnom koraku.</p>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#x1F4A1;</span> Kljucni uvid</div>
    <p>Geometrijski, jednacina \( \sqrt{10 - x^2} = 4 - x \) trazi presek <strong>gornjeg polukruga</strong> \( x^2 + y^2 = 10 \) (za \( y \geq 0 \)) sa <strong>pravom</strong> \( y = 4 - x \). Presecne tacke su \( (1,\, 3) \) i \( (3,\, 1) \), a zbir njihovih \( x \)-koordinata je \( 1 + 3 = 4 \). Ovakva geometrijska interpretacija cesto pomaze da se proveri rezultat ili brze uoci broj resenja.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( x_1 + x_2 = 1 + 3 = 4 \)</div>
    <div class="answer-option">Tacan odgovor je D) \( 4 \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Preskakanje provere resenja:</strong> Kod iracionalnih jednacina, kvadriranje moze uvesti lazna resenja. U ovom zadatku oba resenja su se pokazala validnim, ali to nije uvek slucaj. Uvek proveri svako resenje u polaznoj jednacini!</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Zaboravljanje uslova \( 4 - x \geq 0 \):</strong> Mnogi ucenici gledaju samo podkoreni izraz, ali zaborave da desna strana jednacine takodje mora biti nenegativna jer je jednaka korenu.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Greska pri kvadriranju desne strane:</strong> Cesta greska je pisati \( (4 - x)^2 = 16 - x^2 \) umesto ispravnog \( (4 - x)^2 = 16 - 8x + x^2 \). Ne zaboravite dvostruki proizvod!</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Primena Vijetovih formula bez provere:</strong> Ako koristite formulu \( x_1 + x_2 = -b/a \) za zbir, morate se prvo uveriti da su oba korena kvadratne jednacine ujedno i resenja polazne jednacine.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#x1F3C6;</span> Dodatni izazov</div>
    <p>Pronadi zbir svih resenja jednacine \( \sqrt{20 - x^2} = x + 2 \). Da li oba resenja kvadratne jednacine zadovoljavaju polaznu jednacinu?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Kvadriranjem: \( 20 - x^2 = x^2 + 4x + 4 \), tj. \( 2x^2 + 4x - 16 = 0 \), odakle \( x^2 + 2x - 8 = 0 \).</p>
        <p style="margin-top: 6px;">Resenja: \( (x+4)(x-2) = 0 \), dakle \( x_1 = -4 \) i \( x_2 = 2 \).</p>
        <p style="margin-top: 6px;">Provera za \( x = -4 \): \( \sqrt{20 - 16} = \sqrt{4} = 2 \), a \( -4 + 2 = -2 \). Vazi \( 2 \neq -2 \) — lazno resenje!</p>
        <p style="margin-top: 6px;">Provera za \( x = 2 \): \( \sqrt{20 - 4} = \sqrt{16} = 4 \), a \( 2 + 2 = 4 \). Vazi!</p>
        <p style="margin-top: 6px;">Zbir validnih resenja: \( 2 \). Ovde Vijetov zbir \( -4 + 2 = -2 \) ne daje tacan odgovor jer jedno resenje je lazno!</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system parameters
  const originX = W * 0.45;
  const originY = H * 0.7;
  const scale = 65;

  let hoverPoint = null;

  function toScreen(x, y) {
    return [originX + x * scale, originY - y * scale];
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = 'rgba(51, 65, 85, 0.4)';
    ctx.lineWidth = 0.5;
    for (let i = -5; i <= 6; i++) {
      const [sx, sy] = toScreen(i, -2);
      const [ex, ey] = toScreen(i, 6);
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ex, ey);
      ctx.stroke();
    }
    for (let j = -2; j <= 6; j++) {
      const [sx, sy] = toScreen(-5, j);
      const [ex, ey] = toScreen(6, j);
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ex, ey);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    // x-axis
    ctx.beginPath();
    const [xaS] = toScreen(-5, 0);
    const [xaE] = toScreen(6, 0);
    ctx.moveTo(xaS, originY);
    ctx.lineTo(xaE, originY);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    const [, yaS] = toScreen(0, -2);
    const [, yaE] = toScreen(0, 6);
    ctx.moveTo(originX, yaS);
    ctx.lineTo(originX, yaE);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (let i = -4; i <= 5; i++) {
      if (i === 0) continue;
      const [sx] = toScreen(i, 0);
      ctx.fillText(String(i), sx, originY + 6);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let j = -1; j <= 5; j++) {
      if (j === 0) continue;
      const [, sy] = toScreen(0, j);
      ctx.fillText(String(j), originX - 8, sy);
    }
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    const [xLabelX] = toScreen(5.5, 0);
    ctx.fillText('x', xLabelX, originY + 6);
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    const [, yLabelY] = toScreen(0, 5.6);
    ctx.fillText('y', originX - 8, yLabelY);

    // Draw the upper semicircle: y = sqrt(10 - x^2), for |x| <= sqrt(10)
    const r = Math.sqrt(10);
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let px = -r; px <= r; px += 0.02) {
      const py = Math.sqrt(Math.max(0, 10 - px * px));
      const [sx, sy] = toScreen(px, py);
      if (first) { ctx.moveTo(sx, sy); first = false; }
      else { ctx.lineTo(sx, sy); }
    }
    ctx.stroke();

    // Label for semicircle
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    const [lblSx, lblSy] = toScreen(-r - 0.3, 0.5);
    ctx.fillText('y = \u221A(10 \u2212 x\u00B2)', lblSx - 30, lblSy - 10);

    // Draw the line y = 4 - x
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    const [lx1, ly1] = toScreen(-1.5, 5.5);
    const [lx2, ly2] = toScreen(5.5, -1.5);
    ctx.moveTo(lx1, ly1);
    ctx.lineTo(lx2, ly2);
    ctx.stroke();

    // Label for line
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    const [lblLx, lblLy] = toScreen(4.2, 0.5);
    ctx.fillText('y = 4 \u2212 x', lblLx, lblLy - 5);

    // Intersection points
    const points = [
      { x: 1, y: 3, label: '(1; 3)' },
      { x: 3, y: 1, label: '(3; 1)' }
    ];

    points.forEach(function(pt) {
      const [sx, sy] = toScreen(pt.x, pt.y);

      // Glow effect
      ctx.beginPath();
      ctx.arc(sx, sy, 10, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(52, 211, 153, 0.2)';
      ctx.fill();

      // Point
      ctx.beginPath();
      ctx.arc(sx, sy, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#34d399';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'bottom';
      ctx.fillText(pt.label, sx + 10, sy - 8);
    });

    // Dashed lines from points to axes
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.4)';
    ctx.lineWidth = 1;

    points.forEach(function(pt) {
      const [sx, sy] = toScreen(pt.x, pt.y);
      const [ax] = toScreen(pt.x, 0);
      const [, ay] = toScreen(0, pt.y);

      // To x-axis
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ax, originY);
      ctx.stroke();

      // To y-axis
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(originX, ay);
      ctx.stroke();
    });

    ctx.setLineDash([]);

    // Bottom summary text
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    ctx.fillText('x\u2081 + x\u2082 = 1 + 3 = 4', W / 2, H - 12);

    // Hover tooltip
    if (hoverPoint) {
      const [sx, sy] = toScreen(hoverPoint.x, hoverPoint.y);
      const tooltipText = 'x = ' + hoverPoint.x + ', y = ' + hoverPoint.y;
      ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 1;
      const tw = ctx.measureText(tooltipText).width + 16;
      const th = 28;
      const tx = sx + 15;
      const ty = sy - th - 10;
      ctx.beginPath();
      ctx.roundRect(tx, ty, tw, th, 6);
      ctx.fill();
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'middle';
      ctx.fillText(tooltipText, tx + 8, ty + th / 2);
    }
  }

  function handlePointer(e) {
    var rect = canvas.getBoundingClientRect();
    var scaleX = W / rect.width;
    var scaleY = H / rect.height;
    var cx, cy;
    if (e.touches) {
      cx = (e.touches[0].clientX - rect.left) * scaleX;
      cy = (e.touches[0].clientY - rect.top) * scaleY;
    } else {
      cx = (e.clientX - rect.left) * scaleX;
      cy = (e.clientY - rect.top) * scaleY;
    }

    var points = [
      { x: 1, y: 3 },
      { x: 3, y: 1 }
    ];

    hoverPoint = null;
    for (var i = 0; i < points.length; i++) {
      var pt = points[i];
      var sx = originX + pt.x * scale;
      var sy = originY - pt.y * scale;
      var dist = Math.sqrt((cx - sx) * (cx - sx) + (cy - sy) * (cy - sy));
      if (dist < 25) {
        hoverPoint = pt;
        break;
      }
    }
    draw();
  }

  canvas.addEventListener('mousemove', handlePointer);
  canvas.addEventListener('touchstart', handlePointer, { passive: true });
  canvas.addEventListener('touchmove', handlePointer, { passive: true });
  canvas.addEventListener('mouseleave', function() {
    hoverPoint = null;
    draw();
  });

  draw();

  var resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META {"title":"Zbir resenja iracionalne jednacine","subject":"math","unit":"iracionalne_jednacine","topic_tags":["iracionalne jednacine","kvadriranje","domen","kvadratna jednacina","Vijetove formule","provera resenja"]} BRAINSPARK_META-->