<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celobrojni clan u binomnom razvoju</title>
<script type="text/info" id="logic-scratchpad">
Problem: Find the integer term in the expansion of (√3 + ∛4)^7.

Using the binomial theorem:
(√3 + ∛4)^7 = Σ_{k=0}^{7} C(7,k) · (√3)^{7-k} · (∛4)^k

(√3)^{7-k} = 3^{(7-k)/2}
(∛4)^k = 4^{k/3} = (2^2)^{k/3} = 2^{2k/3}

For the term to be an integer, BOTH exponents must be non-negative integers:
1) (7-k)/2 must be a non-negative integer → 7-k must be even → k must be odd
   k odd: k ∈ {1, 3, 5, 7}

2) 2k/3 must be a non-negative integer → k must be divisible by 3
   k divisible by 3: k ∈ {0, 3, 6}

Intersection: k = 3 (only value that is both odd and divisible by 3)

Term for k = 3:
C(7,3) · 3^{(7-3)/2} · 2^{2·3/3}
= C(7,3) · 3^{4/2} · 2^{6/3}
= 35 · 3^2 · 2^2
= 35 · 9 · 4
= 1260

C(7,3) = 7!/(3!·4!) = (7·6·5)/(3·2·1) = 210/6 = 35

Answer: E) 1260
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}
h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 10px;
}
.highlight-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  text-align: center;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
  flex: 1;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}
.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
details {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
}
details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 4px 0;
}
details summary:hover {
  color: #c4b5fd;
}
details[open] summary {
  margin-bottom: 12px;
}
.step-container {
  position: relative;
  padding-left: 50px;
  margin-bottom: 20px;
  cursor: pointer;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  border-radius: 8px;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-right: 8px;
}
.step-container:hover, .step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}
.step-badge {
  position: absolute;
  left: 8px;
  top: 12px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
}
.step-title {
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.1rem;
  margin-bottom: 6px;
}
.step-text {
  color: #e2e8f0;
  margin-bottom: 8px;
}
.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}
.final-answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
  margin: 16px 0;
}
.answer-options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}
.answer-chip {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1.05rem;
  font-weight: 600;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.8);
  color: #94a3b8;
  transition: all 0.2s;
}
.answer-chip.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}
.pitfall-card {
  border-left: 3px solid #e09468;
}
.pitfall-card h2 {
  color: #e09468;
}
.challenge-card {
  border-left: 3px solid #f472b6;
}
.challenge-card h2 {
  color: #f472b6;
}
.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 10px;
}
canvas {
  width: 100%;
  border-radius: 10px;
  display: block;
  margin: 0 auto;
  touch-action: none;
}
.insight-card {
  border-left: 3px solid #60a5fa;
}
.micro-check details {
  background: rgba(52,211,153,0.06);
  border-color: rgba(52,211,153,0.2);
}
.micro-check details summary {
  color: #34d399;
}
.term-table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 0.95rem;
}
.term-table th, .term-table td {
  padding: 10px 14px;
  text-align: center;
  border: 1px solid #334155;
}
.term-table th {
  background: rgba(96,165,250,0.1);
  color: #60a5fa;
  font-weight: 600;
}
.term-table td {
  background: rgba(30,41,59,0.5);
}
.term-table .integer-row {
  background: rgba(74,222,128,0.1);
  border: 2px solid #4ade80;
}
.term-table .integer-row td {
  background: rgba(74,222,128,0.1);
  color: #4ade80;
  font-weight: 600;
}
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { padding-left: 42px; }
  .given-grid { flex-direction: column; }
  .answer-options-row { flex-direction: column; align-items: center; }
  .term-table { font-size: 0.8rem; }
  .term-table th, .term-table td { padding: 6px 8px; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Celobrojni clan u binomnom razvoju</h1>
  <p class="subtitle">Primena binomne teoreme za nalazenje clana koji je ceo broj u razvoju izraza sa korenima</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Clan u razvoju</p>
    <div class="highlight-box">
      \[ \left(\sqrt{3} + \sqrt[3]{4}\right)^7 \]
    </div>
    <p>koji je ceo broj jednak je:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Izraz</div>
        <div class="value">\( \left(\sqrt{3} + \sqrt[3]{4}\right)^7 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Eksponent</div>
        <div class="value">\( n = 7 \)</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">Clan koji je \( \in \mathbb{Z} \)</div>
      </div>
    </div>

    <h3 style="margin-top: 20px;">Ponudjeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">998</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">1000</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">1222</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">1200</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">1260</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Primenimo binomnu teoremu na izraz \( \left(\sqrt{3} + \sqrt[3]{4}\right)^7 \). Svaki clan razvoja sadrzi stepene od \( \sqrt{3} = 3^{1/2} \) i \( \sqrt[3]{4} = 2^{2/3} \). Potrebno je naci za koje \( k \) su oba eksponenta celi brojevi, jer samo tada ce clan biti ceo broj.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i teoreme</summary>
      <div style="margin-top: 10px;">
        <p><strong>Binomna teorema:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>Za \( (a + b)^n \) vazi:
            \[ (a + b)^n = \sum_{k=0}^{n} \binom{n}{k} \, a^{n-k} \, b^k \]
          </li>
          <li>Opsti clan: \( T_{k+1} = \binom{n}{k} \, a^{n-k} \, b^k \), gde je \( k = 0, 1, 2, \ldots, n \).</li>
        </ul>
        <p style="margin-top: 12px;"><strong>Binomni koeficijent:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>\( \binom{n}{k} = \dfrac{n!}{k! \cdot (n-k)!} \)</li>
        </ul>
        <p style="margin-top: 12px;"><strong>Pravila za stepene:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>\( \sqrt{a} = a^{1/2} \), \( \sqrt[3]{a} = a^{1/3} \)</li>
          <li>\( \left(a^m\right)^n = a^{m \cdot n} \)</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <h2>Vizuelni prikaz clanova razvoja</h2>
    <canvas id="termsCanvas" height="420"></canvas>
    <p style="color: #64748b; text-align: center; margin-top: 10px; font-size: 0.9rem;">Dijagram prikazuje eksponente za svaki clan razvoja. Celobrojni clan je istaknut.</p>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-title">Zapisujemo binomni razvoj</div>
      <div class="step-text">
        <p>Primenom binomne teoreme na \( \left(\sqrt{3} + \sqrt[3]{4}\right)^7 \):</p>
        <div class="highlight-box">
          \[ \left(\sqrt{3} + \sqrt[3]{4}\right)^7 = \sum_{k=0}^{7} \binom{7}{k} \left(\sqrt{3}\right)^{7-k} \left(\sqrt[3]{4}\right)^k \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-title">Prepisujemo baze kao stepene</div>
      <div class="step-text">
        <p>Zapisimo korene preko racionalnih eksponenata:</p>
        <div class="highlight-box">
          \[ \sqrt{3} = 3^{1/2}, \qquad \sqrt[3]{4} = 4^{1/3} = \left(2^2\right)^{1/3} = 2^{2/3} \]
        </div>
        <p>Tada je opsti clan razvoja:</p>
        <div class="highlight-box">
          \[ T_{k+1} = \binom{7}{k} \cdot 3^{(7-k)/2} \cdot 2^{2k/3} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-title">Postavljamo uslove za celobrojnost</div>
      <div class="step-text">
        <p>Da bi clan \( T_{k+1} \) bio ceo broj, oba eksponenta moraju biti nenegativni celi brojevi:</p>
        <div class="highlight-box">
          \[ \frac{7 - k}{2} \in \mathbb{Z}_{\geq 0} \quad \text{i} \quad \frac{2k}{3} \in \mathbb{Z}_{\geq 0} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-title">Analiziramo prvi uslov: \( \frac{7-k}{2} \in \mathbb{Z} \)</div>
      <div class="step-text">
        <p>Broj \( 7 - k \) mora biti paran, sto znaci da \( k \) mora biti neparan (jer je \( 7 \) neparan):</p>
        <div class="highlight-box">
          \[ k \in \{1,\; 3,\; 5,\; 7\} \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Zasto k mora biti neparan?</summary>
        <p style="margin-top: 8px;">Razlika \( 7 - k \) je parna samo ako su \( 7 \) i \( k \) iste parnosti. Posto je \( 7 \) neparan, \( k \) takodje mora biti neparan da bi razlika bila parna.</p>
      </details>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-title">Analiziramo drugi uslov: \( \frac{2k}{3} \in \mathbb{Z} \)</div>
      <div class="step-text">
        <p>Potrebno je da \( 3 \mid 2k \). Posto je \( \gcd(2, 3) = 1 \), sledi da \( 3 \mid k \):</p>
        <div class="highlight-box">
          \[ k \in \{0,\; 3,\; 6\} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-title">Nalazimo presek uslova</div>
      <div class="step-text">
        <p>Trazimo vrednosti \( k \) koje su istovremeno neparne i deljive sa \( 3 \):</p>
        <div class="highlight-box">
          \[ \{1, 3, 5, 7\} \cap \{0, 3, 6\} = \{3\} \]
        </div>
        <p>Jedina vrednost koja zadovoljava oba uslova je \( k = 3 \).</p>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Koliko iznosi \( \binom{7}{3} \)?</summary>
        <p style="margin-top: 8px;">\( \binom{7}{3} = \dfrac{7!}{3! \cdot 4!} = \dfrac{7 \cdot 6 \cdot 5}{3 \cdot 2 \cdot 1} = \dfrac{210}{6} = 35 \)</p>
      </details>
    </div>

    <div class="step-container" id="step7">
      <div class="step-badge">7</div>
      <div class="step-title">Racunamo clan za \( k = 3 \)</div>
      <div class="step-text">
        <p>Uvrstimo \( k = 3 \) u formulu za opsti clan:</p>
        <div class="highlight-box">
          \[ T_4 = \binom{7}{3} \cdot 3^{(7-3)/2} \cdot 2^{2 \cdot 3/3} \]
        </div>
        <p>Izracunajmo eksponente:</p>
        <div class="highlight-box">
          \[ \frac{7-3}{2} = \frac{4}{2} = 2, \qquad \frac{2 \cdot 3}{3} = \frac{6}{3} = 2 \]
        </div>
        <p>Zamenjujemo:</p>
        <div class="highlight-box">
          \[ T_4 = 35 \cdot 3^2 \cdot 2^2 = 35 \cdot 9 \cdot 4 \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step8">
      <div class="step-badge">8</div>
      <div class="step-title">Izracunavamo konacnu vrednost</div>
      <div class="step-text">
        <p>Mnozimo redom:</p>
        <div class="highlight-box">
          \[ 35 \cdot 9 = 315 \]
        </div>
        <div class="highlight-box">
          \[ 315 \cdot 4 = 1260 \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Da li je 1260 medju ponudjenim odgovorima?</summary>
        <p style="margin-top: 8px;">Da! Odgovor \( 1260 \) odgovara opciji (E). Takodje, mozemo proveriti: \( 35 \cdot 36 = 1260 \), jer je \( 9 \cdot 4 = 36 \).</p>
      </details>
    </div>
  </div>

  <!-- Terms table -->
  <div class="card">
    <h2>Pregled svih clanova razvoja</h2>
    <p style="margin-bottom: 12px;">Tabela prikazuje eksponente baza 3 i 2 za svako \( k \). Samo za \( k = 3 \) su oba eksponenta celi brojevi.</p>
    <div style="overflow-x: auto;">
      <table class="term-table">
        <thead>
          <tr>
            <th>\( k \)</th>
            <th>\( \binom{7}{k} \)</th>
            <th>\( \frac{7-k}{2} \)</th>
            <th>Ceo?</th>
            <th>\( \frac{2k}{3} \)</th>
            <th>Ceo?</th>
            <th>Oba cela?</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>0</td><td>1</td><td>3,5</td><td style="color:#f472b6;">Ne</td><td>0</td><td style="color:#4ade80;">Da</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr>
            <td>1</td><td>7</td><td>3</td><td style="color:#4ade80;">Da</td><td>0,67</td><td style="color:#f472b6;">Ne</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr>
            <td>2</td><td>21</td><td>2,5</td><td style="color:#f472b6;">Ne</td><td>1,33</td><td style="color:#f472b6;">Ne</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr class="integer-row">
            <td>3</td><td>35</td><td>2</td><td style="color:#4ade80;">Da</td><td>2</td><td style="color:#4ade80;">Da</td><td style="color:#4ade80;">Da</td>
          </tr>
          <tr>
            <td>4</td><td>35</td><td>1,5</td><td style="color:#f472b6;">Ne</td><td>2,67</td><td style="color:#f472b6;">Ne</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr>
            <td>5</td><td>21</td><td>1</td><td style="color:#4ade80;">Da</td><td>3,33</td><td style="color:#f472b6;">Ne</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr>
            <td>6</td><td>7</td><td>0,5</td><td style="color:#f472b6;">Ne</td><td>4</td><td style="color:#4ade80;">Da</td><td style="color:#f472b6;">Ne</td>
          </tr>
          <tr>
            <td>7</td><td>1</td><td>0</td><td style="color:#4ade80;">Da</td><td>4,67</td><td style="color:#f472b6;">Ne</td><td style="color:#f472b6;">Ne</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Kljuc ovog zadatka je prepoznati da clan binomnog razvoja sadrzi dva iracionalna faktora: \( 3^{(7-k)/2} \) i \( 2^{2k/3} \). Clan ce biti ceo broj samo ako su oba eksponenta celi, sto zahteva da \( k \) bude istovremeno neparan i deljiv sa 3. Od 8 mogucih vrednosti \( k \in \{0, 1, \ldots, 7\} \), samo \( k = 3 \) zadovoljava oba uslova.</p>
    <div class="highlight-box" style="font-size: 1.2rem;">
      \[ T_4 = \binom{7}{3} \cdot 3^2 \cdot 2^2 = 35 \cdot 9 \cdot 4 = \boxed{1260} \]
    </div>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2 style="color: #4ade80;">Konacan odgovor</h2>
    <div class="final-answer-value">\( 1260 \)</div>

    <div class="answer-options-row">
      <div class="answer-chip">(A) 998</div>
      <div class="answer-chip">(B) 1000</div>
      <div class="answer-chip">(C) 1222</div>
      <div class="answer-chip">(D) 1200</div>
      <div class="answer-chip correct">(E) 1260</div>
    </div>

    <p class="verification">Verifikacija: \( \binom{7}{3} = 35 \), \( 3^2 = 9 \), \( 2^2 = 4 \). Proizvod: \( 35 \times 9 \times 4 = 1260 \;\; \checkmark \)</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <h2>Ceste greske</h2>
    <ul style="margin-left: 20px; margin-top: 8px;">
      <li style="margin-bottom: 10px;"><strong>Pogresno zapisivanje \( \sqrt[3]{4} \):</strong> Treba zapisati \( 4^{1/3} = 2^{2/3} \), a ne \( 4^{1/3} = 2^{1/3} \). Greska u eksponentu baze 2 dovodi do pogresnog uslova deljivosti i pogresnog rezultata.</li>
      <li style="margin-bottom: 10px;"><strong>Zaboravljanje jednog uslova:</strong> Nije dovoljno da samo jedan eksponent bude ceo. Oba uslova moraju istovremeno da vaze. Na primer, za \( k = 1 \) je \( (7-1)/2 = 3 \) ceo, ali \( 2/3 \) nije.</li>
      <li><strong>Pogresno racunanje \( \binom{7}{3} \):</strong> Cesta greska je zamena sa \( \binom{7}{4} \), ali zapravo vazi \( \binom{7}{3} = \binom{7}{4} = 35 \), pa u ovom slucaju nema razlike. Ipak, uvek proveriti: \( 7 \cdot 6 \cdot 5 / 6 = 35 \).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Koliko celih clanova ima u razvoju \( \left(\sqrt{3} + \sqrt[3]{4}\right)^{13} \)?</p>
    <details>
      <summary>Hint</summary>
      <p style="margin-top: 8px;">Potrebno je da \( (13-k)/2 \in \mathbb{Z} \) i \( 2k/3 \in \mathbb{Z} \). Iz prvog uslova: \( k \) neparan. Iz drugog: \( 3 \mid k \). Neparne vrednosti \( k \) deljive sa 3 u rasponu \( 0 \leq k \leq 13 \): to su \( k = 3 \) i \( k = 9 \). Dakle, 2 cela clana.</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas: Visualize the exponents for each term
  const canvas = document.getElementById('termsCanvas');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    const w = rect.width - 48;
    canvas.width = w * 2;
    canvas.height = 420 * 2;
    canvas.style.height = '420px';
    ctx.scale(2, 2);
    drawTerms(w);
  }

  function drawTerms(W) {
    const H = 420;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    const marginLeft = 60;
    const marginRight = 30;
    const marginTop = 50;
    const marginBottom = 70;
    const plotW = W - marginLeft - marginRight;
    const plotH = H - marginTop - marginBottom;

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Eksponenti baze 3 i baze 2 za svako k', W / 2, 28);

    // Data for each k: exponent of 3 = (7-k)/2, exponent of 2 = 2k/3
    const data = [];
    for (let k = 0; k <= 7; k++) {
      data.push({
        k: k,
        exp3: (7 - k) / 2,
        exp2: (2 * k) / 3,
        isInteger3: Number.isInteger((7 - k) / 2),
        isInteger2: Number.isInteger((2 * k) / 3)
      });
    }

    // Y-axis scale: max exponent is 4.67
    const maxY = 5;
    const barGroupW = plotW / 8;
    const barW = barGroupW * 0.3;

    // Draw grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    for (let i = 0; i <= maxY; i++) {
      const y = marginTop + plotH - (i / maxY) * plotH;
      ctx.beginPath();
      ctx.moveTo(marginLeft, y);
      ctx.lineTo(W - marginRight, y);
      ctx.stroke();

      // Y-axis labels
      ctx.fillStyle = '#64748b';
      ctx.font = '11px Segoe UI, sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(String(i), marginLeft - 10, y + 4);
    }

    // Draw axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(marginLeft, marginTop);
    ctx.lineTo(marginLeft, marginTop + plotH);
    ctx.lineTo(W - marginRight, marginTop + plotH);
    ctx.stroke();

    // Draw bars for each k
    data.forEach((d, i) => {
      const cx = marginLeft + (i + 0.5) * barGroupW;
      const h3 = (d.exp3 / maxY) * plotH;
      const h2 = (d.exp2 / maxY) * plotH;
      const baseY = marginTop + plotH;

      const bothInt = d.isInteger3 && d.isInteger2;

      // Bar for exponent of 3
      const color3 = d.isInteger3 ? '#60a5fa' : 'rgba(96,165,250,0.3)';
      ctx.fillStyle = color3;
      ctx.beginPath();
      ctx.roundRect(cx - barW - 2, baseY - h3, barW, h3, [4, 4, 0, 0]);
      ctx.fill();

      // Bar for exponent of 2
      const color2 = d.isInteger2 ? '#a78bfa' : 'rgba(167,139,250,0.3)';
      ctx.fillStyle = color2;
      ctx.beginPath();
      ctx.roundRect(cx + 2, baseY - h2, barW, h2, [4, 4, 0, 0]);
      ctx.fill();

      // Highlight k=3 with a glow
      if (bothInt) {
        ctx.strokeStyle = '#4ade80';
        ctx.lineWidth = 2;
        ctx.setLineDash([4, 3]);
        ctx.beginPath();
        ctx.roundRect(cx - barW - 7, baseY - Math.max(h3, h2) - 10, barW * 2 + 13, Math.max(h3, h2) + 14, 6);
        ctx.stroke();
        ctx.setLineDash([]);

        // Label "Ceo broj!"
        ctx.fillStyle = '#4ade80';
        ctx.font = 'bold 11px Segoe UI, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Ceo broj!', cx, baseY - Math.max(h3, h2) - 18);
      }

      // Value labels on top of bars
      ctx.font = '10px Segoe UI, sans-serif';
      ctx.textAlign = 'center';

      if (h3 > 15) {
        ctx.fillStyle = d.isInteger3 ? '#e2e8f0' : '#64748b';
        const exp3Text = Number.isInteger(d.exp3) ? String(d.exp3) : d.exp3.toFixed(1).replace('.', ',');
        ctx.fillText(exp3Text, cx - barW / 2 - 2, baseY - h3 - 5);
      }

      if (h2 > 15) {
        ctx.fillStyle = d.isInteger2 ? '#e2e8f0' : '#64748b';
        const exp2Text = Number.isInteger(d.exp2) ? String(d.exp2) : d.exp2.toFixed(2).replace('.', ',');
        ctx.fillText(exp2Text, cx + barW / 2 + 2, baseY - h2 - 5);
      }

      // X-axis labels
      ctx.fillStyle = bothInt ? '#4ade80' : '#94a3b8';
      ctx.font = bothInt ? 'bold 13px Segoe UI, sans-serif' : '12px Segoe UI, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('k=' + d.k, cx, baseY + 20);
    });

    // Legend
    const legY = H - 22;
    const legX = W / 2 - 140;

    // exp3 legend
    ctx.fillStyle = '#60a5fa';
    ctx.beginPath();
    ctx.roundRect(legX, legY - 8, 16, 16, 3);
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Eksponent baze 3', legX + 22, legY + 5);

    // exp2 legend
    ctx.fillStyle = '#a78bfa';
    ctx.beginPath();
    ctx.roundRect(legX + 170, legY - 8, 16, 16, 3);
    ctx.fill();
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Eksponent baze 2', legX + 192, legY + 5);
    ctx.textAlign = 'center';

    // Y-axis label
    ctx.save();
    ctx.translate(18, marginTop + plotH / 2);
    ctx.rotate(-Math.PI / 2);
    ctx.fillStyle = '#64748b';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Vrednost eksponenta', 0, 0);
    ctx.restore();
  }

  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Celobrojni clan u binomnom razvoju",
  "subject": "math",
  "unit": "algebra",
  "topic_tags": ["binomna teorema", "binomni razvoj", "stepeni korenova", "celobrojni clan", "kombinatorika"]
}
BRAINSPARK_META-->