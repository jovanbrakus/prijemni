<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zbir stepena imaginarne jedinice</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Compute the sum 1 + i + i^2 + ... + i^2024, where i^2 = -1.

  Step 1: Recognize that powers of i cycle with period 4:
    i^0 = 1
    i^1 = i
    i^2 = -1
    i^3 = -i
    i^4 = 1  (cycle repeats)

  Step 2: Sum of one full cycle:
    1 + i + (-1) + (-i) = 0

  Step 3: Count the number of terms.
    The sum goes from i^0 to i^2024, so there are 2025 terms.

  Step 4: Divide 2025 by 4.
    2025 = 4 * 506 + 1
    So there are 506 complete cycles (each summing to 0) and 1 remaining term.

  Step 5: The remaining term is i^0 = 1 (the first term of the next cycle).
    Sum = 506 * 0 + 1 = 1.

  Answer: B) 1

  Verification: The sum of i^0 through i^3 is 0. Repeating 506 times covers
  i^0 through i^2023. The last term is i^2024 = i^(4*506) = (i^4)^506 = 1^506 = 1.
  Total = 0 + 1 = 1.
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option {
  /* static, no hover effects */
}

.given-item.answer-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

.cycle-table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
}

.cycle-table th, .cycle-table td {
  border: 1px solid #334155;
  padding: 10px 16px;
  text-align: center;
}

.cycle-table th {
  background: rgba(96, 165, 250, 0.15);
  color: #60a5fa;
  font-weight: 600;
}

.cycle-table td {
  background: rgba(30, 41, 59, 0.5);
}

.cycle-table tr.highlight-row td {
  background: rgba(52, 211, 153, 0.12);
  color: #34d399;
  font-weight: 600;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Zbir stepena imaginarne jedinice</h1>
  <p class="subtitle">Kompleksni brojevi &mdash; ciklicnost stepena imaginarne jedinice</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#x1F4CB;</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Zbir \( 1 + i + i^2 + \ldots + i^{2024} \), gde je \( i^2 = -1 \), jednak je:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">A) \(-1\)</div>
        <div class="given-item answer-option correct" data-option="B">B) \(1\)</div>
        <div class="given-item answer-option" data-option="C">C) \(-i\)</div>
        <div class="given-item answer-option" data-option="D">D) \(i\)</div>
        <div class="given-item answer-option" data-option="E">E) \(2025i\)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F3AF;</span> Plan resavanja</div>
    <p class="plan-text">
      Koristicemo cinjenicu da se stepeni imaginarne jedinice \( i \) ponavljaju sa periodom 4. Zbir jednog punog ciklusa je nula. Prebrojacemo koliko punih ciklusa ima u nasem zbiru i koliko clanova ostaje, pa izracunati konacni rezultat.
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4DA;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Stepeni imaginarne jedinice i njihova ciklicnost (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Imaginarna jedinica \( i \)</strong> je definisana sa \( i^2 = -1 \). Njeni stepeni cine ciklus duzine 4:</p>
        <table class="cycle-table">
          <tr>
            <th>Stepen</th>
            <th>\( i^0 \)</th>
            <th>\( i^1 \)</th>
            <th>\( i^2 \)</th>
            <th>\( i^3 \)</th>
            <th>\( i^4 \)</th>
            <th>\( i^5 \)</th>
            <th>\( \ldots \)</th>
          </tr>
          <tr>
            <th>Vrednost</th>
            <td>\( 1 \)</td>
            <td>\( i \)</td>
            <td>\( -1 \)</td>
            <td>\( -i \)</td>
            <td>\( 1 \)</td>
            <td>\( i \)</td>
            <td>\( \ldots \)</td>
          </tr>
        </table>
        <p style="margin-top: 12px;"><strong>Kljucna osobina:</strong> Za svako \( n \), vazi \( i^n = i^{n \bmod 4} \). Stepen \( i \) zavisi samo od ostatka pri deljenju eksponenta sa 4.</p>
        <p style="margin-top: 12px;"><strong>Zbir jednog ciklusa:</strong></p>
        <div class="step-math">
          \[ i^0 + i^1 + i^2 + i^3 = 1 + i + (-1) + (-i) = 0 \]
        </div>
        <p style="margin-top: 12px;">Ovo znaci da se svaka grupa od 4 uzastopna stepena \( i \) ponisti.</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4CA;</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="500"></canvas>
    </div>
    <p class="canvas-caption">Stepeni broja \( i \) na kompleksnoj ravni &mdash; ciklus duzine 4 sa zbirom 0</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F522;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Zapisujemo zbir i prepoznajemo strukturu</div>
        <p>Dati zbir je:</p>
        <div class="step-math">
          \[ S = i^0 + i^1 + i^2 + i^3 + i^4 + \ldots + i^{2024} \]
        </div>
        <p>Ovo je zbir uzastopnih stepena broja \( i \), od \( i^0 = 1 \) do \( i^{2024} \). Ukupno imamo \( 2024 - 0 + 1 = \mathbf{2025} \) clanova.</p>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Uocavamo ciklicnost stepena broja \( i \)</div>
        <p>Stepeni broja \( i \) se ponavljaju sa periodom 4:</p>
        <div class="step-math">
          \[ i^0 = 1, \quad i^1 = i, \quad i^2 = -1, \quad i^3 = -i, \quad i^4 = 1, \quad \ldots \]
        </div>
        <p>Zbir bilo koja 4 uzastopna clana je:</p>
        <div class="highlight-box">
          \( i^{4k} + i^{4k+1} + i^{4k+2} + i^{4k+3} = 1 + i + (-1) + (-i) = 0 \)
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je zbir ciklusa jednak nuli?</summary>
            <div class="detail-content">
              Realni delovi se poniste: \( 1 + (-1) = 0 \). Imaginarni delovi se takodje poniste: \( i + (-i) = 0 \). Zato je ukupan zbir jednog ciklusa \( 0 + 0i = 0 \).
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Delimo 2025 clanova na pune cikluse i ostatak</div>
        <p>Delimo ukupan broj clanova sa duzinom ciklusa:</p>
        <div class="step-math">
          \[ 2025 \div 4 = 506 \text{ (celih ciklusa)} \quad \text{i ostatak } 1 \]
        </div>
        <p>Proverimo: \( 4 \times 506 + 1 = 2024 + 1 = 2025 \). Tacno.</p>
        <p style="margin-top: 8px;">Dakle, imamo <strong>506 kompletnih ciklusa</strong> (svaki daje zbir 0) i <strong>1 preostali clan</strong>.</p>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Racunamo konacni zbir</div>
        <p>506 kompletnih ciklusa doprinose zbiru:</p>
        <div class="step-math">
          \[ 506 \times 0 = 0 \]
        </div>
        <p>Preostali 1 clan je poslednji clan zbira, \( i^{2024} \). Odredjujemo njegovu vrednost:</p>
        <div class="step-math">
          \[ 2024 = 4 \times 506 \quad \Longrightarrow \quad i^{2024} = i^{4 \times 506} = (i^4)^{506} = 1^{506} = 1 \]
        </div>
        <p>Dakle ukupan zbir je:</p>
        <div class="highlight-box">
          \( S = 0 + 1 = 1 \)
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto poslednji clan odgovara ostatku?</summary>
            <div class="detail-content">
              <p>Prvih \( 4 \times 506 = 2024 \) clanova (od \( i^0 \) do \( i^{2023} \)) cine 506 kompletnih ciklusa. Preostaje samo poslednji clan, \( i^{2024} \). Posto je \( 2024 \mod 4 = 0 \), ovaj clan je \( i^0 = 1 \).</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Alternativni pristup: formula za geometrijski red</div>
        <p>Dati zbir je geometrijski red sa prvim clanom \( a = 1 \), kolicnikom \( q = i \) i \( n = 2025 \) clanova:</p>
        <div class="step-math">
          \[ S = \frac{i^{2025} - 1}{i - 1} \]
        </div>
        <p>Odredjujemo \( i^{2025} \): posto je \( 2025 = 4 \times 506 + 1 \), sledi \( i^{2025} = i^1 = i \).</p>
        <div class="step-math">
          \[ S = \frac{i - 1}{i - 1} = 1 \]
        </div>
        <p>Isti rezultat &mdash; potvrda tacnosti!</p>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto smemo deliti sa \( i - 1 \)?</summary>
            <div class="detail-content">
              Formula za zbir geometrijskog reda \( \sum_{k=0}^{n-1} q^k = \frac{q^n - 1}{q - 1} \) vazi za \( q \neq 1 \). Posto je \( i \neq 1 \), deljenje je dozvoljeno.
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#x1F4A1;</span> Kljucni uvid</div>
    <p>Kljuc za resavanje ovog zadatka je ciklicnost stepena imaginarne jedinice: \( i^0, i^1, i^2, i^3 \) se ponavljaju sa periodom 4, a zbir jednog punog ciklusa je 0. Zato se problem svodi na prebrojavanje: koliko punih ciklusa staje u 2025 clanova i sta ostaje? Posto \( 2025 = 4 \times 506 + 1 \), ostaje samo jedan clan \( i^{2024} = 1 \), pa je zbir jednak \( 1 \).</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( S = 1 \)</div>
    <div class="answer-option">Tacan odgovor je B) 1</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Pogresan broj clanova:</strong> Zbir od \( i^0 \) do \( i^{2024} \) ima \( 2025 \) clanova, ne \( 2024 \). Greska "za jedan" moze dovesti do pogresnog ostatka pri deljenju sa 4, i time do pogresnog odgovora.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Zaboraviti da je \( i^0 = 1 \):</strong> Neki ucenici krenu od \( i^1 = i \) umesto od \( i^0 = 1 \), sto menja strukturu zbira. Zadatak eksplicitno pocinje sa "1 + i + ...", sto je upravo \( i^0 + i^1 + \ldots \).</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Pogresno deljenje sa ostatkom:</strong> Ako se umesto \( 2025 \div 4 = 506 \) ostatak \( 1 \) izracuna pogresno (npr. \( 2024 \div 4 = 506 \) ostatak \( 0 \), a onda se zaboravi poslednji clan), rezultat moze biti 0 umesto 1.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Misljenje da je zbir \( 2025i \):</strong> Ovo bi bilo tacno samo ako bi svi clanovi bili jednaki \( i \), sto ocito nije slucaj jer se stepeni menjaju.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#x1F3C6;</span> Dodatni izazov</div>
    <p>Koliki je zbir \( 1 + i + i^2 + \ldots + i^{2025} \)?</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Sada imamo 2026 clanova: \( 2026 = 4 \times 506 + 2 \).</p>
        <p>506 punih ciklusa daju zbir 0. Preostaju 2 clana: \( i^{2024} + i^{2025} = 1 + i \).</p>
        <div class="step-math">
          \[ S = 1 + i \]
        </div>
        <p style="margin-top: 8px;">Zbir zavisi od ostatka pri deljenju broja clanova sa 4: ostatak 1 daje \( 1 \), ostatak 2 daje \( 1 + i \), ostatak 3 daje \( 1 + i - 1 = i \), a ostatak 0 daje \( 0 \).</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  let offsetX = 0, offsetY = 0;
  let dragging = false;
  let lastPointer = null;

  function getPointerPos(e) {
    if (e.touches && e.touches.length > 0) {
      var rect = canvas.getBoundingClientRect();
      return { x: e.touches[0].clientX - rect.left, y: e.touches[0].clientY - rect.top };
    }
    return { x: e.offsetX, y: e.offsetY };
  }

  canvas.addEventListener('mousedown', function(e) { dragging = true; lastPointer = getPointerPos(e); });
  canvas.addEventListener('touchstart', function(e) { dragging = true; lastPointer = getPointerPos(e); e.preventDefault(); }, { passive: false });
  canvas.addEventListener('mousemove', function(e) {
    if (!dragging || !lastPointer) return;
    var p = getPointerPos(e);
    offsetX += p.x - lastPointer.x;
    offsetY += p.y - lastPointer.y;
    lastPointer = p;
    draw();
  });
  canvas.addEventListener('touchmove', function(e) {
    if (!dragging || !lastPointer) return;
    var p = getPointerPos(e);
    offsetX += p.x - lastPointer.x;
    offsetY += p.y - lastPointer.y;
    lastPointer = p;
    draw();
    e.preventDefault();
  }, { passive: false });
  canvas.addEventListener('mouseup', function() { dragging = false; lastPointer = null; });
  canvas.addEventListener('mouseleave', function() { dragging = false; lastPointer = null; });
  canvas.addEventListener('touchend', function() { dragging = false; lastPointer = null; });

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    var cx = W / 2 + offsetX;
    var cy = H / 2 + offsetY;
    var scale = 140;

    // Grid
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.08)';
    ctx.lineWidth = 1;
    for (var g = -2; g <= 2; g++) {
      ctx.beginPath();
      ctx.moveTo(cx + g * scale, cy - 2.5 * scale);
      ctx.lineTo(cx + g * scale, cy + 2.5 * scale);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(cx - 2.5 * scale, cy + g * scale);
      ctx.lineTo(cx + 2.5 * scale, cy + g * scale);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx - 2.5 * scale, cy);
    ctx.lineTo(cx + 2.5 * scale, cy);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy - 2.5 * scale);
    ctx.lineTo(cx, cy + 2.5 * scale);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Re', cx + 2.5 * scale - 10, cy + 20);
    ctx.fillText('Im', cx + 15, cy - 2.5 * scale + 15);

    // Tick marks
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    for (var t = -2; t <= 2; t++) {
      if (t === 0) continue;
      ctx.fillText(t.toString(), cx + t * scale, cy + 20);
    }
    ctx.textAlign = 'right';
    ctx.fillText('i', cx - 8, cy - scale + 5);
    ctx.fillText('-i', cx - 8, cy + scale + 5);

    // Unit circle
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.2)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.arc(cx, cy, scale, 0, 2 * Math.PI);
    ctx.stroke();
    ctx.setLineDash([]);

    // Powers of i on the unit circle
    var powers = [
      { re: 1, im: 0, label: 'i\u2070 = 1', color: '#4ade80' },
      { re: 0, im: 1, label: 'i\u00B9 = i', color: '#60a5fa' },
      { re: -1, im: 0, label: 'i\u00B2 = \u22121', color: '#f472b6' },
      { re: 0, im: -1, label: 'i\u00B3 = \u2212i', color: '#fbbf24' }
    ];

    // Draw arrows showing the cycle
    ctx.lineWidth = 2;
    var arrowSize = 10;
    for (var a = 0; a < 4; a++) {
      var from = powers[a];
      var to = powers[(a + 1) % 4];
      // Draw arc between consecutive points
      var angle1 = Math.atan2(-from.im, from.re);
      var angle2 = Math.atan2(-to.im, to.re);
      if (angle2 > angle1) angle2 -= 2 * Math.PI;

      ctx.strokeStyle = 'rgba(167, 139, 250, 0.4)';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.arc(cx, cy, scale * 0.75, angle1, angle2, true);
      ctx.stroke();

      // Arrowhead at midpoint direction
      var midAngle = (angle1 + angle2) / 2;
      var ax = cx + scale * 0.75 * Math.cos(midAngle);
      var ay = cy + scale * 0.75 * Math.sin(midAngle);
      var tangentAngle = midAngle - Math.PI / 2;
      ctx.fillStyle = 'rgba(167, 139, 250, 0.6)';
      ctx.beginPath();
      ctx.moveTo(ax + 6 * Math.cos(tangentAngle), ay + 6 * Math.sin(tangentAngle));
      ctx.lineTo(ax + 6 * Math.cos(tangentAngle + 2.5), ay + 6 * Math.sin(tangentAngle + 2.5));
      ctx.lineTo(ax + 6 * Math.cos(tangentAngle - 2.5), ay + 6 * Math.sin(tangentAngle - 2.5));
      ctx.closePath();
      ctx.fill();
    }

    // Draw the sum visualization: vectors adding to zero
    // Show the four vectors as a chain
    var chainStartX = cx - 1.8 * scale;
    var chainStartY = cy + 1.8 * scale;

    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Zbir jednog ciklusa:', chainStartX, chainStartY - 15);

    var vectors = [
      { dx: 1, dy: 0, color: '#4ade80', label: '+1' },
      { dx: 0, dy: -1, color: '#60a5fa', label: '+i' },
      { dx: -1, dy: 0, color: '#f472b6', label: '-1' },
      { dx: 0, dy: 1, color: '#fbbf24', label: '-i' }
    ];

    var vScale = 45;
    var vx = chainStartX + 20;
    var vy = chainStartY + 30;

    for (var v = 0; v < 4; v++) {
      var vec = vectors[v];
      var endX = vx + vec.dx * vScale;
      var endY = vy + vec.dy * vScale;

      ctx.strokeStyle = vec.color;
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(vx, vy);
      ctx.lineTo(endX, endY);
      ctx.stroke();

      // Arrowhead
      var ang = Math.atan2(endY - vy, endX - vx);
      ctx.fillStyle = vec.color;
      ctx.beginPath();
      ctx.moveTo(endX, endY);
      ctx.lineTo(endX - 8 * Math.cos(ang - 0.4), endY - 8 * Math.sin(ang - 0.4));
      ctx.lineTo(endX - 8 * Math.cos(ang + 0.4), endY - 8 * Math.sin(ang + 0.4));
      ctx.closePath();
      ctx.fill();

      // Label
      ctx.fillStyle = vec.color;
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(vec.label, (vx + endX) / 2 + vec.dy * 14, (vy + endY) / 2 - vec.dx * 14);

      vx = endX;
      vy = endY;
    }

    // Show = 0
    ctx.fillStyle = '#34d399';
    ctx.font = 'bold 16px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('= 0', vx + 12, vy + 5);

    // Draw the points on the unit circle
    for (var p = 0; p < powers.length; p++) {
      var pt = powers[p];
      var px = cx + pt.re * scale;
      var py = cy - pt.im * scale;

      // Dot
      ctx.beginPath();
      ctx.arc(px, py, 8, 0, 2 * Math.PI);
      ctx.fillStyle = pt.color;
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Label
      ctx.fillStyle = pt.color;
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = pt.re >= 0 ? 'left' : 'right';
      var lx = px + (pt.re >= 0 ? 14 : -14);
      var ly = py + (pt.im >= 0 ? -12 : 16);
      if (pt.re === 0 && pt.im === 1) { lx = px + 14; ly = py - 4; }
      if (pt.re === 0 && pt.im === -1) { lx = px + 14; ly = py + 6; }
      ctx.fillText(pt.label, lx, ly);
    }

    // Title annotation
    ctx.fillStyle = '#e2e8f0';
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Ciklus stepena i na jedinicnom krugu', cx, 25);

    // Summary annotation
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('2025 clanova = 506 ciklusa \u00D7 0 + i\u00B2\u2070\u00B2\u2074 = 0 + 1 = 1', cx, H - 15);

    // Legend
    var legX = W - 160, legY = 15;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';

    ctx.fillStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.setLineDash([6, 4]);
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.3)';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(legX, legY + 3);
    ctx.lineTo(legX + 16, legY + 3);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Jedinicni krug', legX + 22, legY + 7);

    ctx.fillStyle = 'rgba(167, 139, 250, 0.5)';
    ctx.fillRect(legX, legY + 18, 16, 3);
    ctx.fillStyle = '#94a3b8';
    ctx.fillText('Smer ciklusa', legX + 22, legY + 23);
  }

  draw();

  var resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META {"title":"Zbir stepena imaginarne jedinice","subject":"math","unit":"kompleksni brojevi","topic_tags":["kompleksni brojevi","imaginarna jedinica","ciklicnost stepena","geometrijski red","zbir"]} BRAINSPARK_META-->