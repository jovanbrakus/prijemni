<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Krug upisan u kruzni odsecak</title>
<script type="text/info" id="logic-scratchpad">
Problem: Central angle of circular segment is 120°, arc length l = 48π cm.
Find the circumference of the circle inscribed in this segment.

Key distinction: "kruzni odsecak" = circular SEGMENT (region between a chord and arc),
NOT "kruzni isecak" = circular SECTOR (pie slice between two radii and arc).

Step 1: Find the radius R of the original circle.
Arc length: l = R·θ, where θ = 120° = 2π/3 rad.
48π = R · (2π/3)
R = 48π · 3/(2π) = 72 cm

Step 2: Geometry of the circular segment.
Central angle = 120°, half-angle = 60°.
Distance from center of original circle to the chord:
  h = R·cos(60°) = 72 · 1/2 = 36 cm

The segment is bounded by:
  - the chord (at distance 36 cm from center, on one side)
  - the arc (at distance R = 72 cm from center)

Step 3: Inscribed circle in the segment.
The inscribed circle touches both the chord and the arc.
Its center lies on the perpendicular bisector of the chord (axis of symmetry).

Let d = distance from center of original circle to center of inscribed circle.
Let ρ = radius of inscribed circle.

Condition 1 (tangent to chord): d - 36 = ρ
  (center of inscribed circle is farther from origin than the chord)

Condition 2 (tangent to arc internally): 72 - d = ρ
  (inscribed circle touches the arc from inside)

From both equations:
  d - 36 = 72 - d
  2d = 108
  d = 54

So ρ = 54 - 36 = 18 cm.

Check: 72 - 54 = 18 ✓

Step 4: Circumference of inscribed circle.
C = 2πρ = 2π · 18 = 36π cm

Answer: D) 36π cm
</script>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 10px;
}
h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}
.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}
.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 24px;
  margin-bottom: 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.35);
}
.card h2 {
  color: #60a5fa;
  font-size: 1.4rem;
  margin-bottom: 16px;
}
.card h3 {
  color: #a78bfa;
  font-size: 1.15rem;
  margin-bottom: 10px;
}
.highlight-box {
  background: rgba(56,189,248,0.08);
  border: 1px solid rgba(56,189,248,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.05rem;
  text-align: center;
}
.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 16px;
}
.given-item {
  background: rgba(96,165,250,0.08);
  border: 1px solid rgba(96,165,250,0.15);
  border-radius: 10px;
  padding: 12px 18px;
  text-align: center;
  min-width: 80px;
  flex: 1;
}
.given-item .label {
  color: #94a3b8;
  font-size: 0.85rem;
  margin-bottom: 4px;
}
.given-item .value {
  color: #e2e8f0;
  font-size: 1.1rem;
  font-weight: 600;
}
.answer-option {
  cursor: default;
  transition: border-color 0.2s;
}
.plan-card {
  border-left: 3px solid #a78bfa;
}
details {
  background: rgba(167,139,250,0.06);
  border: 1px solid rgba(167,139,250,0.15);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 12px 0;
}
details summary {
  cursor: pointer;
  color: #a78bfa;
  font-weight: 600;
  font-size: 1.05rem;
  padding: 4px 0;
}
details summary:hover {
  color: #c4b5fd;
}
details[open] summary {
  margin-bottom: 12px;
}
.step-container {
  position: relative;
  padding-left: 50px;
  margin-bottom: 20px;
  cursor: pointer;
  border-left: 3px solid transparent;
  transition: border-color 0.2s, background 0.2s;
  border-radius: 8px;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-right: 8px;
}
.step-container:hover, .step-container.active {
  border-left-color: #4ade80;
  background: rgba(74,222,128,0.04);
}
.step-badge {
  position: absolute;
  left: 8px;
  top: 12px;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.9rem;
}
.step-title {
  color: #60a5fa;
  font-weight: 600;
  font-size: 1.1rem;
  margin-bottom: 6px;
}
.step-text {
  color: #e2e8f0;
  margin-bottom: 8px;
}
.final-answer-card {
  border: 2px solid #4ade80;
  text-align: center;
}
.final-answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
  margin: 16px 0;
}
.answer-options-row {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  margin: 16px 0;
}
.answer-chip {
  padding: 10px 22px;
  border-radius: 10px;
  font-size: 1.05rem;
  font-weight: 600;
  border: 2px solid #334155;
  background: rgba(30,41,59,0.8);
  color: #94a3b8;
  transition: all 0.2s;
}
.answer-chip.correct {
  border-color: #4ade80;
  background: rgba(74,222,128,0.12);
  color: #4ade80;
}
.pitfall-card {
  border-left: 3px solid #e09468;
}
.pitfall-card h2 {
  color: #e09468;
}
.challenge-card {
  border-left: 3px solid #f472b6;
}
.challenge-card h2 {
  color: #f472b6;
}
.verification {
  color: #94a3b8;
  font-size: 0.95rem;
  margin-top: 10px;
}
canvas {
  width: 100%;
  border-radius: 10px;
  display: block;
  margin: 0 auto;
}
.insight-card {
  border-left: 3px solid #60a5fa;
}
.micro-check details {
  background: rgba(52,211,153,0.06);
  border-color: rgba(52,211,153,0.2);
}
.micro-check details summary {
  color: #34d399;
}
@media (max-width: 700px) {
  h1 { font-size: 1.6rem; }
  .card { padding: 16px; }
  .step-container { padding-left: 42px; }
  .given-grid { flex-direction: column; }
  .answer-options-row { flex-direction: column; align-items: center; }
}
</style>
</head>
<body>
<div class="container">

  <h1>Krug upisan u kruzni odsecak</h1>
  <p class="subtitle">Odredjivanje obima kruga upisanog u kruzni odsecak na osnovu centralnog ugla i duzine luka</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <h2>Postavka zadatka</h2>
    <p>Centralni ugao kruznog odsecka je \( 120° \), a duzina njegovog luka je \( l = 48\pi \) cm. Duzina obima kruga upisanog u taj odsecak je:</p>

    <div class="given-grid">
      <div class="given-item">
        <div class="label">Centralni ugao</div>
        <div class="value">\( \alpha = 120° \)</div>
      </div>
      <div class="given-item">
        <div class="label">Duzina luka</div>
        <div class="value">\( l = 48\pi \) cm</div>
      </div>
      <div class="given-item">
        <div class="label">Trazi se</div>
        <div class="value">Obim upisanog kruga</div>
      </div>
    </div>

    <h3 style="margin-top: 20px;">Ponudjeni odgovori</h3>
    <div class="given-grid">
      <div class="given-item answer-option" data-option="A">
        <div class="label">(A)</div>
        <div class="value">\( 44\pi \) cm</div>
      </div>
      <div class="given-item answer-option" data-option="B">
        <div class="label">(B)</div>
        <div class="value">\( 96\pi \) cm</div>
      </div>
      <div class="given-item answer-option" data-option="C">
        <div class="label">(C)</div>
        <div class="value">\( 24\pi \) cm</div>
      </div>
      <div class="given-item answer-option" data-option="D">
        <div class="label">(D)</div>
        <div class="value">\( 36\pi \) cm</div>
      </div>
      <div class="given-item answer-option" data-option="E">
        <div class="label">(E)</div>
        <div class="value">\( 30\pi \) cm</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card plan-card">
    <h2>Plan resavanja</h2>
    <p>Najpre cemo iz duzine luka odrediti poluprecnik polaznog kruga. Zatim analiziramo geometriju kruznog odsecka (oblast izmedju tetive i luka) i nalazimo poluprecnik kruga koji je upisan u taj odsecak &mdash; tj. kruga koji dodiruje i tetivu i luk. Na kraju racunamo obim upisanog kruga.</p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <details>
      <summary>Kljucne formule i pojmovi</summary>
      <div style="margin-top: 10px;">
        <p><strong>Kruzni odsecak vs. kruzni isecak:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li><strong>Kruzni odsecak</strong> (segment): oblast ogranicena tetivom i lukom kruznice.</li>
          <li><strong>Kruzni isecak</strong> (sektor): oblast ogranicena dvama poluprecnicima i lukom.</li>
        </ul>
        <p style="margin-top: 12px;"><strong>Duzina luka:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>\( l = R \cdot \theta \), gde je \( \theta \) centralni ugao u radijanima.</li>
          <li>Konverzija: \( 120° = \dfrac{2\pi}{3} \) rad.</li>
        </ul>
        <p style="margin-top: 12px;"><strong>Rastojanje centra kruga od tetive:</strong></p>
        <ul style="margin-left: 20px; margin-top: 8px; color: #e2e8f0;">
          <li>Za tetivu koja odgovara centralnom uglu \( \alpha \): rastojanje od centra do tetive je \( h = R \cos\!\left(\dfrac{\alpha}{2}\right) \).</li>
        </ul>
      </div>
    </details>
  </div>

  <!-- Canvas Visual -->
  <div class="card">
    <h2>Vizuelni prikaz</h2>
    <canvas id="segmentCanvas" height="520"></canvas>
  </div>

  <!-- Step-by-step Solution -->
  <div class="card">
    <h2>Resenje korak po korak</h2>

    <div class="step-container" id="step1">
      <div class="step-badge">1</div>
      <div class="step-title">Odredjujemo poluprecnik polaznog kruga</div>
      <div class="step-text">
        <p>Duzina luka je povezana sa poluprecnikom i centralnim uglom formulom:</p>
        <div class="highlight-box">
          \[ l = R \cdot \theta \]
        </div>
        <p>Centralni ugao u radijanima:</p>
        <div class="highlight-box">
          \[ \theta = 120° = \frac{2\pi}{3} \text{ rad} \]
        </div>
        <p>Uvrstavamo poznate vrednosti:</p>
        <div class="highlight-box">
          \[ 48\pi = R \cdot \frac{2\pi}{3} \]
        </div>
        <p>Resavamo po \( R \):</p>
        <div class="highlight-box">
          \[ R = \frac{48\pi \cdot 3}{2\pi} = \frac{144\pi}{2\pi} = 72 \text{ cm} \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Da li je R = 72 cm tacno?</summary>
        <p style="margin-top: 8px;">Provera: \( l = 72 \cdot \dfrac{2\pi}{3} = \dfrac{144\pi}{3} = 48\pi \) cm. Tacno!</p>
      </details>
    </div>

    <div class="step-container" id="step2">
      <div class="step-badge">2</div>
      <div class="step-title">Analiziramo geometriju kruznog odsecka</div>
      <div class="step-text">
        <p>Kruzni odsecak je oblast izmedju tetive i luka. Tetiva spaja krajeve luka, a centralni ugao je \( 120° \).</p>
        <p>Rastojanje od centra polaznog kruga \( O \) do tetive:</p>
        <div class="highlight-box">
          \[ h = R \cos\!\left(\frac{\alpha}{2}\right) = 72 \cdot \cos 60° = 72 \cdot \frac{1}{2} = 36 \text{ cm} \]
        </div>
        <p>Dakle, tetiva se nalazi na rastojanju \( 36 \) cm od centra \( O \), a luk na rastojanju \( R = 72 \) cm.</p>
      </div>
    </div>

    <div class="step-container" id="step3">
      <div class="step-badge">3</div>
      <div class="step-title">Postavljamo uslove za upisani krug</div>
      <div class="step-text">
        <p>Krug upisan u kruzni odsecak dodiruje i tetivu i luk. Njegov centar lezi na osi simetrije odsecka (simetrali tetive), na rastojanju \( d \) od centra polaznog kruga \( O \).</p>
        <p>Neka je \( \rho \) poluprecnik upisanog kruga. Imamo dva uslova:</p>
        <p><strong>Uslov 1:</strong> Upisani krug dodiruje tetivu (spolja):</p>
        <div class="highlight-box">
          \[ d - 36 = \rho \]
        </div>
        <p><strong>Uslov 2:</strong> Upisani krug dodiruje luk (iznutra):</p>
        <div class="highlight-box">
          \[ 72 - d = \rho \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Zasto su uslovi bas ovakvi?</summary>
        <p style="margin-top: 8px;">Centar upisanog kruga je na rastojanju \( d \) od centra \( O \), na strani odsecka. Tetiva je na rastojanju 36 od \( O \), pa je rastojanje centra upisanog kruga od tetive jednako \( d - 36 \), sto mora biti jednako \( \rho \) (tangentnost na tetivu). Sa druge strane, luk je deo kruznice poluprecnika 72 sa centrom u \( O \), pa je rastojanje od centra upisanog kruga do luka jednako \( 72 - d \), sto takodje mora biti \( \rho \) (tangentnost na luk iznutra).</p>
      </details>
    </div>

    <div class="step-container" id="step4">
      <div class="step-badge">4</div>
      <div class="step-title">Resavamo sistem jednacina</div>
      <div class="step-text">
        <p>Iz oba uslova sledi:</p>
        <div class="highlight-box">
          \[ d - 36 = 72 - d \]
        </div>
        <p>Sabiramo \( d \) na obe strane:</p>
        <div class="highlight-box">
          \[ 2d - 36 = 72 \]
        </div>
        <div class="highlight-box">
          \[ 2d = 108 \]
        </div>
        <div class="highlight-box">
          \[ d = 54 \text{ cm} \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step5">
      <div class="step-badge">5</div>
      <div class="step-title">Nalazimo poluprecnik upisanog kruga</div>
      <div class="step-text">
        <p>Uvrstavanje \( d = 54 \) u bilo koji uslov daje:</p>
        <div class="highlight-box">
          \[ \rho = d - 36 = 54 - 36 = 18 \text{ cm} \]
        </div>
        <p>Provera sa drugim uslovom:</p>
        <div class="highlight-box">
          \[ \rho = 72 - d = 72 - 54 = 18 \text{ cm} \;\; \checkmark \]
        </div>
      </div>
    </div>

    <div class="step-container" id="step6">
      <div class="step-badge">6</div>
      <div class="step-title">Racunamo obim upisanog kruga</div>
      <div class="step-text">
        <p>Obim kruga poluprecnika \( \rho = 18 \) cm:</p>
        <div class="highlight-box">
          \[ O = 2\pi\rho = 2\pi \cdot 18 = 36\pi \text{ cm} \]
        </div>
      </div>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Da li je upisani krug zaista unutar odsecka?</summary>
        <p style="margin-top: 8px;">Centar upisanog kruga je na rastojanju \( d = 54 \) cm od centra \( O \). Poluprecnik je \( \rho = 18 \) cm. Najbliza tacka upisanog kruga centru \( O \) je na rastojanju \( 54 - 18 = 36 \) cm, sto je tacno rastojanje tetive od \( O \). Najdalja tacka upisanog kruga od \( O \) je na rastojanju \( 54 + 18 = 72 \) cm = \( R \), sto je tacno na luku. Upisani krug savrseno staje izmedju tetive i luka.</p>
      </details>
    </div>

    <div class="micro-check">
      <details>
        <summary>Proveri se: Da li upisani krug staje u sirinu odsecka?</summary>
        <p style="margin-top: 8px;">Polovicna duzina tetive je \( R \sin 60° = 72 \cdot \dfrac{\sqrt{3}}{2} = 36\sqrt{3} \approx 62{,}4 \) cm. Precnik upisanog kruga je \( 2\rho = 36 \) cm, sto je manje od duzine tetive (\( 2 \cdot 36\sqrt{3} = 72\sqrt{3} \approx 124{,}7 \) cm). Krug staje unutar odsecka i po sirini.</p>
      </details>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="card insight-card">
    <h2>Kljucni uvid</h2>
    <p>Krug upisan u kruzni odsecak je odreden sa samo dva uslova: da dodiruje tetivu i luk. Posto oba uslova daju jednacinu oblika &ldquo;rastojanje = \( \rho \)&rdquo; duz ose simetrije, problem se svodi na elementarni sistem od dve linearne jednacine sa dve nepoznate (\( d \) i \( \rho \)).</p>
    <div class="highlight-box">
      \[ \rho = \frac{R - R\cos\!\left(\dfrac{\alpha}{2}\right)}{2} = \frac{R\left(1 - \cos\dfrac{\alpha}{2}\right)}{2} \]
    </div>
    <p>Za \( R = 72 \) i \( \alpha = 120° \): \( \rho = \dfrac{72(1 - \cos 60°)}{2} = \dfrac{72 \cdot \frac{1}{2}}{2} = 18 \) cm.</p>
  </div>

  <!-- Final Answer -->
  <div class="card final-answer-card">
    <h2 style="color: #4ade80;">Konacan odgovor</h2>
    <div class="final-answer-value">\( O = 36\pi \) cm</div>

    <div class="answer-options-row">
      <div class="answer-chip">(A) \( 44\pi \) cm</div>
      <div class="answer-chip">(B) \( 96\pi \) cm</div>
      <div class="answer-chip">(C) \( 24\pi \) cm</div>
      <div class="answer-chip correct">(D) \( 36\pi \) cm</div>
      <div class="answer-chip">(E) \( 30\pi \) cm</div>
    </div>

    <p class="verification">Verifikacija: \( R = 72 \) cm, \( h = 36 \) cm, \( d = 54 \) cm, \( \rho = 18 \) cm. Obim \( = 2\pi \cdot 18 = 36\pi \) cm \( \checkmark \)</p>
  </div>

  <!-- Common Pitfalls -->
  <div class="card pitfall-card">
    <h2>Ceste greske</h2>
    <ul style="margin-left: 20px; margin-top: 8px;">
      <li style="margin-bottom: 10px;"><strong>Mesanje odsecka i isecka:</strong> Kruzni odsecak (segment) je oblast izmedju tetive i luka. Kruzni isecak (sektor) je oblast izmedju dva poluprecnika i luka. Upisani krug u sektor ima drugaciju formulu i daje drugaciji rezultat.</li>
      <li style="margin-bottom: 10px;"><strong>Pogresan ugao u kosinusu:</strong> Rastojanje od centra do tetive koristi <em>polovinu</em> centralnog ugla: \( h = R\cos(60°) \), a ne \( R\cos(120°) \). Greska \( \cos 120° = -\frac{1}{2} \) bi dala negativno rastojanje.</li>
      <li style="margin-bottom: 10px;"><strong>Zaboravljanje konverzije u radijane:</strong> Formula za duzinu luka \( l = R\theta \) zahteva ugao u radijanima. Ako se koristi \( 120 \) umesto \( \frac{2\pi}{3} \), dobija se potpuno pogresan poluprecnik.</li>
      <li><strong>Mesanje poluprecnika i precnika:</strong> Obim je \( 2\pi\rho \), a ne \( \pi\rho \) (to bi bio poluobim) ili \( \pi d \) sa pogresnim \( d \). Potrebno je jasno razlikovati \( \rho = 18 \) (poluprecnik upisanog kruga) od \( d = 54 \) (rastojanje centra upisanog kruga od centra polaznog kruga).</li>
    </ul>
  </div>

  <!-- Optional Challenge -->
  <div class="card challenge-card">
    <h2>Dodatni izazov</h2>
    <p>Za isti poluprecnik \( R = 72 \) cm, odredi centralni ugao \( \alpha \) za koji bi obim kruga upisanog u kruzni odsecak bio \( 24\pi \) cm.</p>
    <details>
      <summary>Hint</summary>
      <p style="margin-top: 8px;">Iz \( O = 24\pi \) sledi \( \rho = 12 \) cm. Koristeci formulu \( \rho = \dfrac{R(1 - \cos\frac{\alpha}{2})}{2} \):</p>
      <p>\( 12 = \dfrac{72(1 - \cos\frac{\alpha}{2})}{2} = 36\!\left(1 - \cos\frac{\alpha}{2}\right) \)</p>
      <p>\( \cos\frac{\alpha}{2} = 1 - \frac{1}{3} = \frac{2}{3} \)</p>
      <p>\( \frac{\alpha}{2} = \arccos\frac{2}{3} \approx 48{,}19° \), pa \( \alpha \approx 96{,}38° \).</p>
    </details>
  </div>

</div>

<script>
(() => {
  // Step click interaction
  const steps = document.querySelectorAll('.step-container');
  steps.forEach(step => {
    step.addEventListener('click', () => {
      steps.forEach(s => s.classList.remove('active'));
      step.classList.add('active');
    });
  });

  // Canvas: visualize the circular segment and inscribed circle
  const canvas = document.getElementById('segmentCanvas');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    const rect = canvas.parentElement.getBoundingClientRect();
    const w = rect.width - 48;
    canvas.width = w * 2;
    canvas.height = 520 * 2;
    canvas.style.height = '520px';
    ctx.scale(2, 2);
    drawDiagram(w);
  }

  function drawDiagram(W) {
    const H = 520;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0c1222';
    ctx.beginPath();
    ctx.roundRect(0, 0, W, H, 10);
    ctx.fill();

    // Parameters (scaled for drawing)
    const R_real = 72;
    const rho_real = 18;
    const d_real = 54;
    const h_real = 36;

    // Scale to fit canvas
    const margin = 60;
    const availH = H - 2 * margin;
    const scale = availH / (R_real + rho_real + 20);

    const R = R_real * scale;
    const rho = rho_real * scale;
    const d = d_real * scale;
    const hDist = h_real * scale;

    // Center of the original circle O
    // Position O so that the segment is nicely centered
    const cx = W / 2;
    const cy = margin + R - hDist + 30;

    // Angles: the segment is the part of the circle from angle -60° to +60° (measured from the line from O through the midpoint of the arc)
    // Let's orient so the midpoint of the arc is at the bottom (angle = π/2 from O)
    // The chord is above the arc midpoint (closer to O)

    // Actually, let's orient with the segment opening downward:
    // O is at top, chord is below O at distance h, arc curves further below

    const startAngle = Math.PI / 2 - Math.PI / 3; // 30° = π/6
    const endAngle = Math.PI / 2 + Math.PI / 3;   // 150° = 5π/6

    // Chord endpoints
    const chordLeftX = cx + R * Math.cos(endAngle);    // left
    const chordLeftY = cy + R * Math.sin(endAngle);
    const chordRightX = cx + R * Math.cos(startAngle);  // right
    const chordRightY = cy + R * Math.sin(startAngle);

    // Draw the full circle (faded)
    ctx.strokeStyle = 'rgba(96, 165, 250, 0.15)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 4]);
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw the segment (shaded region between chord and arc)
    ctx.fillStyle = 'rgba(96, 165, 250, 0.08)';
    ctx.beginPath();
    ctx.arc(cx, cy, R, startAngle, endAngle, false);
    ctx.lineTo(chordLeftX, chordLeftY);
    ctx.closePath();
    ctx.fill();

    // Draw the arc (solid)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(cx, cy, R, startAngle, endAngle, false);
    ctx.stroke();

    // Draw the chord
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(chordLeftX, chordLeftY);
    ctx.lineTo(chordRightX, chordRightY);
    ctx.stroke();

    // Center of original circle O
    ctx.beginPath();
    ctx.arc(cx, cy, 4, 0, Math.PI * 2);
    ctx.fillStyle = '#f472b6';
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('O', cx, cy - 12);

    // Draw radii to chord endpoints (dashed)
    ctx.strokeStyle = 'rgba(244, 114, 182, 0.3)';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([6, 4]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(chordLeftX, chordLeftY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(chordRightX, chordRightY);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw the angle arc (120°)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.arc(cx, cy, 30, startAngle, endAngle, false);
    ctx.stroke();
    ctx.fillStyle = '#f472b6';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.fillText('120\u00B0', cx, cy + 48);

    // Perpendicular from O to chord (axis of symmetry)
    const midChordX = (chordLeftX + chordRightX) / 2;
    const midChordY = (chordLeftY + chordRightY) / 2;
    ctx.strokeStyle = 'rgba(148, 163, 184, 0.4)';
    ctx.lineWidth = 1;
    ctx.setLineDash([4, 3]);
    ctx.beginPath();
    ctx.moveTo(cx, cy);
    ctx.lineTo(cx, cy + R); // extends to bottom of arc
    ctx.stroke();
    ctx.setLineDash([]);

    // Center of inscribed circle (on axis of symmetry, at distance d from O)
    const icX = cx;
    const icY = cy + d;

    // Draw the inscribed circle
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(icX, icY, rho, 0, Math.PI * 2);
    ctx.stroke();

    // Fill inscribed circle lightly
    ctx.fillStyle = 'rgba(74, 222, 128, 0.08)';
    ctx.beginPath();
    ctx.arc(icX, icY, rho, 0, Math.PI * 2);
    ctx.fill();

    // Center of inscribed circle
    ctx.beginPath();
    ctx.arc(icX, icY, 4, 0, Math.PI * 2);
    ctx.fillStyle = '#4ade80';
    ctx.fill();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 13px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('C', icX + 8, icY - 8);

    // Dimension: R = 72
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1;
    const dimX = cx + 20;
    ctx.beginPath();
    ctx.moveTo(dimX + 60, cy);
    ctx.lineTo(dimX + 60, cy + R);
    ctx.stroke();
    // Arrows
    ctx.beginPath();
    ctx.moveTo(dimX + 55, cy + 5);
    ctx.lineTo(dimX + 60, cy);
    ctx.lineTo(dimX + 65, cy + 5);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(dimX + 55, cy + R - 5);
    ctx.lineTo(dimX + 60, cy + R);
    ctx.lineTo(dimX + 65, cy + R - 5);
    ctx.stroke();
    ctx.fillStyle = '#94a3b8';
    ctx.font = '12px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('R = 72', dimX + 68, cy + R / 2 + 4);

    // Dimension: h = 36 (O to chord)
    const dimX2 = cx - 25;
    ctx.strokeStyle = '#a78bfa';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(dimX2 - 50, cy);
    ctx.lineTo(dimX2 - 50, midChordY);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(dimX2 - 55, cy + 5);
    ctx.lineTo(dimX2 - 50, cy);
    ctx.lineTo(dimX2 - 45, cy + 5);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(dimX2 - 55, midChordY - 5);
    ctx.lineTo(dimX2 - 50, midChordY);
    ctx.lineTo(dimX2 - 45, midChordY - 5);
    ctx.stroke();
    ctx.fillStyle = '#a78bfa';
    ctx.textAlign = 'right';
    ctx.fillText('h = 36', dimX2 - 58, cy + hDist / 2 + 4);

    // Dimension: d = 54 (O to center of inscribed circle)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1;
    ctx.setLineDash([3, 2]);
    ctx.beginPath();
    ctx.moveTo(dimX2 - 20, cy);
    ctx.lineTo(dimX2 - 20, icY);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.fillStyle = '#4ade80';
    ctx.textAlign = 'right';
    ctx.fillText('d = 54', dimX2 - 28, cy + d / 2 + 4);

    // Dimension: rho = 18 (radius of inscribed circle)
    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    ctx.moveTo(icX, icY);
    ctx.lineTo(icX + rho, icY);
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 12px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('\u03C1 = 18', icX + rho / 2, icY - 10);

    // Labels
    ctx.font = '13px Segoe UI, sans-serif';
    ctx.textAlign = 'center';

    // Arc label
    ctx.fillStyle = '#60a5fa';
    const arcMidAngle = Math.PI / 2;
    const arcLabelR = R + 18;
    ctx.fillText('luk (l = 48\u03C0)', cx + arcLabelR * Math.cos(arcMidAngle) - 2, cy + arcLabelR * Math.sin(arcMidAngle) + 4);

    // Chord label
    ctx.fillStyle = '#a78bfa';
    ctx.fillText('tetiva', midChordX, midChordY - 12);

    // Tangent points indicators
    // Top tangent (to chord): at (icX, icY - rho) = (cx, cy + d - rho) = (cx, cy + 36) = midChordY
    const tanChordY = icY - rho;
    ctx.beginPath();
    ctx.arc(icX, tanChordY, 4, 0, Math.PI * 2);
    ctx.fillStyle = '#fbbf24';
    ctx.fill();

    // Bottom tangent (to arc): at (icX, icY + rho) = (cx, cy + d + rho) = (cx, cy + 72) = bottom of original circle
    const tanArcY = icY + rho;
    ctx.beginPath();
    ctx.arc(icX, tanArcY, 4, 0, Math.PI * 2);
    ctx.fillStyle = '#fbbf24';
    ctx.fill();

    // Title
    ctx.fillStyle = '#94a3b8';
    ctx.font = '14px Segoe UI, sans-serif';
    ctx.textAlign = 'center';
    ctx.fillText('Krug upisan u kruzni odsecak', W / 2, H - 20);

    // Legend
    const legY = H - 55;
    const legX = W / 2 - 180;

    ctx.fillStyle = '#60a5fa';
    ctx.fillRect(legX, legY - 5, 14, 3);
    ctx.font = '11px Segoe UI, sans-serif';
    ctx.textAlign = 'left';
    ctx.fillText('Luk', legX + 20, legY);

    ctx.fillStyle = '#a78bfa';
    ctx.fillRect(legX + 70, legY - 5, 14, 3);
    ctx.fillText('Tetiva', legX + 90, legY);

    ctx.strokeStyle = '#4ade80';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.arc(legX + 157, legY - 3, 6, 0, Math.PI * 2);
    ctx.stroke();
    ctx.fillStyle = '#4ade80';
    ctx.fillText('Upisani krug', legX + 170, legY);

    ctx.beginPath();
    ctx.arc(legX + 277, legY - 3, 3, 0, Math.PI * 2);
    ctx.fillStyle = '#fbbf24';
    ctx.fill();
    ctx.fillText('Tacke tangencije', legX + 286, legY);

    ctx.textAlign = 'center';
  }

  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);
})();
</script>
</body>
</html>
<!--BRAINSPARK_META
{
  "title": "Krug upisan u kruzni odsecak",
  "subject": "math",
  "unit": "geometrija_kruga",
  "topic_tags": ["kruzni odsecak", "upisani krug", "duzina luka", "centralni ugao", "tetiva", "poluprecnik"]
}
BRAINSPARK_META-->