<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Celobrojna resenja nejednacine sa proizvodom - Analiza znaka</title>
<script>
MathJax = {
  tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[', '\\]']] },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script type="text/info" id="logic-scratchpad">
Problem: Ukupan broj celobrojnih resenja nejednacine (x-3)(7-x)(x-5)^2 > 0 jednak je?

Step 1: Find critical points.
  (x-3) = 0  =>  x = 3
  (7-x) = 0  =>  x = 7
  (x-5)^2 = 0 => x = 5

Critical points: x = 3, x = 5, x = 7

Step 2: Analyze (x-5)^2.
  (x-5)^2 >= 0 for all real x.
  (x-5)^2 = 0 only when x = 5.
  (x-5)^2 > 0 for all x != 5.

Step 3: For the product to be strictly positive (> 0), we need:
  - (x-5)^2 > 0, i.e., x != 5
  - (x-3)(7-x) > 0

Step 4: Solve (x-3)(7-x) > 0.
  This is a downward-opening parabola in x with roots at x=3 and x=7.
  (x-3)(7-x) > 0 when 3 < x < 7.

Step 5: Combine conditions:
  3 < x < 7 AND x != 5

Step 6: Find integer solutions:
  Integers in (3, 7): 4, 5, 6
  Exclude x = 5: 4, 6
  Count = 2

Answer: A) 2

Verification:
  x=4: (4-3)(7-4)(4-5)^2 = 1 * 3 * 1 = 3 > 0  checkmark
  x=6: (6-3)(7-6)(6-5)^2 = 3 * 1 * 1 = 3 > 0  checkmark
  x=5: (5-3)(7-5)(5-5)^2 = 2 * 2 * 0 = 0, NOT > 0  checkmark
  x=3: (3-3)(7-3)(3-5)^2 = 0 * 4 * 4 = 0, NOT > 0  checkmark
  x=7: (7-3)(7-7)(7-5)^2 = 4 * 0 * 4 = 0, NOT > 0  checkmark
  x=2: (2-3)(7-2)(2-5)^2 = (-1)*5*9 = -45 < 0  checkmark
  x=8: (8-3)(7-8)(8-5)^2 = 5*(-1)*9 = -45 < 0  checkmark
</script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f172a;
    color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    line-height: 1.7;
    padding: 20px;
    max-width: 860px;
    margin: 0 auto;
  }
  h1 {
    font-size: 2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 4px;
    line-height: 1.3;
  }
  .subtitle {
    color: #94a3b8;
    font-size: 1.05rem;
    margin-bottom: 28px;
  }
  .card {
    background: #1e293b;
    border: 1px solid #334155;
    border-radius: 14px;
    padding: 24px 28px;
    margin-bottom: 22px;
  }
  .card-title {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .icon {
    font-size: 1.3rem;
  }
  .problem-box {
    background: #172033;
    border-left: 4px solid #60a5fa;
    padding: 18px 22px;
    border-radius: 0 10px 10px 0;
    font-size: 1.08rem;
    margin-bottom: 10px;
  }
  .option-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    margin-top: 16px;
  }
  .option {
    background: #0f172a;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 10px 16px;
    font-size: 1rem;
    transition: all 0.2s;
  }
  .option.correct {
    border-color: #34d399;
    background: rgba(52, 211, 153, 0.1);
    box-shadow: 0 0 12px rgba(52, 211, 153, 0.15);
  }
  .plan-list {
    list-style: none;
    counter-reset: plan;
  }
  .plan-list li {
    counter-increment: plan;
    padding: 6px 0 6px 36px;
    position: relative;
  }
  .plan-list li::before {
    content: counter(plan);
    position: absolute;
    left: 0;
    top: 6px;
    width: 26px;
    height: 26px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.82rem;
    font-weight: 700;
    color: #0f172a;
  }
  details {
    background: #172033;
    border: 1px solid #334155;
    border-radius: 10px;
    padding: 14px 20px;
    margin-bottom: 10px;
  }
  details summary {
    cursor: pointer;
    font-weight: 600;
    color: #a78bfa;
    list-style: none;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  details summary::before {
    content: '>';
    display: inline-block;
    transition: transform 0.2s;
    font-family: monospace;
    font-size: 1.1rem;
  }
  details[open] summary::before {
    transform: rotate(90deg);
  }
  details .inner {
    margin-top: 14px;
    padding-top: 14px;
    border-top: 1px solid #334155;
  }
  .step {
    border-left: 3px solid #334155;
    padding: 14px 0 14px 22px;
    margin-left: 12px;
    position: relative;
    margin-bottom: 4px;
  }
  .step::before {
    content: '';
    position: absolute;
    left: -7px;
    top: 18px;
    width: 12px;
    height: 12px;
    background: #60a5fa;
    border-radius: 50%;
    border: 2px solid #0f172a;
  }
  .step:last-child { border-left-color: transparent; }
  .step-label {
    font-weight: 700;
    color: #60a5fa;
    font-size: 1rem;
    margin-bottom: 6px;
  }
  .checkpoint {
    background: rgba(167, 139, 250, 0.1);
    border: 1px dashed #a78bfa;
    border-radius: 10px;
    padding: 12px 18px;
    margin: 12px 0 4px;
    font-size: 0.95rem;
    color: #a78bfa;
  }
  .checkpoint strong { color: #c4b5fd; }
  .final-answer {
    background: linear-gradient(135deg, rgba(52, 211, 153, 0.12), rgba(74, 222, 128, 0.08));
    border: 2px solid #34d399;
    border-radius: 14px;
    padding: 26px 30px;
    text-align: center;
  }
  .final-answer .label {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    color: #34d399;
    font-weight: 700;
    margin-bottom: 10px;
  }
  .final-answer .value {
    font-size: 1.7rem;
    font-weight: 800;
    color: #4ade80;
  }
  .insight-box {
    background: rgba(96, 165, 250, 0.08);
    border: 1px solid rgba(96, 165, 250, 0.3);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .insight-box .label {
    font-weight: 700;
    color: #60a5fa;
    margin-bottom: 6px;
    font-size: 1.05rem;
  }
  .pitfall {
    background: rgba(244, 114, 182, 0.08);
    border-left: 4px solid #f472b6;
    border-radius: 0 10px 10px 0;
    padding: 14px 20px;
    margin-bottom: 10px;
  }
  .pitfall strong { color: #f472b6; }
  .challenge-box {
    background: rgba(167, 139, 250, 0.06);
    border: 1px solid rgba(167, 139, 250, 0.25);
    border-radius: 12px;
    padding: 18px 22px;
  }
  .challenge-box .label {
    font-weight: 700;
    color: #a78bfa;
    margin-bottom: 6px;
  }
  canvas {
    display: block;
    margin: 0 auto;
    border-radius: 10px;
    background: #0f172a;
    max-width: 100%;
    touch-action: none;
  }
  .muted { color: #94a3b8; }
  .blue { color: #60a5fa; }
  .green { color: #34d399; }
  .purple { color: #a78bfa; }
  .pink { color: #f472b6; }
  @media (max-width: 600px) {
    body { padding: 12px; }
    h1 { font-size: 1.5rem; }
    .card { padding: 18px 16px; }
    .option-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<h1>Celobrojna resenja nejednacine sa proizvodom</h1>
<p class="subtitle">Analiza znaka proizvoda &mdash; Kriticne tacke i tablica znakova</p>

<!-- Problem Statement -->
<div class="card">
  <div class="card-title"><span class="icon">üìã</span> Zadatak</div>
  <div class="problem-box">
    Ukupan broj celobrojnih resenja nejednacine \((x-3)(7-x)(x-5)^2 > 0\) jednak je:
  </div>
  <div class="option-grid">
    <div class="option correct">A) 2</div>
    <div class="option">B) 4</div>
    <div class="option">C) 0</div>
    <div class="option">D) 1</div>
    <div class="option">E) 3</div>
  </div>
</div>

<!-- Plan -->
<div class="card">
  <div class="card-title"><span class="icon">üó∫Ô∏è</span> Plan resavanja</div>
  <ol class="plan-list">
    <li>Odredi kriticne tacke &mdash; nule svakog cinioca: \(x = 3\), \(x = 5\), \(x = 7\).</li>
    <li>Uoci da je \((x-5)^2 \geq 0\) uvek &mdash; kvadrat nikad nije negativan, a jednak je nuli samo za \(x = 5\).</li>
    <li>Svedi problem na analizu znaka preostalih cinilaca \((x-3)(7-x)\).</li>
    <li>Prebroj cele brojeve u skupu resenja.</li>
  </ol>
</div>

<!-- Theory Refresher -->
<div class="card">
  <div class="card-title"><span class="icon">üìñ</span> Teorijska podloga</div>
  <details>
    <summary>Analiza znaka proizvoda</summary>
    <div class="inner">
      <p>Proizvod vise cinilaca je pozitivan kada je paran broj negativnih cinilaca (ili nijedan nije negativan). Proizvod je jednak nuli ako je bar jedan cinilac jednak nuli.</p>
      <p class="muted" style="margin-top:8px;">Za strogu nejednacinu (\(> 0\)) moramo iskljuciti sve tacke u kojima je proizvod jednak nuli.</p>
    </div>
  </details>
  <details>
    <summary>Svojstvo kvadrata</summary>
    <div class="inner">
      <p>Za svako realno \(a\) vazi:</p>
      \[a^2 \geq 0\]
      <p>pri cemu je \(a^2 = 0\) ako i samo ako je \(a = 0\).</p>
      <p class="muted" style="margin-top:8px;">Ovo znaci da cinilac oblika \((x - c)^2\) ne menja znak &mdash; on je uvek nenegativan. Na znak proizvoda utice samo tako sto ga ponistava u tacki \(x = c\).</p>
    </div>
  </details>
  <details>
    <summary>Metod intervala (tablica znakova)</summary>
    <div class="inner">
      <p>Kriticne tacke dele brojevnu pravu na intervale. Na svakom intervalu znak proizvoda je konstantan. Dovoljno je proveriti jednu probnu vrednost po intervalu.</p>
      <p class="muted" style="margin-top:8px;">Alternativno, za linearne cinioce znak se menja pri prolasku kroz nulu, a za kvadratne cinioce se <strong>ne menja</strong>.</p>
    </div>
  </details>
</div>

<!-- Visual Aid -->
<div class="card">
  <div class="card-title"><span class="icon">üìê</span> Vizuelni prikaz</div>
  <p class="muted" style="margin-bottom:14px;">Grafik prikazuje funkciju \(f(x) = (x-3)(7-x)(x-5)^2\). Zelene oblasti oznacavaju gde je \(f(x) > 0\), a celobrojne tacke su istaknute.</p>
  <canvas id="canvas" width="700" height="360"></canvas>
  <div id="canvas-info" style="margin-top:12px;text-align:center;font-size:0.95rem;color:#94a3b8;"></div>
</div>

<!-- Step-by-step Solution -->
<div class="card">
  <div class="card-title"><span class="icon">‚úèÔ∏è</span> Resenje korak po korak</div>

  <div class="step">
    <div class="step-label">Korak 1: Odredi kriticne tacke</div>
    <p>Izjednacavamo svaki cinilac sa nulom:</p>
    \[x - 3 = 0 \;\Rightarrow\; x = 3\]
    \[7 - x = 0 \;\Rightarrow\; x = 7\]
    \[(x - 5)^2 = 0 \;\Rightarrow\; x = 5\]
    <p>Kriticne tacke su: \(x \in \{3,\, 5,\, 7\}\). One dele brojevnu pravu na cetiri intervala:</p>
    \[(-\infty, 3), \quad (3, 5), \quad (5, 7), \quad (7, +\infty)\]
  </div>

  <div class="step">
    <div class="step-label">Korak 2: Analiziraj cinilac \((x-5)^2\)</div>
    <p>Posto je \((x-5)^2\) kvadrat realnog broja, vazi:</p>
    \[(x-5)^2 \geq 0 \quad \text{za svako } x \in \mathbb{R}\]
    <p>Jednakost \((x-5)^2 = 0\) nastupa jedino za \(x = 5\).</p>
    <p>Zakljucak: za \(x \neq 5\), cinilac \((x-5)^2\) je <strong>strogo pozitivan</strong> i ne utice na znak proizvoda.</p>
    <div class="checkpoint">
      <strong>Kljucno zapazanje!</strong> Kvadratni cinilac \((x-5)^2\) ne menja znak proizvoda &mdash; samo ga ponistava u tacki \(x = 5\). Zato je analiza znaka ekvivalentna analizi znaka \((x-3)(7-x)\), uz uslov \(x \neq 5\).
    </div>
  </div>

  <div class="step">
    <div class="step-label">Korak 3: Resi nejednacinu \((x-3)(7-x) > 0\)</div>
    <p>Proizvod dva linearna cinioca je pozitivan kada su oba istog znaka:</p>
    <p><strong>Slucaj 1:</strong> Oba pozitivna:</p>
    \[x - 3 > 0 \;\;\text{i}\;\; 7 - x > 0 \;\;\Rightarrow\;\; x > 3 \;\;\text{i}\;\; x < 7 \;\;\Rightarrow\;\; 3 < x < 7\]
    <p><strong>Slucaj 2:</strong> Oba negativna:</p>
    \[x - 3 < 0 \;\;\text{i}\;\; 7 - x < 0 \;\;\Rightarrow\;\; x < 3 \;\;\text{i}\;\; x > 7\]
    <p>Ovo je nemoguce (prazan skup).</p>
    <p>Dakle, \((x-3)(7-x) > 0\) za \(x \in (3, 7)\).</p>
  </div>

  <div class="step">
    <div class="step-label">Korak 4: Kombiniraj uslove</div>
    <p>Polazna nejednacina \((x-3)(7-x)(x-5)^2 > 0\) vazi kada:</p>
    \[x \in (3, 7) \;\;\text{i}\;\; x \neq 5\]
    <p>Skup resenja je:</p>
    \[x \in (3, 5) \cup (5, 7)\]
  </div>

  <div class="step">
    <div class="step-label">Korak 5: Prebroj celobrojna resenja</div>
    <p>Celi brojevi u intervalu \((3, 7)\) su: \(4, 5, 6\).</p>
    <p>Iskljucujemo \(x = 5\) (jer je \((x-5)^2 = 0\) daje proizvod jednak nuli).</p>
    <p>Preostaju: \(x = 4\) i \(x = 6\).</p>
    <div class="checkpoint">
      <strong>Provera!</strong> Ubacimo vrednosti:
      <br>\(x = 4\!: \;(4-3)(7-4)(4-5)^2 = 1 \cdot 3 \cdot 1 = 3 > 0\) &nbsp; &#10003;
      <br>\(x = 6\!: \;(6-3)(7-6)(6-5)^2 = 3 \cdot 1 \cdot 1 = 3 > 0\) &nbsp; &#10003;
      <br>\(x = 5\!: \;(5-3)(7-5)(5-5)^2 = 2 \cdot 2 \cdot 0 = 0\), nije \(> 0\) &nbsp; &#10003;
    </div>
  </div>
</div>

<!-- Key Insight -->
<div class="card">
  <div class="insight-box">
    <div class="label">Kljucni uvid</div>
    <p>Kada se u proizvodu pojavi cinilac oblika \((x - c)^2\) (parni stepen), on <strong>nikad ne menja znak</strong> proizvoda. Jedini njegov efekat je da <strong>ponistava</strong> proizvod u tacki \(x = c\). Zato se analiza znaka svodi na preostale cinioce, uz dodatni uslov \(x \neq c\).</p>
    <p style="margin-top:8px;">U ovom zadatku, bez cinilaca \((x-5)^2\), nejednacina \((x-3)(7-x) > 0\) ima tri celobrojna resenja u otvorenom intervalu \((3, 7)\): \(x \in \{4, 5, 6\}\). Cinilac \((x-5)^2\) eliminise tacno jedno od njih (\(x = 5\)), dajuci konacno <strong>dva</strong> celobrojna resenja.</p>
  </div>
</div>

<!-- Final Answer -->
<div class="card">
  <div class="final-answer">
    <div class="label">Konacan odgovor</div>
    <div class="value">
      A) \(\;2\)
    </div>
    <p style="margin-top:14px;color:#94a3b8;font-size:1rem;">
      Celobrojna resenja su \(x = 4\) i \(x = 6\).
    </p>
  </div>
</div>

<!-- Common Pitfalls -->
<div class="card">
  <div class="card-title"><span class="icon">‚ö†Ô∏è</span> Najcesce greske</div>
  <div class="pitfall">
    <strong>Greska 1: Ukljucivanje \(x = 5\) u skup resenja.</strong>
    Posto je nejednacina <em>stroga</em> (\(> 0\), ne \(\geq 0\)), tacka \(x = 5\) daje \(f(5) = 0\) i ne pripada skupu resenja. Ovo je najcesca zamka u zadatku.
  </div>
  <div class="pitfall">
    <strong>Greska 2: Ukljucivanje granicnih tacaka \(x = 3\) i \(x = 7\).</strong>
    Slicno, u obe tacke je \(f(x) = 0\), pa ni one ne zadovoljavaju strogu nejednacinu. Samo za \(\geq 0\) bismo ih ukljucili.
  </div>
  <div class="pitfall">
    <strong>Greska 3: Pogresna analiza znaka \((x-5)^2\).</strong>
    Neki ucenici tretiraju \((x-5)^2\) kao da menja znak u tacki \(x = 5\), sto bi bio slucaj za \((x-5)^1\). Kvadrat je uvek nenegativan &mdash; on samo dodiruje \(x\)-osu, ne prolazi kroz nju.
  </div>
</div>

<!-- Optional Challenge -->
<div class="card">
  <div class="challenge-box">
    <div class="label">Izazov za napredne</div>
    <p>Razmisli: koliko bi bilo celobrojnih resenja za <strong>neostru</strong> nejednacinu \((x-3)(7-x)(x-5)^2 \geq 0\)?</p>
    <ul style="margin-top:8px;margin-left:20px;color:#94a3b8;">
      <li>Sada su dozvoljene i tacke gde je proizvod jednak nuli.</li>
      <li>To dodaje \(x = 3\), \(x = 5\) i \(x = 7\) u skup resenja.</li>
      <li>Ukupan broj: \(5\) celobrojnih resenja (\(x \in \{3, 4, 5, 6, 7\}\)).</li>
    </ul>
    <p style="margin-top:10px;" class="muted">Dodatak: Sta bi se promenilo da umesto \((x-5)^2\) imamo \((x-5)^3\)? Kako neparni stepen utice na analizu znaka?</p>
  </div>
</div>

<script>
(function() {
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  var info = document.getElementById('canvas-info');

  function f(x) {
    return (x - 3) * (7 - x) * Math.pow(x - 5, 2);
  }

  function draw() {
    var W = canvas.width, H = canvas.height;
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Plot region
    var padL = 60, padR = 30, padT = 40, padB = 60;
    var plotW = W - padL - padR;
    var plotH = H - padT - padB;

    // Domain: x from 0 to 10
    var xMin = 0, xMax = 10;
    // Find y range
    var yMax = 0;
    for (var px = 0; px <= plotW; px++) {
      var xv = xMin + (px / plotW) * (xMax - xMin);
      var yv = Math.abs(f(xv));
      if (yv > yMax) yMax = yv;
    }
    yMax = Math.ceil(yMax / 5) * 5;
    if (yMax < 10) yMax = 10;
    var yMin = -yMax * 0.3;

    function toCanvasX(x) { return padL + ((x - xMin) / (xMax - xMin)) * plotW; }
    function toCanvasY(y) { return padT + plotH - ((y - yMin) / (yMax - yMin)) * plotH; }

    // Grid lines
    ctx.strokeStyle = '#1e293b';
    ctx.lineWidth = 1;
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#64748b';

    // Horizontal grid
    ctx.textAlign = 'right';
    var yStep = yMax > 30 ? 10 : 5;
    for (var yg = 0; yg <= yMax; yg += yStep) {
      var cy = toCanvasY(yg);
      if (cy >= padT && cy <= padT + plotH) {
        ctx.beginPath();
        ctx.moveTo(padL, cy);
        ctx.lineTo(padL + plotW, cy);
        ctx.stroke();
        ctx.fillText(yg.toString(), padL - 8, cy + 4);
      }
      if (yg > 0) {
        cy = toCanvasY(-yg);
        if (cy >= padT && cy <= padT + plotH) {
          ctx.beginPath();
          ctx.moveTo(padL, cy);
          ctx.lineTo(padL + plotW, cy);
          ctx.stroke();
          ctx.fillText((-yg).toString(), padL - 8, cy + 4);
        }
      }
    }

    // Vertical grid
    ctx.textAlign = 'center';
    for (var xg = 0; xg <= xMax; xg++) {
      var cx = toCanvasX(xg);
      ctx.beginPath();
      ctx.moveTo(cx, padT);
      ctx.lineTo(cx, padT + plotH);
      ctx.stroke();
      ctx.fillText(xg.toString(), cx, padT + plotH + 18);
    }

    // x-axis (y=0)
    ctx.strokeStyle = '#475569';
    ctx.lineWidth = 1.5;
    ctx.beginPath();
    var zeroY = toCanvasY(0);
    ctx.moveTo(padL, zeroY);
    ctx.lineTo(padL + plotW, zeroY);
    ctx.stroke();

    // y-axis (x=0)
    ctx.beginPath();
    ctx.moveTo(padL, padT);
    ctx.lineTo(padL, padT + plotH);
    ctx.stroke();

    // Shade positive region green
    ctx.fillStyle = 'rgba(52, 211, 153, 0.08)';
    ctx.beginPath();
    var started = false;
    for (var px = 0; px <= plotW; px++) {
      var xv = xMin + (px / plotW) * (xMax - xMin);
      var yv = f(xv);
      if (yv > 0) {
        var cxp = toCanvasX(xv);
        var cyp = toCanvasY(yv);
        if (!started) {
          ctx.moveTo(cxp, zeroY);
          ctx.lineTo(cxp, cyp);
          started = true;
        } else {
          ctx.lineTo(cxp, cyp);
        }
      } else if (started) {
        var cxp2 = toCanvasX(xv);
        ctx.lineTo(cxp2, zeroY);
        ctx.closePath();
        ctx.fill();
        ctx.beginPath();
        started = false;
      }
    }
    if (started) {
      ctx.lineTo(toCanvasX(xMax), zeroY);
      ctx.closePath();
      ctx.fill();
    }

    // Draw function curve
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    for (var px = 0; px <= plotW; px++) {
      var xv = xMin + (px / plotW) * (xMax - xMin);
      var yv = f(xv);
      var cxc = toCanvasX(xv);
      var cyc = toCanvasY(yv);
      if (cyc < padT - 20 || cyc > padT + plotH + 20) {
        // Clip
        if (px > 0) ctx.stroke();
        ctx.beginPath();
        continue;
      }
      if (px === 0) ctx.moveTo(cxc, cyc);
      else ctx.lineTo(cxc, cyc);
    }
    ctx.stroke();

    // Mark critical points (x=3, x=5, x=7)
    var criticals = [
      { x: 3, label: 'x = 3', color: '#f472b6' },
      { x: 5, label: 'x = 5', color: '#f472b6' },
      { x: 7, label: 'x = 7', color: '#f472b6' }
    ];
    criticals.forEach(function(cp) {
      var cx = toCanvasX(cp.x);
      var cy = toCanvasY(0);
      ctx.fillStyle = cp.color;
      ctx.beginPath();
      ctx.arc(cx, cy, 6, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();
      // Hollow center (open circle - not in solution set)
      ctx.fillStyle = '#0f172a';
      ctx.beginPath();
      ctx.arc(cx, cy, 3, 0, 2 * Math.PI);
      ctx.fill();

      ctx.fillStyle = '#f472b6';
      ctx.font = 'bold 12px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(cp.label, cx, cy + 22);
    });

    // Mark integer solution points (x=4, x=6)
    var solutions = [
      { x: 4, label: 'x = 4' },
      { x: 6, label: 'x = 6' }
    ];
    solutions.forEach(function(sol) {
      var cx = toCanvasX(sol.x);
      var yv = f(sol.x);
      var cy = toCanvasY(yv);
      // Point on curve
      ctx.fillStyle = '#4ade80';
      ctx.beginPath();
      ctx.arc(cx, cy, 7, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 2;
      ctx.stroke();
      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText(sol.label + ' (' + yv + ')', cx, cy - 14);
      // Dashed line down to x-axis
      ctx.setLineDash([4, 4]);
      ctx.strokeStyle = 'rgba(74, 222, 128, 0.4)';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(cx, cy);
      ctx.lineTo(cx, zeroY);
      ctx.stroke();
      ctx.setLineDash([]);
    });

    // Title
    ctx.font = 'bold 15px Segoe UI, system-ui, sans-serif';
    ctx.fillStyle = '#e2e8f0';
    ctx.textAlign = 'center';
    ctx.fillText('f(x) = (x - 3)(7 - x)(x - 5)\u00B2', W / 2, 24);

    // Legend
    ctx.font = '12px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    var legX = padL + 10, legY = padT + 16;
    ctx.fillStyle = 'rgba(52, 211, 153, 0.3)';
    ctx.fillRect(legX, legY - 10, 14, 14);
    ctx.fillStyle = '#34d399';
    ctx.fillText('f(x) > 0', legX + 20, legY + 2);

    ctx.fillStyle = '#4ade80';
    ctx.beginPath();
    ctx.arc(legX + 7, legY + 20, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#4ade80';
    ctx.fillText('Celobrojna resenja', legX + 20, legY + 24);

    ctx.fillStyle = '#f472b6';
    ctx.beginPath();
    ctx.arc(legX + 7, legY + 42, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#0f172a';
    ctx.beginPath();
    ctx.arc(legX + 7, legY + 42, 2.5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.fillStyle = '#f472b6';
    ctx.fillText('Kriticne tacke (iskljucene)', legX + 20, legY + 46);

    // Info text
    info.innerHTML =
      'Celobrojna resenja: <span style="color:#4ade80;font-weight:700;">x = 4</span> i <span style="color:#4ade80;font-weight:700;">x = 6</span> &nbsp;&mdash;&nbsp; ' +
      'f(4) = 3, f(6) = 3 &nbsp;(oba > 0)';
  }

  // Responsive canvas
  function resizeCanvas() {
    var container = canvas.parentElement;
    var maxW = container.clientWidth - 56;
    if (maxW < 700) {
      canvas.style.width = maxW + 'px';
      canvas.style.height = (maxW * 360 / 700) + 'px';
    }
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  draw();
})();
</script>

</body>
</html>
<!--BRAINSPARK_META
{"title":"Celobrojna resenja nejednacine (x-3)(7-x)(x-5)^2 > 0","subject":"math","unit":"inequalities","topic_tags":["nejednacine","analiza znaka","kriticne tacke","kvadratni cinilac","celobrojna resenja","metod intervala"]}
BRAINSPARK_META-->