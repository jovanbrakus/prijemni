<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Logaritamska jednacina - Zbir resenja</title>
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']]
  },
  svg: { fontCache: 'global' }
};
</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>
<script type="text/info" id="logic-scratchpad">
  Problem: Zbir resenja jednacine log_2(9^(x-2) + 7) = 2 + log_2(3^(x-2) + 1)

  Step 1: Rewrite exponentials using substitution.
    Let t = 3^(x-2). Then 9^(x-2) = (3^2)^(x-2) = (3^(x-2))^2 = t^2.
    Equation becomes: log_2(t^2 + 7) = 2 + log_2(t + 1)

  Step 2: Combine logarithms.
    log_2(t^2 + 7) = log_2(4) + log_2(t + 1)
    log_2(t^2 + 7) = log_2(4(t + 1))

  Step 3: Remove logarithms (both sides have the same base, arguments must be equal).
    t^2 + 7 = 4(t + 1)
    t^2 + 7 = 4t + 4
    t^2 - 4t + 3 = 0

  Step 4: Solve the quadratic.
    (t - 1)(t - 3) = 0
    t_1 = 1, t_2 = 3

  Step 5: Check validity.
    t = 3^(x-2) > 0 always, so t > 0.
    t_1 = 1 > 0: valid. Also t + 1 = 2 > 0, t^2 + 7 = 8 > 0. Arguments of log are positive.
    t_2 = 3 > 0: valid. Also t + 1 = 4 > 0, t^2 + 7 = 16 > 0. Arguments of log are positive.

  Step 6: Find x from t.
    t_1 = 1: 3^(x-2) = 1 = 3^0 => x - 2 = 0 => x_1 = 2
    t_2 = 3: 3^(x-2) = 3 = 3^1 => x - 2 = 1 => x_2 = 3

  Step 7: Sum of solutions.
    x_1 + x_2 = 2 + 3 = 5

  Answer: C) 5
</script>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  background: #0f172a;
  color: #e2e8f0;
  font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
  line-height: 1.7;
  padding: 20px;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

h1 {
  font-size: 2.2rem;
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
  line-height: 1.3;
}

.subtitle {
  color: #94a3b8;
  font-size: 1.1rem;
  margin-bottom: 32px;
}

.card {
  background: #1e293b;
  border: 1px solid #334155;
  border-radius: 16px;
  padding: 28px;
  margin-bottom: 24px;
}

.card-title {
  font-size: 1.3rem;
  color: #60a5fa;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title .icon {
  font-size: 1.4rem;
}

.problem-statement {
  font-size: 1.15rem;
  line-height: 1.8;
}

.highlight-box {
  background: rgba(96, 165, 250, 0.1);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 10px;
  padding: 16px 20px;
  margin: 16px 0;
  font-family: 'Courier New', monospace;
  font-size: 1.1rem;
  text-align: center;
}

.given-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 18px;
}

.given-item {
  background: rgba(51, 65, 85, 0.6);
  border: 1px solid #334155;
  border-radius: 10px;
  padding: 10px 20px;
  font-size: 1rem;
  transition: all 0.3s ease;
  cursor: default;
}

.given-item.answer-option.correct {
  background: rgba(52, 211, 153, 0.15);
  border-color: #34d399;
  color: #34d399;
  font-weight: 600;
}

.plan-text {
  color: #a78bfa;
  font-size: 1.05rem;
  font-style: italic;
}

details {
  margin: 12px 0;
}

details summary {
  cursor: pointer;
  color: #60a5fa;
  font-weight: 600;
  padding: 8px 0;
  user-select: none;
}

details summary:hover {
  color: #93bbfc;
}

details .detail-content {
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.7);
  border-left: 3px solid #60a5fa;
  border-radius: 0 8px 8px 0;
  margin-top: 8px;
}

.step {
  display: flex;
  gap: 16px;
  margin-bottom: 20px;
  align-items: flex-start;
}

.step-badge {
  background: linear-gradient(135deg, #60a5fa, #a78bfa);
  color: #0f172a;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 2px;
}

.step-content {
  flex: 1;
}

.step-title {
  font-weight: 600;
  color: #f472b6;
  margin-bottom: 6px;
  font-size: 1.05rem;
}

.step-math {
  background: rgba(167, 139, 250, 0.1);
  border: 1px solid rgba(167, 139, 250, 0.25);
  border-radius: 10px;
  padding: 14px 18px;
  margin: 10px 0;
  font-family: 'Courier New', monospace;
  text-align: center;
  font-size: 1.05rem;
}

.insight-box {
  background: linear-gradient(135deg, rgba(96, 165, 250, 0.12), rgba(167, 139, 250, 0.12));
  border: 1px solid rgba(167, 139, 250, 0.35);
  border-radius: 16px;
  padding: 24px 28px;
  margin-bottom: 24px;
}

.insight-box .card-title {
  color: #a78bfa;
}

.final-answer-box {
  background: rgba(52, 211, 153, 0.08);
  border: 2px solid #34d399;
  border-radius: 16px;
  padding: 28px;
  text-align: center;
  margin-bottom: 24px;
}

.final-answer-box .answer-label {
  color: #94a3b8;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 2px;
  margin-bottom: 12px;
}

.final-answer-box .answer-value {
  color: #4ade80;
  font-size: 2rem;
  font-weight: 700;
}

.final-answer-box .answer-option {
  color: #34d399;
  font-size: 1.2rem;
  margin-top: 8px;
}

.pitfall {
  display: flex;
  gap: 12px;
  align-items: flex-start;
  margin-bottom: 12px;
}

.pitfall-icon {
  color: #f472b6;
  font-weight: 700;
  font-size: 1.2rem;
  flex-shrink: 0;
}

.challenge-box {
  background: rgba(244, 114, 182, 0.08);
  border: 1px solid rgba(244, 114, 182, 0.3);
  border-radius: 16px;
  padding: 24px 28px;
}

.challenge-box .card-title {
  color: #f472b6;
}

canvas {
  display: block;
  margin: 0 auto;
  border-radius: 12px;
  max-width: 100%;
  touch-action: none;
}

.canvas-wrapper {
  text-align: center;
}

.canvas-caption {
  color: #94a3b8;
  font-size: 0.9rem;
  margin-top: 10px;
  text-align: center;
}

.checkpoint details summary {
  color: #34d399;
  font-size: 0.95rem;
}

.checkpoint details .detail-content {
  border-left-color: #34d399;
}

@media (max-width: 700px) {
  h1 {
    font-size: 1.6rem;
  }
  .card {
    padding: 18px;
  }
  .given-grid {
    flex-direction: column;
  }
  .step {
    flex-direction: column;
    gap: 8px;
  }
  .step-badge {
    align-self: flex-start;
  }
  .final-answer-box .answer-value {
    font-size: 1.5rem;
  }
}
</style>
</head>
<body>
<div class="container">

  <!-- Title -->
  <h1>Logaritamska jednacina sa zbirom resenja</h1>
  <p class="subtitle">Logaritamske jednacine — supstitucija i svojstva logaritama</p>

  <!-- Problem Statement -->
  <div class="card problem-statement">
    <div class="card-title"><span class="icon">&#x1F4CB;</span> Tekst zadatka</div>
    <div class="problem-statement">
      <p>Zbir resenja jednacine \( \log_2\!\left(9^{x-2} + 7\right) = 2 + \log_2\!\left(3^{x-2} + 1\right) \) jednak je:</p>
      <div class="given-grid">
        <div class="given-item answer-option" data-option="A">A) \( -4 \)</div>
        <div class="given-item answer-option" data-option="B">B) \( 4 \)</div>
        <div class="given-item answer-option correct" data-option="C">C) \( 5 \)</div>
        <div class="given-item answer-option" data-option="D">D) \( 1 \)</div>
        <div class="given-item answer-option" data-option="E">E) \( 2 \)</div>
      </div>
    </div>
  </div>

  <!-- Plan -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F3AF;</span> Plan resavanja</div>
    <p class="plan-text">
      Uocicemo da je \( 9^{x-2} = \left(3^{x-2}\right)^2 \), pa cemo uvesti smenu \( t = 3^{x-2} \) da svedemo jednacinu na algebarski oblik. Koristicemo svojstva logaritama da uklonimo logaritme, resicemo kvadratnu jednacinu po \( t \), pa se vratiti na promenljivu \( x \).
    </p>
  </div>

  <!-- Theory Refresher -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4DA;</span> Podsetnik iz teorije</div>
    <details>
      <summary>Logaritamske jednacine — pravila i svojstva (klikni da otvoris)</summary>
      <div class="detail-content">
        <p><strong>Osnovna svojstva logaritama</strong> koja koristimo u ovom zadatku:</p>
        <div class="step-math">
          \[ \log_a(x \cdot y) = \log_a x + \log_a y \]
        </div>
        <div class="step-math">
          \[ \log_a x = \log_a y \quad \Longleftrightarrow \quad x = y \quad (x, y > 0) \]
        </div>
        <p style="margin-top: 12px;">Takodje, svaki ceo broj se moze zapisati kao logaritam:</p>
        <div class="step-math">
          \[ n = \log_a\!\left(a^n\right), \quad \text{npr.} \quad 2 = \log_2 4 \]
        </div>
        <p style="margin-top: 12px;"><strong>Supstitucija kod eksponencijalnih izraza:</strong> Ako se u jednacini pojavljuju \( 9^{x} \) i \( 3^{x} \), korisno je uvesti \( t = 3^{x} \), jer \( 9^{x} = (3^2)^{x} = (3^{x})^2 = t^2 \).</p>
        <p style="margin-top: 8px;"><strong>Domen:</strong> Argument logaritma mora biti <em>strogo pozitivan</em>. Uvek proveriti da su argumenti \( > 0 \) za dobijena resenja.</p>
      </div>
    </details>
  </div>

  <!-- Visual Aid -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F4CA;</span> Vizuelni prikaz</div>
    <div class="canvas-wrapper">
      <canvas id="diagram" width="700" height="420"></canvas>
    </div>
    <p class="canvas-caption">Grafici funkcija \( y = \log_2(9^{x-2}+7) \) i \( y = 2 + \log_2(3^{x-2}+1) \) sa presecnim tackama</p>
  </div>

  <!-- Step-by-Step Solution -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x1F522;</span> Resenje korak po korak</div>

    <!-- Step 1 -->
    <div class="step">
      <div class="step-badge">1</div>
      <div class="step-content">
        <div class="step-title">Uvedimo smenu</div>
        <p>Uocimo da je \( 9^{x-2} = \left(3^2\right)^{x-2} = \left(3^{x-2}\right)^2 \). Neka je:</p>
        <div class="step-math">
          \[ t = 3^{x-2}, \qquad t > 0 \]
        </div>
        <p>Tada je \( 9^{x-2} = t^2 \), pa jednacina postaje:</p>
        <div class="step-math">
          \[ \log_2\!\left(t^2 + 7\right) = 2 + \log_2\!\left(t + 1\right) \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Zasto je t uvek pozitivno?</summary>
            <div class="detail-content">
              Jer je \( t = 3^{x-2} \), a eksponencijalna funkcija sa bazom \( 3 > 0 \) je uvek strogo pozitivna za svako realno \( x \). Zato je \( t > 0 \) automatski zadovoljeno.
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 2 -->
    <div class="step">
      <div class="step-badge">2</div>
      <div class="step-content">
        <div class="step-title">Primenimo svojstva logaritama</div>
        <p>Konstantu \( 2 \) na desnoj strani zapisemo kao logaritam sa bazom 2:</p>
        <div class="step-math">
          \[ 2 = \log_2 4 \]
        </div>
        <p>Sada koristimo pravilo za zbir logaritama:</p>
        <div class="step-math">
          \[ \log_2\!\left(t^2 + 7\right) = \log_2 4 + \log_2\!\left(t + 1\right) = \log_2\!\left[4\left(t + 1\right)\right] \]
        </div>
        <p>Posto su baze jednake, a logaritamska funkcija je injektivna (1-1), argumenti moraju biti jednaki:</p>
        <div class="step-math">
          \[ t^2 + 7 = 4(t + 1) \]
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="step">
      <div class="step-badge">3</div>
      <div class="step-content">
        <div class="step-title">Resimo kvadratnu jednacinu po t</div>
        <p>Raspisemo desnu stranu i sredimo:</p>
        <div class="step-math">
          \[ t^2 + 7 = 4t + 4 \]
        </div>
        <div class="step-math">
          \[ t^2 - 4t + 3 = 0 \]
        </div>
        <p>Faktorisemo — trazimo dva broja ciji je zbir 4, a proizvod 3:</p>
        <div class="step-math">
          \[ (t - 1)(t - 3) = 0 \]
        </div>
        <p>Odatle:</p>
        <div class="step-math">
          \[ t_1 = 1 \qquad \text{i} \qquad t_2 = 3 \]
        </div>

        <div class="checkpoint">
          <details>
            <summary>Proveri sebe: Jesu li obe vrednosti t prihvatljive?</summary>
            <div class="detail-content">
              <p>Potrebno je \( t > 0 \) (jer je \( t = 3^{x-2} > 0 \)).</p>
              <p>\( t_1 = 1 > 0 \) — prihvatljivo.</p>
              <p>\( t_2 = 3 > 0 \) — prihvatljivo.</p>
              <p>Takodje, argumenti logaritama: \( t^2 + 7 > 0 \) i \( t + 1 > 0 \) su ispunjeni za oba \( t \).</p>
            </div>
          </details>
        </div>
      </div>
    </div>

    <!-- Step 4 -->
    <div class="step">
      <div class="step-badge">4</div>
      <div class="step-content">
        <div class="step-title">Vratimo se na promenljivu x</div>
        <p><strong>Za \( t_1 = 1 \):</strong></p>
        <div class="step-math">
          \[ 3^{x-2} = 1 = 3^0 \quad \Rightarrow \quad x - 2 = 0 \quad \Rightarrow \quad x_1 = 2 \]
        </div>
        <p><strong>Za \( t_2 = 3 \):</strong></p>
        <div class="step-math">
          \[ 3^{x-2} = 3 = 3^1 \quad \Rightarrow \quad x - 2 = 1 \quad \Rightarrow \quad x_2 = 3 \]
        </div>
      </div>
    </div>

    <!-- Step 5 -->
    <div class="step">
      <div class="step-badge">5</div>
      <div class="step-content">
        <div class="step-title">Proverimo resenja u polaznoj jednacini</div>
        <p><strong>Za \( x_1 = 2 \):</strong></p>
        <div class="step-math">
          \[ \text{Leva strana: } \log_2\!\left(9^0 + 7\right) = \log_2(1 + 7) = \log_2 8 = 3 \]
        </div>
        <div class="step-math">
          \[ \text{Desna strana: } 2 + \log_2\!\left(3^0 + 1\right) = 2 + \log_2 2 = 2 + 1 = 3 \]
        </div>
        <p>\( 3 = 3 \) — Resenje \( x_1 = 2 \) je validno.</p>

        <p style="margin-top: 14px;"><strong>Za \( x_2 = 3 \):</strong></p>
        <div class="step-math">
          \[ \text{Leva strana: } \log_2\!\left(9^1 + 7\right) = \log_2(9 + 7) = \log_2 16 = 4 \]
        </div>
        <div class="step-math">
          \[ \text{Desna strana: } 2 + \log_2\!\left(3^1 + 1\right) = 2 + \log_2 4 = 2 + 2 = 4 \]
        </div>
        <p>\( 4 = 4 \) — Resenje \( x_2 = 3 \) je validno.</p>
      </div>
    </div>

    <!-- Step 6 -->
    <div class="step">
      <div class="step-badge">6</div>
      <div class="step-content">
        <div class="step-title">Izracunajmo zbir resenja</div>
        <p>Oba resenja su validna, pa trazeni zbir iznosi:</p>
        <div class="step-math">
          \[ x_1 + x_2 = 2 + 3 = 5 \]
        </div>
      </div>
    </div>
  </div>

  <!-- Key Insight -->
  <div class="insight-box">
    <div class="card-title"><span class="icon">&#x1F4A1;</span> Kljucni uvid</div>
    <p>Kljuc resavanja je uociti vezu \( 9^{x-2} = \left(3^{x-2}\right)^2 \), sto omogucava smenu \( t = 3^{x-2} \). Ovaj tip supstitucije je univerzalan: kad god se u jednacini pojave \( a^{f(x)} \) i \( a^{2f(x)} \) (ili ekvivalentno \( (a^2)^{f(x)} \)), smena \( t = a^{f(x)} \) svodi problem na algebarsku jednacinu. U kombinaciji sa svojstvima logaritama, logaritamska jednacina se brzo transformise u obicnu kvadratnu.</p>
  </div>

  <!-- Final Answer -->
  <div class="final-answer-box">
    <div class="answer-label">Konacan odgovor</div>
    <div class="answer-value">\( x_1 + x_2 = 2 + 3 = 5 \)</div>
    <div class="answer-option">Tacan odgovor je C) \( 5 \)</div>
  </div>

  <!-- Common Pitfalls -->
  <div class="card">
    <div class="card-title"><span class="icon">&#x26A0;&#xFE0F;</span> Ceste greske</div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Neuocavanje veze izmedju 9 i 3:</strong> Mnogi ucenici ne prepoznaju da je \( 9^{x-2} = (3^{x-2})^2 \), pa ne uvode pogodnu smenu. Uvek proverite da li se baze mogu svesti na istu osnovu.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Pogresno primenjivanje pravila logaritama:</strong> Cesta greska je pisati \( \log_2(t^2 + 7) = 2\log_2 t + \log_2 7 \). Pravilo \( \log(ab) = \log a + \log b \) vazi za <em>proizvod</em>, ne za zbir! Izraz \( t^2 + 7 \) se ne moze rastaviti na taj nacin.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Zaboravljanje provere domena:</strong> Kod logaritamskih jednacina argumenti moraju biti strogo pozitivni. Ovde su \( t^2 + 7 > 0 \) i \( t + 1 > 0 \) uvek ispunjeni za \( t > 0 \), ali to treba eksplicitno proveriti.</p>
    </div>
    <div class="pitfall">
      <span class="pitfall-icon">&#x2717;</span>
      <p><strong>Odbacivanje negativnih vrednosti t bez obrazlozenja:</strong> Ako bi kvadratna jednacina po \( t \) imala negativno resenje, ono bi bilo neprihvatljivo jer \( t = 3^{x-2} > 0 \). U ovom zadatku su oba resenja pozitivna, ali princip treba imati na umu.</p>
    </div>
  </div>

  <!-- Optional Challenge -->
  <div class="challenge-box">
    <div class="card-title"><span class="icon">&#x1F3C6;</span> Dodatni izazov</div>
    <p>Resi jednacinu \( \log_3\!\left(4^{x+1} - 5\right) = \log_3\!\left(2^{x+1} + 1\right) + 1 \) i odredi zbir svih resenja.</p>
    <details>
      <summary>Pogledaj odgovor</summary>
      <div class="detail-content">
        <p>Neka je \( u = 2^{x+1} \), tada \( 4^{x+1} = u^2 \). Jednacina postaje:</p>
        <p style="margin-top: 6px;">\( \log_3(u^2 - 5) = \log_3(u + 1) + \log_3 3 = \log_3[3(u + 1)] \)</p>
        <p style="margin-top: 6px;">Odatle: \( u^2 - 5 = 3u + 3 \), tj. \( u^2 - 3u - 8 = 0 \).</p>
        <p style="margin-top: 6px;">Diskriminanta: \( D = 9 + 32 = 41 \). Resenja: \( u = \frac{3 \pm \sqrt{41}}{2} \).</p>
        <p style="margin-top: 6px;">Posto \( u = 2^{x+1} > 0 \), prihvatamo samo \( u = \frac{3 + \sqrt{41}}{2} \approx 4{,}70 \).</p>
        <p style="margin-top: 6px;">Jedno resenje: \( x = \log_2\!\left(\frac{3+\sqrt{41}}{2}\right) - 1 \). Zbir = to jedno resenje.</p>
      </div>
    </details>
  </div>

</div>

<script>
(() => {
  const canvas = document.getElementById('diagram');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const W = canvas.width;
  const H = canvas.height;

  // Coordinate system parameters
  const originX = W * 0.12;
  const originY = H * 0.78;
  const scaleX = 140;
  const scaleY = 55;

  let hoverPoint = null;

  function toScreen(x, y) {
    return [originX + x * scaleX, originY - y * scaleY];
  }

  function draw() {
    ctx.clearRect(0, 0, W, H);

    // Background
    ctx.fillStyle = '#0f172a';
    ctx.fillRect(0, 0, W, H);

    // Grid
    ctx.strokeStyle = 'rgba(51, 65, 85, 0.4)';
    ctx.lineWidth = 0.5;
    for (let i = 0; i <= 4; i++) {
      const [sx, sy] = toScreen(i, -1);
      const [ex, ey] = toScreen(i, 7);
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ex, ey);
      ctx.stroke();
    }
    for (let j = 0; j <= 6; j++) {
      const [sx, sy] = toScreen(-0.3, j);
      const [ex, ey] = toScreen(4.5, j);
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ex, ey);
      ctx.stroke();
    }

    // Axes
    ctx.strokeStyle = '#94a3b8';
    ctx.lineWidth = 1.5;
    // x-axis
    ctx.beginPath();
    const [xaS] = toScreen(-0.3, 0);
    const [xaE] = toScreen(4.5, 0);
    ctx.moveTo(xaS, originY);
    ctx.lineTo(xaE, originY);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    const [, yaS] = toScreen(0, -0.5);
    const [, yaE] = toScreen(0, 7);
    ctx.moveTo(originX, yaS);
    ctx.lineTo(originX, yaE);
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = '#94a3b8';
    ctx.font = '13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    for (let i = 1; i <= 4; i++) {
      const [sx] = toScreen(i, 0);
      ctx.fillText(String(i), sx, originY + 6);
    }
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    for (let j = 1; j <= 6; j++) {
      const [, sy] = toScreen(0, j);
      ctx.fillText(String(j), originX - 8, sy);
    }
    ctx.textAlign = 'center';
    ctx.textBaseline = 'top';
    const [xLabelX] = toScreen(4.3, 0);
    ctx.fillText('x', xLabelX, originY + 6);
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    const [, yLabelY] = toScreen(0, 6.7);
    ctx.fillText('y', originX - 8, yLabelY);

    // Draw f(x) = log2(9^(x-2) + 7)
    ctx.strokeStyle = '#60a5fa';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let first = true;
    for (let px = 0; px <= 4.5; px += 0.02) {
      const val = Math.pow(9, px - 2) + 7;
      if (val <= 0) continue;
      const py = Math.log2(val);
      if (py < -0.5 || py > 7) continue;
      const [sx, sy] = toScreen(px, py);
      if (first) { ctx.moveTo(sx, sy); first = false; }
      else { ctx.lineTo(sx, sy); }
    }
    ctx.stroke();

    // Label for f(x)
    ctx.fillStyle = '#60a5fa';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'bottom';
    const [lblFx, lblFy] = toScreen(3.3, 5.8);
    ctx.fillText('y = log\u2082(9\u02E3\u207B\u00B2+7)', lblFx, lblFy);

    // Draw g(x) = 2 + log2(3^(x-2) + 1)
    ctx.strokeStyle = '#f472b6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    first = true;
    for (let px = 0; px <= 4.5; px += 0.02) {
      const val = Math.pow(3, px - 2) + 1;
      if (val <= 0) continue;
      const py = 2 + Math.log2(val);
      if (py < -0.5 || py > 7) continue;
      const [sx, sy] = toScreen(px, py);
      if (first) { ctx.moveTo(sx, sy); first = false; }
      else { ctx.lineTo(sx, sy); }
    }
    ctx.stroke();

    // Label for g(x)
    ctx.fillStyle = '#f472b6';
    ctx.font = 'bold 13px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'left';
    ctx.textBaseline = 'top';
    const [lblGx, lblGy] = toScreen(3.3, 4.5);
    ctx.fillText('y = 2+log\u2082(3\u02E3\u207B\u00B2+1)', lblGx, lblGy);

    // Intersection points
    const points = [
      { x: 2, y: 3, label: '(2; 3)' },
      { x: 3, y: 4, label: '(3; 4)' }
    ];

    points.forEach(function(pt) {
      const [sx, sy] = toScreen(pt.x, pt.y);

      // Glow effect
      ctx.beginPath();
      ctx.arc(sx, sy, 10, 0, 2 * Math.PI);
      ctx.fillStyle = 'rgba(52, 211, 153, 0.2)';
      ctx.fill();

      // Point
      ctx.beginPath();
      ctx.arc(sx, sy, 5, 0, 2 * Math.PI);
      ctx.fillStyle = '#34d399';
      ctx.fill();
      ctx.strokeStyle = '#0f172a';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Label
      ctx.fillStyle = '#4ade80';
      ctx.font = 'bold 14px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'bottom';
      ctx.fillText(pt.label, sx + 10, sy - 8);
    });

    // Dashed lines from points to axes
    ctx.setLineDash([4, 4]);
    ctx.strokeStyle = 'rgba(52, 211, 153, 0.4)';
    ctx.lineWidth = 1;

    points.forEach(function(pt) {
      const [sx, sy] = toScreen(pt.x, pt.y);
      const [ax] = toScreen(pt.x, 0);
      const [, ay] = toScreen(0, pt.y);

      // To x-axis
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(ax, originY);
      ctx.stroke();

      // To y-axis
      ctx.beginPath();
      ctx.moveTo(sx, sy);
      ctx.lineTo(originX, ay);
      ctx.stroke();
    });

    ctx.setLineDash([]);

    // Bottom summary text
    ctx.fillStyle = '#4ade80';
    ctx.font = 'bold 18px Segoe UI, system-ui, sans-serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    ctx.fillText('x\u2081 + x\u2082 = 2 + 3 = 5', W / 2, H - 12);

    // Hover tooltip
    if (hoverPoint) {
      const [sx, sy] = toScreen(hoverPoint.x, hoverPoint.y);
      const tooltipText = 'x = ' + hoverPoint.x + ', y = ' + hoverPoint.y;
      ctx.fillStyle = 'rgba(30, 41, 59, 0.95)';
      ctx.strokeStyle = '#34d399';
      ctx.lineWidth = 1;
      const tw = ctx.measureText(tooltipText).width + 16;
      const th = 28;
      const tx = sx + 15;
      const ty = sy - th - 10;
      ctx.beginPath();
      ctx.roundRect(tx, ty, tw, th, 6);
      ctx.fill();
      ctx.stroke();
      ctx.fillStyle = '#e2e8f0';
      ctx.font = '13px Segoe UI, system-ui, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'middle';
      ctx.fillText(tooltipText, tx + 8, ty + th / 2);
    }
  }

  function handlePointer(e) {
    var rect = canvas.getBoundingClientRect();
    var sX = W / rect.width;
    var sY = H / rect.height;
    var cx, cy;
    if (e.touches) {
      cx = (e.touches[0].clientX - rect.left) * sX;
      cy = (e.touches[0].clientY - rect.top) * sY;
    } else {
      cx = (e.clientX - rect.left) * sX;
      cy = (e.clientY - rect.top) * sY;
    }

    var points = [
      { x: 2, y: 3 },
      { x: 3, y: 4 }
    ];

    hoverPoint = null;
    for (var i = 0; i < points.length; i++) {
      var pt = points[i];
      var sx = originX + pt.x * scaleX;
      var sy = originY - pt.y * scaleY;
      var dist = Math.sqrt((cx - sx) * (cx - sx) + (cy - sy) * (cy - sy));
      if (dist < 25) {
        hoverPoint = pt;
        break;
      }
    }
    draw();
  }

  canvas.addEventListener('mousemove', handlePointer);
  canvas.addEventListener('touchstart', handlePointer, { passive: true });
  canvas.addEventListener('touchmove', handlePointer, { passive: true });
  canvas.addEventListener('mouseleave', function() {
    hoverPoint = null;
    draw();
  });

  draw();

  var resizeTimeout;
  window.addEventListener('resize', function() {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(draw, 100);
  });
})();
</script>
</body>
</html>
<!--BRAINSPARK_META {"title":"Zbir resenja logaritamske jednacine","subject":"math","unit":"logaritamske_jednacine","topic_tags":["logaritamske jednacine","supstitucija","svojstva logaritama","kvadratna jednacina","eksponencijalna funkcija","domen"]} BRAINSPARK_META-->